function rJ(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(a,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var e0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function aJ(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function a(){var s=!1;try{s=this instanceof a}catch{}return s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var s=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(r,a,s.get?s:{enumerable:!0,get:function(){return e[a]}})}),r}var WN={exports:{}},G1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d_;function nJ(){if(d_)return G1;d_=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(a,s,i){var o=null;if(i!==void 0&&(o=""+i),s.key!==void 0&&(o=""+s.key),"key"in s){i={};for(var l in s)l!=="key"&&(i[l]=s[l])}else i=s;return s=i.ref,{$$typeof:e,type:a,key:o,ref:s!==void 0?s:null,props:i}}return G1.Fragment=t,G1.jsx=r,G1.jsxs=r,G1}var u_;function sJ(){return u_||(u_=1,WN.exports=nJ()),WN.exports}var n=sJ(),YN={exports:{}},un={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f_;function iJ(){if(f_)return un;f_=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),A=Symbol.iterator;function m(de){return de===null||typeof de!="object"?null:(de=A&&de[A]||de["@@iterator"],typeof de=="function"?de:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,x={};function v(de,ve,B){this.props=de,this.context=ve,this.refs=x,this.updater=B||h}v.prototype.isReactComponent={},v.prototype.setState=function(de,ve){if(typeof de!="object"&&typeof de!="function"&&de!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,de,ve,"setState")},v.prototype.forceUpdate=function(de){this.updater.enqueueForceUpdate(this,de,"forceUpdate")};function b(){}b.prototype=v.prototype;function j(de,ve,B){this.props=de,this.context=ve,this.refs=x,this.updater=B||h}var C=j.prototype=new b;C.constructor=j,y(C,v.prototype),C.isPureReactComponent=!0;var E=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},D=Object.prototype.hasOwnProperty;function L(de,ve,B,R,G,ne){return B=ne.ref,{$$typeof:e,type:de,key:ve,ref:B!==void 0?B:null,props:ne}}function F(de,ve){return L(de.type,ve,void 0,void 0,void 0,de.props)}function Q(de){return typeof de=="object"&&de!==null&&de.$$typeof===e}function U(de){var ve={"=":"=0",":":"=2"};return"$"+de.replace(/[=:]/g,function(B){return ve[B]})}var P=/\/+/g;function I(de,ve){return typeof de=="object"&&de!==null&&de.key!=null?U(""+de.key):ve.toString(36)}function z(){}function W(de){switch(de.status){case"fulfilled":return de.value;case"rejected":throw de.reason;default:switch(typeof de.status=="string"?de.then(z,z):(de.status="pending",de.then(function(ve){de.status==="pending"&&(de.status="fulfilled",de.value=ve)},function(ve){de.status==="pending"&&(de.status="rejected",de.reason=ve)})),de.status){case"fulfilled":return de.value;case"rejected":throw de.reason}}throw de}function ie(de,ve,B,R,G){var ne=typeof de;(ne==="undefined"||ne==="boolean")&&(de=null);var pe=!1;if(de===null)pe=!0;else switch(ne){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(de.$$typeof){case e:case t:pe=!0;break;case d:return pe=de._init,ie(pe(de._payload),ve,B,R,G)}}if(pe)return G=G(de),pe=R===""?"."+I(de,0):R,E(G)?(B="",pe!=null&&(B=pe.replace(P,"$&/")+"/"),ie(G,ve,B,"",function(Y){return Y})):G!=null&&(Q(G)&&(G=F(G,B+(G.key==null||de&&de.key===G.key?"":(""+G.key).replace(P,"$&/")+"/")+pe)),ve.push(G)),1;pe=0;var xe=R===""?".":R+":";if(E(de))for(var Ae=0;Ae<de.length;Ae++)R=de[Ae],ne=xe+I(R,Ae),pe+=ie(R,ve,B,ne,G);else if(Ae=m(de),typeof Ae=="function")for(de=Ae.call(de),Ae=0;!(R=de.next()).done;)R=R.value,ne=xe+I(R,Ae++),pe+=ie(R,ve,B,ne,G);else if(ne==="object"){if(typeof de.then=="function")return ie(W(de),ve,B,R,G);throw ve=String(de),Error("Objects are not valid as a React child (found: "+(ve==="[object Object]"?"object with keys {"+Object.keys(de).join(", ")+"}":ve)+"). If you meant to render a collection of children, use an array instead.")}return pe}function X(de,ve,B){if(de==null)return de;var R=[],G=0;return ie(de,R,"","",function(ne){return ve.call(B,ne,G++)}),R}function le(de){if(de._status===-1){var ve=de._result;ve=ve(),ve.then(function(B){(de._status===0||de._status===-1)&&(de._status=1,de._result=B)},function(B){(de._status===0||de._status===-1)&&(de._status=2,de._result=B)}),de._status===-1&&(de._status=0,de._result=ve)}if(de._status===1)return de._result.default;throw de._result}var re=typeof reportError=="function"?reportError:function(de){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ve=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof de=="object"&&de!==null&&typeof de.message=="string"?String(de.message):String(de),error:de});if(!window.dispatchEvent(ve))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",de);return}console.error(de)};function he(){}return un.Children={map:X,forEach:function(de,ve,B){X(de,function(){ve.apply(this,arguments)},B)},count:function(de){var ve=0;return X(de,function(){ve++}),ve},toArray:function(de){return X(de,function(ve){return ve})||[]},only:function(de){if(!Q(de))throw Error("React.Children.only expected to receive a single React element child.");return de}},un.Component=v,un.Fragment=r,un.Profiler=s,un.PureComponent=j,un.StrictMode=a,un.Suspense=c,un.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,un.__COMPILER_RUNTIME={__proto__:null,c:function(de){return k.H.useMemoCache(de)}},un.cache=function(de){return function(){return de.apply(null,arguments)}},un.cloneElement=function(de,ve,B){if(de==null)throw Error("The argument must be a React element, but you passed "+de+".");var R=y({},de.props),G=de.key,ne=void 0;if(ve!=null)for(pe in ve.ref!==void 0&&(ne=void 0),ve.key!==void 0&&(G=""+ve.key),ve)!D.call(ve,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&ve.ref===void 0||(R[pe]=ve[pe]);var pe=arguments.length-2;if(pe===1)R.children=B;else if(1<pe){for(var xe=Array(pe),Ae=0;Ae<pe;Ae++)xe[Ae]=arguments[Ae+2];R.children=xe}return L(de.type,G,void 0,void 0,ne,R)},un.createContext=function(de){return de={$$typeof:o,_currentValue:de,_currentValue2:de,_threadCount:0,Provider:null,Consumer:null},de.Provider=de,de.Consumer={$$typeof:i,_context:de},de},un.createElement=function(de,ve,B){var R,G={},ne=null;if(ve!=null)for(R in ve.key!==void 0&&(ne=""+ve.key),ve)D.call(ve,R)&&R!=="key"&&R!=="__self"&&R!=="__source"&&(G[R]=ve[R]);var pe=arguments.length-2;if(pe===1)G.children=B;else if(1<pe){for(var xe=Array(pe),Ae=0;Ae<pe;Ae++)xe[Ae]=arguments[Ae+2];G.children=xe}if(de&&de.defaultProps)for(R in pe=de.defaultProps,pe)G[R]===void 0&&(G[R]=pe[R]);return L(de,ne,void 0,void 0,null,G)},un.createRef=function(){return{current:null}},un.forwardRef=function(de){return{$$typeof:l,render:de}},un.isValidElement=Q,un.lazy=function(de){return{$$typeof:d,_payload:{_status:-1,_result:de},_init:le}},un.memo=function(de,ve){return{$$typeof:u,type:de,compare:ve===void 0?null:ve}},un.startTransition=function(de){var ve=k.T,B={};k.T=B;try{var R=de(),G=k.S;G!==null&&G(B,R),typeof R=="object"&&R!==null&&typeof R.then=="function"&&R.then(he,re)}catch(ne){re(ne)}finally{k.T=ve}},un.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},un.use=function(de){return k.H.use(de)},un.useActionState=function(de,ve,B){return k.H.useActionState(de,ve,B)},un.useCallback=function(de,ve){return k.H.useCallback(de,ve)},un.useContext=function(de){return k.H.useContext(de)},un.useDebugValue=function(){},un.useDeferredValue=function(de,ve){return k.H.useDeferredValue(de,ve)},un.useEffect=function(de,ve,B){var R=k.H;if(typeof B=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return R.useEffect(de,ve)},un.useId=function(){return k.H.useId()},un.useImperativeHandle=function(de,ve,B){return k.H.useImperativeHandle(de,ve,B)},un.useInsertionEffect=function(de,ve){return k.H.useInsertionEffect(de,ve)},un.useLayoutEffect=function(de,ve){return k.H.useLayoutEffect(de,ve)},un.useMemo=function(de,ve){return k.H.useMemo(de,ve)},un.useOptimistic=function(de,ve){return k.H.useOptimistic(de,ve)},un.useReducer=function(de,ve,B){return k.H.useReducer(de,ve,B)},un.useRef=function(de){return k.H.useRef(de)},un.useState=function(de){return k.H.useState(de)},un.useSyncExternalStore=function(de,ve,B){return k.H.useSyncExternalStore(de,ve,B)},un.useTransition=function(){return k.H.useTransition()},un.version="19.1.1",un}var h_;function Ux(){return h_||(h_=1,YN.exports=iJ()),YN.exports}var S=Ux();const ya=hf(S),oJ=rJ({__proto__:null,default:ya},[S]);var XN={exports:{}},W1={},JN={exports:{}},ZN={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A_;function lJ(){return A_||(A_=1,(function(e){function t(X,le){var re=X.length;X.push(le);e:for(;0<re;){var he=re-1>>>1,de=X[he];if(0<s(de,le))X[he]=le,X[re]=de,re=he;else break e}}function r(X){return X.length===0?null:X[0]}function a(X){if(X.length===0)return null;var le=X[0],re=X.pop();if(re!==le){X[0]=re;e:for(var he=0,de=X.length,ve=de>>>1;he<ve;){var B=2*(he+1)-1,R=X[B],G=B+1,ne=X[G];if(0>s(R,re))G<de&&0>s(ne,R)?(X[he]=ne,X[G]=re,he=G):(X[he]=R,X[B]=re,he=B);else if(G<de&&0>s(ne,re))X[he]=ne,X[G]=re,he=G;else break e}}return le}function s(X,le){var re=X.sortIndex-le.sortIndex;return re!==0?re:X.id-le.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,A=null,m=3,h=!1,y=!1,x=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function E(X){for(var le=r(u);le!==null;){if(le.callback===null)a(u);else if(le.startTime<=X)a(u),le.sortIndex=le.expirationTime,t(c,le);else break;le=r(u)}}function k(X){if(x=!1,E(X),!y)if(r(c)!==null)y=!0,D||(D=!0,I());else{var le=r(u);le!==null&&ie(k,le.startTime-X)}}var D=!1,L=-1,F=5,Q=-1;function U(){return v?!0:!(e.unstable_now()-Q<F)}function P(){if(v=!1,D){var X=e.unstable_now();Q=X;var le=!0;try{e:{y=!1,x&&(x=!1,j(L),L=-1),h=!0;var re=m;try{t:{for(E(X),A=r(c);A!==null&&!(A.expirationTime>X&&U());){var he=A.callback;if(typeof he=="function"){A.callback=null,m=A.priorityLevel;var de=he(A.expirationTime<=X);if(X=e.unstable_now(),typeof de=="function"){A.callback=de,E(X),le=!0;break t}A===r(c)&&a(c),E(X)}else a(c);A=r(c)}if(A!==null)le=!0;else{var ve=r(u);ve!==null&&ie(k,ve.startTime-X),le=!1}}break e}finally{A=null,m=re,h=!1}le=void 0}}finally{le?I():D=!1}}}var I;if(typeof C=="function")I=function(){C(P)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,W=z.port2;z.port1.onmessage=P,I=function(){W.postMessage(null)}}else I=function(){b(P,0)};function ie(X,le){L=b(function(){X(e.unstable_now())},le)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(X){switch(m){case 1:case 2:case 3:var le=3;break;default:le=m}var re=m;m=le;try{return X()}finally{m=re}},e.unstable_requestPaint=function(){v=!0},e.unstable_runWithPriority=function(X,le){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var re=m;m=X;try{return le()}finally{m=re}},e.unstable_scheduleCallback=function(X,le,re){var he=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?he+re:he):re=he,X){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=re+de,X={id:d++,callback:le,priorityLevel:X,startTime:re,expirationTime:de,sortIndex:-1},re>he?(X.sortIndex=re,t(u,X),r(c)===null&&X===r(u)&&(x?(j(L),L=-1):x=!0,ie(k,re-he))):(X.sortIndex=de,t(c,X),y||h||(y=!0,D||(D=!0,I()))),X},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(X){var le=m;return function(){var re=m;m=le;try{return X.apply(this,arguments)}finally{m=re}}}})(ZN)),ZN}var m_;function cJ(){return m_||(m_=1,JN.exports=lJ()),JN.exports}var ej={exports:{}},Mc={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function dJ(){if(p_)return Mc;p_=1;var e=Ux();function t(c){var u="https://react.dev/errors/"+c;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");function i(c,u,d){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:A==null?null:""+A,children:c,containerInfo:u,implementation:d}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,u){if(c==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Mc.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Mc.createPortal=function(c,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(t(299));return i(c,u,null,d)},Mc.flushSync=function(c){var u=o.T,d=a.p;try{if(o.T=null,a.p=2,c)return c()}finally{o.T=u,a.p=d,a.d.f()}},Mc.preconnect=function(c,u){typeof c=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,a.d.C(c,u))},Mc.prefetchDNS=function(c){typeof c=="string"&&a.d.D(c)},Mc.preinit=function(c,u){if(typeof c=="string"&&u&&typeof u.as=="string"){var d=u.as,A=l(d,u.crossOrigin),m=typeof u.integrity=="string"?u.integrity:void 0,h=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;d==="style"?a.d.S(c,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:A,integrity:m,fetchPriority:h}):d==="script"&&a.d.X(c,{crossOrigin:A,integrity:m,fetchPriority:h,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Mc.preinitModule=function(c,u){if(typeof c=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var d=l(u.as,u.crossOrigin);a.d.M(c,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&a.d.M(c)},Mc.preload=function(c,u){if(typeof c=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var d=u.as,A=l(d,u.crossOrigin);a.d.L(c,d,{crossOrigin:A,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Mc.preloadModule=function(c,u){if(typeof c=="string")if(u){var d=l(u.as,u.crossOrigin);a.d.m(c,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else a.d.m(c)},Mc.requestFormReset=function(c){a.d.r(c)},Mc.unstable_batchedUpdates=function(c,u){return c(u)},Mc.useFormState=function(c,u,d){return o.H.useFormState(c,u,d)},Mc.useFormStatus=function(){return o.H.useHostTransitionStatus()},Mc.version="19.1.1",Mc}var g_;function nR(){if(g_)return ej.exports;g_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ej.exports=dJ(),ej.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_;function uJ(){if(x_)return W1;x_=1;var e=cJ(),t=Ux(),r=nR();function a(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)p+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function i(f){var p=f,w=f;if(f.alternate)for(;p.return;)p=p.return;else{f=p;do p=f,(p.flags&4098)!==0&&(w=p.return),f=p.return;while(f)}return p.tag===3?w:null}function o(f){if(f.tag===13){var p=f.memoizedState;if(p===null&&(f=f.alternate,f!==null&&(p=f.memoizedState)),p!==null)return p.dehydrated}return null}function l(f){if(i(f)!==f)throw Error(a(188))}function c(f){var p=f.alternate;if(!p){if(p=i(f),p===null)throw Error(a(188));return p!==f?null:f}for(var w=f,T=p;;){var K=w.return;if(K===null)break;var ae=K.alternate;if(ae===null){if(T=K.return,T!==null){w=T;continue}break}if(K.child===ae.child){for(ae=K.child;ae;){if(ae===w)return l(K),f;if(ae===T)return l(K),p;ae=ae.sibling}throw Error(a(188))}if(w.return!==T.return)w=K,T=ae;else{for(var De=!1,lt=K.child;lt;){if(lt===w){De=!0,w=K,T=ae;break}if(lt===T){De=!0,T=K,w=ae;break}lt=lt.sibling}if(!De){for(lt=ae.child;lt;){if(lt===w){De=!0,w=ae,T=K;break}if(lt===T){De=!0,T=ae,w=K;break}lt=lt.sibling}if(!De)throw Error(a(189))}}if(w.alternate!==T)throw Error(a(190))}if(w.tag!==3)throw Error(a(188));return w.stateNode.current===w?f:p}function u(f){var p=f.tag;if(p===5||p===26||p===27||p===6)return f;for(f=f.child;f!==null;){if(p=u(f),p!==null)return p;f=f.sibling}return null}var d=Object.assign,A=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),C=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function I(f){return f===null||typeof f!="object"?null:(f=P&&f[P]||f["@@iterator"],typeof f=="function"?f:null)}var z=Symbol.for("react.client.reference");function W(f){if(f==null)return null;if(typeof f=="function")return f.$$typeof===z?null:f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case y:return"Fragment";case v:return"Profiler";case x:return"StrictMode";case k:return"Suspense";case D:return"SuspenseList";case Q:return"Activity"}if(typeof f=="object")switch(f.$$typeof){case h:return"Portal";case C:return(f.displayName||"Context")+".Provider";case j:return(f._context.displayName||"Context")+".Consumer";case E:var p=f.render;return f=f.displayName,f||(f=p.displayName||p.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case L:return p=f.displayName||null,p!==null?p:W(f.type)||"Memo";case F:p=f._payload,f=f._init;try{return W(f(p))}catch{}}return null}var ie=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},he=[],de=-1;function ve(f){return{current:f}}function B(f){0>de||(f.current=he[de],he[de]=null,de--)}function R(f,p){de++,he[de]=f.current,f.current=p}var G=ve(null),ne=ve(null),pe=ve(null),xe=ve(null);function Ae(f,p){switch(R(pe,p),R(ne,f),R(G,null),p.nodeType){case 9:case 11:f=(f=p.documentElement)&&(f=f.namespaceURI)?MF(f):0;break;default:if(f=p.tagName,p=p.namespaceURI)p=MF(p),f=UF(p,f);else switch(f){case"svg":f=1;break;case"math":f=2;break;default:f=0}}B(G),R(G,f)}function Y(){B(G),B(ne),B(pe)}function se(f){f.memoizedState!==null&&R(xe,f);var p=G.current,w=UF(p,f.type);p!==w&&(R(ne,f),R(G,w))}function ee(f){ne.current===f&&(B(G),B(ne)),xe.current===f&&(B(xe),$1._currentValue=re)}var be=Object.prototype.hasOwnProperty,Ce=e.unstable_scheduleCallback,ce=e.unstable_cancelCallback,J=e.unstable_shouldYield,ge=e.unstable_requestPaint,Je=e.unstable_now,Ke=e.unstable_getCurrentPriorityLevel,Fe=e.unstable_ImmediatePriority,nt=e.unstable_UserBlockingPriority,Se=e.unstable_NormalPriority,Me=e.unstable_LowPriority,at=e.unstable_IdlePriority,ke=e.log,Ve=e.unstable_setDisableYieldValue,ze=null,rt=null;function Ge(f){if(typeof ke=="function"&&Ve(f),rt&&typeof rt.setStrictMode=="function")try{rt.setStrictMode(ze,f)}catch{}}var bt=Math.clz32?Math.clz32:Ze,Le=Math.log,je=Math.LN2;function Ze(f){return f>>>=0,f===0?32:31-(Le(f)/je|0)|0}var Te=256,pt=4194304;function At(f){var p=f&42;if(p!==0)return p;switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return f&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return f}}function qe(f,p,w){var T=f.pendingLanes;if(T===0)return 0;var K=0,ae=f.suspendedLanes,De=f.pingedLanes;f=f.warmLanes;var lt=T&134217727;return lt!==0?(T=lt&~ae,T!==0?K=At(T):(De&=lt,De!==0?K=At(De):w||(w=lt&~f,w!==0&&(K=At(w))))):(lt=T&~ae,lt!==0?K=At(lt):De!==0?K=At(De):w||(w=T&~f,w!==0&&(K=At(w)))),K===0?0:p!==0&&p!==K&&(p&ae)===0&&(ae=K&-K,w=p&-p,ae>=w||ae===32&&(w&4194048)!==0)?p:K}function Pe(f,p){return(f.pendingLanes&~(f.suspendedLanes&~f.pingedLanes)&p)===0}function mt(f,p){switch(f){case 1:case 2:case 4:case 8:case 64:return p+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qe(){var f=Te;return Te<<=1,(Te&4194048)===0&&(Te=256),f}function st(){var f=pt;return pt<<=1,(pt&62914560)===0&&(pt=4194304),f}function tt(f){for(var p=[],w=0;31>w;w++)p.push(f);return p}function Ft(f,p){f.pendingLanes|=p,p!==268435456&&(f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0)}function _t(f,p,w,T,K,ae){var De=f.pendingLanes;f.pendingLanes=w,f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0,f.expiredLanes&=w,f.entangledLanes&=w,f.errorRecoveryDisabledLanes&=w,f.shellSuspendCounter=0;var lt=f.entanglements,Et=f.expirationTimes,Kt=f.hiddenUpdates;for(w=De&~w;0<w;){var hr=31-bt(w),xr=1<<hr;lt[hr]=0,Et[hr]=-1;var Yt=Kt[hr];if(Yt!==null)for(Kt[hr]=null,hr=0;hr<Yt.length;hr++){var er=Yt[hr];er!==null&&(er.lane&=-536870913)}w&=~xr}T!==0&&Dt(f,T,0),ae!==0&&K===0&&f.tag!==0&&(f.suspendedLanes|=ae&~(De&~p))}function Dt(f,p,w){f.pendingLanes|=p,f.suspendedLanes&=~p;var T=31-bt(p);f.entangledLanes|=p,f.entanglements[T]=f.entanglements[T]|1073741824|w&4194090}function Wt(f,p){var w=f.entangledLanes|=p;for(f=f.entanglements;w;){var T=31-bt(w),K=1<<T;K&p|f[T]&p&&(f[T]|=p),w&=~K}}function cr(f){switch(f){case 2:f=1;break;case 8:f=4;break;case 32:f=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:f=128;break;case 268435456:f=134217728;break;default:f=0}return f}function Dr(f){return f&=-f,2<f?8<f?(f&134217727)!==0?32:268435456:8:2}function Ea(){var f=le.p;return f!==0?f:(f=window.event,f===void 0?32:n_(f.type))}function Fr(f,p){var w=le.p;try{return le.p=f,p()}finally{le.p=w}}var jr=Math.random().toString(36).slice(2),Sr="__reactFiber$"+jr,ca="__reactProps$"+jr,oa="__reactContainer$"+jr,wt="__reactEvents$"+jr,Xt="__reactListeners$"+jr,Oe="__reactHandles$"+jr,ut="__reactResources$"+jr,ot="__reactMarker$"+jr;function dt(f){delete f[Sr],delete f[ca],delete f[wt],delete f[Xt],delete f[Oe]}function Ie(f){var p=f[Sr];if(p)return p;for(var w=f.parentNode;w;){if(p=w[oa]||w[Sr]){if(w=p.alternate,p.child!==null||w!==null&&w.child!==null)for(f=$F(f);f!==null;){if(w=f[Sr])return w;f=$F(f)}return p}f=w,w=f.parentNode}return null}function Ne(f){if(f=f[Sr]||f[oa]){var p=f.tag;if(p===5||p===6||p===13||p===26||p===27||p===3)return f}return null}function ct(f){var p=f.tag;if(p===5||p===26||p===27||p===6)return f.stateNode;throw Error(a(33))}function Ye(f){var p=f[ut];return p||(p=f[ut]={hoistableStyles:new Map,hoistableScripts:new Map}),p}function Ee(f){f[ot]=!0}var it=new Set,vt={};function It(f,p){Mt(f,p),Mt(f+"Capture",p)}function Mt(f,p){for(vt[f]=p,f=0;f<p.length;f++)it.add(p[f])}var fr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dr={},sr={};function Yr(f){return be.call(sr,f)?!0:be.call(dr,f)?!1:fr.test(f)?sr[f]=!0:(dr[f]=!0,!1)}function Na(f,p,w){if(Yr(p))if(w===null)f.removeAttribute(p);else{switch(typeof w){case"undefined":case"function":case"symbol":f.removeAttribute(p);return;case"boolean":var T=p.toLowerCase().slice(0,5);if(T!=="data-"&&T!=="aria-"){f.removeAttribute(p);return}}f.setAttribute(p,""+w)}}function Sa(f,p,w){if(w===null)f.removeAttribute(p);else{switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(p);return}f.setAttribute(p,""+w)}}function za(f,p,w,T){if(T===null)f.removeAttribute(w);else{switch(typeof T){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(w);return}f.setAttributeNS(p,w,""+T)}}var Nn,ds;function Bi(f){if(Nn===void 0)try{throw Error()}catch(w){var p=w.stack.trim().match(/\n( *(at )?)/);Nn=p&&p[1]||"",ds=-1<w.stack.indexOf(`
    at`)?" (<anonymous>)":-1<w.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nn+f+ds}var no=!1;function Ti(f,p){if(!f||no)return"";no=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var T={DetermineComponentFrameRoot:function(){try{if(p){var xr=function(){throw Error()};if(Object.defineProperty(xr.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xr,[])}catch(er){var Yt=er}Reflect.construct(f,[],xr)}else{try{xr.call()}catch(er){Yt=er}f.call(xr.prototype)}}else{try{throw Error()}catch(er){Yt=er}(xr=f())&&typeof xr.catch=="function"&&xr.catch(function(){})}}catch(er){if(er&&Yt&&typeof er.stack=="string")return[er.stack,Yt.stack]}return[null,null]}};T.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var K=Object.getOwnPropertyDescriptor(T.DetermineComponentFrameRoot,"name");K&&K.configurable&&Object.defineProperty(T.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var ae=T.DetermineComponentFrameRoot(),De=ae[0],lt=ae[1];if(De&&lt){var Et=De.split(`
`),Kt=lt.split(`
`);for(K=T=0;T<Et.length&&!Et[T].includes("DetermineComponentFrameRoot");)T++;for(;K<Kt.length&&!Kt[K].includes("DetermineComponentFrameRoot");)K++;if(T===Et.length||K===Kt.length)for(T=Et.length-1,K=Kt.length-1;1<=T&&0<=K&&Et[T]!==Kt[K];)K--;for(;1<=T&&0<=K;T--,K--)if(Et[T]!==Kt[K]){if(T!==1||K!==1)do if(T--,K--,0>K||Et[T]!==Kt[K]){var hr=`
`+Et[T].replace(" at new "," at ");return f.displayName&&hr.includes("<anonymous>")&&(hr=hr.replace("<anonymous>",f.displayName)),hr}while(1<=T&&0<=K);break}}}finally{no=!1,Error.prepareStackTrace=w}return(w=f?f.displayName||f.name:"")?Bi(w):""}function Ls(f){switch(f.tag){case 26:case 27:case 5:return Bi(f.type);case 16:return Bi("Lazy");case 13:return Bi("Suspense");case 19:return Bi("SuspenseList");case 0:case 15:return Ti(f.type,!1);case 11:return Ti(f.type.render,!1);case 1:return Ti(f.type,!0);case 31:return Bi("Activity");default:return""}}function us(f){try{var p="";do p+=Ls(f),f=f.return;while(f);return p}catch(w){return`
Error generating stack: `+w.message+`
`+w.stack}}function hn(f){switch(typeof f){case"bigint":case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function Ed(f){var p=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function vc(f){var p=Ed(f)?"checked":"value",w=Object.getOwnPropertyDescriptor(f.constructor.prototype,p),T=""+f[p];if(!f.hasOwnProperty(p)&&typeof w<"u"&&typeof w.get=="function"&&typeof w.set=="function"){var K=w.get,ae=w.set;return Object.defineProperty(f,p,{configurable:!0,get:function(){return K.call(this)},set:function(De){T=""+De,ae.call(this,De)}}),Object.defineProperty(f,p,{enumerable:w.enumerable}),{getValue:function(){return T},setValue:function(De){T=""+De},stopTracking:function(){f._valueTracker=null,delete f[p]}}}}function Ai(f){f._valueTracker||(f._valueTracker=vc(f))}function Uo(f){if(!f)return!1;var p=f._valueTracker;if(!p)return!0;var w=p.getValue(),T="";return f&&(T=Ed(f)?f.checked?"true":"false":f.value),f=T,f!==w?(p.setValue(f),!0):!1}function fs(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}var es=/[\n"\\]/g;function Ba(f){return f.replace(es,function(p){return"\\"+p.charCodeAt(0).toString(16)+" "})}function ql(f,p,w,T,K,ae,De,lt){f.name="",De!=null&&typeof De!="function"&&typeof De!="symbol"&&typeof De!="boolean"?f.type=De:f.removeAttribute("type"),p!=null?De==="number"?(p===0&&f.value===""||f.value!=p)&&(f.value=""+hn(p)):f.value!==""+hn(p)&&(f.value=""+hn(p)):De!=="submit"&&De!=="reset"||f.removeAttribute("value"),p!=null?au(f,De,hn(p)):w!=null?au(f,De,hn(w)):T!=null&&f.removeAttribute("value"),K==null&&ae!=null&&(f.defaultChecked=!!ae),K!=null&&(f.checked=K&&typeof K!="function"&&typeof K!="symbol"),lt!=null&&typeof lt!="function"&&typeof lt!="symbol"&&typeof lt!="boolean"?f.name=""+hn(lt):f.removeAttribute("name")}function ru(f,p,w,T,K,ae,De,lt){if(ae!=null&&typeof ae!="function"&&typeof ae!="symbol"&&typeof ae!="boolean"&&(f.type=ae),p!=null||w!=null){if(!(ae!=="submit"&&ae!=="reset"||p!=null))return;w=w!=null?""+hn(w):"",p=p!=null?""+hn(p):w,lt||p===f.value||(f.value=p),f.defaultValue=p}T=T??K,T=typeof T!="function"&&typeof T!="symbol"&&!!T,f.checked=lt?f.checked:!!T,f.defaultChecked=!!T,De!=null&&typeof De!="function"&&typeof De!="symbol"&&typeof De!="boolean"&&(f.name=De)}function au(f,p,w){p==="number"&&fs(f.ownerDocument)===f||f.defaultValue===""+w||(f.defaultValue=""+w)}function Kl(f,p,w,T){if(f=f.options,p){p={};for(var K=0;K<w.length;K++)p["$"+w[K]]=!0;for(w=0;w<f.length;w++)K=p.hasOwnProperty("$"+f[w].value),f[w].selected!==K&&(f[w].selected=K),K&&T&&(f[w].defaultSelected=!0)}else{for(w=""+hn(w),p=null,K=0;K<f.length;K++){if(f[K].value===w){f[K].selected=!0,T&&(f[K].defaultSelected=!0);return}p!==null||f[K].disabled||(p=f[K])}p!==null&&(p.selected=!0)}}function sl(f,p,w){if(p!=null&&(p=""+hn(p),p!==f.value&&(f.value=p),w==null)){f.defaultValue!==p&&(f.defaultValue=p);return}f.defaultValue=w!=null?""+hn(w):""}function Bd(f,p,w,T){if(p==null){if(T!=null){if(w!=null)throw Error(a(92));if(ie(T)){if(1<T.length)throw Error(a(93));T=T[0]}w=T}w==null&&(w=""),p=w}w=hn(p),f.defaultValue=w,T=f.textContent,T===w&&T!==""&&T!==null&&(f.value=T)}function Gl(f,p){if(p){var w=f.firstChild;if(w&&w===f.lastChild&&w.nodeType===3){w.nodeValue=p;return}}f.textContent=p}var vo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Td(f,p,w){var T=p.indexOf("--")===0;w==null||typeof w=="boolean"||w===""?T?f.setProperty(p,""):p==="float"?f.cssFloat="":f[p]="":T?f.setProperty(p,w):typeof w!="number"||w===0||vo.has(p)?p==="float"?f.cssFloat=w:f[p]=(""+w).trim():f[p]=w+"px"}function nu(f,p,w){if(p!=null&&typeof p!="object")throw Error(a(62));if(f=f.style,w!=null){for(var T in w)!w.hasOwnProperty(T)||p!=null&&p.hasOwnProperty(T)||(T.indexOf("--")===0?f.setProperty(T,""):T==="float"?f.cssFloat="":f[T]="");for(var K in p)T=p[K],p.hasOwnProperty(K)&&w[K]!==T&&Td(f,K,T)}else for(var ae in p)p.hasOwnProperty(ae)&&Td(f,ae,p[ae])}function su(f){if(f.indexOf("-")===-1)return!1;switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vi(f){return Yl.test(""+f)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":f}var mi=null;function ai(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var Ro=null,il=null;function Nr(f){var p=Ne(f);if(p&&(f=p.stateNode)){var w=f[ca]||null;e:switch(f=p.stateNode,p.type){case"input":if(ql(f,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name),p=w.name,w.type==="radio"&&p!=null){for(w=f;w.parentNode;)w=w.parentNode;for(w=w.querySelectorAll('input[name="'+Ba(""+p)+'"][type="radio"]'),p=0;p<w.length;p++){var T=w[p];if(T!==f&&T.form===f.form){var K=T[ca]||null;if(!K)throw Error(a(90));ql(T,K.value,K.defaultValue,K.defaultValue,K.checked,K.defaultChecked,K.type,K.name)}}for(p=0;p<w.length;p++)T=w[p],T.form===f.form&&Uo(T)}break e;case"textarea":sl(f,w.value,w.defaultValue);break e;case"select":p=w.value,p!=null&&Kl(f,!!w.multiple,p,!1)}}}var iu=!1;function Du(f,p,w){if(iu)return f(p,w);iu=!0;try{var T=f(p);return T}finally{if(iu=!1,(Ro!==null||il!==null)&&(Xa(),Ro&&(p=Ro,f=il,il=Ro=null,Nr(p),f)))for(p=0;p<f.length;p++)Nr(f[p])}}function so(f,p){var w=f.stateNode;if(w===null)return null;var T=w[ca]||null;if(T===null)return null;w=T[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(T=!T.disabled)||(f=f.type,T=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!T;break e;default:f=!1}if(f)return null;if(w&&typeof w!="function")throw Error(a(231,p,typeof w));return w}var Qo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ho=!1;if(Qo)try{var Fi={};Object.defineProperty(Fi,"passive",{get:function(){Ho=!0}}),window.addEventListener("test",Fi,Fi),window.removeEventListener("test",Fi,Fi)}catch{Ho=!1}var ws=null,Fd=null,Nl=null;function rd(){if(Nl)return Nl;var f,p=Fd,w=p.length,T,K="value"in ws?ws.value:ws.textContent,ae=K.length;for(f=0;f<w&&p[f]===K[f];f++);var De=w-f;for(T=1;T<=De&&p[w-T]===K[ae-T];T++);return Nl=K.slice(f,1<T?1-T:void 0)}function $o(f){var p=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&p===13&&(f=13)):f=p,f===10&&(f=13),32<=f||f===13?f:0}function bo(){return!0}function zo(){return!1}function pi(f){function p(w,T,K,ae,De){this._reactName=w,this._targetInst=K,this.type=T,this.nativeEvent=ae,this.target=De,this.currentTarget=null;for(var lt in f)f.hasOwnProperty(lt)&&(w=f[lt],this[lt]=w?w(ae):ae[lt]);return this.isDefaultPrevented=(ae.defaultPrevented!=null?ae.defaultPrevented:ae.returnValue===!1)?bo:zo,this.isPropagationStopped=zo,this}return d(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var w=this.nativeEvent;w&&(w.preventDefault?w.preventDefault():typeof w.returnValue!="unknown"&&(w.returnValue=!1),this.isDefaultPrevented=bo)},stopPropagation:function(){var w=this.nativeEvent;w&&(w.stopPropagation?w.stopPropagation():typeof w.cancelBubble!="unknown"&&(w.cancelBubble=!0),this.isPropagationStopped=bo)},persist:function(){},isPersistent:bo}),p}var _i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ol=pi(_i),io=d({},_i,{view:0,detail:0}),bc=pi(io),ts,Xl,qi,gi=d({},io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hr,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==qi&&(qi&&f.type==="mousemove"?(ts=f.screenX-qi.screenX,Xl=f.screenY-qi.screenY):Xl=ts=0,qi=f),ts)},movementY:function(f){return"movementY"in f?f.movementY:Xl}}),ll=pi(gi),Mu=d({},gi,{dataTransfer:0}),oo=pi(Mu),Os=d({},io,{relatedTarget:0}),cl=pi(Os),Jl=d({},_i,{animationName:0,elapsedTime:0,pseudoElement:0}),ad=pi(Jl),lo=d({},_i,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),ue=pi(lo),He=d({},_i,{data:0}),jt=pi(He),kt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mr(f){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(f):(f=lr[f])?!!p[f]:!1}function Hr(){return mr}var Kr=d({},io,{key:function(f){if(f.key){var p=kt[f.key]||f.key;if(p!=="Unidentified")return p}return f.type==="keypress"?(f=$o(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?Qt[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hr,charCode:function(f){return f.type==="keypress"?$o(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?$o(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),fa=pi(Kr),ma=d({},gi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nn=pi(ma),Bn=d({},io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hr}),hs=pi(Bn),te=d({},_i,{propertyName:0,elapsedTime:0,pseudoElement:0}),Re=pi(te),Nt=d({},gi,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),Bt=pi(Nt),Rt=d({},_i,{newState:0,oldState:0}),Zt=pi(Rt),yr=[9,13,27,32],Pr=Qo&&"CompositionEvent"in window,Vr=null;Qo&&"documentMode"in document&&(Vr=document.documentMode);var da=Qo&&"TextEvent"in window&&!Vr,ua=Qo&&(!Pr||Vr&&8<Vr&&11>=Vr),Ma=" ",An=!1;function Pa(f,p){switch(f){case"keyup":return yr.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ia(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var Rn=!1;function As(f,p){switch(f){case"compositionend":return ia(p);case"keypress":return p.which!==32?null:(An=!0,Ma);case"textInput":return f=p.data,f===Ma&&An?null:f;default:return null}}function co(f,p){if(Rn)return f==="compositionend"||!Pr&&Pa(f,p)?(f=rd(),Nl=Fd=ws=null,Rn=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return ua&&p.locale!=="ko"?null:p.data;default:return null}}var Va={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dn(f){var p=f&&f.nodeName&&f.nodeName.toLowerCase();return p==="input"?!!Va[f.type]:p==="textarea"}function wc(f,p,w,T){Ro?il?il.push(T):il=[T]:Ro=T,p=H2(p,"onChange"),0<p.length&&(w=new ol("onChange","change",null,w,T),f.push({event:w,listeners:p}))}var xi=null,qa=null;function dl(f){IF(f,0)}function Mn(f){var p=ct(f);if(Uo(p))return f}function jl(f,p){if(f==="change")return p}var Vs=!1;if(Qo){var kn;if(Qo){var Ta="oninput"in document;if(!Ta){var ni=document.createElement("div");ni.setAttribute("oninput","return;"),Ta=typeof ni.oninput=="function"}kn=Ta}else kn=!1;Vs=kn&&(!document.documentMode||9<document.documentMode)}function wo(){xi&&(xi.detachEvent("onpropertychange",No),qa=xi=null)}function No(f){if(f.propertyName==="value"&&Mn(qa)){var p=[];wc(p,qa,f,ai(f)),Du(dl,p)}}function Ds(f,p,w){f==="focusin"?(wo(),xi=p,qa=w,xi.attachEvent("onpropertychange",No)):f==="focusout"&&wo()}function Nc(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return Mn(qa)}function Zl(f,p){if(f==="click")return Mn(p)}function rs(f,p){if(f==="input"||f==="change")return Mn(p)}function Vn(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var mn=typeof Object.is=="function"?Object.is:Vn;function ms(f,p){if(mn(f,p))return!0;if(typeof f!="object"||f===null||typeof p!="object"||p===null)return!1;var w=Object.keys(f),T=Object.keys(p);if(w.length!==T.length)return!1;for(T=0;T<w.length;T++){var K=w[T];if(!be.call(p,K)||!mn(f[K],p[K]))return!1}return!0}function qn(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function si(f,p){var w=qn(f);f=0;for(var T;w;){if(w.nodeType===3){if(T=f+w.textContent.length,f<=p&&T>=p)return{node:w,offset:p-f};f=T}e:{for(;w;){if(w.nextSibling){w=w.nextSibling;break e}w=w.parentNode}w=void 0}w=qn(w)}}function ul(f,p){return f&&p?f===p?!0:f&&f.nodeType===3?!1:p&&p.nodeType===3?ul(f,p.parentNode):"contains"in f?f.contains(p):f.compareDocumentPosition?!!(f.compareDocumentPosition(p)&16):!1:!1}function ii(f){f=f!=null&&f.ownerDocument!=null&&f.ownerDocument.defaultView!=null?f.ownerDocument.defaultView:window;for(var p=fs(f.document);p instanceof f.HTMLIFrameElement;){try{var w=typeof p.contentWindow.location.href=="string"}catch{w=!1}if(w)f=p.contentWindow;else break;p=fs(f.document)}return p}function Kn(f){var p=f&&f.nodeName&&f.nodeName.toLowerCase();return p&&(p==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||p==="textarea"||f.contentEditable==="true")}var uo=Qo&&"documentMode"in document&&11>=document.documentMode,qs=null,Ks=null,as=null,Ki=!1;function yn(f,p,w){var T=w.window===w?w.document:w.nodeType===9?w:w.ownerDocument;Ki||qs==null||qs!==fs(T)||(T=qs,"selectionStart"in T&&Kn(T)?T={start:T.selectionStart,end:T.selectionEnd}:(T=(T.ownerDocument&&T.ownerDocument.defaultView||window).getSelection(),T={anchorNode:T.anchorNode,anchorOffset:T.anchorOffset,focusNode:T.focusNode,focusOffset:T.focusOffset}),as&&ms(as,T)||(as=T,T=H2(Ks,"onSelect"),0<T.length&&(p=new ol("onSelect","select",null,p,w),f.push({event:p,listeners:T}),p.target=qs)))}function Ns(f,p){var w={};return w[f.toLowerCase()]=p.toLowerCase(),w["Webkit"+f]="webkit"+p,w["Moz"+f]="moz"+p,w}var pa={animationend:Ns("Animation","AnimationEnd"),animationiteration:Ns("Animation","AnimationIteration"),animationstart:Ns("Animation","AnimationStart"),transitionrun:Ns("Transition","TransitionRun"),transitionstart:Ns("Transition","TransitionStart"),transitioncancel:Ns("Transition","TransitionCancel"),transitionend:Ns("Transition","TransitionEnd")},$a={},Qn={};Qo&&(Qn=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);function Ja(f){if($a[f])return $a[f];if(!pa[f])return f;var p=pa[f],w;for(w in p)if(p.hasOwnProperty(w)&&w in Qn)return $a[f]=p[w];return f}var jo=Ja("animationend"),Sl=Ja("animationiteration"),fl=Ja("animationstart"),Vo=Ja("transitionrun"),_d=Ja("transitionstart"),kd=Ja("transitioncancel"),jc=Ja("transitionend"),ec=new Map,nd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nd.push("scrollEnd");function ps(f,p){ec.set(f,p),It(p,[f])}var ki=new WeakMap;function Ka(f,p){if(typeof f=="object"&&f!==null){var w=ki.get(f);return w!==void 0?w:(p={value:f,source:p,stack:us(p)},ki.set(f,p),p)}return{value:f,source:p,stack:us(p)}}var Ga=[],Hn=0,ns=0;function hl(){for(var f=Hn,p=ns=Hn=0;p<f;){var w=Ga[p];Ga[p++]=null;var T=Ga[p];Ga[p++]=null;var K=Ga[p];Ga[p++]=null;var ae=Ga[p];if(Ga[p++]=null,T!==null&&K!==null){var De=T.pending;De===null?K.next=K:(K.next=De.next,De.next=K),T.pending=K}ae!==0&&ou(w,K,ae)}}function sd(f,p,w,T){Ga[Hn++]=f,Ga[Hn++]=p,Ga[Hn++]=w,Ga[Hn++]=T,ns|=T,f.lanes|=T,f=f.alternate,f!==null&&(f.lanes|=T)}function tc(f,p,w,T){return sd(f,p,w,T),Cc(f)}function Sc(f,p){return sd(f,null,null,p),Cc(f)}function ou(f,p,w){f.lanes|=w;var T=f.alternate;T!==null&&(T.lanes|=w);for(var K=!1,ae=f.return;ae!==null;)ae.childLanes|=w,T=ae.alternate,T!==null&&(T.childLanes|=w),ae.tag===22&&(f=ae.stateNode,f===null||f._visibility&1||(K=!0)),f=ae,ae=ae.return;return f.tag===3?(ae=f.stateNode,K&&p!==null&&(K=31-bt(w),f=ae.hiddenUpdates,T=f[K],T===null?f[K]=[p]:T.push(p),p.lane=w|536870912),ae):null}function Cc(f){if(50<zt)throw zt=0,or=null,Error(a(185));for(var p=f.return;p!==null;)f=p,p=f.return;return f.tag===3?f.stateNode:null}var Tn={};function js(f,p,w,T){this.tag=f,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yi(f,p,w,T){return new js(f,p,w,T)}function id(f){return f=f.prototype,!(!f||!f.isReactComponent)}function fo(f,p){var w=f.alternate;return w===null?(w=yi(f.tag,p,f.key,f.mode),w.elementType=f.elementType,w.type=f.type,w.stateNode=f.stateNode,w.alternate=f,f.alternate=w):(w.pendingProps=p,w.type=f.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=f.flags&65011712,w.childLanes=f.childLanes,w.lanes=f.lanes,w.child=f.child,w.memoizedProps=f.memoizedProps,w.memoizedState=f.memoizedState,w.updateQueue=f.updateQueue,p=f.dependencies,w.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},w.sibling=f.sibling,w.index=f.index,w.ref=f.ref,w.refCleanup=f.refCleanup,w}function Id(f,p){f.flags&=65011714;var w=f.alternate;return w===null?(f.childLanes=0,f.lanes=p,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=w.childLanes,f.lanes=w.lanes,f.child=w.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=w.memoizedProps,f.memoizedState=w.memoizedState,f.updateQueue=w.updateQueue,f.type=w.type,p=w.dependencies,f.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),f}function Ec(f,p,w,T,K,ae){var De=0;if(T=f,typeof f=="function")id(f)&&(De=1);else if(typeof f=="string")De=$X(f,w,G.current)?26:f==="html"||f==="head"||f==="body"?27:5;else e:switch(f){case Q:return f=yi(31,w,p,K),f.elementType=Q,f.lanes=ae,f;case y:return qo(w.children,K,ae,p);case x:De=8,K|=24;break;case v:return f=yi(12,w,p,K|2),f.elementType=v,f.lanes=ae,f;case k:return f=yi(13,w,p,K),f.elementType=k,f.lanes=ae,f;case D:return f=yi(19,w,p,K),f.elementType=D,f.lanes=ae,f;default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case b:case C:De=10;break e;case j:De=9;break e;case E:De=11;break e;case L:De=14;break e;case F:De=16,T=null;break e}De=29,w=Error(a(130,f===null?"null":typeof f,"")),T=null}return p=yi(De,w,p,K),p.elementType=f,p.type=T,p.lanes=ae,p}function qo(f,p,w,T){return f=yi(7,f,T,p),f.lanes=w,f}function pf(f,p,w){return f=yi(6,f,null,p),f.lanes=w,f}function lu(f,p,w){return p=yi(4,f.children!==null?f.children:[],f.key,p),p.lanes=w,p.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},p}var Bc=[],Cl=0,rc=null,ph=0,El=[],Ko=0,cu=null,Bl=1,od="";function du(f,p){Bc[Cl++]=ph,Bc[Cl++]=rc,rc=f,ph=p}function mm(f,p,w){El[Ko++]=Bl,El[Ko++]=od,El[Ko++]=cu,cu=f;var T=Bl;f=od;var K=32-bt(T)-1;T&=~(1<<K),w+=1;var ae=32-bt(p)+K;if(30<ae){var De=K-K%5;ae=(T&(1<<De)-1).toString(32),T>>=De,K-=De,Bl=1<<32-bt(p)+K|w<<K|T,od=ae+f}else Bl=1<<ae|w<<K|T,od=f}function uu(f){f.return!==null&&(du(f,1),mm(f,1,0))}function Tc(f){for(;f===rc;)rc=Bc[--Cl],Bc[Cl]=null,ph=Bc[--Cl],Bc[Cl]=null;for(;f===cu;)cu=El[--Ko],El[Ko]=null,od=El[--Ko],El[Ko]=null,Bl=El[--Ko],El[Ko]=null}var Ss=null,Ms=null,jn=!1,ld=null,Fc=!1,iA=Error(a(519));function fu(f){var p=Error(a(418,""));throw hu(Ka(p,f)),iA}function pm(f){var p=f.stateNode,w=f.type,T=f.memoizedProps;switch(p[Sr]=f,p[ca]=T,w){case"dialog":En("cancel",p),En("close",p);break;case"iframe":case"object":case"embed":En("load",p);break;case"video":case"audio":for(w=0;w<D1.length;w++)En(D1[w],p);break;case"source":En("error",p);break;case"img":case"image":case"link":En("error",p),En("load",p);break;case"details":En("toggle",p);break;case"input":En("invalid",p),ru(p,T.value,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name,!0),Ai(p);break;case"select":En("invalid",p);break;case"textarea":En("invalid",p),Bd(p,T.value,T.defaultValue,T.children),Ai(p)}w=T.children,typeof w!="string"&&typeof w!="number"&&typeof w!="bigint"||p.textContent===""+w||T.suppressHydrationWarning===!0||DF(p.textContent,w)?(T.popover!=null&&(En("beforetoggle",p),En("toggle",p)),T.onScroll!=null&&En("scroll",p),T.onScrollEnd!=null&&En("scrollend",p),T.onClick!=null&&(p.onclick=$2),p=!0):p=!1,p||fu(f)}function ho(f){for(Ss=f.return;Ss;)switch(Ss.tag){case 5:case 13:Fc=!1;return;case 27:case 3:Fc=!0;return;default:Ss=Ss.return}}function ss(f){if(f!==Ss)return!1;if(!jn)return ho(f),jn=!0,!1;var p=f.tag,w;if((w=p!==3&&p!==27)&&((w=p===5)&&(w=f.type,w=!(w!=="form"&&w!=="button")||LN(f.type,f.memoizedProps)),w=!w),w&&Ms&&fu(f),ho(f),p===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));e:{for(f=f.nextSibling,p=0;f;){if(f.nodeType===8)if(w=f.data,w==="/$"){if(p===0){Ms=Qf(f.nextSibling);break e}p--}else w!=="$"&&w!=="$!"&&w!=="$?"||p++;f=f.nextSibling}Ms=null}}else p===27?(p=Ms,Pm(f.type)?(f=UN,UN=null,Ms=f):Ms=p):Ms=Ss?Qf(f.stateNode.nextSibling):null;return!0}function gs(){Ms=Ss=null,jn=!1}function gm(){var f=ld;return f!==null&&(Dc===null?Dc=f:Dc.push.apply(Dc,f),ld=null),f}function hu(f){ld===null?ld=[f]:ld.push(f)}var Ii=ve(null),In=null,cd=null;function _c(f,p,w){R(Ii,p._currentValue),p._currentValue=w}function Go(f){f._currentValue=Ii.current,B(Ii)}function gf(f,p,w){for(;f!==null;){var T=f.alternate;if((f.childLanes&p)!==p?(f.childLanes|=p,T!==null&&(T.childLanes|=p)):T!==null&&(T.childLanes&p)!==p&&(T.childLanes|=p),f===w)break;f=f.return}}function xf(f,p,w,T){var K=f.child;for(K!==null&&(K.return=f);K!==null;){var ae=K.dependencies;if(ae!==null){var De=K.child;ae=ae.firstContext;e:for(;ae!==null;){var lt=ae;ae=K;for(var Et=0;Et<p.length;Et++)if(lt.context===p[Et]){ae.lanes|=w,lt=ae.alternate,lt!==null&&(lt.lanes|=w),gf(ae.return,w,f),T||(De=null);break e}ae=lt.next}}else if(K.tag===18){if(De=K.return,De===null)throw Error(a(341));De.lanes|=w,ae=De.alternate,ae!==null&&(ae.lanes|=w),gf(De,w,f),De=null}else De=K.child;if(De!==null)De.return=K;else for(De=K;De!==null;){if(De===f){De=null;break}if(K=De.sibling,K!==null){K.return=De.return,De=K;break}De=De.return}K=De}}function Au(f,p,w,T){f=null;for(var K=p,ae=!1;K!==null;){if(!ae){if((K.flags&524288)!==0)ae=!0;else if((K.flags&262144)!==0)break}if(K.tag===10){var De=K.alternate;if(De===null)throw Error(a(387));if(De=De.memoizedProps,De!==null){var lt=K.type;mn(K.pendingProps.value,De.value)||(f!==null?f.push(lt):f=[lt])}}else if(K===xe.current){if(De=K.alternate,De===null)throw Error(a(387));De.memoizedState.memoizedState!==K.memoizedState.memoizedState&&(f!==null?f.push($1):f=[$1])}K=K.return}f!==null&&xf(p,f,w,T),p.flags|=262144}function gh(f){for(f=f.firstContext;f!==null;){if(!mn(f.context._currentValue,f.memoizedValue))return!0;f=f.next}return!1}function Al(f){In=f,cd=null,f=f.dependencies,f!==null&&(f.firstContext=null)}function Us(f){return Uu(In,f)}function So(f,p){return In===null&&Al(f),Uu(f,p)}function Uu(f,p){var w=p._currentValue;if(p={context:p,memoizedValue:w,next:null},cd===null){if(f===null)throw Error(a(308));cd=p,f.dependencies={lanes:0,firstContext:p},f.flags|=524288}else cd=cd.next=p;return w}var D0=typeof AbortController<"u"?AbortController:function(){var f=[],p=this.signal={aborted:!1,addEventListener:function(w,T){f.push(T)}};this.abort=function(){p.aborted=!0,f.forEach(function(w){return w()})}},oA=e.unstable_scheduleCallback,M0=e.unstable_NormalPriority,vi={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lA(){return{controller:new D0,data:new Map,refCount:0}}function yf(f){f.refCount--,f.refCount===0&&oA(M0,function(){f.controller.abort()})}var vf=null,cA=0,Pd=0,Tl=null;function U0(f,p){if(vf===null){var w=vf=[];cA=0,Pd=CN(),Tl={status:"pending",value:void 0,then:function(T){w.push(T)}}}return cA++,p.then(dA,dA),p}function dA(){if(--cA===0&&vf!==null){Tl!==null&&(Tl.status="fulfilled");var f=vf;vf=null,Pd=0,Tl=null;for(var p=0;p<f.length;p++)(0,f[p])()}}function uA(f,p){var w=[],T={status:"pending",value:null,reason:null,then:function(K){w.push(K)}};return f.then(function(){T.status="fulfilled",T.value=p;for(var K=0;K<w.length;K++)(0,w[K])(p)},function(K){for(T.status="rejected",T.reason=K,K=0;K<w.length;K++)(0,w[K])(void 0)}),T}var g=X.S;X.S=function(f,p){typeof p=="object"&&p!==null&&typeof p.then=="function"&&U0(f,p),g!==null&&g(f,p)};var N=ve(null);function _(){var f=N.current;return f!==null?f:Rs.pooledCache}function H(f,p){p===null?R(N,N.current):R(N,p.pool)}function Z(){var f=_();return f===null?null:{parent:vi._currentValue,pool:f}}var oe=Error(a(460)),fe=Error(a(474)),me=Error(a(542)),we={then:function(){}};function Be(f){return f=f.status,f==="fulfilled"||f==="rejected"}function $e(){}function ft(f,p,w){switch(w=f[w],w===void 0?f.push(p):w!==p&&(p.then($e,$e),p=w),p.status){case"fulfilled":return p.value;case"rejected":throw f=p.reason,gt(f),f;default:if(typeof p.status=="string")p.then($e,$e);else{if(f=Rs,f!==null&&100<f.shellSuspendCounter)throw Error(a(482));f=p,f.status="pending",f.then(function(T){if(p.status==="pending"){var K=p;K.status="fulfilled",K.value=T}},function(T){if(p.status==="pending"){var K=p;K.status="rejected",K.reason=T}})}switch(p.status){case"fulfilled":return p.value;case"rejected":throw f=p.reason,gt(f),f}throw Ue=p,oe}}var Ue=null;function Xe(){if(Ue===null)throw Error(a(459));var f=Ue;return Ue=null,f}function gt(f){if(f===oe||f===me)throw Error(a(483))}var St=!1;function et(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ht(f,p){f=f.updateQueue,p.updateQueue===f&&(p.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,callbacks:null})}function Ct(f){return{lane:f,tag:0,payload:null,callback:null,next:null}}function Pt(f,p,w){var T=f.updateQueue;if(T===null)return null;if(T=T.shared,(os&2)!==0){var K=T.pending;return K===null?p.next=p:(p.next=K.next,K.next=p),T.pending=p,p=Cc(f),ou(f,null,w),p}return sd(f,T,p,w),Cc(f)}function Tt(f,p,w){if(p=p.updateQueue,p!==null&&(p=p.shared,(w&4194048)!==0)){var T=p.lanes;T&=f.pendingLanes,w|=T,p.lanes=w,Wt(f,w)}}function nr(f,p){var w=f.updateQueue,T=f.alternate;if(T!==null&&(T=T.updateQueue,w===T)){var K=null,ae=null;if(w=w.firstBaseUpdate,w!==null){do{var De={lane:w.lane,tag:w.tag,payload:w.payload,callback:null,next:null};ae===null?K=ae=De:ae=ae.next=De,w=w.next}while(w!==null);ae===null?K=ae=p:ae=ae.next=p}else K=ae=p;w={baseState:T.baseState,firstBaseUpdate:K,lastBaseUpdate:ae,shared:T.shared,callbacks:T.callbacks},f.updateQueue=w;return}f=w.lastBaseUpdate,f===null?w.firstBaseUpdate=p:f.next=p,w.lastBaseUpdate=p}var Jt=!1;function wr(){if(Jt){var f=Tl;if(f!==null)throw f}}function rr(f,p,w,T){Jt=!1;var K=f.updateQueue;St=!1;var ae=K.firstBaseUpdate,De=K.lastBaseUpdate,lt=K.shared.pending;if(lt!==null){K.shared.pending=null;var Et=lt,Kt=Et.next;Et.next=null,De===null?ae=Kt:De.next=Kt,De=Et;var hr=f.alternate;hr!==null&&(hr=hr.updateQueue,lt=hr.lastBaseUpdate,lt!==De&&(lt===null?hr.firstBaseUpdate=Kt:lt.next=Kt,hr.lastBaseUpdate=Et))}if(ae!==null){var xr=K.baseState;De=0,hr=Kt=Et=null,lt=ae;do{var Yt=lt.lane&-536870913,er=Yt!==lt.lane;if(er?(_n&Yt)===Yt:(T&Yt)===Yt){Yt!==0&&Yt===Pd&&(Jt=!0),hr!==null&&(hr=hr.next={lane:0,tag:lt.tag,payload:lt.payload,callback:null,next:null});e:{var Ra=f,_a=lt;Yt=p;var Hs=w;switch(_a.tag){case 1:if(Ra=_a.payload,typeof Ra=="function"){xr=Ra.call(Hs,xr,Yt);break e}xr=Ra;break e;case 3:Ra.flags=Ra.flags&-65537|128;case 0:if(Ra=_a.payload,Yt=typeof Ra=="function"?Ra.call(Hs,xr,Yt):Ra,Yt==null)break e;xr=d({},xr,Yt);break e;case 2:St=!0}}Yt=lt.callback,Yt!==null&&(f.flags|=64,er&&(f.flags|=8192),er=K.callbacks,er===null?K.callbacks=[Yt]:er.push(Yt))}else er={lane:Yt,tag:lt.tag,payload:lt.payload,callback:lt.callback,next:null},hr===null?(Kt=hr=er,Et=xr):hr=hr.next=er,De|=Yt;if(lt=lt.next,lt===null){if(lt=K.shared.pending,lt===null)break;er=lt,lt=er.next,er.next=null,K.lastBaseUpdate=er,K.shared.pending=null}}while(!0);hr===null&&(Et=xr),K.baseState=Et,K.firstBaseUpdate=Kt,K.lastBaseUpdate=hr,ae===null&&(K.shared.lanes=0),Bh|=De,f.lanes=De,f.memoizedState=xr}}function $r(f,p){if(typeof f!="function")throw Error(a(191,f));f.call(p)}function ja(f,p){var w=f.callbacks;if(w!==null)for(f.callbacks=null,f=0;f<w.length;f++)$r(w[f],p)}var kr=ve(null),$t=ve(0);function gr(f,p){f=Mf,R($t,f),R(kr,p),Mf=f|p.baseLanes}function ga(){R($t,Mf),R(kr,kr.current)}function Cr(){Mf=$t.current,B(kr),B($t)}var Qr=0,Mr=null,qr=null,ha=null,aa=!1,vn=!1,bn=!1,Wa=0,Xr=0,xa=null,ln=0;function Zr(){throw Error(a(321))}function an(f,p){if(p===null)return!1;for(var w=0;w<p.length&&w<f.length;w++)if(!mn(f[w],p[w]))return!1;return!0}function Gs(f,p,w,T,K,ae){return Qr=ae,Mr=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,X.H=f===null||f.memoizedState===null?N2:j2,bn=!1,ae=w(T,K),bn=!1,vn&&(ae=oi(p,w,T,K)),Fn(f),ae}function Fn(f){X.H=hg;var p=qr!==null&&qr.next!==null;if(Qr=0,ha=qr=Mr=null,aa=!1,Xr=0,xa=null,p)throw Error(a(300));f===null||Yo||(f=f.dependencies,f!==null&&gh(f)&&(Yo=!0))}function oi(f,p,w,T){Mr=f;var K=0;do{if(vn&&(xa=null),Xr=0,vn=!1,25<=K)throw Error(a(301));if(K+=1,ha=qr=null,f.updateQueue!=null){var ae=f.updateQueue;ae.lastEffect=null,ae.events=null,ae.stores=null,ae.memoCache!=null&&(ae.memoCache.index=0)}X.H=Ag,ae=p(w,T)}while(vn);return ae}function pn(){var f=X.H,p=f.useState()[0];return p=typeof p.then=="function"?Ws(p):p,f=f.useState()[0],(qr!==null?qr.memoizedState:null)!==f&&(Mr.flags|=1024),p}function Ua(){var f=Wa!==0;return Wa=0,f}function Gi(f,p,w){p.updateQueue=f.updateQueue,p.flags&=-2053,f.lanes&=~w}function Pi(f){if(aa){for(f=f.memoizedState;f!==null;){var p=f.queue;p!==null&&(p.pending=null),f=f.next}aa=!1}Qr=0,ha=qr=Mr=null,vn=!1,Xr=Wa=0,xa=null}function $n(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ha===null?Mr.memoizedState=ha=f:ha=ha.next=f,ha}function cn(){if(qr===null){var f=Mr.alternate;f=f!==null?f.memoizedState:null}else f=qr.next;var p=ha===null?Mr.memoizedState:ha.next;if(p!==null)ha=p,qr=f;else{if(f===null)throw Mr.alternate===null?Error(a(467)):Error(a(310));qr=f,f={memoizedState:qr.memoizedState,baseState:qr.baseState,baseQueue:qr.baseQueue,queue:qr.queue,next:null},ha===null?Mr.memoizedState=ha=f:ha=ha.next=f}return ha}function li(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ws(f){var p=Xr;return Xr+=1,xa===null&&(xa=[]),f=ft(xa,f,p),p=Mr,(ha===null?p.memoizedState:ha.next)===null&&(p=p.alternate,X.H=p===null||p.memoizedState===null?N2:j2),f}function Ya(f){if(f!==null&&typeof f=="object"){if(typeof f.then=="function")return Ws(f);if(f.$$typeof===C)return Us(f)}throw Error(a(438,String(f)))}function ci(f){var p=null,w=Mr.updateQueue;if(w!==null&&(p=w.memoCache),p==null){var T=Mr.alternate;T!==null&&(T=T.updateQueue,T!==null&&(T=T.memoCache,T!=null&&(p={data:T.data.map(function(K){return K.slice()}),index:0})))}if(p==null&&(p={data:[],index:0}),w===null&&(w=li(),Mr.updateQueue=w),w.memoCache=p,w=p.data[p.index],w===void 0)for(w=p.data[p.index]=Array(f),T=0;T<f;T++)w[T]=U;return p.index++,w}function xs(f,p){return typeof p=="function"?p(f):p}function Fl(f){var p=cn();return Wo(p,qr,f)}function Wo(f,p,w){var T=f.queue;if(T===null)throw Error(a(311));T.lastRenderedReducer=w;var K=f.baseQueue,ae=T.pending;if(ae!==null){if(K!==null){var De=K.next;K.next=ae.next,ae.next=De}p.baseQueue=K=ae,T.pending=null}if(ae=f.baseState,K===null)f.memoizedState=ae;else{p=K.next;var lt=De=null,Et=null,Kt=p,hr=!1;do{var xr=Kt.lane&-536870913;if(xr!==Kt.lane?(_n&xr)===xr:(Qr&xr)===xr){var Yt=Kt.revertLane;if(Yt===0)Et!==null&&(Et=Et.next={lane:0,revertLane:0,action:Kt.action,hasEagerState:Kt.hasEagerState,eagerState:Kt.eagerState,next:null}),xr===Pd&&(hr=!0);else if((Qr&Yt)===Yt){Kt=Kt.next,Yt===Pd&&(hr=!0);continue}else xr={lane:0,revertLane:Kt.revertLane,action:Kt.action,hasEagerState:Kt.hasEagerState,eagerState:Kt.eagerState,next:null},Et===null?(lt=Et=xr,De=ae):Et=Et.next=xr,Mr.lanes|=Yt,Bh|=Yt;xr=Kt.action,bn&&w(ae,xr),ae=Kt.hasEagerState?Kt.eagerState:w(ae,xr)}else Yt={lane:xr,revertLane:Kt.revertLane,action:Kt.action,hasEagerState:Kt.hasEagerState,eagerState:Kt.eagerState,next:null},Et===null?(lt=Et=Yt,De=ae):Et=Et.next=Yt,Mr.lanes|=xr,Bh|=xr;Kt=Kt.next}while(Kt!==null&&Kt!==p);if(Et===null?De=ae:Et.next=lt,!mn(ae,f.memoizedState)&&(Yo=!0,hr&&(w=Tl,w!==null)))throw w;f.memoizedState=ae,f.baseState=De,f.baseQueue=Et,T.lastRenderedState=ae}return K===null&&(T.lanes=0),[f.memoizedState,T.dispatch]}function Cs(f){var p=cn(),w=p.queue;if(w===null)throw Error(a(311));w.lastRenderedReducer=f;var T=w.dispatch,K=w.pending,ae=p.memoizedState;if(K!==null){w.pending=null;var De=K=K.next;do ae=f(ae,De.action),De=De.next;while(De!==K);mn(ae,p.memoizedState)||(Yo=!0),p.memoizedState=ae,p.baseQueue===null&&(p.baseState=ae),w.lastRenderedState=ae}return[ae,T]}function Ld(f,p,w){var T=Mr,K=cn(),ae=jn;if(ae){if(w===void 0)throw Error(a(407));w=w()}else w=p();var De=!mn((qr||K).memoizedState,w);De&&(K.memoizedState=w,Yo=!0),K=K.queue;var lt=ac.bind(null,T,K,f);if(mu(2048,8,lt,[f]),K.getSnapshot!==p||De||ha!==null&&ha.memoizedState.tag&1){if(T.flags|=2048,_l(9,Hu(),kc.bind(null,T,K,w,p),null),Rs===null)throw Error(a(349));ae||(Qr&124)!==0||Od(T,p,w)}return w}function Od(f,p,w){f.flags|=16384,f={getSnapshot:p,value:w},p=Mr.updateQueue,p===null?(p=li(),Mr.updateQueue=p,p.stores=[f]):(w=p.stores,w===null?p.stores=[f]:w.push(f))}function kc(f,p,w,T){p.value=w,p.getSnapshot=T,fA(p)&&xm(f)}function ac(f,p,w){return w(function(){fA(p)&&xm(f)})}function fA(f){var p=f.getSnapshot;f=f.value;try{var w=p();return!mn(f,w)}catch{return!0}}function xm(f){var p=Sc(f,2);p!==null&&_r(p,f,2)}function Dd(f){var p=$n();if(typeof f=="function"){var w=f;if(f=w(),bn){Ge(!0);try{w()}finally{Ge(!1)}}}return p.memoizedState=p.baseState=f,p.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:f},p}function Li(f,p,w,T){return f.baseState=w,Wo(f,qr,typeof T=="function"?T:xs)}function hA(f,p,w,T,K){if(R0(f))throw Error(a(485));if(f=p.action,f!==null){var ae={payload:K,action:f,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(De){ae.listeners.push(De)}};X.T!==null?w(!0):ae.isTransition=!1,T(ae),w=p.pending,w===null?(ae.next=p.pending=ae,AA(p,ae)):(ae.next=w.next,p.pending=w.next=ae)}}function AA(f,p){var w=p.action,T=p.payload,K=f.state;if(p.isTransition){var ae=X.T,De={};X.T=De;try{var lt=w(K,T),Et=X.S;Et!==null&&Et(De,lt),mA(f,p,lt)}catch(Kt){Ic(f,p,Kt)}finally{X.T=ae}}else try{ae=w(K,T),mA(f,p,ae)}catch(Kt){Ic(f,p,Kt)}}function mA(f,p,w){w!==null&&typeof w=="object"&&typeof w.then=="function"?w.then(function(T){bf(f,p,T)},function(T){return Ic(f,p,T)}):bf(f,p,w)}function bf(f,p,w){p.status="fulfilled",p.value=w,Ru(p),f.state=w,p=f.pending,p!==null&&(w=p.next,w===p?f.pending=null:(w=w.next,p.next=w,AA(f,w)))}function Ic(f,p,w){var T=f.pending;if(f.pending=null,T!==null){T=T.next;do p.status="rejected",p.reason=w,Ru(p),p=p.next;while(p!==T)}f.action=null}function Ru(f){f=f.listeners;for(var p=0;p<f.length;p++)(0,f[p])()}function xh(f,p){return p}function Md(f,p){if(jn){var w=Rs.formState;if(w!==null){e:{var T=Mr;if(jn){if(Ms){t:{for(var K=Ms,ae=Fc;K.nodeType!==8;){if(!ae){K=null;break t}if(K=Qf(K.nextSibling),K===null){K=null;break t}}ae=K.data,K=ae==="F!"||ae==="F"?K:null}if(K){Ms=Qf(K.nextSibling),T=K.data==="F!";break e}}fu(T)}T=!1}T&&(p=w[0])}}return w=$n(),w.memoizedState=w.baseState=p,T={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xh,lastRenderedState:p},w.queue=T,w=f1.bind(null,Mr,T),T.dispatch=w,T=Dd(!1),ae=ug.bind(null,Mr,!1,T.queue),T=$n(),K={state:p,dispatch:null,action:f,pending:null},T.queue=K,w=hA.bind(null,Mr,K,ae,w),K.dispatch=w,T.memoizedState=f,[p,w,!1]}function Qu(f){var p=cn();return Ys(p,qr,f)}function Ys(f,p,w){if(p=Wo(f,p,xh)[0],f=Fl(xs)[0],typeof p=="object"&&p!==null&&typeof p.then=="function")try{var T=Ws(p)}catch(De){throw De===oe?me:De}else T=p;p=cn();var K=p.queue,ae=K.dispatch;return w!==p.memoizedState&&(Mr.flags|=2048,_l(9,Hu(),wf.bind(null,K,w),null)),[T,ae,f]}function wf(f,p){f.action=p}function ym(f){var p=cn(),w=qr;if(w!==null)return Ys(p,w,f);cn(),p=p.memoizedState,w=cn();var T=w.queue.dispatch;return w.memoizedState=f,[p,T,!1]}function _l(f,p,w,T){return f={tag:f,create:w,deps:T,inst:p,next:null},p=Mr.updateQueue,p===null&&(p=li(),Mr.updateQueue=p),w=p.lastEffect,w===null?p.lastEffect=f.next=f:(T=w.next,w.next=f,f.next=T,p.lastEffect=f),f}function Hu(){return{destroy:void 0,resource:void 0}}function $u(){return cn().memoizedState}function Oi(f,p,w,T){var K=$n();T=T===void 0?null:T,Mr.flags|=f,K.memoizedState=_l(1|p,Hu(),w,T)}function mu(f,p,w,T){var K=cn();T=T===void 0?null:T;var ae=K.memoizedState.inst;qr!==null&&T!==null&&an(T,qr.memoizedState.deps)?K.memoizedState=_l(p,ae,w,T):(Mr.flags|=f,K.memoizedState=_l(1|p,ae,w,T))}function yh(f,p){Oi(8390656,8,f,p)}function vm(f,p){mu(2048,8,f,p)}function vh(f,p){return mu(4,2,f,p)}function ml(f,p){return mu(4,4,f,p)}function bm(f,p){if(typeof p=="function"){f=f();var w=p(f);return function(){typeof w=="function"?w():p(null)}}if(p!=null)return f=f(),p.current=f,function(){p.current=null}}function zu(f,p,w){w=w!=null?w.concat([f]):null,mu(4,4,bm.bind(null,p,f),w)}function bh(){}function di(f,p){var w=cn();p=p===void 0?null:p;var T=w.memoizedState;return p!==null&&an(p,T[1])?T[0]:(w.memoizedState=[f,p],f)}function Vu(f,p){var w=cn();p=p===void 0?null:p;var T=w.memoizedState;if(p!==null&&an(p,T[1]))return T[0];if(T=f(),bn){Ge(!0);try{f()}finally{Ge(!1)}}return w.memoizedState=[T,p],T}function nc(f,p,w){return w===void 0||(Qr&1073741824)!==0?f.memoizedState=p:(f.memoizedState=w,f=Br(),Mr.lanes|=f,Bh|=f,w)}function qu(f,p,w,T){return mn(w,p)?w:kr.current!==null?(f=nc(f,w,T),mn(f,p)||(Yo=!0),f):(Qr&42)===0?(Yo=!0,f.memoizedState=w):(f=Br(),Mr.lanes|=f,Bh|=f,p)}function dd(f,p,w,T,K){var ae=le.p;le.p=ae!==0&&8>ae?ae:8;var De=X.T,lt={};X.T=lt,ug(f,!1,p,w);try{var Et=K(),Kt=X.S;if(Kt!==null&&Kt(lt,Et),Et!==null&&typeof Et=="object"&&typeof Et.then=="function"){var hr=uA(Et,T);Nm(f,p,hr,Lr(f))}else Nm(f,p,T,Lr(f))}catch(xr){Nm(f,p,{then:function(){},status:"rejected",reason:xr},Lr())}finally{le.p=ae,X.T=De}}function bi(){}function Wi(f,p,w,T){if(f.tag!==5)throw Error(a(476));var K=Ao(f).queue;dd(f,K,p,re,w===null?bi:function(){return Ud(f),w(T)})}function Ao(f){var p=f.memoizedState;if(p!==null)return p;p={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:re},next:null};var w={};return p.next={memoizedState:w,baseState:w,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:w},next:null},f.memoizedState=p,f=f.alternate,f!==null&&(f.memoizedState=p),p}function Ud(f){var p=Ao(f).next.queue;Nm(f,p,{},Lr())}function pu(){return Us($1)}function wh(){return cn().memoizedState}function wm(){return cn().memoizedState}function Nf(f){for(var p=f.return;p!==null;){switch(p.tag){case 24:case 3:var w=Lr();f=Ct(w);var T=Pt(p,f,w);T!==null&&(_r(T,p,w),Tt(T,p,w)),p={cache:lA()},f.payload=p;return}p=p.return}}function jf(f,p,w){var T=Lr();w={lane:T,revertLane:0,action:w,hasEagerState:!1,eagerState:null,next:null},R0(f)?fg(p,w):(w=tc(f,p,w,T),w!==null&&(_r(w,f,T),w2(w,p,T)))}function f1(f,p,w){var T=Lr();Nm(f,p,w,T)}function Nm(f,p,w,T){var K={lane:T,revertLane:0,action:w,hasEagerState:!1,eagerState:null,next:null};if(R0(f))fg(p,K);else{var ae=f.alternate;if(f.lanes===0&&(ae===null||ae.lanes===0)&&(ae=p.lastRenderedReducer,ae!==null))try{var De=p.lastRenderedState,lt=ae(De,w);if(K.hasEagerState=!0,K.eagerState=lt,mn(lt,De))return sd(f,p,K,0),Rs===null&&hl(),!1}catch{}finally{}if(w=tc(f,p,K,T),w!==null)return _r(w,f,T),w2(w,p,T),!0}return!1}function ug(f,p,w,T){if(T={lane:2,revertLane:CN(),action:T,hasEagerState:!1,eagerState:null,next:null},R0(f)){if(p)throw Error(a(479))}else p=tc(f,w,T,2),p!==null&&_r(p,f,2)}function R0(f){var p=f.alternate;return f===Mr||p!==null&&p===Mr}function fg(f,p){vn=aa=!0;var w=f.pending;w===null?p.next=p:(p.next=w.next,w.next=p),f.pending=p}function w2(f,p,w){if((w&4194048)!==0){var T=p.lanes;T&=f.pendingLanes,w|=T,p.lanes=w,Wt(f,w)}}var hg={readContext:Us,use:Ya,useCallback:Zr,useContext:Zr,useEffect:Zr,useImperativeHandle:Zr,useLayoutEffect:Zr,useInsertionEffect:Zr,useMemo:Zr,useReducer:Zr,useRef:Zr,useState:Zr,useDebugValue:Zr,useDeferredValue:Zr,useTransition:Zr,useSyncExternalStore:Zr,useId:Zr,useHostTransitionStatus:Zr,useFormState:Zr,useActionState:Zr,useOptimistic:Zr,useMemoCache:Zr,useCacheRefresh:Zr},N2={readContext:Us,use:Ya,useCallback:function(f,p){return $n().memoizedState=[f,p===void 0?null:p],f},useContext:Us,useEffect:yh,useImperativeHandle:function(f,p,w){w=w!=null?w.concat([f]):null,Oi(4194308,4,bm.bind(null,p,f),w)},useLayoutEffect:function(f,p){return Oi(4194308,4,f,p)},useInsertionEffect:function(f,p){Oi(4,2,f,p)},useMemo:function(f,p){var w=$n();p=p===void 0?null:p;var T=f();if(bn){Ge(!0);try{f()}finally{Ge(!1)}}return w.memoizedState=[T,p],T},useReducer:function(f,p,w){var T=$n();if(w!==void 0){var K=w(p);if(bn){Ge(!0);try{w(p)}finally{Ge(!1)}}}else K=p;return T.memoizedState=T.baseState=K,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:K},T.queue=f,f=f.dispatch=jf.bind(null,Mr,f),[T.memoizedState,f]},useRef:function(f){var p=$n();return f={current:f},p.memoizedState=f},useState:function(f){f=Dd(f);var p=f.queue,w=f1.bind(null,Mr,p);return p.dispatch=w,[f.memoizedState,w]},useDebugValue:bh,useDeferredValue:function(f,p){var w=$n();return nc(w,f,p)},useTransition:function(){var f=Dd(!1);return f=dd.bind(null,Mr,f.queue,!0,!1),$n().memoizedState=f,[!1,f]},useSyncExternalStore:function(f,p,w){var T=Mr,K=$n();if(jn){if(w===void 0)throw Error(a(407));w=w()}else{if(w=p(),Rs===null)throw Error(a(349));(_n&124)!==0||Od(T,p,w)}K.memoizedState=w;var ae={value:w,getSnapshot:p};return K.queue=ae,yh(ac.bind(null,T,ae,f),[f]),T.flags|=2048,_l(9,Hu(),kc.bind(null,T,ae,w,p),null),w},useId:function(){var f=$n(),p=Rs.identifierPrefix;if(jn){var w=od,T=Bl;w=(T&~(1<<32-bt(T)-1)).toString(32)+w,p=""+p+"R"+w,w=Wa++,0<w&&(p+="H"+w.toString(32)),p+=""}else w=ln++,p=""+p+"r"+w.toString(32)+"";return f.memoizedState=p},useHostTransitionStatus:pu,useFormState:Md,useActionState:Md,useOptimistic:function(f){var p=$n();p.memoizedState=p.baseState=f;var w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return p.queue=w,p=ug.bind(null,Mr,!0,w),w.dispatch=p,[f,p]},useMemoCache:ci,useCacheRefresh:function(){return $n().memoizedState=Nf.bind(null,Mr)}},j2={readContext:Us,use:Ya,useCallback:di,useContext:Us,useEffect:vm,useImperativeHandle:zu,useInsertionEffect:vh,useLayoutEffect:ml,useMemo:Vu,useReducer:Fl,useRef:$u,useState:function(){return Fl(xs)},useDebugValue:bh,useDeferredValue:function(f,p){var w=cn();return qu(w,qr.memoizedState,f,p)},useTransition:function(){var f=Fl(xs)[0],p=cn().memoizedState;return[typeof f=="boolean"?f:Ws(f),p]},useSyncExternalStore:Ld,useId:wh,useHostTransitionStatus:pu,useFormState:Qu,useActionState:Qu,useOptimistic:function(f,p){var w=cn();return Li(w,qr,f,p)},useMemoCache:ci,useCacheRefresh:wm},Ag={readContext:Us,use:Ya,useCallback:di,useContext:Us,useEffect:vm,useImperativeHandle:zu,useInsertionEffect:vh,useLayoutEffect:ml,useMemo:Vu,useReducer:Cs,useRef:$u,useState:function(){return Cs(xs)},useDebugValue:bh,useDeferredValue:function(f,p){var w=cn();return qr===null?nc(w,f,p):qu(w,qr.memoizedState,f,p)},useTransition:function(){var f=Cs(xs)[0],p=cn().memoizedState;return[typeof f=="boolean"?f:Ws(f),p]},useSyncExternalStore:Ld,useId:wh,useHostTransitionStatus:pu,useFormState:ym,useActionState:ym,useOptimistic:function(f,p){var w=cn();return qr!==null?Li(w,qr,f,p):(w.baseState=f,[f,w.queue.dispatch])},useMemoCache:ci,useCacheRefresh:wm},Sf=null,Q0=0;function H0(f){var p=Q0;return Q0+=1,Sf===null&&(Sf=[]),ft(Sf,f,p)}function pA(f,p){p=p.props.ref,f.ref=p!==void 0?p:null}function $0(f,p){throw p.$$typeof===A?Error(a(525)):(f=Object.prototype.toString.call(p),Error(a(31,f==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":f)))}function h1(f){var p=f._init;return p(f._payload)}function A1(f){function p(Ht,Ot){if(f){var qt=Ht.deletions;qt===null?(Ht.deletions=[Ot],Ht.flags|=16):qt.push(Ot)}}function w(Ht,Ot){if(!f)return null;for(;Ot!==null;)p(Ht,Ot),Ot=Ot.sibling;return null}function T(Ht){for(var Ot=new Map;Ht!==null;)Ht.key!==null?Ot.set(Ht.key,Ht):Ot.set(Ht.index,Ht),Ht=Ht.sibling;return Ot}function K(Ht,Ot){return Ht=fo(Ht,Ot),Ht.index=0,Ht.sibling=null,Ht}function ae(Ht,Ot,qt){return Ht.index=qt,f?(qt=Ht.alternate,qt!==null?(qt=qt.index,qt<Ot?(Ht.flags|=67108866,Ot):qt):(Ht.flags|=67108866,Ot)):(Ht.flags|=1048576,Ot)}function De(Ht){return f&&Ht.alternate===null&&(Ht.flags|=67108866),Ht}function lt(Ht,Ot,qt,Ar){return Ot===null||Ot.tag!==6?(Ot=pf(qt,Ht.mode,Ar),Ot.return=Ht,Ot):(Ot=K(Ot,qt),Ot.return=Ht,Ot)}function Et(Ht,Ot,qt,Ar){var ta=qt.type;return ta===y?hr(Ht,Ot,qt.props.children,Ar,qt.key):Ot!==null&&(Ot.elementType===ta||typeof ta=="object"&&ta!==null&&ta.$$typeof===F&&h1(ta)===Ot.type)?(Ot=K(Ot,qt.props),pA(Ot,qt),Ot.return=Ht,Ot):(Ot=Ec(qt.type,qt.key,qt.props,null,Ht.mode,Ar),pA(Ot,qt),Ot.return=Ht,Ot)}function Kt(Ht,Ot,qt,Ar){return Ot===null||Ot.tag!==4||Ot.stateNode.containerInfo!==qt.containerInfo||Ot.stateNode.implementation!==qt.implementation?(Ot=lu(qt,Ht.mode,Ar),Ot.return=Ht,Ot):(Ot=K(Ot,qt.children||[]),Ot.return=Ht,Ot)}function hr(Ht,Ot,qt,Ar,ta){return Ot===null||Ot.tag!==7?(Ot=qo(qt,Ht.mode,Ar,ta),Ot.return=Ht,Ot):(Ot=K(Ot,qt),Ot.return=Ht,Ot)}function xr(Ht,Ot,qt){if(typeof Ot=="string"&&Ot!==""||typeof Ot=="number"||typeof Ot=="bigint")return Ot=pf(""+Ot,Ht.mode,qt),Ot.return=Ht,Ot;if(typeof Ot=="object"&&Ot!==null){switch(Ot.$$typeof){case m:return qt=Ec(Ot.type,Ot.key,Ot.props,null,Ht.mode,qt),pA(qt,Ot),qt.return=Ht,qt;case h:return Ot=lu(Ot,Ht.mode,qt),Ot.return=Ht,Ot;case F:var Ar=Ot._init;return Ot=Ar(Ot._payload),xr(Ht,Ot,qt)}if(ie(Ot)||I(Ot))return Ot=qo(Ot,Ht.mode,qt,null),Ot.return=Ht,Ot;if(typeof Ot.then=="function")return xr(Ht,H0(Ot),qt);if(Ot.$$typeof===C)return xr(Ht,So(Ht,Ot),qt);$0(Ht,Ot)}return null}function Yt(Ht,Ot,qt,Ar){var ta=Ot!==null?Ot.key:null;if(typeof qt=="string"&&qt!==""||typeof qt=="number"||typeof qt=="bigint")return ta!==null?null:lt(Ht,Ot,""+qt,Ar);if(typeof qt=="object"&&qt!==null){switch(qt.$$typeof){case m:return qt.key===ta?Et(Ht,Ot,qt,Ar):null;case h:return qt.key===ta?Kt(Ht,Ot,qt,Ar):null;case F:return ta=qt._init,qt=ta(qt._payload),Yt(Ht,Ot,qt,Ar)}if(ie(qt)||I(qt))return ta!==null?null:hr(Ht,Ot,qt,Ar,null);if(typeof qt.then=="function")return Yt(Ht,Ot,H0(qt),Ar);if(qt.$$typeof===C)return Yt(Ht,Ot,So(Ht,qt),Ar);$0(Ht,qt)}return null}function er(Ht,Ot,qt,Ar,ta){if(typeof Ar=="string"&&Ar!==""||typeof Ar=="number"||typeof Ar=="bigint")return Ht=Ht.get(qt)||null,lt(Ot,Ht,""+Ar,ta);if(typeof Ar=="object"&&Ar!==null){switch(Ar.$$typeof){case m:return Ht=Ht.get(Ar.key===null?qt:Ar.key)||null,Et(Ot,Ht,Ar,ta);case h:return Ht=Ht.get(Ar.key===null?qt:Ar.key)||null,Kt(Ot,Ht,Ar,ta);case F:var wn=Ar._init;return Ar=wn(Ar._payload),er(Ht,Ot,qt,Ar,ta)}if(ie(Ar)||I(Ar))return Ht=Ht.get(qt)||null,hr(Ot,Ht,Ar,ta,null);if(typeof Ar.then=="function")return er(Ht,Ot,qt,H0(Ar),ta);if(Ar.$$typeof===C)return er(Ht,Ot,qt,So(Ot,Ar),ta);$0(Ot,Ar)}return null}function Ra(Ht,Ot,qt,Ar){for(var ta=null,wn=null,Aa=Ot,ka=Ot=0,Pl=null;Aa!==null&&ka<qt.length;ka++){Aa.index>ka?(Pl=Aa,Aa=null):Pl=Aa.sibling;var Wn=Yt(Ht,Aa,qt[ka],Ar);if(Wn===null){Aa===null&&(Aa=Pl);break}f&&Aa&&Wn.alternate===null&&p(Ht,Aa),Ot=ae(Wn,Ot,ka),wn===null?ta=Wn:wn.sibling=Wn,wn=Wn,Aa=Pl}if(ka===qt.length)return w(Ht,Aa),jn&&du(Ht,ka),ta;if(Aa===null){for(;ka<qt.length;ka++)Aa=xr(Ht,qt[ka],Ar),Aa!==null&&(Ot=ae(Aa,Ot,ka),wn===null?ta=Aa:wn.sibling=Aa,wn=Aa);return jn&&du(Ht,ka),ta}for(Aa=T(Aa);ka<qt.length;ka++)Pl=er(Aa,Ht,ka,qt[ka],Ar),Pl!==null&&(f&&Pl.alternate!==null&&Aa.delete(Pl.key===null?ka:Pl.key),Ot=ae(Pl,Ot,ka),wn===null?ta=Pl:wn.sibling=Pl,wn=Pl);return f&&Aa.forEach(function(Um){return p(Ht,Um)}),jn&&du(Ht,ka),ta}function _a(Ht,Ot,qt,Ar){if(qt==null)throw Error(a(151));for(var ta=null,wn=null,Aa=Ot,ka=Ot=0,Pl=null,Wn=qt.next();Aa!==null&&!Wn.done;ka++,Wn=qt.next()){Aa.index>ka?(Pl=Aa,Aa=null):Pl=Aa.sibling;var Um=Yt(Ht,Aa,Wn.value,Ar);if(Um===null){Aa===null&&(Aa=Pl);break}f&&Aa&&Um.alternate===null&&p(Ht,Aa),Ot=ae(Um,Ot,ka),wn===null?ta=Um:wn.sibling=Um,wn=Um,Aa=Pl}if(Wn.done)return w(Ht,Aa),jn&&du(Ht,ka),ta;if(Aa===null){for(;!Wn.done;ka++,Wn=qt.next())Wn=xr(Ht,Wn.value,Ar),Wn!==null&&(Ot=ae(Wn,Ot,ka),wn===null?ta=Wn:wn.sibling=Wn,wn=Wn);return jn&&du(Ht,ka),ta}for(Aa=T(Aa);!Wn.done;ka++,Wn=qt.next())Wn=er(Aa,Ht,ka,Wn.value,Ar),Wn!==null&&(f&&Wn.alternate!==null&&Aa.delete(Wn.key===null?ka:Wn.key),Ot=ae(Wn,Ot,ka),wn===null?ta=Wn:wn.sibling=Wn,wn=Wn);return f&&Aa.forEach(function(tJ){return p(Ht,tJ)}),jn&&du(Ht,ka),ta}function Hs(Ht,Ot,qt,Ar){if(typeof qt=="object"&&qt!==null&&qt.type===y&&qt.key===null&&(qt=qt.props.children),typeof qt=="object"&&qt!==null){switch(qt.$$typeof){case m:e:{for(var ta=qt.key;Ot!==null;){if(Ot.key===ta){if(ta=qt.type,ta===y){if(Ot.tag===7){w(Ht,Ot.sibling),Ar=K(Ot,qt.props.children),Ar.return=Ht,Ht=Ar;break e}}else if(Ot.elementType===ta||typeof ta=="object"&&ta!==null&&ta.$$typeof===F&&h1(ta)===Ot.type){w(Ht,Ot.sibling),Ar=K(Ot,qt.props),pA(Ar,qt),Ar.return=Ht,Ht=Ar;break e}w(Ht,Ot);break}else p(Ht,Ot);Ot=Ot.sibling}qt.type===y?(Ar=qo(qt.props.children,Ht.mode,Ar,qt.key),Ar.return=Ht,Ht=Ar):(Ar=Ec(qt.type,qt.key,qt.props,null,Ht.mode,Ar),pA(Ar,qt),Ar.return=Ht,Ht=Ar)}return De(Ht);case h:e:{for(ta=qt.key;Ot!==null;){if(Ot.key===ta)if(Ot.tag===4&&Ot.stateNode.containerInfo===qt.containerInfo&&Ot.stateNode.implementation===qt.implementation){w(Ht,Ot.sibling),Ar=K(Ot,qt.children||[]),Ar.return=Ht,Ht=Ar;break e}else{w(Ht,Ot);break}else p(Ht,Ot);Ot=Ot.sibling}Ar=lu(qt,Ht.mode,Ar),Ar.return=Ht,Ht=Ar}return De(Ht);case F:return ta=qt._init,qt=ta(qt._payload),Hs(Ht,Ot,qt,Ar)}if(ie(qt))return Ra(Ht,Ot,qt,Ar);if(I(qt)){if(ta=I(qt),typeof ta!="function")throw Error(a(150));return qt=ta.call(qt),_a(Ht,Ot,qt,Ar)}if(typeof qt.then=="function")return Hs(Ht,Ot,H0(qt),Ar);if(qt.$$typeof===C)return Hs(Ht,Ot,So(Ht,qt),Ar);$0(Ht,qt)}return typeof qt=="string"&&qt!==""||typeof qt=="number"||typeof qt=="bigint"?(qt=""+qt,Ot!==null&&Ot.tag===6?(w(Ht,Ot.sibling),Ar=K(Ot,qt),Ar.return=Ht,Ht=Ar):(w(Ht,Ot),Ar=pf(qt,Ht.mode,Ar),Ar.return=Ht,Ht=Ar),De(Ht)):w(Ht,Ot)}return function(Ht,Ot,qt,Ar){try{Q0=0;var ta=Hs(Ht,Ot,qt,Ar);return Sf=null,ta}catch(Aa){if(Aa===oe||Aa===me)throw Aa;var wn=yi(29,Aa,null,Ht.mode);return wn.lanes=Ar,wn.return=Ht,wn}finally{}}}var jm=A1(!0),z0=A1(!1),ud=ve(null),gu=null;function Nh(f){var p=f.alternate;R(Yi,Yi.current&1),R(ud,f),gu===null&&(p===null||kr.current!==null||p.memoizedState!==null)&&(gu=f)}function S2(f){if(f.tag===22){if(R(Yi,Yi.current),R(ud,f),gu===null){var p=f.alternate;p!==null&&p.memoizedState!==null&&(gu=f)}}else Cf()}function Cf(){R(Yi,Yi.current),R(ud,ud.current)}function Pc(f){B(ud),gu===f&&(gu=null),B(Yi)}var Yi=ve(0);function gA(f){for(var p=f;p!==null;){if(p.tag===13){var w=p.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||w.data==="$?"||MN(w)))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}function m1(f,p,w,T){p=f.memoizedState,w=w(T,p),w=w==null?p:d({},p,w),f.memoizedState=w,f.lanes===0&&(f.updateQueue.baseState=w)}var p1={enqueueSetState:function(f,p,w){f=f._reactInternals;var T=Lr(),K=Ct(T);K.payload=p,w!=null&&(K.callback=w),p=Pt(f,K,T),p!==null&&(_r(p,f,T),Tt(p,f,T))},enqueueReplaceState:function(f,p,w){f=f._reactInternals;var T=Lr(),K=Ct(T);K.tag=1,K.payload=p,w!=null&&(K.callback=w),p=Pt(f,K,T),p!==null&&(_r(p,f,T),Tt(p,f,T))},enqueueForceUpdate:function(f,p){f=f._reactInternals;var w=Lr(),T=Ct(w);T.tag=2,p!=null&&(T.callback=p),p=Pt(f,T,w),p!==null&&(_r(p,f,w),Tt(p,f,w))}};function C2(f,p,w,T,K,ae,De){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(T,ae,De):p.prototype&&p.prototype.isPureReactComponent?!ms(w,T)||!ms(K,ae):!0}function E2(f,p,w,T){f=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(w,T),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(w,T),p.state!==f&&p1.enqueueReplaceState(p,p.state,null)}function jh(f,p){var w=p;if("ref"in p){w={};for(var T in p)T!=="ref"&&(w[T]=p[T])}if(f=f.defaultProps){w===p&&(w=d({},w));for(var K in f)w[K]===void 0&&(w[K]=f[K])}return w}var Sm=typeof reportError=="function"?reportError:function(f){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var p=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof f=="object"&&f!==null&&typeof f.message=="string"?String(f.message):String(f),error:f});if(!window.dispatchEvent(p))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",f);return}console.error(f)};function g1(f){Sm(f)}function x1(f){console.error(f)}function mg(f){Sm(f)}function V0(f,p){try{var w=f.onUncaughtError;w(p.value,{componentStack:p.stack})}catch(T){setTimeout(function(){throw T})}}function y1(f,p,w){try{var T=f.onCaughtError;T(w.value,{componentStack:w.stack,errorBoundary:p.tag===1?p.stateNode:null})}catch(K){setTimeout(function(){throw K})}}function v1(f,p,w){return w=Ct(w),w.tag=3,w.payload={element:null},w.callback=function(){V0(f,p)},w}function q0(f){return f=Ct(f),f.tag=3,f}function K0(f,p,w,T){var K=w.type.getDerivedStateFromError;if(typeof K=="function"){var ae=T.value;f.payload=function(){return K(ae)},f.callback=function(){y1(p,w,T)}}var De=w.stateNode;De!==null&&typeof De.componentDidCatch=="function"&&(f.callback=function(){y1(p,w,T),typeof K!="function"&&(V===null?V=new Set([this]):V.add(this));var lt=T.stack;this.componentDidCatch(T.value,{componentStack:lt!==null?lt:""})})}function B2(f,p,w,T,K){if(w.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){if(p=w.alternate,p!==null&&Au(p,w,K,!0),w=ud.current,w!==null){switch(w.tag){case 13:return gu===null?Mi():w.alternate===null&&Di===0&&(Di=3),w.flags&=-257,w.flags|=65536,w.lanes=K,T===we?w.flags|=16384:(p=w.updateQueue,p===null?w.updateQueue=new Set([T]):p.add(T),NN(f,T,K)),!1;case 22:return w.flags|=65536,T===we?w.flags|=16384:(p=w.updateQueue,p===null?(p={transitions:null,markerInstances:null,retryQueue:new Set([T])},w.updateQueue=p):(w=p.retryQueue,w===null?p.retryQueue=new Set([T]):w.add(T)),NN(f,T,K)),!1}throw Error(a(435,w.tag))}return NN(f,T,K),Mi(),!1}if(jn)return p=ud.current,p!==null?((p.flags&65536)===0&&(p.flags|=256),p.flags|=65536,p.lanes=K,T!==iA&&(f=Error(a(422),{cause:T}),hu(Ka(f,w)))):(T!==iA&&(p=Error(a(423),{cause:T}),hu(Ka(p,w))),f=f.current.alternate,f.flags|=65536,K&=-K,f.lanes|=K,T=Ka(T,w),K=v1(f.stateNode,T,K),nr(f,K),Di!==4&&(Di=2)),!1;var ae=Error(a(520),{cause:T});if(ae=Ka(ae,w),tp===null?tp=[ae]:tp.push(ae),Di!==4&&(Di=2),p===null)return!0;T=Ka(T,w),w=p;do{switch(w.tag){case 3:return w.flags|=65536,f=K&-K,w.lanes|=f,f=v1(w.stateNode,T,f),nr(w,f),!1;case 1:if(p=w.type,ae=w.stateNode,(w.flags&128)===0&&(typeof p.getDerivedStateFromError=="function"||ae!==null&&typeof ae.componentDidCatch=="function"&&(V===null||!V.has(ae))))return w.flags|=65536,K&=-K,w.lanes|=K,K=q0(K),K0(K,f,w,T),nr(w,K),!1}w=w.return}while(w!==null);return!1}var b1=Error(a(461)),Yo=!1;function Xo(f,p,w,T){p.child=f===null?z0(p,null,w,T):jm(p,f.child,w,T)}function w1(f,p,w,T,K){w=w.render;var ae=p.ref;if("ref"in T){var De={};for(var lt in T)lt!=="ref"&&(De[lt]=T[lt])}else De=T;return Al(p),T=Gs(f,p,w,De,ae,K),lt=Ua(),f!==null&&!Yo?(Gi(f,p,K),Ff(f,p,K)):(jn&&lt&&uu(p),p.flags|=1,Xo(f,p,T,K),p.child)}function T2(f,p,w,T,K){if(f===null){var ae=w.type;return typeof ae=="function"&&!id(ae)&&ae.defaultProps===void 0&&w.compare===null?(p.tag=15,p.type=ae,F2(f,p,ae,T,K)):(f=Ec(w.type,null,T,p,p.mode,K),f.ref=p.ref,f.return=p,p.child=f)}if(ae=f.child,!C1(f,K)){var De=ae.memoizedProps;if(w=w.compare,w=w!==null?w:ms,w(De,T)&&f.ref===p.ref)return Ff(f,p,K)}return p.flags|=1,f=fo(ae,T),f.ref=p.ref,f.return=p,p.child=f}function F2(f,p,w,T,K){if(f!==null){var ae=f.memoizedProps;if(ms(ae,T)&&f.ref===p.ref)if(Yo=!1,p.pendingProps=T=ae,C1(f,K))(f.flags&131072)!==0&&(Yo=!0);else return p.lanes=f.lanes,Ff(f,p,K)}return Ef(f,p,w,T,K)}function xA(f,p,w){var T=p.pendingProps,K=T.children,ae=f!==null?f.memoizedState:null;if(T.mode==="hidden"){if((p.flags&128)!==0){if(T=ae!==null?ae.baseLanes|w:w,f!==null){for(K=p.child=f.child,ae=0;K!==null;)ae=ae|K.lanes|K.childLanes,K=K.sibling;p.childLanes=ae&~T}else p.childLanes=0,p.child=null;return N1(f,p,T,w)}if((w&536870912)!==0)p.memoizedState={baseLanes:0,cachePool:null},f!==null&&H(p,ae!==null?ae.cachePool:null),ae!==null?gr(p,ae):ga(),S2(p);else return p.lanes=p.childLanes=536870912,N1(f,p,ae!==null?ae.baseLanes|w:w,w)}else ae!==null?(H(p,ae.cachePool),gr(p,ae),Cf(),p.memoizedState=null):(f!==null&&H(p,null),ga(),Cf());return Xo(f,p,K,w),p.child}function N1(f,p,w,T){var K=_();return K=K===null?null:{parent:vi._currentValue,pool:K},p.memoizedState={baseLanes:w,cachePool:K},f!==null&&H(p,null),ga(),S2(p),f!==null&&Au(f,p,T,!0),null}function ui(f,p){var w=p.ref;if(w===null)f!==null&&f.ref!==null&&(p.flags|=4194816);else{if(typeof w!="function"&&typeof w!="object")throw Error(a(284));(f===null||f.ref!==w)&&(p.flags|=4194816)}}function Ef(f,p,w,T,K){return Al(p),w=Gs(f,p,w,T,void 0,K),T=Ua(),f!==null&&!Yo?(Gi(f,p,K),Ff(f,p,K)):(jn&&T&&uu(p),p.flags|=1,Xo(f,p,w,K),p.child)}function yA(f,p,w,T,K,ae){return Al(p),p.updateQueue=null,w=oi(p,T,w,K),Fn(f),T=Ua(),f!==null&&!Yo?(Gi(f,p,ae),Ff(f,p,ae)):(jn&&T&&uu(p),p.flags|=1,Xo(f,p,w,ae),p.child)}function Bf(f,p,w,T,K){if(Al(p),p.stateNode===null){var ae=Tn,De=w.contextType;typeof De=="object"&&De!==null&&(ae=Us(De)),ae=new w(T,ae),p.memoizedState=ae.state!==null&&ae.state!==void 0?ae.state:null,ae.updater=p1,p.stateNode=ae,ae._reactInternals=p,ae=p.stateNode,ae.props=T,ae.state=p.memoizedState,ae.refs={},et(p),De=w.contextType,ae.context=typeof De=="object"&&De!==null?Us(De):Tn,ae.state=p.memoizedState,De=w.getDerivedStateFromProps,typeof De=="function"&&(m1(p,w,De,T),ae.state=p.memoizedState),typeof w.getDerivedStateFromProps=="function"||typeof ae.getSnapshotBeforeUpdate=="function"||typeof ae.UNSAFE_componentWillMount!="function"&&typeof ae.componentWillMount!="function"||(De=ae.state,typeof ae.componentWillMount=="function"&&ae.componentWillMount(),typeof ae.UNSAFE_componentWillMount=="function"&&ae.UNSAFE_componentWillMount(),De!==ae.state&&p1.enqueueReplaceState(ae,ae.state,null),rr(p,T,ae,K),wr(),ae.state=p.memoizedState),typeof ae.componentDidMount=="function"&&(p.flags|=4194308),T=!0}else if(f===null){ae=p.stateNode;var lt=p.memoizedProps,Et=jh(w,lt);ae.props=Et;var Kt=ae.context,hr=w.contextType;De=Tn,typeof hr=="object"&&hr!==null&&(De=Us(hr));var xr=w.getDerivedStateFromProps;hr=typeof xr=="function"||typeof ae.getSnapshotBeforeUpdate=="function",lt=p.pendingProps!==lt,hr||typeof ae.UNSAFE_componentWillReceiveProps!="function"&&typeof ae.componentWillReceiveProps!="function"||(lt||Kt!==De)&&E2(p,ae,T,De),St=!1;var Yt=p.memoizedState;ae.state=Yt,rr(p,T,ae,K),wr(),Kt=p.memoizedState,lt||Yt!==Kt||St?(typeof xr=="function"&&(m1(p,w,xr,T),Kt=p.memoizedState),(Et=St||C2(p,w,Et,T,Yt,Kt,De))?(hr||typeof ae.UNSAFE_componentWillMount!="function"&&typeof ae.componentWillMount!="function"||(typeof ae.componentWillMount=="function"&&ae.componentWillMount(),typeof ae.UNSAFE_componentWillMount=="function"&&ae.UNSAFE_componentWillMount()),typeof ae.componentDidMount=="function"&&(p.flags|=4194308)):(typeof ae.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=T,p.memoizedState=Kt),ae.props=T,ae.state=Kt,ae.context=De,T=Et):(typeof ae.componentDidMount=="function"&&(p.flags|=4194308),T=!1)}else{ae=p.stateNode,ht(f,p),De=p.memoizedProps,hr=jh(w,De),ae.props=hr,xr=p.pendingProps,Yt=ae.context,Kt=w.contextType,Et=Tn,typeof Kt=="object"&&Kt!==null&&(Et=Us(Kt)),lt=w.getDerivedStateFromProps,(Kt=typeof lt=="function"||typeof ae.getSnapshotBeforeUpdate=="function")||typeof ae.UNSAFE_componentWillReceiveProps!="function"&&typeof ae.componentWillReceiveProps!="function"||(De!==xr||Yt!==Et)&&E2(p,ae,T,Et),St=!1,Yt=p.memoizedState,ae.state=Yt,rr(p,T,ae,K),wr();var er=p.memoizedState;De!==xr||Yt!==er||St||f!==null&&f.dependencies!==null&&gh(f.dependencies)?(typeof lt=="function"&&(m1(p,w,lt,T),er=p.memoizedState),(hr=St||C2(p,w,hr,T,Yt,er,Et)||f!==null&&f.dependencies!==null&&gh(f.dependencies))?(Kt||typeof ae.UNSAFE_componentWillUpdate!="function"&&typeof ae.componentWillUpdate!="function"||(typeof ae.componentWillUpdate=="function"&&ae.componentWillUpdate(T,er,Et),typeof ae.UNSAFE_componentWillUpdate=="function"&&ae.UNSAFE_componentWillUpdate(T,er,Et)),typeof ae.componentDidUpdate=="function"&&(p.flags|=4),typeof ae.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof ae.componentDidUpdate!="function"||De===f.memoizedProps&&Yt===f.memoizedState||(p.flags|=4),typeof ae.getSnapshotBeforeUpdate!="function"||De===f.memoizedProps&&Yt===f.memoizedState||(p.flags|=1024),p.memoizedProps=T,p.memoizedState=er),ae.props=T,ae.state=er,ae.context=Et,T=hr):(typeof ae.componentDidUpdate!="function"||De===f.memoizedProps&&Yt===f.memoizedState||(p.flags|=4),typeof ae.getSnapshotBeforeUpdate!="function"||De===f.memoizedProps&&Yt===f.memoizedState||(p.flags|=1024),T=!1)}return ae=T,ui(f,p),T=(p.flags&128)!==0,ae||T?(ae=p.stateNode,w=T&&typeof w.getDerivedStateFromError!="function"?null:ae.render(),p.flags|=1,f!==null&&T?(p.child=jm(p,f.child,null,K),p.child=jm(p,null,w,K)):Xo(f,p,w,K),p.memoizedState=ae.state,f=p.child):f=Ff(f,p,K),f}function Tf(f,p,w,T){return gs(),p.flags|=256,Xo(f,p,w,T),p.child}var vA={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xu(f){return{baseLanes:f,cachePool:Z()}}function pg(f,p,w){return f=f!==null?f.childLanes&~w:0,p&&(f|=Qd),f}function j1(f,p,w){var T=p.pendingProps,K=!1,ae=(p.flags&128)!==0,De;if((De=ae)||(De=f!==null&&f.memoizedState===null?!1:(Yi.current&2)!==0),De&&(K=!0,p.flags&=-129),De=(p.flags&32)!==0,p.flags&=-33,f===null){if(jn){if(K?Nh(p):Cf(),jn){var lt=Ms,Et;if(Et=lt){e:{for(Et=lt,lt=Fc;Et.nodeType!==8;){if(!lt){lt=null;break e}if(Et=Qf(Et.nextSibling),Et===null){lt=null;break e}}lt=Et}lt!==null?(p.memoizedState={dehydrated:lt,treeContext:cu!==null?{id:Bl,overflow:od}:null,retryLane:536870912,hydrationErrors:null},Et=yi(18,null,null,0),Et.stateNode=lt,Et.return=p,p.child=Et,Ss=p,Ms=null,Et=!0):Et=!1}Et||fu(p)}if(lt=p.memoizedState,lt!==null&&(lt=lt.dehydrated,lt!==null))return MN(lt)?p.lanes=32:p.lanes=536870912,null;Pc(p)}return lt=T.children,T=T.fallback,K?(Cf(),K=p.mode,lt=Cm({mode:"hidden",children:lt},K),T=qo(T,K,w,null),lt.return=p,T.return=p,lt.sibling=T,p.child=lt,K=p.child,K.memoizedState=xu(w),K.childLanes=pg(f,De,w),p.memoizedState=vA,T):(Nh(p),gg(p,lt))}if(Et=f.memoizedState,Et!==null&&(lt=Et.dehydrated,lt!==null)){if(ae)p.flags&256?(Nh(p),p.flags&=-257,p=bA(f,p,w)):p.memoizedState!==null?(Cf(),p.child=f.child,p.flags|=128,p=null):(Cf(),K=T.fallback,lt=p.mode,T=Cm({mode:"visible",children:T.children},lt),K=qo(K,lt,w,null),K.flags|=2,T.return=p,K.return=p,T.sibling=K,p.child=T,jm(p,f.child,null,w),T=p.child,T.memoizedState=xu(w),T.childLanes=pg(f,De,w),p.memoizedState=vA,p=K);else if(Nh(p),MN(lt)){if(De=lt.nextSibling&&lt.nextSibling.dataset,De)var Kt=De.dgst;De=Kt,T=Error(a(419)),T.stack="",T.digest=De,hu({value:T,source:null,stack:null}),p=bA(f,p,w)}else if(Yo||Au(f,p,w,!1),De=(w&f.childLanes)!==0,Yo||De){if(De=Rs,De!==null&&(T=w&-w,T=(T&42)!==0?1:cr(T),T=(T&(De.suspendedLanes|w))!==0?0:T,T!==0&&T!==Et.retryLane))throw Et.retryLane=T,Sc(f,T),_r(De,f,T),b1;lt.data==="$?"||Mi(),p=bA(f,p,w)}else lt.data==="$?"?(p.flags|=192,p.child=f.child,p=null):(f=Et.treeContext,Ms=Qf(lt.nextSibling),Ss=p,jn=!0,ld=null,Fc=!1,f!==null&&(El[Ko++]=Bl,El[Ko++]=od,El[Ko++]=cu,Bl=f.id,od=f.overflow,cu=p),p=gg(p,T.children),p.flags|=4096);return p}return K?(Cf(),K=T.fallback,lt=p.mode,Et=f.child,Kt=Et.sibling,T=fo(Et,{mode:"hidden",children:T.children}),T.subtreeFlags=Et.subtreeFlags&65011712,Kt!==null?K=fo(Kt,K):(K=qo(K,lt,w,null),K.flags|=2),K.return=p,T.return=p,T.sibling=K,p.child=T,T=K,K=p.child,lt=f.child.memoizedState,lt===null?lt=xu(w):(Et=lt.cachePool,Et!==null?(Kt=vi._currentValue,Et=Et.parent!==Kt?{parent:Kt,pool:Kt}:Et):Et=Z(),lt={baseLanes:lt.baseLanes|w,cachePool:Et}),K.memoizedState=lt,K.childLanes=pg(f,De,w),p.memoizedState=vA,T):(Nh(p),w=f.child,f=w.sibling,w=fo(w,{mode:"visible",children:T.children}),w.return=p,w.sibling=null,f!==null&&(De=p.deletions,De===null?(p.deletions=[f],p.flags|=16):De.push(f)),p.child=w,p.memoizedState=null,w)}function gg(f,p){return p=Cm({mode:"visible",children:p},f.mode),p.return=f,f.child=p}function Cm(f,p){return f=yi(22,f,null,p),f.lanes=0,f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},f}function bA(f,p,w){return jm(p,f.child,null,w),f=gg(p,p.pendingProps.children),f.flags|=2,p.memoizedState=null,f}function S1(f,p,w){f.lanes|=p;var T=f.alternate;T!==null&&(T.lanes|=p),gf(f.return,p,w)}function xg(f,p,w,T,K){var ae=f.memoizedState;ae===null?f.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:T,tail:w,tailMode:K}:(ae.isBackwards=p,ae.rendering=null,ae.renderingStartTime=0,ae.last=T,ae.tail=w,ae.tailMode=K)}function Em(f,p,w){var T=p.pendingProps,K=T.revealOrder,ae=T.tail;if(Xo(f,p,T.children,w),T=Yi.current,(T&2)!==0)T=T&1|2,p.flags|=128;else{if(f!==null&&(f.flags&128)!==0)e:for(f=p.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&S1(f,w,p);else if(f.tag===19)S1(f,w,p);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===p)break e;for(;f.sibling===null;){if(f.return===null||f.return===p)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}T&=1}switch(R(Yi,T),K){case"forwards":for(w=p.child,K=null;w!==null;)f=w.alternate,f!==null&&gA(f)===null&&(K=w),w=w.sibling;w=K,w===null?(K=p.child,p.child=null):(K=w.sibling,w.sibling=null),xg(p,!1,K,w,ae);break;case"backwards":for(w=null,K=p.child,p.child=null;K!==null;){if(f=K.alternate,f!==null&&gA(f)===null){p.child=K;break}f=K.sibling,K.sibling=w,w=K,K=f}xg(p,!0,w,null,ae);break;case"together":xg(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function Ff(f,p,w){if(f!==null&&(p.dependencies=f.dependencies),Bh|=p.lanes,(w&p.childLanes)===0)if(f!==null){if(Au(f,p,w,!1),(w&p.childLanes)===0)return null}else return null;if(f!==null&&p.child!==f.child)throw Error(a(153));if(p.child!==null){for(f=p.child,w=fo(f,f.pendingProps),p.child=w,w.return=p;f.sibling!==null;)f=f.sibling,w=w.sibling=fo(f,f.pendingProps),w.return=p;w.sibling=null}return p.child}function C1(f,p){return(f.lanes&p)!==0?!0:(f=f.dependencies,!!(f!==null&&gh(f)))}function gN(f,p,w){switch(p.tag){case 3:Ae(p,p.stateNode.containerInfo),_c(p,vi,f.memoizedState.cache),gs();break;case 27:case 5:se(p);break;case 4:Ae(p,p.stateNode.containerInfo);break;case 10:_c(p,p.type,p.memoizedProps.value);break;case 13:var T=p.memoizedState;if(T!==null)return T.dehydrated!==null?(Nh(p),p.flags|=128,null):(w&p.child.childLanes)!==0?j1(f,p,w):(Nh(p),f=Ff(f,p,w),f!==null?f.sibling:null);Nh(p);break;case 19:var K=(f.flags&128)!==0;if(T=(w&p.childLanes)!==0,T||(Au(f,p,w,!1),T=(w&p.childLanes)!==0),K){if(T)return Em(f,p,w);p.flags|=128}if(K=p.memoizedState,K!==null&&(K.rendering=null,K.tail=null,K.lastEffect=null),R(Yi,Yi.current),T)break;return null;case 22:case 23:return p.lanes=0,xA(f,p,w);case 24:_c(p,vi,f.memoizedState.cache)}return Ff(f,p,w)}function _2(f,p,w){if(f!==null)if(f.memoizedProps!==p.pendingProps)Yo=!0;else{if(!C1(f,w)&&(p.flags&128)===0)return Yo=!1,gN(f,p,w);Yo=(f.flags&131072)!==0}else Yo=!1,jn&&(p.flags&1048576)!==0&&mm(p,ph,p.index);switch(p.lanes=0,p.tag){case 16:e:{f=p.pendingProps;var T=p.elementType,K=T._init;if(T=K(T._payload),p.type=T,typeof T=="function")id(T)?(f=jh(T,f),p.tag=1,p=Bf(null,p,T,f,w)):(p.tag=0,p=Ef(null,p,T,f,w));else{if(T!=null){if(K=T.$$typeof,K===E){p.tag=11,p=w1(null,p,T,f,w);break e}else if(K===L){p.tag=14,p=T2(null,p,T,f,w);break e}}throw p=W(T)||T,Error(a(306,p,""))}}return p;case 0:return Ef(f,p,p.type,p.pendingProps,w);case 1:return T=p.type,K=jh(T,p.pendingProps),Bf(f,p,T,K,w);case 3:e:{if(Ae(p,p.stateNode.containerInfo),f===null)throw Error(a(387));T=p.pendingProps;var ae=p.memoizedState;K=ae.element,ht(f,p),rr(p,T,null,w);var De=p.memoizedState;if(T=De.cache,_c(p,vi,T),T!==ae.cache&&xf(p,[vi],w,!0),wr(),T=De.element,ae.isDehydrated)if(ae={element:T,isDehydrated:!1,cache:De.cache},p.updateQueue.baseState=ae,p.memoizedState=ae,p.flags&256){p=Tf(f,p,T,w);break e}else if(T!==K){K=Ka(Error(a(424)),p),hu(K),p=Tf(f,p,T,w);break e}else{switch(f=p.stateNode.containerInfo,f.nodeType){case 9:f=f.body;break;default:f=f.nodeName==="HTML"?f.ownerDocument.body:f}for(Ms=Qf(f.firstChild),Ss=p,jn=!0,ld=null,Fc=!0,w=z0(p,null,T,w),p.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling}else{if(gs(),T===K){p=Ff(f,p,w);break e}Xo(f,p,T,w)}p=p.child}return p;case 26:return ui(f,p),f===null?(w=KF(p.type,null,p.pendingProps,null))?p.memoizedState=w:jn||(w=p.type,f=p.pendingProps,T=z2(pe.current).createElement(w),T[Sr]=p,T[ca]=f,ic(T,w,f),Ee(T),p.stateNode=T):p.memoizedState=KF(p.type,f.memoizedProps,p.pendingProps,f.memoizedState),null;case 27:return se(p),f===null&&jn&&(T=p.stateNode=zF(p.type,p.pendingProps,pe.current),Ss=p,Fc=!0,K=Ms,Pm(p.type)?(UN=K,Ms=Qf(T.firstChild)):Ms=K),Xo(f,p,p.pendingProps.children,w),ui(f,p),f===null&&(p.flags|=4194304),p.child;case 5:return f===null&&jn&&((K=T=Ms)&&(T=FX(T,p.type,p.pendingProps,Fc),T!==null?(p.stateNode=T,Ss=p,Ms=Qf(T.firstChild),Fc=!1,K=!0):K=!1),K||fu(p)),se(p),K=p.type,ae=p.pendingProps,De=f!==null?f.memoizedProps:null,T=ae.children,LN(K,ae)?T=null:De!==null&&LN(K,De)&&(p.flags|=32),p.memoizedState!==null&&(K=Gs(f,p,pn,null,null,w),$1._currentValue=K),ui(f,p),Xo(f,p,T,w),p.child;case 6:return f===null&&jn&&((f=w=Ms)&&(w=_X(w,p.pendingProps,Fc),w!==null?(p.stateNode=w,Ss=p,Ms=null,f=!0):f=!1),f||fu(p)),null;case 13:return j1(f,p,w);case 4:return Ae(p,p.stateNode.containerInfo),T=p.pendingProps,f===null?p.child=jm(p,null,T,w):Xo(f,p,T,w),p.child;case 11:return w1(f,p,p.type,p.pendingProps,w);case 7:return Xo(f,p,p.pendingProps,w),p.child;case 8:return Xo(f,p,p.pendingProps.children,w),p.child;case 12:return Xo(f,p,p.pendingProps.children,w),p.child;case 10:return T=p.pendingProps,_c(p,p.type,T.value),Xo(f,p,T.children,w),p.child;case 9:return K=p.type._context,T=p.pendingProps.children,Al(p),K=Us(K),T=T(K),p.flags|=1,Xo(f,p,T,w),p.child;case 14:return T2(f,p,p.type,p.pendingProps,w);case 15:return F2(f,p,p.type,p.pendingProps,w);case 19:return Em(f,p,w);case 31:return T=p.pendingProps,w=p.mode,T={mode:T.mode,children:T.children},f===null?(w=Cm(T,w),w.ref=p.ref,p.child=w,w.return=p,p=w):(w=fo(f.child,T),w.ref=p.ref,p.child=w,w.return=p,p=w),p;case 22:return xA(f,p,w);case 24:return Al(p),T=Us(vi),f===null?(K=_(),K===null&&(K=Rs,ae=lA(),K.pooledCache=ae,ae.refCount++,ae!==null&&(K.pooledCacheLanes|=w),K=ae),p.memoizedState={parent:T,cache:K},et(p),_c(p,vi,K)):((f.lanes&w)!==0&&(ht(f,p),rr(p,null,null,w),wr()),K=f.memoizedState,ae=p.memoizedState,K.parent!==T?(K={parent:T,cache:T},p.memoizedState=K,p.lanes===0&&(p.memoizedState=p.updateQueue.baseState=K),_c(p,vi,T)):(T=ae.cache,_c(p,vi,T),T!==K.cache&&xf(p,[vi],w,!0))),Xo(f,p,p.pendingProps.children,w),p.child;case 29:throw p.pendingProps}throw Error(a(156,p.tag))}function _f(f){f.flags|=4}function yg(f,p){if(p.type!=="stylesheet"||(p.state.loading&4)!==0)f.flags&=-16777217;else if(f.flags|=16777216,!JF(p)){if(p=ud.current,p!==null&&((_n&4194048)===_n?gu!==null:(_n&62914560)!==_n&&(_n&536870912)===0||p!==gu))throw Ue=we,fe;f.flags|=8192}}function vg(f,p){p!==null&&(f.flags|=4),f.flags&16384&&(p=f.tag!==22?st():536870912,f.lanes|=p,km|=p)}function G0(f,p){if(!jn)switch(f.tailMode){case"hidden":p=f.tail;for(var w=null;p!==null;)p.alternate!==null&&(w=p),p=p.sibling;w===null?f.tail=null:w.sibling=null;break;case"collapsed":w=f.tail;for(var T=null;w!==null;)w.alternate!==null&&(T=w),w=w.sibling;T===null?p||f.tail===null?f.tail=null:f.tail.sibling=null:T.sibling=null}}function wi(f){var p=f.alternate!==null&&f.alternate.child===f.child,w=0,T=0;if(p)for(var K=f.child;K!==null;)w|=K.lanes|K.childLanes,T|=K.subtreeFlags&65011712,T|=K.flags&65011712,K.return=f,K=K.sibling;else for(K=f.child;K!==null;)w|=K.lanes|K.childLanes,T|=K.subtreeFlags,T|=K.flags,K.return=f,K=K.sibling;return f.subtreeFlags|=T,f.childLanes=w,p}function xN(f,p,w){var T=p.pendingProps;switch(Tc(p),p.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wi(p),null;case 1:return wi(p),null;case 3:return w=p.stateNode,T=null,f!==null&&(T=f.memoizedState.cache),p.memoizedState.cache!==T&&(p.flags|=2048),Go(vi),Y(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(f===null||f.child===null)&&(ss(p)?_f(p):f===null||f.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,gm())),wi(p),null;case 26:return w=p.memoizedState,f===null?(_f(p),w!==null?(wi(p),yg(p,w)):(wi(p),p.flags&=-16777217)):w?w!==f.memoizedState?(_f(p),wi(p),yg(p,w)):(wi(p),p.flags&=-16777217):(f.memoizedProps!==T&&_f(p),wi(p),p.flags&=-16777217),null;case 27:ee(p),w=pe.current;var K=p.type;if(f!==null&&p.stateNode!=null)f.memoizedProps!==T&&_f(p);else{if(!T){if(p.stateNode===null)throw Error(a(166));return wi(p),null}f=G.current,ss(p)?pm(p):(f=zF(K,T,w),p.stateNode=f,_f(p))}return wi(p),null;case 5:if(ee(p),w=p.type,f!==null&&p.stateNode!=null)f.memoizedProps!==T&&_f(p);else{if(!T){if(p.stateNode===null)throw Error(a(166));return wi(p),null}if(f=G.current,ss(p))pm(p);else{switch(K=z2(pe.current),f){case 1:f=K.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:f=K.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":f=K.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":f=K.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":f=K.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof T.is=="string"?K.createElement("select",{is:T.is}):K.createElement("select"),T.multiple?f.multiple=!0:T.size&&(f.size=T.size);break;default:f=typeof T.is=="string"?K.createElement(w,{is:T.is}):K.createElement(w)}}f[Sr]=p,f[ca]=T;e:for(K=p.child;K!==null;){if(K.tag===5||K.tag===6)f.appendChild(K.stateNode);else if(K.tag!==4&&K.tag!==27&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===p)break e;for(;K.sibling===null;){if(K.return===null||K.return===p)break e;K=K.return}K.sibling.return=K.return,K=K.sibling}p.stateNode=f;e:switch(ic(f,w,T),w){case"button":case"input":case"select":case"textarea":f=!!T.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&_f(p)}}return wi(p),p.flags&=-16777217,null;case 6:if(f&&p.stateNode!=null)f.memoizedProps!==T&&_f(p);else{if(typeof T!="string"&&p.stateNode===null)throw Error(a(166));if(f=pe.current,ss(p)){if(f=p.stateNode,w=p.memoizedProps,T=null,K=Ss,K!==null)switch(K.tag){case 27:case 5:T=K.memoizedProps}f[Sr]=p,f=!!(f.nodeValue===w||T!==null&&T.suppressHydrationWarning===!0||DF(f.nodeValue,w)),f||fu(p)}else f=z2(f).createTextNode(T),f[Sr]=p,p.stateNode=f}return wi(p),null;case 13:if(T=p.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(K=ss(p),T!==null&&T.dehydrated!==null){if(f===null){if(!K)throw Error(a(318));if(K=p.memoizedState,K=K!==null?K.dehydrated:null,!K)throw Error(a(317));K[Sr]=p}else gs(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;wi(p),K=!1}else K=gm(),f!==null&&f.memoizedState!==null&&(f.memoizedState.hydrationErrors=K),K=!0;if(!K)return p.flags&256?(Pc(p),p):(Pc(p),null)}if(Pc(p),(p.flags&128)!==0)return p.lanes=w,p;if(w=T!==null,f=f!==null&&f.memoizedState!==null,w){T=p.child,K=null,T.alternate!==null&&T.alternate.memoizedState!==null&&T.alternate.memoizedState.cachePool!==null&&(K=T.alternate.memoizedState.cachePool.pool);var ae=null;T.memoizedState!==null&&T.memoizedState.cachePool!==null&&(ae=T.memoizedState.cachePool.pool),ae!==K&&(T.flags|=2048)}return w!==f&&w&&(p.child.flags|=8192),vg(p,p.updateQueue),wi(p),null;case 4:return Y(),f===null&&FN(p.stateNode.containerInfo),wi(p),null;case 10:return Go(p.type),wi(p),null;case 19:if(B(Yi),K=p.memoizedState,K===null)return wi(p),null;if(T=(p.flags&128)!==0,ae=K.rendering,ae===null)if(T)G0(K,!1);else{if(Di!==0||f!==null&&(f.flags&128)!==0)for(f=p.child;f!==null;){if(ae=gA(f),ae!==null){for(p.flags|=128,G0(K,!1),f=ae.updateQueue,p.updateQueue=f,vg(p,f),p.subtreeFlags=0,f=w,w=p.child;w!==null;)Id(w,f),w=w.sibling;return R(Yi,Yi.current&1|2),p.child}f=f.sibling}K.tail!==null&&Je()>O&&(p.flags|=128,T=!0,G0(K,!1),p.lanes=4194304)}else{if(!T)if(f=gA(ae),f!==null){if(p.flags|=128,T=!0,f=f.updateQueue,p.updateQueue=f,vg(p,f),G0(K,!0),K.tail===null&&K.tailMode==="hidden"&&!ae.alternate&&!jn)return wi(p),null}else 2*Je()-K.renderingStartTime>O&&w!==536870912&&(p.flags|=128,T=!0,G0(K,!1),p.lanes=4194304);K.isBackwards?(ae.sibling=p.child,p.child=ae):(f=K.last,f!==null?f.sibling=ae:p.child=ae,K.last=ae)}return K.tail!==null?(p=K.tail,K.rendering=p,K.tail=p.sibling,K.renderingStartTime=Je(),p.sibling=null,f=Yi.current,R(Yi,T?f&1|2:f&1),p):(wi(p),null);case 22:case 23:return Pc(p),Cr(),T=p.memoizedState!==null,f!==null?f.memoizedState!==null!==T&&(p.flags|=8192):T&&(p.flags|=8192),T?(w&536870912)!==0&&(p.flags&128)===0&&(wi(p),p.subtreeFlags&6&&(p.flags|=8192)):wi(p),w=p.updateQueue,w!==null&&vg(p,w.retryQueue),w=null,f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(w=f.memoizedState.cachePool.pool),T=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(T=p.memoizedState.cachePool.pool),T!==w&&(p.flags|=2048),f!==null&&B(N),null;case 24:return w=null,f!==null&&(w=f.memoizedState.cache),p.memoizedState.cache!==w&&(p.flags|=2048),Go(vi),wi(p),null;case 25:return null;case 30:return null}throw Error(a(156,p.tag))}function yN(f,p){switch(Tc(p),p.tag){case 1:return f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 3:return Go(vi),Y(),f=p.flags,(f&65536)!==0&&(f&128)===0?(p.flags=f&-65537|128,p):null;case 26:case 27:case 5:return ee(p),null;case 13:if(Pc(p),f=p.memoizedState,f!==null&&f.dehydrated!==null){if(p.alternate===null)throw Error(a(340));gs()}return f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 19:return B(Yi),null;case 4:return Y(),null;case 10:return Go(p.type),null;case 22:case 23:return Pc(p),Cr(),f!==null&&B(N),f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 24:return Go(vi),null;case 25:return null;default:return null}}function bg(f,p){switch(Tc(p),p.tag){case 3:Go(vi),Y();break;case 26:case 27:case 5:ee(p);break;case 4:Y();break;case 13:Pc(p);break;case 19:B(Yi);break;case 10:Go(p.type);break;case 22:case 23:Pc(p),Cr(),f!==null&&B(N);break;case 24:Go(vi)}}function wA(f,p){try{var w=p.updateQueue,T=w!==null?w.lastEffect:null;if(T!==null){var K=T.next;w=K;do{if((w.tag&f)===f){T=void 0;var ae=w.create,De=w.inst;T=ae(),De.destroy=T}w=w.next}while(w!==K)}}catch(lt){Js(p,p.return,lt)}}function kf(f,p,w){try{var T=p.updateQueue,K=T!==null?T.lastEffect:null;if(K!==null){var ae=K.next;T=ae;do{if((T.tag&f)===f){var De=T.inst,lt=De.destroy;if(lt!==void 0){De.destroy=void 0,K=p;var Et=w,Kt=lt;try{Kt()}catch(hr){Js(K,Et,hr)}}}T=T.next}while(T!==ae)}}catch(hr){Js(p,p.return,hr)}}function k2(f){var p=f.updateQueue;if(p!==null){var w=f.stateNode;try{ja(p,w)}catch(T){Js(f,f.return,T)}}}function I2(f,p,w){w.props=jh(f.type,f.memoizedProps),w.state=f.memoizedState;try{w.componentWillUnmount()}catch(T){Js(f,p,T)}}function Bm(f,p){try{var w=f.ref;if(w!==null){switch(f.tag){case 26:case 27:case 5:var T=f.stateNode;break;case 30:T=f.stateNode;break;default:T=f.stateNode}typeof w=="function"?f.refCleanup=w(T):w.current=T}}catch(K){Js(f,p,K)}}function Ku(f,p){var w=f.ref,T=f.refCleanup;if(w!==null)if(typeof T=="function")try{T()}catch(K){Js(f,p,K)}finally{f.refCleanup=null,f=f.alternate,f!=null&&(f.refCleanup=null)}else if(typeof w=="function")try{w(null)}catch(K){Js(f,p,K)}else w.current=null}function P2(f){var p=f.type,w=f.memoizedProps,T=f.stateNode;try{e:switch(p){case"button":case"input":case"select":case"textarea":w.autoFocus&&T.focus();break e;case"img":w.src?T.src=w.src:w.srcSet&&(T.srcset=w.srcSet)}}catch(K){Js(f,f.return,K)}}function E1(f,p,w){try{var T=f.stateNode;SX(T,f.type,w,p),T[ca]=p}catch(K){Js(f,f.return,K)}}function L2(f){return f.tag===5||f.tag===3||f.tag===26||f.tag===27&&Pm(f.type)||f.tag===4}function B1(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||L2(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.tag===27&&Pm(f.type)||f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function W0(f,p,w){var T=f.tag;if(T===5||T===6)f=f.stateNode,p?(w.nodeType===9?w.body:w.nodeName==="HTML"?w.ownerDocument.body:w).insertBefore(f,p):(p=w.nodeType===9?w.body:w.nodeName==="HTML"?w.ownerDocument.body:w,p.appendChild(f),w=w._reactRootContainer,w!=null||p.onclick!==null||(p.onclick=$2));else if(T!==4&&(T===27&&Pm(f.type)&&(w=f.stateNode,p=null),f=f.child,f!==null))for(W0(f,p,w),f=f.sibling;f!==null;)W0(f,p,w),f=f.sibling}function wg(f,p,w){var T=f.tag;if(T===5||T===6)f=f.stateNode,p?w.insertBefore(f,p):w.appendChild(f);else if(T!==4&&(T===27&&Pm(f.type)&&(w=f.stateNode),f=f.child,f!==null))for(wg(f,p,w),f=f.sibling;f!==null;)wg(f,p,w),f=f.sibling}function Ng(f){var p=f.stateNode,w=f.memoizedProps;try{for(var T=f.type,K=p.attributes;K.length;)p.removeAttributeNode(K[0]);ic(p,T,w),p[Sr]=f,p[ca]=w}catch(ae){Js(f,f.return,ae)}}var If=!1,Er=!1,Sh=!1,Y0=typeof WeakSet=="function"?WeakSet:Set,is=null;function vN(f,p){if(f=f.containerInfo,IN=Y2,f=ii(f),Kn(f)){if("selectionStart"in f)var w={start:f.selectionStart,end:f.selectionEnd};else e:{w=(w=f.ownerDocument)&&w.defaultView||window;var T=w.getSelection&&w.getSelection();if(T&&T.rangeCount!==0){w=T.anchorNode;var K=T.anchorOffset,ae=T.focusNode;T=T.focusOffset;try{w.nodeType,ae.nodeType}catch{w=null;break e}var De=0,lt=-1,Et=-1,Kt=0,hr=0,xr=f,Yt=null;t:for(;;){for(var er;xr!==w||K!==0&&xr.nodeType!==3||(lt=De+K),xr!==ae||T!==0&&xr.nodeType!==3||(Et=De+T),xr.nodeType===3&&(De+=xr.nodeValue.length),(er=xr.firstChild)!==null;)Yt=xr,xr=er;for(;;){if(xr===f)break t;if(Yt===w&&++Kt===K&&(lt=De),Yt===ae&&++hr===T&&(Et=De),(er=xr.nextSibling)!==null)break;xr=Yt,Yt=xr.parentNode}xr=er}w=lt===-1||Et===-1?null:{start:lt,end:Et}}else w=null}w=w||{start:0,end:0}}else w=null;for(PN={focusedElem:f,selectionRange:w},Y2=!1,is=p;is!==null;)if(p=is,f=p.child,(p.subtreeFlags&1024)!==0&&f!==null)f.return=p,is=f;else for(;is!==null;){switch(p=is,ae=p.alternate,f=p.flags,p.tag){case 0:break;case 11:case 15:break;case 1:if((f&1024)!==0&&ae!==null){f=void 0,w=p,K=ae.memoizedProps,ae=ae.memoizedState,T=w.stateNode;try{var Ra=jh(w.type,K,w.elementType===w.type);f=T.getSnapshotBeforeUpdate(Ra,ae),T.__reactInternalSnapshotBeforeUpdate=f}catch(_a){Js(w,w.return,_a)}}break;case 3:if((f&1024)!==0){if(f=p.stateNode.containerInfo,w=f.nodeType,w===9)DN(f);else if(w===1)switch(f.nodeName){case"HEAD":case"HTML":case"BODY":DN(f);break;default:f.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((f&1024)!==0)throw Error(a(163))}if(f=p.sibling,f!==null){f.return=p.return,is=f;break}is=p.return}}function zn(f,p,w){var T=w.flags;switch(w.tag){case 0:case 11:case 15:Pf(f,w),T&4&&wA(5,w);break;case 1:if(Pf(f,w),T&4)if(f=w.stateNode,p===null)try{f.componentDidMount()}catch(De){Js(w,w.return,De)}else{var K=jh(w.type,p.memoizedProps);p=p.memoizedState;try{f.componentDidUpdate(K,p,f.__reactInternalSnapshotBeforeUpdate)}catch(De){Js(w,w.return,De)}}T&64&&k2(w),T&512&&Bm(w,w.return);break;case 3:if(Pf(f,w),T&64&&(f=w.updateQueue,f!==null)){if(p=null,w.child!==null)switch(w.child.tag){case 27:case 5:p=w.child.stateNode;break;case 1:p=w.child.stateNode}try{ja(f,p)}catch(De){Js(w,w.return,De)}}break;case 27:p===null&&T&4&&Ng(w);case 26:case 5:Pf(f,w),p===null&&T&4&&P2(w),T&512&&Bm(w,w.return);break;case 12:Pf(f,w);break;case 13:Pf(f,w),T&4&&X0(f,w),T&64&&(f=w.memoizedState,f!==null&&(f=f.dehydrated,f!==null&&(w=AX.bind(null,w),kX(f,w))));break;case 22:if(T=w.memoizedState!==null||If,!T){p=p!==null&&p.memoizedState!==null||Er,K=If;var ae=Er;If=T,(Er=p)&&!ae?Of(f,w,(w.subtreeFlags&8772)!==0):Pf(f,w),If=K,Er=ae}break;case 30:break;default:Pf(f,w)}}function Xs(f){var p=f.alternate;p!==null&&(f.alternate=null,Xs(p)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(p=f.stateNode,p!==null&&dt(p)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}var Es=null,Lc=!1;function Rd(f,p,w){for(w=w.child;w!==null;)O2(f,p,w),w=w.sibling}function O2(f,p,w){if(rt&&typeof rt.onCommitFiberUnmount=="function")try{rt.onCommitFiberUnmount(ze,w)}catch{}switch(w.tag){case 26:Er||Ku(w,p),Rd(f,p,w),w.memoizedState?w.memoizedState.count--:w.stateNode&&(w=w.stateNode,w.parentNode.removeChild(w));break;case 27:Er||Ku(w,p);var T=Es,K=Lc;Pm(w.type)&&(Es=w.stateNode,Lc=!1),Rd(f,p,w),U1(w.stateNode),Es=T,Lc=K;break;case 5:Er||Ku(w,p);case 6:if(T=Es,K=Lc,Es=null,Rd(f,p,w),Es=T,Lc=K,Es!==null)if(Lc)try{(Es.nodeType===9?Es.body:Es.nodeName==="HTML"?Es.ownerDocument.body:Es).removeChild(w.stateNode)}catch(ae){Js(w,p,ae)}else try{Es.removeChild(w.stateNode)}catch(ae){Js(w,p,ae)}break;case 18:Es!==null&&(Lc?(f=Es,HF(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,w.stateNode),K1(f)):HF(Es,w.stateNode));break;case 4:T=Es,K=Lc,Es=w.stateNode.containerInfo,Lc=!0,Rd(f,p,w),Es=T,Lc=K;break;case 0:case 11:case 14:case 15:Er||kf(2,w,p),Er||kf(4,w,p),Rd(f,p,w);break;case 1:Er||(Ku(w,p),T=w.stateNode,typeof T.componentWillUnmount=="function"&&I2(w,p,T)),Rd(f,p,w);break;case 21:Rd(f,p,w);break;case 22:Er=(T=Er)||w.memoizedState!==null,Rd(f,p,w),Er=T;break;default:Rd(f,p,w)}}function X0(f,p){if(p.memoizedState===null&&(f=p.alternate,f!==null&&(f=f.memoizedState,f!==null&&(f=f.dehydrated,f!==null))))try{K1(f)}catch(w){Js(p,p.return,w)}}function bN(f){switch(f.tag){case 13:case 19:var p=f.stateNode;return p===null&&(p=f.stateNode=new Y0),p;case 22:return f=f.stateNode,p=f._retryCache,p===null&&(p=f._retryCache=new Y0),p;default:throw Error(a(435,f.tag))}}function T1(f,p){var w=bN(f);p.forEach(function(T){var K=mX.bind(null,f,T);w.has(T)||(w.add(T),T.then(K,K))})}function Oc(f,p){var w=p.deletions;if(w!==null)for(var T=0;T<w.length;T++){var K=w[T],ae=f,De=p,lt=De;e:for(;lt!==null;){switch(lt.tag){case 27:if(Pm(lt.type)){Es=lt.stateNode,Lc=!1;break e}break;case 5:Es=lt.stateNode,Lc=!1;break e;case 3:case 4:Es=lt.stateNode.containerInfo,Lc=!0;break e}lt=lt.return}if(Es===null)throw Error(a(160));O2(ae,De,K),Es=null,Lc=!1,ae=K.alternate,ae!==null&&(ae.return=null),K.return=null}if(p.subtreeFlags&13878)for(p=p.child;p!==null;)F1(p,f),p=p.sibling}var yu=null;function F1(f,p){var w=f.alternate,T=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:Oc(p,f),fd(f),T&4&&(kf(3,f,f.return),wA(3,f),kf(5,f,f.return));break;case 1:Oc(p,f),fd(f),T&512&&(Er||w===null||Ku(w,w.return)),T&64&&If&&(f=f.updateQueue,f!==null&&(T=f.callbacks,T!==null&&(w=f.shared.hiddenCallbacks,f.shared.hiddenCallbacks=w===null?T:w.concat(T))));break;case 26:var K=yu;if(Oc(p,f),fd(f),T&512&&(Er||w===null||Ku(w,w.return)),T&4){var ae=w!==null?w.memoizedState:null;if(T=f.memoizedState,w===null)if(T===null)if(f.stateNode===null){e:{T=f.type,w=f.memoizedProps,K=K.ownerDocument||K;t:switch(T){case"title":ae=K.getElementsByTagName("title")[0],(!ae||ae[ot]||ae[Sr]||ae.namespaceURI==="http://www.w3.org/2000/svg"||ae.hasAttribute("itemprop"))&&(ae=K.createElement(T),K.head.insertBefore(ae,K.querySelector("head > title"))),ic(ae,T,w),ae[Sr]=f,Ee(ae),T=ae;break e;case"link":var De=YF("link","href",K).get(T+(w.href||""));if(De){for(var lt=0;lt<De.length;lt++)if(ae=De[lt],ae.getAttribute("href")===(w.href==null||w.href===""?null:w.href)&&ae.getAttribute("rel")===(w.rel==null?null:w.rel)&&ae.getAttribute("title")===(w.title==null?null:w.title)&&ae.getAttribute("crossorigin")===(w.crossOrigin==null?null:w.crossOrigin)){De.splice(lt,1);break t}}ae=K.createElement(T),ic(ae,T,w),K.head.appendChild(ae);break;case"meta":if(De=YF("meta","content",K).get(T+(w.content||""))){for(lt=0;lt<De.length;lt++)if(ae=De[lt],ae.getAttribute("content")===(w.content==null?null:""+w.content)&&ae.getAttribute("name")===(w.name==null?null:w.name)&&ae.getAttribute("property")===(w.property==null?null:w.property)&&ae.getAttribute("http-equiv")===(w.httpEquiv==null?null:w.httpEquiv)&&ae.getAttribute("charset")===(w.charSet==null?null:w.charSet)){De.splice(lt,1);break t}}ae=K.createElement(T),ic(ae,T,w),K.head.appendChild(ae);break;default:throw Error(a(468,T))}ae[Sr]=f,Ee(ae),T=ae}f.stateNode=T}else XF(K,f.type,f.stateNode);else f.stateNode=WF(K,T,f.memoizedProps);else ae!==T?(ae===null?w.stateNode!==null&&(w=w.stateNode,w.parentNode.removeChild(w)):ae.count--,T===null?XF(K,f.type,f.stateNode):WF(K,T,f.memoizedProps)):T===null&&f.stateNode!==null&&E1(f,f.memoizedProps,w.memoizedProps)}break;case 27:Oc(p,f),fd(f),T&512&&(Er||w===null||Ku(w,w.return)),w!==null&&T&4&&E1(f,f.memoizedProps,w.memoizedProps);break;case 5:if(Oc(p,f),fd(f),T&512&&(Er||w===null||Ku(w,w.return)),f.flags&32){K=f.stateNode;try{Gl(K,"")}catch(er){Js(f,f.return,er)}}T&4&&f.stateNode!=null&&(K=f.memoizedProps,E1(f,K,w!==null?w.memoizedProps:K)),T&1024&&(Sh=!0);break;case 6:if(Oc(p,f),fd(f),T&4){if(f.stateNode===null)throw Error(a(162));T=f.memoizedProps,w=f.stateNode;try{w.nodeValue=T}catch(er){Js(f,f.return,er)}}break;case 3:if(K2=null,K=yu,yu=V2(p.containerInfo),Oc(p,f),yu=K,fd(f),T&4&&w!==null&&w.memoizedState.isDehydrated)try{K1(p.containerInfo)}catch(er){Js(f,f.return,er)}Sh&&(Sh=!1,_1(f));break;case 4:T=yu,yu=V2(f.stateNode.containerInfo),Oc(p,f),fd(f),yu=T;break;case 12:Oc(p,f),fd(f);break;case 13:Oc(p,f),fd(f),f.child.flags&8192&&f.memoizedState!==null!=(w!==null&&w.memoizedState!==null)&&(M=Je()),T&4&&(T=f.updateQueue,T!==null&&(f.updateQueue=null,T1(f,T)));break;case 22:K=f.memoizedState!==null;var Et=w!==null&&w.memoizedState!==null,Kt=If,hr=Er;if(If=Kt||K,Er=hr||Et,Oc(p,f),Er=hr,If=Kt,fd(f),T&8192)e:for(p=f.stateNode,p._visibility=K?p._visibility&-2:p._visibility|1,K&&(w===null||Et||If||Er||Lf(f)),w=null,p=f;;){if(p.tag===5||p.tag===26){if(w===null){Et=w=p;try{if(ae=Et.stateNode,K)De=ae.style,typeof De.setProperty=="function"?De.setProperty("display","none","important"):De.display="none";else{lt=Et.stateNode;var xr=Et.memoizedProps.style,Yt=xr!=null&&xr.hasOwnProperty("display")?xr.display:null;lt.style.display=Yt==null||typeof Yt=="boolean"?"":(""+Yt).trim()}}catch(er){Js(Et,Et.return,er)}}}else if(p.tag===6){if(w===null){Et=p;try{Et.stateNode.nodeValue=K?"":Et.memoizedProps}catch(er){Js(Et,Et.return,er)}}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===f)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===f)break e;for(;p.sibling===null;){if(p.return===null||p.return===f)break e;w===p&&(w=null),p=p.return}w===p&&(w=null),p.sibling.return=p.return,p=p.sibling}T&4&&(T=f.updateQueue,T!==null&&(w=T.retryQueue,w!==null&&(T.retryQueue=null,T1(f,w))));break;case 19:Oc(p,f),fd(f),T&4&&(T=f.updateQueue,T!==null&&(f.updateQueue=null,T1(f,T)));break;case 30:break;case 21:break;default:Oc(p,f),fd(f)}}function fd(f){var p=f.flags;if(p&2){try{for(var w,T=f.return;T!==null;){if(L2(T)){w=T;break}T=T.return}if(w==null)throw Error(a(160));switch(w.tag){case 27:var K=w.stateNode,ae=B1(f);wg(f,ae,K);break;case 5:var De=w.stateNode;w.flags&32&&(Gl(De,""),w.flags&=-33);var lt=B1(f);wg(f,lt,De);break;case 3:case 4:var Et=w.stateNode.containerInfo,Kt=B1(f);W0(f,Kt,Et);break;default:throw Error(a(161))}}catch(hr){Js(f,f.return,hr)}f.flags&=-3}p&4096&&(f.flags&=-4097)}function _1(f){if(f.subtreeFlags&1024)for(f=f.child;f!==null;){var p=f;_1(p),p.tag===5&&p.flags&1024&&p.stateNode.reset(),f=f.sibling}}function Pf(f,p){if(p.subtreeFlags&8772)for(p=p.child;p!==null;)zn(f,p.alternate,p),p=p.sibling}function Lf(f){for(f=f.child;f!==null;){var p=f;switch(p.tag){case 0:case 11:case 14:case 15:kf(4,p,p.return),Lf(p);break;case 1:Ku(p,p.return);var w=p.stateNode;typeof w.componentWillUnmount=="function"&&I2(p,p.return,w),Lf(p);break;case 27:U1(p.stateNode);case 26:case 5:Ku(p,p.return),Lf(p);break;case 22:p.memoizedState===null&&Lf(p);break;case 30:Lf(p);break;default:Lf(p)}f=f.sibling}}function Of(f,p,w){for(w=w&&(p.subtreeFlags&8772)!==0,p=p.child;p!==null;){var T=p.alternate,K=f,ae=p,De=ae.flags;switch(ae.tag){case 0:case 11:case 15:Of(K,ae,w),wA(4,ae);break;case 1:if(Of(K,ae,w),T=ae,K=T.stateNode,typeof K.componentDidMount=="function")try{K.componentDidMount()}catch(Kt){Js(T,T.return,Kt)}if(T=ae,K=T.updateQueue,K!==null){var lt=T.stateNode;try{var Et=K.shared.hiddenCallbacks;if(Et!==null)for(K.shared.hiddenCallbacks=null,K=0;K<Et.length;K++)$r(Et[K],lt)}catch(Kt){Js(T,T.return,Kt)}}w&&De&64&&k2(ae),Bm(ae,ae.return);break;case 27:Ng(ae);case 26:case 5:Of(K,ae,w),w&&T===null&&De&4&&P2(ae),Bm(ae,ae.return);break;case 12:Of(K,ae,w);break;case 13:Of(K,ae,w),w&&De&4&&X0(K,ae);break;case 22:ae.memoizedState===null&&Of(K,ae,w),Bm(ae,ae.return);break;case 30:break;default:Of(K,ae,w)}p=p.sibling}}function k1(f,p){var w=null;f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(w=f.memoizedState.cachePool.pool),f=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(f=p.memoizedState.cachePool.pool),f!==w&&(f!=null&&f.refCount++,w!=null&&yf(w))}function jg(f,p){f=null,p.alternate!==null&&(f=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==f&&(p.refCount++,f!=null&&yf(f))}function Gu(f,p,w,T){if(p.subtreeFlags&10256)for(p=p.child;p!==null;)D2(f,p,w,T),p=p.sibling}function D2(f,p,w,T){var K=p.flags;switch(p.tag){case 0:case 11:case 15:Gu(f,p,w,T),K&2048&&wA(9,p);break;case 1:Gu(f,p,w,T);break;case 3:Gu(f,p,w,T),K&2048&&(f=null,p.alternate!==null&&(f=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==f&&(p.refCount++,f!=null&&yf(f)));break;case 12:if(K&2048){Gu(f,p,w,T),f=p.stateNode;try{var ae=p.memoizedProps,De=ae.id,lt=ae.onPostCommit;typeof lt=="function"&&lt(De,p.alternate===null?"mount":"update",f.passiveEffectDuration,-0)}catch(Et){Js(p,p.return,Et)}}else Gu(f,p,w,T);break;case 13:Gu(f,p,w,T);break;case 23:break;case 22:ae=p.stateNode,De=p.alternate,p.memoizedState!==null?ae._visibility&2?Gu(f,p,w,T):Ch(f,p):ae._visibility&2?Gu(f,p,w,T):(ae._visibility|=2,Tm(f,p,w,T,(p.subtreeFlags&10256)!==0)),K&2048&&k1(De,p);break;case 24:Gu(f,p,w,T),K&2048&&jg(p.alternate,p);break;default:Gu(f,p,w,T)}}function Tm(f,p,w,T,K){for(K=K&&(p.subtreeFlags&10256)!==0,p=p.child;p!==null;){var ae=f,De=p,lt=w,Et=T,Kt=De.flags;switch(De.tag){case 0:case 11:case 15:Tm(ae,De,lt,Et,K),wA(8,De);break;case 23:break;case 22:var hr=De.stateNode;De.memoizedState!==null?hr._visibility&2?Tm(ae,De,lt,Et,K):Ch(ae,De):(hr._visibility|=2,Tm(ae,De,lt,Et,K)),K&&Kt&2048&&k1(De.alternate,De);break;case 24:Tm(ae,De,lt,Et,K),K&&Kt&2048&&jg(De.alternate,De);break;default:Tm(ae,De,lt,Et,K)}p=p.sibling}}function Ch(f,p){if(p.subtreeFlags&10256)for(p=p.child;p!==null;){var w=f,T=p,K=T.flags;switch(T.tag){case 22:Ch(w,T),K&2048&&k1(T.alternate,T);break;case 24:Ch(w,T),K&2048&&jg(T.alternate,T);break;default:Ch(w,T)}p=p.sibling}}var kl=8192;function NA(f){if(f.subtreeFlags&kl)for(f=f.child;f!==null;)J0(f),f=f.sibling}function J0(f){switch(f.tag){case 26:NA(f),f.flags&kl&&f.memoizedState!==null&&VX(yu,f.memoizedState,f.memoizedProps);break;case 5:NA(f);break;case 3:case 4:var p=yu;yu=V2(f.stateNode.containerInfo),NA(f),yu=p;break;case 22:f.memoizedState===null&&(p=f.alternate,p!==null&&p.memoizedState!==null?(p=kl,kl=16777216,NA(f),kl=p):NA(f));break;default:NA(f)}}function M2(f){var p=f.alternate;if(p!==null&&(f=p.child,f!==null)){p.child=null;do p=f.sibling,f.sibling=null,f=p;while(f!==null)}}function Z0(f){var p=f.deletions;if((f.flags&16)!==0){if(p!==null)for(var w=0;w<p.length;w++){var T=p[w];is=T,ep(T,f)}M2(f)}if(f.subtreeFlags&10256)for(f=f.child;f!==null;)Sg(f),f=f.sibling}function Sg(f){switch(f.tag){case 0:case 11:case 15:Z0(f),f.flags&2048&&kf(9,f,f.return);break;case 3:Z0(f);break;case 12:Z0(f);break;case 22:var p=f.stateNode;f.memoizedState!==null&&p._visibility&2&&(f.return===null||f.return.tag!==13)?(p._visibility&=-3,Df(f)):Z0(f);break;default:Z0(f)}}function Df(f){var p=f.deletions;if((f.flags&16)!==0){if(p!==null)for(var w=0;w<p.length;w++){var T=p[w];is=T,ep(T,f)}M2(f)}for(f=f.child;f!==null;){switch(p=f,p.tag){case 0:case 11:case 15:kf(8,p,p.return),Df(p);break;case 22:w=p.stateNode,w._visibility&2&&(w._visibility&=-3,Df(p));break;default:Df(p)}f=f.sibling}}function ep(f,p){for(;is!==null;){var w=is;switch(w.tag){case 0:case 11:case 15:kf(8,w,p);break;case 23:case 22:if(w.memoizedState!==null&&w.memoizedState.cachePool!==null){var T=w.memoizedState.cachePool.pool;T!=null&&T.refCount++}break;case 24:yf(w.memoizedState.cache)}if(T=w.child,T!==null)T.return=w,is=T;else e:for(w=f;is!==null;){T=is;var K=T.sibling,ae=T.return;if(Xs(T),T===w){is=null;break e}if(K!==null){K.return=ae,is=K;break e}is=ae}}}var wN={getCacheForType:function(f){var p=Us(vi),w=p.data.get(f);return w===void 0&&(w=f(),p.data.set(f,w)),w}},Fm=typeof WeakMap=="function"?WeakMap:Map,os=0,Rs=null,gn=null,_n=0,Gn=0,hd=null,Eh=!1,_m=!1,I1=!1,Mf=0,Di=0,Bh=0,jA=0,P1=0,Qd=0,km=0,tp=null,Dc=null,L1=!1,M=0,O=1/0,q=null,V=null,ye=0,_e=null,We=null,xt=0,yt=0,Lt=null,Ut=null,zt=0,or=null;function Lr(){if((os&2)!==0&&_n!==0)return _n&-_n;if(X.T!==null){var f=Pd;return f!==0?f:CN()}return Ea()}function Br(){Qd===0&&(Qd=(_n&536870912)===0||jn?Qe():536870912);var f=ud.current;return f!==null&&(f.flags|=32),Qd}function _r(f,p,w){(f===Rs&&(Gn===2||Gn===9)||f.cancelPendingCommit!==null)&&(Ur(f,0),dn(f,_n,Qd,!1)),Ft(f,w),((os&2)===0||f!==Rs)&&(f===Rs&&((os&2)===0&&(jA|=w),Di===4&&dn(f,_n,Qd,!1)),kh(f))}function Za(f,p,w){if((os&6)!==0)throw Error(a(327));var T=!w&&(p&124)===0&&(p&f.expiredLanes)===0||Pe(f,p),K=T?ys(f,p):Il(f,p,!0),ae=T;do{if(K===0){_m&&!T&&dn(f,p,0,!1);break}else{if(w=f.current.alternate,ae&&!Gr(w)){K=Il(f,p,!1),ae=!1;continue}if(K===2){if(ae=p,f.errorRecoveryDisabledLanes&ae)var De=0;else De=f.pendingLanes&-536870913,De=De!==0?De:De&536870912?536870912:0;if(De!==0){p=De;e:{var lt=f;K=tp;var Et=lt.current.memoizedState.isDehydrated;if(Et&&(Ur(lt,De).flags|=256),De=Il(lt,De,!1),De!==2){if(I1&&!Et){lt.errorRecoveryDisabledLanes|=ae,jA|=ae,K=4;break e}ae=Dc,Dc=K,ae!==null&&(Dc===null?Dc=ae:Dc.push.apply(Dc,ae))}K=De}if(ae=!1,K!==2)continue}}if(K===1){Ur(f,0),dn(f,p,0,!0);break}e:{switch(T=f,ae=K,ae){case 0:case 1:throw Error(a(345));case 4:if((p&4194048)!==p)break;case 6:dn(T,p,Qd,!Eh);break e;case 2:Dc=null;break;case 3:case 5:break;default:throw Error(a(329))}if((p&62914560)===p&&(K=M+300-Je(),10<K)){if(dn(T,p,Qd,!Eh),qe(T,0,!0)!==0)break e;T.timeoutHandle=RF(ea.bind(null,T,w,Dc,q,L1,p,Qd,jA,km,Eh,ae,2,-0,0),K);break e}ea(T,w,Dc,q,L1,p,Qd,jA,km,Eh,ae,0,-0,0)}}break}while(!0);kh(f)}function ea(f,p,w,T,K,ae,De,lt,Et,Kt,hr,xr,Yt,er){if(f.timeoutHandle=-1,xr=p.subtreeFlags,(xr&8192||(xr&16785408)===16785408)&&(H1={stylesheets:null,count:0,unsuspend:zX},J0(p),xr=qX(),xr!==null)){f.cancelPendingCommit=xr(Rf.bind(null,f,p,ae,w,T,K,De,lt,Et,hr,1,Yt,er)),dn(f,ae,De,!Kt);return}Rf(f,p,ae,w,T,K,De,lt,Et)}function Gr(f){for(var p=f;;){var w=p.tag;if((w===0||w===11||w===15)&&p.flags&16384&&(w=p.updateQueue,w!==null&&(w=w.stores,w!==null)))for(var T=0;T<w.length;T++){var K=w[T],ae=K.getSnapshot;K=K.value;try{if(!mn(ae(),K))return!1}catch{return!1}}if(w=p.child,p.subtreeFlags&16384&&w!==null)w.return=p,p=w;else{if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function dn(f,p,w,T){p&=~P1,p&=~jA,f.suspendedLanes|=p,f.pingedLanes&=~p,T&&(f.warmLanes|=p),T=f.expirationTimes;for(var K=p;0<K;){var ae=31-bt(K),De=1<<ae;T[ae]=-1,K&=~De}w!==0&&Dt(f,w,p)}function Xa(){return(os&6)===0?(O1(0),!1):!0}function Fa(){if(gn!==null){if(Gn===0)var f=gn.return;else f=gn,cd=In=null,Pi(f),Sf=null,Q0=0,f=gn;for(;f!==null;)bg(f.alternate,f),f=f.return;gn=null}}function Ur(f,p){var w=f.timeoutHandle;w!==-1&&(f.timeoutHandle=-1,EX(w)),w=f.cancelPendingCommit,w!==null&&(f.cancelPendingCommit=null,w()),Fa(),Rs=f,gn=w=fo(f.current,null),_n=p,Gn=0,hd=null,Eh=!1,_m=Pe(f,p),I1=!1,km=Qd=P1=jA=Bh=Di=0,Dc=tp=null,L1=!1,(p&8)!==0&&(p|=p&32);var T=f.entangledLanes;if(T!==0)for(f=f.entanglements,T&=p;0<T;){var K=31-bt(T),ae=1<<K;p|=f[K],T&=~ae}return Mf=p,hl(),w}function Sn(f,p){Mr=null,X.H=hg,p===oe||p===me?(p=Xe(),Gn=3):p===fe?(p=Xe(),Gn=4):Gn=p===b1?8:p!==null&&typeof p=="object"&&typeof p.then=="function"?6:1,hd=p,gn===null&&(Di=1,V0(f,Ka(p,f.current)))}function Cn(){var f=X.H;return X.H=hg,f===null?hg:f}function La(){var f=X.A;return X.A=wN,f}function Mi(){Di=4,Eh||(_n&4194048)!==_n&&ud.current!==null||(_m=!0),(Bh&134217727)===0&&(jA&134217727)===0||Rs===null||dn(Rs,_n,Qd,!1)}function Il(f,p,w){var T=os;os|=2;var K=Cn(),ae=La();(Rs!==f||_n!==p)&&(q=null,Ur(f,p)),p=!1;var De=Di;e:do try{if(Gn!==0&&gn!==null){var lt=gn,Et=hd;switch(Gn){case 8:Fa(),De=6;break e;case 3:case 2:case 9:case 6:ud.current===null&&(p=!0);var Kt=Gn;if(Gn=0,hd=null,Co(f,lt,Et,Kt),w&&_m){De=0;break e}break;default:Kt=Gn,Gn=0,hd=null,Co(f,lt,Et,Kt)}}Ad(),De=Di;break}catch(hr){Sn(f,hr)}while(!0);return p&&f.shellSuspendCounter++,cd=In=null,os=T,X.H=K,X.A=ae,gn===null&&(Rs=null,_n=0,hl()),De}function Ad(){for(;gn!==null;)Uf(gn)}function ys(f,p){var w=os;os|=2;var T=Cn(),K=La();Rs!==f||_n!==p?(q=null,O=Je()+500,Ur(f,p)):_m=Pe(f,p);e:do try{if(Gn!==0&&gn!==null){p=gn;var ae=hd;t:switch(Gn){case 1:Gn=0,hd=null,Co(f,p,ae,1);break;case 2:case 9:if(Be(ae)){Gn=0,hd=null,sc(p);break}p=function(){Gn!==2&&Gn!==9||Rs!==f||(Gn=7),kh(f)},ae.then(p,p);break e;case 3:Gn=7;break e;case 4:Gn=5;break e;case 7:Be(ae)?(Gn=0,hd=null,sc(p)):(Gn=0,hd=null,Co(f,p,ae,7));break;case 5:var De=null;switch(gn.tag){case 26:De=gn.memoizedState;case 5:case 27:var lt=gn;if(!De||JF(De)){Gn=0,hd=null;var Et=lt.sibling;if(Et!==null)gn=Et;else{var Kt=lt.return;Kt!==null?(gn=Kt,Wu(Kt)):gn=null}break t}}Gn=0,hd=null,Co(f,p,ae,5);break;case 6:Gn=0,hd=null,Co(f,p,ae,6);break;case 8:Fa(),Di=6;break e;default:throw Error(a(462))}}pl();break}catch(hr){Sn(f,hr)}while(!0);return cd=In=null,X.H=T,X.A=K,os=w,gn!==null?0:(Rs=null,_n=0,hl(),Di)}function pl(){for(;gn!==null&&!J();)Uf(gn)}function Uf(f){var p=_2(f.alternate,f,Mf);f.memoizedProps=f.pendingProps,p===null?Wu(f):gn=p}function sc(f){var p=f,w=p.alternate;switch(p.tag){case 15:case 0:p=yA(w,p,p.pendingProps,p.type,void 0,_n);break;case 11:p=yA(w,p,p.pendingProps,p.type.render,p.ref,_n);break;case 5:Pi(p);default:bg(w,p),p=gn=Id(p,Mf),p=_2(w,p,Mf)}f.memoizedProps=f.pendingProps,p===null?Wu(f):gn=p}function Co(f,p,w,T){cd=In=null,Pi(p),Sf=null,Q0=0;var K=p.return;try{if(B2(f,K,p,w,_n)){Di=1,V0(f,Ka(w,f.current)),gn=null;return}}catch(ae){if(K!==null)throw gn=K,ae;Di=1,V0(f,Ka(w,f.current)),gn=null;return}p.flags&32768?(jn||T===1?f=!0:_m||(_n&536870912)!==0?f=!1:(Eh=f=!0,(T===2||T===9||T===3||T===6)&&(T=ud.current,T!==null&&T.tag===13&&(T.flags|=16384))),vu(p,f)):Wu(p)}function Wu(f){var p=f;do{if((p.flags&32768)!==0){vu(p,Eh);return}f=p.return;var w=xN(p.alternate,p,Mf);if(w!==null){gn=w;return}if(p=p.sibling,p!==null){gn=p;return}gn=p=f}while(p!==null);Di===0&&(Di=5)}function vu(f,p){do{var w=yN(f.alternate,f);if(w!==null){w.flags&=32767,gn=w;return}if(w=f.return,w!==null&&(w.flags|=32768,w.subtreeFlags=0,w.deletions=null),!p&&(f=f.sibling,f!==null)){gn=f;return}gn=f=w}while(f!==null);Di=6,gn=null}function Rf(f,p,w,T,K,ae,De,lt,Et){f.cancelPendingCommit=null;do Hd();while(ye!==0);if((os&6)!==0)throw Error(a(327));if(p!==null){if(p===f.current)throw Error(a(177));if(ae=p.lanes|p.childLanes,ae|=ns,_t(f,w,ae,De,lt,Et),f===Rs&&(gn=Rs=null,_n=0),We=p,_e=f,xt=w,yt=ae,Lt=K,Ut=T,(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?(f.callbackNode=null,f.callbackPriority=0,pX(Se,function(){return SA(),null})):(f.callbackNode=null,f.callbackPriority=0),T=(p.flags&13878)!==0,(p.subtreeFlags&13878)!==0||T){T=X.T,X.T=null,K=le.p,le.p=2,De=os,os|=4;try{vN(f,p,w)}finally{os=De,le.p=K,X.T=T}}ye=1,Th(),Fh(),Yu()}}function Th(){if(ye===1){ye=0;var f=_e,p=We,w=(p.flags&13878)!==0;if((p.subtreeFlags&13878)!==0||w){w=X.T,X.T=null;var T=le.p;le.p=2;var K=os;os|=4;try{F1(p,f);var ae=PN,De=ii(f.containerInfo),lt=ae.focusedElem,Et=ae.selectionRange;if(De!==lt&&lt&&lt.ownerDocument&&ul(lt.ownerDocument.documentElement,lt)){if(Et!==null&&Kn(lt)){var Kt=Et.start,hr=Et.end;if(hr===void 0&&(hr=Kt),"selectionStart"in lt)lt.selectionStart=Kt,lt.selectionEnd=Math.min(hr,lt.value.length);else{var xr=lt.ownerDocument||document,Yt=xr&&xr.defaultView||window;if(Yt.getSelection){var er=Yt.getSelection(),Ra=lt.textContent.length,_a=Math.min(Et.start,Ra),Hs=Et.end===void 0?_a:Math.min(Et.end,Ra);!er.extend&&_a>Hs&&(De=Hs,Hs=_a,_a=De);var Ht=si(lt,_a),Ot=si(lt,Hs);if(Ht&&Ot&&(er.rangeCount!==1||er.anchorNode!==Ht.node||er.anchorOffset!==Ht.offset||er.focusNode!==Ot.node||er.focusOffset!==Ot.offset)){var qt=xr.createRange();qt.setStart(Ht.node,Ht.offset),er.removeAllRanges(),_a>Hs?(er.addRange(qt),er.extend(Ot.node,Ot.offset)):(qt.setEnd(Ot.node,Ot.offset),er.addRange(qt))}}}}for(xr=[],er=lt;er=er.parentNode;)er.nodeType===1&&xr.push({element:er,left:er.scrollLeft,top:er.scrollTop});for(typeof lt.focus=="function"&&lt.focus(),lt=0;lt<xr.length;lt++){var Ar=xr[lt];Ar.element.scrollLeft=Ar.left,Ar.element.scrollTop=Ar.top}}Y2=!!IN,PN=IN=null}finally{os=K,le.p=T,X.T=w}}f.current=p,ye=2}}function Fh(){if(ye===2){ye=0;var f=_e,p=We,w=(p.flags&8772)!==0;if((p.subtreeFlags&8772)!==0||w){w=X.T,X.T=null;var T=le.p;le.p=2;var K=os;os|=4;try{zn(f,p.alternate,p)}finally{os=K,le.p=T,X.T=w}}ye=3}}function Yu(){if(ye===4||ye===3){ye=0,ge();var f=_e,p=We,w=xt,T=Ut;(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?ye=5:(ye=0,We=_e=null,_h(f,f.pendingLanes));var K=f.pendingLanes;if(K===0&&(V=null),Dr(w),p=p.stateNode,rt&&typeof rt.onCommitFiberRoot=="function")try{rt.onCommitFiberRoot(ze,p,void 0,(p.current.flags&128)===128)}catch{}if(T!==null){p=X.T,K=le.p,le.p=2,X.T=null;try{for(var ae=f.onRecoverableError,De=0;De<T.length;De++){var lt=T[De];ae(lt.value,{componentStack:lt.stack})}}finally{X.T=p,le.p=K}}(xt&3)!==0&&Hd(),kh(f),K=f.pendingLanes,(w&4194090)!==0&&(K&42)!==0?f===or?zt++:(zt=0,or=f):zt=0,O1(0)}}function _h(f,p){(f.pooledCacheLanes&=p)===0&&(p=f.pooledCache,p!=null&&(f.pooledCache=null,yf(p)))}function Hd(f){return Th(),Fh(),Yu(),SA()}function SA(){if(ye!==5)return!1;var f=_e,p=yt;yt=0;var w=Dr(xt),T=X.T,K=le.p;try{le.p=32>w?32:w,X.T=null,w=Lt,Lt=null;var ae=_e,De=xt;if(ye=0,We=_e=null,xt=0,(os&6)!==0)throw Error(a(331));var lt=os;if(os|=4,Sg(ae.current),D2(ae,ae.current,De,w),os=lt,O1(0,!1),rt&&typeof rt.onPostCommitFiberRoot=="function")try{rt.onPostCommitFiberRoot(ze,ae)}catch{}return!0}finally{le.p=K,X.T=T,_h(f,p)}}function Im(f,p,w){p=Ka(w,p),p=v1(f.stateNode,p,2),f=Pt(f,p,2),f!==null&&(Ft(f,2),kh(f))}function Js(f,p,w){if(f.tag===3)Im(f,f,w);else for(;p!==null;){if(p.tag===3){Im(p,f,w);break}else if(p.tag===1){var T=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(V===null||!V.has(T))){f=Ka(w,f),w=q0(2),T=Pt(p,w,2),T!==null&&(K0(w,T,p,f),Ft(T,2),kh(T));break}}p=p.return}}function NN(f,p,w){var T=f.pingCache;if(T===null){T=f.pingCache=new Fm;var K=new Set;T.set(p,K)}else K=T.get(p),K===void 0&&(K=new Set,T.set(p,K));K.has(w)||(I1=!0,K.add(w),f=hX.bind(null,f,p,w),p.then(f,f))}function hX(f,p,w){var T=f.pingCache;T!==null&&T.delete(p),f.pingedLanes|=f.suspendedLanes&w,f.warmLanes&=~w,Rs===f&&(_n&w)===w&&(Di===4||Di===3&&(_n&62914560)===_n&&300>Je()-M?(os&2)===0&&Ur(f,0):P1|=w,km===_n&&(km=0)),kh(f)}function CF(f,p){p===0&&(p=st()),f=Sc(f,p),f!==null&&(Ft(f,p),kh(f))}function AX(f){var p=f.memoizedState,w=0;p!==null&&(w=p.retryLane),CF(f,w)}function mX(f,p){var w=0;switch(f.tag){case 13:var T=f.stateNode,K=f.memoizedState;K!==null&&(w=K.retryLane);break;case 19:T=f.stateNode;break;case 22:T=f.stateNode._retryCache;break;default:throw Error(a(314))}T!==null&&T.delete(p),CF(f,w)}function pX(f,p){return Ce(f,p)}var U2=null,Cg=null,jN=!1,R2=!1,SN=!1,rp=0;function kh(f){f!==Cg&&f.next===null&&(Cg===null?U2=Cg=f:Cg=Cg.next=f),R2=!0,jN||(jN=!0,xX())}function O1(f,p){if(!SN&&R2){SN=!0;do for(var w=!1,T=U2;T!==null;){if(f!==0){var K=T.pendingLanes;if(K===0)var ae=0;else{var De=T.suspendedLanes,lt=T.pingedLanes;ae=(1<<31-bt(42|f)+1)-1,ae&=K&~(De&~lt),ae=ae&201326741?ae&201326741|1:ae?ae|2:0}ae!==0&&(w=!0,FF(T,ae))}else ae=_n,ae=qe(T,T===Rs?ae:0,T.cancelPendingCommit!==null||T.timeoutHandle!==-1),(ae&3)===0||Pe(T,ae)||(w=!0,FF(T,ae));T=T.next}while(w);SN=!1}}function gX(){EF()}function EF(){R2=jN=!1;var f=0;rp!==0&&(CX()&&(f=rp),rp=0);for(var p=Je(),w=null,T=U2;T!==null;){var K=T.next,ae=BF(T,p);ae===0?(T.next=null,w===null?U2=K:w.next=K,K===null&&(Cg=w)):(w=T,(f!==0||(ae&3)!==0)&&(R2=!0)),T=K}O1(f)}function BF(f,p){for(var w=f.suspendedLanes,T=f.pingedLanes,K=f.expirationTimes,ae=f.pendingLanes&-62914561;0<ae;){var De=31-bt(ae),lt=1<<De,Et=K[De];Et===-1?((lt&w)===0||(lt&T)!==0)&&(K[De]=mt(lt,p)):Et<=p&&(f.expiredLanes|=lt),ae&=~lt}if(p=Rs,w=_n,w=qe(f,f===p?w:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),T=f.callbackNode,w===0||f===p&&(Gn===2||Gn===9)||f.cancelPendingCommit!==null)return T!==null&&T!==null&&ce(T),f.callbackNode=null,f.callbackPriority=0;if((w&3)===0||Pe(f,w)){if(p=w&-w,p===f.callbackPriority)return p;switch(T!==null&&ce(T),Dr(w)){case 2:case 8:w=nt;break;case 32:w=Se;break;case 268435456:w=at;break;default:w=Se}return T=TF.bind(null,f),w=Ce(w,T),f.callbackPriority=p,f.callbackNode=w,p}return T!==null&&T!==null&&ce(T),f.callbackPriority=2,f.callbackNode=null,2}function TF(f,p){if(ye!==0&&ye!==5)return f.callbackNode=null,f.callbackPriority=0,null;var w=f.callbackNode;if(Hd()&&f.callbackNode!==w)return null;var T=_n;return T=qe(f,f===Rs?T:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),T===0?null:(Za(f,T,p),BF(f,Je()),f.callbackNode!=null&&f.callbackNode===w?TF.bind(null,f):null)}function FF(f,p){if(Hd())return null;Za(f,p,!0)}function xX(){BX(function(){(os&6)!==0?Ce(Fe,gX):EF()})}function CN(){return rp===0&&(rp=Qe()),rp}function _F(f){return f==null||typeof f=="symbol"||typeof f=="boolean"?null:typeof f=="function"?f:Vi(""+f)}function kF(f,p){var w=p.ownerDocument.createElement("input");return w.name=p.name,w.value=p.value,f.id&&w.setAttribute("form",f.id),p.parentNode.insertBefore(w,p),f=new FormData(f),w.parentNode.removeChild(w),f}function yX(f,p,w,T,K){if(p==="submit"&&w&&w.stateNode===K){var ae=_F((K[ca]||null).action),De=T.submitter;De&&(p=(p=De[ca]||null)?_F(p.formAction):De.getAttribute("formAction"),p!==null&&(ae=p,De=null));var lt=new ol("action","action",null,T,K);f.push({event:lt,listeners:[{instance:null,listener:function(){if(T.defaultPrevented){if(rp!==0){var Et=De?kF(K,De):new FormData(K);Wi(w,{pending:!0,data:Et,method:K.method,action:ae},null,Et)}}else typeof ae=="function"&&(lt.preventDefault(),Et=De?kF(K,De):new FormData(K),Wi(w,{pending:!0,data:Et,method:K.method,action:ae},ae,Et))},currentTarget:K}]})}}for(var EN=0;EN<nd.length;EN++){var BN=nd[EN],vX=BN.toLowerCase(),bX=BN[0].toUpperCase()+BN.slice(1);ps(vX,"on"+bX)}ps(jo,"onAnimationEnd"),ps(Sl,"onAnimationIteration"),ps(fl,"onAnimationStart"),ps("dblclick","onDoubleClick"),ps("focusin","onFocus"),ps("focusout","onBlur"),ps(Vo,"onTransitionRun"),ps(_d,"onTransitionStart"),ps(kd,"onTransitionCancel"),ps(jc,"onTransitionEnd"),Mt("onMouseEnter",["mouseout","mouseover"]),Mt("onMouseLeave",["mouseout","mouseover"]),Mt("onPointerEnter",["pointerout","pointerover"]),Mt("onPointerLeave",["pointerout","pointerover"]),It("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),It("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),It("onBeforeInput",["compositionend","keypress","textInput","paste"]),It("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),It("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),It("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var D1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wX=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(D1));function IF(f,p){p=(p&4)!==0;for(var w=0;w<f.length;w++){var T=f[w],K=T.event;T=T.listeners;e:{var ae=void 0;if(p)for(var De=T.length-1;0<=De;De--){var lt=T[De],Et=lt.instance,Kt=lt.currentTarget;if(lt=lt.listener,Et!==ae&&K.isPropagationStopped())break e;ae=lt,K.currentTarget=Kt;try{ae(K)}catch(hr){Sm(hr)}K.currentTarget=null,ae=Et}else for(De=0;De<T.length;De++){if(lt=T[De],Et=lt.instance,Kt=lt.currentTarget,lt=lt.listener,Et!==ae&&K.isPropagationStopped())break e;ae=lt,K.currentTarget=Kt;try{ae(K)}catch(hr){Sm(hr)}K.currentTarget=null,ae=Et}}}}function En(f,p){var w=p[wt];w===void 0&&(w=p[wt]=new Set);var T=f+"__bubble";w.has(T)||(PF(p,f,2,!1),w.add(T))}function TN(f,p,w){var T=0;p&&(T|=4),PF(w,f,T,p)}var Q2="_reactListening"+Math.random().toString(36).slice(2);function FN(f){if(!f[Q2]){f[Q2]=!0,it.forEach(function(w){w!=="selectionchange"&&(wX.has(w)||TN(w,!1,f),TN(w,!0,f))});var p=f.nodeType===9?f:f.ownerDocument;p===null||p[Q2]||(p[Q2]=!0,TN("selectionchange",!1,p))}}function PF(f,p,w,T){switch(n_(p)){case 2:var K=WX;break;case 8:K=YX;break;default:K=zN}w=K.bind(null,p,w,f),K=void 0,!Ho||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(K=!0),T?K!==void 0?f.addEventListener(p,w,{capture:!0,passive:K}):f.addEventListener(p,w,!0):K!==void 0?f.addEventListener(p,w,{passive:K}):f.addEventListener(p,w,!1)}function _N(f,p,w,T,K){var ae=T;if((p&1)===0&&(p&2)===0&&T!==null)e:for(;;){if(T===null)return;var De=T.tag;if(De===3||De===4){var lt=T.stateNode.containerInfo;if(lt===K)break;if(De===4)for(De=T.return;De!==null;){var Et=De.tag;if((Et===3||Et===4)&&De.stateNode.containerInfo===K)return;De=De.return}for(;lt!==null;){if(De=Ie(lt),De===null)return;if(Et=De.tag,Et===5||Et===6||Et===26||Et===27){T=ae=De;continue e}lt=lt.parentNode}}T=T.return}Du(function(){var Kt=ae,hr=ai(w),xr=[];e:{var Yt=ec.get(f);if(Yt!==void 0){var er=ol,Ra=f;switch(f){case"keypress":if($o(w)===0)break e;case"keydown":case"keyup":er=fa;break;case"focusin":Ra="focus",er=cl;break;case"focusout":Ra="blur",er=cl;break;case"beforeblur":case"afterblur":er=cl;break;case"click":if(w.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":er=ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":er=oo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":er=hs;break;case jo:case Sl:case fl:er=ad;break;case jc:er=Re;break;case"scroll":case"scrollend":er=bc;break;case"wheel":er=Bt;break;case"copy":case"cut":case"paste":er=ue;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":er=nn;break;case"toggle":case"beforetoggle":er=Zt}var _a=(p&4)!==0,Hs=!_a&&(f==="scroll"||f==="scrollend"),Ht=_a?Yt!==null?Yt+"Capture":null:Yt;_a=[];for(var Ot=Kt,qt;Ot!==null;){var Ar=Ot;if(qt=Ar.stateNode,Ar=Ar.tag,Ar!==5&&Ar!==26&&Ar!==27||qt===null||Ht===null||(Ar=so(Ot,Ht),Ar!=null&&_a.push(M1(Ot,Ar,qt))),Hs)break;Ot=Ot.return}0<_a.length&&(Yt=new er(Yt,Ra,null,w,hr),xr.push({event:Yt,listeners:_a}))}}if((p&7)===0){e:{if(Yt=f==="mouseover"||f==="pointerover",er=f==="mouseout"||f==="pointerout",Yt&&w!==mi&&(Ra=w.relatedTarget||w.fromElement)&&(Ie(Ra)||Ra[oa]))break e;if((er||Yt)&&(Yt=hr.window===hr?hr:(Yt=hr.ownerDocument)?Yt.defaultView||Yt.parentWindow:window,er?(Ra=w.relatedTarget||w.toElement,er=Kt,Ra=Ra?Ie(Ra):null,Ra!==null&&(Hs=i(Ra),_a=Ra.tag,Ra!==Hs||_a!==5&&_a!==27&&_a!==6)&&(Ra=null)):(er=null,Ra=Kt),er!==Ra)){if(_a=ll,Ar="onMouseLeave",Ht="onMouseEnter",Ot="mouse",(f==="pointerout"||f==="pointerover")&&(_a=nn,Ar="onPointerLeave",Ht="onPointerEnter",Ot="pointer"),Hs=er==null?Yt:ct(er),qt=Ra==null?Yt:ct(Ra),Yt=new _a(Ar,Ot+"leave",er,w,hr),Yt.target=Hs,Yt.relatedTarget=qt,Ar=null,Ie(hr)===Kt&&(_a=new _a(Ht,Ot+"enter",Ra,w,hr),_a.target=qt,_a.relatedTarget=Hs,Ar=_a),Hs=Ar,er&&Ra)t:{for(_a=er,Ht=Ra,Ot=0,qt=_a;qt;qt=Eg(qt))Ot++;for(qt=0,Ar=Ht;Ar;Ar=Eg(Ar))qt++;for(;0<Ot-qt;)_a=Eg(_a),Ot--;for(;0<qt-Ot;)Ht=Eg(Ht),qt--;for(;Ot--;){if(_a===Ht||Ht!==null&&_a===Ht.alternate)break t;_a=Eg(_a),Ht=Eg(Ht)}_a=null}else _a=null;er!==null&&LF(xr,Yt,er,_a,!1),Ra!==null&&Hs!==null&&LF(xr,Hs,Ra,_a,!0)}}e:{if(Yt=Kt?ct(Kt):window,er=Yt.nodeName&&Yt.nodeName.toLowerCase(),er==="select"||er==="input"&&Yt.type==="file")var ta=jl;else if(Dn(Yt))if(Vs)ta=rs;else{ta=Nc;var wn=Ds}else er=Yt.nodeName,!er||er.toLowerCase()!=="input"||Yt.type!=="checkbox"&&Yt.type!=="radio"?Kt&&su(Kt.elementType)&&(ta=jl):ta=Zl;if(ta&&(ta=ta(f,Kt))){wc(xr,ta,w,hr);break e}wn&&wn(f,Yt,Kt),f==="focusout"&&Kt&&Yt.type==="number"&&Kt.memoizedProps.value!=null&&au(Yt,"number",Yt.value)}switch(wn=Kt?ct(Kt):window,f){case"focusin":(Dn(wn)||wn.contentEditable==="true")&&(qs=wn,Ks=Kt,as=null);break;case"focusout":as=Ks=qs=null;break;case"mousedown":Ki=!0;break;case"contextmenu":case"mouseup":case"dragend":Ki=!1,yn(xr,w,hr);break;case"selectionchange":if(uo)break;case"keydown":case"keyup":yn(xr,w,hr)}var Aa;if(Pr)e:{switch(f){case"compositionstart":var ka="onCompositionStart";break e;case"compositionend":ka="onCompositionEnd";break e;case"compositionupdate":ka="onCompositionUpdate";break e}ka=void 0}else Rn?Pa(f,w)&&(ka="onCompositionEnd"):f==="keydown"&&w.keyCode===229&&(ka="onCompositionStart");ka&&(ua&&w.locale!=="ko"&&(Rn||ka!=="onCompositionStart"?ka==="onCompositionEnd"&&Rn&&(Aa=rd()):(ws=hr,Fd="value"in ws?ws.value:ws.textContent,Rn=!0)),wn=H2(Kt,ka),0<wn.length&&(ka=new jt(ka,f,null,w,hr),xr.push({event:ka,listeners:wn}),Aa?ka.data=Aa:(Aa=ia(w),Aa!==null&&(ka.data=Aa)))),(Aa=da?As(f,w):co(f,w))&&(ka=H2(Kt,"onBeforeInput"),0<ka.length&&(wn=new jt("onBeforeInput","beforeinput",null,w,hr),xr.push({event:wn,listeners:ka}),wn.data=Aa)),yX(xr,f,Kt,w,hr)}IF(xr,p)})}function M1(f,p,w){return{instance:f,listener:p,currentTarget:w}}function H2(f,p){for(var w=p+"Capture",T=[];f!==null;){var K=f,ae=K.stateNode;if(K=K.tag,K!==5&&K!==26&&K!==27||ae===null||(K=so(f,w),K!=null&&T.unshift(M1(f,K,ae)),K=so(f,p),K!=null&&T.push(M1(f,K,ae))),f.tag===3)return T;f=f.return}return[]}function Eg(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5&&f.tag!==27);return f||null}function LF(f,p,w,T,K){for(var ae=p._reactName,De=[];w!==null&&w!==T;){var lt=w,Et=lt.alternate,Kt=lt.stateNode;if(lt=lt.tag,Et!==null&&Et===T)break;lt!==5&&lt!==26&&lt!==27||Kt===null||(Et=Kt,K?(Kt=so(w,ae),Kt!=null&&De.unshift(M1(w,Kt,Et))):K||(Kt=so(w,ae),Kt!=null&&De.push(M1(w,Kt,Et)))),w=w.return}De.length!==0&&f.push({event:p,listeners:De})}var NX=/\r\n?/g,jX=/\u0000|\uFFFD/g;function OF(f){return(typeof f=="string"?f:""+f).replace(NX,`
`).replace(jX,"")}function DF(f,p){return p=OF(p),OF(f)===p}function $2(){}function Qs(f,p,w,T,K,ae){switch(w){case"children":typeof T=="string"?p==="body"||p==="textarea"&&T===""||Gl(f,T):(typeof T=="number"||typeof T=="bigint")&&p!=="body"&&Gl(f,""+T);break;case"className":Sa(f,"class",T);break;case"tabIndex":Sa(f,"tabindex",T);break;case"dir":case"role":case"viewBox":case"width":case"height":Sa(f,w,T);break;case"style":nu(f,T,ae);break;case"data":if(p!=="object"){Sa(f,"data",T);break}case"src":case"href":if(T===""&&(p!=="a"||w!=="href")){f.removeAttribute(w);break}if(T==null||typeof T=="function"||typeof T=="symbol"||typeof T=="boolean"){f.removeAttribute(w);break}T=Vi(""+T),f.setAttribute(w,T);break;case"action":case"formAction":if(typeof T=="function"){f.setAttribute(w,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof ae=="function"&&(w==="formAction"?(p!=="input"&&Qs(f,p,"name",K.name,K,null),Qs(f,p,"formEncType",K.formEncType,K,null),Qs(f,p,"formMethod",K.formMethod,K,null),Qs(f,p,"formTarget",K.formTarget,K,null)):(Qs(f,p,"encType",K.encType,K,null),Qs(f,p,"method",K.method,K,null),Qs(f,p,"target",K.target,K,null)));if(T==null||typeof T=="symbol"||typeof T=="boolean"){f.removeAttribute(w);break}T=Vi(""+T),f.setAttribute(w,T);break;case"onClick":T!=null&&(f.onclick=$2);break;case"onScroll":T!=null&&En("scroll",f);break;case"onScrollEnd":T!=null&&En("scrollend",f);break;case"dangerouslySetInnerHTML":if(T!=null){if(typeof T!="object"||!("__html"in T))throw Error(a(61));if(w=T.__html,w!=null){if(K.children!=null)throw Error(a(60));f.innerHTML=w}}break;case"multiple":f.multiple=T&&typeof T!="function"&&typeof T!="symbol";break;case"muted":f.muted=T&&typeof T!="function"&&typeof T!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(T==null||typeof T=="function"||typeof T=="boolean"||typeof T=="symbol"){f.removeAttribute("xlink:href");break}w=Vi(""+T),f.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",w);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":T!=null&&typeof T!="function"&&typeof T!="symbol"?f.setAttribute(w,""+T):f.removeAttribute(w);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":T&&typeof T!="function"&&typeof T!="symbol"?f.setAttribute(w,""):f.removeAttribute(w);break;case"capture":case"download":T===!0?f.setAttribute(w,""):T!==!1&&T!=null&&typeof T!="function"&&typeof T!="symbol"?f.setAttribute(w,T):f.removeAttribute(w);break;case"cols":case"rows":case"size":case"span":T!=null&&typeof T!="function"&&typeof T!="symbol"&&!isNaN(T)&&1<=T?f.setAttribute(w,T):f.removeAttribute(w);break;case"rowSpan":case"start":T==null||typeof T=="function"||typeof T=="symbol"||isNaN(T)?f.removeAttribute(w):f.setAttribute(w,T);break;case"popover":En("beforetoggle",f),En("toggle",f),Na(f,"popover",T);break;case"xlinkActuate":za(f,"http://www.w3.org/1999/xlink","xlink:actuate",T);break;case"xlinkArcrole":za(f,"http://www.w3.org/1999/xlink","xlink:arcrole",T);break;case"xlinkRole":za(f,"http://www.w3.org/1999/xlink","xlink:role",T);break;case"xlinkShow":za(f,"http://www.w3.org/1999/xlink","xlink:show",T);break;case"xlinkTitle":za(f,"http://www.w3.org/1999/xlink","xlink:title",T);break;case"xlinkType":za(f,"http://www.w3.org/1999/xlink","xlink:type",T);break;case"xmlBase":za(f,"http://www.w3.org/XML/1998/namespace","xml:base",T);break;case"xmlLang":za(f,"http://www.w3.org/XML/1998/namespace","xml:lang",T);break;case"xmlSpace":za(f,"http://www.w3.org/XML/1998/namespace","xml:space",T);break;case"is":Na(f,"is",T);break;case"innerText":case"textContent":break;default:(!(2<w.length)||w[0]!=="o"&&w[0]!=="O"||w[1]!=="n"&&w[1]!=="N")&&(w=Wl.get(w)||w,Na(f,w,T))}}function kN(f,p,w,T,K,ae){switch(w){case"style":nu(f,T,ae);break;case"dangerouslySetInnerHTML":if(T!=null){if(typeof T!="object"||!("__html"in T))throw Error(a(61));if(w=T.__html,w!=null){if(K.children!=null)throw Error(a(60));f.innerHTML=w}}break;case"children":typeof T=="string"?Gl(f,T):(typeof T=="number"||typeof T=="bigint")&&Gl(f,""+T);break;case"onScroll":T!=null&&En("scroll",f);break;case"onScrollEnd":T!=null&&En("scrollend",f);break;case"onClick":T!=null&&(f.onclick=$2);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vt.hasOwnProperty(w))e:{if(w[0]==="o"&&w[1]==="n"&&(K=w.endsWith("Capture"),p=w.slice(2,K?w.length-7:void 0),ae=f[ca]||null,ae=ae!=null?ae[w]:null,typeof ae=="function"&&f.removeEventListener(p,ae,K),typeof T=="function")){typeof ae!="function"&&ae!==null&&(w in f?f[w]=null:f.hasAttribute(w)&&f.removeAttribute(w)),f.addEventListener(p,T,K);break e}w in f?f[w]=T:T===!0?f.setAttribute(w,""):Na(f,w,T)}}}function ic(f,p,w){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":En("error",f),En("load",f);var T=!1,K=!1,ae;for(ae in w)if(w.hasOwnProperty(ae)){var De=w[ae];if(De!=null)switch(ae){case"src":T=!0;break;case"srcSet":K=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,p));default:Qs(f,p,ae,De,w,null)}}K&&Qs(f,p,"srcSet",w.srcSet,w,null),T&&Qs(f,p,"src",w.src,w,null);return;case"input":En("invalid",f);var lt=ae=De=K=null,Et=null,Kt=null;for(T in w)if(w.hasOwnProperty(T)){var hr=w[T];if(hr!=null)switch(T){case"name":K=hr;break;case"type":De=hr;break;case"checked":Et=hr;break;case"defaultChecked":Kt=hr;break;case"value":ae=hr;break;case"defaultValue":lt=hr;break;case"children":case"dangerouslySetInnerHTML":if(hr!=null)throw Error(a(137,p));break;default:Qs(f,p,T,hr,w,null)}}ru(f,ae,lt,Et,Kt,De,K,!1),Ai(f);return;case"select":En("invalid",f),T=De=ae=null;for(K in w)if(w.hasOwnProperty(K)&&(lt=w[K],lt!=null))switch(K){case"value":ae=lt;break;case"defaultValue":De=lt;break;case"multiple":T=lt;default:Qs(f,p,K,lt,w,null)}p=ae,w=De,f.multiple=!!T,p!=null?Kl(f,!!T,p,!1):w!=null&&Kl(f,!!T,w,!0);return;case"textarea":En("invalid",f),ae=K=T=null;for(De in w)if(w.hasOwnProperty(De)&&(lt=w[De],lt!=null))switch(De){case"value":T=lt;break;case"defaultValue":K=lt;break;case"children":ae=lt;break;case"dangerouslySetInnerHTML":if(lt!=null)throw Error(a(91));break;default:Qs(f,p,De,lt,w,null)}Bd(f,T,K,ae),Ai(f);return;case"option":for(Et in w)if(w.hasOwnProperty(Et)&&(T=w[Et],T!=null))switch(Et){case"selected":f.selected=T&&typeof T!="function"&&typeof T!="symbol";break;default:Qs(f,p,Et,T,w,null)}return;case"dialog":En("beforetoggle",f),En("toggle",f),En("cancel",f),En("close",f);break;case"iframe":case"object":En("load",f);break;case"video":case"audio":for(T=0;T<D1.length;T++)En(D1[T],f);break;case"image":En("error",f),En("load",f);break;case"details":En("toggle",f);break;case"embed":case"source":case"link":En("error",f),En("load",f);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Kt in w)if(w.hasOwnProperty(Kt)&&(T=w[Kt],T!=null))switch(Kt){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,p));default:Qs(f,p,Kt,T,w,null)}return;default:if(su(p)){for(hr in w)w.hasOwnProperty(hr)&&(T=w[hr],T!==void 0&&kN(f,p,hr,T,w,void 0));return}}for(lt in w)w.hasOwnProperty(lt)&&(T=w[lt],T!=null&&Qs(f,p,lt,T,w,null))}function SX(f,p,w,T){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var K=null,ae=null,De=null,lt=null,Et=null,Kt=null,hr=null;for(er in w){var xr=w[er];if(w.hasOwnProperty(er)&&xr!=null)switch(er){case"checked":break;case"value":break;case"defaultValue":Et=xr;default:T.hasOwnProperty(er)||Qs(f,p,er,null,T,xr)}}for(var Yt in T){var er=T[Yt];if(xr=w[Yt],T.hasOwnProperty(Yt)&&(er!=null||xr!=null))switch(Yt){case"type":ae=er;break;case"name":K=er;break;case"checked":Kt=er;break;case"defaultChecked":hr=er;break;case"value":De=er;break;case"defaultValue":lt=er;break;case"children":case"dangerouslySetInnerHTML":if(er!=null)throw Error(a(137,p));break;default:er!==xr&&Qs(f,p,Yt,er,T,xr)}}ql(f,De,lt,Et,Kt,hr,ae,K);return;case"select":er=De=lt=Yt=null;for(ae in w)if(Et=w[ae],w.hasOwnProperty(ae)&&Et!=null)switch(ae){case"value":break;case"multiple":er=Et;default:T.hasOwnProperty(ae)||Qs(f,p,ae,null,T,Et)}for(K in T)if(ae=T[K],Et=w[K],T.hasOwnProperty(K)&&(ae!=null||Et!=null))switch(K){case"value":Yt=ae;break;case"defaultValue":lt=ae;break;case"multiple":De=ae;default:ae!==Et&&Qs(f,p,K,ae,T,Et)}p=lt,w=De,T=er,Yt!=null?Kl(f,!!w,Yt,!1):!!T!=!!w&&(p!=null?Kl(f,!!w,p,!0):Kl(f,!!w,w?[]:"",!1));return;case"textarea":er=Yt=null;for(lt in w)if(K=w[lt],w.hasOwnProperty(lt)&&K!=null&&!T.hasOwnProperty(lt))switch(lt){case"value":break;case"children":break;default:Qs(f,p,lt,null,T,K)}for(De in T)if(K=T[De],ae=w[De],T.hasOwnProperty(De)&&(K!=null||ae!=null))switch(De){case"value":Yt=K;break;case"defaultValue":er=K;break;case"children":break;case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(91));break;default:K!==ae&&Qs(f,p,De,K,T,ae)}sl(f,Yt,er);return;case"option":for(var Ra in w)if(Yt=w[Ra],w.hasOwnProperty(Ra)&&Yt!=null&&!T.hasOwnProperty(Ra))switch(Ra){case"selected":f.selected=!1;break;default:Qs(f,p,Ra,null,T,Yt)}for(Et in T)if(Yt=T[Et],er=w[Et],T.hasOwnProperty(Et)&&Yt!==er&&(Yt!=null||er!=null))switch(Et){case"selected":f.selected=Yt&&typeof Yt!="function"&&typeof Yt!="symbol";break;default:Qs(f,p,Et,Yt,T,er)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _a in w)Yt=w[_a],w.hasOwnProperty(_a)&&Yt!=null&&!T.hasOwnProperty(_a)&&Qs(f,p,_a,null,T,Yt);for(Kt in T)if(Yt=T[Kt],er=w[Kt],T.hasOwnProperty(Kt)&&Yt!==er&&(Yt!=null||er!=null))switch(Kt){case"children":case"dangerouslySetInnerHTML":if(Yt!=null)throw Error(a(137,p));break;default:Qs(f,p,Kt,Yt,T,er)}return;default:if(su(p)){for(var Hs in w)Yt=w[Hs],w.hasOwnProperty(Hs)&&Yt!==void 0&&!T.hasOwnProperty(Hs)&&kN(f,p,Hs,void 0,T,Yt);for(hr in T)Yt=T[hr],er=w[hr],!T.hasOwnProperty(hr)||Yt===er||Yt===void 0&&er===void 0||kN(f,p,hr,Yt,T,er);return}}for(var Ht in w)Yt=w[Ht],w.hasOwnProperty(Ht)&&Yt!=null&&!T.hasOwnProperty(Ht)&&Qs(f,p,Ht,null,T,Yt);for(xr in T)Yt=T[xr],er=w[xr],!T.hasOwnProperty(xr)||Yt===er||Yt==null&&er==null||Qs(f,p,xr,Yt,T,er)}var IN=null,PN=null;function z2(f){return f.nodeType===9?f:f.ownerDocument}function MF(f){switch(f){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function UF(f,p){if(f===0)switch(p){case"svg":return 1;case"math":return 2;default:return 0}return f===1&&p==="foreignObject"?0:f}function LN(f,p){return f==="textarea"||f==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.children=="bigint"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var ON=null;function CX(){var f=window.event;return f&&f.type==="popstate"?f===ON?!1:(ON=f,!0):(ON=null,!1)}var RF=typeof setTimeout=="function"?setTimeout:void 0,EX=typeof clearTimeout=="function"?clearTimeout:void 0,QF=typeof Promise=="function"?Promise:void 0,BX=typeof queueMicrotask=="function"?queueMicrotask:typeof QF<"u"?function(f){return QF.resolve(null).then(f).catch(TX)}:RF;function TX(f){setTimeout(function(){throw f})}function Pm(f){return f==="head"}function HF(f,p){var w=p,T=0,K=0;do{var ae=w.nextSibling;if(f.removeChild(w),ae&&ae.nodeType===8)if(w=ae.data,w==="/$"){if(0<T&&8>T){w=T;var De=f.ownerDocument;if(w&1&&U1(De.documentElement),w&2&&U1(De.body),w&4)for(w=De.head,U1(w),De=w.firstChild;De;){var lt=De.nextSibling,Et=De.nodeName;De[ot]||Et==="SCRIPT"||Et==="STYLE"||Et==="LINK"&&De.rel.toLowerCase()==="stylesheet"||w.removeChild(De),De=lt}}if(K===0){f.removeChild(ae),K1(p);return}K--}else w==="$"||w==="$?"||w==="$!"?K++:T=w.charCodeAt(0)-48;else T=0;w=ae}while(w);K1(p)}function DN(f){var p=f.firstChild;for(p&&p.nodeType===10&&(p=p.nextSibling);p;){var w=p;switch(p=p.nextSibling,w.nodeName){case"HTML":case"HEAD":case"BODY":DN(w),dt(w);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(w.rel.toLowerCase()==="stylesheet")continue}f.removeChild(w)}}function FX(f,p,w,T){for(;f.nodeType===1;){var K=w;if(f.nodeName.toLowerCase()!==p.toLowerCase()){if(!T&&(f.nodeName!=="INPUT"||f.type!=="hidden"))break}else if(T){if(!f[ot])switch(p){case"meta":if(!f.hasAttribute("itemprop"))break;return f;case"link":if(ae=f.getAttribute("rel"),ae==="stylesheet"&&f.hasAttribute("data-precedence"))break;if(ae!==K.rel||f.getAttribute("href")!==(K.href==null||K.href===""?null:K.href)||f.getAttribute("crossorigin")!==(K.crossOrigin==null?null:K.crossOrigin)||f.getAttribute("title")!==(K.title==null?null:K.title))break;return f;case"style":if(f.hasAttribute("data-precedence"))break;return f;case"script":if(ae=f.getAttribute("src"),(ae!==(K.src==null?null:K.src)||f.getAttribute("type")!==(K.type==null?null:K.type)||f.getAttribute("crossorigin")!==(K.crossOrigin==null?null:K.crossOrigin))&&ae&&f.hasAttribute("async")&&!f.hasAttribute("itemprop"))break;return f;default:return f}}else if(p==="input"&&f.type==="hidden"){var ae=K.name==null?null:""+K.name;if(K.type==="hidden"&&f.getAttribute("name")===ae)return f}else return f;if(f=Qf(f.nextSibling),f===null)break}return null}function _X(f,p,w){if(p==="")return null;for(;f.nodeType!==3;)if((f.nodeType!==1||f.nodeName!=="INPUT"||f.type!=="hidden")&&!w||(f=Qf(f.nextSibling),f===null))return null;return f}function MN(f){return f.data==="$!"||f.data==="$?"&&f.ownerDocument.readyState==="complete"}function kX(f,p){var w=f.ownerDocument;if(f.data!=="$?"||w.readyState==="complete")p();else{var T=function(){p(),w.removeEventListener("DOMContentLoaded",T)};w.addEventListener("DOMContentLoaded",T),f._reactRetry=T}}function Qf(f){for(;f!=null;f=f.nextSibling){var p=f.nodeType;if(p===1||p===3)break;if(p===8){if(p=f.data,p==="$"||p==="$!"||p==="$?"||p==="F!"||p==="F")break;if(p==="/$")return null}}return f}var UN=null;function $F(f){f=f.previousSibling;for(var p=0;f;){if(f.nodeType===8){var w=f.data;if(w==="$"||w==="$!"||w==="$?"){if(p===0)return f;p--}else w==="/$"&&p++}f=f.previousSibling}return null}function zF(f,p,w){switch(p=z2(w),f){case"html":if(f=p.documentElement,!f)throw Error(a(452));return f;case"head":if(f=p.head,!f)throw Error(a(453));return f;case"body":if(f=p.body,!f)throw Error(a(454));return f;default:throw Error(a(451))}}function U1(f){for(var p=f.attributes;p.length;)f.removeAttributeNode(p[0]);dt(f)}var Xu=new Map,VF=new Set;function V2(f){return typeof f.getRootNode=="function"?f.getRootNode():f.nodeType===9?f:f.ownerDocument}var CA=le.d;le.d={f:IX,r:PX,D:LX,C:OX,L:DX,m:MX,X:RX,S:UX,M:QX};function IX(){var f=CA.f(),p=Xa();return f||p}function PX(f){var p=Ne(f);p!==null&&p.tag===5&&p.type==="form"?Ud(p):CA.r(f)}var Bg=typeof document>"u"?null:document;function qF(f,p,w){var T=Bg;if(T&&typeof p=="string"&&p){var K=Ba(p);K='link[rel="'+f+'"][href="'+K+'"]',typeof w=="string"&&(K+='[crossorigin="'+w+'"]'),VF.has(K)||(VF.add(K),f={rel:f,crossOrigin:w,href:p},T.querySelector(K)===null&&(p=T.createElement("link"),ic(p,"link",f),Ee(p),T.head.appendChild(p)))}}function LX(f){CA.D(f),qF("dns-prefetch",f,null)}function OX(f,p){CA.C(f,p),qF("preconnect",f,p)}function DX(f,p,w){CA.L(f,p,w);var T=Bg;if(T&&f&&p){var K='link[rel="preload"][as="'+Ba(p)+'"]';p==="image"&&w&&w.imageSrcSet?(K+='[imagesrcset="'+Ba(w.imageSrcSet)+'"]',typeof w.imageSizes=="string"&&(K+='[imagesizes="'+Ba(w.imageSizes)+'"]')):K+='[href="'+Ba(f)+'"]';var ae=K;switch(p){case"style":ae=Tg(f);break;case"script":ae=Fg(f)}Xu.has(ae)||(f=d({rel:"preload",href:p==="image"&&w&&w.imageSrcSet?void 0:f,as:p},w),Xu.set(ae,f),T.querySelector(K)!==null||p==="style"&&T.querySelector(R1(ae))||p==="script"&&T.querySelector(Q1(ae))||(p=T.createElement("link"),ic(p,"link",f),Ee(p),T.head.appendChild(p)))}}function MX(f,p){CA.m(f,p);var w=Bg;if(w&&f){var T=p&&typeof p.as=="string"?p.as:"script",K='link[rel="modulepreload"][as="'+Ba(T)+'"][href="'+Ba(f)+'"]',ae=K;switch(T){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":ae=Fg(f)}if(!Xu.has(ae)&&(f=d({rel:"modulepreload",href:f},p),Xu.set(ae,f),w.querySelector(K)===null)){switch(T){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(w.querySelector(Q1(ae)))return}T=w.createElement("link"),ic(T,"link",f),Ee(T),w.head.appendChild(T)}}}function UX(f,p,w){CA.S(f,p,w);var T=Bg;if(T&&f){var K=Ye(T).hoistableStyles,ae=Tg(f);p=p||"default";var De=K.get(ae);if(!De){var lt={loading:0,preload:null};if(De=T.querySelector(R1(ae)))lt.loading=5;else{f=d({rel:"stylesheet",href:f,"data-precedence":p},w),(w=Xu.get(ae))&&RN(f,w);var Et=De=T.createElement("link");Ee(Et),ic(Et,"link",f),Et._p=new Promise(function(Kt,hr){Et.onload=Kt,Et.onerror=hr}),Et.addEventListener("load",function(){lt.loading|=1}),Et.addEventListener("error",function(){lt.loading|=2}),lt.loading|=4,q2(De,p,T)}De={type:"stylesheet",instance:De,count:1,state:lt},K.set(ae,De)}}}function RX(f,p){CA.X(f,p);var w=Bg;if(w&&f){var T=Ye(w).hoistableScripts,K=Fg(f),ae=T.get(K);ae||(ae=w.querySelector(Q1(K)),ae||(f=d({src:f,async:!0},p),(p=Xu.get(K))&&QN(f,p),ae=w.createElement("script"),Ee(ae),ic(ae,"link",f),w.head.appendChild(ae)),ae={type:"script",instance:ae,count:1,state:null},T.set(K,ae))}}function QX(f,p){CA.M(f,p);var w=Bg;if(w&&f){var T=Ye(w).hoistableScripts,K=Fg(f),ae=T.get(K);ae||(ae=w.querySelector(Q1(K)),ae||(f=d({src:f,async:!0,type:"module"},p),(p=Xu.get(K))&&QN(f,p),ae=w.createElement("script"),Ee(ae),ic(ae,"link",f),w.head.appendChild(ae)),ae={type:"script",instance:ae,count:1,state:null},T.set(K,ae))}}function KF(f,p,w,T){var K=(K=pe.current)?V2(K):null;if(!K)throw Error(a(446));switch(f){case"meta":case"title":return null;case"style":return typeof w.precedence=="string"&&typeof w.href=="string"?(p=Tg(w.href),w=Ye(K).hoistableStyles,T=w.get(p),T||(T={type:"style",instance:null,count:0,state:null},w.set(p,T)),T):{type:"void",instance:null,count:0,state:null};case"link":if(w.rel==="stylesheet"&&typeof w.href=="string"&&typeof w.precedence=="string"){f=Tg(w.href);var ae=Ye(K).hoistableStyles,De=ae.get(f);if(De||(K=K.ownerDocument||K,De={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},ae.set(f,De),(ae=K.querySelector(R1(f)))&&!ae._p&&(De.instance=ae,De.state.loading=5),Xu.has(f)||(w={rel:"preload",as:"style",href:w.href,crossOrigin:w.crossOrigin,integrity:w.integrity,media:w.media,hrefLang:w.hrefLang,referrerPolicy:w.referrerPolicy},Xu.set(f,w),ae||HX(K,f,w,De.state))),p&&T===null)throw Error(a(528,""));return De}if(p&&T!==null)throw Error(a(529,""));return null;case"script":return p=w.async,w=w.src,typeof w=="string"&&p&&typeof p!="function"&&typeof p!="symbol"?(p=Fg(w),w=Ye(K).hoistableScripts,T=w.get(p),T||(T={type:"script",instance:null,count:0,state:null},w.set(p,T)),T):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,f))}}function Tg(f){return'href="'+Ba(f)+'"'}function R1(f){return'link[rel="stylesheet"]['+f+"]"}function GF(f){return d({},f,{"data-precedence":f.precedence,precedence:null})}function HX(f,p,w,T){f.querySelector('link[rel="preload"][as="style"]['+p+"]")?T.loading=1:(p=f.createElement("link"),T.preload=p,p.addEventListener("load",function(){return T.loading|=1}),p.addEventListener("error",function(){return T.loading|=2}),ic(p,"link",w),Ee(p),f.head.appendChild(p))}function Fg(f){return'[src="'+Ba(f)+'"]'}function Q1(f){return"script[async]"+f}function WF(f,p,w){if(p.count++,p.instance===null)switch(p.type){case"style":var T=f.querySelector('style[data-href~="'+Ba(w.href)+'"]');if(T)return p.instance=T,Ee(T),T;var K=d({},w,{"data-href":w.href,"data-precedence":w.precedence,href:null,precedence:null});return T=(f.ownerDocument||f).createElement("style"),Ee(T),ic(T,"style",K),q2(T,w.precedence,f),p.instance=T;case"stylesheet":K=Tg(w.href);var ae=f.querySelector(R1(K));if(ae)return p.state.loading|=4,p.instance=ae,Ee(ae),ae;T=GF(w),(K=Xu.get(K))&&RN(T,K),ae=(f.ownerDocument||f).createElement("link"),Ee(ae);var De=ae;return De._p=new Promise(function(lt,Et){De.onload=lt,De.onerror=Et}),ic(ae,"link",T),p.state.loading|=4,q2(ae,w.precedence,f),p.instance=ae;case"script":return ae=Fg(w.src),(K=f.querySelector(Q1(ae)))?(p.instance=K,Ee(K),K):(T=w,(K=Xu.get(ae))&&(T=d({},w),QN(T,K)),f=f.ownerDocument||f,K=f.createElement("script"),Ee(K),ic(K,"link",T),f.head.appendChild(K),p.instance=K);case"void":return null;default:throw Error(a(443,p.type))}else p.type==="stylesheet"&&(p.state.loading&4)===0&&(T=p.instance,p.state.loading|=4,q2(T,w.precedence,f));return p.instance}function q2(f,p,w){for(var T=w.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),K=T.length?T[T.length-1]:null,ae=K,De=0;De<T.length;De++){var lt=T[De];if(lt.dataset.precedence===p)ae=lt;else if(ae!==K)break}ae?ae.parentNode.insertBefore(f,ae.nextSibling):(p=w.nodeType===9?w.head:w,p.insertBefore(f,p.firstChild))}function RN(f,p){f.crossOrigin==null&&(f.crossOrigin=p.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=p.referrerPolicy),f.title==null&&(f.title=p.title)}function QN(f,p){f.crossOrigin==null&&(f.crossOrigin=p.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=p.referrerPolicy),f.integrity==null&&(f.integrity=p.integrity)}var K2=null;function YF(f,p,w){if(K2===null){var T=new Map,K=K2=new Map;K.set(w,T)}else K=K2,T=K.get(w),T||(T=new Map,K.set(w,T));if(T.has(f))return T;for(T.set(f,null),w=w.getElementsByTagName(f),K=0;K<w.length;K++){var ae=w[K];if(!(ae[ot]||ae[Sr]||f==="link"&&ae.getAttribute("rel")==="stylesheet")&&ae.namespaceURI!=="http://www.w3.org/2000/svg"){var De=ae.getAttribute(p)||"";De=f+De;var lt=T.get(De);lt?lt.push(ae):T.set(De,[ae])}}return T}function XF(f,p,w){f=f.ownerDocument||f,f.head.insertBefore(w,p==="title"?f.querySelector("head > title"):null)}function $X(f,p,w){if(w===1||p.itemProp!=null)return!1;switch(f){case"meta":case"title":return!0;case"style":if(typeof p.precedence!="string"||typeof p.href!="string"||p.href==="")break;return!0;case"link":if(typeof p.rel!="string"||typeof p.href!="string"||p.href===""||p.onLoad||p.onError)break;switch(p.rel){case"stylesheet":return f=p.disabled,typeof p.precedence=="string"&&f==null;default:return!0}case"script":if(p.async&&typeof p.async!="function"&&typeof p.async!="symbol"&&!p.onLoad&&!p.onError&&p.src&&typeof p.src=="string")return!0}return!1}function JF(f){return!(f.type==="stylesheet"&&(f.state.loading&3)===0)}var H1=null;function zX(){}function VX(f,p,w){if(H1===null)throw Error(a(475));var T=H1;if(p.type==="stylesheet"&&(typeof w.media!="string"||matchMedia(w.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var K=Tg(w.href),ae=f.querySelector(R1(K));if(ae){f=ae._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(T.count++,T=G2.bind(T),f.then(T,T)),p.state.loading|=4,p.instance=ae,Ee(ae);return}ae=f.ownerDocument||f,w=GF(w),(K=Xu.get(K))&&RN(w,K),ae=ae.createElement("link"),Ee(ae);var De=ae;De._p=new Promise(function(lt,Et){De.onload=lt,De.onerror=Et}),ic(ae,"link",w),p.instance=ae}T.stylesheets===null&&(T.stylesheets=new Map),T.stylesheets.set(p,f),(f=p.state.preload)&&(p.state.loading&3)===0&&(T.count++,p=G2.bind(T),f.addEventListener("load",p),f.addEventListener("error",p))}}function qX(){if(H1===null)throw Error(a(475));var f=H1;return f.stylesheets&&f.count===0&&HN(f,f.stylesheets),0<f.count?function(p){var w=setTimeout(function(){if(f.stylesheets&&HN(f,f.stylesheets),f.unsuspend){var T=f.unsuspend;f.unsuspend=null,T()}},6e4);return f.unsuspend=p,function(){f.unsuspend=null,clearTimeout(w)}}:null}function G2(){if(this.count--,this.count===0){if(this.stylesheets)HN(this,this.stylesheets);else if(this.unsuspend){var f=this.unsuspend;this.unsuspend=null,f()}}}var W2=null;function HN(f,p){f.stylesheets=null,f.unsuspend!==null&&(f.count++,W2=new Map,p.forEach(KX,f),W2=null,G2.call(f))}function KX(f,p){if(!(p.state.loading&4)){var w=W2.get(f);if(w)var T=w.get(null);else{w=new Map,W2.set(f,w);for(var K=f.querySelectorAll("link[data-precedence],style[data-precedence]"),ae=0;ae<K.length;ae++){var De=K[ae];(De.nodeName==="LINK"||De.getAttribute("media")!=="not all")&&(w.set(De.dataset.precedence,De),T=De)}T&&w.set(null,T)}K=p.instance,De=K.getAttribute("data-precedence"),ae=w.get(De)||T,ae===T&&w.set(null,K),w.set(De,K),this.count++,T=G2.bind(this),K.addEventListener("load",T),K.addEventListener("error",T),ae?ae.parentNode.insertBefore(K,ae.nextSibling):(f=f.nodeType===9?f.head:f,f.insertBefore(K,f.firstChild)),p.state.loading|=4}}var $1={$$typeof:C,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function GX(f,p,w,T,K,ae,De,lt){this.tag=1,this.containerInfo=f,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=tt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tt(0),this.hiddenUpdates=tt(null),this.identifierPrefix=T,this.onUncaughtError=K,this.onCaughtError=ae,this.onRecoverableError=De,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=lt,this.incompleteTransitions=new Map}function ZF(f,p,w,T,K,ae,De,lt,Et,Kt,hr,xr){return f=new GX(f,p,w,De,lt,Et,Kt,xr),p=1,ae===!0&&(p|=24),ae=yi(3,null,null,p),f.current=ae,ae.stateNode=f,p=lA(),p.refCount++,f.pooledCache=p,p.refCount++,ae.memoizedState={element:T,isDehydrated:w,cache:p},et(ae),f}function e_(f){return f?(f=Tn,f):Tn}function t_(f,p,w,T,K,ae){K=e_(K),T.context===null?T.context=K:T.pendingContext=K,T=Ct(p),T.payload={element:w},ae=ae===void 0?null:ae,ae!==null&&(T.callback=ae),w=Pt(f,T,p),w!==null&&(_r(w,f,p),Tt(w,f,p))}function r_(f,p){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var w=f.retryLane;f.retryLane=w!==0&&w<p?w:p}}function $N(f,p){r_(f,p),(f=f.alternate)&&r_(f,p)}function a_(f){if(f.tag===13){var p=Sc(f,67108864);p!==null&&_r(p,f,67108864),$N(f,67108864)}}var Y2=!0;function WX(f,p,w,T){var K=X.T;X.T=null;var ae=le.p;try{le.p=2,zN(f,p,w,T)}finally{le.p=ae,X.T=K}}function YX(f,p,w,T){var K=X.T;X.T=null;var ae=le.p;try{le.p=8,zN(f,p,w,T)}finally{le.p=ae,X.T=K}}function zN(f,p,w,T){if(Y2){var K=VN(T);if(K===null)_N(f,p,T,X2,w),s_(f,T);else if(JX(K,f,p,w,T))T.stopPropagation();else if(s_(f,T),p&4&&-1<XX.indexOf(f)){for(;K!==null;){var ae=Ne(K);if(ae!==null)switch(ae.tag){case 3:if(ae=ae.stateNode,ae.current.memoizedState.isDehydrated){var De=At(ae.pendingLanes);if(De!==0){var lt=ae;for(lt.pendingLanes|=2,lt.entangledLanes|=2;De;){var Et=1<<31-bt(De);lt.entanglements[1]|=Et,De&=~Et}kh(ae),(os&6)===0&&(O=Je()+500,O1(0))}}break;case 13:lt=Sc(ae,2),lt!==null&&_r(lt,ae,2),Xa(),$N(ae,2)}if(ae=VN(T),ae===null&&_N(f,p,T,X2,w),ae===K)break;K=ae}K!==null&&T.stopPropagation()}else _N(f,p,T,null,w)}}function VN(f){return f=ai(f),qN(f)}var X2=null;function qN(f){if(X2=null,f=Ie(f),f!==null){var p=i(f);if(p===null)f=null;else{var w=p.tag;if(w===13){if(f=o(p),f!==null)return f;f=null}else if(w===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;f=null}else p!==f&&(f=null)}}return X2=f,null}function n_(f){switch(f){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ke()){case Fe:return 2;case nt:return 8;case Se:case Me:return 32;case at:return 268435456;default:return 32}default:return 32}}var KN=!1,Lm=null,Om=null,Dm=null,z1=new Map,V1=new Map,Mm=[],XX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function s_(f,p){switch(f){case"focusin":case"focusout":Lm=null;break;case"dragenter":case"dragleave":Om=null;break;case"mouseover":case"mouseout":Dm=null;break;case"pointerover":case"pointerout":z1.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":V1.delete(p.pointerId)}}function q1(f,p,w,T,K,ae){return f===null||f.nativeEvent!==ae?(f={blockedOn:p,domEventName:w,eventSystemFlags:T,nativeEvent:ae,targetContainers:[K]},p!==null&&(p=Ne(p),p!==null&&a_(p)),f):(f.eventSystemFlags|=T,p=f.targetContainers,K!==null&&p.indexOf(K)===-1&&p.push(K),f)}function JX(f,p,w,T,K){switch(p){case"focusin":return Lm=q1(Lm,f,p,w,T,K),!0;case"dragenter":return Om=q1(Om,f,p,w,T,K),!0;case"mouseover":return Dm=q1(Dm,f,p,w,T,K),!0;case"pointerover":var ae=K.pointerId;return z1.set(ae,q1(z1.get(ae)||null,f,p,w,T,K)),!0;case"gotpointercapture":return ae=K.pointerId,V1.set(ae,q1(V1.get(ae)||null,f,p,w,T,K)),!0}return!1}function i_(f){var p=Ie(f.target);if(p!==null){var w=i(p);if(w!==null){if(p=w.tag,p===13){if(p=o(w),p!==null){f.blockedOn=p,Fr(f.priority,function(){if(w.tag===13){var T=Lr();T=cr(T);var K=Sc(w,T);K!==null&&_r(K,w,T),$N(w,T)}});return}}else if(p===3&&w.stateNode.current.memoizedState.isDehydrated){f.blockedOn=w.tag===3?w.stateNode.containerInfo:null;return}}}f.blockedOn=null}function J2(f){if(f.blockedOn!==null)return!1;for(var p=f.targetContainers;0<p.length;){var w=VN(f.nativeEvent);if(w===null){w=f.nativeEvent;var T=new w.constructor(w.type,w);mi=T,w.target.dispatchEvent(T),mi=null}else return p=Ne(w),p!==null&&a_(p),f.blockedOn=w,!1;p.shift()}return!0}function o_(f,p,w){J2(f)&&w.delete(p)}function ZX(){KN=!1,Lm!==null&&J2(Lm)&&(Lm=null),Om!==null&&J2(Om)&&(Om=null),Dm!==null&&J2(Dm)&&(Dm=null),z1.forEach(o_),V1.forEach(o_)}function Z2(f,p){f.blockedOn===p&&(f.blockedOn=null,KN||(KN=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ZX)))}var eb=null;function l_(f){eb!==f&&(eb=f,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){eb===f&&(eb=null);for(var p=0;p<f.length;p+=3){var w=f[p],T=f[p+1],K=f[p+2];if(typeof T!="function"){if(qN(T||w)===null)continue;break}var ae=Ne(w);ae!==null&&(f.splice(p,3),p-=3,Wi(ae,{pending:!0,data:K,method:w.method,action:T},T,K))}}))}function K1(f){function p(Et){return Z2(Et,f)}Lm!==null&&Z2(Lm,f),Om!==null&&Z2(Om,f),Dm!==null&&Z2(Dm,f),z1.forEach(p),V1.forEach(p);for(var w=0;w<Mm.length;w++){var T=Mm[w];T.blockedOn===f&&(T.blockedOn=null)}for(;0<Mm.length&&(w=Mm[0],w.blockedOn===null);)i_(w),w.blockedOn===null&&Mm.shift();if(w=(f.ownerDocument||f).$$reactFormReplay,w!=null)for(T=0;T<w.length;T+=3){var K=w[T],ae=w[T+1],De=K[ca]||null;if(typeof ae=="function")De||l_(w);else if(De){var lt=null;if(ae&&ae.hasAttribute("formAction")){if(K=ae,De=ae[ca]||null)lt=De.formAction;else if(qN(K)!==null)continue}else lt=De.action;typeof lt=="function"?w[T+1]=lt:(w.splice(T,3),T-=3),l_(w)}}}function GN(f){this._internalRoot=f}tb.prototype.render=GN.prototype.render=function(f){var p=this._internalRoot;if(p===null)throw Error(a(409));var w=p.current,T=Lr();t_(w,T,f,p,null,null)},tb.prototype.unmount=GN.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var p=f.containerInfo;t_(f.current,2,null,f,null,null),Xa(),p[oa]=null}};function tb(f){this._internalRoot=f}tb.prototype.unstable_scheduleHydration=function(f){if(f){var p=Ea();f={blockedOn:null,target:f,priority:p};for(var w=0;w<Mm.length&&p!==0&&p<Mm[w].priority;w++);Mm.splice(w,0,f),w===0&&i_(f)}};var c_=t.version;if(c_!=="19.1.1")throw Error(a(527,c_,"19.1.1"));le.findDOMNode=function(f){var p=f._reactInternals;if(p===void 0)throw typeof f.render=="function"?Error(a(188)):(f=Object.keys(f).join(","),Error(a(268,f)));return f=c(p),f=f!==null?u(f):null,f=f===null?null:f.stateNode,f};var eJ={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rb.isDisabled&&rb.supportsFiber)try{ze=rb.inject(eJ),rt=rb}catch{}}return W1.createRoot=function(f,p){if(!s(f))throw Error(a(299));var w=!1,T="",K=g1,ae=x1,De=mg,lt=null;return p!=null&&(p.unstable_strictMode===!0&&(w=!0),p.identifierPrefix!==void 0&&(T=p.identifierPrefix),p.onUncaughtError!==void 0&&(K=p.onUncaughtError),p.onCaughtError!==void 0&&(ae=p.onCaughtError),p.onRecoverableError!==void 0&&(De=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(lt=p.unstable_transitionCallbacks)),p=ZF(f,1,!1,null,null,w,T,K,ae,De,lt,null),f[oa]=p.current,FN(f),new GN(p)},W1.hydrateRoot=function(f,p,w){if(!s(f))throw Error(a(299));var T=!1,K="",ae=g1,De=x1,lt=mg,Et=null,Kt=null;return w!=null&&(w.unstable_strictMode===!0&&(T=!0),w.identifierPrefix!==void 0&&(K=w.identifierPrefix),w.onUncaughtError!==void 0&&(ae=w.onUncaughtError),w.onCaughtError!==void 0&&(De=w.onCaughtError),w.onRecoverableError!==void 0&&(lt=w.onRecoverableError),w.unstable_transitionCallbacks!==void 0&&(Et=w.unstable_transitionCallbacks),w.formState!==void 0&&(Kt=w.formState)),p=ZF(f,1,!0,p,w??null,T,K,ae,De,lt,Et,Kt),p.context=e_(null),w=p.current,T=Lr(),T=cr(T),K=Ct(T),K.callback=null,Pt(w,K,T),w=T,p.current.lanes=w,Ft(p,w),kh(p),f[oa]=p.current,FN(f),new tb(p)},W1.version="19.1.1",W1}var y_;function fJ(){if(y_)return XN.exports;y_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),XN.exports=uJ(),XN.exports}var hJ=fJ();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var v_="popstate";function AJ(e={}){function t(a,s){let{pathname:i,search:o,hash:l}=a.location;return CC("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(a,s){return typeof s=="string"?s:Yy(s)}return pJ(t,r,null,e)}function $i(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function sh(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function mJ(){return Math.random().toString(36).substring(2,10)}function b_(e,t){return{usr:e.state,key:e.key,idx:t}}function CC(e,t,r=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Rx(t):t,state:r,key:t&&t.key||a||mJ()}}function Yy({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Rx(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function pJ(e,t,r,a={}){let{window:s=document.defaultView,v5Compat:i=!1}=a,o=s.history,l="POP",c=null,u=d();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function d(){return(o.state||{idx:null}).idx}function A(){l="POP";let v=d(),b=v==null?null:v-u;u=v,c&&c({action:l,location:x.location,delta:b})}function m(v,b){l="PUSH";let j=CC(x.location,v,b);u=d()+1;let C=b_(j,u),E=x.createHref(j);try{o.pushState(C,"",E)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(E)}i&&c&&c({action:l,location:x.location,delta:1})}function h(v,b){l="REPLACE";let j=CC(x.location,v,b);u=d();let C=b_(j,u),E=x.createHref(j);o.replaceState(C,"",E),i&&c&&c({action:l,location:x.location,delta:0})}function y(v){return gJ(v)}let x={get action(){return l},get location(){return e(s,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(v_,A),c=v,()=>{s.removeEventListener(v_,A),c=null}},createHref(v){return t(s,v)},createURL:y,encodeLocation(v){let b=y(v);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:m,replace:h,go(v){return o.go(v)}};return x}function gJ(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),$i(r,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:Yy(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function sR(e,t,r="/"){return xJ(e,t,r,!1)}function xJ(e,t,r,a){let s=typeof t=="string"?Rx(t):t,i=WA(s.pathname||"/",r);if(i==null)return null;let o=iR(e);yJ(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=FJ(i);l=BJ(o[c],u,a)}return l}function iR(e,t=[],r=[],a="",s=!1){let i=(o,l,c=s,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(a)&&c)return;$i(d.relativePath.startsWith(a),`Absolute route path "${d.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(a.length)}let A=HA([a,d.relativePath]),m=r.concat(d);o.children&&o.children.length>0&&($i(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),iR(o.children,t,m,A,c)),!(o.path==null&&!o.index)&&t.push({path:A,score:CJ(A,o.index),routesMeta:m})};return e.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))i(o,l);else for(let c of oR(o.path))i(o,l,!0,c)}),t}function oR(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(a.length===0)return s?[i,""]:[i];let o=oR(a.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function yJ(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:EJ(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var vJ=/^:[\w-]+$/,bJ=3,wJ=2,NJ=1,jJ=10,SJ=-2,w_=e=>e==="*";function CJ(e,t){let r=e.split("/"),a=r.length;return r.some(w_)&&(a+=SJ),t&&(a+=wJ),r.filter(s=>!w_(s)).reduce((s,i)=>s+(vJ.test(i)?bJ:i===""?NJ:jJ),a)}function EJ(e,t){return e.length===t.length&&e.slice(0,-1).every((a,s)=>a===t[s])?e[e.length-1]-t[t.length-1]:0}function BJ(e,t,r=!1){let{routesMeta:a}=e,s={},i="/",o=[];for(let l=0;l<a.length;++l){let c=a[l],u=l===a.length-1,d=i==="/"?t:t.slice(i.length)||"/",A=Bw({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!A&&u&&r&&!a[a.length-1].route.index&&(A=Bw({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!A)return null;Object.assign(s,A.params),o.push({params:s,pathname:HA([i,A.pathname]),pathnameBase:PJ(HA([i,A.pathnameBase])),route:m}),A.pathnameBase!=="/"&&(i=HA([i,A.pathnameBase]))}return o}function Bw(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=TJ(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:a.reduce((u,{paramName:d,isOptional:A},m)=>{if(d==="*"){let y=l[m]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const h=l[m];return A&&!h?u[d]=void 0:u[d]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function TJ(e,t=!1,r=!0){sh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(a.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),a]}function FJ(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return sh(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function WA(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}function _J(e,t="/"){let{pathname:r,search:a="",hash:s=""}=typeof e=="string"?Rx(e):e;return{pathname:r?r.startsWith("/")?r:kJ(r,t):t,search:LJ(a),hash:OJ(s)}}function kJ(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function tj(e,t,r,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function IJ(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function zE(e){let t=IJ(e);return t.map((r,a)=>a===t.length-1?r.pathname:r.pathnameBase)}function VE(e,t,r,a=!1){let s;typeof e=="string"?s=Rx(e):(s={...e},$i(!s.pathname||!s.pathname.includes("?"),tj("?","pathname","search",s)),$i(!s.pathname||!s.pathname.includes("#"),tj("#","pathname","hash",s)),$i(!s.search||!s.search.includes("#"),tj("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let A=t.length-1;if(!a&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),A-=1;s.pathname=m.join("/")}l=A>=0?t[A]:"/"}let c=_J(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var HA=e=>e.join("/").replace(/\/\/+/g,"/"),PJ=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),LJ=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,OJ=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function DJ(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var lR=["POST","PUT","PATCH","DELETE"];new Set(lR);var MJ=["GET",...lR];new Set(MJ);var Qx=S.createContext(null);Qx.displayName="DataRouter";var r5=S.createContext(null);r5.displayName="DataRouterState";S.createContext(!1);var cR=S.createContext({isTransitioning:!1});cR.displayName="ViewTransition";var UJ=S.createContext(new Map);UJ.displayName="Fetchers";var RJ=S.createContext(null);RJ.displayName="Await";var lh=S.createContext(null);lh.displayName="Navigation";var Pv=S.createContext(null);Pv.displayName="Location";var rA=S.createContext({outlet:null,matches:[],isDataRoute:!1});rA.displayName="Route";var qE=S.createContext(null);qE.displayName="RouteError";function QJ(e,{relative:t}={}){$i(Hx(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=S.useContext(lh),{hash:s,pathname:i,search:o}=Lv(e,{relative:t}),l=i;return r!=="/"&&(l=i==="/"?r:HA([r,i])),a.createHref({pathname:l,search:o,hash:s})}function Hx(){return S.useContext(Pv)!=null}function Sd(){return $i(Hx(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Pv).location}var dR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function uR(e){S.useContext(lh).static||S.useLayoutEffect(e)}function yc(){let{isDataRoute:e}=S.useContext(rA);return e?eZ():HJ()}function HJ(){$i(Hx(),"useNavigate() may be used only in the context of a <Router> component.");let e=S.useContext(Qx),{basename:t,navigator:r}=S.useContext(lh),{matches:a}=S.useContext(rA),{pathname:s}=Sd(),i=JSON.stringify(zE(a)),o=S.useRef(!1);return uR(()=>{o.current=!0}),S.useCallback((c,u={})=>{if(sh(o.current,dR),!o.current)return;if(typeof c=="number"){r.go(c);return}let d=VE(c,JSON.parse(i),s,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:HA([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,i,s,e])}S.createContext(null);function Lv(e,{relative:t}={}){let{matches:r}=S.useContext(rA),{pathname:a}=Sd(),s=JSON.stringify(zE(r));return S.useMemo(()=>VE(e,JSON.parse(s),a,t==="path"),[e,s,a,t])}function $J(e,t){return fR(e,t)}function fR(e,t,r,a,s){$i(Hx(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=S.useContext(lh),{matches:o}=S.useContext(rA),l=o[o.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",A=l&&l.route;{let j=A&&A.path||"";hR(u,!A||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let m=Sd(),h;if(t){let j=typeof t=="string"?Rx(t):t;$i(d==="/"||j.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${j.pathname}" was given in the \`location\` prop.`),h=j}else h=m;let y=h.pathname||"/",x=y;if(d!=="/"){let j=d.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(j.length).join("/")}let v=sR(e,{pathname:x});sh(A||v!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),sh(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=GJ(v&&v.map(j=>Object.assign({},j,{params:Object.assign({},c,j.params),pathname:HA([d,i.encodeLocation?i.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?d:HA([d,i.encodeLocation?i.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),o,r,a,s);return t&&b?S.createElement(Pv.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},b):b}function zJ(){let e=ZJ(),t=DJ(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},i={padding:"2px 4px",backgroundColor:a},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:i},"ErrorBoundary")," or"," ",S.createElement("code",{style:i},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),r?S.createElement("pre",{style:s},r):null,o)}var VJ=S.createElement(zJ,null),qJ=class extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?S.createElement(rA.Provider,{value:this.props.routeContext},S.createElement(qE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function KJ({routeContext:e,match:t,children:r}){let a=S.useContext(Qx);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),S.createElement(rA.Provider,{value:e},r)}function GJ(e,t=[],r=null,a=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=r?.errors;if(o!=null){let u=i.findIndex(d=>d.route.id&&o?.[d.route.id]!==void 0);$i(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let l=!1,c=-1;if(r)for(let u=0;u<i.length;u++){let d=i[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:A,errors:m}=r,h=d.route.loader&&!A.hasOwnProperty(d.route.id)&&(!m||m[d.route.id]===void 0);if(d.route.lazy||h){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((u,d,A)=>{let m,h=!1,y=null,x=null;r&&(m=o&&d.route.id?o[d.route.id]:void 0,y=d.route.errorElement||VJ,l&&(c<0&&A===0?(hR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,x=null):c===A&&(h=!0,x=d.route.hydrateFallbackElement||null)));let v=t.concat(i.slice(0,A+1)),b=()=>{let j;return m?j=y:h?j=x:d.route.Component?j=S.createElement(d.route.Component,null):d.route.element?j=d.route.element:j=u,S.createElement(KJ,{match:d,routeContext:{outlet:u,matches:v,isDataRoute:r!=null},children:j})};return r&&(d.route.ErrorBoundary||d.route.errorElement||A===0)?S.createElement(qJ,{location:r.location,revalidation:r.revalidation,component:y,error:m,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0},unstable_onError:a}):b()},null)}function KE(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WJ(e){let t=S.useContext(Qx);return $i(t,KE(e)),t}function YJ(e){let t=S.useContext(r5);return $i(t,KE(e)),t}function XJ(e){let t=S.useContext(rA);return $i(t,KE(e)),t}function GE(e){let t=XJ(e),r=t.matches[t.matches.length-1];return $i(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function JJ(){return GE("useRouteId")}function ZJ(){let e=S.useContext(qE),t=YJ("useRouteError"),r=GE("useRouteError");return e!==void 0?e:t.errors?.[r]}function eZ(){let{router:e}=WJ("useNavigate"),t=GE("useNavigate"),r=S.useRef(!1);return uR(()=>{r.current=!0}),S.useCallback(async(s,i={})=>{sh(r.current,dR),r.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var N_={};function hR(e,t,r){!t&&!N_[e]&&(N_[e]=!0,sh(!1,r))}S.memo(tZ);function tZ({routes:e,future:t,state:r,unstable_onError:a}){return fR(e,void 0,r,a,t)}function Xy({to:e,replace:t,state:r,relative:a}){$i(Hx(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=S.useContext(lh);sh(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=S.useContext(rA),{pathname:o}=Sd(),l=yc(),c=VE(e,zE(i),o,a==="path"),u=JSON.stringify(c);return S.useEffect(()=>{l(JSON.parse(u),{replace:t,state:r,relative:a})},[l,u,a,t,r]),null}function zr(e){$i(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function rZ({basename:e="/",children:t=null,location:r,navigationType:a="POP",navigator:s,static:i=!1}){$i(!Hx(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=S.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof r=="string"&&(r=Rx(r));let{pathname:c="/",search:u="",hash:d="",state:A=null,key:m="default"}=r,h=S.useMemo(()=>{let y=WA(c,o);return y==null?null:{location:{pathname:y,search:u,hash:d,state:A,key:m},navigationType:a}},[o,c,u,d,A,m,a]);return sh(h!=null,`<Router basename="${o}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),h==null?null:S.createElement(lh.Provider,{value:l},S.createElement(Pv.Provider,{children:t,value:h}))}function ab({children:e,location:t}){return $J(EC(e),t)}function EC(e,t=[]){let r=[];return S.Children.forEach(e,(a,s)=>{if(!S.isValidElement(a))return;let i=[...t,s];if(a.type===S.Fragment){r.push.apply(r,EC(a.props.children,i));return}$i(a.type===zr,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$i(!a.props.index||!a.props.children,"An index route cannot have child routes.");let o={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=EC(a.props.children,i)),r.push(o)}),r}var sw="get",iw="application/x-www-form-urlencoded";function a5(e){return e!=null&&typeof e.tagName=="string"}function aZ(e){return a5(e)&&e.tagName.toLowerCase()==="button"}function nZ(e){return a5(e)&&e.tagName.toLowerCase()==="form"}function sZ(e){return a5(e)&&e.tagName.toLowerCase()==="input"}function iZ(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function oZ(e,t){return e.button===0&&(!t||t==="_self")&&!iZ(e)}var nb=null;function lZ(){if(nb===null)try{new FormData(document.createElement("form"),0),nb=!1}catch{nb=!0}return nb}var cZ=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rj(e){return e!=null&&!cZ.has(e)?(sh(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${iw}"`),null):e}function dZ(e,t){let r,a,s,i,o;if(nZ(e)){let l=e.getAttribute("action");a=l?WA(l,t):null,r=e.getAttribute("method")||sw,s=rj(e.getAttribute("enctype"))||iw,i=new FormData(e)}else if(aZ(e)||sZ(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(a=c?WA(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||sw,s=rj(e.getAttribute("formenctype"))||rj(l.getAttribute("enctype"))||iw,i=new FormData(l,e),!lZ()){let{name:u,type:d,value:A}=e;if(d==="image"){let m=u?`${u}.`:"";i.append(`${m}x`,"0"),i.append(`${m}y`,"0")}else u&&i.append(u,A)}}else{if(a5(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=sw,a=null,s=iw,o=e}return i&&s==="text/plain"&&(o=i,i=void 0),{action:a,method:r.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function WE(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function uZ(e,t,r){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return a.pathname==="/"?a.pathname=`_root.${r}`:t&&WA(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function fZ(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hZ(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function AZ(e,t,r){let a=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let o=await fZ(i,r);return o.links?o.links():[]}return[]}));return xZ(a.flat(1).filter(hZ).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function j_(e,t,r,a,s,i){let o=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,l=(c,u)=>r[u].pathname!==c.pathname||r[u].route.path?.endsWith("*")&&r[u].params["*"]!==c.params["*"];return i==="assets"?t.filter((c,u)=>o(c,u)||l(c,u)):i==="data"?t.filter((c,u)=>{let d=a.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(o(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let A=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function mZ(e,t,{includeHydrateFallback:r}={}){return pZ(e.map(a=>{let s=t.routes[a.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function pZ(e){return[...new Set(e)]}function gZ(e){let t={},r=Object.keys(e).sort();for(let a of r)t[a]=e[a];return t}function xZ(e,t){let r=new Set;return new Set(t),e.reduce((a,s)=>{let i=JSON.stringify(gZ(s));return r.has(i)||(r.add(i),a.push({key:i,link:s})),a},[])}function AR(){let e=S.useContext(Qx);return WE(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function yZ(){let e=S.useContext(r5);return WE(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var YE=S.createContext(void 0);YE.displayName="FrameworkContext";function mR(){let e=S.useContext(YE);return WE(e,"You must render this element inside a <HydratedRouter> element"),e}function vZ(e,t){let r=S.useContext(YE),[a,s]=S.useState(!1),[i,o]=S.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:A}=t,m=S.useRef(null);S.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let x=b=>{b.forEach(j=>{o(j.isIntersecting)})},v=new IntersectionObserver(x,{threshold:.5});return m.current&&v.observe(m.current),()=>{v.disconnect()}}},[e]),S.useEffect(()=>{if(a){let x=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(x)}}},[a]);let h=()=>{s(!0)},y=()=>{s(!1),o(!1)};return r?e!=="intent"?[i,m,{}]:[i,m,{onFocus:Y1(l,h),onBlur:Y1(c,y),onMouseEnter:Y1(u,h),onMouseLeave:Y1(d,y),onTouchStart:Y1(A,h)}]:[!1,m,{}]}function Y1(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function bZ({page:e,...t}){let{router:r}=AR(),a=S.useMemo(()=>sR(r.routes,e,r.basename),[r.routes,e,r.basename]);return a?S.createElement(NZ,{page:e,matches:a,...t}):null}function wZ(e){let{manifest:t,routeModules:r}=mR(),[a,s]=S.useState([]);return S.useEffect(()=>{let i=!1;return AZ(e,t,r).then(o=>{i||s(o)}),()=>{i=!0}},[e,t,r]),a}function NZ({page:e,matches:t,...r}){let a=Sd(),{manifest:s,routeModules:i}=mR(),{basename:o}=AR(),{loaderData:l,matches:c}=yZ(),u=S.useMemo(()=>j_(e,t,c,s,a,"data"),[e,t,c,s,a]),d=S.useMemo(()=>j_(e,t,c,s,a,"assets"),[e,t,c,s,a]),A=S.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let y=new Set,x=!1;if(t.forEach(b=>{let j=s.routes[b.route.id];!j||!j.hasLoader||(!u.some(C=>C.route.id===b.route.id)&&b.route.id in l&&i[b.route.id]?.shouldRevalidate||j.hasClientLoader?x=!0:y.add(b.route.id))}),y.size===0)return[];let v=uZ(e,o,"data");return x&&y.size>0&&v.searchParams.set("_routes",t.filter(b=>y.has(b.route.id)).map(b=>b.route.id).join(",")),[v.pathname+v.search]},[o,l,a,s,u,t,e,i]),m=S.useMemo(()=>mZ(d,s),[d,s]),h=wZ(d);return S.createElement(S.Fragment,null,A.map(y=>S.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),m.map(y=>S.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),h.map(({key:y,link:x})=>S.createElement("link",{key:y,nonce:r.nonce,...x})))}function jZ(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var pR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{pR&&(window.__reactRouterVersion="7.9.1")}catch{}function SZ({basename:e,children:t,window:r}){let a=S.useRef();a.current==null&&(a.current=AJ({window:r,v5Compat:!0}));let s=a.current,[i,o]=S.useState({action:s.action,location:s.location}),l=S.useCallback(c=>{S.startTransition(()=>o(c))},[o]);return S.useLayoutEffect(()=>s.listen(l),[s,l]),S.createElement(rZ,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:s})}var gR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xi=S.forwardRef(function({onClick:t,discover:r="render",prefetch:a="none",relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:A,...m},h){let{basename:y}=S.useContext(lh),x=typeof u=="string"&&gR.test(u),v,b=!1;if(typeof u=="string"&&x&&(v=u,pR))try{let Q=new URL(window.location.href),U=u.startsWith("//")?new URL(Q.protocol+u):new URL(u),P=WA(U.pathname,y);U.origin===Q.origin&&P!=null?u=P+U.search+U.hash:b=!0}catch{sh(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=QJ(u,{relative:s}),[C,E,k]=vZ(a,m),D=TZ(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:A});function L(Q){t&&t(Q),Q.defaultPrevented||D(Q)}let F=S.createElement("a",{...m,...k,href:v||j,onClick:b||i?t:L,ref:jZ(h,E),target:c,"data-discover":!x&&r==="render"?"true":void 0});return C&&!x?S.createElement(S.Fragment,null,F,S.createElement(bZ,{page:j})):F});Xi.displayName="Link";var CZ=S.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:a="",end:s=!1,style:i,to:o,viewTransition:l,children:c,...u},d){let A=Lv(o,{relative:u.relative}),m=Sd(),h=S.useContext(r5),{navigator:y,basename:x}=S.useContext(lh),v=h!=null&&PZ(A)&&l===!0,b=y.encodeLocation?y.encodeLocation(A).pathname:A.pathname,j=m.pathname,C=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;r||(j=j.toLowerCase(),C=C?C.toLowerCase():null,b=b.toLowerCase()),C&&x&&(C=WA(C,x)||C);const E=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let k=j===b||!s&&j.startsWith(b)&&j.charAt(E)==="/",D=C!=null&&(C===b||!s&&C.startsWith(b)&&C.charAt(b.length)==="/"),L={isActive:k,isPending:D,isTransitioning:v},F=k?t:void 0,Q;typeof a=="function"?Q=a(L):Q=[a,k?"active":null,D?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let U=typeof i=="function"?i(L):i;return S.createElement(Xi,{...u,"aria-current":F,className:Q,ref:d,style:U,to:o,viewTransition:l},typeof c=="function"?c(L):c)});CZ.displayName="NavLink";var EZ=S.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:a,replace:s,state:i,method:o=sw,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:A,...m},h)=>{let y=kZ(),x=IZ(l,{relative:u}),v=o.toLowerCase()==="get"?"get":"post",b=typeof l=="string"&&gR.test(l),j=C=>{if(c&&c(C),C.defaultPrevented)return;C.preventDefault();let E=C.nativeEvent.submitter,k=E?.getAttribute("formmethod")||o;y(E||C.currentTarget,{fetcherKey:t,method:k,navigate:r,replace:s,state:i,relative:u,preventScrollReset:d,viewTransition:A})};return S.createElement("form",{ref:h,method:v,action:x,onSubmit:a?c:j,...m,"data-discover":!b&&e==="render"?"true":void 0})});EZ.displayName="Form";function BZ(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xR(e){let t=S.useContext(Qx);return $i(t,BZ(e)),t}function TZ(e,{target:t,replace:r,state:a,preventScrollReset:s,relative:i,viewTransition:o}={}){let l=yc(),c=Sd(),u=Lv(e,{relative:i});return S.useCallback(d=>{if(oZ(d,t)){d.preventDefault();let A=r!==void 0?r:Yy(c)===Yy(u);l(e,{replace:A,state:a,preventScrollReset:s,relative:i,viewTransition:o})}},[c,l,u,r,a,t,e,s,i,o])}var FZ=0,_Z=()=>`__${String(++FZ)}__`;function kZ(){let{router:e}=xR("useSubmit"),{basename:t}=S.useContext(lh),r=JJ();return S.useCallback(async(a,s={})=>{let{action:i,method:o,encType:l,formData:c,body:u}=dZ(a,t);if(s.navigate===!1){let d=s.fetcherKey||_Z();await e.fetch(d,r,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||o,formEncType:s.encType||l,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||o,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,r])}function IZ(e,{relative:t}={}){let{basename:r}=S.useContext(lh),a=S.useContext(rA);$i(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),i={...Lv(e||".",{relative:t})},o=Sd();if(e==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(A=>A).forEach(A=>l.append("index",A));let d=l.toString();i.search=d?`?${d}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:HA([r,i.pathname])),Yy(i)}function PZ(e,{relative:t}={}){let r=S.useContext(cR);$i(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=xR("useViewTransitionState"),s=Lv(e,{relative:t});if(!r.isTransitioning)return!1;let i=WA(r.currentLocation.pathname,a)||r.currentLocation.pathname,o=WA(r.nextLocation.pathname,a)||r.nextLocation.pathname;return Bw(s.pathname,o)!=null||Bw(s.pathname,i)!=null}var yR=nR(),vR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},S_=ya.createContext&&ya.createContext(vR),LZ=["attr","size","title"];function OZ(e,t){if(e==null)return{};var r=DZ(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function DZ(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Tw(){return Tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Tw.apply(this,arguments)}function C_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Fw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C_(Object(r),!0).forEach(function(a){MZ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function MZ(e,t,r){return t=UZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UZ(e){var t=RZ(e,"string");return typeof t=="symbol"?t:t+""}function RZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bR(e){return e&&e.map((t,r)=>ya.createElement(t.tag,Fw({key:r},t.attr),bR(t.child)))}function br(e){return t=>ya.createElement(QZ,Tw({attr:Fw({},e.attr)},t),bR(e.child))}function QZ(e){var t=r=>{var{attr:a,size:s,title:i}=e,o=OZ(e,LZ),l=s||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),ya.createElement("svg",Tw({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,a,o,{className:c,style:Fw(Fw({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&ya.createElement("title",null,i),e.children)};return S_!==void 0?ya.createElement(S_.Consumer,null,r=>t(r)):t(vR)}function HZ(e){return br({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 0H48C22.4 0 0 22.4 0 48v416c0 25.6 22.4 48 48 48h352c25.6 0 48-22.4 48-48V48c0-25.6-22.4-48-48-48zM128 435.2c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm0-128c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm128 128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm0-128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm128 128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8V268.8c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v166.4zm0-256c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8V76.8C64 70.4 70.4 64 76.8 64h294.4c6.4 0 12.8 6.4 12.8 12.8v102.4z"},child:[]}]})(e)}function E_(e){return br({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function $Z(e){return br({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M208 352c-2.39 0-4.78.35-7.06 1.09C187.98 357.3 174.35 360 160 360c-14.35 0-27.98-2.7-40.95-6.91-2.28-.74-4.66-1.09-7.05-1.09C49.94 352-.33 402.48 0 464.62.14 490.88 21.73 512 48 512h224c26.27 0 47.86-21.12 48-47.38.33-62.14-49.94-112.62-112-112.62zm-48-32c53.02 0 96-42.98 96-96s-42.98-96-96-96-96 42.98-96 96 42.98 96 96 96zM592 0H208c-26.47 0-48 22.25-48 49.59V96c23.42 0 45.1 6.78 64 17.8V64h352v288h-64v-64H384v64h-76.24c19.1 16.69 33.12 38.73 39.69 64H592c26.47 0 48-22.25 48-49.59V49.59C640 22.25 618.47 0 592 0z"},child:[]}]})(e)}function wR(e){return br({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function zZ(e){return br({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(e)}function VZ(e){return br({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(e)}function BC(e){return br({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function qZ(e){return br({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function KZ(e){return br({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function NR(e){return br({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function by(e){return br({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function TC(e){return br({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function GZ(e){return br({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm60.1 106.5L224 336l60.1 93.5c5.1 8-.6 18.5-10.1 18.5h-34.9c-4.4 0-8.5-2.4-10.6-6.3C208.9 405.5 192 373 192 373c-6.4 14.8-10 20-36.6 68.8-2.1 3.9-6.1 6.3-10.5 6.3H110c-9.5 0-15.2-10.5-10.1-18.5l60.3-93.5-60.3-93.5c-5.2-8 .6-18.5 10.1-18.5h34.8c4.4 0 8.5 2.4 10.6 6.3 26.1 48.8 20 33.6 36.6 68.5 0 0 6.1-11.7 36.6-68.5 2.1-3.9 6.2-6.3 10.6-6.3H274c9.5-.1 15.2 10.4 10.1 18.4zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function WZ(e){return br({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M288 256H96v64h192v-64zm89-151L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 64c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8v-16zm256 304c0 4.42-3.58 8-8 8h-80c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16zm0-200v96c0 8.84-7.16 16-16 16H80c-8.84 0-16-7.16-16-16v-96c0-8.84 7.16-16 16-16h224c8.84 0 16 7.16 16 16z"},child:[]}]})(e)}function B_(e){return br({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"},child:[]}]})(e)}function jR(e){return br({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(e)}function YZ(e){return br({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(e)}function XZ(e){return br({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M255.03 261.65c6.25 6.25 16.38 6.25 22.63 0l11.31-11.31c6.25-6.25 6.25-16.38 0-22.63L253.25 192l35.71-35.72c6.25-6.25 6.25-16.38 0-22.63l-11.31-11.31c-6.25-6.25-16.38-6.25-22.63 0l-58.34 58.34c-6.25 6.25-6.25 16.38 0 22.63l58.35 58.34zm96.01-11.3l11.31 11.31c6.25 6.25 16.38 6.25 22.63 0l58.34-58.34c6.25-6.25 6.25-16.38 0-22.63l-58.34-58.34c-6.25-6.25-16.38-6.25-22.63 0l-11.31 11.31c-6.25 6.25-6.25 16.38 0 22.63L386.75 192l-35.71 35.72c-6.25 6.25-6.25 16.38 0 22.63zM624 416H381.54c-.74 19.81-14.71 32-32.74 32H288c-18.69 0-33.02-17.47-32.77-32H16c-8.8 0-16 7.2-16 16v16c0 35.2 28.8 64 64 64h512c35.2 0 64-28.8 64-64v-16c0-8.8-7.2-16-16-16zM576 48c0-26.4-21.6-48-48-48H112C85.6 0 64 21.6 64 48v336h512V48zm-64 272H128V64h384v256z"},child:[]}]})(e)}function JZ(e){return br({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(e)}function T_(e){return br({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}function ZZ(e){return br({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function FC(e){return br({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M308 96c6.627 0 12-5.373 12-12V44c0-6.627-5.373-12-12-12H12C5.373 32 0 37.373 0 44v44.748c0 6.627 5.373 12 12 12h85.28c27.308 0 48.261 9.958 60.97 27.252H12c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h158.757c-6.217 36.086-32.961 58.632-74.757 58.632H12c-6.627 0-12 5.373-12 12v53.012c0 3.349 1.4 6.546 3.861 8.818l165.052 152.356a12.001 12.001 0 0 0 8.139 3.182h82.562c10.924 0 16.166-13.408 8.139-20.818L116.871 319.906c76.499-2.34 131.144-53.395 138.318-127.906H308c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-58.69c-3.486-11.541-8.28-22.246-14.252-32H308z"},child:[]}]})(e)}function eee(e){return br({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M0 224v272c0 8.84 7.16 16 16 16h80V192H32c-17.67 0-32 14.33-32 32zm360-48h-24v-40c0-4.42-3.58-8-8-8h-16c-4.42 0-8 3.58-8 8v64c0 4.42 3.58 8 8 8h48c4.42 0 8-3.58 8-8v-16c0-4.42-3.58-8-8-8zm137.75-63.96l-160-106.67a32.02 32.02 0 0 0-35.5 0l-160 106.67A32.002 32.002 0 0 0 128 138.66V512h128V368c0-8.84 7.16-16 16-16h96c8.84 0 16 7.16 16 16v144h128V138.67c0-10.7-5.35-20.7-14.25-26.63zM320 256c-44.18 0-80-35.82-80-80s35.82-80 80-80 80 35.82 80 80-35.82 80-80 80zm288-64h-64v320h80c8.84 0 16-7.16 16-16V224c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function tee(e){return br({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function ree(e){return br({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function aee(e){return br({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"},child:[]}]})(e)}function aj(e){return br({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function nee(e){return br({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M396.8 352h22.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-22.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-192 0h22.4c6.4 0 12.8-6.4 12.8-12.8V140.8c0-6.4-6.4-12.8-12.8-12.8h-22.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h22.4c6.4 0 12.8-6.4 12.8-12.8V204.8c0-6.4-6.4-12.8-12.8-12.8h-22.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zM496 400H48V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16zm-387.2-48h22.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-22.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8z"},child:[]}]})(e)}function SR(e,t){return function(){return e.apply(t,arguments)}}const{toString:see}=Object.prototype,{getPrototypeOf:XE}=Object,{iterator:n5,toStringTag:CR}=Symbol,s5=(e=>t=>{const r=see.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ch=e=>(e=e.toLowerCase(),t=>s5(t)===e),i5=e=>t=>typeof t===e,{isArray:$x}=Array,Sx=i5("undefined");function Ov(e){return e!==null&&!Sx(e)&&e.constructor!==null&&!Sx(e.constructor)&&qd(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const ER=ch("ArrayBuffer");function iee(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&ER(e.buffer),t}const oee=i5("string"),qd=i5("function"),BR=i5("number"),Dv=e=>e!==null&&typeof e=="object",lee=e=>e===!0||e===!1,ow=e=>{if(s5(e)!=="object")return!1;const t=XE(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(CR in e)&&!(n5 in e)},cee=e=>{if(!Dv(e)||Ov(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},dee=ch("Date"),uee=ch("File"),fee=ch("Blob"),hee=ch("FileList"),Aee=e=>Dv(e)&&qd(e.pipe),mee=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||qd(e.append)&&((t=s5(e))==="formdata"||t==="object"&&qd(e.toString)&&e.toString()==="[object FormData]"))},pee=ch("URLSearchParams"),[gee,xee,yee,vee]=["ReadableStream","Request","Response","Headers"].map(ch),bee=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Mv(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let a,s;if(typeof e!="object"&&(e=[e]),$x(e))for(a=0,s=e.length;a<s;a++)t.call(null,e[a],a,e);else{if(Ov(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(a=0;a<o;a++)l=i[a],t.call(null,e[l],l,e)}}function TR(e,t){if(Ov(e))return null;t=t.toLowerCase();const r=Object.keys(e);let a=r.length,s;for(;a-- >0;)if(s=r[a],t===s.toLowerCase())return s;return null}const Ap=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,FR=e=>!Sx(e)&&e!==Ap;function _C(){const{caseless:e,skipUndefined:t}=FR(this)&&this||{},r={},a=(s,i)=>{const o=e&&TR(r,i)||i;ow(r[o])&&ow(s)?r[o]=_C(r[o],s):ow(s)?r[o]=_C({},s):$x(s)?r[o]=s.slice():(!t||!Sx(s))&&(r[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Mv(arguments[s],a);return r}const wee=(e,t,r,{allOwnKeys:a}={})=>(Mv(t,(s,i)=>{r&&qd(s)?e[i]=SR(s,r):e[i]=s},{allOwnKeys:a}),e),Nee=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),jee=(e,t,r,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},See=(e,t,r,a)=>{let s,i,o;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!a||a(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&XE(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Cee=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const a=e.indexOf(t,r);return a!==-1&&a===r},Eee=e=>{if(!e)return null;if($x(e))return e;let t=e.length;if(!BR(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Bee=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&XE(Uint8Array)),Tee=(e,t)=>{const a=(e&&e[n5]).call(e);let s;for(;(s=a.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},Fee=(e,t)=>{let r;const a=[];for(;(r=e.exec(t))!==null;)a.push(r);return a},_ee=ch("HTMLFormElement"),kee=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,s){return a.toUpperCase()+s}),F_=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Iee=ch("RegExp"),_R=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),a={};Mv(r,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(a[i]=o||s)}),Object.defineProperties(e,a)},Pee=e=>{_R(e,(t,r)=>{if(qd(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=e[r];if(qd(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Lee=(e,t)=>{const r={},a=s=>{s.forEach(i=>{r[i]=!0})};return $x(e)?a(e):a(String(e).split(t)),r},Oee=()=>{},Dee=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Mee(e){return!!(e&&qd(e.append)&&e[CR]==="FormData"&&e[n5])}const Uee=e=>{const t=new Array(10),r=(a,s)=>{if(Dv(a)){if(t.indexOf(a)>=0)return;if(Ov(a))return a;if(!("toJSON"in a)){t[s]=a;const i=$x(a)?[]:{};return Mv(a,(o,l)=>{const c=r(o,s+1);!Sx(c)&&(i[l]=c)}),t[s]=void 0,i}}return a};return r(e,0)},Ree=ch("AsyncFunction"),Qee=e=>e&&(Dv(e)||qd(e))&&qd(e.then)&&qd(e.catch),kR=((e,t)=>e?setImmediate:t?((r,a)=>(Ap.addEventListener("message",({source:s,data:i})=>{s===Ap&&i===r&&a.length&&a.shift()()},!1),s=>{a.push(s),Ap.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",qd(Ap.postMessage)),Hee=typeof queueMicrotask<"u"?queueMicrotask.bind(Ap):typeof process<"u"&&process.nextTick||kR,$ee=e=>e!=null&&qd(e[n5]),ar={isArray:$x,isArrayBuffer:ER,isBuffer:Ov,isFormData:mee,isArrayBufferView:iee,isString:oee,isNumber:BR,isBoolean:lee,isObject:Dv,isPlainObject:ow,isEmptyObject:cee,isReadableStream:gee,isRequest:xee,isResponse:yee,isHeaders:vee,isUndefined:Sx,isDate:dee,isFile:uee,isBlob:fee,isRegExp:Iee,isFunction:qd,isStream:Aee,isURLSearchParams:pee,isTypedArray:Bee,isFileList:hee,forEach:Mv,merge:_C,extend:wee,trim:bee,stripBOM:Nee,inherits:jee,toFlatObject:See,kindOf:s5,kindOfTest:ch,endsWith:Cee,toArray:Eee,forEachEntry:Tee,matchAll:Fee,isHTMLForm:_ee,hasOwnProperty:F_,hasOwnProp:F_,reduceDescriptors:_R,freezeMethods:Pee,toObjectSet:Lee,toCamelCase:kee,noop:Oee,toFiniteNumber:Dee,findKey:TR,global:Ap,isContextDefined:FR,isSpecCompliantForm:Mee,toJSONObject:Uee,isAsyncFn:Ree,isThenable:Qee,setImmediate:kR,asap:Hee,isIterable:$ee};function sn(e,t,r,a,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),a&&(this.request=a),s&&(this.response=s,this.status=s.status?s.status:null)}ar.inherits(sn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ar.toJSONObject(this.config),code:this.code,status:this.status}}});const IR=sn.prototype,PR={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{PR[e]={value:e}});Object.defineProperties(sn,PR);Object.defineProperty(IR,"isAxiosError",{value:!0});sn.from=(e,t,r,a,s,i)=>{const o=Object.create(IR);ar.toFlatObject(e,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return sn.call(o,l,c,r,a,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const zee=null;function kC(e){return ar.isPlainObject(e)||ar.isArray(e)}function LR(e){return ar.endsWith(e,"[]")?e.slice(0,-2):e}function __(e,t,r){return e?e.concat(t).map(function(s,i){return s=LR(s),!r&&i?"["+s+"]":s}).join(r?".":""):t}function Vee(e){return ar.isArray(e)&&!e.some(kC)}const qee=ar.toFlatObject(ar,{},null,function(t){return/^is[A-Z]/.test(t)});function o5(e,t,r){if(!ar.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=ar.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,v){return!ar.isUndefined(v[x])});const a=r.metaTokens,s=r.visitor||d,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&ar.isSpecCompliantForm(t);if(!ar.isFunction(s))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(ar.isDate(y))return y.toISOString();if(ar.isBoolean(y))return y.toString();if(!c&&ar.isBlob(y))throw new sn("Blob is not supported. Use a Buffer instead.");return ar.isArrayBuffer(y)||ar.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,x,v){let b=y;if(y&&!v&&typeof y=="object"){if(ar.endsWith(x,"{}"))x=a?x:x.slice(0,-2),y=JSON.stringify(y);else if(ar.isArray(y)&&Vee(y)||(ar.isFileList(y)||ar.endsWith(x,"[]"))&&(b=ar.toArray(y)))return x=LR(x),b.forEach(function(C,E){!(ar.isUndefined(C)||C===null)&&t.append(o===!0?__([x],E,i):o===null?x:x+"[]",u(C))}),!1}return kC(y)?!0:(t.append(__(v,x,i),u(y)),!1)}const A=[],m=Object.assign(qee,{defaultVisitor:d,convertValue:u,isVisitable:kC});function h(y,x){if(!ar.isUndefined(y)){if(A.indexOf(y)!==-1)throw Error("Circular reference detected in "+x.join("."));A.push(y),ar.forEach(y,function(b,j){(!(ar.isUndefined(b)||b===null)&&s.call(t,b,ar.isString(j)?j.trim():j,x,m))===!0&&h(b,x?x.concat(j):[j])}),A.pop()}}if(!ar.isObject(e))throw new TypeError("data must be an object");return h(e),t}function k_(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function JE(e,t){this._pairs=[],e&&o5(e,this,t)}const OR=JE.prototype;OR.append=function(t,r){this._pairs.push([t,r])};OR.toString=function(t){const r=t?function(a){return t.call(this,a,k_)}:k_;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function Kee(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function DR(e,t,r){if(!t)return e;const a=r&&r.encode||Kee;ar.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(t,r):i=ar.isURLSearchParams(t)?t.toString():new JE(t,r).toString(a),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class I_{constructor(){this.handlers=[]}use(t,r,a){return this.handlers.push({fulfilled:t,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ar.forEach(this.handlers,function(a){a!==null&&t(a)})}}const MR={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Gee=typeof URLSearchParams<"u"?URLSearchParams:JE,Wee=typeof FormData<"u"?FormData:null,Yee=typeof Blob<"u"?Blob:null,Xee={isBrowser:!0,classes:{URLSearchParams:Gee,FormData:Wee,Blob:Yee},protocols:["http","https","file","blob","url","data"]},ZE=typeof window<"u"&&typeof document<"u",IC=typeof navigator=="object"&&navigator||void 0,Jee=ZE&&(!IC||["ReactNative","NativeScript","NS"].indexOf(IC.product)<0),Zee=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ete=ZE&&window.location.href||"http://localhost",tte=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ZE,hasStandardBrowserEnv:Jee,hasStandardBrowserWebWorkerEnv:Zee,navigator:IC,origin:ete},Symbol.toStringTag,{value:"Module"})),Wc={...tte,...Xee};function rte(e,t){return o5(e,new Wc.classes.URLSearchParams,{visitor:function(r,a,s,i){return Wc.isNode&&ar.isBuffer(r)?(this.append(a,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function ate(e){return ar.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function nte(e){const t={},r=Object.keys(e);let a;const s=r.length;let i;for(a=0;a<s;a++)i=r[a],t[i]=e[i];return t}function UR(e){function t(r,a,s,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=r.length;return o=!o&&ar.isArray(s)?s.length:o,c?(ar.hasOwnProp(s,o)?s[o]=[s[o],a]:s[o]=a,!l):((!s[o]||!ar.isObject(s[o]))&&(s[o]=[]),t(r,a,s[o],i)&&ar.isArray(s[o])&&(s[o]=nte(s[o])),!l)}if(ar.isFormData(e)&&ar.isFunction(e.entries)){const r={};return ar.forEachEntry(e,(a,s)=>{t(ate(a),s,r,0)}),r}return null}function ste(e,t,r){if(ar.isString(e))try{return(t||JSON.parse)(e),ar.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(e)}const Uv={transitional:MR,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const a=r.getContentType()||"",s=a.indexOf("application/json")>-1,i=ar.isObject(t);if(i&&ar.isHTMLForm(t)&&(t=new FormData(t)),ar.isFormData(t))return s?JSON.stringify(UR(t)):t;if(ar.isArrayBuffer(t)||ar.isBuffer(t)||ar.isStream(t)||ar.isFile(t)||ar.isBlob(t)||ar.isReadableStream(t))return t;if(ar.isArrayBufferView(t))return t.buffer;if(ar.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return rte(t,this.formSerializer).toString();if((l=ar.isFileList(t))||a.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return o5(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),ste(t)):t}],transformResponse:[function(t){const r=this.transitional||Uv.transitional,a=r&&r.forcedJSONParsing,s=this.responseType==="json";if(ar.isResponse(t)||ar.isReadableStream(t))return t;if(t&&ar.isString(t)&&(a&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?sn.from(l,sn.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Wc.classes.FormData,Blob:Wc.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ar.forEach(["delete","get","head","post","put","patch"],e=>{Uv.headers[e]={}});const ite=ar.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ote=e=>{const t={};let r,a,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),a=o.substring(s+1).trim(),!(!r||t[r]&&ite[r])&&(r==="set-cookie"?t[r]?t[r].push(a):t[r]=[a]:t[r]=t[r]?t[r]+", "+a:a)}),t},P_=Symbol("internals");function X1(e){return e&&String(e).trim().toLowerCase()}function lw(e){return e===!1||e==null?e:ar.isArray(e)?e.map(lw):String(e)}function lte(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(e);)t[a[1]]=a[2];return t}const cte=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function nj(e,t,r,a,s){if(ar.isFunction(a))return a.call(this,t,r);if(s&&(t=r),!!ar.isString(t)){if(ar.isString(a))return t.indexOf(a)!==-1;if(ar.isRegExp(a))return a.test(t)}}function dte(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,a)=>r.toUpperCase()+a)}function ute(e,t){const r=ar.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+r,{value:function(s,i,o){return this[a].call(this,t,s,i,o)},configurable:!0})})}let Kd=class{constructor(t){t&&this.set(t)}set(t,r,a){const s=this;function i(l,c,u){const d=X1(c);if(!d)throw new Error("header name must be a non-empty string");const A=ar.findKey(s,d);(!A||s[A]===void 0||u===!0||u===void 0&&s[A]!==!1)&&(s[A||c]=lw(l))}const o=(l,c)=>ar.forEach(l,(u,d)=>i(u,d,c));if(ar.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(ar.isString(t)&&(t=t.trim())&&!cte(t))o(ote(t),r);else if(ar.isObject(t)&&ar.isIterable(t)){let l={},c,u;for(const d of t){if(!ar.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?ar.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,r)}else t!=null&&i(r,t,a);return this}get(t,r){if(t=X1(t),t){const a=ar.findKey(this,t);if(a){const s=this[a];if(!r)return s;if(r===!0)return lte(s);if(ar.isFunction(r))return r.call(this,s,a);if(ar.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=X1(t),t){const a=ar.findKey(this,t);return!!(a&&this[a]!==void 0&&(!r||nj(this,this[a],a,r)))}return!1}delete(t,r){const a=this;let s=!1;function i(o){if(o=X1(o),o){const l=ar.findKey(a,o);l&&(!r||nj(a,a[l],l,r))&&(delete a[l],s=!0)}}return ar.isArray(t)?t.forEach(i):i(t),s}clear(t){const r=Object.keys(this);let a=r.length,s=!1;for(;a--;){const i=r[a];(!t||nj(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const r=this,a={};return ar.forEach(this,(s,i)=>{const o=ar.findKey(a,i);if(o){r[o]=lw(s),delete r[i];return}const l=t?dte(i):String(i).trim();l!==i&&delete r[i],r[l]=lw(s),a[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return ar.forEach(this,(a,s)=>{a!=null&&a!==!1&&(r[s]=t&&ar.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const a=new this(t);return r.forEach(s=>a.set(s)),a}static accessor(t){const a=(this[P_]=this[P_]={accessors:{}}).accessors,s=this.prototype;function i(o){const l=X1(o);a[l]||(ute(s,o),a[l]=!0)}return ar.isArray(t)?t.forEach(i):i(t),this}};Kd.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ar.reduceDescriptors(Kd.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[r]=a}}});ar.freezeMethods(Kd);function sj(e,t){const r=this||Uv,a=t||r,s=Kd.from(a.headers);let i=a.data;return ar.forEach(e,function(l){i=l.call(r,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function RR(e){return!!(e&&e.__CANCEL__)}function zx(e,t,r){sn.call(this,e??"canceled",sn.ERR_CANCELED,t,r),this.name="CanceledError"}ar.inherits(zx,sn,{__CANCEL__:!0});function QR(e,t,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?e(r):t(new sn("Request failed with status code "+r.status,[sn.ERR_BAD_REQUEST,sn.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function fte(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function hte(e,t){e=e||10;const r=new Array(e),a=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=a[i];o||(o=u),r[s]=c,a[s]=u;let A=i,m=0;for(;A!==s;)m+=r[A++],A=A%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),u-o<t)return;const h=d&&u-d;return h?Math.round(m*1e3/h):void 0}}function Ate(e,t){let r=0,a=1e3/t,s,i;const o=(u,d=Date.now())=>{r=d,s=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const d=Date.now(),A=d-r;A>=a?o(u,d):(s=u,i||(i=setTimeout(()=>{i=null,o(s)},a-A)))},()=>s&&o(s)]}const _w=(e,t,r=3)=>{let a=0;const s=hte(50,250);return Ate(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-a,u=s(c),d=o<=l;a=o;const A={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(A)},r)},L_=(e,t)=>{const r=e!=null;return[a=>t[0]({lengthComputable:r,total:e,loaded:a}),t[1]]},O_=e=>(...t)=>ar.asap(()=>e(...t)),mte=Wc.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Wc.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Wc.origin),Wc.navigator&&/(msie|trident)/i.test(Wc.navigator.userAgent)):()=>!0,pte=Wc.hasStandardBrowserEnv?{write(e,t,r,a,s,i){const o=[e+"="+encodeURIComponent(t)];ar.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),ar.isString(a)&&o.push("path="+a),ar.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function gte(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function xte(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function HR(e,t,r){let a=!gte(t);return e&&(a||r==!1)?xte(e,t):t}const D_=e=>e instanceof Kd?{...e}:e;function Dp(e,t){t=t||{};const r={};function a(u,d,A,m){return ar.isPlainObject(u)&&ar.isPlainObject(d)?ar.merge.call({caseless:m},u,d):ar.isPlainObject(d)?ar.merge({},d):ar.isArray(d)?d.slice():d}function s(u,d,A,m){if(ar.isUndefined(d)){if(!ar.isUndefined(u))return a(void 0,u,A,m)}else return a(u,d,A,m)}function i(u,d){if(!ar.isUndefined(d))return a(void 0,d)}function o(u,d){if(ar.isUndefined(d)){if(!ar.isUndefined(u))return a(void 0,u)}else return a(void 0,d)}function l(u,d,A){if(A in t)return a(u,d);if(A in e)return a(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,A)=>s(D_(u),D_(d),A,!0)};return ar.forEach(Object.keys({...e,...t}),function(d){const A=c[d]||s,m=A(e[d],t[d],d);ar.isUndefined(m)&&A!==l||(r[d]=m)}),r}const $R=e=>{const t=Dp({},e);let{data:r,withXSRFToken:a,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=Kd.from(o),t.url=DR(HR(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),ar.isFormData(r)){if(Wc.hasStandardBrowserEnv||Wc.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(ar.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,A])=>{u.includes(d.toLowerCase())&&o.set(d,A)})}}if(Wc.hasStandardBrowserEnv&&(a&&ar.isFunction(a)&&(a=a(t)),a||a!==!1&&mte(t.url))){const c=s&&i&&pte.read(i);c&&o.set(s,c)}return t},yte=typeof XMLHttpRequest<"u",vte=yte&&function(e){return new Promise(function(r,a){const s=$R(e);let i=s.data;const o=Kd.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,A,m,h,y;function x(){h&&h(),y&&y(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(s.method.toUpperCase(),s.url,!0),v.timeout=s.timeout;function b(){if(!v)return;const C=Kd.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),k={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:C,config:e,request:v};QR(function(L){r(L),x()},function(L){a(L),x()},k),v=null}"onloadend"in v?v.onloadend=b:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(b)},v.onabort=function(){v&&(a(new sn("Request aborted",sn.ECONNABORTED,e,v)),v=null)},v.onerror=function(E){const k=E&&E.message?E.message:"Network Error",D=new sn(k,sn.ERR_NETWORK,e,v);D.event=E||null,a(D),v=null},v.ontimeout=function(){let E=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const k=s.transitional||MR;s.timeoutErrorMessage&&(E=s.timeoutErrorMessage),a(new sn(E,k.clarifyTimeoutError?sn.ETIMEDOUT:sn.ECONNABORTED,e,v)),v=null},i===void 0&&o.setContentType(null),"setRequestHeader"in v&&ar.forEach(o.toJSON(),function(E,k){v.setRequestHeader(k,E)}),ar.isUndefined(s.withCredentials)||(v.withCredentials=!!s.withCredentials),l&&l!=="json"&&(v.responseType=s.responseType),u&&([m,y]=_w(u,!0),v.addEventListener("progress",m)),c&&v.upload&&([A,h]=_w(c),v.upload.addEventListener("progress",A),v.upload.addEventListener("loadend",h)),(s.cancelToken||s.signal)&&(d=C=>{v&&(a(!C||C.type?new zx(null,e,v):C),v.abort(),v=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const j=fte(s.url);if(j&&Wc.protocols.indexOf(j)===-1){a(new sn("Unsupported protocol "+j+":",sn.ERR_BAD_REQUEST,e));return}v.send(i||null)})},bte=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let a=new AbortController,s;const i=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;a.abort(d instanceof sn?d:new zx(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,i(new sn(`timeout ${t} of ms exceeded`,sn.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=a;return c.unsubscribe=()=>ar.asap(l),c}},wte=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let a=0,s;for(;a<r;)s=a+t,yield e.slice(a,s),a=s},Nte=async function*(e,t){for await(const r of jte(e))yield*wte(r,t)},jte=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:a}=await t.read();if(r)break;yield a}}finally{await t.cancel()}},M_=(e,t,r,a)=>{const s=Nte(e,t);let i=0,o,l=c=>{o||(o=!0,a&&a(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let A=d.byteLength;if(r){let m=i+=A;r(m)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},U_=64*1024,{isFunction:sb}=ar,zR=(({fetch:e,Request:t,Response:r})=>({fetch:e,Request:t,Response:r}))(ar.global),{ReadableStream:R_,TextEncoder:Q_}=ar.global,H_=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Ste=e=>{const{fetch:t,Request:r,Response:a}=Object.assign({},zR,e),s=sb(t),i=sb(r),o=sb(a);if(!s)return!1;const l=s&&sb(R_),c=s&&(typeof Q_=="function"?(y=>x=>y.encode(x))(new Q_):async y=>new Uint8Array(await new r(y).arrayBuffer())),u=i&&l&&H_(()=>{let y=!1;const x=new r(Wc.origin,{body:new R_,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!x}),d=o&&l&&H_(()=>ar.isReadableStream(new a("").body)),A={stream:d&&(y=>y.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!A[y]&&(A[y]=(x,v)=>{let b=x&&x[y];if(b)return b.call(x);throw new sn(`Response type '${y}' is not supported`,sn.ERR_NOT_SUPPORT,v)})});const m=async y=>{if(y==null)return 0;if(ar.isBlob(y))return y.size;if(ar.isSpecCompliantForm(y))return(await new r(Wc.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(ar.isArrayBufferView(y)||ar.isArrayBuffer(y))return y.byteLength;if(ar.isURLSearchParams(y)&&(y=y+""),ar.isString(y))return(await c(y)).byteLength},h=async(y,x)=>{const v=ar.toFiniteNumber(y.getContentLength());return v??m(x)};return async y=>{let{url:x,method:v,data:b,signal:j,cancelToken:C,timeout:E,onDownloadProgress:k,onUploadProgress:D,responseType:L,headers:F,withCredentials:Q="same-origin",fetchOptions:U}=$R(y);L=L?(L+"").toLowerCase():"text";let P=bte([j,C&&C.toAbortSignal()],E),I=null;const z=P&&P.unsubscribe&&(()=>{P.unsubscribe()});let W;try{if(D&&u&&v!=="get"&&v!=="head"&&(W=await h(F,b))!==0){let de=new r(x,{method:"POST",body:b,duplex:"half"}),ve;if(ar.isFormData(b)&&(ve=de.headers.get("content-type"))&&F.setContentType(ve),de.body){const[B,R]=L_(W,_w(O_(D)));b=M_(de.body,U_,B,R)}}ar.isString(Q)||(Q=Q?"include":"omit");const ie=i&&"credentials"in r.prototype,X={...U,signal:P,method:v.toUpperCase(),headers:F.normalize().toJSON(),body:b,duplex:"half",credentials:ie?Q:void 0};I=i&&new r(x,X);let le=await(i?t(I,U):t(x,X));const re=d&&(L==="stream"||L==="response");if(d&&(k||re&&z)){const de={};["status","statusText","headers"].forEach(G=>{de[G]=le[G]});const ve=ar.toFiniteNumber(le.headers.get("content-length")),[B,R]=k&&L_(ve,_w(O_(k),!0))||[];le=new a(M_(le.body,U_,B,()=>{R&&R(),z&&z()}),de)}L=L||"text";let he=await A[ar.findKey(A,L)||"text"](le,y);return!re&&z&&z(),await new Promise((de,ve)=>{QR(de,ve,{data:he,headers:Kd.from(le.headers),status:le.status,statusText:le.statusText,config:y,request:I})})}catch(ie){throw z&&z(),ie&&ie.name==="TypeError"&&/Load failed|fetch/i.test(ie.message)?Object.assign(new sn("Network Error",sn.ERR_NETWORK,y,I),{cause:ie.cause||ie}):sn.from(ie,ie&&ie.code,y,I)}}},Cte=new Map,VR=e=>{let t=ar.merge.call({skipUndefined:!0},zR,e?e.env:null);const{fetch:r,Request:a,Response:s}=t,i=[a,s,r];let o=i.length,l=o,c,u,d=Cte;for(;l--;)c=i[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:Ste(t)),d=u;return u};VR();const PC={http:zee,xhr:vte,fetch:{get:VR}};ar.forEach(PC,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const $_=e=>`- ${e}`,Ete=e=>ar.isFunction(e)||e===null||e===!1,qR={getAdapter:(e,t)=>{e=ar.isArray(e)?e:[e];const{length:r}=e;let a,s;const i={};for(let o=0;o<r;o++){a=e[o];let l;if(s=a,!Ete(a)&&(s=PC[(l=String(a)).toLowerCase()],s===void 0))throw new sn(`Unknown adapter '${l}'`);if(s&&(ar.isFunction(s)||(s=s.get(t))))break;i[l||"#"+o]=s}if(!s){const o=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map($_).join(`
`):" "+$_(o[0]):"as no adapter specified";throw new sn("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:PC};function ij(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new zx(null,e)}function z_(e){return ij(e),e.headers=Kd.from(e.headers),e.data=sj.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),qR.getAdapter(e.adapter||Uv.adapter,e)(e).then(function(a){return ij(e),a.data=sj.call(e,e.transformResponse,a),a.headers=Kd.from(a.headers),a},function(a){return RR(a)||(ij(e),a&&a.response&&(a.response.data=sj.call(e,e.transformResponse,a.response),a.response.headers=Kd.from(a.response.headers))),Promise.reject(a)})}const KR="1.12.1",l5={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{l5[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const V_={};l5.transitional=function(t,r,a){function s(i,o){return"[Axios v"+KR+"] Transitional option '"+i+"'"+o+(a?". "+a:"")}return(i,o,l)=>{if(t===!1)throw new sn(s(o," has been removed"+(r?" in "+r:"")),sn.ERR_DEPRECATED);return r&&!V_[o]&&(V_[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};l5.spelling=function(t){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function Bte(e,t,r){if(typeof e!="object")throw new sn("options must be an object",sn.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let s=a.length;for(;s-- >0;){const i=a[s],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new sn("option "+i+" must be "+c,sn.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new sn("Unknown option "+i,sn.ERR_BAD_OPTION)}}const cw={assertOptions:Bte,validators:l5},Ih=cw.validators;let Np=class{constructor(t){this.defaults=t||{},this.interceptors={request:new I_,response:new I_}}async request(t,r){try{return await this._request(t,r)}catch(a){if(a instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Dp(this.defaults,r);const{transitional:a,paramsSerializer:s,headers:i}=r;a!==void 0&&cw.assertOptions(a,{silentJSONParsing:Ih.transitional(Ih.boolean),forcedJSONParsing:Ih.transitional(Ih.boolean),clarifyTimeoutError:Ih.transitional(Ih.boolean)},!1),s!=null&&(ar.isFunction(s)?r.paramsSerializer={serialize:s}:cw.assertOptions(s,{encode:Ih.function,serialize:Ih.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),cw.assertOptions(r,{baseUrl:Ih.spelling("baseURL"),withXsrfToken:Ih.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&ar.merge(i.common,i[r.method]);i&&ar.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),r.headers=Kd.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(r)===!1||(c=c&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const u=[];this.interceptors.response.forEach(function(x){u.push(x.fulfilled,x.rejected)});let d,A=0,m;if(!c){const y=[z_.bind(this),void 0];for(y.unshift(...l),y.push(...u),m=y.length,d=Promise.resolve(r);A<m;)d=d.then(y[A++],y[A++]);return d}m=l.length;let h=r;for(A=0;A<m;){const y=l[A++],x=l[A++];try{h=y(h)}catch(v){x.call(this,v);break}}try{d=z_.call(this,h)}catch(y){return Promise.reject(y)}for(A=0,m=u.length;A<m;)d=d.then(u[A++],u[A++]);return d}getUri(t){t=Dp(this.defaults,t);const r=HR(t.baseURL,t.url,t.allowAbsoluteUrls);return DR(r,t.params,t.paramsSerializer)}};ar.forEach(["delete","get","head","options"],function(t){Np.prototype[t]=function(r,a){return this.request(Dp(a||{},{method:t,url:r,data:(a||{}).data}))}});ar.forEach(["post","put","patch"],function(t){function r(a){return function(i,o,l){return this.request(Dp(l||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Np.prototype[t]=r(),Np.prototype[t+"Form"]=r(!0)});let Tte=class GR{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const a=this;this.promise.then(s=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](s);a._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(l=>{a.subscribe(l),i=l}).then(s);return o.cancel=function(){a.unsubscribe(i)},o},t(function(i,o,l){a.reason||(a.reason=new zx(i,o,l),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=a=>{t.abort(a)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new GR(function(s){t=s}),cancel:t}}};function Fte(e){return function(r){return e.apply(null,r)}}function _te(e){return ar.isObject(e)&&e.isAxiosError===!0}const LC={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(LC).forEach(([e,t])=>{LC[t]=e});function WR(e){const t=new Np(e),r=SR(Np.prototype.request,t);return ar.extend(r,Np.prototype,t,{allOwnKeys:!0}),ar.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return WR(Dp(e,s))},r}const Vt=WR(Uv);Vt.Axios=Np;Vt.CanceledError=zx;Vt.CancelToken=Tte;Vt.isCancel=RR;Vt.VERSION=KR;Vt.toFormData=o5;Vt.AxiosError=sn;Vt.Cancel=Vt.CanceledError;Vt.all=function(t){return Promise.all(t)};Vt.spread=Fte;Vt.isAxiosError=_te;Vt.mergeConfig=Dp;Vt.AxiosHeaders=Kd;Vt.formToJSON=e=>UR(ar.isHTMLForm(e)?new FormData(e):e);Vt.getAdapter=qR.getAdapter;Vt.HttpStatusCode=LC;Vt.default=Vt;const{Axios:KOe,AxiosError:GOe,CanceledError:WOe,isCancel:YOe,CancelToken:XOe,VERSION:JOe,all:ZOe,Cancel:eDe,isAxiosError:tDe,spread:rDe,toFormData:aDe,AxiosHeaders:nDe,HttpStatusCode:sDe,formToJSON:iDe,getAdapter:oDe,mergeConfig:lDe}=Vt;function Da(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(e)}function q_(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(e)}function Xp(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(e)}function kw(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"},child:[]},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"},child:[]}]})(e)}function K_(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"10"},child:[]},{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"16"},child:[]}]})(e)}function o0(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(e)}function qh(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"},child:[]},{tag:"path",attr:{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"},child:[]}]})(e)}function Un(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"},child:[]},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"},child:[]}]})(e)}function Ia(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(e)}function eB(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(e)}function Oo(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(e)}function Iw(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 11 12 14 22 4"},child:[]},{tag:"path",attr:{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"},child:[]}]})(e)}function hi(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(e)}function Jp(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}function Do(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(e)}function ro(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(e)}function c5(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(e)}function fn(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}function Wf(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(e)}function Bu(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(e)}function Ln(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(e)}function Ql(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(e)}function mc(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(e)}function cs(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}function rh(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(e)}function Hl(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(e)}function OC(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"},child:[]},{tag:"line",attr:{x1:"4",y1:"22",x2:"4",y2:"15"},child:[]}]})(e)}function oj(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"},child:[]}]})(e)}function Uh(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 12 20 22 4 22 4 12"},child:[]},{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"22",x2:"12",y2:"7"},child:[]},{tag:"path",attr:{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"},child:[]},{tag:"path",attr:{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"},child:[]}]})(e)}function Pw(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",y1:"9",x2:"20",y2:"9"},child:[]},{tag:"line",attr:{x1:"4",y1:"15",x2:"20",y2:"15"},child:[]},{tag:"line",attr:{x1:"10",y1:"3",x2:"8",y2:"21"},child:[]},{tag:"line",attr:{x1:"16",y1:"3",x2:"14",y2:"21"},child:[]}]})(e)}function DC(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},child:[]}]})(e)}function Lo(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(e)}function d0(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(e)}function G_(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(e)}function kte(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"},child:[]}]})(e)}function W_(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 2 7 12 12 22 7 12 2"},child:[]},{tag:"polyline",attr:{points:"2 17 12 22 22 17"},child:[]},{tag:"polyline",attr:{points:"2 12 12 17 22 12"},child:[]}]})(e)}function Rr(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"},child:[]}]})(e)}function tB(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(e)}function Jy(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(e)}function Zf(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(e)}function Mp(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(e)}function Ite(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"18"},child:[]},{tag:"line",attr:{x1:"16",y1:"6",x2:"16",y2:"22"},child:[]}]})(e)}function rB(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(e)}function lj(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(e)}function Pte(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"},child:[]}]})(e)}function Lte(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function Y_(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"3 11 22 2 13 21 11 13 3 11"},child:[]}]})(e)}function yd(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(e)}function Ote(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"},child:[]}]})(e)}function ib(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"5",x2:"5",y2:"19"},child:[]},{tag:"circle",attr:{cx:"6.5",cy:"6.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"17.5",r:"2.5"},child:[]}]})(e)}function ah(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(e)}function bs(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function aB(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 6 2 18 2 18 9"},child:[]},{tag:"path",attr:{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"},child:[]},{tag:"rect",attr:{x:"6",y:"14",width:"12",height:"8"},child:[]}]})(e)}function ih(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(e)}function $l(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(e)}function on(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function wy(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(e)}function X_(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"18",cy:"5",r:"3"},child:[]},{tag:"circle",attr:{cx:"6",cy:"12",r:"3"},child:[]},{tag:"circle",attr:{cx:"18",cy:"19",r:"3"},child:[]},{tag:"line",attr:{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"},child:[]},{tag:"line",attr:{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"},child:[]}]})(e)}function YR(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(e)}function Dte(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"path",attr:{d:"M16 10a4 4 0 0 1-8 0"},child:[]}]})(e)}function J_(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(e)}function Rh(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(e)}function Jn(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function t0(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(e)}function gd(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"3",width:"15",height:"13"},child:[]},{tag:"polygon",attr:{points:"16 8 20 8 23 11 23 16 16 16 16 8"},child:[]},{tag:"circle",attr:{cx:"5.5",cy:"18.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"18.5",cy:"18.5",r:"2.5"},child:[]}]})(e)}function Mte(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"16 16 12 12 8 16"},child:[]},{tag:"line",attr:{x1:"12",y1:"12",x2:"12",y2:"21"},child:[]},{tag:"path",attr:{d:"M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"},child:[]},{tag:"polyline",attr:{points:"16 16 12 12 8 16"},child:[]}]})(e)}function XR(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(e)}function Ute(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(e)}function cj(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(e)}function ks(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}function rn(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(e)}function ox(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(e)}function pr(e){return br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(e)}function Rte(e){return br({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M96 0C43 0 0 43 0 96L0 416c0 53 43 96 96 96l288 0 32 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l0-64c17.7 0 32-14.3 32-32l0-320c0-17.7-14.3-32-32-32L384 0 96 0zm0 384l256 0 0 64L96 448c-17.7 0-32-14.3-32-32s14.3-32 32-32zm32-240c0-8.8 7.2-16 16-16l192 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-192 0c-8.8 0-16-7.2-16-16zm16 48l192 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-192 0c-8.8 0-16-7.2-16-16s7.2-16 16-16z"},child:[]}]})(e)}const Qte=()=>{const e=yc(),[t,r]=S.useState(!1),[a,s]=S.useState("School Admin"),[i,o]=S.useState(localStorage.getItem("schoolLogo")||""),l=Sd();console.log(i);const c=localStorage.getItem("color")||"#4f46e5",u=localStorage.getItem("schoolId"),d=localStorage.getItem("token");console.log(u),S.useEffect(()=>{(async()=>{try{const x=await Vt.get(`http://localhost:5000/api/schools/${u}`,{headers:{Authorization:`Bearer ${d}`}}),v=x.data;s(x.data.data.name),console.log(x)}catch(x){console.error("Error fetching school data:",x),s("School Admin")}})()},[u,d]);const A=[{id:"dashboard",path:"/dashboard",icon:Lo,label:"Dashboard",color:"text-blue-600"},{id:"students",path:"/students",icon:rn,label:"Students",color:"text-green-600"},{id:"attendance",path:"/attendance",icon:Iw,label:"Attendance",color:"text-emerald-600"},{id:"fees",path:"/fees",icon:FC,label:"Fees",color:"text-yellow-600"},{id:"payment-settings",path:"/payment-settings",icon:Wf,label:"Payment Settings",color:"text-purple-600"},{id:"manual-payment-verification",path:"/manual-payment-verification",icon:Iw,label:"Payment Verification",color:"text-green-600"},{id:"result",path:"/result",icon:nee,label:"Results",color:"text-yellow-600"},{id:"subject",path:"/subject",icon:Rte,label:"subject",color:"text-yellow-600"},{id:"class",path:"/classManagement",icon:$Z,label:"Class",color:"text-blue-600"},{id:"timetable",path:"/timetable",icon:Ia,label:"Time Table",color:"text-indigo-600"},{id:"exams",path:"/exams",icon:kw,label:"Exams",color:"text-red-600"},{id:"Home work",path:"/assignments",icon:mc,label:"Home work",color:"text-orange-600"},{id:"teachercreate",path:"/teachercreate",icon:rh,label:"Teacher Create",color:"text-teal-600"},{id:"teachers",path:"/teachers",icon:ks,label:"Teachers",color:"text-purple-600"},{id:"transport",path:"/transport",icon:gd,label:"Transport",color:"text-cyan-600"},{id:"circular",path:"/circular",icon:o0,label:"Circular",color:"text-rose-600"},{id:"events",path:"/events",icon:Rh,label:"Events",color:"text-pink-600"},{id:"birthday",path:"/birthday",icon:Uh,label:"Birthday",color:"text-amber-600"},{id:"gallery",path:"/gallery",icon:eB,label:"Gallery",color:"text-blue-500"},{id:"holiday",path:"/holiday",icon:Ia,label:"Holiday",color:"text-sky-600"},{id:"uniform",path:"/uniform",icon:Dte,label:"Uniform",color:"text-emerald-700"},{id:"books",path:"/books",icon:qh,label:"Books",color:"text-cyan-600"},{id:"orders",path:"/orders",icon:yd,label:"Orders",color:"text-orange-600"}],m=()=>{r(!t)},h=()=>{localStorage.removeItem("token"),localStorage.removeItem("schoolId"),localStorage.removeItem("schoolCode"),localStorage.removeItem("color"),localStorage.removeItem("schoolLogo"),e("/login")};return n.jsxs("div",{className:`shadow-xl transition-all duration-700 ease-in-out ${t?"w-22":"w-76"} h-screen sticky top-0 flex flex-col bg-white`,children:[n.jsx("div",{className:"p-6 border-b border-gray-100 flex-shrink-0",style:{backgroundColor:c},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:`flex items-center space-x-3 transition-all duration-700 ease-in-out ${t?"opacity-0 w-0 overflow-hidden":"opacity-100 w-auto"}`,children:[n.jsx("img",{src:`${i}`,alt:"School Logo",className:"w-12 h-12 rounded-xl object-contain shadow-lg",style:{backgroundColor:"white"}}),n.jsxs("div",{children:[n.jsxs("h1",{className:"text-xl font-bold text-white",children:[a," "]}),n.jsx("p",{className:"text-xs text-white font-medium",children:"Admin Panel"})]})]}),n.jsx("button",{onClick:m,className:"p-3 rounded-xl hover:bg-gray-100 active:bg-gray-200 transition-all duration-300 ease-in-out group transform hover:scale-110 active:scale-95 hover:rotate-3",style:{backgroundColor:"rgba(255, 255, 255, 0.2)"},children:n.jsxs("div",{className:"relative w-5 h-5",children:[n.jsx(rB,{className:`absolute w-5 h-5 text-white transition-all duration-500 ease-in-out transform ${t?"opacity-100 rotate-0 scale-100":"opacity-0 rotate-180 scale-75"}`}),n.jsx(pr,{className:`absolute w-5 h-5 text-white transition-all duration-500 ease-in-out transform ${t?"opacity-0 rotate-180 scale-75":"opacity-100 rotate-0 scale-100"}`})]})})]})}),n.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden py-4 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100 hover:scrollbar-thumb-gray-400",children:[n.jsx("nav",{className:"px-4",children:n.jsx("ul",{className:"space-y-2",children:A.map(y=>{const x=y.icon,v=l.pathname===y.path||l.pathname==="/"&&y.path==="/dashboard";return n.jsx("li",{children:n.jsxs(Xi,{to:y.path,className:`w-full flex items-center space-x-3 p-3 rounded-xl transition-all duration-300 ease-in-out group ${v?"text-white shadow-lg transform scale-105":"hover:bg-gray-50 text-gray-700 hover:shadow-md hover:scale-102"}`,style:v?{backgroundColor:c}:{},children:[n.jsx(x,{className:`w-5 h-5 flex-shrink-0 ${v?"text-white":`${y.color} group-hover:scale-110`} transition-all duration-300 ease-in-out`}),n.jsx("span",{className:`font-medium transition-all duration-700 ease-in-out ${v?"text-white":"text-gray-700 group-hover:text-gray-900"} ${t?"opacity-0 w-0 overflow-hidden":"opacity-100 w-auto"}`,children:y.label}),v&&!t&&n.jsx("div",{className:"ml-auto w-2 h-2 bg-white rounded-full animate-pulse flex-shrink-0"})]})},y.id)})})}),n.jsx("div",{className:"px-4 pb-4 flex-shrink-0",children:n.jsxs("button",{onClick:h,className:"w-full flex items-center space-x-3 p-3 rounded-xl transition-all duration-300 ease-in-out group hover:bg-red-50 text-red-600 hover:shadow-md hover:scale-102",children:[n.jsx(Jy,{className:"w-5 h-5 flex-shrink-0 text-red-600 group-hover:scale-110 transition-all duration-300 ease-in-out"}),n.jsx("span",{className:`font-medium transition-all duration-700 ease-in-out text-red-600 group-hover:text-red-700 ${t?"opacity-0 w-0 overflow-hidden":"opacity-100 w-auto"}`,children:"Logout"})]})})]})]})},nB=S.createContext(),Hte=({children:e})=>{const[t,r]=S.useState(null),[a,s]=S.useState(!0),[i,o]=S.useState(null);S.useEffect(()=>{(async()=>{const m=localStorage.getItem("superadmin_token"),h=localStorage.getItem("superadmin_user");if(m&&h)try{const y=JSON.parse(h);r(y)}catch{u()}s(!1)})()},[]);const l=async(A,m)=>{try{const h=await Vt.post("http://localhost:5000/api/superadmin/login",{email:A,password:m});if(h.data.success){const y={id:h.data.data.id,email:h.data.data.email,role:"superadmin",token:h.data.token};return r(y),localStorage.setItem("superadmin_token",h.data.token),localStorage.setItem("superadmin_user",JSON.stringify(y)),!0}return!1}catch(h){return o(h.response?.data?.message||"Login failed"),!1}},c=()=>(u(),!0),u=()=>{r(null),o(null),localStorage.removeItem("superadmin_token"),localStorage.removeItem("superadmin_user")},d={user:t,loading:a,error:i,login:l,logout:c};return n.jsx(nB.Provider,{value:d,children:!a&&e})},JR=()=>{const e=S.useContext(nB);if(e===void 0)throw new Error("useAuth must be used within a SuperAdminAuthProvider");return e},$te=()=>{const e=S.useContext(nB);if(!e)throw new Error("useAuth must be used within a SuperAdminAuthProvider");return e},Vx="/assets/parnets1-8a6NRplW.jpeg",zte=()=>{const[e,t]=S.useState(!1),r=Sd(),{user:a,logout:s}=$te(),i=yc(),o=[{id:"dashboard",path:"/admin/dashboard",icon:Lo,label:"Dashboard",color:"text-[#F37021]"},{id:"school",path:"/admin/school",icon:Lo,label:"School",color:"text-[#F37021]"},{id:"students",path:"/admin/students",icon:rn,label:"Students",color:"text-[#F37021]"},{id:"attendance",path:"/admin/attendance",icon:Iw,label:"Attendance",color:"text-[#F37021]"},{id:"fees",path:"/admin/fees",icon:Bu,label:"Fees",color:"text-[#F37021]"},{id:"timetable",path:"/admin/timetable",icon:Ia,label:"Time Table",color:"text-[#F37021]"},{id:"exams",path:"/admin/exams",icon:rh,label:"Exams",color:"text-[#F37021]"},{id:"library",path:"/admin/library",icon:qh,label:"Library",color:"text-[#F37021]"},{id:"teachers",path:"/admin/teachers",icon:ks,label:"Teachers",color:"text-[#F37021]"},{id:"circular",path:"/admin/circular",icon:o0,label:"Circular",color:"text-[#F37021]"},{id:"transport",path:"/admin/transport",icon:gd,label:"Transport",color:"text-[#F37021]"},{id:"events",path:"/admin/events",icon:Rh,label:"Events",color:"text-[#F37021]"},{id:"birthday",path:"/admin/birthday",icon:Rh,label:"Birthday",color:"text-[#F37021]"},{id:"gallery",path:"/admin/gallery",icon:rh,label:"Gallery",color:"text-[#F37021]"},{id:"holiday",path:"/admin/holiday",icon:Rh,label:"Holiday",color:"text-[#F37021]"},{id:"uniform",path:"/admin/uniform",icon:Rh,label:"uniform",color:"text-[#F37021]"},{id:"books",path:"/admin/books",icon:gd,label:"Books",color:"text-[#F37021]"},{id:"Enquiry",path:"/admin/enquires-management",icon:gd,label:"Enquiry Management",color:"text-[#F37021]"},{id:"PriceManagement",path:"/admin/PriceManagement",icon:wy,label:"Price Management",color:"text-[#F37021]"}],l=()=>{t(!e)},c=()=>{s(),i("/superadmin-login")};return n.jsxs("div",{className:`bg-white shadow-xl transition-all duration-500 ease-in-out ${e?"w-20":"w-72"} h-screen sticky top-0 flex flex-col`,style:{margin:0,padding:0,left:0},children:[n.jsx("div",{className:"p-4 border-b border-[#1C1444]/10 flex-shrink-0",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:`flex items-center space-x-3 transition-all duration-500 ease-in-out ${e?"opacity-0 w-0 overflow-hidden":"opacity-100 w-auto"}`,children:[n.jsx("div",{className:"w-20 h-14  rounded-xl flex items-center justify-center shadow-md",children:n.jsx("img",{src:Vx,alt:"Logo",className:"h-10 object-contain"})}),n.jsx("div",{children:n.jsx("h1",{className:"text-xl font-bold text-[#1C1444] tracking-tight",children:"Super Admin Panel"})})]}),n.jsx("button",{onClick:l,className:"p-2 rounded-xl hover:bg-[#1C1444]/10 transition-all duration-300 ease-in-out group transform hover:scale-110",title:e?"Expand Sidebar":"Collapse Sidebar",children:n.jsxs("div",{className:"relative w-5 h-5",children:[n.jsx(rB,{className:`absolute w-5 h-5 text-[#1C1444] group-hover:text-[#F37021] transition-all duration-300 ease-in-out transform ${e?"opacity-100 rotate-0 scale-100":"opacity-0 rotate-180 scale-75"}`}),n.jsx(pr,{className:`absolute w-5 h-5 text-[#1C1444] group-hover:text-[#F37021] transition-all duration-300 ease-in-out transform ${e?"opacity-0 rotate-180 scale-75":"opacity-100 rotate-0 scale-100"}`})]})})]})}),n.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden py-4 scrollbar-thin scrollbar-thumb-[#1C1444]/20 scrollbar-track-transparent hover:scrollbar-thumb-[#1C1444]/40",children:n.jsx("nav",{className:"px-3",children:n.jsx("ul",{className:"space-y-1",children:o.map(u=>{const d=u.icon,A=r.pathname===u.path||r.pathname==="/"&&u.path==="/dashboard";return n.jsx("li",{children:n.jsxs(Xi,{to:u.path,className:`w-full flex items-center space-x-3 p-3 rounded-xl transition-all duration-300 ease-in-out group ${A?"bg-[#F37021] text-white shadow-md":"hover:bg-[#1C1444]/10 text-[#1C1444] hover:shadow-sm"}`,title:e?u.label:"",children:[n.jsx(d,{className:`w-5 h-5 flex-shrink-0 ${A?"text-white":`${u.color} group-hover:scale-110`} transition-all duration-300 ease-in-out`}),n.jsx("span",{className:`font-medium text-sm transition-all duration-500 ease-in-out ${A?"text-white":"text-[#1C1444] group-hover:text-[#F37021]"} ${e?"opacity-0 w-0 overflow-hidden":"opacity-100 w-auto"}`,children:u.label}),A&&!e&&n.jsx("div",{className:"ml-auto w-2 h-2 bg-white rounded-full animate-pulse flex-shrink-0"})]})},u.id)})})})}),n.jsxs("div",{className:"border-t border-[#1C1444]/10 flex-shrink-0",children:[n.jsx("div",{className:`transition-all duration-500 ease-in-out ${e?"opacity-0 scale-95 pointer-events-none h-0":"opacity-100 scale-100 h-auto p-4"}`,children:n.jsxs("div",{className:"bg-[#1C1444] rounded-xl p-4 text-white shadow-md",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[n.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-xl flex items-center justify-center backdrop-blur-sm",children:n.jsx("span",{className:"text-sm font-bold text-[#F37021]",children:a?.name?.split(" ").map(u=>u[0]).join("")||"SA"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-semibold text-sm text-white",children:a?.name||"Super Admin"}),n.jsx("p",{className:"text-xs text-white/80",children:a?.email||"superadmin@school.com"})]})]}),n.jsxs("button",{onClick:c,className:"w-full flex items-center justify-center space-x-2 p-2 bg-[#F37021] hover:bg-[#d55f1c] rounded-lg transition-all duration-200 ease-in-out",children:[n.jsx(Jy,{className:"w-4 h-4 text-white"}),n.jsx("span",{className:"text-sm font-medium text-white",children:"Logout"})]})]})}),n.jsx("div",{className:`transition-all duration-500 ease-in-out p-4 ${e?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none h-0"}`,children:n.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[n.jsx("div",{className:"w-12 h-12 bg-[#1C1444] rounded-xl flex items-center justify-center shadow-md hover:scale-105 transition-transform duration-200",children:n.jsx("span",{className:"text-white font-bold text-sm",children:a?.name?.split(" ").map(u=>u[0]).join("")||"SA"})}),n.jsx("button",{onClick:c,className:"p-3 rounded-xl hover:bg-[#1C1444]/10 transition-all duration-200 ease-in-out text-[#F37021] hover:text-[#d55f1c]",title:"Logout",children:n.jsx(Jy,{className:"w-5 h-5"})})]})})]})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Lw={};Lw.version="0.18.5";var ZR=1252,Vte=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],e9=function(e){Vte.indexOf(e)!=-1&&(ZR=e)};function qte(){e9(1252)}var Zy=function(e){e9(e)};function Kte(){Zy(1200),qte()}var ob=function(t){return String.fromCharCode(t)},Z_=function(t){return String.fromCharCode(t)},Ow,r0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function ev(e){for(var t="",r=0,a=0,s=0,i=0,o=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),i=r>>2,a=e.charCodeAt(u++),o=(r&3)<<4|a>>4,s=e.charCodeAt(u++),l=(a&15)<<2|s>>6,c=s&63,isNaN(a)?l=c=64:isNaN(s)&&(c=64),t+=r0.charAt(i)+r0.charAt(o)+r0.charAt(l)+r0.charAt(c);return t}function YA(e){var t="",r=0,a=0,s=0,i=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=r0.indexOf(e.charAt(u++)),o=r0.indexOf(e.charAt(u++)),r=i<<2|o>>4,t+=String.fromCharCode(r),l=r0.indexOf(e.charAt(u++)),a=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(a)),c=r0.indexOf(e.charAt(u++)),s=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(s));return t}var ls=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),lm=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function Up(e){return ls?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function ek(e){return ls?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Yf=function(t){return ls?lm(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function d5(e){if(typeof ArrayBuffer>"u")return Yf(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),a=0;a!=e.length;++a)r[a]=e.charCodeAt(a)&255;return t}function Rv(e){if(Array.isArray(e))return e.map(function(a){return String.fromCharCode(a)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function Gte(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var fc=ls?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:lm(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var a=new Uint8Array(r),s=0;for(t=0,r=0;t<e.length;r+=s,++t)if(s=e[t].length,e[t]instanceof Uint8Array)a.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";a.set(new Uint8Array(e[t]),r)}return a}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function Wte(e){for(var t=[],r=0,a=e.length+250,s=Up(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)s[r++]=o;else if(o<2048)s[r++]=192|o>>6&31,s[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++i)&1023;s[r++]=240|o>>8&7,s[r++]=128|o>>2&63,s[r++]=128|l>>6&15|(o&3)<<4,s[r++]=128|l&63}else s[r++]=224|o>>12&15,s[r++]=128|o>>6&63,s[r++]=128|o&63;r>a&&(t.push(s.slice(0,r)),r=0,s=Up(65535),a=65530)}return t.push(s.slice(0,r)),fc(t)}var Ny=/\u0000/g,lb=/[\u0001-\u0006]/g;function lx(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function eh(e,t){var r=""+e;return r.length>=t?r:xo("0",t-r.length)+r}function sB(e,t){var r=""+e;return r.length>=t?r:xo(" ",t-r.length)+r}function Dw(e,t){var r=""+e;return r.length>=t?r:r+xo(" ",t-r.length)}function Yte(e,t){var r=""+Math.round(e);return r.length>=t?r:xo("0",t-r.length)+r}function Xte(e,t){var r=""+e;return r.length>=t?r:xo("0",t-r.length)+r}var tk=Math.pow(2,32);function _g(e,t){if(e>tk||e<-tk)return Yte(e,t);var r=Math.round(e);return Xte(r,t)}function Mw(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var rk=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],dj=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Jte(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var yo={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},ak={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Zte={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Uw(e,t,r){for(var a=e<0?-1:1,s=e*a,i=0,o=1,l=0,c=1,u=0,d=0,A=Math.floor(s);u<t&&(A=Math.floor(s),l=A*o+i,d=A*u+c,!(s-A<5e-8));)s=1/(s-A),i=o,o=l,c=u,u=d;if(d>t&&(u>t?(d=c,l=i):(d=u,l=o)),!r)return[0,a*l,d];var m=Math.floor(a*l/d);return[m,a*l-m*d,d]}function cb(e,t,r){if(e>2958465||e<0)return null;var a=e|0,s=Math.floor(86400*(e-a)),i=0,o=[],l={D:a,T:s,u:86400*(e-a)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(a+=1462),l.u>.9999&&(l.u=0,++s==86400&&(l.T=s=0,++a,++l.D)),a===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(a===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{a>60&&--a;var c=new Date(1900,0,1);c.setDate(c.getDate()+a-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),a<60&&(i=(i+6)%7),r&&(i=ire(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=s%60,s=Math.floor(s/60),l.M=s%60,s=Math.floor(s/60),l.H=s,l.q=i,l}var t9=new Date(1899,11,31,0,0,0),ere=t9.getTime(),tre=new Date(1900,2,1,0,0,0);function r9(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=tre&&(r+=1440*60*1e3),(r-(ere+(e.getTimezoneOffset()-t9.getTimezoneOffset())*6e4))/(1440*60*1e3)}function iB(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function rre(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function are(e){var t=e<0?12:11,r=iB(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function nre(e){var t=iB(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function sre(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=are(e):t===10?r=e.toFixed(10).substr(0,12):r=nre(e),iB(rre(r.toUpperCase()))}function MC(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):sre(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return u0(14,r9(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function ire(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function ore(e,t,r,a){var s="",i=0,o=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return dj[r.m-1][1];case 5:return dj[r.m-1][0];default:return dj[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return rk[r.q][0];default:return rk[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?eh(r.S,t.length):(a>=2?o=a===3?1e3:100:o=a===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(s=eh(i,2+a),t==="ss"?s.substr(0,2):"."+s.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var d=u>0?eh(c,u):"";return d}function a0(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,a=e.substr(0,r);r!=e.length;r+=t)a+=(a.length>0?",":"")+e.substr(r,t);return a}var a9=/%/g;function lre(e,t,r){var a=t.replace(a9,""),s=t.length-a.length;return $A(e,a,r*Math.pow(10,2*s))+xo("%",s)}function cre(e,t,r){for(var a=t.length-1;t.charCodeAt(a-1)===44;)--a;return $A(e,t.substr(0,a),r/Math.pow(10,3*(t.length-a)))}function n9(e,t){var r,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+n9(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%s;if(i<0&&(i+=s),r=(t/Math.pow(10,i)).toPrecision(a+1+(s+i)%s),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,s)+"."+r.substr(2+s),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(s+i)%s)+"."+d.substr(i)+"E"})}else r=t.toExponential(a);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var s9=/# (\?+)( ?)\/( ?)(\d+)/;function dre(e,t,r){var a=parseInt(e[4],10),s=Math.round(t*a),i=Math.floor(s/a),o=s-i*a,l=a;return r+(i===0?"":""+i)+" "+(o===0?xo(" ",e[1].length+1+e[4].length):sB(o,e[1].length)+e[2]+"/"+e[3]+eh(l,e[4].length))}function ure(e,t,r){return r+(t===0?"":""+t)+xo(" ",e[1].length+2+e[4].length)}var i9=/^#*0*\.([0#]+)/,o9=/\).*[0#]/,l9=/\(###\) ###\\?-####/;function md(e){for(var t="",r,a=0;a!=e.length;++a)switch(r=e.charCodeAt(a)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function nk(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function sk(e,t){var r=e-Math.floor(e),a=Math.pow(10,t);return t<(""+Math.round(r*a)).length?0:Math.round(r*a)}function fre(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function hre(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function af(e,t,r){if(e.charCodeAt(0)===40&&!t.match(o9)){var a=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?af("n",a,r):"("+af("n",a,-r)+")"}if(t.charCodeAt(t.length-1)===44)return cre(e,t,r);if(t.indexOf("%")!==-1)return lre(e,t,r);if(t.indexOf("E")!==-1)return n9(t,r);if(t.charCodeAt(0)===36)return"$"+af(e,t.substr(t.charAt(1)==" "?2:1),r);var s,i,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+_g(c,t.length);if(t.match(/^[#?]+$/))return s=_g(r,0),s==="0"&&(s=""),s.length>t.length?s:md(t.substr(0,t.length-s.length))+s;if(i=t.match(s9))return dre(i,c,u);if(t.match(/^#+0+$/))return u+_g(c,t.length-t.indexOf("0"));if(i=t.match(i9))return s=nk(r,i[1].length).replace(/^([^\.]+)$/,"$1."+md(i[1])).replace(/\.$/,"."+md(i[1])).replace(/\.(\d*)$/,function(y,x){return"."+x+xo("0",md(i[1]).length-x.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+nk(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+a0(_g(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+af(e,t,-r):a0(""+(Math.floor(r)+fre(r,i[1].length)))+"."+eh(sk(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return af(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=lx(af(e,t.replace(/[\\-]/g,""),r)),o=0,lx(lx(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<s.length?s.charAt(o++):y==="0"?"0":""}));if(t.match(l9))return s=af(e,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=Uw(c,Math.pow(10,o)-1,!1),s=""+u,d=$A("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),s+=d+i[2]+"/"+i[3],d=Dw(l[2],o),d.length<i[4].length&&(d=md(i[4].substr(i[4].length-d.length))+d),s+=d,s;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=Uw(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?sB(l[1],o)+i[2]+"/"+i[3]+Dw(l[2],o):xo(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return s=_g(r,0),t.length<=s.length?s:md(t.substr(0,t.length-s.length))+s;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var A=t.indexOf(".")-o,m=t.length-s.length-A;return md(t.substr(0,A)+s+t.substr(t.length-m))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=sk(r,i[1].length),r<0?"-"+af(e,t,-r):a0(hre(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?eh(0,3-y.length):"")+y})+"."+eh(o,i[1].length);switch(t){case"###,##0.00":return af(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var h=a0(_g(c,0));return h!=="0"?u+h:"";case"###,###.00":return af(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return af(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Are(e,t,r){for(var a=t.length-1;t.charCodeAt(a-1)===44;)--a;return $A(e,t.substr(0,a),r/Math.pow(10,3*(t.length-a)))}function mre(e,t,r){var a=t.replace(a9,""),s=t.length-a.length;return $A(e,a,r*Math.pow(10,2*s))+xo("%",s)}function c9(e,t){var r,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+c9(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%s;if(i<0&&(i+=s),r=(t/Math.pow(10,i)).toPrecision(a+1+(s+i)%s),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(s+i)%s)+"."+d.substr(i)+"E"})}else r=t.toExponential(a);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Lh(e,t,r){if(e.charCodeAt(0)===40&&!t.match(o9)){var a=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Lh("n",a,r):"("+Lh("n",a,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Are(e,t,r);if(t.indexOf("%")!==-1)return mre(e,t,r);if(t.indexOf("E")!==-1)return c9(t,r);if(t.charCodeAt(0)===36)return"$"+Lh(e,t.substr(t.charAt(1)==" "?2:1),r);var s,i,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+eh(c,t.length);if(t.match(/^[#?]+$/))return s=""+r,r===0&&(s=""),s.length>t.length?s:md(t.substr(0,t.length-s.length))+s;if(i=t.match(s9))return ure(i,c,u);if(t.match(/^#+0+$/))return u+eh(c,t.length-t.indexOf("0"));if(i=t.match(i9))return s=(""+r).replace(/^([^\.]+)$/,"$1."+md(i[1])).replace(/\.$/,"."+md(i[1])),s=s.replace(/\.(\d*)$/,function(y,x){return"."+x+xo("0",md(i[1]).length-x.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+a0(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Lh(e,t,-r):a0(""+r)+"."+xo("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Lh(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=lx(Lh(e,t.replace(/[\\-]/g,""),r)),o=0,lx(lx(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<s.length?s.charAt(o++):y==="0"?"0":""}));if(t.match(l9))return s=Lh(e,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=Uw(c,Math.pow(10,o)-1,!1),s=""+u,d=$A("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),s+=d+i[2]+"/"+i[3],d=Dw(l[2],o),d.length<i[4].length&&(d=md(i[4].substr(i[4].length-d.length))+d),s+=d,s;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=Uw(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?sB(l[1],o)+i[2]+"/"+i[3]+Dw(l[2],o):xo(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return s=""+r,t.length<=s.length?s:md(t.substr(0,t.length-s.length))+s;if(i=t.match(/^([#0]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var A=t.indexOf(".")-o,m=t.length-s.length-A;return md(t.substr(0,A)+s+t.substr(t.length-m))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Lh(e,t,-r):a0(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?eh(0,3-y.length):"")+y})+"."+eh(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var h=a0(""+c);return h!=="0"?u+h:"";default:if(t.match(/\.[0#?]*$/))return Lh(e,t.slice(0,t.lastIndexOf(".")),r)+md(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function $A(e,t,r){return(r|0)===r?Lh(e,t,r):af(e,t,r)}function pre(e){for(var t=[],r=!1,a=0,s=0;a<e.length;++a)switch(e.charCodeAt(a)){case 34:r=!r;break;case 95:case 42:case 92:++a;break;case 59:t[t.length]=e.substr(s,a-s),s=a+1}if(t[t.length]=e.substr(s),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var d9=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function u9(e){for(var t=0,r="",a="";t<e.length;)switch(r=e.charAt(t)){case"G":Mw(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(a=r;e.charAt(t++)!=="]"&&t<e.length;)a+=e.charAt(t);if(a.match(d9))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function gre(e,t,r,a){for(var s=[],i="",o=0,l="",c="t",u,d,A,m="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!Mw(e,o))throw new Error("unrecognized character "+l+" in "+e);s[s.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(A=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(A);s[s.length]={t:"t",v:i},++o;break;case"\\":var h=e.charAt(++o),y=h==="("||h===")"?h:"t";s[s.length]={t:y,v:h},++o;break;case"_":s[s.length]={t:"t",v:" "},o+=2;break;case"@":s[s.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=cb(t,r,e.charAt(o+1)==="2"),u==null))return"";s[s.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=cb(t,r),u==null))return"";for(i=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=m),s[s.length]={t:l,v:i},c=l;break;case"A":case"a":case"":var x={t:l,v:l};if(u==null&&(u=cb(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(x.v=u.H>=12?"P":"A"),x.t="T",m="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(x.v=u.H>=12?"PM":"AM"),x.t="T",o+=5,m="h"):e.substr(o,5).toUpperCase()==="/"?(u!=null&&(x.v=u.H>=12?"":""),x.t="T",o+=5,m="h"):(x.t="t",++o),u==null&&x.t==="T")return"";s[s.length]=x,c=l;break;case"[":for(i=l;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(d9)){if(u==null&&(u=cb(t,r),u==null))return"";s[s.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",u9(e)||(s[s.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=l;++o<e.length&&(l=e.charAt(o))==="0";)i+=l;s[s.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)i+=l;s[s.length]={t:"n",v:i};break;case"?":for(i=l;e.charAt(++o)===l;)i+=l;s[s.length]={t:l,v:i},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":s[s.length]={t:a===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);s[s.length]={t:"D",v:i};break;case" ":s[s.length]={t:l,v:l},++o;break;case"$":s[s.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);s[s.length]={t:"t",v:l},++o;break}var v=0,b=0,j;for(o=s.length-1,c="t";o>=0;--o)switch(s[o].t){case"h":case"H":s[o].t=m,c="h",v<1&&(v=1);break;case"s":(j=s[o].v.match(/\.0+$/))&&(b=Math.max(b,j[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":c=s[o].t;break;case"m":c==="s"&&(s[o].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&s[o].v.match(/[Hh]/)&&(v=1),v<2&&s[o].v.match(/[Mm]/)&&(v=2),v<3&&s[o].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var C="",E;for(o=0;o<s.length;++o)switch(s[o].t){case"t":case"T":case" ":case"D":break;case"X":s[o].v="",s[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[o].v=ore(s[o].t.charCodeAt(0),s[o].v,u,b),s[o].t="t";break;case"n":case"?":for(E=o+1;s[E]!=null&&((l=s[E].t)==="?"||l==="D"||(l===" "||l==="t")&&s[E+1]!=null&&(s[E+1].t==="?"||s[E+1].t==="t"&&s[E+1].v==="/")||s[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(s[E].v==="/"||s[E].v===" "&&s[E+1]!=null&&s[E+1].t=="?"));)s[o].v+=s[E].v,s[E]={v:"",t:";"},++E;C+=s[o].v,o=E-1;break;case"G":s[o].t="t",s[o].v=MC(t,r);break}var k="",D,L;if(C.length>0){C.charCodeAt(0)==40?(D=t<0&&C.charCodeAt(0)===45?-t:t,L=$A("n",C,D)):(D=t<0&&a>1?-t:t,L=$A("n",C,D),D<0&&s[0]&&s[0].t=="t"&&(L=L.substr(1),s[0].v="-"+s[0].v)),E=L.length-1;var F=s.length;for(o=0;o<s.length;++o)if(s[o]!=null&&s[o].t!="t"&&s[o].v.indexOf(".")>-1){F=o;break}var Q=s.length;if(F===s.length&&L.indexOf("E")===-1){for(o=s.length-1;o>=0;--o)s[o]==null||"n?".indexOf(s[o].t)===-1||(E>=s[o].v.length-1?(E-=s[o].v.length,s[o].v=L.substr(E+1,s[o].v.length)):E<0?s[o].v="":(s[o].v=L.substr(0,E+1),E=-1),s[o].t="t",Q=o);E>=0&&Q<s.length&&(s[Q].v=L.substr(0,E+1)+s[Q].v)}else if(F!==s.length&&L.indexOf("E")===-1){for(E=L.indexOf(".")-1,o=F;o>=0;--o)if(!(s[o]==null||"n?".indexOf(s[o].t)===-1)){for(d=s[o].v.indexOf(".")>-1&&o===F?s[o].v.indexOf(".")-1:s[o].v.length-1,k=s[o].v.substr(d+1);d>=0;--d)E>=0&&(s[o].v.charAt(d)==="0"||s[o].v.charAt(d)==="#")&&(k=L.charAt(E--)+k);s[o].v=k,s[o].t="t",Q=o}for(E>=0&&Q<s.length&&(s[Q].v=L.substr(0,E+1)+s[Q].v),E=L.indexOf(".")+1,o=F;o<s.length;++o)if(!(s[o]==null||"n?(".indexOf(s[o].t)===-1&&o!==F)){for(d=s[o].v.indexOf(".")>-1&&o===F?s[o].v.indexOf(".")+1:0,k=s[o].v.substr(0,d);d<s[o].v.length;++d)E<L.length&&(k+=L.charAt(E++));s[o].v=k,s[o].t="t",Q=o}}}for(o=0;o<s.length;++o)s[o]!=null&&"n?".indexOf(s[o].t)>-1&&(D=a>1&&t<0&&o>0&&s[o-1].v==="-"?-t:t,s[o].v=$A(s[o].t,s[o].v,D),s[o].t="t");var U="";for(o=0;o!==s.length;++o)s[o]!=null&&(U+=s[o].v);return U}var ik=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function ok(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function xre(e,t){var r=pre(e),a=r.length,s=r[a-1].indexOf("@");if(a<4&&s>-1&&--a,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||s>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=s>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=s>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=s>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[a,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(ik),l=r[1].match(ik);return ok(t,o)?[a,r[0]]:ok(t,l)?[a,r[1]]:[a,r[o!=null&&l!=null?2:1]]}return[a,i]}function u0(e,t,r){r==null&&(r={});var a="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?a=r.dateNF:a=e;break;case"number":e==14&&r.dateNF?a=r.dateNF:a=(r.table!=null?r.table:yo)[e],a==null&&(a=r.table&&r.table[ak[e]]||yo[ak[e]]),a==null&&(a=Zte[e]||"General");break}if(Mw(a,0))return MC(t,r);t instanceof Date&&(t=r9(t,r.date1904));var s=xre(a,t);if(Mw(s[1]))return MC(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return gre(s[1],t,r,s[0])}function f9(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(yo[r]==null){t<0&&(t=r);continue}if(yo[r]==e){t=r;break}}t<0&&(t=391)}return yo[t]=e,t}function u5(e){for(var t=0;t!=392;++t)e[t]!==void 0&&f9(e[t],t)}function f5(){yo=Jte()}var h9=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function yre(e){var t=typeof e=="number"?yo[e]:e;return t=t.replace(h9,"(\\d+)"),new RegExp("^"+t+"$")}function vre(e,t,r){var a=-1,s=-1,i=-1,o=-1,l=-1,c=-1;(t.match(h9)||[]).forEach(function(A,m){var h=parseInt(r[m+1],10);switch(A.toLowerCase().charAt(0)){case"y":a=h;break;case"d":i=h;break;case"h":o=h;break;case"s":c=h;break;case"m":o>=0?l=h:s=h;break}}),c>=0&&l==-1&&s>=0&&(l=s,s=-1);var u=(""+(a>=0?a:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?u:a==-1&&s==-1&&i==-1?d:u+"T"+d}var bre=(function(){var e={};e.version="1.2.0";function t(){for(var L=0,F=new Array(256),Q=0;Q!=256;++Q)L=Q,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,F[Q]=L;return typeof Int32Array<"u"?new Int32Array(F):F}var r=t();function a(L){var F=0,Q=0,U=0,P=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(U=0;U!=256;++U)P[U]=L[U];for(U=0;U!=256;++U)for(Q=L[U],F=256+U;F<4096;F+=256)Q=P[F]=Q>>>8^L[Q&255];var I=[];for(U=1;U!=16;++U)I[U-1]=typeof Int32Array<"u"?P.subarray(U*256,U*256+256):P.slice(U*256,U*256+256);return I}var s=a(r),i=s[0],o=s[1],l=s[2],c=s[3],u=s[4],d=s[5],A=s[6],m=s[7],h=s[8],y=s[9],x=s[10],v=s[11],b=s[12],j=s[13],C=s[14];function E(L,F){for(var Q=F^-1,U=0,P=L.length;U<P;)Q=Q>>>8^r[(Q^L.charCodeAt(U++))&255];return~Q}function k(L,F){for(var Q=F^-1,U=L.length-15,P=0;P<U;)Q=C[L[P++]^Q&255]^j[L[P++]^Q>>8&255]^b[L[P++]^Q>>16&255]^v[L[P++]^Q>>>24]^x[L[P++]]^y[L[P++]]^h[L[P++]]^m[L[P++]]^A[L[P++]]^d[L[P++]]^u[L[P++]]^c[L[P++]]^l[L[P++]]^o[L[P++]]^i[L[P++]]^r[L[P++]];for(U+=15;P<U;)Q=Q>>>8^r[(Q^L[P++])&255];return~Q}function D(L,F){for(var Q=F^-1,U=0,P=L.length,I=0,z=0;U<P;)I=L.charCodeAt(U++),I<128?Q=Q>>>8^r[(Q^I)&255]:I<2048?(Q=Q>>>8^r[(Q^(192|I>>6&31))&255],Q=Q>>>8^r[(Q^(128|I&63))&255]):I>=55296&&I<57344?(I=(I&1023)+64,z=L.charCodeAt(U++)&1023,Q=Q>>>8^r[(Q^(240|I>>8&7))&255],Q=Q>>>8^r[(Q^(128|I>>2&63))&255],Q=Q>>>8^r[(Q^(128|z>>6&15|(I&3)<<4))&255],Q=Q>>>8^r[(Q^(128|z&63))&255]):(Q=Q>>>8^r[(Q^(224|I>>12&15))&255],Q=Q>>>8^r[(Q^(128|I>>6&63))&255],Q=Q>>>8^r[(Q^(128|I&63))&255]);return~Q}return e.table=r,e.bstr=E,e.buf=k,e.str=D,e})(),zs=(function(){var t={};t.version="1.2.1";function r(Oe,ut){for(var ot=Oe.split("/"),dt=ut.split("/"),Ie=0,Ne=0,ct=Math.min(ot.length,dt.length);Ie<ct;++Ie){if(Ne=ot[Ie].length-dt[Ie].length)return Ne;if(ot[Ie]!=dt[Ie])return ot[Ie]<dt[Ie]?-1:1}return ot.length-dt.length}function a(Oe){if(Oe.charAt(Oe.length-1)=="/")return Oe.slice(0,-1).indexOf("/")===-1?Oe:a(Oe.slice(0,-1));var ut=Oe.lastIndexOf("/");return ut===-1?Oe:Oe.slice(0,ut+1)}function s(Oe){if(Oe.charAt(Oe.length-1)=="/")return s(Oe.slice(0,-1));var ut=Oe.lastIndexOf("/");return ut===-1?Oe:Oe.slice(ut+1)}function i(Oe,ut){typeof ut=="string"&&(ut=new Date(ut));var ot=ut.getHours();ot=ot<<6|ut.getMinutes(),ot=ot<<5|ut.getSeconds()>>>1,Oe.write_shift(2,ot);var dt=ut.getFullYear()-1980;dt=dt<<4|ut.getMonth()+1,dt=dt<<5|ut.getDate(),Oe.write_shift(2,dt)}function o(Oe){var ut=Oe.read_shift(2)&65535,ot=Oe.read_shift(2)&65535,dt=new Date,Ie=ot&31;ot>>>=5;var Ne=ot&15;ot>>>=4,dt.setMilliseconds(0),dt.setFullYear(ot+1980),dt.setMonth(Ne-1),dt.setDate(Ie);var ct=ut&31;ut>>>=5;var Ye=ut&63;return ut>>>=6,dt.setHours(ut),dt.setMinutes(Ye),dt.setSeconds(ct<<1),dt}function l(Oe){Su(Oe,0);for(var ut={},ot=0;Oe.l<=Oe.length-4;){var dt=Oe.read_shift(2),Ie=Oe.read_shift(2),Ne=Oe.l+Ie,ct={};switch(dt){case 21589:ot=Oe.read_shift(1),ot&1&&(ct.mtime=Oe.read_shift(4)),Ie>5&&(ot&2&&(ct.atime=Oe.read_shift(4)),ot&4&&(ct.ctime=Oe.read_shift(4))),ct.mtime&&(ct.mt=new Date(ct.mtime*1e3));break}Oe.l=Ne,ut[dt]=ct}return ut}var c;function u(){return c||(c={})}function d(Oe,ut){if(Oe[0]==80&&Oe[1]==75)return st(Oe,ut);if((Oe[0]|32)==109&&(Oe[1]|32)==105)return Fr(Oe,ut);if(Oe.length<512)throw new Error("CFB file size "+Oe.length+" < 512");var ot=3,dt=512,Ie=0,Ne=0,ct=0,Ye=0,Ee=0,it=[],vt=Oe.slice(0,512);Su(vt,0);var It=A(vt);switch(ot=It[0],ot){case 3:dt=512;break;case 4:dt=4096;break;case 0:if(It[1]==0)return st(Oe,ut);default:throw new Error("Major Version: Expected 3 or 4 saw "+ot)}dt!==512&&(vt=Oe.slice(0,dt),Su(vt,28));var Mt=Oe.slice(0,dt);m(vt,ot);var fr=vt.read_shift(4,"i");if(ot===3&&fr!==0)throw new Error("# Directory Sectors: Expected 0 saw "+fr);vt.l+=4,ct=vt.read_shift(4,"i"),vt.l+=4,vt.chk("00100000","Mini Stream Cutoff Size: "),Ye=vt.read_shift(4,"i"),Ie=vt.read_shift(4,"i"),Ee=vt.read_shift(4,"i"),Ne=vt.read_shift(4,"i");for(var dr=-1,sr=0;sr<109&&(dr=vt.read_shift(4,"i"),!(dr<0));++sr)it[sr]=dr;var Yr=h(Oe,dt);v(Ee,Ne,Yr,dt,it);var Na=j(Yr,ct,it,dt);Na[ct].name="!Directory",Ie>0&&Ye!==z&&(Na[Ye].name="!MiniFAT"),Na[it[0]].name="!FAT",Na.fat_addrs=it,Na.ssz=dt;var Sa={},za=[],Nn=[],ds=[];C(ct,Na,Yr,za,Ie,Sa,Nn,Ye),y(Nn,ds,za),za.shift();var Bi={FileIndex:Nn,FullPaths:ds};return ut&&ut.raw&&(Bi.raw={header:Mt,sectors:Yr}),Bi}function A(Oe){if(Oe[Oe.l]==80&&Oe[Oe.l+1]==75)return[0,0];Oe.chk(W,"Header Signature: "),Oe.l+=16;var ut=Oe.read_shift(2,"u");return[Oe.read_shift(2,"u"),ut]}function m(Oe,ut){var ot=9;switch(Oe.l+=2,ot=Oe.read_shift(2)){case 9:if(ut!=3)throw new Error("Sector Shift: Expected 9 saw "+ot);break;case 12:if(ut!=4)throw new Error("Sector Shift: Expected 12 saw "+ot);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ot)}Oe.chk("0600","Mini Sector Shift: "),Oe.chk("000000000000","Reserved: ")}function h(Oe,ut){for(var ot=Math.ceil(Oe.length/ut)-1,dt=[],Ie=1;Ie<ot;++Ie)dt[Ie-1]=Oe.slice(Ie*ut,(Ie+1)*ut);return dt[ot-1]=Oe.slice(ot*ut),dt}function y(Oe,ut,ot){for(var dt=0,Ie=0,Ne=0,ct=0,Ye=0,Ee=ot.length,it=[],vt=[];dt<Ee;++dt)it[dt]=vt[dt]=dt,ut[dt]=ot[dt];for(;Ye<vt.length;++Ye)dt=vt[Ye],Ie=Oe[dt].L,Ne=Oe[dt].R,ct=Oe[dt].C,it[dt]===dt&&(Ie!==-1&&it[Ie]!==Ie&&(it[dt]=it[Ie]),Ne!==-1&&it[Ne]!==Ne&&(it[dt]=it[Ne])),ct!==-1&&(it[ct]=dt),Ie!==-1&&dt!=it[dt]&&(it[Ie]=it[dt],vt.lastIndexOf(Ie)<Ye&&vt.push(Ie)),Ne!==-1&&dt!=it[dt]&&(it[Ne]=it[dt],vt.lastIndexOf(Ne)<Ye&&vt.push(Ne));for(dt=1;dt<Ee;++dt)it[dt]===dt&&(Ne!==-1&&it[Ne]!==Ne?it[dt]=it[Ne]:Ie!==-1&&it[Ie]!==Ie&&(it[dt]=it[Ie]));for(dt=1;dt<Ee;++dt)if(Oe[dt].type!==0){if(Ye=dt,Ye!=it[Ye])do Ye=it[Ye],ut[dt]=ut[Ye]+"/"+ut[dt];while(Ye!==0&&it[Ye]!==-1&&Ye!=it[Ye]);it[dt]=-1}for(ut[0]+="/",dt=1;dt<Ee;++dt)Oe[dt].type!==2&&(ut[dt]+="/")}function x(Oe,ut,ot){for(var dt=Oe.start,Ie=Oe.size,Ne=[],ct=dt;ot&&Ie>0&&ct>=0;)Ne.push(ut.slice(ct*I,ct*I+I)),Ie-=I,ct=fp(ot,ct*4);return Ne.length===0?ur(0):fc(Ne).slice(0,Oe.size)}function v(Oe,ut,ot,dt,Ie){var Ne=z;if(Oe===z){if(ut!==0)throw new Error("DIFAT chain shorter than expected")}else if(Oe!==-1){var ct=ot[Oe],Ye=(dt>>>2)-1;if(!ct)return;for(var Ee=0;Ee<Ye&&(Ne=fp(ct,Ee*4))!==z;++Ee)Ie.push(Ne);v(fp(ct,dt-4),ut-1,ot,dt,Ie)}}function b(Oe,ut,ot,dt,Ie){var Ne=[],ct=[];Ie||(Ie=[]);var Ye=dt-1,Ee=0,it=0;for(Ee=ut;Ee>=0;){Ie[Ee]=!0,Ne[Ne.length]=Ee,ct.push(Oe[Ee]);var vt=ot[Math.floor(Ee*4/dt)];if(it=Ee*4&Ye,dt<4+it)throw new Error("FAT boundary crossed: "+Ee+" 4 "+dt);if(!Oe[vt])break;Ee=fp(Oe[vt],it)}return{nodes:Ne,data:mk([ct])}}function j(Oe,ut,ot,dt){var Ie=Oe.length,Ne=[],ct=[],Ye=[],Ee=[],it=dt-1,vt=0,It=0,Mt=0,fr=0;for(vt=0;vt<Ie;++vt)if(Ye=[],Mt=vt+ut,Mt>=Ie&&(Mt-=Ie),!ct[Mt]){Ee=[];var dr=[];for(It=Mt;It>=0;){dr[It]=!0,ct[It]=!0,Ye[Ye.length]=It,Ee.push(Oe[It]);var sr=ot[Math.floor(It*4/dt)];if(fr=It*4&it,dt<4+fr)throw new Error("FAT boundary crossed: "+It+" 4 "+dt);if(!Oe[sr]||(It=fp(Oe[sr],fr),dr[It]))break}Ne[Mt]={nodes:Ye,data:mk([Ee])}}return Ne}function C(Oe,ut,ot,dt,Ie,Ne,ct,Ye){for(var Ee=0,it=dt.length?2:0,vt=ut[Oe].data,It=0,Mt=0,fr;It<vt.length;It+=128){var dr=vt.slice(It,It+128);Su(dr,64),Mt=dr.read_shift(2),fr=uB(dr,0,Mt-it),dt.push(fr);var sr={name:fr,type:dr.read_shift(1),color:dr.read_shift(1),L:dr.read_shift(4,"i"),R:dr.read_shift(4,"i"),C:dr.read_shift(4,"i"),clsid:dr.read_shift(16),state:dr.read_shift(4,"i"),start:0,size:0},Yr=dr.read_shift(2)+dr.read_shift(2)+dr.read_shift(2)+dr.read_shift(2);Yr!==0&&(sr.ct=E(dr,dr.l-8));var Na=dr.read_shift(2)+dr.read_shift(2)+dr.read_shift(2)+dr.read_shift(2);Na!==0&&(sr.mt=E(dr,dr.l-8)),sr.start=dr.read_shift(4,"i"),sr.size=dr.read_shift(4,"i"),sr.size<0&&sr.start<0&&(sr.size=sr.type=0,sr.start=z,sr.name=""),sr.type===5?(Ee=sr.start,Ie>0&&Ee!==z&&(ut[Ee].name="!StreamData")):sr.size>=4096?(sr.storage="fat",ut[sr.start]===void 0&&(ut[sr.start]=b(ot,sr.start,ut.fat_addrs,ut.ssz)),ut[sr.start].name=sr.name,sr.content=ut[sr.start].data.slice(0,sr.size)):(sr.storage="minifat",sr.size<0?sr.size=0:Ee!==z&&sr.start!==z&&ut[Ee]&&(sr.content=x(sr,ut[Ee].data,(ut[Ye]||{}).data))),sr.content&&Su(sr.content,0),Ne[fr]=sr,ct.push(sr)}}function E(Oe,ut){return new Date((Fu(Oe,ut+4)/1e7*Math.pow(2,32)+Fu(Oe,ut)/1e7-11644473600)*1e3)}function k(Oe,ut){return u(),d(c.readFileSync(Oe),ut)}function D(Oe,ut){var ot=ut&&ut.type;switch(ot||ls&&Buffer.isBuffer(Oe)&&(ot="buffer"),ot||"base64"){case"file":return k(Oe,ut);case"base64":return d(Yf(YA(Oe)),ut);case"binary":return d(Yf(Oe),ut)}return d(Oe,ut)}function L(Oe,ut){var ot=ut||{},dt=ot.root||"Root Entry";if(Oe.FullPaths||(Oe.FullPaths=[]),Oe.FileIndex||(Oe.FileIndex=[]),Oe.FullPaths.length!==Oe.FileIndex.length)throw new Error("inconsistent CFB structure");Oe.FullPaths.length===0&&(Oe.FullPaths[0]=dt+"/",Oe.FileIndex[0]={name:dt,type:5}),ot.CLSID&&(Oe.FileIndex[0].clsid=ot.CLSID),F(Oe)}function F(Oe){var ut="Sh33tJ5";if(!zs.find(Oe,"/"+ut)){var ot=ur(4);ot[0]=55,ot[1]=ot[3]=50,ot[2]=54,Oe.FileIndex.push({name:ut,type:2,content:ot,size:4,L:69,R:69,C:69}),Oe.FullPaths.push(Oe.FullPaths[0]+ut),Q(Oe)}}function Q(Oe,ut){L(Oe);for(var ot=!1,dt=!1,Ie=Oe.FullPaths.length-1;Ie>=0;--Ie){var Ne=Oe.FileIndex[Ie];switch(Ne.type){case 0:dt?ot=!0:(Oe.FileIndex.pop(),Oe.FullPaths.pop());break;case 1:case 2:case 5:dt=!0,isNaN(Ne.R*Ne.L*Ne.C)&&(ot=!0),Ne.R>-1&&Ne.L>-1&&Ne.R==Ne.L&&(ot=!0);break;default:ot=!0;break}}if(!(!ot&&!ut)){var ct=new Date(1987,1,19),Ye=0,Ee=Object.create?Object.create(null):{},it=[];for(Ie=0;Ie<Oe.FullPaths.length;++Ie)Ee[Oe.FullPaths[Ie]]=!0,Oe.FileIndex[Ie].type!==0&&it.push([Oe.FullPaths[Ie],Oe.FileIndex[Ie]]);for(Ie=0;Ie<it.length;++Ie){var vt=a(it[Ie][0]);dt=Ee[vt],dt||(it.push([vt,{name:s(vt).replace("/",""),type:1,clsid:X,ct,mt:ct,content:null}]),Ee[vt]=!0)}for(it.sort(function(fr,dr){return r(fr[0],dr[0])}),Oe.FullPaths=[],Oe.FileIndex=[],Ie=0;Ie<it.length;++Ie)Oe.FullPaths[Ie]=it[Ie][0],Oe.FileIndex[Ie]=it[Ie][1];for(Ie=0;Ie<it.length;++Ie){var It=Oe.FileIndex[Ie],Mt=Oe.FullPaths[Ie];if(It.name=s(Mt).replace("/",""),It.L=It.R=It.C=-(It.color=1),It.size=It.content?It.content.length:0,It.start=0,It.clsid=It.clsid||X,Ie===0)It.C=it.length>1?1:-1,It.size=0,It.type=5;else if(Mt.slice(-1)=="/"){for(Ye=Ie+1;Ye<it.length&&a(Oe.FullPaths[Ye])!=Mt;++Ye);for(It.C=Ye>=it.length?-1:Ye,Ye=Ie+1;Ye<it.length&&a(Oe.FullPaths[Ye])!=a(Mt);++Ye);It.R=Ye>=it.length?-1:Ye,It.type=1}else a(Oe.FullPaths[Ie+1]||"")==a(Mt)&&(It.R=Ie+1),It.type=2}}}function U(Oe,ut){var ot=ut||{};if(ot.fileType=="mad")return jr(Oe,ot);switch(Q(Oe),ot.fileType){case"zip":return Ft(Oe,ot)}var dt=(function(fr){for(var dr=0,sr=0,Yr=0;Yr<fr.FileIndex.length;++Yr){var Na=fr.FileIndex[Yr];if(Na.content){var Sa=Na.content.length;Sa>0&&(Sa<4096?dr+=Sa+63>>6:sr+=Sa+511>>9)}}for(var za=fr.FullPaths.length+3>>2,Nn=dr+7>>3,ds=dr+127>>7,Bi=Nn+sr+za+ds,no=Bi+127>>7,Ti=no<=109?0:Math.ceil((no-109)/127);Bi+no+Ti+127>>7>no;)Ti=++no<=109?0:Math.ceil((no-109)/127);var Ls=[1,Ti,no,ds,za,sr,dr,0];return fr.FileIndex[0].size=dr<<6,Ls[7]=(fr.FileIndex[0].start=Ls[0]+Ls[1]+Ls[2]+Ls[3]+Ls[4]+Ls[5])+(Ls[6]+7>>3),Ls})(Oe),Ie=ur(dt[7]<<9),Ne=0,ct=0;{for(Ne=0;Ne<8;++Ne)Ie.write_shift(1,ie[Ne]);for(Ne=0;Ne<8;++Ne)Ie.write_shift(2,0);for(Ie.write_shift(2,62),Ie.write_shift(2,3),Ie.write_shift(2,65534),Ie.write_shift(2,9),Ie.write_shift(2,6),Ne=0;Ne<3;++Ne)Ie.write_shift(2,0);for(Ie.write_shift(4,0),Ie.write_shift(4,dt[2]),Ie.write_shift(4,dt[0]+dt[1]+dt[2]+dt[3]-1),Ie.write_shift(4,0),Ie.write_shift(4,4096),Ie.write_shift(4,dt[3]?dt[0]+dt[1]+dt[2]-1:z),Ie.write_shift(4,dt[3]),Ie.write_shift(-4,dt[1]?dt[0]-1:z),Ie.write_shift(4,dt[1]),Ne=0;Ne<109;++Ne)Ie.write_shift(-4,Ne<dt[2]?dt[1]+Ne:-1)}if(dt[1])for(ct=0;ct<dt[1];++ct){for(;Ne<236+ct*127;++Ne)Ie.write_shift(-4,Ne<dt[2]?dt[1]+Ne:-1);Ie.write_shift(-4,ct===dt[1]-1?z:ct+1)}var Ye=function(fr){for(ct+=fr;Ne<ct-1;++Ne)Ie.write_shift(-4,Ne+1);fr&&(++Ne,Ie.write_shift(-4,z))};for(ct=Ne=0,ct+=dt[1];Ne<ct;++Ne)Ie.write_shift(-4,le.DIFSECT);for(ct+=dt[2];Ne<ct;++Ne)Ie.write_shift(-4,le.FATSECT);Ye(dt[3]),Ye(dt[4]);for(var Ee=0,it=0,vt=Oe.FileIndex[0];Ee<Oe.FileIndex.length;++Ee)vt=Oe.FileIndex[Ee],vt.content&&(it=vt.content.length,!(it<4096)&&(vt.start=ct,Ye(it+511>>9)));for(Ye(dt[6]+7>>3);Ie.l&511;)Ie.write_shift(-4,le.ENDOFCHAIN);for(ct=Ne=0,Ee=0;Ee<Oe.FileIndex.length;++Ee)vt=Oe.FileIndex[Ee],vt.content&&(it=vt.content.length,!(!it||it>=4096)&&(vt.start=ct,Ye(it+63>>6)));for(;Ie.l&511;)Ie.write_shift(-4,le.ENDOFCHAIN);for(Ne=0;Ne<dt[4]<<2;++Ne){var It=Oe.FullPaths[Ne];if(!It||It.length===0){for(Ee=0;Ee<17;++Ee)Ie.write_shift(4,0);for(Ee=0;Ee<3;++Ee)Ie.write_shift(4,-1);for(Ee=0;Ee<12;++Ee)Ie.write_shift(4,0);continue}vt=Oe.FileIndex[Ne],Ne===0&&(vt.start=vt.size?vt.start-1:z);var Mt=Ne===0&&ot.root||vt.name;if(it=2*(Mt.length+1),Ie.write_shift(64,Mt,"utf16le"),Ie.write_shift(2,it),Ie.write_shift(1,vt.type),Ie.write_shift(1,vt.color),Ie.write_shift(-4,vt.L),Ie.write_shift(-4,vt.R),Ie.write_shift(-4,vt.C),vt.clsid)Ie.write_shift(16,vt.clsid,"hex");else for(Ee=0;Ee<4;++Ee)Ie.write_shift(4,0);Ie.write_shift(4,vt.state||0),Ie.write_shift(4,0),Ie.write_shift(4,0),Ie.write_shift(4,0),Ie.write_shift(4,0),Ie.write_shift(4,vt.start),Ie.write_shift(4,vt.size),Ie.write_shift(4,0)}for(Ne=1;Ne<Oe.FileIndex.length;++Ne)if(vt=Oe.FileIndex[Ne],vt.size>=4096)if(Ie.l=vt.start+1<<9,ls&&Buffer.isBuffer(vt.content))vt.content.copy(Ie,Ie.l,0,vt.size),Ie.l+=vt.size+511&-512;else{for(Ee=0;Ee<vt.size;++Ee)Ie.write_shift(1,vt.content[Ee]);for(;Ee&511;++Ee)Ie.write_shift(1,0)}for(Ne=1;Ne<Oe.FileIndex.length;++Ne)if(vt=Oe.FileIndex[Ne],vt.size>0&&vt.size<4096)if(ls&&Buffer.isBuffer(vt.content))vt.content.copy(Ie,Ie.l,0,vt.size),Ie.l+=vt.size+63&-64;else{for(Ee=0;Ee<vt.size;++Ee)Ie.write_shift(1,vt.content[Ee]);for(;Ee&63;++Ee)Ie.write_shift(1,0)}if(ls)Ie.l=Ie.length;else for(;Ie.l<Ie.length;)Ie.write_shift(1,0);return Ie}function P(Oe,ut){var ot=Oe.FullPaths.map(function(Ee){return Ee.toUpperCase()}),dt=ot.map(function(Ee){var it=Ee.split("/");return it[it.length-(Ee.slice(-1)=="/"?2:1)]}),Ie=!1;ut.charCodeAt(0)===47?(Ie=!0,ut=ot[0].slice(0,-1)+ut):Ie=ut.indexOf("/")!==-1;var Ne=ut.toUpperCase(),ct=Ie===!0?ot.indexOf(Ne):dt.indexOf(Ne);if(ct!==-1)return Oe.FileIndex[ct];var Ye=!Ne.match(lb);for(Ne=Ne.replace(Ny,""),Ye&&(Ne=Ne.replace(lb,"!")),ct=0;ct<ot.length;++ct)if((Ye?ot[ct].replace(lb,"!"):ot[ct]).replace(Ny,"")==Ne||(Ye?dt[ct].replace(lb,"!"):dt[ct]).replace(Ny,"")==Ne)return Oe.FileIndex[ct];return null}var I=64,z=-2,W="d0cf11e0a1b11ae1",ie=[208,207,17,224,161,177,26,225],X="00000000000000000000000000000000",le={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:z,FREESECT:-1,HEADER_SIGNATURE:W,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:X,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function re(Oe,ut,ot){u();var dt=U(Oe,ot);c.writeFileSync(ut,dt)}function he(Oe){for(var ut=new Array(Oe.length),ot=0;ot<Oe.length;++ot)ut[ot]=String.fromCharCode(Oe[ot]);return ut.join("")}function de(Oe,ut){var ot=U(Oe,ut);switch(ut&&ut.type||"buffer"){case"file":return u(),c.writeFileSync(ut.filename,ot),ot;case"binary":return typeof ot=="string"?ot:he(ot);case"base64":return ev(typeof ot=="string"?ot:he(ot));case"buffer":if(ls)return Buffer.isBuffer(ot)?ot:lm(ot);case"array":return typeof ot=="string"?Yf(ot):ot}return ot}var ve;function B(Oe){try{var ut=Oe.InflateRaw,ot=new ut;if(ot._processChunk(new Uint8Array([3,0]),ot._finishFlushFlag),ot.bytesRead)ve=Oe;else throw new Error("zlib does not expose bytesRead")}catch(dt){console.error("cannot use native zlib: "+(dt.message||dt))}}function R(Oe,ut){if(!ve)return mt(Oe,ut);var ot=ve.InflateRaw,dt=new ot,Ie=dt._processChunk(Oe.slice(Oe.l),dt._finishFlushFlag);return Oe.l+=dt.bytesRead,Ie}function G(Oe){return ve?ve.deflateRawSync(Oe):Le(Oe)}var ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],pe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],xe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ae(Oe){var ut=(Oe<<1|Oe<<11)&139536|(Oe<<5|Oe<<15)&558144;return(ut>>16|ut>>8|ut)&255}for(var Y=typeof Uint8Array<"u",se=Y?new Uint8Array(256):[],ee=0;ee<256;++ee)se[ee]=Ae(ee);function be(Oe,ut){var ot=se[Oe&255];return ut<=8?ot>>>8-ut:(ot=ot<<8|se[Oe>>8&255],ut<=16?ot>>>16-ut:(ot=ot<<8|se[Oe>>16&255],ot>>>24-ut))}function Ce(Oe,ut){var ot=ut&7,dt=ut>>>3;return(Oe[dt]|(ot<=6?0:Oe[dt+1]<<8))>>>ot&3}function ce(Oe,ut){var ot=ut&7,dt=ut>>>3;return(Oe[dt]|(ot<=5?0:Oe[dt+1]<<8))>>>ot&7}function J(Oe,ut){var ot=ut&7,dt=ut>>>3;return(Oe[dt]|(ot<=4?0:Oe[dt+1]<<8))>>>ot&15}function ge(Oe,ut){var ot=ut&7,dt=ut>>>3;return(Oe[dt]|(ot<=3?0:Oe[dt+1]<<8))>>>ot&31}function Je(Oe,ut){var ot=ut&7,dt=ut>>>3;return(Oe[dt]|(ot<=1?0:Oe[dt+1]<<8))>>>ot&127}function Ke(Oe,ut,ot){var dt=ut&7,Ie=ut>>>3,Ne=(1<<ot)-1,ct=Oe[Ie]>>>dt;return ot<8-dt||(ct|=Oe[Ie+1]<<8-dt,ot<16-dt)||(ct|=Oe[Ie+2]<<16-dt,ot<24-dt)||(ct|=Oe[Ie+3]<<24-dt),ct&Ne}function Fe(Oe,ut,ot){var dt=ut&7,Ie=ut>>>3;return dt<=5?Oe[Ie]|=(ot&7)<<dt:(Oe[Ie]|=ot<<dt&255,Oe[Ie+1]=(ot&7)>>8-dt),ut+3}function nt(Oe,ut,ot){var dt=ut&7,Ie=ut>>>3;return ot=(ot&1)<<dt,Oe[Ie]|=ot,ut+1}function Se(Oe,ut,ot){var dt=ut&7,Ie=ut>>>3;return ot<<=dt,Oe[Ie]|=ot&255,ot>>>=8,Oe[Ie+1]=ot,ut+8}function Me(Oe,ut,ot){var dt=ut&7,Ie=ut>>>3;return ot<<=dt,Oe[Ie]|=ot&255,ot>>>=8,Oe[Ie+1]=ot&255,Oe[Ie+2]=ot>>>8,ut+16}function at(Oe,ut){var ot=Oe.length,dt=2*ot>ut?2*ot:ut+5,Ie=0;if(ot>=ut)return Oe;if(ls){var Ne=ek(dt);if(Oe.copy)Oe.copy(Ne);else for(;Ie<Oe.length;++Ie)Ne[Ie]=Oe[Ie];return Ne}else if(Y){var ct=new Uint8Array(dt);if(ct.set)ct.set(Oe);else for(;Ie<ot;++Ie)ct[Ie]=Oe[Ie];return ct}return Oe.length=dt,Oe}function ke(Oe){for(var ut=new Array(Oe),ot=0;ot<Oe;++ot)ut[ot]=0;return ut}function Ve(Oe,ut,ot){var dt=1,Ie=0,Ne=0,ct=0,Ye=0,Ee=Oe.length,it=Y?new Uint16Array(32):ke(32);for(Ne=0;Ne<32;++Ne)it[Ne]=0;for(Ne=Ee;Ne<ot;++Ne)Oe[Ne]=0;Ee=Oe.length;var vt=Y?new Uint16Array(Ee):ke(Ee);for(Ne=0;Ne<Ee;++Ne)it[Ie=Oe[Ne]]++,dt<Ie&&(dt=Ie),vt[Ne]=0;for(it[0]=0,Ne=1;Ne<=dt;++Ne)it[Ne+16]=Ye=Ye+it[Ne-1]<<1;for(Ne=0;Ne<Ee;++Ne)Ye=Oe[Ne],Ye!=0&&(vt[Ne]=it[Ye+16]++);var It=0;for(Ne=0;Ne<Ee;++Ne)if(It=Oe[Ne],It!=0)for(Ye=be(vt[Ne],dt)>>dt-It,ct=(1<<dt+4-It)-1;ct>=0;--ct)ut[Ye|ct<<It]=It&15|Ne<<4;return dt}var ze=Y?new Uint16Array(512):ke(512),rt=Y?new Uint16Array(32):ke(32);if(!Y){for(var Ge=0;Ge<512;++Ge)ze[Ge]=0;for(Ge=0;Ge<32;++Ge)rt[Ge]=0}(function(){for(var Oe=[],ut=0;ut<32;ut++)Oe.push(5);Ve(Oe,rt,32);var ot=[];for(ut=0;ut<=143;ut++)ot.push(8);for(;ut<=255;ut++)ot.push(9);for(;ut<=279;ut++)ot.push(7);for(;ut<=287;ut++)ot.push(8);Ve(ot,ze,288)})();var bt=(function(){for(var ut=Y?new Uint8Array(32768):[],ot=0,dt=0;ot<xe.length-1;++ot)for(;dt<xe[ot+1];++dt)ut[dt]=ot;for(;dt<32768;++dt)ut[dt]=29;var Ie=Y?new Uint8Array(259):[];for(ot=0,dt=0;ot<pe.length-1;++ot)for(;dt<pe[ot+1];++dt)Ie[dt]=ot;function Ne(Ye,Ee){for(var it=0;it<Ye.length;){var vt=Math.min(65535,Ye.length-it),It=it+vt==Ye.length;for(Ee.write_shift(1,+It),Ee.write_shift(2,vt),Ee.write_shift(2,~vt&65535);vt-- >0;)Ee[Ee.l++]=Ye[it++]}return Ee.l}function ct(Ye,Ee){for(var it=0,vt=0,It=Y?new Uint16Array(32768):[];vt<Ye.length;){var Mt=Math.min(65535,Ye.length-vt);if(Mt<10){for(it=Fe(Ee,it,+(vt+Mt==Ye.length)),it&7&&(it+=8-(it&7)),Ee.l=it/8|0,Ee.write_shift(2,Mt),Ee.write_shift(2,~Mt&65535);Mt-- >0;)Ee[Ee.l++]=Ye[vt++];it=Ee.l*8;continue}it=Fe(Ee,it,+(vt+Mt==Ye.length)+2);for(var fr=0;Mt-- >0;){var dr=Ye[vt];fr=(fr<<5^dr)&32767;var sr=-1,Yr=0;if((sr=It[fr])&&(sr|=vt&-32768,sr>vt&&(sr-=32768),sr<vt))for(;Ye[sr+Yr]==Ye[vt+Yr]&&Yr<250;)++Yr;if(Yr>2){dr=Ie[Yr],dr<=22?it=Se(Ee,it,se[dr+1]>>1)-1:(Se(Ee,it,3),it+=5,Se(Ee,it,se[dr-23]>>5),it+=3);var Na=dr<8?0:dr-4>>2;Na>0&&(Me(Ee,it,Yr-pe[dr]),it+=Na),dr=ut[vt-sr],it=Se(Ee,it,se[dr]>>3),it-=3;var Sa=dr<4?0:dr-2>>1;Sa>0&&(Me(Ee,it,vt-sr-xe[dr]),it+=Sa);for(var za=0;za<Yr;++za)It[fr]=vt&32767,fr=(fr<<5^Ye[vt])&32767,++vt;Mt-=Yr-1}else dr<=143?dr=dr+48:it=nt(Ee,it,1),it=Se(Ee,it,se[dr]),It[fr]=vt&32767,++vt}it=Se(Ee,it,0)-1}return Ee.l=(it+7)/8|0,Ee.l}return function(Ee,it){return Ee.length<8?Ne(Ee,it):ct(Ee,it)}})();function Le(Oe){var ut=ur(50+Math.floor(Oe.length*1.1)),ot=bt(Oe,ut);return ut.slice(0,ot)}var je=Y?new Uint16Array(32768):ke(32768),Ze=Y?new Uint16Array(32768):ke(32768),Te=Y?new Uint16Array(128):ke(128),pt=1,At=1;function qe(Oe,ut){var ot=ge(Oe,ut)+257;ut+=5;var dt=ge(Oe,ut)+1;ut+=5;var Ie=J(Oe,ut)+4;ut+=4;for(var Ne=0,ct=Y?new Uint8Array(19):ke(19),Ye=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ee=1,it=Y?new Uint8Array(8):ke(8),vt=Y?new Uint8Array(8):ke(8),It=ct.length,Mt=0;Mt<Ie;++Mt)ct[ne[Mt]]=Ne=ce(Oe,ut),Ee<Ne&&(Ee=Ne),it[Ne]++,ut+=3;var fr=0;for(it[0]=0,Mt=1;Mt<=Ee;++Mt)vt[Mt]=fr=fr+it[Mt-1]<<1;for(Mt=0;Mt<It;++Mt)(fr=ct[Mt])!=0&&(Ye[Mt]=vt[fr]++);var dr=0;for(Mt=0;Mt<It;++Mt)if(dr=ct[Mt],dr!=0){fr=se[Ye[Mt]]>>8-dr;for(var sr=(1<<7-dr)-1;sr>=0;--sr)Te[fr|sr<<dr]=dr&7|Mt<<3}var Yr=[];for(Ee=1;Yr.length<ot+dt;)switch(fr=Te[Je(Oe,ut)],ut+=fr&7,fr>>>=3){case 16:for(Ne=3+Ce(Oe,ut),ut+=2,fr=Yr[Yr.length-1];Ne-- >0;)Yr.push(fr);break;case 17:for(Ne=3+ce(Oe,ut),ut+=3;Ne-- >0;)Yr.push(0);break;case 18:for(Ne=11+Je(Oe,ut),ut+=7;Ne-- >0;)Yr.push(0);break;default:Yr.push(fr),Ee<fr&&(Ee=fr);break}var Na=Yr.slice(0,ot),Sa=Yr.slice(ot);for(Mt=ot;Mt<286;++Mt)Na[Mt]=0;for(Mt=dt;Mt<30;++Mt)Sa[Mt]=0;return pt=Ve(Na,je,286),At=Ve(Sa,Ze,30),ut}function Pe(Oe,ut){if(Oe[0]==3&&!(Oe[1]&3))return[Up(ut),2];for(var ot=0,dt=0,Ie=ek(ut||1<<18),Ne=0,ct=Ie.length>>>0,Ye=0,Ee=0;(dt&1)==0;){if(dt=ce(Oe,ot),ot+=3,dt>>>1)dt>>1==1?(Ye=9,Ee=5):(ot=qe(Oe,ot),Ye=pt,Ee=At);else{ot&7&&(ot+=8-(ot&7));var it=Oe[ot>>>3]|Oe[(ot>>>3)+1]<<8;if(ot+=32,it>0)for(!ut&&ct<Ne+it&&(Ie=at(Ie,Ne+it),ct=Ie.length);it-- >0;)Ie[Ne++]=Oe[ot>>>3],ot+=8;continue}for(;;){!ut&&ct<Ne+32767&&(Ie=at(Ie,Ne+32767),ct=Ie.length);var vt=Ke(Oe,ot,Ye),It=dt>>>1==1?ze[vt]:je[vt];if(ot+=It&15,It>>>=4,(It>>>8&255)===0)Ie[Ne++]=It;else{if(It==256)break;It-=257;var Mt=It<8?0:It-4>>2;Mt>5&&(Mt=0);var fr=Ne+pe[It];Mt>0&&(fr+=Ke(Oe,ot,Mt),ot+=Mt),vt=Ke(Oe,ot,Ee),It=dt>>>1==1?rt[vt]:Ze[vt],ot+=It&15,It>>>=4;var dr=It<4?0:It-2>>1,sr=xe[It];for(dr>0&&(sr+=Ke(Oe,ot,dr),ot+=dr),!ut&&ct<fr&&(Ie=at(Ie,fr+100),ct=Ie.length);Ne<fr;)Ie[Ne]=Ie[Ne-sr],++Ne}}}return ut?[Ie,ot+7>>>3]:[Ie.slice(0,Ne),ot+7>>>3]}function mt(Oe,ut){var ot=Oe.slice(Oe.l||0),dt=Pe(ot,ut);return Oe.l+=dt[1],dt[0]}function Qe(Oe,ut){if(Oe)typeof console<"u"&&console.error(ut);else throw new Error(ut)}function st(Oe,ut){var ot=Oe;Su(ot,0);var dt=[],Ie=[],Ne={FileIndex:dt,FullPaths:Ie};L(Ne,{root:ut.root});for(var ct=ot.length-4;(ot[ct]!=80||ot[ct+1]!=75||ot[ct+2]!=5||ot[ct+3]!=6)&&ct>=0;)--ct;ot.l=ct+4,ot.l+=4;var Ye=ot.read_shift(2);ot.l+=6;var Ee=ot.read_shift(4);for(ot.l=Ee,ct=0;ct<Ye;++ct){ot.l+=20;var it=ot.read_shift(4),vt=ot.read_shift(4),It=ot.read_shift(2),Mt=ot.read_shift(2),fr=ot.read_shift(2);ot.l+=8;var dr=ot.read_shift(4),sr=l(ot.slice(ot.l+It,ot.l+It+Mt));ot.l+=It+Mt+fr;var Yr=ot.l;ot.l=dr+4,tt(ot,it,vt,Ne,sr),ot.l=Yr}return Ne}function tt(Oe,ut,ot,dt,Ie){Oe.l+=2;var Ne=Oe.read_shift(2),ct=Oe.read_shift(2),Ye=o(Oe);if(Ne&8257)throw new Error("Unsupported ZIP encryption");for(var Ee=Oe.read_shift(4),it=Oe.read_shift(4),vt=Oe.read_shift(4),It=Oe.read_shift(2),Mt=Oe.read_shift(2),fr="",dr=0;dr<It;++dr)fr+=String.fromCharCode(Oe[Oe.l++]);if(Mt){var sr=l(Oe.slice(Oe.l,Oe.l+Mt));(sr[21589]||{}).mt&&(Ye=sr[21589].mt),((Ie||{})[21589]||{}).mt&&(Ye=Ie[21589].mt)}Oe.l+=Mt;var Yr=Oe.slice(Oe.l,Oe.l+it);switch(ct){case 8:Yr=R(Oe,vt);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ct)}var Na=!1;Ne&8&&(Ee=Oe.read_shift(4),Ee==134695760&&(Ee=Oe.read_shift(4),Na=!0),it=Oe.read_shift(4),vt=Oe.read_shift(4)),it!=ut&&Qe(Na,"Bad compressed size: "+ut+" != "+it),vt!=ot&&Qe(Na,"Bad uncompressed size: "+ot+" != "+vt),ca(dt,fr,Yr,{unsafe:!0,mt:Ye})}function Ft(Oe,ut){var ot=ut||{},dt=[],Ie=[],Ne=ur(1),ct=ot.compression?8:0,Ye=0,Ee=0,it=0,vt=0,It=0,Mt=Oe.FullPaths[0],fr=Mt,dr=Oe.FileIndex[0],sr=[],Yr=0;for(Ee=1;Ee<Oe.FullPaths.length;++Ee)if(fr=Oe.FullPaths[Ee].slice(Mt.length),dr=Oe.FileIndex[Ee],!(!dr.size||!dr.content||fr=="Sh33tJ5")){var Na=vt,Sa=ur(fr.length);for(it=0;it<fr.length;++it)Sa.write_shift(1,fr.charCodeAt(it)&127);Sa=Sa.slice(0,Sa.l),sr[It]=bre.buf(dr.content,0);var za=dr.content;ct==8&&(za=G(za)),Ne=ur(30),Ne.write_shift(4,67324752),Ne.write_shift(2,20),Ne.write_shift(2,Ye),Ne.write_shift(2,ct),dr.mt?i(Ne,dr.mt):Ne.write_shift(4,0),Ne.write_shift(-4,sr[It]),Ne.write_shift(4,za.length),Ne.write_shift(4,dr.content.length),Ne.write_shift(2,Sa.length),Ne.write_shift(2,0),vt+=Ne.length,dt.push(Ne),vt+=Sa.length,dt.push(Sa),vt+=za.length,dt.push(za),Ne=ur(46),Ne.write_shift(4,33639248),Ne.write_shift(2,0),Ne.write_shift(2,20),Ne.write_shift(2,Ye),Ne.write_shift(2,ct),Ne.write_shift(4,0),Ne.write_shift(-4,sr[It]),Ne.write_shift(4,za.length),Ne.write_shift(4,dr.content.length),Ne.write_shift(2,Sa.length),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(4,0),Ne.write_shift(4,Na),Yr+=Ne.l,Ie.push(Ne),Yr+=Sa.length,Ie.push(Sa),++It}return Ne=ur(22),Ne.write_shift(4,101010256),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,It),Ne.write_shift(2,It),Ne.write_shift(4,Yr),Ne.write_shift(4,vt),Ne.write_shift(2,0),fc([fc(dt),fc(Ie),Ne])}var _t={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Dt(Oe,ut){if(Oe.ctype)return Oe.ctype;var ot=Oe.name||"",dt=ot.match(/\.([^\.]+)$/);return dt&&_t[dt[1]]||ut&&(dt=(ot=ut).match(/[\.\\]([^\.\\])+$/),dt&&_t[dt[1]])?_t[dt[1]]:"application/octet-stream"}function Wt(Oe){for(var ut=ev(Oe),ot=[],dt=0;dt<ut.length;dt+=76)ot.push(ut.slice(dt,dt+76));return ot.join(`\r
`)+`\r
`}function cr(Oe){var ut=Oe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(it){var vt=it.charCodeAt(0).toString(16).toUpperCase();return"="+(vt.length==1?"0"+vt:vt)});ut=ut.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ut.charAt(0)==`
`&&(ut="=0D"+ut.slice(1)),ut=ut.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ot=[],dt=ut.split(`\r
`),Ie=0;Ie<dt.length;++Ie){var Ne=dt[Ie];if(Ne.length==0){ot.push("");continue}for(var ct=0;ct<Ne.length;){var Ye=76,Ee=Ne.slice(ct,ct+Ye);Ee.charAt(Ye-1)=="="?Ye--:Ee.charAt(Ye-2)=="="?Ye-=2:Ee.charAt(Ye-3)=="="&&(Ye-=3),Ee=Ne.slice(ct,ct+Ye),ct+=Ye,ct<Ne.length&&(Ee+="="),ot.push(Ee)}}return ot.join(`\r
`)}function Dr(Oe){for(var ut=[],ot=0;ot<Oe.length;++ot){for(var dt=Oe[ot];ot<=Oe.length&&dt.charAt(dt.length-1)=="=";)dt=dt.slice(0,dt.length-1)+Oe[++ot];ut.push(dt)}for(var Ie=0;Ie<ut.length;++Ie)ut[Ie]=ut[Ie].replace(/[=][0-9A-Fa-f]{2}/g,function(Ne){return String.fromCharCode(parseInt(Ne.slice(1),16))});return Yf(ut.join(`\r
`))}function Ea(Oe,ut,ot){for(var dt="",Ie="",Ne="",ct,Ye=0;Ye<10;++Ye){var Ee=ut[Ye];if(!Ee||Ee.match(/^\s*$/))break;var it=Ee.match(/^(.*?):\s*([^\s].*)$/);if(it)switch(it[1].toLowerCase()){case"content-location":dt=it[2].trim();break;case"content-type":Ne=it[2].trim();break;case"content-transfer-encoding":Ie=it[2].trim();break}}switch(++Ye,Ie.toLowerCase()){case"base64":ct=Yf(YA(ut.slice(Ye).join("")));break;case"quoted-printable":ct=Dr(ut.slice(Ye));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Ie)}var vt=ca(Oe,dt.slice(ot.length),ct,{unsafe:!0});Ne&&(vt.ctype=Ne)}function Fr(Oe,ut){if(he(Oe.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ot=ut&&ut.root||"",dt=(ls&&Buffer.isBuffer(Oe)?Oe.toString("binary"):he(Oe)).split(`\r
`),Ie=0,Ne="";for(Ie=0;Ie<dt.length;++Ie)if(Ne=dt[Ie],!!/^Content-Location:/i.test(Ne)&&(Ne=Ne.slice(Ne.indexOf("file")),ot||(ot=Ne.slice(0,Ne.lastIndexOf("/")+1)),Ne.slice(0,ot.length)!=ot))for(;ot.length>0&&(ot=ot.slice(0,ot.length-1),ot=ot.slice(0,ot.lastIndexOf("/")+1),Ne.slice(0,ot.length)!=ot););var ct=(dt[1]||"").match(/boundary="(.*?)"/);if(!ct)throw new Error("MAD cannot find boundary");var Ye="--"+(ct[1]||""),Ee=[],it=[],vt={FileIndex:Ee,FullPaths:it};L(vt);var It,Mt=0;for(Ie=0;Ie<dt.length;++Ie){var fr=dt[Ie];fr!==Ye&&fr!==Ye+"--"||(Mt++&&Ea(vt,dt.slice(It,Ie),ot),It=Ie)}return vt}function jr(Oe,ut){var ot=ut||{},dt=ot.boundary||"SheetJS";dt="------="+dt;for(var Ie=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+dt.slice(2)+'"',"","",""],Ne=Oe.FullPaths[0],ct=Ne,Ye=Oe.FileIndex[0],Ee=1;Ee<Oe.FullPaths.length;++Ee)if(ct=Oe.FullPaths[Ee].slice(Ne.length),Ye=Oe.FileIndex[Ee],!(!Ye.size||!Ye.content||ct=="Sh33tJ5")){ct=ct.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Yr){return"_x"+Yr.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Yr){return"_u"+Yr.charCodeAt(0).toString(16)+"_"});for(var it=Ye.content,vt=ls&&Buffer.isBuffer(it)?it.toString("binary"):he(it),It=0,Mt=Math.min(1024,vt.length),fr=0,dr=0;dr<=Mt;++dr)(fr=vt.charCodeAt(dr))>=32&&fr<128&&++It;var sr=It>=Mt*4/5;Ie.push(dt),Ie.push("Content-Location: "+(ot.root||"file:///C:/SheetJS/")+ct),Ie.push("Content-Transfer-Encoding: "+(sr?"quoted-printable":"base64")),Ie.push("Content-Type: "+Dt(Ye,ct)),Ie.push(""),Ie.push(sr?cr(vt):Wt(vt))}return Ie.push(dt+`--\r
`),Ie.join(`\r
`)}function Sr(Oe){var ut={};return L(ut,Oe),ut}function ca(Oe,ut,ot,dt){var Ie=dt&&dt.unsafe;Ie||L(Oe);var Ne=!Ie&&zs.find(Oe,ut);if(!Ne){var ct=Oe.FullPaths[0];ut.slice(0,ct.length)==ct?ct=ut:(ct.slice(-1)!="/"&&(ct+="/"),ct=(ct+ut).replace("//","/")),Ne={name:s(ut),type:2},Oe.FileIndex.push(Ne),Oe.FullPaths.push(ct),Ie||zs.utils.cfb_gc(Oe)}return Ne.content=ot,Ne.size=ot?ot.length:0,dt&&(dt.CLSID&&(Ne.clsid=dt.CLSID),dt.mt&&(Ne.mt=dt.mt),dt.ct&&(Ne.ct=dt.ct)),Ne}function oa(Oe,ut){L(Oe);var ot=zs.find(Oe,ut);if(ot){for(var dt=0;dt<Oe.FileIndex.length;++dt)if(Oe.FileIndex[dt]==ot)return Oe.FileIndex.splice(dt,1),Oe.FullPaths.splice(dt,1),!0}return!1}function wt(Oe,ut,ot){L(Oe);var dt=zs.find(Oe,ut);if(dt){for(var Ie=0;Ie<Oe.FileIndex.length;++Ie)if(Oe.FileIndex[Ie]==dt)return Oe.FileIndex[Ie].name=s(ot),Oe.FullPaths[Ie]=ot,!0}return!1}function Xt(Oe){Q(Oe,!0)}return t.find=P,t.read=D,t.parse=d,t.write=de,t.writeFile=re,t.utils={cfb_new:Sr,cfb_add:ca,cfb_del:oa,cfb_mov:wt,cfb_gc:Xt,ReadShift:Sy,CheckField:_9,prep_blob:Su,bconcat:fc,use_zlib:B,_deflateRaw:Le,_inflateRaw:mt,consts:le},t})();function wre(e){return typeof e=="string"?d5(e):Array.isArray(e)?Gte(e):e}function Qv(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=d5(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var a=r=="utf8"?rv(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(a,e);if(typeof Blob<"u"){var s=new Blob([wre(a)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,e);if(typeof saveAs<"u")return saveAs(s,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(s);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=Rv(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function pc(e){for(var t=Object.keys(e),r=[],a=0;a<t.length;++a)Object.prototype.hasOwnProperty.call(e,t[a])&&r.push(t[a]);return r}function lk(e,t){for(var r=[],a=pc(e),s=0;s!==a.length;++s)r[e[a[s]][t]]==null&&(r[e[a[s]][t]]=a[s]);return r}function oB(e){for(var t=[],r=pc(e),a=0;a!==r.length;++a)t[e[r[a]]]=r[a];return t}function h5(e){for(var t=[],r=pc(e),a=0;a!==r.length;++a)t[e[r[a]]]=parseInt(r[a],10);return t}function Nre(e){for(var t=[],r=pc(e),a=0;a!==r.length;++a)t[e[r[a]]]==null&&(t[e[r[a]]]=[]),t[e[r[a]]].push(r[a]);return t}var Rw=new Date(1899,11,30,0,0,0);function Wd(e,t){var r=e.getTime(),a=Rw.getTime()+(e.getTimezoneOffset()-Rw.getTimezoneOffset())*6e4;return(r-a)/(1440*60*1e3)}var A9=new Date,jre=Rw.getTime()+(A9.getTimezoneOffset()-Rw.getTimezoneOffset())*6e4,ck=A9.getTimezoneOffset();function m9(e){var t=new Date;return t.setTime(e*24*60*60*1e3+jre),t.getTimezoneOffset()!==ck&&t.setTime(t.getTime()+(t.getTimezoneOffset()-ck)*6e4),t}var dk=new Date("2017-02-19T19:06:09.000Z"),p9=isNaN(dk.getFullYear())?new Date("2/19/17"):dk,Sre=p9.getFullYear()==2017;function Nd(e,t){var r=new Date(e);if(Sre)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(p9.getFullYear()==1917&&!isNaN(r.getFullYear())){var a=r.getFullYear();return e.indexOf(""+a)>-1||r.setFullYear(r.getFullYear()+100),r}var s=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function A5(e,t){if(ls&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var a=[],s=0;s!=e.length;++s)a.push(String.fromCharCode(e[s]));return a.join("")}function Yd(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Yd(e[r]));return t}function xo(e,t){for(var r="";r.length<t;)r+=e;return r}function zA(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,a=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(a))||(a=a.replace(/[(](.*)[)]/,function(s,i){return r=-r,i}),!isNaN(t=Number(a)))?t/r:t}var Cre=["january","february","march","april","may","june","july","august","september","october","november","december"];function tv(e){var t=new Date(e),r=new Date(NaN),a=t.getYear(),s=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&Cre.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return a<0||a>8099?r:(s>0||i>1)&&a!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function xn(e,t,r){if(e.FullPaths){if(typeof r=="string"){var a;return ls?a=lm(r):a=Wte(r),zs.utils.cfb_add(e,t,a)}zs.utils.cfb_add(e,t,r)}else e.file(t,r)}function lB(){return zs.utils.cfb_new()}var nl=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Ere={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},cB=oB(Ere),dB=/[&<>'"]/g,Bre=/[\u0000-\u0008\u000b-\u001f]/g;function Is(e){var t=e+"";return t.replace(dB,function(r){return cB[r]}).replace(Bre,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function uk(e){return Is(e).replace(/ /g,"_x0020_")}var g9=/[\u0000-\u001f]/g;function Tre(e){var t=e+"";return t.replace(dB,function(r){return cB[r]}).replace(/\n/g,"<br/>").replace(g9,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function Fre(e){var t=e+"";return t.replace(dB,function(r){return cB[r]}).replace(g9,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function _re(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function kre(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function uj(e){for(var t="",r=0,a=0,s=0,i=0,o=0,l=0;r<e.length;){if(a=e.charCodeAt(r++),a<128){t+=String.fromCharCode(a);continue}if(s=e.charCodeAt(r++),a>191&&a<224){o=(a&31)<<6,o|=s&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(r++),a<240){t+=String.fromCharCode((a&15)<<12|(s&63)<<6|i&63);continue}o=e.charCodeAt(r++),l=((a&7)<<18|(s&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function fk(e){var t=Up(2*e.length),r,a,s=1,i=0,o=0,l;for(a=0;a<e.length;a+=s)s=1,(l=e.charCodeAt(a))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(a+1)&63),s=2):l<240?(r=(l&15)*4096+(e.charCodeAt(a+1)&63)*64+(e.charCodeAt(a+2)&63),s=3):(s=4,r=(l&7)*262144+(e.charCodeAt(a+1)&63)*4096+(e.charCodeAt(a+2)&63)*64+(e.charCodeAt(a+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function hk(e){return lm(e,"binary").toString("utf8")}var db="foo bar baz",jy=ls&&(hk(db)==uj(db)&&hk||fk(db)==uj(db)&&fk)||uj,rv=ls?function(e){return lm(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,a=0,s=0;r<e.length;)switch(a=e.charCodeAt(r++),!0){case a<128:t.push(String.fromCharCode(a));break;case a<2048:t.push(String.fromCharCode(192+(a>>6))),t.push(String.fromCharCode(128+(a&63)));break;case(a>=55296&&a<57344):a-=55296,s=e.charCodeAt(r++)-56320+(a<<10),t.push(String.fromCharCode(240+(s>>18&7))),t.push(String.fromCharCode(144+(s>>12&63))),t.push(String.fromCharCode(128+(s>>6&63))),t.push(String.fromCharCode(128+(s&63)));break;default:t.push(String.fromCharCode(224+(a>>12))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)))}return t.join("")},Ire=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var a=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<e.length;++s)a=a.replace(e[s][0],e[s][1]);return a}})(),x9=/(^\s|\s$|\n)/;function hc(e,t){return"<"+e+(t.match(x9)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function av(e){return pc(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Ir(e,t,r){return"<"+e+(r!=null?av(r):"")+(t!=null?(t.match(x9)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function UC(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function Pre(e,t){switch(typeof e){case"string":var r=Ir("vt:lpwstr",Is(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Ir((e|0)==e?"vt:i4":"vt:r8",Is(String(e)));case"boolean":return Ir("vt:bool",e?"true":"false")}if(e instanceof Date)return Ir("vt:filetime",UC(e));throw new Error("Unable to serialize "+e)}var Dl={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},qx=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Tu={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Lre(e,t){for(var r=1-2*(e[t+7]>>>7),a=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),s=e[t+6]&15,i=5;i>=0;--i)s=s*256+e[t+i];return a==2047?s==0?r*(1/0):NaN:(a==0?a=-1022:(a-=1023,s+=Math.pow(2,52)),r*Math.pow(2,a-52)*s)}function Ore(e,t,r){var a=(t<0||1/t==-1/0?1:0)<<7,s=0,i=0,o=a?-t:t;isFinite(o)?o==0?s=i=0:(s=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-s),s<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?s=-1022:(i-=Math.pow(2,52),s+=1023)):(s=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)e[r+l]=i&255;e[r+6]=(s&15)<<4|i&15,e[r+7]=s>>4|a}var Ak=function(e){for(var t=[],r=10240,a=0;a<e[0].length;++a)if(e[0][a])for(var s=0,i=e[0][a].length;s<i;s+=r)t.push.apply(t,e[0][a].slice(s,s+r));return t},mk=ls?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:lm(t)})):Ak(e)}:Ak,pk=function(e,t,r){for(var a=[],s=t;s<r;s+=2)a.push(String.fromCharCode(py(e,s)));return a.join("").replace(Ny,"")},uB=ls?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Ny,""):pk(e,t,r)}:pk,gk=function(e,t,r){for(var a=[],s=t;s<t+r;++s)a.push(("0"+e[s].toString(16)).slice(-2));return a.join("")},y9=ls?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):gk(e,t,r)}:gk,xk=function(e,t,r){for(var a=[],s=t;s<r;s++)a.push(String.fromCharCode(qg(e,s)));return a.join("")},Hv=ls?function(t,r,a){return Buffer.isBuffer(t)?t.toString("utf8",r,a):xk(t,r,a)}:xk,v9=function(e,t){var r=Fu(e,t);return r>0?Hv(e,t+4,t+4+r-1):""},b9=v9,w9=function(e,t){var r=Fu(e,t);return r>0?Hv(e,t+4,t+4+r-1):""},N9=w9,j9=function(e,t){var r=2*Fu(e,t);return r>0?Hv(e,t+4,t+4+r-1):""},S9=j9,C9=function(t,r){var a=Fu(t,r);return a>0?uB(t,r+4,r+4+a):""},E9=C9,B9=function(e,t){var r=Fu(e,t);return r>0?Hv(e,t+4,t+4+r):""},T9=B9,F9=function(e,t){return Lre(e,t)},Qw=F9,fB=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};ls&&(b9=function(t,r){if(!Buffer.isBuffer(t))return v9(t,r);var a=t.readUInt32LE(r);return a>0?t.toString("utf8",r+4,r+4+a-1):""},N9=function(t,r){if(!Buffer.isBuffer(t))return w9(t,r);var a=t.readUInt32LE(r);return a>0?t.toString("utf8",r+4,r+4+a-1):""},S9=function(t,r){if(!Buffer.isBuffer(t))return j9(t,r);var a=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+a-1)},E9=function(t,r){if(!Buffer.isBuffer(t))return C9(t,r);var a=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+a)},T9=function(t,r){if(!Buffer.isBuffer(t))return B9(t,r);var a=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+a)},Qw=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):F9(t,r)},fB=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var qg=function(e,t){return e[t]},py=function(e,t){return e[t+1]*256+e[t]},Dre=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Fu=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},fp=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Mre=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Sy(e,t){var r="",a,s,i=[],o,l,c,u;switch(t){case"dbcs":if(u=this.l,ls&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(py(this,u)),u+=2;e*=2;break;case"utf8":r=Hv(this,this.l,this.l+e);break;case"utf16le":e*=2,r=uB(this,this.l,this.l+e);break;case"wstr":return Sy.call(this,e,"dbcs");case"lpstr-ansi":r=b9(this,this.l),e=4+Fu(this,this.l);break;case"lpstr-cp":r=N9(this,this.l),e=4+Fu(this,this.l);break;case"lpwstr":r=S9(this,this.l),e=4+2*Fu(this,this.l);break;case"lpp4":e=4+Fu(this,this.l),r=E9(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Fu(this,this.l),r=T9(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=qg(this,this.l+e++))!==0;)i.push(ob(o));r=i.join("");break;case"_wstr":for(e=0,r="";(o=py(this,this.l+e))!==0;)i.push(ob(o)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=qg(this,u),this.l=u+1,l=Sy.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(ob(py(this,u))),u+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=qg(this,u),this.l=u+1,l=Sy.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(ob(qg(this,u))),u+=1}r=i.join("");break;default:switch(e){case 1:return a=qg(this,this.l),this.l++,a;case 2:return a=(t==="i"?Dre:py)(this,this.l),this.l+=2,a;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(a=(e>0?fp:Mre)(this,this.l),this.l+=4,a):(s=Fu(this,this.l),this.l+=4,s);case 8:case-8:if(t==="f")return e==8?s=Qw(this,this.l):s=Qw([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;e=8;case 16:r=y9(this,this.l,e);break}}return this.l+=e,r}var Ure=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},Rre=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},Qre=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function Hre(e,t,r){var a=0,s=0;if(r==="dbcs"){for(s=0;s!=t.length;++s)Qre(this,t.charCodeAt(s),this.l+2*s);a=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=t.length;++s)this[this.l+s]=t.charCodeAt(s)&255;a=t.length}else if(r==="hex"){for(;s<e;++s)this[this.l++]=parseInt(t.slice(2*s,2*s+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(s=0;s<Math.min(t.length,e);++s){var o=t.charCodeAt(s);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:a=1,this[this.l]=t&255;break;case 2:a=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:a=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:a=4,Ure(this,t,this.l);break;case 8:if(a=8,r==="f"){Ore(this,t,this.l);break}case 16:break;case-4:a=4,Rre(this,t,this.l);break}return this.l+=a,this}function _9(e,t){var r=y9(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Su(e,t){e.l=t,e.read_shift=Sy,e.chk=_9,e.write_shift=Hre}function Zh(e,t){e.l+=t}function ur(e){var t=Up(e);return Su(t,0),t}function Gd(){var e=[],t=ls?256:2048,r=function(u){var d=ur(u);return Su(d,0),d},a=r(t),s=function(){a&&(a.length>a.l&&(a=a.slice(0,a.l),a.l=a.length),a.length>0&&e.push(a),a=null)},i=function(u){return a&&u<a.length-a.l?a:(s(),a=r(Math.max(u+1,t)))},o=function(){return s(),fc(e)},l=function(u){s(),a=u,a.l==null&&(a.l=a.length),i(t)};return{next:i,push:l,end:o,_bufs:e}}function vr(e,t,r,a){var s=+t,i;if(!isNaN(s)){a||(a=Lle[s].p||(r||[]).length||0),i=1+(s>=128?1:0)+1,a>=128&&++i,a>=16384&&++i,a>=2097152&&++i;var o=e.next(i);s<=127?o.write_shift(1,s):(o.write_shift(1,(s&127)+128),o.write_shift(1,s>>7));for(var l=0;l!=4;++l)if(a>=128)o.write_shift(1,(a&127)+128),a>>=7;else{o.write_shift(1,a);break}a>0&&fB(r)&&e.push(r)}}function Cy(e,t,r){var a=Yd(e);if(t.s?(a.cRel&&(a.c+=t.s.c),a.rRel&&(a.r+=t.s.r)):(a.cRel&&(a.c+=t.c),a.rRel&&(a.r+=t.r)),!r||r.biff<12){for(;a.c>=256;)a.c-=256;for(;a.r>=65536;)a.r-=65536}return a}function yk(e,t,r){var a=Yd(e);return a.s=Cy(a.s,t.s,r),a.e=Cy(a.e,t.s,r),a}function Ey(e,t){if(e.cRel&&e.c<0)for(e=Yd(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Yd(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Ps(e);return!e.cRel&&e.cRel!=null&&(r=Vre(r)),!e.rRel&&e.rRel!=null&&(r=$re(r)),r}function fj(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Jc(e.s.c)+":"+(e.e.cRel?"":"$")+Jc(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Ac(e.s.r)+":"+(e.e.rRel?"":"$")+Ac(e.e.r):Ey(e.s,t.biff)+":"+Ey(e.e,t.biff)}function hB(e){return parseInt(zre(e),10)-1}function Ac(e){return""+(e+1)}function $re(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function zre(e){return e.replace(/\$(\d+)$/,"$1")}function AB(e){for(var t=qre(e),r=0,a=0;a!==t.length;++a)r=26*r+t.charCodeAt(a)-64;return r-1}function Jc(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Vre(e){return e.replace(/^([A-Z])/,"$$$1")}function qre(e){return e.replace(/^\$([A-Z])/,"$1")}function Kre(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Ml(e){for(var t=0,r=0,a=0;a<e.length;++a){var s=e.charCodeAt(a);s>=48&&s<=57?t=10*t+(s-48):s>=65&&s<=90&&(r=26*r+(s-64))}return{c:r-1,r:t-1}}function Ps(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Pu(e){var t=e.indexOf(":");return t==-1?{s:Ml(e),e:Ml(e)}:{s:Ml(e.slice(0,t)),e:Ml(e.slice(t+1))}}function tl(e,t){return typeof t>"u"||typeof t=="number"?tl(e.s,e.e):(typeof e!="string"&&(e=Ps(e)),typeof t!="string"&&(t=Ps(t)),e==t?e:e+":"+t)}function Ei(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,a=0,s=0,i=e.length;for(r=0;a<i&&!((s=e.charCodeAt(a)-64)<1||s>26);++a)r=26*r+s;for(t.s.c=--r,r=0;a<i&&!((s=e.charCodeAt(a)-48)<0||s>9);++a)r=10*r+s;if(t.s.r=--r,a===i||s!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++a,r=0;a!=i&&!((s=e.charCodeAt(a)-64)<1||s>26);++a)r=26*r+s;for(t.e.c=--r,r=0;a!=i&&!((s=e.charCodeAt(a)-48)<0||s>9);++a)r=10*r+s;return t.e.r=--r,t}function vk(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=u0(e.z,r?Wd(t):t)}catch{}try{return e.w=u0((e.XF||{}).numFmtId||(r?14:0),r?Wd(t):t)}catch{return""+t}}function XA(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?$v[e.v]||e.v:t==null?vk(e,e.v):vk(e,t))}function Zp(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",a={};return a[r]=e,{SheetNames:[r],Sheets:a}}function k9(e,t,r){var a=r||{},s=e?Array.isArray(e):a.dense,i=e||(s?[]:{}),o=0,l=0;if(i&&a.origin!=null){if(typeof a.origin=="number")o=a.origin;else{var c=typeof a.origin=="string"?Ml(a.origin):a.origin;o=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var d=Ei(i["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),o==-1&&(u.e.r=o=d.e.r+1)}for(var A=0;A!=t.length;++A)if(t[A]){if(!Array.isArray(t[A]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=t[A].length;++m)if(!(typeof t[A][m]>"u")){var h={v:t[A][m]},y=o+A,x=l+m;if(u.s.r>y&&(u.s.r=y),u.s.c>x&&(u.s.c=x),u.e.r<y&&(u.e.r=y),u.e.c<x&&(u.e.c=x),t[A][m]&&typeof t[A][m]=="object"&&!Array.isArray(t[A][m])&&!(t[A][m]instanceof Date))h=t[A][m];else if(Array.isArray(h.v)&&(h.f=t[A][m][1],h.v=h.v[0]),h.v===null)if(h.f)h.t="n";else if(a.nullError)h.t="e",h.v=0;else if(a.sheetStubs)h.t="z";else continue;else typeof h.v=="number"?h.t="n":typeof h.v=="boolean"?h.t="b":h.v instanceof Date?(h.z=a.dateNF||yo[14],a.cellDates?(h.t="d",h.w=u0(h.z,Wd(h.v))):(h.t="n",h.v=Wd(h.v),h.w=u0(h.z,h.v))):h.t="s";if(s)i[y]||(i[y]=[]),i[y][x]&&i[y][x].z&&(h.z=i[y][x].z),i[y][x]=h;else{var v=Ps({c:x,r:y});i[v]&&i[v].z&&(h.z=i[v].z),i[v]=h}}}return u.s.c<1e7&&(i["!ref"]=tl(u)),i}function Kx(e,t){return k9(null,e,t)}function Gre(e){return e.read_shift(4,"i")}function nh(e,t){return t||(t=ur(4)),t.write_shift(4,e),t}function Zc(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Ul(e,t){var r=!1;return t==null&&(r=!0,t=ur(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function Wre(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function Yre(e,t){return t||(t=ur(4)),t.write_shift(2,0),t.write_shift(2,0),t}function mB(e,t){var r=e.l,a=e.read_shift(1),s=Zc(e),i=[],o={t:s,h:s};if((a&1)!==0){for(var l=e.read_shift(4),c=0;c!=l;++c)i.push(Wre(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function Xre(e,t){var r=!1;return t==null&&(r=!0,t=ur(15+4*e.t.length)),t.write_shift(1,0),Ul(e.t,t),r?t.slice(0,t.l):t}var Jre=mB;function Zre(e,t){var r=!1;return t==null&&(r=!0,t=ur(23+4*e.t.length)),t.write_shift(1,1),Ul(e.t,t),t.write_shift(4,1),Yre({},t),r?t.slice(0,t.l):t}function Af(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function eg(e,t){return t==null&&(t=ur(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function tg(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function rg(e,t){return t==null&&(t=ur(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var eae=Zc,I9=Ul;function pB(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Hw(e,t){var r=!1;return t==null&&(r=!0,t=ur(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var tae=Zc,RC=pB,gB=Hw;function P9(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,a=t[0]&2;e.l+=4;var s=a===0?Qw([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):fp(t,0)>>2;return r?s/100:s}function L9(e,t){t==null&&(t=ur(4));var r=0,a=0,s=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?a=1:s==(s|0)&&s>=-536870912&&s<1<<29&&(a=1,r=1),a)t.write_shift(-4,((r?s:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function O9(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function rae(e,t){return t||(t=ur(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var ag=O9,Gx=rae;function Wx(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Rp(e,t){return(t||ur(8)).write_shift(8,e,"f")}function aae(e){var t={},r=e.read_shift(1),a=r>>>1,s=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,a){case 0:t.auto=1;break;case 1:t.index=s;var u=fae[s];u&&(t.rgb=_k(u));break;case 2:t.rgb=_k([o,l,c]);break;case 3:t.theme=s;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function $w(e,t){if(t||(t=ur(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var a=e.rgb||"FFFFFF";typeof a=="number"&&(a=("000000"+a.toString(16)).slice(-6)),t.write_shift(1,parseInt(a.slice(0,2),16)),t.write_shift(1,parseInt(a.slice(2,4),16)),t.write_shift(1,parseInt(a.slice(4,6),16)),t.write_shift(1,255)}return t}function nae(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function sae(e,t){t||(t=ur(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var D9=2,ju=3,ub=11,zw=19,fb=64,iae=65,oae=71,lae=4108,cae=4126,dc=80,bk={1:{n:"CodePage",t:D9},2:{n:"Category",t:dc},3:{n:"PresentationFormat",t:dc},4:{n:"ByteCount",t:ju},5:{n:"LineCount",t:ju},6:{n:"ParagraphCount",t:ju},7:{n:"SlideCount",t:ju},8:{n:"NoteCount",t:ju},9:{n:"HiddenCount",t:ju},10:{n:"MultimediaClipCount",t:ju},11:{n:"ScaleCrop",t:ub},12:{n:"HeadingPairs",t:lae},13:{n:"TitlesOfParts",t:cae},14:{n:"Manager",t:dc},15:{n:"Company",t:dc},16:{n:"LinksUpToDate",t:ub},17:{n:"CharacterCount",t:ju},19:{n:"SharedDoc",t:ub},22:{n:"HyperlinksChanged",t:ub},23:{n:"AppVersion",t:ju,p:"version"},24:{n:"DigSig",t:iae},26:{n:"ContentType",t:dc},27:{n:"ContentStatus",t:dc},28:{n:"Language",t:dc},29:{n:"Version",t:dc},255:{},2147483648:{n:"Locale",t:zw},2147483651:{n:"Behavior",t:zw},1919054434:{}},wk={1:{n:"CodePage",t:D9},2:{n:"Title",t:dc},3:{n:"Subject",t:dc},4:{n:"Author",t:dc},5:{n:"Keywords",t:dc},6:{n:"Comments",t:dc},7:{n:"Template",t:dc},8:{n:"LastAuthor",t:dc},9:{n:"RevNumber",t:dc},10:{n:"EditTime",t:fb},11:{n:"LastPrinted",t:fb},12:{n:"CreatedDate",t:fb},13:{n:"ModifiedDate",t:fb},14:{n:"PageCount",t:ju},15:{n:"WordCount",t:ju},16:{n:"CharCount",t:ju},17:{n:"Thumbnail",t:oae},18:{n:"Application",t:dc},19:{n:"DocSecurity",t:ju},255:{},2147483648:{n:"Locale",t:zw},2147483651:{n:"Behavior",t:zw},1919054434:{}};function dae(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var uae=dae([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),fae=Yd(uae),$v={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},hae={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},hb={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function M9(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function U9(e,t){var r=Nre(hae),a=[],s;a[a.length]=nl,a[a.length]=Ir("Types",null,{xmlns:Dl.CT,"xmlns:xsd":Dl.xsd,"xmlns:xsi":Dl.xsi}),a=a.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return Ir("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(s=e[c][0],a[a.length]=Ir("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:hb[c][t.bookType]||hb[c].xlsx}))},o=function(c){(e[c]||[]).forEach(function(u){a[a.length]=Ir("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:hb[c][t.bookType]||hb[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(u){a[a.length]=Ir("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return i("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),a.length>2&&(a[a.length]="</Types>",a[1]=a[1].replace("/>",">")),a.join("")}var Yn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function R9(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function cx(e){var t=[nl,Ir("Relationships",null,{xmlns:Dl.RELS})];return pc(e["!id"]).forEach(function(r){t[t.length]=Ir("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Fs(e,t,r,a,s,i){if(s||(s={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,s.Id="rId"+t,s.Type=a,s.Target=r,[Yn.HLINK,Yn.XPATH,Yn.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),e["!id"][s.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][s.Id]=s,e[("/"+s.Target).replace("//","/")]=s,t}function Aae(e){var t=[nl];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function Nk(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function mae(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function pae(e){var t=[nl];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(Nk(e[r][0],e[r][1])),t.push(mae("",e[r][0]));return t.push(Nk("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function Q9(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Lw.version+"</meta:generator></office:meta></office:document-meta>"}var jp=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function hj(e,t,r,a,s){s[e]!=null||t==null||t===""||(s[e]=t,t=Is(t),a[a.length]=r?Ir(e,t,r):hc(e,t))}function H9(e,t){var r=t||{},a=[nl,Ir("cp:coreProperties",null,{"xmlns:cp":Dl.CORE_PROPS,"xmlns:dc":Dl.dc,"xmlns:dcterms":Dl.dcterms,"xmlns:dcmitype":Dl.dcmitype,"xmlns:xsi":Dl.xsi})],s={};if(!e&&!r.Props)return a.join("");e&&(e.CreatedDate!=null&&hj("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:UC(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},a,s),e.ModifiedDate!=null&&hj("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:UC(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},a,s));for(var i=0;i!=jp.length;++i){var o=jp[i],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&hj(o[0],l,null,a,s)}return a.length>2&&(a[a.length]="</cp:coreProperties>",a[1]=a[1].replace("/>",">")),a.join("")}var dx=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],$9=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function z9(e){var t=[],r=Ir;return e||(e={}),e.Application="SheetJS",t[t.length]=nl,t[t.length]=Ir("Properties",null,{xmlns:Dl.EXT_PROPS,"xmlns:vt":Dl.vt}),dx.forEach(function(a){if(e[a[1]]!==void 0){var s;switch(a[2]){case"string":s=Is(String(e[a[1]]));break;case"bool":s=e[a[1]]?"true":"false";break}s!==void 0&&(t[t.length]=r(a[0],s))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(a){return"<vt:lpstr>"+Is(a)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function V9(e){var t=[nl,Ir("Properties",null,{xmlns:Dl.CUST_PROPS,"xmlns:vt":Dl.vt})];if(!e)return t.join("");var r=1;return pc(e).forEach(function(s){++r,t[t.length]=Ir("property",Pre(e[s]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Is(s)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var jk={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function gae(e,t){var r=[];return pc(jk).map(function(a){for(var s=0;s<jp.length;++s)if(jp[s][1]==a)return jp[s];for(s=0;s<dx.length;++s)if(dx[s][1]==a)return dx[s];throw a}).forEach(function(a){if(e[a[1]]!=null){var s=t&&t.Props&&t.Props[a[1]]!=null?t.Props[a[1]]:e[a[1]];switch(a[2]){case"date":s=new Date(s).toISOString().replace(/\.\d*Z/,"Z");break}typeof s=="number"?s=String(s):s===!0||s===!1?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),r.push(hc(jk[a[1]]||a[1],s))}}),Ir("DocumentProperties",r.join(""),{xmlns:Tu.o})}function xae(e,t){var r=["Worksheets","SheetNames"],a="CustomDocumentProperties",s=[];return e&&pc(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<jp.length;++o)if(i==jp[o][1])return;for(o=0;o<dx.length;++o)if(i==dx[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var l=e[i],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),s.push(Ir(uk(i),l,{"dt:dt":c}))}}),t&&pc(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),s.push(Ir(uk(i),o,{"dt:dt":l}))}}),"<"+a+' xmlns="'+Tu.o+'">'+s.join("")+"</"+a+">"}function yae(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,a=r%Math.pow(2,32),s=(r-a)/Math.pow(2,32);a*=1e7,s*=1e7;var i=a/Math.pow(2,32)|0;i>0&&(a=a%Math.pow(2,32),s+=i);var o=ur(8);return o.write_shift(4,a),o.write_shift(4,s),o}function Sk(e,t){var r=ur(4),a=ur(4);switch(r.write_shift(4,e==80?31:e),e){case 3:a.write_shift(-4,t);break;case 5:a=ur(8),a.write_shift(8,t,"f");break;case 11:a.write_shift(4,t?1:0);break;case 64:a=yae(t);break;case 31:case 80:for(a=ur(4+2*(t.length+1)+(t.length%2?0:2)),a.write_shift(4,t.length+1),a.write_shift(0,t,"dbcs");a.l!=a.length;)a.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return fc([r,a])}var q9=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function vae(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function Ck(e,t,r){var a=ur(8),s=[],i=[],o=8,l=0,c=ur(8),u=ur(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),i.push(c),s.push(u),o+=8+c.length,!t){u=ur(8),u.write_shift(4,0),s.unshift(u);var d=[ur(4)];for(d[0].write_shift(4,e.length),l=0;l<e.length;++l){var A=e[l][0];for(c=ur(8+2*(A.length+1)+(A.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,A.length+1),c.write_shift(0,A,"dbcs");c.l!=c.length;)c.write_shift(1,0);d.push(c)}c=fc(d),i.unshift(c),o+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(q9.indexOf(e[l][0])>-1||$9.indexOf(e[l][0])>-1)&&e[l][1]!=null){var m=e[l][1],h=0;if(t){h=+t[e[l][0]];var y=r[h];if(y.p=="version"&&typeof m=="string"){var x=m.split(".");m=(+x[0]<<16)+(+x[1]||0)}c=Sk(y.t,m)}else{var v=vae(m);v==-1&&(v=31,m=String(m)),c=Sk(v,m)}i.push(c),u=ur(8),u.write_shift(4,t?h:2+l),s.push(u),o+=8+c.length}var b=8*(i.length+1);for(l=0;l<i.length;++l)s[l].write_shift(4,b),b+=i[l].length;return a.write_shift(4,o),a.write_shift(4,i.length),fc([a].concat(s).concat(i))}function Ek(e,t,r,a,s,i){var o=ur(s?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,zs.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,s?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,s?68:48);var c=Ck(e,r,a);if(l.push(c),s){var u=Ck(s,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+c.length),l.push(u)}return fc(l)}function bae(e,t){t||(t=ur(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function wae(e,t){return e.read_shift(t)===1}function pd(e,t){return t||(t=ur(2)),t.write_shift(2,+!!e),t}function K9(e){return e.read_shift(2,"u")}function of(e,t){return t||(t=ur(2)),t.write_shift(2,e),t}function G9(e,t,r){return r||(r=ur(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function W9(e,t,r){var a=e.read_shift(r&&r.biff>=12?2:1),s="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(s="dbcs-cont")}else r.biff==12&&(s="wstr");r.biff>=2&&r.biff<=5&&(s="cpstr");var o=a?e.read_shift(a,s):"";return o}function Nae(e){var t=e.t||"",r=ur(3);r.write_shift(2,t.length),r.write_shift(1,1);var a=ur(2*t.length);a.write_shift(2*t.length,t,"utf16le");var s=[r,a];return fc(s)}function jae(e,t,r){var a;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var s=e.read_shift(1);return s===0?a=e.read_shift(t,"sbcs-cont"):a=e.read_shift(t,"dbcs-cont"),a}function Sae(e,t,r){var a=e.read_shift(r&&r.biff==2?1:2);return a===0?(e.l++,""):jae(e,a,r)}function Cae(e,t,r){if(r.biff>5)return Sae(e,t,r);var a=e.read_shift(1);return a===0?(e.l++,""):e.read_shift(a,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function Y9(e,t,r){return r||(r=ur(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function Bk(e,t){t||(t=ur(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function Eae(e){var t=ur(512),r=0,a=e.Target;a.slice(0,7)=="file://"&&(a=a.slice(7));var s=a.indexOf("#"),i=s>-1?31:23;switch(a.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(i==28)a=a.slice(1),Bk(a,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var l=s>-1?a.slice(0,s):a;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),i&8&&Bk(s>-1?a.slice(s+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var c=0;a.slice(c*3,c*3+3)=="../"||a.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,a.length-3*c+1),r=0;r<a.length-3*c;++r)t.write_shift(1,a.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function Qp(e,t,r,a){return a||(a=ur(6)),a.write_shift(2,e),a.write_shift(2,t),a.write_shift(2,r||0),a}function Bae(e,t,r){var a=r.biff>8?4:2,s=e.read_shift(a),i=e.read_shift(a,"i"),o=e.read_shift(a,"i");return[s,i,o]}function Tae(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2);return{s:{c:a,r:t},e:{c:s,r}}}function X9(e,t){return t||(t=ur(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function xB(e,t,r){var a=1536,s=16;switch(r.bookType){case"biff8":break;case"biff5":a=1280,s=8;break;case"biff4":a=4,s=6;break;case"biff3":a=3,s=6;break;case"biff2":a=2,s=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=ur(s);return i.write_shift(2,a),i.write_shift(2,t),s>4&&i.write_shift(2,29282),s>6&&i.write_shift(2,1997),s>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function Fae(e,t){var r=!t||t.biff==8,a=ur(r?112:54);for(a.write_shift(t.biff==8?2:1,7),r&&a.write_shift(1,0),a.write_shift(4,859007059),a.write_shift(4,5458548|(r?0:536870912));a.l<a.length;)a.write_shift(1,r?0:32);return a}function _ae(e,t){var r=!t||t.biff>=8?2:1,a=ur(8+r*e.name.length);a.write_shift(4,e.pos),a.write_shift(1,e.hs||0),a.write_shift(1,e.dt),a.write_shift(1,e.name.length),t.biff>=8&&a.write_shift(1,1),a.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var s=a.slice(0,a.l);return s.l=a.l,s}function kae(e,t){var r=ur(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var a=[],s=0;s<e.length;++s)a[s]=Nae(e[s]);var i=fc([r].concat(a));return i.parts=[r.length].concat(a.map(function(o){return o.length})),i}function Iae(){var e=ur(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function Pae(e){var t=ur(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function Lae(e,t){var r=e.name||"Arial",a=t&&t.biff==5,s=a?15+r.length:16+2*r.length,i=ur(s);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),a||i.write_shift(1,1),i.write_shift((a?1:2)*r.length,r,a?"sbcs":"utf16le"),i}function Oae(e,t,r,a){var s=ur(10);return Qp(e,t,a,s),s.write_shift(4,r),s}function Dae(e,t,r,a,s){var i=!s||s.biff==8,o=ur(8+ +i+(1+i)*r.length);return Qp(e,t,a,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function Mae(e,t,r,a){var s=r&&r.biff==5;a||(a=ur(s?3+t.length:5+2*t.length)),a.write_shift(2,e),a.write_shift(s?1:2,t.length),s||a.write_shift(1,1),a.write_shift((s?1:2)*t.length,t,s?"sbcs":"utf16le");var i=a.length>a.l?a.slice(0,a.l):a;return i.l==null&&(i.l=i.length),i}function Uae(e,t){var r=t.biff==8||!t.biff?4:2,a=ur(2*r+6);return a.write_shift(r,e.s.r),a.write_shift(r,e.e.r+1),a.write_shift(2,e.s.c),a.write_shift(2,e.e.c+1),a.write_shift(2,0),a}function Tk(e,t,r,a){var s=r&&r.biff==5;a||(a=ur(s?16:20)),a.write_shift(2,0),e.style?(a.write_shift(2,e.numFmtId||0),a.write_shift(2,65524)):(a.write_shift(2,e.numFmtId||0),a.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&s&&(i|=1024),a.write_shift(4,i),a.write_shift(4,0),s||a.write_shift(4,0),a.write_shift(2,0),a}function Rae(e){var t=ur(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function Qae(e,t,r,a,s,i){var o=ur(8);return Qp(e,t,a,o),G9(r,i,o),o}function Hae(e,t,r,a){var s=ur(14);return Qp(e,t,a,s),Rp(r,s),s}function $ae(e,t,r){if(r.biff<8)return zae(e,t,r);for(var a=[],s=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)a.push(Bae(e,r.biff>8?12:6,r));if(e.l!=s)throw new Error("Bad ExternSheet: "+e.l+" != "+s);return a}function zae(e,t,r){e[e.l+1]==3&&e[e.l]++;var a=W9(e,t,r);return a.charCodeAt(0)==3?a.slice(1):a}function Vae(e){var t=ur(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)X9(e[r],t);return t}function qae(e){var t=ur(24),r=Ml(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var a="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)t.write_shift(1,parseInt(a[s],16));return fc([t,Eae(e[1])])}function Kae(e){var t=e[1].Tooltip,r=ur(10+2*(t.length+1));r.write_shift(2,2048);var a=Ml(e[0]);r.write_shift(2,a.r),r.write_shift(2,a.r),r.write_shift(2,a.c),r.write_shift(2,a.c);for(var s=0;s<t.length;++s)r.write_shift(2,t.charCodeAt(s));return r.write_shift(2,0),r}function Gae(e){return e||(e=ur(4)),e.write_shift(2,1),e.write_shift(2,1),e}function Wae(e,t,r){if(!r.cellStyles)return Zh(e,t);var a=r&&r.biff>=12?4:2,s=e.read_shift(a),i=e.read_shift(a),o=e.read_shift(a),l=e.read_shift(a),c=e.read_shift(2);a==2&&(e.l+=2);var u={s,e:i,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function Yae(e,t){var r=ur(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var a=0;return e.hidden&&(a|=1),r.write_shift(1,a),a=e.level||0,r.write_shift(1,a),r.write_shift(2,0),r}function Xae(e){for(var t=ur(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function Jae(e,t,r){var a=ur(15);return Vv(a,e,t),a.write_shift(8,r,"f"),a}function Zae(e,t,r){var a=ur(9);return Vv(a,e,t),a.write_shift(2,r),a}var ene=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=oB({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],d=Up(1);switch(c.type){case"base64":d=Yf(YA(l));break;case"binary":d=Yf(l);break;case"buffer":case"array":d=l;break}Su(d,0);var A=d.read_shift(1),m=!!(A&136),h=!1,y=!1;switch(A){case 2:break;case 3:break;case 48:h=!0,m=!0;break;case 49:h=!0,m=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+A.toString(16))}var x=0,v=521;A==2&&(x=d.read_shift(2)),d.l+=3,A!=2&&(x=d.read_shift(4)),x>1048576&&(x=1e6),A!=2&&(v=d.read_shift(2));var b=d.read_shift(2),j=c.codepage||1252;A!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(j=e[d[d.l]]),d.l+=1,d.l+=2),y&&(d.l+=36);for(var C=[],E={},k=Math.min(d.length,A==2?521:v-10-(h?264:0)),D=y?32:11;d.l<k&&d[d.l]!=13;)switch(E={},E.name=Ow.utils.decode(j,d.slice(d.l,d.l+D)).replace(/[\u0000\r\n].*$/g,""),d.l+=D,E.type=String.fromCharCode(d.read_shift(1)),A!=2&&!y&&(E.offset=d.read_shift(4)),E.len=d.read_shift(1),A==2&&(E.offset=d.read_shift(2)),E.dec=d.read_shift(1),E.name.length&&C.push(E),A!=2&&(d.l+=y?13:14),E.type){case"B":(!h||E.len!=8)&&c.WTF&&console.log("Skipping "+E.name+":"+E.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+E.name+":"+E.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+E.type)}if(d[d.l]!==13&&(d.l=v-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=v;var L=0,F=0;for(u[0]=[],F=0;F!=C.length;++F)u[0][F]=C[F].name;for(;x-- >0;){if(d[d.l]===42){d.l+=b;continue}for(++d.l,u[++L]=[],F=0,F=0;F!=C.length;++F){var Q=d.slice(d.l,d.l+C[F].len);d.l+=C[F].len,Su(Q,0);var U=Ow.utils.decode(j,Q);switch(C[F].type){case"C":U.trim().length&&(u[L][F]=U.replace(/\s+$/,""));break;case"D":U.length===8?u[L][F]=new Date(+U.slice(0,4),+U.slice(4,6)-1,+U.slice(6,8)):u[L][F]=U;break;case"F":u[L][F]=parseFloat(U.trim());break;case"+":case"I":u[L][F]=y?Q.read_shift(-4,"i")^2147483648:Q.read_shift(4,"i");break;case"L":switch(U.trim().toUpperCase()){case"Y":case"T":u[L][F]=!0;break;case"N":case"F":u[L][F]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+U+"|")}break;case"M":if(!m)throw new Error("DBF Unexpected MEMO for type "+A.toString(16));u[L][F]="##MEMO##"+(y?parseInt(U.trim(),10):Q.read_shift(4));break;case"N":U=U.replace(/\u0000/g,"").trim(),U&&U!="."&&(u[L][F]=+U||0);break;case"@":u[L][F]=new Date(Q.read_shift(-8,"f")-621356832e5);break;case"T":u[L][F]=new Date((Q.read_shift(4)-2440588)*864e5+Q.read_shift(4));break;case"Y":u[L][F]=Q.read_shift(4,"i")/1e4+Q.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[L][F]=-Q.read_shift(-8,"f");break;case"B":if(h&&C[F].len==8){u[L][F]=Q.read_shift(8,"f");break}case"G":case"P":Q.l+=C[F].len;break;case"0":if(C[F].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+C[F].type)}}}if(A!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=C,u}function a(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=Kx(r(l,u),u);return d["!cols"]=u.DBF.map(function(A){return{wch:A.len,DBF:A}}),delete u.DBF,d}function s(l,c){try{return Zp(a(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var u=c||{};if(+u.codepage>=0&&Zy(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=Gd(),A=Ww(l,{header:1,raw:!0,cellDates:!0}),m=A[0],h=A.slice(1),y=l["!cols"]||[],x=0,v=0,b=0,j=1;for(x=0;x<m.length;++x){if(((y[x]||{}).DBF||{}).name){m[x]=y[x].DBF.name,++b;continue}if(m[x]!=null){if(++b,typeof m[x]=="number"&&(m[x]=m[x].toString(10)),typeof m[x]!="string")throw new Error("DBF Invalid column name "+m[x]+" |"+typeof m[x]+"|");if(m.indexOf(m[x])!==x){for(v=0;v<1024;++v)if(m.indexOf(m[x]+"_"+v)==-1){m[x]+="_"+v;break}}}}var C=Ei(l["!ref"]),E=[],k=[],D=[];for(x=0;x<=C.e.c-C.s.c;++x){var L="",F="",Q=0,U=[];for(v=0;v<h.length;++v)h[v][x]!=null&&U.push(h[v][x]);if(U.length==0||m[x]==null){E[x]="?";continue}for(v=0;v<U.length;++v){switch(typeof U[v]){case"number":F="B";break;case"string":F="C";break;case"boolean":F="L";break;case"object":F=U[v]instanceof Date?"D":"C";break;default:F="C"}Q=Math.max(Q,String(U[v]).length),L=L&&L!=F?"C":F}Q>250&&(Q=250),F=((y[x]||{}).DBF||{}).type,F=="C"&&y[x].DBF.len>Q&&(Q=y[x].DBF.len),L=="B"&&F=="N"&&(L="N",D[x]=y[x].DBF.dec,Q=y[x].DBF.len),k[x]=L=="C"||F=="N"?Q:i[L]||0,j+=k[x],E[x]=L}var P=d.next(32);for(P.write_shift(4,318902576),P.write_shift(4,h.length),P.write_shift(2,296+32*b),P.write_shift(2,j),x=0;x<4;++x)P.write_shift(4,0);for(P.write_shift(4,0|(+t[ZR]||3)<<8),x=0,v=0;x<m.length;++x)if(m[x]!=null){var I=d.next(32),z=(m[x].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);I.write_shift(1,z,"sbcs"),I.write_shift(1,E[x]=="?"?"C":E[x],"sbcs"),I.write_shift(4,v),I.write_shift(1,k[x]||i[E[x]]||0),I.write_shift(1,D[x]||0),I.write_shift(1,2),I.write_shift(4,0),I.write_shift(1,0),I.write_shift(4,0),I.write_shift(4,0),v+=k[x]||i[E[x]]||0}var W=d.next(264);for(W.write_shift(4,13),x=0;x<65;++x)W.write_shift(4,0);for(x=0;x<h.length;++x){var ie=d.next(j);for(ie.write_shift(1,0),v=0;v<m.length;++v)if(m[v]!=null)switch(E[v]){case"L":ie.write_shift(1,h[x][v]==null?63:h[x][v]?84:70);break;case"B":ie.write_shift(8,h[x][v]||0,"f");break;case"N":var X="0";for(typeof h[x][v]=="number"&&(X=h[x][v].toFixed(D[v]||0)),b=0;b<k[v]-X.length;++b)ie.write_shift(1,32);ie.write_shift(1,X,"sbcs");break;case"D":h[x][v]?(ie.write_shift(4,("0000"+h[x][v].getFullYear()).slice(-4),"sbcs"),ie.write_shift(2,("00"+(h[x][v].getMonth()+1)).slice(-2),"sbcs"),ie.write_shift(2,("00"+h[x][v].getDate()).slice(-2),"sbcs")):ie.write_shift(8,"00000000","sbcs");break;case"C":var le=String(h[x][v]!=null?h[x][v]:"").slice(0,k[v]);for(ie.write_shift(1,le,"sbcs"),b=0;b<k[v]-le.length;++b)ie.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:s,to_sheet:a,from_sheet:o}})(),tne=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+pc(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(m,h){var y=e[h];return typeof y=="number"?Z_(y):y},a=function(m,h,y){var x=h.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return x==59?m:Z_(x)};e["|"]=254;function s(m,h){switch(h.type){case"base64":return i(YA(m),h);case"binary":return i(m,h);case"buffer":return i(ls&&Buffer.isBuffer(m)?m.toString("binary"):Rv(m),h);case"array":return i(A5(m),h)}throw new Error("Unrecognized type "+h.type)}function i(m,h){var y=m.split(/[\n\r]+/),x=-1,v=-1,b=0,j=0,C=[],E=[],k=null,D={},L=[],F=[],Q=[],U=0,P;for(+h.codepage>=0&&Zy(+h.codepage);b!==y.length;++b){U=0;var I=y[b].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,a).replace(t,r),z=I.replace(/;;/g,"\0").split(";").map(function(ne){return ne.replace(/\u0000/g,";")}),W=z[0],ie;if(I.length>0)switch(W){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":z[1].charAt(0)=="P"&&E.push(I.slice(3).replace(/;;/g,";"));break;case"C":var X=!1,le=!1,re=!1,he=!1,de=-1,ve=-1;for(j=1;j<z.length;++j)switch(z[j].charAt(0)){case"A":break;case"X":v=parseInt(z[j].slice(1))-1,le=!0;break;case"Y":for(x=parseInt(z[j].slice(1))-1,le||(v=0),P=C.length;P<=x;++P)C[P]=[];break;case"K":ie=z[j].slice(1),ie.charAt(0)==='"'?ie=ie.slice(1,ie.length-1):ie==="TRUE"?ie=!0:ie==="FALSE"?ie=!1:isNaN(zA(ie))?isNaN(tv(ie).getDate())||(ie=Nd(ie)):(ie=zA(ie),k!==null&&u9(k)&&(ie=m9(ie))),X=!0;break;case"E":he=!0;var B=Zne(z[j].slice(1),{r:x,c:v});C[x][v]=[C[x][v],B];break;case"S":re=!0,C[x][v]=[C[x][v],"S5S"];break;case"G":break;case"R":de=parseInt(z[j].slice(1))-1;break;case"C":ve=parseInt(z[j].slice(1))-1;break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+I)}if(X&&(C[x][v]&&C[x][v].length==2?C[x][v][0]=ie:C[x][v]=ie,k=null),re){if(he)throw new Error("SYLK shared formula cannot have own formula");var R=de>-1&&C[de][ve];if(!R||!R[1])throw new Error("SYLK shared formula cannot find base");C[x][v][1]=ese(R[1],{r:x-de,c:v-ve})}break;case"F":var G=0;for(j=1;j<z.length;++j)switch(z[j].charAt(0)){case"X":v=parseInt(z[j].slice(1))-1,++G;break;case"Y":for(x=parseInt(z[j].slice(1))-1,P=C.length;P<=x;++P)C[P]=[];break;case"M":U=parseInt(z[j].slice(1))/20;break;case"F":break;case"G":break;case"P":k=E[parseInt(z[j].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(Q=z[j].slice(1).split(" "),P=parseInt(Q[0],10);P<=parseInt(Q[1],10);++P)U=parseInt(Q[2],10),F[P-1]=U===0?{hidden:!0}:{wch:U},yB(F[P-1]);break;case"C":v=parseInt(z[j].slice(1))-1,F[v]||(F[v]={});break;case"R":x=parseInt(z[j].slice(1))-1,L[x]||(L[x]={}),U>0?(L[x].hpt=U,L[x].hpx=rQ(U)):U===0&&(L[x].hidden=!0);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+I)}G<1&&(k=null);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+I)}}return L.length>0&&(D["!rows"]=L),F.length>0&&(D["!cols"]=F),h&&h.sheetRows&&(C=C.slice(0,h.sheetRows)),[C,D]}function o(m,h){var y=s(m,h),x=y[0],v=y[1],b=Kx(x,h);return pc(v).forEach(function(j){b[j]=v[j]}),b}function l(m,h){return Zp(o(m,h),h)}function c(m,h,y,x){var v="C;Y"+(y+1)+";X"+(x+1)+";K";switch(m.t){case"n":v+=m.v||0,m.f&&!m.F&&(v+=";E"+bB(m.f,{r:y,c:x}));break;case"b":v+=m.v?"TRUE":"FALSE";break;case"e":v+=m.w||m.v;break;case"d":v+='"'+(m.w||m.v)+'"';break;case"s":v+='"'+m.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function u(m,h){h.forEach(function(y,x){var v="F;W"+(x+1)+" "+(x+1)+" ";y.hidden?v+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=Vw(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=qw(y.wpx)),typeof y.wch=="number"&&(v+=Math.round(y.wch))),v.charAt(v.length-1)!=" "&&m.push(v)})}function d(m,h){h.forEach(function(y,x){var v="F;";y.hidden?v+="M0;":y.hpt?v+="M"+20*y.hpt+";":y.hpx&&(v+="M"+20*Kw(y.hpx)+";"),v.length>2&&m.push(v+"R"+(x+1))})}function A(m,h){var y=["ID;PWXL;N;E"],x=[],v=Ei(m["!ref"]),b,j=Array.isArray(m),C=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),m["!cols"]&&u(y,m["!cols"]),m["!rows"]&&d(y,m["!rows"]),y.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var E=v.s.r;E<=v.e.r;++E)for(var k=v.s.c;k<=v.e.c;++k){var D=Ps({r:E,c:k});b=j?(m[E]||[])[k]:m[D],!(!b||b.v==null&&(!b.f||b.F))&&x.push(c(b,m,E,k))}return y.join(C)+C+x.join(C)+C+"E"+C}return{to_workbook:l,to_sheet:o,from_sheet:A}})(),rne=(function(){function e(i,o){switch(o.type){case"base64":return t(YA(i),o);case"binary":return t(i,o);case"buffer":return t(ls&&Buffer.isBuffer(i)?i.toString("binary"):Rv(i),o);case"array":return t(A5(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var l=i.split(`
`),c=-1,u=-1,d=0,A=[];d!==l.length;++d){if(l[d].trim()==="BOT"){A[++c]=[],u=0;continue}if(!(c<0)){var m=l[d].trim().split(","),h=m[0],y=m[1];++d;for(var x=l[d]||"";(x.match(/["]/g)||[]).length&1&&d<l.length-1;)x+=`
`+l[++d];switch(x=x.trim(),+h){case-1:if(x==="BOT"){A[++c]=[],u=0;continue}else if(x!=="EOD")throw new Error("Unrecognized DIF special command "+x);break;case 0:x==="TRUE"?A[c][u]=!0:x==="FALSE"?A[c][u]=!1:isNaN(zA(y))?isNaN(tv(y).getDate())?A[c][u]=y:A[c][u]=Nd(y):A[c][u]=zA(y),++u;break;case 1:x=x.slice(1,x.length-1),x=x.replace(/""/g,'"'),x&&x.match(/^=".*"$/)&&(x=x.slice(2,-1)),A[c][u++]=x!==""?x:null;break}if(x==="EOD")break}}return o&&o.sheetRows&&(A=A.slice(0,o.sheetRows)),A}function r(i,o){return Kx(e(i,o),o)}function a(i,o){return Zp(r(i,o),o)}var s=(function(){var i=function(c,u,d,A,m){c.push(u),c.push(d+","+A),c.push('"'+m.replace(/"/g,'""')+'"')},o=function(c,u,d,A){c.push(u+","+d),c.push(u==1?'"'+A.replace(/"/g,'""')+'"':A)};return function(c){var u=[],d=Ei(c["!ref"]),A,m=Array.isArray(c);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,d.e.r-d.s.r+1,""),i(u,"TUPLES",0,d.e.c-d.s.c+1,""),i(u,"DATA",0,0,"");for(var h=d.s.r;h<=d.e.r;++h){o(u,-1,0,"BOT");for(var y=d.s.c;y<=d.e.c;++y){var x=Ps({r:h,c:y});if(A=m?(c[h]||[])[y]:c[x],!A){o(u,1,0,"");continue}switch(A.t){case"n":var v=A.w;!v&&A.v!=null&&(v=A.v),v==null?A.f&&!A.F?o(u,1,0,"="+A.f):o(u,1,0,""):o(u,0,v,"V");break;case"b":o(u,0,A.v?1:0,A.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(A.v)?A.v:'="'+A.v+'"');break;case"d":A.w||(A.w=u0(A.z||yo[14],Wd(Nd(A.v)))),o(u,0,A.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var b=`\r
`,j=u.join(b);return j}})();return{to_workbook:a,to_sheet:r,from_sheet:s}})(),J9=(function(){function e(A){return A.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(A){return A.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(A,m){for(var h=A.split(`
`),y=-1,x=-1,v=0,b=[];v!==h.length;++v){var j=h[v].trim().split(":");if(j[0]==="cell"){var C=Ml(j[1]);if(b.length<=C.r)for(y=b.length;y<=C.r;++y)b[y]||(b[y]=[]);switch(y=C.r,x=C.c,j[2]){case"t":b[y][x]=e(j[3]);break;case"v":b[y][x]=+j[3];break;case"vtf":var E=j[j.length-1];case"vtc":switch(j[3]){case"nl":b[y][x]=!!+j[4];break;default:b[y][x]=+j[4];break}j[2]=="vtf"&&(b[y][x]=[b[y][x],E])}}}return m&&m.sheetRows&&(b=b.slice(0,m.sheetRows)),b}function a(A,m){return Kx(r(A,m),m)}function s(A,m){return Zp(a(A,m),m)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(A){if(!A||!A["!ref"])return"";for(var m=[],h=[],y,x="",v=Pu(A["!ref"]),b=Array.isArray(A),j=v.s.r;j<=v.e.r;++j)for(var C=v.s.c;C<=v.e.c;++C)if(x=Ps({r:j,c:C}),y=b?(A[j]||[])[C]:A[x],!(!y||y.v==null||y.t==="z")){switch(h=["cell",x,"t"],y.t){case"s":case"str":h.push(t(y.v));break;case"n":y.f?(h[2]="vtf",h[3]="n",h[4]=y.v,h[5]=t(y.f)):(h[2]="v",h[3]=y.v);break;case"b":h[2]="vt"+(y.f?"f":"c"),h[3]="nl",h[4]=y.v?"1":"0",h[5]=t(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var E=Wd(Nd(y.v));h[2]="vtc",h[3]="nd",h[4]=""+E,h[5]=y.w||u0(y.z||yo[14],E);break;case"e":continue}m.push(h.join(":"))}return m.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),m.push("valueformat:1:text-wiki"),m.join(`
`)}function d(A){return[i,o,l,o,u(A),c].join(`
`)}return{to_workbook:s,to_sheet:a,from_sheet:d}})(),ane=(function(){function e(d,A,m,h,y){y.raw?A[m][h]=d:d===""||(d==="TRUE"?A[m][h]=!0:d==="FALSE"?A[m][h]=!1:isNaN(zA(d))?isNaN(tv(d).getDate())?A[m][h]=d:A[m][h]=Nd(d):A[m][h]=zA(d))}function t(d,A){var m=A||{},h=[];if(!d||d.length===0)return h;for(var y=d.split(/[\r\n]/),x=y.length-1;x>=0&&y[x].length===0;)--x;for(var v=10,b=0,j=0;j<=x;++j)b=y[j].indexOf(" "),b==-1?b=y[j].length:b++,v=Math.max(v,b);for(j=0;j<=x;++j){h[j]=[];var C=0;for(e(y[j].slice(0,v).trim(),h,j,C,m),C=1;C<=(y[j].length-v)/10+1;++C)e(y[j].slice(v+(C-1)*10,v+C*10).trim(),h,j,C,m)}return m.sheetRows&&(h=h.slice(0,m.sheetRows)),h}var r={44:",",9:"	",59:";",124:"|"},a={44:3,9:2,59:1,124:0};function s(d){for(var A={},m=!1,h=0,y=0;h<d.length;++h)(y=d.charCodeAt(h))==34?m=!m:!m&&y in r&&(A[y]=(A[y]||0)+1);y=[];for(h in A)Object.prototype.hasOwnProperty.call(A,h)&&y.push([A[h],h]);if(!y.length){A=a;for(h in A)Object.prototype.hasOwnProperty.call(A,h)&&y.push([A[h],h])}return y.sort(function(x,v){return x[0]-v[0]||a[x[1]]-a[v[1]]}),r[y.pop()[1]]||44}function i(d,A){var m=A||{},h="",y=m.dense?[]:{},x={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(h=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(h=d.charAt(4),d=d.slice(6)):h=s(d.slice(0,1024)):m&&m.FS?h=m.FS:h=s(d.slice(0,1024));var v=0,b=0,j=0,C=0,E=0,k=h.charCodeAt(0),D=!1,L=0,F=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var Q=m.dateNF!=null?yre(m.dateNF):null;function U(){var P=d.slice(C,E),I={};if(P.charAt(0)=='"'&&P.charAt(P.length-1)=='"'&&(P=P.slice(1,-1).replace(/""/g,'"')),P.length===0)I.t="z";else if(m.raw)I.t="s",I.v=P;else if(P.trim().length===0)I.t="s",I.v=P;else if(P.charCodeAt(0)==61)P.charCodeAt(1)==34&&P.charCodeAt(P.length-1)==34?(I.t="s",I.v=P.slice(2,-1).replace(/""/g,'"')):tse(P)?(I.t="n",I.f=P.slice(1)):(I.t="s",I.v=P);else if(P=="TRUE")I.t="b",I.v=!0;else if(P=="FALSE")I.t="b",I.v=!1;else if(!isNaN(j=zA(P)))I.t="n",m.cellText!==!1&&(I.w=P),I.v=j;else if(!isNaN(tv(P).getDate())||Q&&P.match(Q)){I.z=m.dateNF||yo[14];var z=0;Q&&P.match(Q)&&(P=vre(P,m.dateNF,P.match(Q)||[]),z=1),m.cellDates?(I.t="d",I.v=Nd(P,z)):(I.t="n",I.v=Wd(Nd(P,z))),m.cellText!==!1&&(I.w=u0(I.z,I.v instanceof Date?Wd(I.v):I.v)),m.cellNF||delete I.z}else I.t="s",I.v=P;if(I.t=="z"||(m.dense?(y[v]||(y[v]=[]),y[v][b]=I):y[Ps({c:b,r:v})]=I),C=E+1,F=d.charCodeAt(C),x.e.c<b&&(x.e.c=b),x.e.r<v&&(x.e.r=v),L==k)++b;else if(b=0,++v,m.sheetRows&&m.sheetRows<=v)return!0}e:for(;E<d.length;++E)switch(L=d.charCodeAt(E)){case 34:F===34&&(D=!D);break;case k:case 10:case 13:if(!D&&U())break e;break}return E-C>0&&U(),y["!ref"]=tl(x),y}function o(d,A){return!(A&&A.PRN)||A.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?i(d,A):Kx(t(d,A),A)}function l(d,A){var m="",h=A.type=="string"?[0,0,0,0]:mce(d,A);switch(A.type){case"base64":m=YA(d);break;case"binary":m=d;break;case"buffer":A.codepage==65001?m=d.toString("utf8"):A.codepage&&typeof Ow<"u"||(m=ls&&Buffer.isBuffer(d)?d.toString("binary"):Rv(d));break;case"array":m=A5(d);break;case"string":m=d;break;default:throw new Error("Unrecognized type "+A.type)}return h[0]==239&&h[1]==187&&h[2]==191?m=jy(m.slice(3)):A.type!="string"&&A.type!="buffer"&&A.codepage==65001?m=jy(m):A.type=="binary"&&typeof Ow<"u",m.slice(0,19)=="socialcalc:version:"?J9.to_sheet(A.type=="string"?m:jy(m),A):o(m,A)}function c(d,A){return Zp(l(d,A),A)}function u(d){for(var A=[],m=Ei(d["!ref"]),h,y=Array.isArray(d),x=m.s.r;x<=m.e.r;++x){for(var v=[],b=m.s.c;b<=m.e.c;++b){var j=Ps({r:x,c:b});if(h=y?(d[x]||[])[b]:d[j],!h||h.v==null){v.push("          ");continue}for(var C=(h.w||(XA(h),h.w)||"").slice(0,10);C.length<10;)C+=" ";v.push(C+(b===0?" ":""))}A.push(v.join(""))}return A.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}})(),Fk=(function(){function e(B,R,G){if(B){Su(B,B.l||0);for(var ne=G.Enum||de;B.l<B.length;){var pe=B.read_shift(2),xe=ne[pe]||ne[65535],Ae=B.read_shift(2),Y=B.l+Ae,se=xe.f&&xe.f(B,Ae,G);if(B.l=Y,R(se,xe,pe))return}}}function t(B,R){switch(R.type){case"base64":return r(Yf(YA(B)),R);case"binary":return r(Yf(B),R);case"buffer":case"array":return r(B,R)}throw"Unsupported type "+R.type}function r(B,R){if(!B)return B;var G=R||{},ne=G.dense?[]:{},pe="Sheet1",xe="",Ae=0,Y={},se=[],ee=[],be={s:{r:0,c:0},e:{r:0,c:0}},Ce=G.sheetRows||0;if(B[2]==0&&(B[3]==8||B[3]==9)&&B.length>=16&&B[14]==5&&B[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(B[2]==2)G.Enum=de,e(B,function(Je,Ke,Fe){switch(Fe){case 0:G.vers=Je,Je>=4096&&(G.qpro=!0);break;case 6:be=Je;break;case 204:Je&&(xe=Je);break;case 222:xe=Je;break;case 15:case 51:G.qpro||(Je[1].v=Je[1].v.slice(1));case 13:case 14:case 16:Fe==14&&(Je[2]&112)==112&&(Je[2]&15)>1&&(Je[2]&15)<15&&(Je[1].z=G.dateNF||yo[14],G.cellDates&&(Je[1].t="d",Je[1].v=m9(Je[1].v))),G.qpro&&Je[3]>Ae&&(ne["!ref"]=tl(be),Y[pe]=ne,se.push(pe),ne=G.dense?[]:{},be={s:{r:0,c:0},e:{r:0,c:0}},Ae=Je[3],pe=xe||"Sheet"+(Ae+1),xe="");var nt=G.dense?(ne[Je[0].r]||[])[Je[0].c]:ne[Ps(Je[0])];if(nt){nt.t=Je[1].t,nt.v=Je[1].v,Je[1].z!=null&&(nt.z=Je[1].z),Je[1].f!=null&&(nt.f=Je[1].f);break}G.dense?(ne[Je[0].r]||(ne[Je[0].r]=[]),ne[Je[0].r][Je[0].c]=Je[1]):ne[Ps(Je[0])]=Je[1];break}},G);else if(B[2]==26||B[2]==14)G.Enum=ve,B[2]==14&&(G.qpro=!0,B.l=0),e(B,function(Je,Ke,Fe){switch(Fe){case 204:pe=Je;break;case 22:Je[1].v=Je[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Je[3]>Ae&&(ne["!ref"]=tl(be),Y[pe]=ne,se.push(pe),ne=G.dense?[]:{},be={s:{r:0,c:0},e:{r:0,c:0}},Ae=Je[3],pe="Sheet"+(Ae+1)),Ce>0&&Je[0].r>=Ce)break;G.dense?(ne[Je[0].r]||(ne[Je[0].r]=[]),ne[Je[0].r][Je[0].c]=Je[1]):ne[Ps(Je[0])]=Je[1],be.e.c<Je[0].c&&(be.e.c=Je[0].c),be.e.r<Je[0].r&&(be.e.r=Je[0].r);break;case 27:Je[14e3]&&(ee[Je[14e3][0]]=Je[14e3][1]);break;case 1537:ee[Je[0]]=Je[1],Je[0]==Ae&&(pe=Je[1]);break}},G);else throw new Error("Unrecognized LOTUS BOF "+B[2]);if(ne["!ref"]=tl(be),Y[xe||pe]=ne,se.push(xe||pe),!ee.length)return{SheetNames:se,Sheets:Y};for(var ce={},J=[],ge=0;ge<ee.length;++ge)Y[se[ge]]?(J.push(ee[ge]||se[ge]),ce[ee[ge]]=Y[ee[ge]]||Y[se[ge]]):(J.push(ee[ge]),ce[ee[ge]]={"!ref":"A1"});return{SheetNames:J,Sheets:ce}}function a(B,R){var G=R||{};if(+G.codepage>=0&&Zy(+G.codepage),G.type=="string")throw new Error("Cannot write WK1 to JS string");var ne=Gd(),pe=Ei(B["!ref"]),xe=Array.isArray(B),Ae=[];Or(ne,0,i(1030)),Or(ne,6,c(pe));for(var Y=Math.min(pe.e.r,8191),se=pe.s.r;se<=Y;++se)for(var ee=Ac(se),be=pe.s.c;be<=pe.e.c;++be){se===pe.s.r&&(Ae[be]=Jc(be));var Ce=Ae[be]+ee,ce=xe?(B[se]||[])[be]:B[Ce];if(!(!ce||ce.t=="z"))if(ce.t=="n")(ce.v|0)==ce.v&&ce.v>=-32768&&ce.v<=32767?Or(ne,13,h(se,be,ce.v)):Or(ne,14,x(se,be,ce.v));else{var J=XA(ce);Or(ne,15,A(se,be,J.slice(0,239)))}}return Or(ne,1),ne.end()}function s(B,R){var G=R||{};if(+G.codepage>=0&&Zy(+G.codepage),G.type=="string")throw new Error("Cannot write WK3 to JS string");var ne=Gd();Or(ne,0,o(B));for(var pe=0,xe=0;pe<B.SheetNames.length;++pe)(B.Sheets[B.SheetNames[pe]]||{})["!ref"]&&Or(ne,27,he(B.SheetNames[pe],xe++));var Ae=0;for(pe=0;pe<B.SheetNames.length;++pe){var Y=B.Sheets[B.SheetNames[pe]];if(!(!Y||!Y["!ref"])){for(var se=Ei(Y["!ref"]),ee=Array.isArray(Y),be=[],Ce=Math.min(se.e.r,8191),ce=se.s.r;ce<=Ce;++ce)for(var J=Ac(ce),ge=se.s.c;ge<=se.e.c;++ge){ce===se.s.r&&(be[ge]=Jc(ge));var Je=be[ge]+J,Ke=ee?(Y[ce]||[])[ge]:Y[Je];if(!(!Ke||Ke.t=="z"))if(Ke.t=="n")Or(ne,23,U(ce,ge,Ae,Ke.v));else{var Fe=XA(Ke);Or(ne,22,L(ce,ge,Ae,Fe.slice(0,239)))}}++Ae}}return Or(ne,1),ne.end()}function i(B){var R=ur(2);return R.write_shift(2,B),R}function o(B){var R=ur(26);R.write_shift(2,4096),R.write_shift(2,4),R.write_shift(4,0);for(var G=0,ne=0,pe=0,xe=0;xe<B.SheetNames.length;++xe){var Ae=B.SheetNames[xe],Y=B.Sheets[Ae];if(!(!Y||!Y["!ref"])){++pe;var se=Pu(Y["!ref"]);G<se.e.r&&(G=se.e.r),ne<se.e.c&&(ne=se.e.c)}}return G>8191&&(G=8191),R.write_shift(2,G),R.write_shift(1,pe),R.write_shift(1,ne),R.write_shift(2,0),R.write_shift(2,0),R.write_shift(1,1),R.write_shift(1,2),R.write_shift(4,0),R.write_shift(4,0),R}function l(B,R,G){var ne={s:{c:0,r:0},e:{c:0,r:0}};return R==8&&G.qpro?(ne.s.c=B.read_shift(1),B.l++,ne.s.r=B.read_shift(2),ne.e.c=B.read_shift(1),B.l++,ne.e.r=B.read_shift(2),ne):(ne.s.c=B.read_shift(2),ne.s.r=B.read_shift(2),R==12&&G.qpro&&(B.l+=2),ne.e.c=B.read_shift(2),ne.e.r=B.read_shift(2),R==12&&G.qpro&&(B.l+=2),ne.s.c==65535&&(ne.s.c=ne.e.c=ne.s.r=ne.e.r=0),ne)}function c(B){var R=ur(8);return R.write_shift(2,B.s.c),R.write_shift(2,B.s.r),R.write_shift(2,B.e.c),R.write_shift(2,B.e.r),R}function u(B,R,G){var ne=[{c:0,r:0},{t:"n",v:0},0,0];return G.qpro&&G.vers!=20768?(ne[0].c=B.read_shift(1),ne[3]=B.read_shift(1),ne[0].r=B.read_shift(2),B.l+=2):(ne[2]=B.read_shift(1),ne[0].c=B.read_shift(2),ne[0].r=B.read_shift(2)),ne}function d(B,R,G){var ne=B.l+R,pe=u(B,R,G);if(pe[1].t="s",G.vers==20768){B.l++;var xe=B.read_shift(1);return pe[1].v=B.read_shift(xe,"utf8"),pe}return G.qpro&&B.l++,pe[1].v=B.read_shift(ne-B.l,"cstr"),pe}function A(B,R,G){var ne=ur(7+G.length);ne.write_shift(1,255),ne.write_shift(2,R),ne.write_shift(2,B),ne.write_shift(1,39);for(var pe=0;pe<ne.length;++pe){var xe=G.charCodeAt(pe);ne.write_shift(1,xe>=128?95:xe)}return ne.write_shift(1,0),ne}function m(B,R,G){var ne=u(B,R,G);return ne[1].v=B.read_shift(2,"i"),ne}function h(B,R,G){var ne=ur(7);return ne.write_shift(1,255),ne.write_shift(2,R),ne.write_shift(2,B),ne.write_shift(2,G,"i"),ne}function y(B,R,G){var ne=u(B,R,G);return ne[1].v=B.read_shift(8,"f"),ne}function x(B,R,G){var ne=ur(13);return ne.write_shift(1,255),ne.write_shift(2,R),ne.write_shift(2,B),ne.write_shift(8,G,"f"),ne}function v(B,R,G){var ne=B.l+R,pe=u(B,R,G);if(pe[1].v=B.read_shift(8,"f"),G.qpro)B.l=ne;else{var xe=B.read_shift(2);E(B.slice(B.l,B.l+xe),pe),B.l+=xe}return pe}function b(B,R,G){var ne=R&32768;return R&=-32769,R=(ne?B:0)+(R>=8192?R-16384:R),(ne?"":"$")+(G?Jc(R):Ac(R))}var j={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},C=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function E(B,R){Su(B,0);for(var G=[],ne=0,pe="",xe="",Ae="",Y="";B.l<B.length;){var se=B[B.l++];switch(se){case 0:G.push(B.read_shift(8,"f"));break;case 1:xe=b(R[0].c,B.read_shift(2),!0),pe=b(R[0].r,B.read_shift(2),!1),G.push(xe+pe);break;case 2:{var ee=b(R[0].c,B.read_shift(2),!0),be=b(R[0].r,B.read_shift(2),!1);xe=b(R[0].c,B.read_shift(2),!0),pe=b(R[0].r,B.read_shift(2),!1),G.push(ee+be+":"+xe+pe)}break;case 3:if(B.l<B.length){console.error("WK1 premature formula end");return}break;case 4:G.push("("+G.pop()+")");break;case 5:G.push(B.read_shift(2));break;case 6:{for(var Ce="";se=B[B.l++];)Ce+=String.fromCharCode(se);G.push('"'+Ce.replace(/"/g,'""')+'"')}break;case 8:G.push("-"+G.pop());break;case 23:G.push("+"+G.pop());break;case 22:G.push("NOT("+G.pop()+")");break;case 20:case 21:Y=G.pop(),Ae=G.pop(),G.push(["AND","OR"][se-20]+"("+Ae+","+Y+")");break;default:if(se<32&&C[se])Y=G.pop(),Ae=G.pop(),G.push(Ae+C[se]+Y);else if(j[se]){if(ne=j[se][1],ne==69&&(ne=B[B.l++]),ne>G.length){console.error("WK1 bad formula parse 0x"+se.toString(16)+":|"+G.join("|")+"|");return}var ce=G.slice(-ne);G.length-=ne,G.push(j[se][0]+"("+ce.join(",")+")")}else return se<=7?console.error("WK1 invalid opcode "+se.toString(16)):se<=24?console.error("WK1 unsupported op "+se.toString(16)):se<=30?console.error("WK1 invalid opcode "+se.toString(16)):se<=115?console.error("WK1 unsupported function opcode "+se.toString(16)):console.error("WK1 unrecognized opcode "+se.toString(16))}}G.length==1?R[1].f=""+G[0]:console.error("WK1 bad formula parse |"+G.join("|")+"|")}function k(B){var R=[{c:0,r:0},{t:"n",v:0},0];return R[0].r=B.read_shift(2),R[3]=B[B.l++],R[0].c=B[B.l++],R}function D(B,R){var G=k(B);return G[1].t="s",G[1].v=B.read_shift(R-4,"cstr"),G}function L(B,R,G,ne){var pe=ur(6+ne.length);pe.write_shift(2,B),pe.write_shift(1,G),pe.write_shift(1,R),pe.write_shift(1,39);for(var xe=0;xe<ne.length;++xe){var Ae=ne.charCodeAt(xe);pe.write_shift(1,Ae>=128?95:Ae)}return pe.write_shift(1,0),pe}function F(B,R){var G=k(B);G[1].v=B.read_shift(2);var ne=G[1].v>>1;if(G[1].v&1)switch(ne&7){case 0:ne=(ne>>3)*5e3;break;case 1:ne=(ne>>3)*500;break;case 2:ne=(ne>>3)/20;break;case 3:ne=(ne>>3)/200;break;case 4:ne=(ne>>3)/2e3;break;case 5:ne=(ne>>3)/2e4;break;case 6:ne=(ne>>3)/16;break;case 7:ne=(ne>>3)/64;break}return G[1].v=ne,G}function Q(B,R){var G=k(B),ne=B.read_shift(4),pe=B.read_shift(4),xe=B.read_shift(2);if(xe==65535)return ne===0&&pe===3221225472?(G[1].t="e",G[1].v=15):ne===0&&pe===3489660928?(G[1].t="e",G[1].v=42):G[1].v=0,G;var Ae=xe&32768;return xe=(xe&32767)-16446,G[1].v=(1-Ae*2)*(pe*Math.pow(2,xe+32)+ne*Math.pow(2,xe)),G}function U(B,R,G,ne){var pe=ur(14);if(pe.write_shift(2,B),pe.write_shift(1,G),pe.write_shift(1,R),ne==0)return pe.write_shift(4,0),pe.write_shift(4,0),pe.write_shift(2,65535),pe;var xe=0,Ae=0,Y=0,se=0;return ne<0&&(xe=1,ne=-ne),Ae=Math.log2(ne)|0,ne/=Math.pow(2,Ae-31),se=ne>>>0,(se&2147483648)==0&&(ne/=2,++Ae,se=ne>>>0),ne-=se,se|=2147483648,se>>>=0,ne*=Math.pow(2,32),Y=ne>>>0,pe.write_shift(4,Y),pe.write_shift(4,se),Ae+=16383+(xe?32768:0),pe.write_shift(2,Ae),pe}function P(B,R){var G=Q(B);return B.l+=R-14,G}function I(B,R){var G=k(B),ne=B.read_shift(4);return G[1].v=ne>>6,G}function z(B,R){var G=k(B),ne=B.read_shift(8,"f");return G[1].v=ne,G}function W(B,R){var G=z(B);return B.l+=R-10,G}function ie(B,R){return B[B.l+R-1]==0?B.read_shift(R,"cstr"):""}function X(B,R){var G=B[B.l++];G>R-1&&(G=R-1);for(var ne="";ne.length<G;)ne+=String.fromCharCode(B[B.l++]);return ne}function le(B,R,G){if(!(!G.qpro||R<21)){var ne=B.read_shift(1);B.l+=17,B.l+=1,B.l+=2;var pe=B.read_shift(R-21,"cstr");return[ne,pe]}}function re(B,R){for(var G={},ne=B.l+R;B.l<ne;){var pe=B.read_shift(2);if(pe==14e3){for(G[pe]=[0,""],G[pe][0]=B.read_shift(2);B[B.l];)G[pe][1]+=String.fromCharCode(B[B.l]),B.l++;B.l++}}return G}function he(B,R){var G=ur(5+B.length);G.write_shift(2,14e3),G.write_shift(2,R);for(var ne=0;ne<B.length;++ne){var pe=B.charCodeAt(ne);G[G.l++]=pe>127?95:pe}return G[G.l++]=0,G}var de={0:{n:"BOF",f:K9},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:y},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ie},222:{n:"SHEETNAMELP",f:X},65535:{n:""}},ve={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:D},23:{n:"NUMBER17",f:Q},24:{n:"NUMBER18",f:F},25:{n:"FORMULA19",f:P},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:re},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:I},38:{n:"??"},39:{n:"NUMBER27",f:z},40:{n:"FORMULA28",f:W},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ie},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:le},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:a,book_to_wk3:s,to_workbook:t}})(),nne=/^\s|\s$|[\t\n\r]/;function Z9(e,t){if(!t.bookSST)return"";var r=[nl];r[r.length]=Ir("sst",null,{xmlns:qx[0],count:e.Count,uniqueCount:e.Unique});for(var a=0;a!=e.length;++a)if(e[a]!=null){var s=e[a],i="<si>";s.r?i+=s.r:(i+="<t",s.t||(s.t=""),s.t.match(nne)&&(i+=' xml:space="preserve"'),i+=">"+Is(s.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function sne(e){return[e.read_shift(4),e.read_shift(4)]}function ine(e,t){return t||(t=ur(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var one=Xre;function lne(e){var t=Gd();vr(t,159,ine(e));for(var r=0;r<e.length;++r)vr(t,19,one(e[r]));return vr(t,160),t.end()}function cne(e){for(var t=[],r=e.split(""),a=0;a<r.length;++a)t[a]=r[a].charCodeAt(0);return t}function eQ(e){var t=0,r,a=cne(e),s=a.length+1,i,o,l,c,u;for(r=Up(s),r[0]=a.length,i=1;i!=s;++i)r[i]=a[i-1];for(i=s-1;i>=0;--i)o=r[i],l=(t&16384)===0?0:1,c=t<<1&32767,u=l|c,t=u^o;return t^52811}var dne=(function(){function e(s,i){switch(i.type){case"base64":return t(YA(s),i);case"binary":return t(s,i);case"buffer":return t(ls&&Buffer.isBuffer(s)?s.toString("binary"):Rv(s),i);case"array":return t(A5(s),i)}throw new Error("Unrecognized type "+i.type)}function t(s,i){var o=i||{},l=o.dense?[]:{},c=s.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,A){Array.isArray(l)&&(l[A]=[]);for(var m=/\\\w+\b/g,h=0,y,x=-1;y=m.exec(d);){switch(y[0]){case"\\cell":var v=d.slice(h,m.lastIndex-y[0].length);if(v[0]==" "&&(v=v.slice(1)),++x,v.length){var b={v,t:"s"};Array.isArray(l)?l[A][x]=b:l[Ps({r:A,c:x})]=b}break}h=m.lastIndex}x>u.e.c&&(u.e.c=x)}),l["!ref"]=tl(u),l}function r(s,i){return Zp(e(s,i),i)}function a(s){for(var i=["{\\rtf1\\ansi"],o=Ei(s["!ref"]),l,c=Array.isArray(s),u=o.s.r;u<=o.e.r;++u){i.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)i.push("\\cellx"+(d+1));for(i.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var A=Ps({r:u,c:d});l=c?(s[u]||[])[d]:s[A],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(XA(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:a}})();function _k(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var une=6,VA=une;function Vw(e){return Math.floor((e+Math.round(128/VA)/256)*VA)}function qw(e){return Math.floor((e-5)/VA*100+.5)/100}function QC(e){return Math.round((e*VA+5)/VA*256)/256}function yB(e){e.width?(e.wpx=Vw(e.width),e.wch=qw(e.wpx),e.MDW=VA):e.wpx?(e.wch=qw(e.wpx),e.width=QC(e.wch),e.MDW=VA):typeof e.wch=="number"&&(e.width=QC(e.wch),e.wpx=Vw(e.width),e.MDW=VA),e.customWidth&&delete e.customWidth}var fne=96,tQ=fne;function Kw(e){return e*96/tQ}function rQ(e){return e*tQ/96}function hne(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)e[a]!=null&&(t[t.length]=Ir("numFmt",null,{numFmtId:a,formatCode:Is(e[a])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Ir("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function Ane(e){var t=[];return t[t.length]=Ir("cellXfs",null),e.forEach(function(r){t[t.length]=Ir("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Ir("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function aQ(e,t){var r=[nl,Ir("styleSheet",null,{xmlns:qx[0],"xmlns:vt":Dl.vt})],a;return e.SSF&&(a=hne(e.SSF))!=null&&(r[r.length]=a),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(a=Ane(t.cellXfs))&&(r[r.length]=a),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function mne(e,t){var r=e.read_shift(2),a=Zc(e);return[r,a]}function pne(e,t,r){r||(r=ur(6+4*t.length)),r.write_shift(2,e),Ul(t,r);var a=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),a}function gne(e,t,r){var a={};a.sz=e.read_shift(2)/20;var s=nae(e);s.fItalic&&(a.italic=1),s.fCondense&&(a.condense=1),s.fExtend&&(a.extend=1),s.fShadow&&(a.shadow=1),s.fOutline&&(a.outline=1),s.fStrikeout&&(a.strike=1);var i=e.read_shift(2);switch(i===700&&(a.bold=1),e.read_shift(2)){case 1:a.vertAlign="superscript";break;case 2:a.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(a.underline=o);var l=e.read_shift(1);l>0&&(a.family=l);var c=e.read_shift(1);switch(c>0&&(a.charset=c),e.l++,a.color=aae(e),e.read_shift(1)){case 1:a.scheme="major";break;case 2:a.scheme="minor";break}return a.name=Zc(e),a}function xne(e,t){t||(t=ur(153)),t.write_shift(2,e.sz*20),sae(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),$w(e.color,t);var a=0;return a=2,t.write_shift(1,a),Ul(e.name,t),t.length>t.l?t.slice(0,t.l):t}var yne=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Aj,vne=Zh;function kk(e,t){t||(t=ur(84)),Aj||(Aj=oB(yne));var r=Aj[e.patternType];r==null&&(r=40),t.write_shift(4,r);var a=0;if(r!=40)for($w({auto:1},t),$w({auto:1},t);a<12;++a)t.write_shift(4,0);else{for(;a<4;++a)t.write_shift(4,0);for(;a<12;++a)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function bne(e,t){var r=e.l+t,a=e.read_shift(2),s=e.read_shift(2);return e.l=r,{ixfe:a,numFmtId:s}}function nQ(e,t,r){r||(r=ur(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var a=0;return r.write_shift(1,a),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function J1(e,t){return t||(t=ur(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var wne=Zh;function Nne(e,t){return t||(t=ur(51)),t.write_shift(1,0),J1(null,t),J1(null,t),J1(null,t),J1(null,t),J1(null,t),t.length>t.l?t.slice(0,t.l):t}function jne(e,t){return t||(t=ur(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),Hw(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function Sne(e,t,r){var a=ur(2052);return a.write_shift(4,e),Hw(t,a),Hw(r,a),a.length>a.l?a.slice(0,a.l):a}function Cne(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var s=a[0];s<=a[1];++s)t[s]!=null&&++r}),r!=0&&(vr(e,615,nh(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var s=a[0];s<=a[1];++s)t[s]!=null&&vr(e,44,pne(s,t[s]))}),vr(e,616))}}function Ene(e){var t=1;vr(e,611,nh(t)),vr(e,43,xne({sz:12,color:{theme:1},name:"Calibri",family:2})),vr(e,612)}function Bne(e){var t=2;vr(e,603,nh(t)),vr(e,45,kk({patternType:"none"})),vr(e,45,kk({patternType:"gray125"})),vr(e,604)}function Tne(e){var t=1;vr(e,613,nh(t)),vr(e,46,Nne()),vr(e,614)}function Fne(e){var t=1;vr(e,626,nh(t)),vr(e,47,nQ({numFmtId:0},65535)),vr(e,627)}function _ne(e,t){vr(e,617,nh(t.length)),t.forEach(function(r){vr(e,47,nQ(r,0))}),vr(e,618)}function kne(e){var t=1;vr(e,619,nh(t)),vr(e,48,jne({xfId:0,name:"Normal"})),vr(e,620)}function Ine(e){var t=0;vr(e,505,nh(t)),vr(e,506)}function Pne(e){var t=0;vr(e,508,Sne(t,"TableStyleMedium9","PivotStyleMedium4")),vr(e,509)}function Lne(e,t){var r=Gd();return vr(r,278),Cne(r,e.SSF),Ene(r),Bne(r),Tne(r),Fne(r),_ne(r,t.cellXfs),kne(r),Ine(r),Pne(r),vr(r,279),r.end()}function sQ(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[nl];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function One(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Zc(e)}}function Dne(e){var t=ur(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Ul(e.name,t),t.slice(0,t.l)}function Mne(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Une(e){var t=ur(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function Rne(e,t){var r=ur(8+2*t.length);return r.write_shift(4,e),Ul(t,r),r.slice(0,r.l)}function Qne(e){return e.l+=4,e.read_shift(4)!=0}function Hne(e,t){var r=ur(8);return r.write_shift(4,e),r.write_shift(4,1),r}function $ne(){var e=Gd();return vr(e,332),vr(e,334,nh(1)),vr(e,335,Dne({name:"XLDAPR",version:12e4,flags:3496657072})),vr(e,336),vr(e,339,Rne(1,"XLDAPR")),vr(e,52),vr(e,35,nh(514)),vr(e,4096,nh(0)),vr(e,4097,of(1)),vr(e,36),vr(e,53),vr(e,340),vr(e,337,Hne(1)),vr(e,51,Une([[1,0]])),vr(e,338),vr(e,333),e.end()}function iQ(){var e=[nl];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function zne(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Ps(r);var a=e.read_shift(1);return a&2&&(t.l="1"),a&8&&(t.a="1"),t}var Xg=1024;function oQ(e,t){for(var r=[21600,21600],a=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),s=[Ir("xml",null,{"xmlns:v":Tu.v,"xmlns:o":Tu.o,"xmlns:x":Tu.x,"xmlns:mv":Tu.mv}).replace(/\/>/,">"),Ir("o:shapelayout",Ir("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Ir("v:shapetype",[Ir("v:stroke",null,{joinstyle:"miter"}),Ir("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:a})];Xg<e*1e3;)Xg+=1e3;return t.forEach(function(i){var o=Ml(i[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?Ir("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=Ir("v:fill",c,l),d={on:"t",obscured:"t"};++Xg,s=s.concat(["<v:shape"+av({id:"_x0000_s"+Xg,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,Ir("v:shadow",null,d),Ir("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",hc("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),hc("x:AutoFill","False"),hc("x:Row",String(o.r)),hc("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function lQ(e){var t=[nl,Ir("comments",null,{xmlns:qx[0]})],r=[];return t.push("<authors>"),e.forEach(function(a){a[1].forEach(function(s){var i=Is(s.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),s.T&&s.ID&&r.indexOf("tc="+s.ID)==-1&&(r.push("tc="+s.ID),t.push("<author>tc="+s.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(a){var s=0,i=[];if(a[1][0]&&a[1][0].T&&a[1][0].ID?s=r.indexOf("tc="+a[1][0].ID):a[1].forEach(function(c){c.a&&(s=r.indexOf(Is(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+a[0]+'" authorId="'+s+'"><text>'),i.length<=1)t.push(hc("t",Is(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,l=1;l<i.length;++l)o+=`Reply:
    `+i[l]+`
`;t.push(hc("t",Is(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function Vne(e,t,r){var a=[nl,Ir("ThreadedComments",null,{xmlns:Dl.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(s){var i="";(s[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var c={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?i=c.id:c.parentId=i,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),a.push(Ir("threadedComment",hc("text",o.t||""),c))})}),a.push("</ThreadedComments>"),a.join("")}function qne(e){var t=[nl,Ir("personList",null,{xmlns:Dl.TCMNT,"xmlns:x":qx[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,a){t.push(Ir("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+a).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function Kne(e){var t={};t.iauthor=e.read_shift(4);var r=ag(e);return t.rfx=r.s,t.ref=Ps(r.s),e.l+=16,t}function Gne(e,t){return t==null&&(t=ur(36)),t.write_shift(4,e[1].iauthor),Gx(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var Wne=Zc;function Yne(e){return Ul(e.slice(0,54))}function Xne(e){var t=Gd(),r=[];return vr(t,628),vr(t,630),e.forEach(function(a){a[1].forEach(function(s){r.indexOf(s.a)>-1||(r.push(s.a.slice(0,54)),vr(t,632,Yne(s.a)))})}),vr(t,631),vr(t,633),e.forEach(function(a){a[1].forEach(function(s){s.iauthor=r.indexOf(s.a);var i={s:Ml(a[0]),e:Ml(a[0])};vr(t,635,Gne([i,s])),s.t&&s.t.length>0&&vr(t,637,Zre(s)),vr(t,636),delete s.iauthor})}),vr(t,634),vr(t,629),t.end()}function Jne(e,t){t.FullPaths.forEach(function(r,a){if(a!=0){var s=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");s.slice(-1)!=="/"&&zs.utils.cfb_add(e,s,t.FileIndex[a].content)}})}var cQ=["xlsb","xlsm","xlam","biff8","xla"],Zne=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(a,s,i,o){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,d=o.length>0?parseInt(o,10)|0:0;return l?d+=t.c:--d,c?u+=t.r:--u,s+(l?"":"$")+Jc(d)+(c?"":"$")+Ac(u)}return function(s,i){return t=i,s.replace(e,r)}})(),vB=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,bB=(function(){return function(t,r){return t.replace(vB,function(a,s,i,o,l,c){var u=AB(o)-(i?0:r.c),d=hB(c)-(l?0:r.r),A=d==0?"":l?d+1:"["+d+"]",m=u==0?"":i?u+1:"["+u+"]";return s+"R"+A+"C"+m})}})();function ese(e,t){return e.replace(vB,function(r,a,s,i,o,l){return a+(s=="$"?s+i:Jc(AB(i)+t.c))+(o=="$"?o+l:Ac(hB(l)+t.r))})}function tse(e){return e.length!=1}function Jo(e){e.l+=1}function f0(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function dQ(e,t,r){var a=2;if(r){if(r.biff>=2&&r.biff<=5)return uQ(e);r.biff==12&&(a=4)}var s=e.read_shift(a),i=e.read_shift(a),o=f0(e),l=f0(e);return{s:{r:s,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function uQ(e){var t=f0(e),r=f0(e),a=e.read_shift(1),s=e.read_shift(1);return{s:{r:t[0],c:a,cRel:t[1],rRel:t[2]},e:{r:r[0],c:s,cRel:r[1],rRel:r[2]}}}function rse(e,t,r){if(r.biff<8)return uQ(e);var a=e.read_shift(r.biff==12?4:2),s=e.read_shift(r.biff==12?4:2),i=f0(e),o=f0(e);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function fQ(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return ase(e);var a=e.read_shift(r&&r.biff==12?4:2),s=f0(e);return{r:a,c:s[0],cRel:s[1],rRel:s[2]}}function ase(e){var t=f0(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function nse(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function sse(e,t,r){var a=r&&r.biff?r.biff:8;if(a>=2&&a<=5)return ise(e);var s=e.read_shift(a>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;s>524287;)s-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:s,c:i,cRel:o,rRel:l}}function ise(e){var t=e.read_shift(2),r=e.read_shift(1),a=(t&32768)>>15,s=(t&16384)>>14;return t&=16383,a==1&&t>=8192&&(t=t-16384),s==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:s,rRel:a}}function ose(e,t,r){var a=(e[e.l++]&96)>>5,s=dQ(e,r.biff>=2&&r.biff<=5?6:8,r);return[a,s]}function lse(e,t,r){var a=(e[e.l++]&96)>>5,s=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=dQ(e,i,r);return[a,s,o]}function cse(e,t,r){var a=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[a]}function dse(e,t,r){var a=(e[e.l++]&96)>>5,s=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[a,s]}function use(e,t,r){var a=(e[e.l++]&96)>>5,s=rse(e,t-1,r);return[a,s]}function fse(e,t,r){var a=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[a]}function Ik(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function hse(e,t,r){e.l+=2;for(var a=e.read_shift(r&&r.biff==2?1:2),s=[],i=0;i<=a;++i)s.push(e.read_shift(r&&r.biff==2?1:2));return s}function Ase(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(r&&r.biff==2?1:2)]}function mse(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(r&&r.biff==2?1:2)]}function pse(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function gse(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[a]}function hQ(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function xse(e){return e.read_shift(2),hQ(e)}function yse(e){return e.read_shift(2),hQ(e)}function vse(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var s=fQ(e,0,r);return[a,s]}function bse(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var s=sse(e,0,r);return[a,s]}function wse(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=fQ(e,0,r);return[a,s,i]}function Nse(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(r&&r.biff<=3?1:2);return[Nie[s],pQ[s],a]}function jse(e,t,r){var a=e[e.l++],s=e.read_shift(1),i=r&&r.biff<=3?[a==88?-1:0,e.read_shift(1)]:Sse(e);return[s,(i[0]===0?pQ:wie)[i[1]]]}function Sse(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Cse(e,t,r){e.l+=r&&r.biff==2?3:4}function Ese(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var a=e.read_shift(2),s=e.read_shift(r&&r.biff==2?1:2);return[a,s]}function Bse(e){return e.l++,$v[e.read_shift(1)]}function Tse(e){return e.l++,e.read_shift(2)}function Fse(e){return e.l++,e.read_shift(1)!==0}function _se(e){return e.l++,Wx(e)}function kse(e,t,r){return e.l++,W9(e,t-1,r)}function Ise(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=wae(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=$v[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Wx(e);break;case 2:r[1]=Cae(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Pse(e,t,r){for(var a=e.read_shift(r.biff==12?4:2),s=[],i=0;i!=a;++i)s.push((r.biff==12?ag:Tae)(e));return s}function Lse(e,t,r){var a=0,s=0;r.biff==12?(a=e.read_shift(4),s=e.read_shift(4)):(s=1+e.read_shift(1),a=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--a,--s==0&&(s=256));for(var i=0,o=[];i!=a&&(o[i]=[]);++i)for(var l=0;l!=s;++l)o[i][l]=Ise(e,r.biff);return o}function Ose(e,t,r){var a=e.read_shift(1)>>>5&3,s=!r||r.biff>=8?4:2,i=e.read_shift(s);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[a,0,i]}function Dse(e,t,r){if(r.biff==5)return Mse(e);var a=e.read_shift(1)>>>5&3,s=e.read_shift(2),i=e.read_shift(4);return[a,s,i]}function Mse(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var a=e.read_shift(2);return e.l+=12,[t,r,a]}function Use(e,t,r){var a=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var s=e.read_shift(r&&r.biff==2?1:2);return[a,s]}function Rse(e,t,r){var a=e.read_shift(1)>>>5&3,s=e.read_shift(r&&r.biff==2?1:2);return[a,s]}function Qse(e,t,r){var a=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[a]}function Hse(e,t,r){var a=(e[e.l++]&96)>>5,s=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[a,s]}var $se=Zh,zse=Zh,Vse=Zh;function zv(e,t,r){return e.l+=2,[nse(e)]}function wB(e){return e.l+=6,[]}var qse=zv,Kse=wB,Gse=wB,Wse=zv;function AQ(e){return e.l+=2,[K9(e),e.read_shift(2)&1]}var Yse=zv,Xse=AQ,Jse=wB,Zse=zv,eie=zv,tie=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function rie(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(4),s=e.read_shift(2),i=e.read_shift(2),o=tie[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:a,c:s,C:i}}function aie(e){return e.l+=2,[e.read_shift(4)]}function nie(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function sie(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function iie(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function oie(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function lie(e){return e.l+=4,[0,0]}var Pk={1:{n:"PtgExp",f:Ese},2:{n:"PtgTbl",f:Vse},3:{n:"PtgAdd",f:Jo},4:{n:"PtgSub",f:Jo},5:{n:"PtgMul",f:Jo},6:{n:"PtgDiv",f:Jo},7:{n:"PtgPower",f:Jo},8:{n:"PtgConcat",f:Jo},9:{n:"PtgLt",f:Jo},10:{n:"PtgLe",f:Jo},11:{n:"PtgEq",f:Jo},12:{n:"PtgGe",f:Jo},13:{n:"PtgGt",f:Jo},14:{n:"PtgNe",f:Jo},15:{n:"PtgIsect",f:Jo},16:{n:"PtgUnion",f:Jo},17:{n:"PtgRange",f:Jo},18:{n:"PtgUplus",f:Jo},19:{n:"PtgUminus",f:Jo},20:{n:"PtgPercent",f:Jo},21:{n:"PtgParen",f:Jo},22:{n:"PtgMissArg",f:Jo},23:{n:"PtgStr",f:kse},26:{n:"PtgSheet",f:nie},27:{n:"PtgEndSheet",f:sie},28:{n:"PtgErr",f:Bse},29:{n:"PtgBool",f:Fse},30:{n:"PtgInt",f:Tse},31:{n:"PtgNum",f:_se},32:{n:"PtgArray",f:fse},33:{n:"PtgFunc",f:Nse},34:{n:"PtgFuncVar",f:jse},35:{n:"PtgName",f:Ose},36:{n:"PtgRef",f:vse},37:{n:"PtgArea",f:ose},38:{n:"PtgMemArea",f:Use},39:{n:"PtgMemErr",f:$se},40:{n:"PtgMemNoMem",f:zse},41:{n:"PtgMemFunc",f:Rse},42:{n:"PtgRefErr",f:Qse},43:{n:"PtgAreaErr",f:cse},44:{n:"PtgRefN",f:bse},45:{n:"PtgAreaN",f:use},46:{n:"PtgMemAreaN",f:iie},47:{n:"PtgMemNoMemN",f:oie},57:{n:"PtgNameX",f:Dse},58:{n:"PtgRef3d",f:wse},59:{n:"PtgArea3d",f:lse},60:{n:"PtgRefErr3d",f:Hse},61:{n:"PtgAreaErr3d",f:dse},255:{}},cie={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},die={1:{n:"PtgElfLel",f:AQ},2:{n:"PtgElfRw",f:Zse},3:{n:"PtgElfCol",f:qse},6:{n:"PtgElfRwV",f:eie},7:{n:"PtgElfColV",f:Wse},10:{n:"PtgElfRadical",f:Yse},11:{n:"PtgElfRadicalS",f:Jse},13:{n:"PtgElfColS",f:Kse},15:{n:"PtgElfColSV",f:Gse},16:{n:"PtgElfRadicalLel",f:Xse},25:{n:"PtgList",f:rie},29:{n:"PtgSxName",f:aie},255:{}},uie={0:{n:"PtgAttrNoop",f:lie},1:{n:"PtgAttrSemi",f:gse},2:{n:"PtgAttrIf",f:mse},4:{n:"PtgAttrChoose",f:hse},8:{n:"PtgAttrGoto",f:Ase},16:{n:"PtgAttrSum",f:Cse},32:{n:"PtgAttrBaxcel",f:Ik},33:{n:"PtgAttrBaxcel",f:Ik},64:{n:"PtgAttrSpace",f:xse},65:{n:"PtgAttrSpaceSemi",f:yse},128:{n:"PtgAttrIfError",f:pse},255:{}};function fie(e,t,r,a){if(a.biff<8)return Zh(e,t);for(var s=e.l+t,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=Lse(e,0,a),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=Pse(e,r[o][1],a),i.push(r[o][2]);break;case"PtgExp":a&&a.biff==12&&(r[o][1][1]=e.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=s-e.l,t!==0&&i.push(Zh(e,t)),i}function hie(e,t,r){for(var a=e.l+t,s,i,o=[];a!=e.l;)t=a-e.l,i=e[e.l],s=Pk[i]||Pk[cie[i]],(i===24||i===25)&&(s=(i===24?die:uie)[e[e.l+1]]),!s||!s.f?Zh(e,t):o.push([s.n,s.f(e,t,r)]);return o}function Aie(e){for(var t=[],r=0;r<e.length;++r){for(var a=e[r],s=[],i=0;i<a.length;++i){var o=a[i];if(o)switch(o[0]){case 2:s.push('"'+o[1].replace(/"/g,'""')+'"');break;default:s.push(o[1])}else s.push("")}t.push(s.join(","))}return t.join(";")}var mie={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function pie(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function mQ(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var a=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!a)return"SH33TJSERR1";var s="";if(r.biff>8)switch(e[a[0]][0]){case 357:return s=a[1]==-1?"#REF":e.SheetNames[a[1]],a[1]==a[2]?s:s+":"+e.SheetNames[a[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[a[0]][0];case 355:default:return"SH33TJSSRC"+e[a[0]][0]}switch(e[a[0]][0][0]){case 1025:return s=a[1]==-1?"#REF":e.SheetNames[a[1]]||"SH33TJSERR3",a[1]==a[2]?s:s+":"+e.SheetNames[a[2]];case 14849:return e[a[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[a[0]][0][3]?(s=a[1]==-1?"#REF":e[a[0]][0][3][a[1]]||"SH33TJSERR4",a[1]==a[2]?s:s+":"+e[a[0]][0][3][a[2]]):"SH33TJSERR2"}}function Lk(e,t,r){var a=mQ(e,t,r);return a=="#REF"?a:pie(a,r)}function Cx(e,t,r,a,s){var i=s&&s.biff||8,o={s:{c:0,r:0}},l=[],c,u,d,A=0,m=0,h,y="";if(!e[0]||!e[0][0])return"";for(var x=-1,v="",b=0,j=e[0].length;b<j;++b){var C=e[0][b];switch(C[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),x>=0){switch(e[0][x][1][0]){case 0:v=xo(" ",e[0][x][1][1]);break;case 1:v=xo("\r",e[0][x][1][1]);break;default:if(v="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][x][1][0])}u=u+v,x=-1}l.push(u+mie[C[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Cy(C[1][1],o,s),l.push(Ey(d,i));break;case"PtgRefN":d=r?Cy(C[1][1],r,s):C[1][1],l.push(Ey(d,i));break;case"PtgRef3d":A=C[1][1],d=Cy(C[1][2],o,s),y=Lk(a,A,s),l.push(y+"!"+Ey(d,i));break;case"PtgFunc":case"PtgFuncVar":var E=C[1][0],k=C[1][1];E||(E=0),E&=127;var D=E==0?[]:l.slice(-E);l.length-=E,k==="User"&&(k=D.shift()),l.push(k+"("+D.join(",")+")");break;case"PtgBool":l.push(C[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(C[1]);break;case"PtgNum":l.push(String(C[1]));break;case"PtgStr":l.push('"'+C[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(C[1]);break;case"PtgAreaN":h=yk(C[1][1],r?{s:r}:o,s),l.push(fj(h,s));break;case"PtgArea":h=yk(C[1][1],o,s),l.push(fj(h,s));break;case"PtgArea3d":A=C[1][1],h=C[1][2],y=Lk(a,A,s),l.push(y+"!"+fj(h,s));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":m=C[1][2];var L=(a.names||[])[m-1]||(a[0]||[])[m],F=L?L.Name:"SH33TJSNAME"+String(m);F&&F.slice(0,6)=="_xlfn."&&!s.xlfn&&(F=F.slice(6)),l.push(F);break;case"PtgNameX":var Q=C[1][1];m=C[1][2];var U;if(s.biff<=5)Q<0&&(Q=-Q),a[Q]&&(U=a[Q][m]);else{var P="";if(((a[Q]||[])[0]||[])[0]==14849||(((a[Q]||[])[0]||[])[0]==1025?a[Q][m]&&a[Q][m].itab>0&&(P=a.SheetNames[a[Q][m].itab-1]+"!"):P=a.SheetNames[m-1]+"!"),a[Q]&&a[Q][m])P+=a[Q][m].Name;else if(a[0]&&a[0][m])P+=a[0][m].Name;else{var I=(mQ(a,Q,s)||"").split(";;");I[m-1]?P=I[m-1]:P+="SH33TJSERRX"}l.push(P);break}U||(U={Name:"SH33TJSERRY"}),l.push(U.Name);break;case"PtgParen":var z="(",W=")";if(x>=0){switch(v="",e[0][x][1][0]){case 2:z=xo(" ",e[0][x][1][1])+z;break;case 3:z=xo("\r",e[0][x][1][1])+z;break;case 4:W=xo(" ",e[0][x][1][1])+W;break;case 5:W=xo("\r",e[0][x][1][1])+W;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][x][1][0])}x=-1}l.push(z+l.pop()+W);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:C[1][1],r:C[1][0]};var ie={c:r.c,r:r.r};if(a.sharedf[Ps(d)]){var X=a.sharedf[Ps(d)];l.push(Cx(X,o,ie,a,s))}else{var le=!1;for(c=0;c!=a.arrayf.length;++c)if(u=a.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){l.push(Cx(u[1],o,ie,a,s)),le=!0;break}le||l.push(C[1])}break;case"PtgArray":l.push("{"+Aie(C[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":x=b;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+C[1].idx+"[#"+C[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(C));default:throw new Error("Unrecognized Formula Token: "+String(C))}var re=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&x>=0&&re.indexOf(e[0][b][0])==-1){C=e[0][x];var he=!0;switch(C[1][0]){case 4:he=!1;case 0:v=xo(" ",C[1][1]);break;case 5:he=!1;case 1:v=xo("\r",C[1][1]);break;default:if(v="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+C[1][0])}l.push((he?v:"")+l.pop()+(he?"":v)),x=-1}}if(l.length>1&&s.WTF)throw new Error("bad formula stack");return l[0]}function gie(e){if(e==null){var t=ur(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Rp(e);return Rp(0)}function xie(e,t,r,a,s){var i=Qp(t,r,s),o=gie(e.v),l=ur(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var u=ur(e.bf.length),d=0;d<e.bf.length;++d)u[d]=e.bf[d];var A=fc([i,o,l,u]);return A}function m5(e,t,r){var a=e.read_shift(4),s=hie(e,a,r),i=e.read_shift(4),o=i>0?fie(e,i,s,r):null;return[s,o]}var yie=m5,p5=m5,vie=m5,bie=m5,wie={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},pQ={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Nie={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function jie(e){var t="of:="+e.replace(vB,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function Sie(e){return e.replace(/\./,"!")}var By=typeof Map<"u";function NB(e,t,r){var a=0,s=e.length;if(r){if(By?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=By?r.get(t):r[t];a<i.length;++a)if(e[i[a]].t===t)return e.Count++,i[a]}}else for(;a<s;++a)if(e[a].t===t)return e.Count++,a;return e[s]={t},e.Count++,e.Unique++,r&&(By?(r.has(t)||r.set(t,[]),r.get(t).push(s)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(s))),s}function g5(e,t){var r={min:e+1,max:e+1},a=-1;return t.MDW&&(VA=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?a=qw(t.wpx):t.wch!=null&&(a=t.wch),a>-1?(r.width=QC(a),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function gQ(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function T0(e,t,r){var a=r.revssf[t.z!=null?t.z:"General"],s=60,i=e.length;if(a==null&&r.ssf){for(;s<392;++s)if(r.ssf[s]==null){f9(t.z,s),r.ssf[s]=t.z,r.revssf[t.z]=a=s;break}}for(s=0;s!=i;++s)if(e[s].numFmtId===a)return s;return e[i]={numFmtId:a,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function Cie(e,t,r){if(e&&e["!ref"]){var a=Ei(e["!ref"]);if(a.e.c<a.s.c||a.e.r<a.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function Eie(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+tl(e[r])+'"/>';return t+"</mergeCells>"}function Bie(e,t,r,a,s){var i=!1,o={},l=null;if(a.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,o.codeName=rv(Is(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),l=(l||"")+Ir("outlinePr",null,u)}!i&&!l||(s[s.length]=Ir("sheetPr",l,o))}var Tie=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Fie=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function _ie(e){var t={sheet:1};return Tie.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),Fie.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=eQ(e.password).toString(16).toUpperCase()),Ir("sheetProtection",null,t)}function kie(e){return gQ(e),Ir("pageMargins",null,e)}function Iie(e,t){for(var r=["<cols>"],a,s=0;s!=t.length;++s)(a=t[s])&&(r[r.length]=Ir("col",null,g5(s,a)));return r[r.length]="</cols>",r.join("")}function Pie(e,t,r,a){var s=typeof e.ref=="string"?e.ref:tl(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=Pu(s);o.s.r==o.e.r&&(o.e.r=Pu(t["!ref"]).e.r,s=tl(o));for(var l=0;l<i.length;++l){var c=i[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==a){c.Ref="'"+r.SheetNames[a]+"'!"+s;break}}return l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+r.SheetNames[a]+"'!"+s}),Ir("autoFilter",null,{ref:s})}function Lie(e,t,r,a){var s={workbookViewId:"0"};return(((a||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=a.Workbook.Views[0].RTL?"1":"0"),Ir("sheetViews",Ir("sheetView",null,s),{})}function Oie(e,t,r,a){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var s="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":s=e.v?"1":"0";break;case"n":s=""+e.v;break;case"e":s=$v[e.v];break;case"d":a&&a.cellDates?s=Nd(e.v,-1).toISOString():(e=Yd(e),e.t="n",s=""+(e.v=Wd(Nd(e.v)))),typeof e.z>"u"&&(e.z=yo[14]);break;default:s=e.v;break}var l=hc("v",Is(s)),c={r:t},u=T0(a.cellXfs,e,a);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(a&&a.bookSST){l=hc("v",""+NB(a.Strings,e.v,a.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=Ir("f",Is(e.f),d)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),Ir("c",l,c)}function Die(e,t,r,a){var s=[],i=[],o=Ei(e["!ref"]),l="",c,u="",d=[],A=0,m=0,h=e["!rows"],y=Array.isArray(e),x={r:u},v,b=-1;for(m=o.s.c;m<=o.e.c;++m)d[m]=Jc(m);for(A=o.s.r;A<=o.e.r;++A){for(i=[],u=Ac(A),m=o.s.c;m<=o.e.c;++m){c=d[m]+u;var j=y?(e[A]||[])[m]:e[c];j!==void 0&&(l=Oie(j,c,e,t))!=null&&i.push(l)}(i.length>0||h&&h[A])&&(x={r:u},h&&h[A]&&(v=h[A],v.hidden&&(x.hidden=1),b=-1,v.hpx?b=Kw(v.hpx):v.hpt&&(b=v.hpt),b>-1&&(x.ht=b,x.customHeight=1),v.level&&(x.outlineLevel=v.level)),s[s.length]=Ir("row",i.join(""),x))}if(h)for(;A<h.length;++A)h&&h[A]&&(x={r:A+1},v=h[A],v.hidden&&(x.hidden=1),b=-1,v.hpx?b=Kw(v.hpx):v.hpt&&(b=v.hpt),b>-1&&(x.ht=b,x.customHeight=1),v.level&&(x.outlineLevel=v.level),s[s.length]=Ir("row","",x));return s.join("")}function xQ(e,t,r,a){var s=[nl,Ir("worksheet",null,{xmlns:qx[0],"xmlns:r":Dl.r})],i=r.SheetNames[e],o=0,l="",c=r.Sheets[i];c==null&&(c={});var u=c["!ref"]||"A1",d=Ei(u);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=tl(d)}a||(a={}),c["!comments"]=[];var A=[];Bie(c,r,e,t,s),s[s.length]=Ir("dimension",null,{ref:u}),s[s.length]=Lie(c,t,e,r),t.sheetFormat&&(s[s.length]=Ir("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(s[s.length]=Iie(c,c["!cols"])),s[o=s.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=Die(c,t),l.length>0&&(s[s.length]=l)),s.length>o+1&&(s[s.length]="</sheetData>",s[o]=s[o].replace("/>",">")),c["!protect"]&&(s[s.length]=_ie(c["!protect"])),c["!autofilter"]!=null&&(s[s.length]=Pie(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(s[s.length]=Eie(c["!merges"]));var m=-1,h,y=-1;return c["!links"].length>0&&(s[s.length]="<hyperlinks>",c["!links"].forEach(function(x){x[1].Target&&(h={ref:x[0]},x[1].Target.charAt(0)!="#"&&(y=Fs(a,-1,Is(x[1].Target).replace(/#.*$/,""),Yn.HLINK),h["r:id"]="rId"+y),(m=x[1].Target.indexOf("#"))>-1&&(h.location=Is(x[1].Target.slice(m+1))),x[1].Tooltip&&(h.tooltip=Is(x[1].Tooltip)),s[s.length]=Ir("hyperlink",null,h))}),s[s.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(s[s.length]=kie(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(s[s.length]=hc("ignoredErrors",Ir("ignoredError",null,{numberStoredAsText:1,sqref:u}))),A.length>0&&(y=Fs(a,-1,"../drawings/drawing"+(e+1)+".xml",Yn.DRAW),s[s.length]=Ir("drawing",null,{"r:id":"rId"+y}),c["!drawing"]=A),c["!comments"].length>0&&(y=Fs(a,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Yn.VML),s[s.length]=Ir("legacyDrawing",null,{"r:id":"rId"+y}),c["!legacy"]=y),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function Mie(e,t){var r={},a=e.l+t;r.r=e.read_shift(4),e.l+=4;var s=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=a,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=s/20),r}function Uie(e,t,r){var a=ur(145),s=(r["!rows"]||[])[e]||{};a.write_shift(4,e),a.write_shift(4,0);var i=320;s.hpx?i=Kw(s.hpx)*20:s.hpt&&(i=s.hpt*20),a.write_shift(2,i),a.write_shift(1,0);var o=0;s.level&&(o|=s.level),s.hidden&&(o|=16),(s.hpx||s.hpt)&&(o|=32),a.write_shift(1,o),a.write_shift(1,0);var l=0,c=a.l;a.l+=4;for(var u={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var A=-1,m=-1,h=d<<10;h<d+1<<10;++h){u.c=h;var y=Array.isArray(r)?(r[u.r]||[])[u.c]:r[Ps(u)];y&&(A<0&&(A=h),m=h)}A<0||(++l,a.write_shift(4,A),a.write_shift(4,m))}var x=a.l;return a.l=c,a.write_shift(4,l),a.l=x,a.length>a.l?a.slice(0,a.l):a}function Rie(e,t,r,a){var s=Uie(a,r,t);(s.length>17||(t["!rows"]||[])[a])&&vr(e,0,s)}var Qie=ag,Hie=Gx;function $ie(){}function zie(e,t){var r={},a=e[e.l];return++e.l,r.above=!(a&64),r.left=!(a&128),e.l+=18,r.name=eae(e),r}function Vie(e,t,r){r==null&&(r=ur(84+4*e.length));var a=192;t&&(t.above&&(a&=-65),t.left&&(a&=-129)),r.write_shift(1,a);for(var s=1;s<3;++s)r.write_shift(1,0);return $w({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),I9(e,r),r.slice(0,r.l)}function qie(e){var t=Af(e);return[t]}function Kie(e,t,r){return r==null&&(r=ur(8)),eg(t,r)}function Gie(e){var t=tg(e);return[t]}function Wie(e,t,r){return r==null&&(r=ur(4)),rg(t,r)}function Yie(e){var t=Af(e),r=e.read_shift(1);return[t,r,"b"]}function Xie(e,t,r){return r==null&&(r=ur(9)),eg(t,r),r.write_shift(1,e.v?1:0),r}function Jie(e){var t=tg(e),r=e.read_shift(1);return[t,r,"b"]}function Zie(e,t,r){return r==null&&(r=ur(5)),rg(t,r),r.write_shift(1,e.v?1:0),r}function eoe(e){var t=Af(e),r=e.read_shift(1);return[t,r,"e"]}function toe(e,t,r){return r==null&&(r=ur(9)),eg(t,r),r.write_shift(1,e.v),r}function roe(e){var t=tg(e),r=e.read_shift(1);return[t,r,"e"]}function aoe(e,t,r){return r==null&&(r=ur(8)),rg(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function noe(e){var t=Af(e),r=e.read_shift(4);return[t,r,"s"]}function soe(e,t,r){return r==null&&(r=ur(12)),eg(t,r),r.write_shift(4,t.v),r}function ioe(e){var t=tg(e),r=e.read_shift(4);return[t,r,"s"]}function ooe(e,t,r){return r==null&&(r=ur(8)),rg(t,r),r.write_shift(4,t.v),r}function loe(e){var t=Af(e),r=Wx(e);return[t,r,"n"]}function coe(e,t,r){return r==null&&(r=ur(16)),eg(t,r),Rp(e.v,r),r}function doe(e){var t=tg(e),r=Wx(e);return[t,r,"n"]}function uoe(e,t,r){return r==null&&(r=ur(12)),rg(t,r),Rp(e.v,r),r}function foe(e){var t=Af(e),r=P9(e);return[t,r,"n"]}function hoe(e,t,r){return r==null&&(r=ur(12)),eg(t,r),L9(e.v,r),r}function Aoe(e){var t=tg(e),r=P9(e);return[t,r,"n"]}function moe(e,t,r){return r==null&&(r=ur(8)),rg(t,r),L9(e.v,r),r}function poe(e){var t=Af(e),r=mB(e);return[t,r,"is"]}function goe(e){var t=Af(e),r=Zc(e);return[t,r,"str"]}function xoe(e,t,r){return r==null&&(r=ur(12+4*e.v.length)),eg(t,r),Ul(e.v,r),r.length>r.l?r.slice(0,r.l):r}function yoe(e){var t=tg(e),r=Zc(e);return[t,r,"str"]}function voe(e,t,r){return r==null&&(r=ur(8+4*e.v.length)),rg(t,r),Ul(e.v,r),r.length>r.l?r.slice(0,r.l):r}function boe(e,t,r){var a=e.l+t,s=Af(e);s.r=r["!row"];var i=e.read_shift(1),o=[s,i,"b"];if(r.cellFormula){e.l+=2;var l=p5(e,a-e.l,r);o[3]=Cx(l,null,s,r.supbooks,r)}else e.l=a;return o}function woe(e,t,r){var a=e.l+t,s=Af(e);s.r=r["!row"];var i=e.read_shift(1),o=[s,i,"e"];if(r.cellFormula){e.l+=2;var l=p5(e,a-e.l,r);o[3]=Cx(l,null,s,r.supbooks,r)}else e.l=a;return o}function Noe(e,t,r){var a=e.l+t,s=Af(e);s.r=r["!row"];var i=Wx(e),o=[s,i,"n"];if(r.cellFormula){e.l+=2;var l=p5(e,a-e.l,r);o[3]=Cx(l,null,s,r.supbooks,r)}else e.l=a;return o}function joe(e,t,r){var a=e.l+t,s=Af(e);s.r=r["!row"];var i=Zc(e),o=[s,i,"str"];if(r.cellFormula){e.l+=2;var l=p5(e,a-e.l,r);o[3]=Cx(l,null,s,r.supbooks,r)}else e.l=a;return o}var Soe=ag,Coe=Gx;function Eoe(e,t){return t==null&&(t=ur(4)),t.write_shift(4,e),t}function Boe(e,t){var r=e.l+t,a=ag(e),s=pB(e),i=Zc(e),o=Zc(e),l=Zc(e);e.l=r;var c={rfx:a,relId:s,loc:i,display:l};return o&&(c.Tooltip=o),c}function Toe(e,t){var r=ur(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Gx({s:Ml(e[0]),e:Ml(e[0])},r),gB("rId"+t,r);var a=e[1].Target.indexOf("#"),s=a==-1?"":e[1].Target.slice(a+1);return Ul(s||"",r),Ul(e[1].Tooltip||"",r),Ul("",r),r.slice(0,r.l)}function Foe(){}function _oe(e,t,r){var a=e.l+t,s=O9(e),i=e.read_shift(1),o=[s];if(o[2]=i,r.cellFormula){var l=yie(e,a-e.l,r);o[1]=l}else e.l=a;return o}function koe(e,t,r){var a=e.l+t,s=ag(e),i=[s];if(r.cellFormula){var o=bie(e,a-e.l,r);i[1]=o,e.l=a}else e.l=a;return i}function Ioe(e,t,r){r==null&&(r=ur(18));var a=g5(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(a.width||10)*256),r.write_shift(4,0);var s=0;return t.hidden&&(s|=1),typeof a.width=="number"&&(s|=2),t.level&&(s|=t.level<<8),r.write_shift(2,s),r}var yQ=["left","right","top","bottom","header","footer"];function Poe(e){var t={};return yQ.forEach(function(r){t[r]=Wx(e)}),t}function Loe(e,t){return t==null&&(t=ur(48)),gQ(e),yQ.forEach(function(r){Rp(e[r],t)}),t}function Ooe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Doe(e,t,r){r==null&&(r=ur(30));var a=924;return(((t||{}).Views||[])[0]||{}).RTL&&(a|=32),r.write_shift(2,a),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function Moe(e){var t=ur(24);return t.write_shift(4,4),t.write_shift(4,1),Gx(e,t),t}function Uoe(e,t){return t==null&&(t=ur(66)),t.write_shift(2,e.password?eQ(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function Roe(){}function Qoe(){}function Hoe(e,t,r,a,s,i,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=Yd(t),t.z=t.z||yo[14],t.v=Wd(Nd(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:a};switch(c.s=T0(s.cellXfs,t,s),t.l&&i["!links"].push([Ps(c),t.l]),t.c&&i["!comments"].push([Ps(c),t.c]),t.t){case"s":case"str":return s.bookSST?(l=NB(s.Strings,t.v,s.revStrings),c.t="s",c.v=l,o?vr(e,18,ooe(t,c)):vr(e,7,soe(t,c))):(c.t="str",o?vr(e,17,voe(t,c)):vr(e,6,xoe(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?vr(e,13,moe(t,c)):vr(e,2,hoe(t,c)):o?vr(e,16,uoe(t,c)):vr(e,5,coe(t,c)),!0;case"b":return c.t="b",o?vr(e,15,Zie(t,c)):vr(e,4,Xie(t,c)),!0;case"e":return c.t="e",o?vr(e,14,aoe(t,c)):vr(e,3,toe(t,c)),!0}return o?vr(e,12,Wie(t,c)):vr(e,1,Kie(t,c)),!0}function $oe(e,t,r,a){var s=Ei(t["!ref"]||"A1"),i,o="",l=[];vr(e,145);var c=Array.isArray(t),u=s.e.r;t["!rows"]&&(u=Math.max(s.e.r,t["!rows"].length-1));for(var d=s.s.r;d<=u;++d){o=Ac(d),Rie(e,t,s,d);var A=!1;if(d<=s.e.r)for(var m=s.s.c;m<=s.e.c;++m){d===s.s.r&&(l[m]=Jc(m)),i=l[m]+o;var h=c?(t[d]||[])[m]:t[i];if(!h){A=!1;continue}A=Hoe(e,h,d,m,a,t,A)}}vr(e,146)}function zoe(e,t){!t||!t["!merges"]||(vr(e,177,Eoe(t["!merges"].length)),t["!merges"].forEach(function(r){vr(e,176,Coe(r))}),vr(e,178))}function Voe(e,t){!t||!t["!cols"]||(vr(e,390),t["!cols"].forEach(function(r,a){r&&vr(e,60,Ioe(a,r))}),vr(e,391))}function qoe(e,t){!t||!t["!ref"]||(vr(e,648),vr(e,649,Moe(Ei(t["!ref"]))),vr(e,650))}function Koe(e,t,r){t["!links"].forEach(function(a){if(a[1].Target){var s=Fs(r,-1,a[1].Target.replace(/#.*$/,""),Yn.HLINK);vr(e,494,Toe(a,s))}}),delete t["!links"]}function Goe(e,t,r,a){if(t["!comments"].length>0){var s=Fs(a,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Yn.VML);vr(e,551,gB("rId"+s)),t["!legacy"]=s}}function Woe(e,t,r,a){if(t["!autofilter"]){var s=t["!autofilter"],i=typeof s.ref=="string"?s.ref:tl(s.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=Pu(i);l.s.r==l.e.r&&(l.e.r=Pu(t["!ref"]).e.r,i=tl(l));for(var c=0;c<o.length;++c){var u=o[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==a){u.Ref="'"+r.SheetNames[a]+"'!"+i;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+r.SheetNames[a]+"'!"+i}),vr(e,161,Gx(Ei(i))),vr(e,162)}}function Yoe(e,t,r){vr(e,133),vr(e,137,Doe(t,r)),vr(e,138),vr(e,134)}function Xoe(e,t){t["!protect"]&&vr(e,535,Uoe(t["!protect"]))}function Joe(e,t,r,a){var s=Gd(),i=r.SheetNames[e],o=r.Sheets[i]||{},l=i;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=Ei(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],vr(s,129),(r.vbaraw||o["!outline"])&&vr(s,147,Vie(l,o["!outline"])),vr(s,148,Hie(c)),Yoe(s,o,r.Workbook),Voe(s,o),$oe(s,o,e,t),Xoe(s,o),Woe(s,o,r,e),zoe(s,o),Koe(s,o,a),o["!margins"]&&vr(s,476,Loe(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&qoe(s,o),Goe(s,o,e,a),vr(s,130),s.end()}function Zoe(e,t){e.l+=10;var r=Zc(e);return{name:r}}var ele=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function tle(e){return!e.Workbook||!e.Workbook.WBProps?"false":kre(e.Workbook.WBProps.date1904)?"true":"false"}var rle="][*?/\\".split("");function vQ(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return rle.forEach(function(a){if(e.indexOf(a)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function ale(e,t,r){e.forEach(function(a,s){vQ(a);for(var i=0;i<s;++i)if(a==e[i])throw new Error("Duplicate Sheet Name: "+a);if(r){var o=t&&t[s]&&t[s].CodeName||a;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function nle(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];ale(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)Cie(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function bQ(e){var t=[nl];t[t.length]=Ir("workbook",null,{xmlns:qx[0],"xmlns:r":Dl.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,a={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(ele.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(a[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(a.codeName=e.Workbook.WBProps.CodeName,delete a.CodeName)),t[t.length]=Ir("workbookPr",null,a);var s=e.Workbook&&e.Workbook.Sheets||[],i=0;if(s&&s[0]&&s[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!s[i]||!s[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:Is(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),s[i])switch(s[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=Ir("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=Ir("definedName",Is(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function sle(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=RC(e),r.name=Zc(e),r}function ile(e,t){return t||(t=ur(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),gB(e.strRelID,t),Ul(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function ole(e,t){var r={},a=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var s=t>8?Zc(e):"";return s.length>0&&(r.CodeName=s),r.autoCompressPictures=!!(a&65536),r.backupFile=!!(a&64),r.checkCompatibility=!!(a&4096),r.date1904=!!(a&1),r.filterPrivacy=!!(a&8),r.hidePivotFieldList=!!(a&1024),r.promptedSolutions=!!(a&16),r.publishItems=!!(a&2048),r.refreshAllConnections=!!(a&262144),r.saveExternalLinkValues=!!(a&128),r.showBorderUnselectedTables=!!(a&4),r.showInkAnnotation=!!(a&32),r.showObjects=["all","placeholders","none"][a>>13&3],r.showPivotChartFilter=!!(a&32768),r.updateLinks=["userSet","never","always"][a>>8&3],r}function lle(e,t){t||(t=ur(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),I9(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function cle(e,t,r){var a=e.l+t;e.l+=4,e.l+=1;var s=e.read_shift(4),i=tae(e),o=vie(e,0,r),l=pB(e);e.l=a;var c={Name:i,Ptg:o};return s<268435455&&(c.Sheet=s),l&&(c.Comment=l),c}function dle(e,t){vr(e,143);for(var r=0;r!=t.SheetNames.length;++r){var a=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,s={Hidden:a,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};vr(e,156,ile(s))}vr(e,144)}function ule(e,t){t||(t=ur(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return Ul("SheetJS",t),Ul(Lw.version,t),Ul(Lw.version,t),Ul("7262",t),t.length>t.l?t.slice(0,t.l):t}function fle(e,t){t||(t=ur(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function hle(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,a=0,s=-1,i=-1;a<r.length;++a)!r[a]||!r[a].Hidden&&s==-1?s=a:r[a].Hidden==1&&i==-1&&(i=a);i>s||(vr(e,135),vr(e,158,fle(s)),vr(e,136))}}function Ale(e,t){var r=Gd();return vr(r,131),vr(r,128,ule()),vr(r,153,lle(e.Workbook&&e.Workbook.WBProps||null)),hle(r,e),dle(r,e),vr(r,132),r.end()}function mle(e,t,r){return(t.slice(-4)===".bin"?Ale:bQ)(e)}function ple(e,t,r,a,s){return(t.slice(-4)===".bin"?Joe:xQ)(e,r,a,s)}function gle(e,t,r){return(t.slice(-4)===".bin"?Lne:aQ)(e,r)}function xle(e,t,r){return(t.slice(-4)===".bin"?lne:Z9)(e,r)}function yle(e,t,r){return(t.slice(-4)===".bin"?Xne:lQ)(e)}function vle(e){return(e.slice(-4)===".bin"?$ne:iQ)()}function ble(e,t){var r=[];return e.Props&&r.push(gae(e.Props,t)),e.Custprops&&r.push(xae(e.Props,e.Custprops)),r.join("")}function wle(){return""}function Nle(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(a,s){var i=[];i.push(Ir("NumberFormat",null,{"ss:Format":Is(yo[a.numFmtId])}));var o={"ss:ID":"s"+(21+s)};r.push(Ir("Style",i.join(""),o))}),Ir("Styles",r.join(""))}function wQ(e){return Ir("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+bB(e.Ref,{r:0,c:0})})}function jle(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],a=0;a<t.length;++a){var s=t[a];s.Sheet==null&&(s.Name.match(/^_xlfn\./)||r.push(wQ(s)))}return Ir("Names",r.join(""))}function Sle(e,t,r,a){if(!e||!((a||{}).Workbook||{}).Names)return"";for(var s=a.Workbook.Names,i=[],o=0;o<s.length;++o){var l=s[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||i.push(wQ(l)))}return i.join("")}function Cle(e,t,r,a){if(!e)return"";var s=[];if(e["!margins"]&&(s.push("<PageSetup>"),e["!margins"].header&&s.push(Ir("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&s.push(Ir("Footer",null,{"x:Margin":e["!margins"].footer})),s.push(Ir("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),s.push("</PageSetup>")),a&&a.Workbook&&a.Workbook.Sheets&&a.Workbook.Sheets[r])if(a.Workbook.Sheets[r].Hidden)s.push(Ir("Visible",a.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(a.Workbook.Sheets[i]&&!a.Workbook.Sheets[i].Hidden);++i);i==r&&s.push("<Selected/>")}return((((a||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),e["!protect"]&&(s.push(hc("ProtectContents","True")),e["!protect"].objects&&s.push(hc("ProtectObjects","True")),e["!protect"].scenarios&&s.push(hc("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?s.push(hc("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&s.push(hc("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&s.push("<"+o[1]+"/>")})),s.length==0?"":Ir("WorksheetOptions",s.join(""),{xmlns:Tu.x})}function Ele(e){return e.map(function(t){var r=_re(t.t||""),a=Ir("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Ir("Comment",a,{"ss:Author":t.a})}).join("")}function Ble(e,t,r,a,s,i,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+Is(bB(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=Ml(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=Is(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=Is(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=o.c||u[d].s.r!=o.r||(u[d].e.c>u[d].s.c&&(l["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(l["ss:MergeDown"]=u[d].e.r-u[d].s.r));var A="",m="";switch(e.t){case"z":if(!a.sheetStubs)return"";break;case"n":A="Number",m=String(e.v);break;case"b":A="Boolean",m=e.v?"1":"0";break;case"e":A="Error",m=$v[e.v];break;case"d":A="DateTime",m=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||yo[14]);break;case"s":A="String",m=Fre(e.v||"");break}var h=T0(a.cellXfs,e,a);l["ss:StyleID"]="s"+(21+h),l["ss:Index"]=o.c+1;var y=e.v!=null?m:"",x=e.t=="z"?"":'<Data ss:Type="'+A+'">'+y+"</Data>";return(e.c||[]).length>0&&(x+=Ele(e.c)),Ir("Cell",x,l)}function Tle(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=rQ(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function Fle(e,t,r,a){if(!e["!ref"])return"";var s=Ei(e["!ref"]),i=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(v,b){yB(v);var j=!!v.width,C=g5(b,v),E={"ss:Index":b+1};j&&(E["ss:Width"]=Vw(C.width)),v.hidden&&(E["ss:Hidden"]="1"),l.push(Ir("Column",null,E))});for(var c=Array.isArray(e),u=s.s.r;u<=s.e.r;++u){for(var d=[Tle(u,(e["!rows"]||[])[u])],A=s.s.c;A<=s.e.c;++A){var m=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>A)&&!(i[o].s.r>u)&&!(i[o].e.c<A)&&!(i[o].e.r<u)){(i[o].s.c!=A||i[o].s.r!=u)&&(m=!0);break}if(!m){var h={r:u,c:A},y=Ps(h),x=c?(e[u]||[])[A]:e[y];d.push(Ble(x,y,e,t,r,a,h))}}d.push("</Row>"),d.length>2&&l.push(d.join(""))}return l.join("")}function _le(e,t,r){var a=[],s=r.SheetNames[e],i=r.Sheets[s],o=i?Sle(i,t,e,r):"";return o.length>0&&a.push("<Names>"+o+"</Names>"),o=i?Fle(i,t,e,r):"",o.length>0&&a.push("<Table>"+o+"</Table>"),a.push(Cle(i,t,e,r)),a.join("")}function kle(e,t){t||(t={}),e.SSF||(e.SSF=Yd(yo)),e.SSF&&(f5(),u5(e.SSF),t.revssf=h5(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],T0(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(ble(e,t)),r.push(wle()),r.push(""),r.push("");for(var a=0;a<e.SheetNames.length;++a)r.push(Ir("Worksheet",_le(a,t,e),{"ss:Name":Is(e.SheetNames[a])}));return r[2]=Nle(e,t),r[3]=jle(e),nl+Ir("Workbook",r.join(""),{xmlns:Tu.ss,"xmlns:o":Tu.o,"xmlns:x":Tu.x,"xmlns:ss":Tu.ss,"xmlns:dt":Tu.dt,"xmlns:html":Tu.html})}var mj={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Ile(e,t){var r=[],a=[],s=[],i=0,o,l=lk(bk,"n"),c=lk(wk,"n");if(e.Props)for(o=pc(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?a:s).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=pc(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?a:s).push([o[i],e.Custprops[o[i]]]);var u=[];for(i=0;i<s.length;++i)q9.indexOf(s[i][0])>-1||$9.indexOf(s[i][0])>-1||s[i][1]!=null&&u.push(s[i]);a.length&&zs.utils.cfb_add(t,"/SummaryInformation",Ek(a,mj.SI,c,wk)),(r.length||u.length)&&zs.utils.cfb_add(t,"/DocumentSummaryInformation",Ek(r,mj.DSI,l,bk,u.length?u:null,mj.UDI))}function Ple(e,t){var r=t||{},a=zs.utils.cfb_new({root:"R"}),s="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":s="/Workbook",r.biff=8;break;case"biff5":s="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return zs.utils.cfb_add(a,s,NQ(e,r)),r.biff==8&&(e.Props||e.Custprops)&&Ile(e,a),r.biff==8&&e.vbaraw&&Jne(a,zs.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),a}var Lle={0:{f:Mie},1:{f:qie},2:{f:foe},3:{f:eoe},4:{f:Yie},5:{f:loe},6:{f:goe},7:{f:noe},8:{f:joe},9:{f:Noe},10:{f:boe},11:{f:woe},12:{f:Gie},13:{f:Aoe},14:{f:roe},15:{f:Jie},16:{f:doe},17:{f:yoe},18:{f:ioe},19:{f:mB},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:cle},40:{},42:{},43:{f:gne},44:{f:mne},45:{f:vne},46:{f:wne},47:{f:bne},48:{},49:{f:Gre},50:{},51:{f:Mne},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Wae},62:{f:poe},63:{f:zne},64:{f:Roe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Zh,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Ooe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:zie},148:{f:Qie,p:16},151:{f:Foe},152:{},153:{f:ole},154:{},155:{},156:{f:sle},157:{},158:{},159:{T:1,f:sne},160:{T:-1},161:{T:1,f:ag},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Soe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:One},336:{T:-1},337:{f:Qne,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:RC},357:{},358:{},359:{},360:{T:1},361:{},362:{f:$ae},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:_oe},427:{f:koe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Poe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:$ie},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Boe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:RC},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Wne},633:{T:1},634:{T:-1},635:{T:1,f:Kne},636:{T:-1},637:{f:Jre},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Zoe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Qoe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Or(e,t,r,a){var s=t;if(!isNaN(s)){var i=a||(r||[]).length||0,o=e.next(4);o.write_shift(2,s),o.write_shift(2,i),i>0&&fB(r)&&e.push(r)}}function Ole(e,t,r,a){var s=(r||[]).length||0;if(s<=8224)return Or(e,t,r,s);var i=t;if(!isNaN(i)){for(var o=r.parts||[],l=0,c=0,u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;var d=e.next(4);for(d.write_shift(2,i),d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<s;){for(d=e.next(4),d.write_shift(2,60),u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function Vv(e,t,r){return e||(e=ur(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function Dle(e,t,r,a){var s=ur(9);return Vv(s,e,t),G9(r,a||"b",s),s}function Mle(e,t,r){var a=ur(8+2*r.length);return Vv(a,e,t),a.write_shift(1,r.length),a.write_shift(r.length,r,"sbcs"),a.l<a.length?a.slice(0,a.l):a}function Ule(e,t,r,a){if(t.v!=null)switch(t.t){case"d":case"n":var s=t.t=="d"?Wd(Nd(t.v)):t.v;s==(s|0)&&s>=0&&s<65536?Or(e,2,Zae(r,a,s)):Or(e,3,Jae(r,a,s));return;case"b":case"e":Or(e,5,Dle(r,a,t.v,t.t));return;case"s":case"str":Or(e,4,Mle(r,a,(t.v||"").slice(0,255)));return}Or(e,1,Vv(null,r,a))}function Rle(e,t,r,a){var s=Array.isArray(t),i=Ei(t["!ref"]||"A1"),o,l="",c=[];if(i.e.c>255||i.e.r>16383){if(a.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=tl(i)}for(var u=i.s.r;u<=i.e.r;++u){l=Ac(u);for(var d=i.s.c;d<=i.e.c;++d){u===i.s.r&&(c[d]=Jc(d)),o=c[d]+l;var A=s?(t[u]||[])[d]:t[o];A&&Ule(e,A,u,d)}}}function Qle(e,t){for(var r=t||{},a=Gd(),s=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(s=i);if(s==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Or(a,r.biff==4?1033:r.biff==3?521:9,xB(e,16,r)),Rle(a,e.Sheets[e.SheetNames[s]],s,r),Or(a,10),a.end()}function Hle(e,t,r){Or(e,49,Lae({sz:12,name:"Arial"},r))}function $le(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var s=a[0];s<=a[1];++s)t[s]!=null&&Or(e,1054,Mae(s,t[s],r))})}function zle(e,t){var r=ur(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Or(e,2151,r),r=ur(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),X9(Ei(t["!ref"]||"A1"),r),r.write_shift(4,4),Or(e,2152,r)}function Vle(e,t){for(var r=0;r<16;++r)Or(e,224,Tk({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(a){Or(e,224,Tk(a,0,t))})}function qle(e,t){for(var r=0;r<t["!links"].length;++r){var a=t["!links"][r];Or(e,440,qae(a)),a[1].Tooltip&&Or(e,2048,Kae(a))}delete t["!links"]}function Kle(e,t){if(t){var r=0;t.forEach(function(a,s){++r<=256&&a&&Or(e,125,Yae(g5(s,a),s))})}}function Gle(e,t,r,a,s){var i=16+T0(s.cellXfs,t,s);if(t.v==null&&!t.bf){Or(e,513,Qp(r,a,i));return}if(t.bf)Or(e,6,xie(t,r,a,s,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?Wd(Nd(t.v)):t.v;Or(e,515,Hae(r,a,o,i));break;case"b":case"e":Or(e,517,Qae(r,a,t.v,i,s,t.t));break;case"s":case"str":if(s.bookSST){var l=NB(s.Strings,t.v,s.revStrings);Or(e,253,Oae(r,a,l,i))}else Or(e,516,Dae(r,a,(t.v||"").slice(0,255),i,s));break;default:Or(e,513,Qp(r,a,i))}}function Wle(e,t,r){var a=Gd(),s=r.SheetNames[e],i=r.Sheets[s]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(i),u=t.biff==8,d,A="",m=[],h=Ei(i["!ref"]||"A1"),y=u?65536:16384;if(h.e.c>255||h.e.r>=y){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");h.e.c=Math.min(h.e.c,255),h.e.r=Math.min(h.e.c,y-1)}Or(a,2057,xB(r,16,t)),Or(a,13,of(1)),Or(a,12,of(100)),Or(a,15,pd(!0)),Or(a,17,pd(!1)),Or(a,16,Rp(.001)),Or(a,95,pd(!0)),Or(a,42,pd(!1)),Or(a,43,pd(!1)),Or(a,130,of(1)),Or(a,128,Rae()),Or(a,131,pd(!1)),Or(a,132,pd(!1)),u&&Kle(a,i["!cols"]),Or(a,512,Uae(h,t)),u&&(i["!links"]=[]);for(var x=h.s.r;x<=h.e.r;++x){A=Ac(x);for(var v=h.s.c;v<=h.e.c;++v){x===h.s.r&&(m[v]=Jc(v)),d=m[v]+A;var b=c?(i[x]||[])[v]:i[d];b&&(Gle(a,b,x,v,t),u&&b.l&&i["!links"].push([d,b.l]))}}var j=l.CodeName||l.name||s;return u&&Or(a,574,Pae((o.Views||[])[0])),u&&(i["!merges"]||[]).length&&Or(a,229,Vae(i["!merges"])),u&&qle(a,i),Or(a,442,Y9(j)),u&&zle(a,i),Or(a,10),a.end()}function Yle(e,t,r){var a=Gd(),s=(e||{}).Workbook||{},i=s.Sheets||[],o=s.WBProps||{},l=r.biff==8,c=r.biff==5;if(Or(a,2057,xB(e,5,r)),r.bookType=="xla"&&Or(a,135),Or(a,225,l?of(1200):null),Or(a,193,bae(2)),c&&Or(a,191),c&&Or(a,192),Or(a,226),Or(a,92,Fae("SheetJS",r)),Or(a,66,of(l?1200:1252)),l&&Or(a,353,of(0)),l&&Or(a,448),Or(a,317,Xae(e.SheetNames.length)),l&&e.vbaraw&&Or(a,211),l&&e.vbaraw){var u=o.CodeName||"ThisWorkbook";Or(a,442,Y9(u))}Or(a,156,of(17)),Or(a,25,pd(!1)),Or(a,18,pd(!1)),Or(a,19,of(0)),l&&Or(a,431,pd(!1)),l&&Or(a,444,of(0)),Or(a,61,Iae()),Or(a,64,pd(!1)),Or(a,141,of(0)),Or(a,34,pd(tle(e)=="true")),Or(a,14,pd(!0)),l&&Or(a,439,pd(!1)),Or(a,218,of(0)),Hle(a,e,r),$le(a,e.SSF,r),Vle(a,r),l&&Or(a,352,pd(!1));var d=a.end(),A=Gd();l&&Or(A,140,Gae()),l&&r.Strings&&Ole(A,252,kae(r.Strings)),Or(A,10);var m=A.end(),h=Gd(),y=0,x=0;for(x=0;x<e.SheetNames.length;++x)y+=(l?12:11)+(l?2:1)*e.SheetNames[x].length;var v=d.length+y+m.length;for(x=0;x<e.SheetNames.length;++x){var b=i[x]||{};Or(h,133,_ae({pos:v,hs:b.Hidden||0,dt:0,name:e.SheetNames[x]},r)),v+=t[x].length}var j=h.end();if(y!=j.length)throw new Error("BS8 "+y+" != "+j.length);var C=[];return d.length&&C.push(d),j.length&&C.push(j),m.length&&C.push(m),fc(C)}function Xle(e,t){var r=t||{},a=[];e&&!e.SSF&&(e.SSF=Yd(yo)),e&&e.SSF&&(f5(),u5(e.SSF),r.revssf=h5(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,jB(r),r.cellXfs=[],T0(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var s=0;s<e.SheetNames.length;++s)a[a.length]=Wle(s,r,e);return a.unshift(Yle(e,a,r)),fc(a)}function NQ(e,t){for(var r=0;r<=e.SheetNames.length;++r){var a=e.Sheets[e.SheetNames[r]];if(!(!a||!a["!ref"])){var s=Pu(a["!ref"]);s.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return Xle(e,t);case 4:case 3:case 2:return Qle(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function Jle(e,t,r,a){for(var s=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,u=0;u<s.length;++u)if(!(s[u].s.r>r||s[u].s.c>o)&&!(s[u].e.r<r||s[u].e.c<o)){if(s[u].s.r<r||s[u].s.c<o){l=-1;break}l=s[u].e.r-s[u].s.r+1,c=s[u].e.c-s[u].s.c+1;break}if(!(l<0)){var d=Ps({r,c:o}),A=a.dense?(e[r]||[])[o]:e[d],m=A&&A.v!=null&&(A.h||Tre(A.w||(XA(A),A.w)||""))||"",h={};l>1&&(h.rowspan=l),c>1&&(h.colspan=c),a.editable?m='<span contenteditable="true">'+m+"</span>":A&&(h["data-t"]=A&&A.t||"z",A.v!=null&&(h["data-v"]=A.v),A.z!=null&&(h["data-z"]=A.z),A.l&&(A.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+A.l.Target+'">'+m+"</a>")),h.id=(a.id||"sjs")+"-"+d,i.push(Ir("td",m,h))}}var y="<tr>";return y+i.join("")+"</tr>"}var Zle='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',ece="</body></html>";function tce(e,t,r){var a=[];return a.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function jQ(e,t){var r=t||{},a=r.header!=null?r.header:Zle,s=r.footer!=null?r.footer:ece,i=[a],o=Pu(e["!ref"]);r.dense=Array.isArray(e),i.push(tce(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)i.push(Jle(e,o,l,r));return i.push("</table>"+s),i.join("")}function SQ(e,t,r){var a=r||{},s=0,i=0;if(a.origin!=null)if(typeof a.origin=="number")s=a.origin;else{var o=typeof a.origin=="string"?Ml(a.origin):a.origin;s=o.r,i=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(a.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:s,c:i}};if(e["!ref"]){var d=Pu(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),s==-1&&(u.e.r=s=d.e.r+1)}var A=[],m=0,h=e["!rows"]||(e["!rows"]=[]),y=0,x=0,v=0,b=0,j=0,C=0;for(e["!cols"]||(e["!cols"]=[]);y<l.length&&x<c;++y){var E=l[y];if(Ok(E)){if(a.display)continue;h[x]={hidden:!0}}var k=E.children;for(v=b=0;v<k.length;++v){var D=k[v];if(!(a.display&&Ok(D))){var L=D.hasAttribute("data-v")?D.getAttribute("data-v"):D.hasAttribute("v")?D.getAttribute("v"):Ire(D.innerHTML),F=D.getAttribute("data-z")||D.getAttribute("z");for(m=0;m<A.length;++m){var Q=A[m];Q.s.c==b+i&&Q.s.r<x+s&&x+s<=Q.e.r&&(b=Q.e.c+1-i,m=-1)}C=+D.getAttribute("colspan")||1,((j=+D.getAttribute("rowspan")||1)>1||C>1)&&A.push({s:{r:x+s,c:b+i},e:{r:x+s+(j||1)-1,c:b+i+(C||1)-1}});var U={t:"s",v:L},P=D.getAttribute("data-t")||D.getAttribute("t")||"";L!=null&&(L.length==0?U.t=P||"z":a.raw||L.trim().length==0||P=="s"||(L==="TRUE"?U={t:"b",v:!0}:L==="FALSE"?U={t:"b",v:!1}:isNaN(zA(L))?isNaN(tv(L).getDate())||(U={t:"d",v:Nd(L)},a.cellDates||(U={t:"n",v:Wd(U.v)}),U.z=a.dateNF||yo[14]):U={t:"n",v:zA(L)})),U.z===void 0&&F!=null&&(U.z=F);var I="",z=D.getElementsByTagName("A");if(z&&z.length)for(var W=0;W<z.length&&!(z[W].hasAttribute("href")&&(I=z[W].getAttribute("href"),I.charAt(0)!="#"));++W);I&&I.charAt(0)!="#"&&(U.l={Target:I}),a.dense?(e[x+s]||(e[x+s]=[]),e[x+s][b+i]=U):e[Ps({c:b+i,r:x+s})]=U,u.e.c<b+i&&(u.e.c=b+i),b+=C}}++x}return A.length&&(e["!merges"]=(e["!merges"]||[]).concat(A)),u.e.r=Math.max(u.e.r,x-1+s),e["!ref"]=tl(u),x>=c&&(e["!fullref"]=tl((u.e.r=l.length-y+x-1+s,u))),e}function CQ(e,t){var r=t||{},a=r.dense?[]:{};return SQ(a,e,t)}function rce(e,t){return Zp(CQ(e,t),t)}function Ok(e){var t="",r=ace(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function ace(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var nce=(function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+av({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return nl+t}})(),Dk=(function(){var e=function(i){return Is(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,a=function(i,o,l){var c=[];c.push('      <table:table table:name="'+Is(o.SheetNames[l])+`" table:style-name="ta1">
`);var u=0,d=0,A=Pu(i["!ref"]||"A1"),m=i["!merges"]||[],h=0,y=Array.isArray(i);if(i["!cols"])for(d=0;d<=A.e.c;++d)c.push("        <table:table-column"+(i["!cols"][d]?' table:style-name="co'+i["!cols"][d].ods+'"':"")+`></table:table-column>
`);var x="",v=i["!rows"]||[];for(u=0;u<A.s.r;++u)x=v[u]?' table:style-name="ro'+v[u].ods+'"':"",c.push("        <table:table-row"+x+`></table:table-row>
`);for(;u<=A.e.r;++u){for(x=v[u]?' table:style-name="ro'+v[u].ods+'"':"",c.push("        <table:table-row"+x+`>
`),d=0;d<A.s.c;++d)c.push(t);for(;d<=A.e.c;++d){var b=!1,j={},C="";for(h=0;h!=m.length;++h)if(!(m[h].s.c>d)&&!(m[h].s.r>u)&&!(m[h].e.c<d)&&!(m[h].e.r<u)){(m[h].s.c!=d||m[h].s.r!=u)&&(b=!0),j["table:number-columns-spanned"]=m[h].e.c-m[h].s.c+1,j["table:number-rows-spanned"]=m[h].e.r-m[h].s.r+1;break}if(b){c.push(r);continue}var E=Ps({r:u,c:d}),k=y?(i[u]||[])[d]:i[E];if(k&&k.f&&(j["table:formula"]=Is(jie(k.f)),k.F&&k.F.slice(0,E.length)==E)){var D=Pu(k.F);j["table:number-matrix-columns-spanned"]=D.e.c-D.s.c+1,j["table:number-matrix-rows-spanned"]=D.e.r-D.s.r+1}if(!k){c.push(t);continue}switch(k.t){case"b":C=k.v?"TRUE":"FALSE",j["office:value-type"]="boolean",j["office:boolean-value"]=k.v?"true":"false";break;case"n":C=k.w||String(k.v||0),j["office:value-type"]="float",j["office:value"]=k.v||0;break;case"s":case"str":C=k.v==null?"":k.v,j["office:value-type"]="string";break;case"d":C=k.w||Nd(k.v).toISOString(),j["office:value-type"]="date",j["office:date-value"]=Nd(k.v).toISOString(),j["table:style-name"]="ce1";break;default:c.push(t);continue}var L=e(C);if(k.l&&k.l.Target){var F=k.l.Target;F=F.charAt(0)=="#"?"#"+Sie(F.slice(1)):F,F.charAt(0)!="#"&&!F.match(/^\w+:/)&&(F="../"+F),L=Ir("text:a",L,{"xlink:href":F.replace(/&/g,"&amp;")})}c.push("          "+Ir("table:table-cell",Ir("text:p",L,{}),j)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},s=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var A=u["!cols"][d];if(A.width==null&&A.wpx==null&&A.wch==null)continue;yB(A),A.ods=l;var m=u["!cols"][d].wpx+"px";i.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+m+`"/>
`),i.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=c;var A=u["!rows"][d].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+A+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,l){var c=[nl],u=av({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=av({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+u+d+`>
`),c.push(Q9().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),s(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var A=0;A!=o.SheetNames.length;++A)c.push(a(o.Sheets[o.SheetNames[A]],o,A));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}})();function EQ(e,t){if(t.bookType=="fods")return Dk(e,t);var r=lB(),a="",s=[],i=[];return a="mimetype",xn(r,a,"application/vnd.oasis.opendocument.spreadsheet"),a="content.xml",xn(r,a,Dk(e,t)),s.push([a,"text/xml"]),i.push([a,"ContentFile"]),a="styles.xml",xn(r,a,nce(e,t)),s.push([a,"text/xml"]),i.push([a,"StylesFile"]),a="meta.xml",xn(r,a,nl+Q9()),s.push([a,"text/xml"]),i.push([a,"MetadataFile"]),a="manifest.rdf",xn(r,a,pae(i)),s.push([a,"application/rdf+xml"]),a="META-INF/manifest.xml",xn(r,a,Aae(s)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Gw(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function sce(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Yf(rv(e))}function ice(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var a=0;a<t.length;++a)if(e[r+a]!=t[a])continue e;return!0}return!1}function h0(e){var t=e.reduce(function(s,i){return s+i.length},0),r=new Uint8Array(t),a=0;return e.forEach(function(s){r.set(s,a),a+=s.length}),r}function oce(e,t,r){var a=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,s=r/Math.pow(10,a-6176);e[t+15]|=a>>7,e[t+14]|=(a&127)<<1;for(var i=0;s>=1;++i,s/=256)e[t+i]=s&255;e[t+15]|=r>=0?0:128}function nv(e,t){var r=t?t[0]:0,a=e[r]&127;e:if(e[r++]>=128&&(a|=(e[r]&127)<<7,e[r++]<128||(a|=(e[r]&127)<<14,e[r++]<128)||(a|=(e[r]&127)<<21,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),a}function Bs(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function ux(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function xl(e){for(var t=[],r=[0];r[0]<e.length;){var a=r[0],s=nv(e,r),i=s&7;s=Math.floor(s/8);var o=0,l;if(s==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=nv(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(s," at offset ").concat(a))}var u={data:l,type:i};t[s]==null?t[s]=[u]:t[s].push(u)}return t}function oc(e){var t=[];return e.forEach(function(r,a){r.forEach(function(s){s.data&&(t.push(Bs(a*8+s.type)),s.type==2&&t.push(Bs(s.data.length)),t.push(s.data))})}),h0(t)}function Hf(e){for(var t,r=[],a=[0];a[0]<e.length;){var s=nv(e,a),i=xl(e.slice(a[0],a[0]+s));a[0]+=s;var o={id:ux(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=xl(l.data),u=ux(c[3][0].data);o.messages.push({meta:c,data:e.slice(a[0],a[0]+u)}),a[0]+=u}),(t=i[3])!=null&&t[0]&&(o.merge=ux(i[3][0].data)>>>0>0),r.push(o)}return r}function kg(e){var t=[];return e.forEach(function(r){var a=[];a[1]=[{data:Bs(r.id),type:0}],a[2]=[],r.merge!=null&&(a[3]=[{data:Bs(+!!r.merge),type:0}]);var s=[];r.messages.forEach(function(o){s.push(o.data),o.meta[3]=[{type:0,data:Bs(o.data.length)}],a[2].push({data:oc(o.meta),type:2})});var i=oc(a);t.push(Bs(i.length)),t.push(i),s.forEach(function(o){return t.push(o)})}),h0(t)}function lce(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],a=nv(t,r),s=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}s.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,u=0;if(i==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),s=[h0(s)],c==0)throw new Error("Invalid offset 0");if(c>s[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(s.push(s[0].slice(-c)),u-=c;u>=s[s.length-1].length;)s.push(s[s.length-1]),u-=s[s.length-1].length;s.push(s[0].slice(-c,-c+u))}}var d=h0(s);if(d.length!=a)throw new Error("Unexpected length: ".concat(d.length," != ").concat(a));return d}function $f(e){for(var t=[],r=0;r<e.length;){var a=e[r++],s=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(lce(a,e.slice(r,r+s))),r+=s}if(r!==e.length)throw new Error("data is not a valid framed stream!");return h0(t)}function Ig(e){for(var t=[],r=0;r<e.length;){var a=Math.min(e.length-r,268435455),s=new Uint8Array(4);t.push(s);var i=Bs(a),o=i.length;t.push(i),a<=60?(o++,t.push(new Uint8Array([a-1<<2]))):a<=256?(o+=2,t.push(new Uint8Array([240,a-1&255]))):a<=65536?(o+=3,t.push(new Uint8Array([244,a-1&255,a-1>>8&255]))):a<=16777216?(o+=4,t.push(new Uint8Array([248,a-1&255,a-1>>8&255,a-1>>16&255]))):a<=4294967296&&(o+=5,t.push(new Uint8Array([252,a-1&255,a-1>>8&255,a-1>>16&255,a-1>>>24&255]))),t.push(e.slice(r,r+a)),o+=a,s[0]=0,s[1]=o&255,s[2]=o>>8&255,s[3]=o>>16&255,r+=a}return h0(t)}function pj(e,t){var r=new Uint8Array(32),a=Gw(r),s=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,oce(r,s,e.v),i|=1,s+=16;break;case"b":r[1]=6,a.setFloat64(s,e.v?1:0,!0),i|=2,s+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,a.setUint32(s,t.indexOf(e.v),!0),i|=8,s+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(8,i,!0),r.slice(0,s)}function gj(e,t){var r=new Uint8Array(32),a=Gw(r),s=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,a.setFloat64(s,e.v,!0),i|=32,s+=8;break;case"b":r[2]=6,a.setFloat64(s,e.v?1:0,!0),i|=32,s+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,a.setUint32(s,t.indexOf(e.v),!0),i|=16,s+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(4,i,!0),r.slice(0,s)}function Rm(e){var t=xl(e);return nv(t[1][0].data)}function cce(e,t,r){var a,s,i,o;if(!((a=e[6])!=null&&a[0])||!((s=e[7])!=null&&s[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&ux(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,u=Gw(e[7][0].data),d=0,A=[],m=Gw(e[4][0].data),h=0,y=[],x=0;x<t.length;++x){if(t[x]==null){u.setUint16(x*2,65535,!0),m.setUint16(x*2,65535);continue}u.setUint16(x*2,d,!0),m.setUint16(x*2,h,!0);var v,b;switch(typeof t[x]){case"string":v=pj({t:"s",v:t[x]},r),b=gj({t:"s",v:t[x]},r);break;case"number":v=pj({t:"n",v:t[x]},r),b=gj({t:"n",v:t[x]},r);break;case"boolean":v=pj({t:"b",v:t[x]},r),b=gj({t:"b",v:t[x]},r);break;default:throw new Error("Unsupported value "+t[x])}A.push(v),d+=v.length,y.push(b),h+=b.length,++c}for(e[2][0].data=Bs(c);x<e[7][0].data.length/2;++x)u.setUint16(x*2,65535,!0),m.setUint16(x*2,65535,!0);return e[6][0].data=h0(A),e[3][0].data=h0(y),c}function dce(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var a=Pu(r["!ref"]);a.s.r=a.s.c=0;var s=!1;a.e.c>9&&(s=!0,a.e.c=9),a.e.r>49&&(s=!0,a.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(tl(a)));var i=Ww(r,{range:a,header:1}),o=["~Sh33tJ5~"];i.forEach(function(R){return R.forEach(function(G){typeof G=="string"&&o.push(G)})});var l={},c=[],u=zs.read(t.numbers,{type:"base64"});u.FileIndex.map(function(R,G){return[R,u.FullPaths[G]]}).forEach(function(R){var G=R[0],ne=R[1];if(G.type==2&&G.name.match(/\.iwa/)){var pe=G.content,xe=$f(pe),Ae=Hf(xe);Ae.forEach(function(Y){c.push(Y.id),l[Y.id]={deps:[],location:ne,type:ux(Y.messages[0].meta[1][0].data)}})}}),c.sort(function(R,G){return R-G});var d=c.filter(function(R){return R>1}).map(function(R){return[R,Bs(R)]});u.FileIndex.map(function(R,G){return[R,u.FullPaths[G]]}).forEach(function(R){var G=R[0];if(R[1],!!G.name.match(/\.iwa/)){var ne=Hf($f(G.content));ne.forEach(function(pe){pe.messages.forEach(function(xe){d.forEach(function(Ae){pe.messages.some(function(Y){return ux(Y.meta[1][0].data)!=11006&&ice(Y.data,Ae[1])})&&l[Ae[0]].deps.push(pe.id)})})})}});for(var A=zs.find(u,l[1].location),m=Hf($f(A.content)),h,y=0;y<m.length;++y){var x=m[y];x.id==1&&(h=x)}var v=Rm(xl(h.messages[0].data)[1][0].data);for(A=zs.find(u,l[v].location),m=Hf($f(A.content)),y=0;y<m.length;++y)x=m[y],x.id==v&&(h=x);for(v=Rm(xl(h.messages[0].data)[2][0].data),A=zs.find(u,l[v].location),m=Hf($f(A.content)),y=0;y<m.length;++y)x=m[y],x.id==v&&(h=x);for(v=Rm(xl(h.messages[0].data)[2][0].data),A=zs.find(u,l[v].location),m=Hf($f(A.content)),y=0;y<m.length;++y)x=m[y],x.id==v&&(h=x);var b=xl(h.messages[0].data);{b[6][0].data=Bs(a.e.r+1),b[7][0].data=Bs(a.e.c+1);var j=Rm(b[46][0].data),C=zs.find(u,l[j].location),E=Hf($f(C.content));{for(var k=0;k<E.length&&E[k].id!=j;++k);if(E[k].id!=j)throw"Bad ColumnRowUIDMapArchive";var D=xl(E[k].messages[0].data);D[1]=[],D[2]=[],D[3]=[];for(var L=0;L<=a.e.c;++L){var F=[];F[1]=F[2]=[{type:0,data:Bs(L+420690)}],D[1].push({type:2,data:oc(F)}),D[2].push({type:0,data:Bs(L)}),D[3].push({type:0,data:Bs(L)})}D[4]=[],D[5]=[],D[6]=[];for(var Q=0;Q<=a.e.r;++Q)F=[],F[1]=F[2]=[{type:0,data:Bs(Q+726270)}],D[4].push({type:2,data:oc(F)}),D[5].push({type:0,data:Bs(Q)}),D[6].push({type:0,data:Bs(Q)});E[k].messages[0].data=oc(D)}C.content=Ig(kg(E)),C.size=C.content.length,delete b[46];var U=xl(b[4][0].data);{U[7][0].data=Bs(a.e.r+1);var P=xl(U[1][0].data),I=Rm(P[2][0].data);C=zs.find(u,l[I].location),E=Hf($f(C.content));{if(E[0].id!=I)throw"Bad HeaderStorageBucket";var z=xl(E[0].messages[0].data);for(Q=0;Q<i.length;++Q){var W=xl(z[2][0].data);W[1][0].data=Bs(Q),W[4][0].data=Bs(i[Q].length),z[2][Q]={type:z[2][0].type,data:oc(W)}}E[0].messages[0].data=oc(z)}C.content=Ig(kg(E)),C.size=C.content.length;var ie=Rm(U[2][0].data);C=zs.find(u,l[ie].location),E=Hf($f(C.content));{if(E[0].id!=ie)throw"Bad HeaderStorageBucket";for(z=xl(E[0].messages[0].data),L=0;L<=a.e.c;++L)W=xl(z[2][0].data),W[1][0].data=Bs(L),W[4][0].data=Bs(a.e.r+1),z[2][L]={type:z[2][0].type,data:oc(W)};E[0].messages[0].data=oc(z)}C.content=Ig(kg(E)),C.size=C.content.length;var X=Rm(U[4][0].data);(function(){for(var R=zs.find(u,l[X].location),G=Hf($f(R.content)),ne,pe=0;pe<G.length;++pe){var xe=G[pe];xe.id==X&&(ne=xe)}var Ae=xl(ne.messages[0].data);{Ae[3]=[];var Y=[];o.forEach(function(be,Ce){Y[1]=[{type:0,data:Bs(Ce)}],Y[2]=[{type:0,data:Bs(1)}],Y[3]=[{type:2,data:sce(be)}],Ae[3].push({type:2,data:oc(Y)})})}ne.messages[0].data=oc(Ae);var se=kg(G),ee=Ig(se);R.content=ee,R.size=R.content.length})();var le=xl(U[3][0].data);{var re=le[1][0];delete le[2];var he=xl(re.data);{var de=Rm(he[2][0].data);(function(){for(var R=zs.find(u,l[de].location),G=Hf($f(R.content)),ne,pe=0;pe<G.length;++pe){var xe=G[pe];xe.id==de&&(ne=xe)}var Ae=xl(ne.messages[0].data);{delete Ae[6],delete le[7];var Y=new Uint8Array(Ae[5][0].data);Ae[5]=[];for(var se=0,ee=0;ee<=a.e.r;++ee){var be=xl(Y);se+=cce(be,i[ee],o),be[1][0].data=Bs(ee),Ae[5].push({data:oc(be),type:2})}Ae[1]=[{type:0,data:Bs(a.e.c+1)}],Ae[2]=[{type:0,data:Bs(a.e.r+1)}],Ae[3]=[{type:0,data:Bs(se)}],Ae[4]=[{type:0,data:Bs(a.e.r+1)}]}ne.messages[0].data=oc(Ae);var Ce=kg(G),ce=Ig(Ce);R.content=ce,R.size=R.content.length})()}re.data=oc(he)}U[3][0].data=oc(le)}b[4][0].data=oc(U)}h.messages[0].data=oc(b);var ve=kg(m),B=Ig(ve);return A.content=B,A.size=A.content.length,u}function uce(e){return function(r){for(var a=0;a!=e.length;++a){var s=e[a];r[s[0]]===void 0&&(r[s[0]]=s[1]),s[2]==="n"&&(r[s[0]]=Number(r[s[0]]))}}}function jB(e){uce([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function fce(e,t){return t.bookType=="ods"?EQ(e,t):t.bookType=="numbers"?dce(e,t):t.bookType=="xlsb"?hce(e,t):Ace(e,t)}function hce(e,t){Xg=1024,e&&!e.SSF&&(e.SSF=Yd(yo)),e&&e.SSF&&(f5(),u5(e.SSF),t.revssf=h5(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,By?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",a=cQ.indexOf(t.bookType)>-1,s=M9();jB(t=t||{});var i=lB(),o="",l=0;if(t.cellXfs=[],T0(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",xn(i,o,H9(e.Props,t)),s.coreprops.push(o),Fs(t.rels,2,o,Yn.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,xn(i,o,z9(e.Props)),s.extprops.push(o),Fs(t.rels,3,o,Yn.EXT_PROPS),e.Custprops!==e.Props&&pc(e.Custprops||{}).length>0&&(o="docProps/custom.xml",xn(i,o,V9(e.Custprops)),s.custprops.push(o),Fs(t.rels,4,o,Yn.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var d={"!id":{}},A=e.Sheets[e.SheetNames[l-1]],m=(A||{})["!type"]||"sheet";switch(m){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,xn(i,o,ple(l-1,o,t,e,d)),s.sheets.push(o),Fs(t.wbrels,-1,"worksheets/sheet"+l+"."+r,Yn.WS[0])}if(A){var h=A["!comments"],y=!1,x="";h&&h.length>0&&(x="xl/comments"+l+"."+r,xn(i,x,yle(h,x)),s.comments.push(x),Fs(d,-1,"../comments"+l+"."+r,Yn.CMNT),y=!0),A["!legacy"]&&y&&xn(i,"xl/drawings/vmlDrawing"+l+".vml",oQ(l,A["!comments"])),delete A["!comments"],delete A["!legacy"]}d["!id"].rId1&&xn(i,R9(o),cx(d))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,xn(i,o,xle(t.Strings,o,t)),s.strs.push(o),Fs(t.wbrels,-1,"sharedStrings."+r,Yn.SST)),o="xl/workbook."+r,xn(i,o,mle(e,o)),s.workbooks.push(o),Fs(t.rels,1,o,Yn.WB),o="xl/theme/theme1.xml",xn(i,o,sQ(e.Themes,t)),s.themes.push(o),Fs(t.wbrels,-1,"theme/theme1.xml",Yn.THEME),o="xl/styles."+r,xn(i,o,gle(e,o,t)),s.styles.push(o),Fs(t.wbrels,-1,"styles."+r,Yn.STY),e.vbaraw&&a&&(o="xl/vbaProject.bin",xn(i,o,e.vbaraw),s.vba.push(o),Fs(t.wbrels,-1,"vbaProject.bin",Yn.VBA)),o="xl/metadata."+r,xn(i,o,vle(o)),s.metadata.push(o),Fs(t.wbrels,-1,"metadata."+r,Yn.XLMETA),xn(i,"[Content_Types].xml",U9(s,t)),xn(i,"_rels/.rels",cx(t.rels)),xn(i,"xl/_rels/workbook."+r+".rels",cx(t.wbrels)),delete t.revssf,delete t.ssf,i}function Ace(e,t){Xg=1024,e&&!e.SSF&&(e.SSF=Yd(yo)),e&&e.SSF&&(f5(),u5(e.SSF),t.revssf=h5(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,By?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",a=cQ.indexOf(t.bookType)>-1,s=M9();jB(t=t||{});var i=lB(),o="",l=0;if(t.cellXfs=[],T0(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",xn(i,o,H9(e.Props,t)),s.coreprops.push(o),Fs(t.rels,2,o,Yn.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,xn(i,o,z9(e.Props)),s.extprops.push(o),Fs(t.rels,3,o,Yn.EXT_PROPS),e.Custprops!==e.Props&&pc(e.Custprops||{}).length>0&&(o="docProps/custom.xml",xn(i,o,V9(e.Custprops)),s.custprops.push(o),Fs(t.rels,4,o,Yn.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var A={"!id":{}},m=e.Sheets[e.SheetNames[l-1]],h=(m||{})["!type"]||"sheet";switch(h){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,xn(i,o,xQ(l-1,t,e,A)),s.sheets.push(o),Fs(t.wbrels,-1,"worksheets/sheet"+l+"."+r,Yn.WS[0])}if(m){var y=m["!comments"],x=!1,v="";if(y&&y.length>0){var b=!1;y.forEach(function(j){j[1].forEach(function(C){C.T==!0&&(b=!0)})}),b&&(v="xl/threadedComments/threadedComment"+l+"."+r,xn(i,v,Vne(y,d,t)),s.threadedcomments.push(v),Fs(A,-1,"../threadedComments/threadedComment"+l+"."+r,Yn.TCMNT)),v="xl/comments"+l+"."+r,xn(i,v,lQ(y)),s.comments.push(v),Fs(A,-1,"../comments"+l+"."+r,Yn.CMNT),x=!0}m["!legacy"]&&x&&xn(i,"xl/drawings/vmlDrawing"+l+".vml",oQ(l,m["!comments"])),delete m["!comments"],delete m["!legacy"]}A["!id"].rId1&&xn(i,R9(o),cx(A))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,xn(i,o,Z9(t.Strings,t)),s.strs.push(o),Fs(t.wbrels,-1,"sharedStrings."+r,Yn.SST)),o="xl/workbook."+r,xn(i,o,bQ(e)),s.workbooks.push(o),Fs(t.rels,1,o,Yn.WB),o="xl/theme/theme1.xml",xn(i,o,sQ(e.Themes,t)),s.themes.push(o),Fs(t.wbrels,-1,"theme/theme1.xml",Yn.THEME),o="xl/styles."+r,xn(i,o,aQ(e,t)),s.styles.push(o),Fs(t.wbrels,-1,"styles."+r,Yn.STY),e.vbaraw&&a&&(o="xl/vbaProject.bin",xn(i,o,e.vbaraw),s.vba.push(o),Fs(t.wbrels,-1,"vbaProject.bin",Yn.VBA)),o="xl/metadata."+r,xn(i,o,iQ()),s.metadata.push(o),Fs(t.wbrels,-1,"metadata."+r,Yn.XLMETA),d.length>1&&(o="xl/persons/person.xml",xn(i,o,qne(d)),s.people.push(o),Fs(t.wbrels,-1,"persons/person.xml",Yn.PEOPLE)),xn(i,"[Content_Types].xml",U9(s,t)),xn(i,"_rels/.rels",cx(t.rels)),xn(i,"xl/_rels/workbook."+r+".rels",cx(t.wbrels)),delete t.revssf,delete t.ssf,i}function mce(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=YA(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function BQ(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Qv(t.file,zs.write(e,{type:ls?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return zs.write(e,t)}function pce(e,t){var r=Yd(t||{}),a=fce(e,r);return gce(a,r)}function gce(e,t){var r={},a=ls?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=a;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=a;break;default:throw new Error("Unrecognized type "+t.type)}var s=e.FullPaths?zs.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof s=="string"){if(t.type=="binary"||t.type=="base64")return s;s=new Uint8Array(d5(s))}return t.password&&typeof encrypt_agile<"u"?BQ(encrypt_agile(s,t.password),t):t.type==="file"?Qv(t.file,s):t.type=="string"?jy(s):s}function xce(e,t){var r=t||{},a=Ple(e,r);return BQ(a,r)}function Oh(e,t,r){r||(r="");var a=r+e;switch(t.type){case"base64":return ev(rv(a));case"binary":return rv(a);case"string":return e;case"file":return Qv(t.file,a,"utf8");case"buffer":return ls?lm(a,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(a):Oh(a,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function yce(e,t){switch(t.type){case"base64":return ev(e);case"binary":return e;case"string":return e;case"file":return Qv(t.file,e,"binary");case"buffer":return ls?lm(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Ab(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",a=0;a<e.length;++a)r+=String.fromCharCode(e[a]);return t.type=="base64"?ev(r):t.type=="string"?jy(r):r;case"file":return Qv(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function TQ(e,t){Kte(),nle(e);var r=Yd(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var a=TQ(e,r);return r.type="array",d5(a)}var s=0;if(r.sheet&&(typeof r.sheet=="number"?s=r.sheet:s=e.SheetNames.indexOf(r.sheet),!e.SheetNames[s]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Oh(kle(e,r),r);case"slk":case"sylk":return Oh(tne.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"htm":case"html":return Oh(jQ(e.Sheets[e.SheetNames[s]],r),r);case"txt":return yce(FQ(e.Sheets[e.SheetNames[s]],r),r);case"csv":return Oh(SB(e.Sheets[e.SheetNames[s]],r),r,"\uFEFF");case"dif":return Oh(rne.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"dbf":return Ab(ene.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"prn":return Oh(ane.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"rtf":return Oh(dne.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"eth":return Oh(J9.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"fods":return Oh(EQ(e,r),r);case"wk1":return Ab(Fk.sheet_to_wk1(e.Sheets[e.SheetNames[s]],r),r);case"wk3":return Ab(Fk.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Ab(NQ(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),xce(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return pce(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function vce(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function qv(e,t,r){var a={};return a.type="file",a.file=t,vce(a),TQ(e,a)}function bce(e,t,r,a,s,i,o,l){var c=Ac(r),u=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),A=!0,m=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:r,enumerable:!1})}catch{m.__rowNum__=r}else m.__rowNum__=r;if(!o||e[r])for(var h=t.s.c;h<=t.e.c;++h){var y=o?e[r][h]:e[a[h]+c];if(y===void 0||y.t===void 0){if(u===void 0)continue;i[h]!=null&&(m[i[h]]=u);continue}var x=y.v;switch(y.t){case"z":if(x==null)break;continue;case"e":x=x==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(i[h]!=null){if(x==null)if(y.t=="e"&&x===null)m[i[h]]=null;else if(u!==void 0)m[i[h]]=u;else if(d&&x===null)m[i[h]]=null;else continue;else m[i[h]]=d&&(y.t!=="n"||y.t==="n"&&l.rawNumbers!==!1)?x:XA(y,x,l);x!=null&&(A=!1)}}return{row:m,isempty:A}}function Ww(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},a=0,s=1,i=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?a=1:u.header==="A"?a=2:Array.isArray(u.header)?a=3:u.header==null&&(a=0),typeof d){case"string":c=Ei(d);break;case"number":c=Ei(e["!ref"]),c.s.r=d;break;default:c=d}a>0&&(s=0);var A=Ac(c.s.r),m=[],h=[],y=0,x=0,v=Array.isArray(e),b=c.s.r,j=0,C={};v&&!e[b]&&(e[b]=[]);var E=u.skipHidden&&e["!cols"]||[],k=u.skipHidden&&e["!rows"]||[];for(j=c.s.c;j<=c.e.c;++j)if(!(E[j]||{}).hidden)switch(m[j]=Jc(j),r=v?e[b][j]:e[m[j]+A],a){case 1:i[j]=j-c.s.c;break;case 2:i[j]=m[j];break;case 3:i[j]=u.header[j-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=XA(r,null,u),x=C[o]||0,!x)C[o]=1;else{do l=o+"_"+x++;while(C[l]);C[o]=x,C[l]=1}i[j]=l}for(b=c.s.r+s;b<=c.e.r;++b)if(!(k[b]||{}).hidden){var D=bce(e,c,b,m,a,i,v,u);(D.isempty===!1||(a===1?u.blankrows!==!1:u.blankrows))&&(h[y++]=D.row)}return h.length=y,h}var Mk=/"/g;function wce(e,t,r,a,s,i,o,l){for(var c=!0,u=[],d="",A=Ac(r),m=t.s.c;m<=t.e.c;++m)if(a[m]){var h=l.dense?(e[r]||[])[m]:e[a[m]+A];if(h==null)d="";else if(h.v!=null){c=!1,d=""+(l.rawNumbers&&h.t=="n"?h.v:XA(h,null,l));for(var y=0,x=0;y!==d.length;++y)if((x=d.charCodeAt(y))===s||x===i||x===34||l.forceQuotes){d='"'+d.replace(Mk,'""')+'"';break}d=="ID"&&(d='"ID"')}else h.f!=null&&!h.F?(c=!1,d="="+h.f,d.indexOf(",")>=0&&(d='"'+d.replace(Mk,'""')+'"')):d="";u.push(d)}return l.blankrows===!1&&c?null:u.join(o)}function SB(e,t){var r=[],a=t??{};if(e==null||e["!ref"]==null)return"";var s=Ei(e["!ref"]),i=a.FS!==void 0?a.FS:",",o=i.charCodeAt(0),l=a.RS!==void 0?a.RS:`
`,c=l.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),d="",A=[];a.dense=Array.isArray(e);for(var m=a.skipHidden&&e["!cols"]||[],h=a.skipHidden&&e["!rows"]||[],y=s.s.c;y<=s.e.c;++y)(m[y]||{}).hidden||(A[y]=Jc(y));for(var x=0,v=s.s.r;v<=s.e.r;++v)(h[v]||{}).hidden||(d=wce(e,s,v,A,o,c,i,a),d!=null&&(a.strip&&(d=d.replace(u,"")),(d||a.blankrows!==!1)&&r.push((x++?l:"")+d)));return delete a.dense,r.join("")}function FQ(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=SB(e,t);return r}function Nce(e){var t="",r,a="";if(e==null||e["!ref"]==null)return[];var s=Ei(e["!ref"]),i="",o=[],l,c=[],u=Array.isArray(e);for(l=s.s.c;l<=s.e.c;++l)o[l]=Jc(l);for(var d=s.s.r;d<=s.e.r;++d)for(i=Ac(d),l=s.s.c;l<=s.e.c;++l)if(t=o[l]+i,r=u?(e[d]||[])[l]:e[t],a="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;a=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)a=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)a=""+r.v;else if(r.t=="b")a=r.v?"TRUE":"FALSE";else if(r.w!==void 0)a="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?a="'"+r.v:a=""+r.v}}c[c.length]=t+"="+a}return c}function _Q(e,t,r){var a=r||{},s=+!a.skipHeader,i=e||{},o=0,l=0;if(i&&a.origin!=null)if(typeof a.origin=="number")o=a.origin;else{var c=typeof a.origin=="string"?Ml(a.origin):a.origin;o=c.r,l=c.c}var u,d={s:{c:0,r:0},e:{c:l,r:o+t.length-1+s}};if(i["!ref"]){var A=Ei(i["!ref"]);d.e.c=Math.max(d.e.c,A.e.c),d.e.r=Math.max(d.e.r,A.e.r),o==-1&&(o=A.e.r+1,d.e.r=o+t.length-1+s)}else o==-1&&(o=0,d.e.r=t.length-1+s);var m=a.header||[],h=0;t.forEach(function(x,v){pc(x).forEach(function(b){(h=m.indexOf(b))==-1&&(m[h=m.length]=b);var j=x[b],C="z",E="",k=Ps({c:l+h,r:o+v+s});u=sv(i,k),j&&typeof j=="object"&&!(j instanceof Date)?i[k]=j:(typeof j=="number"?C="n":typeof j=="boolean"?C="b":typeof j=="string"?C="s":j instanceof Date?(C="d",a.cellDates||(C="n",j=Wd(j)),E=a.dateNF||yo[14]):j===null&&a.nullError&&(C="e",j=0),u?(u.t=C,u.v=j,delete u.w,delete u.R,E&&(u.z=E)):i[k]=u={t:C,v:j},E&&(u.z=E))})}),d.e.c=Math.max(d.e.c,l+m.length-1);var y=Ac(o);if(s)for(h=0;h<m.length;++h)i[Jc(h+l)+y]={t:"s",v:m[h]};return i["!ref"]=tl(d),i}function jce(e,t){return _Q(null,e,t)}function sv(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var a=Ml(t);return e[a.r]||(e[a.r]=[]),e[a.r][a.c]||(e[a.r][a.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?sv(e,Ps(t)):sv(e,Ps({r:t,c:r||0}))}function Sce(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function Cce(){return{SheetNames:[],Sheets:{}}}function Ece(e,t,r,a){var s=1;if(!r)for(;s<=65535&&e.SheetNames.indexOf(r="Sheet"+s)!=-1;++s,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(a&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);s=i&&+i[2]||0;var o=i&&i[1]||r;for(++s;s<=65535&&e.SheetNames.indexOf(r=o+s)!=-1;++s);}if(vQ(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function Bce(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var a=Sce(e,t);switch(e.Workbook.Sheets[a]||(e.Workbook.Sheets[a]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[a].Hidden=r}function Tce(e,t){return e.z=t,e}function kQ(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function Fce(e,t,r){return kQ(e,"#"+t,r)}function _ce(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function kce(e,t,r,a){for(var s=typeof t!="string"?t:Ei(t),i=typeof t=="string"?t:tl(t),o=s.s.r;o<=s.e.r;++o)for(var l=s.s.c;l<=s.e.c;++l){var c=sv(e,o,l);c.t="n",c.F=i,delete c.v,o==s.s.r&&l==s.s.c&&(c.f=r,a&&(c.D=!0))}return e}var Ni={encode_col:Jc,encode_row:Ac,encode_cell:Ps,encode_range:tl,decode_col:AB,decode_row:hB,split_cell:Kre,decode_cell:Ml,decode_range:Pu,format_cell:XA,sheet_add_aoa:k9,sheet_add_json:_Q,sheet_add_dom:SQ,aoa_to_sheet:Kx,json_to_sheet:jce,table_to_sheet:CQ,table_to_book:rce,sheet_to_csv:SB,sheet_to_txt:FQ,sheet_to_json:Ww,sheet_to_html:jQ,sheet_to_formulae:Nce,sheet_to_row_object_array:Ww,sheet_get_cell:sv,book_new:Cce,book_append_sheet:Ece,book_set_sheet_visibility:Bce,cell_set_number_format:Tce,cell_set_hyperlink:kQ,cell_set_internal_link:Fce,cell_add_comment:_ce,sheet_set_array_formula:kce,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function IQ(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=IQ(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function Gt(){for(var e,t,r=0,a="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=IQ(e))&&(a&&(a+=" "),a+=t);return a}function Ice(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}Ice(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Kv=e=>typeof e=="number"&&!isNaN(e),Hp=e=>typeof e=="string",JA=e=>typeof e=="function",Pce=e=>Hp(e)||Kv(e),HC=e=>Hp(e)||JA(e)?e:null,Lce=(e,t)=>e===!1||Kv(e)&&e>0?e:t,$C=e=>S.isValidElement(e)||Hp(e)||JA(e)||Kv(e);function Oce(e,t,r=300){let{scrollHeight:a,style:s}=e;requestAnimationFrame(()=>{s.minHeight="initial",s.height=a+"px",s.transition=`all ${r}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(t,r)})})}function Dce({enter:e,exit:t,appendPosition:r=!1,collapse:a=!0,collapseDuration:s=300}){return function({children:i,position:o,preventExitTransition:l,done:c,nodeRef:u,isIn:d,playToast:A}){let m=r?`${e}--${o}`:e,h=r?`${t}--${o}`:t,y=S.useRef(0);return S.useLayoutEffect(()=>{let x=u.current,v=m.split(" "),b=j=>{j.target===u.current&&(A(),x.removeEventListener("animationend",b),x.removeEventListener("animationcancel",b),y.current===0&&j.type!=="animationcancel"&&x.classList.remove(...v))};x.classList.add(...v),x.addEventListener("animationend",b),x.addEventListener("animationcancel",b)},[]),S.useEffect(()=>{let x=u.current,v=()=>{x.removeEventListener("animationend",v),a?Oce(x,c,s):c()};d||(l?v():(y.current=1,x.className+=` ${h}`,x.addEventListener("animationend",v)))},[d]),ya.createElement(ya.Fragment,null,i)}}function Uk(e,t){return{content:PQ(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function PQ(e,t,r=!1){return S.isValidElement(e)&&!Hp(e.type)?S.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):JA(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):e}function Mce({closeToast:e,theme:t,ariaLabel:r="close"}){return ya.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:a=>{a.stopPropagation(),e(!0)},"aria-label":r},ya.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ya.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Uce({delay:e,isRunning:t,closeToast:r,type:a="default",hide:s,className:i,controlledProgress:o,progress:l,rtl:c,isIn:u,theme:d}){let A=s||o&&l===0,m={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};o&&(m.transform=`scaleX(${l})`);let h=Gt("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${a}`,{"Toastify__progress-bar--rtl":c}),y=JA(i)?i({rtl:c,type:a,defaultClassName:h}):Gt(h,i),x={[o&&l>=1?"onTransitionEnd":"onAnimationEnd"]:o&&l<1?null:()=>{u&&r()}};return ya.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":A},ya.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${a}`}),ya.createElement("div",{role:"progressbar","aria-hidden":A?"true":"false","aria-label":"notification timer",className:y,style:m,...x}))}var Rce=1,LQ=()=>`${Rce++}`;function Qce(e,t,r){let a=1,s=0,i=[],o=[],l=t,c=new Map,u=new Set,d=j=>(u.add(j),()=>u.delete(j)),A=()=>{o=Array.from(c.values()),u.forEach(j=>j())},m=({containerId:j,toastId:C,updateId:E})=>{let k=j?j!==e:e!==1,D=c.has(C)&&E==null;return k||D},h=(j,C)=>{c.forEach(E=>{var k;(C==null||C===E.props.toastId)&&((k=E.toggle)==null||k.call(E,j))})},y=j=>{var C,E;(E=(C=j.props)==null?void 0:C.onClose)==null||E.call(C,j.removalReason),j.isActive=!1},x=j=>{if(j==null)c.forEach(y);else{let C=c.get(j);C&&y(C)}A()},v=()=>{s-=i.length,i=[]},b=j=>{var C,E;let{toastId:k,updateId:D}=j.props,L=D==null;j.staleId&&c.delete(j.staleId),j.isActive=!0,c.set(k,j),A(),r(Uk(j,L?"added":"updated")),L&&((E=(C=j.props).onOpen)==null||E.call(C))};return{id:e,props:l,observe:d,toggle:h,removeToast:x,toasts:c,clearQueue:v,buildToast:(j,C)=>{if(m(C))return;let{toastId:E,updateId:k,data:D,staleId:L,delay:F}=C,Q=k==null;Q&&s++;let U={...l,style:l.toastStyle,key:a++,...Object.fromEntries(Object.entries(C).filter(([I,z])=>z!=null)),toastId:E,updateId:k,data:D,isIn:!1,className:HC(C.className||l.toastClassName),progressClassName:HC(C.progressClassName||l.progressClassName),autoClose:C.isLoading?!1:Lce(C.autoClose,l.autoClose),closeToast(I){c.get(E).removalReason=I,x(E)},deleteToast(){let I=c.get(E);if(I!=null){if(r(Uk(I,"removed")),c.delete(E),s--,s<0&&(s=0),i.length>0){b(i.shift());return}A()}}};U.closeButton=l.closeButton,C.closeButton===!1||$C(C.closeButton)?U.closeButton=C.closeButton:C.closeButton===!0&&(U.closeButton=$C(l.closeButton)?l.closeButton:!0);let P={content:j,props:U,staleId:L};l.limit&&l.limit>0&&s>l.limit&&Q?i.push(P):Kv(F)?setTimeout(()=>{b(P)},F):b(P)},setProps(j){l=j},setToggle:(j,C)=>{let E=c.get(j);E&&(E.toggle=C)},isToastActive:j=>{var C;return(C=c.get(j))==null?void 0:C.isActive},getSnapshot:()=>o}}var vd=new Map,iv=[],zC=new Set,Hce=e=>zC.forEach(t=>t(e)),OQ=()=>vd.size>0;function $ce(){iv.forEach(e=>MQ(e.content,e.options)),iv=[]}var zce=(e,{containerId:t})=>{var r;return(r=vd.get(t||1))==null?void 0:r.toasts.get(e)};function DQ(e,t){var r;if(t)return!!((r=vd.get(t))!=null&&r.isToastActive(e));let a=!1;return vd.forEach(s=>{s.isToastActive(e)&&(a=!0)}),a}function Vce(e){if(!OQ()){iv=iv.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||Pce(e))vd.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=vd.get(e.containerId);t?t.removeToast(e.id):vd.forEach(r=>{r.removeToast(e.id)})}}var qce=(e={})=>{vd.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function MQ(e,t){$C(e)&&(OQ()||iv.push({content:e,options:t}),vd.forEach(r=>{r.buildToast(e,t)}))}function Kce(e){var t;(t=vd.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function UQ(e,t){vd.forEach(r=>{(t==null||!(t!=null&&t.containerId)||t?.containerId===r.id)&&r.toggle(e,t?.id)})}function Gce(e){let t=e.containerId||1;return{subscribe(r){let a=Qce(t,e,Hce);vd.set(t,a);let s=a.observe(r);return $ce(),()=>{s(),vd.delete(t)}},setProps(r){var a;(a=vd.get(t))==null||a.setProps(r)},getSnapshot(){var r;return(r=vd.get(t))==null?void 0:r.getSnapshot()}}}function Wce(e){return zC.add(e),()=>{zC.delete(e)}}function Yce(e){return e&&(Hp(e.toastId)||Kv(e.toastId))?e.toastId:LQ()}function Gv(e,t){return MQ(e,t),t.toastId}function x5(e,t){return{...t,type:t&&t.type||e,toastId:Yce(t)}}function y5(e){return(t,r)=>Gv(t,x5(e,r))}function ir(e,t){return Gv(e,x5("default",t))}ir.loading=(e,t)=>Gv(e,x5("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function Xce(e,{pending:t,error:r,success:a},s){let i;t&&(i=Hp(t)?ir.loading(t,s):ir.loading(t.render,{...s,...t}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,d,A)=>{if(d==null){ir.dismiss(i);return}let m={type:u,...o,...s,data:A},h=Hp(d)?{render:d}:d;return i?ir.update(i,{...m,...h}):ir(h.render,{...m,...h}),A},c=JA(e)?e():e;return c.then(u=>l("success",a,u)).catch(u=>l("error",r,u)),c}ir.promise=Xce;ir.success=y5("success");ir.info=y5("info");ir.error=y5("error");ir.warning=y5("warning");ir.warn=ir.warning;ir.dark=(e,t)=>Gv(e,x5("default",{theme:"dark",...t}));function Jce(e){Vce(e)}ir.dismiss=Jce;ir.clearWaitingQueue=qce;ir.isActive=DQ;ir.update=(e,t={})=>{let r=zce(e,t);if(r){let{props:a,content:s}=r,i={delay:100,...a,...t,toastId:t.toastId||e,updateId:LQ()};i.toastId!==e&&(i.staleId=e);let o=i.render||s;delete i.render,Gv(o,i)}};ir.done=e=>{ir.update(e,{progress:1})};ir.onChange=Wce;ir.play=e=>UQ(!0,e);ir.pause=e=>UQ(!1,e);function Zce(e){var t;let{subscribe:r,getSnapshot:a,setProps:s}=S.useRef(Gce(e)).current;s(e);let i=(t=S.useSyncExternalStore(r,a,a))==null?void 0:t.slice();function o(l){if(!i)return[];let c=new Map;return e.newestOnTop&&i.reverse(),i.forEach(u=>{let{position:d}=u.props;c.has(d)||c.set(d,[]),c.get(d).push(u)}),Array.from(c,u=>l(u[0],u[1]))}return{getToastToRender:o,isToastActive:DQ,count:i?.length}}function ede(e){let[t,r]=S.useState(!1),[a,s]=S.useState(!1),i=S.useRef(null),o=S.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:A}=e;Kce({id:e.toastId,containerId:e.containerId,fn:r}),S.useEffect(()=>{if(e.pauseOnFocusLoss)return m(),()=>{h()}},[e.pauseOnFocusLoss]);function m(){document.hasFocus()||b(),window.addEventListener("focus",v),window.addEventListener("blur",b)}function h(){window.removeEventListener("focus",v),window.removeEventListener("blur",b)}function y(L){if(e.draggable===!0||e.draggable===L.pointerType){j();let F=i.current;o.canCloseOnClick=!0,o.canDrag=!0,F.style.transition="none",e.draggableDirection==="x"?(o.start=L.clientX,o.removalDistance=F.offsetWidth*(e.draggablePercent/100)):(o.start=L.clientY,o.removalDistance=F.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function x(L){let{top:F,bottom:Q,left:U,right:P}=i.current.getBoundingClientRect();L.nativeEvent.type!=="touchend"&&e.pauseOnHover&&L.clientX>=U&&L.clientX<=P&&L.clientY>=F&&L.clientY<=Q?b():v()}function v(){r(!0)}function b(){r(!1)}function j(){o.didMove=!1,document.addEventListener("pointermove",E),document.addEventListener("pointerup",k)}function C(){document.removeEventListener("pointermove",E),document.removeEventListener("pointerup",k)}function E(L){let F=i.current;if(o.canDrag&&F){o.didMove=!0,t&&b(),e.draggableDirection==="x"?o.delta=L.clientX-o.start:o.delta=L.clientY-o.start,o.start!==L.clientX&&(o.canCloseOnClick=!1);let Q=e.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;F.style.transform=`translate3d(${Q},0)`,F.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function k(){C();let L=i.current;if(o.canDrag&&o.didMove&&L){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){s(!0),e.closeToast(!0),e.collapseAll();return}L.style.transition="transform 0.2s, opacity 0.2s",L.style.removeProperty("transform"),L.style.removeProperty("opacity")}}let D={onPointerDown:y,onPointerUp:x};return l&&c&&(D.onMouseEnter=b,e.stacked||(D.onMouseLeave=v)),A&&(D.onClick=L=>{d&&d(L),o.canCloseOnClick&&u(!0)}),{playToast:v,pauseToast:b,isRunning:t,preventExitTransition:a,toastRef:i,eventHandlers:D}}var tde=typeof window<"u"?S.useLayoutEffect:S.useEffect,v5=({theme:e,type:t,isLoading:r,...a})=>ya.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...a});function rde(e){return ya.createElement(v5,{...e},ya.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function ade(e){return ya.createElement(v5,{...e},ya.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function nde(e){return ya.createElement(v5,{...e},ya.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function sde(e){return ya.createElement(v5,{...e},ya.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function ide(){return ya.createElement("div",{className:"Toastify__spinner"})}var VC={info:ade,warning:rde,success:nde,error:sde,spinner:ide},ode=e=>e in VC;function lde({theme:e,type:t,isLoading:r,icon:a}){let s=null,i={theme:e,type:t};return a===!1||(JA(a)?s=a({...i,isLoading:r}):S.isValidElement(a)?s=S.cloneElement(a,i):r?s=VC.spinner():ode(t)&&(s=VC[t](i))),s}var cde=e=>{let{isRunning:t,preventExitTransition:r,toastRef:a,eventHandlers:s,playToast:i}=ede(e),{closeButton:o,children:l,autoClose:c,onClick:u,type:d,hideProgressBar:A,closeToast:m,transition:h,position:y,className:x,style:v,progressClassName:b,updateId:j,role:C,progress:E,rtl:k,toastId:D,deleteToast:L,isIn:F,isLoading:Q,closeOnClick:U,theme:P,ariaLabel:I}=e,z=Gt("Toastify__toast",`Toastify__toast-theme--${P}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":k},{"Toastify__toast--close-on-click":U}),W=JA(x)?x({rtl:k,position:y,type:d,defaultClassName:z}):Gt(z,x),ie=lde(e),X=!!E||!c,le={closeToast:m,type:d,theme:P},re=null;return o===!1||(JA(o)?re=o(le):S.isValidElement(o)?re=S.cloneElement(o,le):re=Mce(le)),ya.createElement(h,{isIn:F,done:L,position:y,preventExitTransition:r,nodeRef:a,playToast:i},ya.createElement("div",{id:D,tabIndex:0,onClick:u,"data-in":F,className:W,...s,style:v,ref:a,...F&&{role:C,"aria-label":I}},ie!=null&&ya.createElement("div",{className:Gt("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!Q})},ie),PQ(l,e,!t),re,!e.customProgressBar&&ya.createElement(Uce,{...j&&!X?{key:`p-${j}`}:{},rtl:k,theme:P,delay:c,isRunning:t,isIn:F,closeToast:m,hide:A,type:d,className:b,controlledProgress:X,progress:E||0})))},dde=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),ude=Dce(dde("bounce",!0)),fde={position:"top-right",transition:ude,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function b5(e){let t={...fde,...e},r=e.stacked,[a,s]=S.useState(!0),i=S.useRef(null),{getToastToRender:o,isToastActive:l,count:c}=Zce(t),{className:u,style:d,rtl:A,containerId:m,hotKeys:h}=t;function y(v){let b=Gt("Toastify__toast-container",`Toastify__toast-container--${v}`,{"Toastify__toast-container--rtl":A});return JA(u)?u({position:v,rtl:A,defaultClassName:b}):Gt(b,HC(u))}function x(){r&&(s(!0),ir.play())}return tde(()=>{var v;if(r){let b=i.current.querySelectorAll('[data-in="true"]'),j=12,C=(v=t.position)==null?void 0:v.includes("top"),E=0,k=0;Array.from(b).reverse().forEach((D,L)=>{let F=D;F.classList.add("Toastify__toast--stacked"),L>0&&(F.dataset.collapsed=`${a}`),F.dataset.pos||(F.dataset.pos=C?"top":"bot");let Q=E*(a?.2:1)+(a?0:j*L);F.style.setProperty("--y",`${C?Q:Q*-1}px`),F.style.setProperty("--g",`${j}`),F.style.setProperty("--s",`${1-(a?k:0)}`),E+=F.offsetHeight,k+=.025})}},[a,c,r]),S.useEffect(()=>{function v(b){var j;let C=i.current;h(b)&&((j=C.querySelector('[tabIndex="0"]'))==null||j.focus(),s(!1),ir.pause()),b.key==="Escape"&&(document.activeElement===C||C!=null&&C.contains(document.activeElement))&&(s(!0),ir.play())}return document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}},[h]),ya.createElement("section",{ref:i,className:"Toastify",id:m,onMouseEnter:()=>{r&&(s(!1),ir.pause())},onMouseLeave:x,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},o((v,b)=>{let j=b.length?{...d}:{...d,pointerEvents:"none"};return ya.createElement("div",{tabIndex:-1,className:y(v),"data-stacked":r,style:j,key:`c-${v}`},b.map(({content:C,props:E})=>ya.createElement(cde,{...E,stacked:r,collapseAll:x,isIn:l(E.toastId,E.containerId),key:`t-${E.key}`},C)))}))}const Ju="http://localhost:5000/api",Rk="http://localhost:5000",hde=()=>{const e=localStorage.getItem("schoolId");return console.log("Retrieved schoolId from localStorage:",e),e},xj=e=>/^[0-9a-fA-F]{24}$/.test(e),Ade=()=>{const[e,t]=S.useState(!1),[r,a]=S.useState(null),[s,i]=S.useState(new Set),[o,l]=S.useState(!1),[c,u]=S.useState(null),[d,A]=S.useState([]),[m,h]=S.useState([]),[y,x]=S.useState([]),[v,b]=S.useState(null),[j,C]=S.useState(hde()),[E,k]=S.useState({totalStudent:0,currentStudentCount:0,remainingCapacity:0,canAddStudents:!1}),[D,L]=S.useState(1),[F,Q]=S.useState(1),[U,P]=S.useState(10),I=localStorage.getItem("color")||"#2563eb",[z,W]=S.useState({name:"",className:"",section:""}),[ie,X]=S.useState({name:"",rollNumber:"",studentId:"",schoolId:j,dob:"",gender:"Male",address:"",phone:"",email:"",password:"",fatherName:"",motherName:"",parentPhone:"",classId:"",className:"",profileImage:null,section:""}),[le,re]=S.useState(""),[he,de]=S.useState(""),[ve,B]=S.useState([]),[R,G]=S.useState({csv:!1,excel:!1}),[ne,pe]=S.useState(new Set),[xe,Ae]=S.useState(!1),Y=Qe=>{console.log(` Adding ${Qe} to image errors`),pe(st=>{const tt=new Set(st).add(Qe);return console.log(" Current image errors:",Array.from(tt)),tt})},se=Qe=>{console.log(` Image loaded successfully for student ${Qe}`),pe(st=>{const tt=new Set(st);return tt.delete(Qe),console.log(` Removed ${Qe} from image errors. Current errors:`,Array.from(tt)),tt})},ee=()=>{Ae(!0)},be=()=>{Ae(!1)},Ce=()=>{console.log(" Clearing all image errors"),pe(new Set)},ce=Qe=>{console.log(` Clearing image error for student ${Qe}`),pe(st=>{const tt=new Set(st);return tt.delete(Qe),tt})};S.useEffect(()=>{j&&!xj(j)&&(u(`Invalid School ID format: ${j}. Please log in again.`),console.error("Invalid schoolId format:",j))},[j]);const J=async()=>{try{const Qe=await fetch(`${Ju}/class?schoolId=${j}`);if(!Qe.ok)throw new Error("Failed to fetch classes");const st=await Qe.json();if(!st.success)throw new Error(st.message||"Failed to fetch classes");x(st.data||[])}catch(Qe){console.log(Qe)}};S.useEffect(()=>{J()},[j]),S.useEffect(()=>{(async()=>{if(!j){u("No school ID available. Please log in again."),l(!1);return}try{l(!0),u(null);const st=await fetch(`${Ju}/schools/${j}`,{headers:{Accept:"application/json"}});if(!st.ok){const cr=await st.text();throw console.error("School response:",cr),new Error(`Failed to fetch school: ${st.status}`)}const Ft=(await st.json()).data;if(Ft){h([Ft]);const cr=Ft.totalStudent||0,Dr=Ft.currentStudentCount||0;k({totalStudent:cr,currentStudentCount:Dr,remainingCapacity:cr-Dr,canAddStudents:cr>0})}const _t=new URLSearchParams({page:D,limit:U,name:z.name||"",className:z.className||"",section:z.section||""}),Dt=await fetch(`${Ju}/students/school/${j}?${_t}`,{headers:{Accept:"application/json"}});if(!Dt.ok)throw new Error(`Failed to fetch students: ${Dt.status}`);const Wt=await Dt.json();if(console.log(" Students API response:",Wt),console.log(" Students data:",Wt.data),Wt.data&&Wt.data.length>0&&(console.log(" First student:",Wt.data[0]),console.log(" First student _id:",Wt.data[0]._id),console.log(" First student profileImage:",Wt.data[0].profileImage),Wt.data[0].profileImage)){const cr=Wt.data[0].profileImage.startsWith("http")?Wt.data[0].profileImage:`${Rk}${Wt.data[0].profileImage}`;console.log(" First student image URL:",cr)}A(Wt.data||[]),Q(Wt.totalPages||1),k(cr=>({...cr,currentStudentCount:Wt.totalStudents||0,remainingCapacity:cr.totalStudent-(Wt.totalStudents||0)})),console.log(" About to clear image errors"),Ce(),console.log(" Image errors cleared"),Wt.data?.forEach(cr=>{cr.profileImage&&cr.profileImage.includes("vidyaastra.s3.amazonaws.com")&&ce(cr._id||cr.id)})}catch(st){u(st.message),console.error("Fetch error:",st)}finally{l(!1)}})()},[j,D,U,z.name,z.className,z.section]),S.useEffect(()=>{L(1)},[z.name,z.className,z.section]);const ge=[...new Set(y.map(Qe=>Qe.className))],Je=()=>z.className?[...new Set(y.filter(Qe=>Qe.className===z.className).map(Qe=>Qe.section).filter(Qe=>Qe))]:[],Ke=Qe=>[...new Set(y.filter(st=>st.className===Qe).map(st=>st.section).filter(st=>st))].sort(),Fe=(Qe,st)=>{W(tt=>({...tt,[Qe]:st}))},nt=Qe=>{W(st=>({...st,className:Qe,section:""}))},Se=()=>{W({name:"",className:"",section:""})},Me=Qe=>{Qe>=1&&Qe<=F&&L(Qe)},at=Qe=>{if(!Qe)return"Unknown School";const st=typeof Qe=="object"&&Qe?._id?Qe._id:Qe,tt=m.find(Ft=>Ft._id===st);return tt?tt.name:"Unknown School"},ke=Qe=>{if(!Qe)return{className:"Unknown Class",section:"N/A"};const st=typeof Qe=="object"&&Qe?._id?Qe._id:Qe,tt=y.find(Ft=>Ft._id===st);return tt?{className:tt.className,section:tt.section||"N/A"}:{className:"Unknown Class",section:"N/A"}},Ve=Qe=>{const st=Qe.target.files[0];if(st){X({...ie,profileImage:st});const tt=new FileReader;tt.onloadend=()=>b(tt.result),tt.readAsDataURL(st)}},ze=async()=>{if(r&&r.profileImage)try{if(!(await fetch(`${Ju}/students/${r._id||r.id}/profile-image`,{method:"DELETE",headers:{Accept:"application/json"}})).ok)throw new Error("Failed to delete profile image");A(d.map(st=>(st._id||st.id)===(r._id||r.id)?{...st,profileImage:""}:st))}catch(Qe){console.error("Delete profile image error:",Qe)}X({...ie,profileImage:null}),b(null)},rt=Qe=>/^[A-Za-z\s]+$/.test(Qe),Ge=Qe=>/^\d{10}$/.test(Qe),bt=Qe=>{const{name:st,value:tt}=Qe.target;if(st==="name"||st==="fatherName"||st==="motherName"){(tt===""||/^[A-Za-z\s]*$/.test(tt))&&X({...ie,[st]:tt});return}if(st==="phone"||st==="parentPhone"){(tt===""||/^\d{0,10}$/.test(tt)&&tt.length<=10)&&X({...ie,[st]:tt});return}X({...ie,[st]:tt})},Le=Qe=>{re(Qe);const st=Ke(Qe);if(B(st),de(""),Qe){const tt=y.find(Ft=>Ft.className===Qe&&(!he||Ft.section===he));X(Ft=>({...Ft,classId:tt?._id||"",className:Qe,section:""}))}else X(tt=>({...tt,classId:"",className:"",section:""}))},je=Qe=>{if(de(Qe),le&&Qe){const st=y.find(tt=>tt.className===le&&tt.section===Qe);X(tt=>({...tt,classId:st?._id||"",section:Qe}))}else if(le){const st=y.find(tt=>tt.className===le);X(tt=>({...tt,classId:st?._id||"",section:Qe}))}},Ze=async Qe=>{if(Qe.preventDefault(),!rt(ie.name)){u("Name should contain only alphabets and spaces");return}if(ie.fatherName&&!rt(ie.fatherName)){u("Father's name should contain only alphabets and spaces");return}if(ie.motherName&&!rt(ie.motherName)){u("Mother's name should contain only alphabets and spaces");return}if(ie.phone&&!Ge(ie.phone)){u("Phone number must be exactly 10 digits");return}if(ie.parentPhone&&!Ge(ie.parentPhone)){u("Parent phone number must be exactly 10 digits");return}if(!ie.classId){u("Please select a class and section");return}if(!E.canAddStudents){u("Cannot add students. School capacity is set to 0. Please contact the administrator.");return}if(E.remainingCapacity<=0){u("Cannot add students. School has reached its maximum capacity.");return}try{l(!0),u(null);const st=new FormData;Object.keys(ie).forEach(Wt=>{Wt==="profileImage"&&ie[Wt]?(console.log(" Adding profile image to FormData:",ie[Wt]),st.append("profileImage",ie[Wt])):ie[Wt]!==null&&ie[Wt]!==""&&st.append(Wt,ie[Wt])}),console.log(" FormData contents:");for(let[Wt,cr]of st.entries())console.log(`${Wt}:`,cr);let tt;if(r){if(console.log(" Editing student:",r),console.log(" Student ID:",r._id||r.id),!r._id&&!r.id)throw new Error("Student ID is missing. Cannot update student.");tt=await fetch(`${Ju}/students/${r._id||r.id}`,{method:"PUT",body:st})}else{if(!ie.password)throw new Error("Password is required for new students");tt=await fetch(`${Ju}/students`,{method:"POST",body:st})}if(!tt.ok){const Wt=await tt.json().catch(()=>({}));throw new Error(Wt.message||(r?"Failed to update student":"Failed to create student"))}const Ft=new URLSearchParams({page:D,limit:U,name:z.name||"",className:z.className||"",section:z.section||""}),Dt=await(await fetch(`${Ju}/students/school/${j}?${Ft}`,{headers:{Accept:"application/json"}})).json();if(A(Dt.data||[]),Q(Dt.totalPages||1),k(Wt=>({...Wt,currentStudentCount:Dt.totalStudents||0,remainingCapacity:Wt.totalStudent-(Dt.totalStudents||0)})),r){const Wt=r._id||r.id;pe(cr=>{const Dr=new Set(cr);return Dr.delete(Wt),console.log(` Cleared image error for student ${Wt}`),Dr})}t(!1),a(null),Ae(!1),At(),u(null)}catch(st){u(st.message),console.error("Submission error:",st)}finally{l(!1)}},Te=async()=>{try{G(Sr=>({...Sr,csv:!0}));const Qe=new URLSearchParams({limit:"10000",name:z.name||"",className:z.className||"",section:z.section||""}),st=await fetch(`${Ju}/students/school/${j}/export?${Qe}`,{headers:{Accept:"application/json"}});if(!st.ok)throw new Error(`HTTP error! Status: ${st.status}`);const tt=await st.json(),Ft=m[0],_t=Ft?Ft.name.replace(/[^a-zA-Z0-9]/g,"_"):"school",Dt=tt.data.map(Sr=>({"Student Name":Sr.name||"",Class:Sr?.className||"Unassigned",Section:Sr?.section||"N/A","Roll Number":Sr.rollNumber||"","Student ID":Sr.studentId||"","Date of Birth":Sr.dob?new Date(Sr.dob).toLocaleDateString("en-IN"):"",Gender:Sr.gender||"",Email:Sr.email||"",Phone:Sr.phone||"",Address:Sr.address||"","Father's Name":Sr.fatherName||"","Mother's Name":Sr.motherName||"","Parent Phone":Sr.parentPhone||"","School Name":Ft?Ft.name:"","School Code":Ft?Ft.schoolCode||"N/A":""}));if(Dt.length===0){alert("No data to export");return}const Wt=`${_t}_students_${new Date().toISOString().split("T")[0]}.csv`,cr=Object.keys(Dt[0]),Dr=[cr.join(","),...Dt.map(Sr=>cr.map(ca=>`"${(Sr[ca]||"").toString().replace(/"/g,'""')}"`).join(","))].join(`
`),Ea=new Blob([Dr],{type:"text/csv;charset=utf-8;"}),Fr=document.createElement("a"),jr=URL.createObjectURL(Ea);Fr.setAttribute("href",jr),Fr.setAttribute("download",Wt),Fr.style.visibility="hidden",document.body.appendChild(Fr),Fr.click(),document.body.removeChild(Fr),URL.revokeObjectURL(jr)}catch(Qe){console.error("CSV Export error:",Qe),alert("Error exporting to CSV. Please try again.")}finally{G(Qe=>({...Qe,csv:!1}))}},pt=async()=>{try{G(Sr=>({...Sr,excel:!0}));const Qe=new URLSearchParams({limit:"10000",name:z.name||"",className:z.className||"",section:z.section||""}),st=await fetch(`${Ju}/students/school/${j}/export?${Qe}`,{headers:{Accept:"application/json"}});if(!st.ok)throw new Error(`HTTP error! Status: ${st.status}`);const tt=await st.json(),Ft=m[0],_t=Ft?Ft.name.replace(/[^a-zA-Z0-9]/g,"_"):"school",Dt=tt.data.map(Sr=>({"Student Name":Sr.name||"",Class:Sr?.className||"Unassigned",Section:Sr?.section||"N/A","Roll Number":Sr.rollNumber||"","Student ID":Sr.studentId||"","Date of Birth":Sr.dob?new Date(Sr.dob).toLocaleDateString("en-IN"):"",Gender:Sr.gender||"",Email:Sr.email||"",Phone:Sr.phone||"",Address:Sr.address||"","Father's Name":Sr.fatherName||"","Mother's Name":Sr.motherName||"","Parent Phone":Sr.parentPhone||"","School Name":Ft?Ft.name:"","School Code":Ft?Ft.schoolCode||"N/A":""}));if(Dt.length===0){alert("No data to export");return}const Wt=`${_t}_students_${new Date().toISOString().split("T")[0]}.xlsx`,cr=Ni.json_to_sheet(Dt),Dr=Object.keys(Dt[0]).map((Sr,ca)=>({wch:Math.max(Sr.length,...Dt.map(oa=>(oa[Sr]||"").toString().length))}));cr["!cols"]=Dr;const Ea=Ni.book_new();Ni.book_append_sheet(Ea,cr,"Students");const Fr=[["School Information"],[""],["School Name",Ft?Ft.name:""],["School Code",Ft?Ft.schoolCode||"N/A":""],["Total Students",Dt.length.toString()],["Export Date",new Date().toLocaleDateString("en-IN")],[""],["Filter Applied"],...z.name?[["Name Filter",z.name]]:[],...z.className?[["Class Filter",z.className]]:[],...z.section?[["Section Filter",z.section]]:[]],jr=Ni.aoa_to_sheet(Fr);Ni.book_append_sheet(Ea,jr,"School Info"),qv(Ea,Wt)}catch(Qe){console.error("Excel Export error:",Qe),alert("Error exporting to Excel. Please try again.")}finally{G(Qe=>({...Qe,excel:!1}))}},At=()=>{X({name:"",rollNumber:"",studentId:"",schoolId:j,dob:"",gender:"Male",address:"",phone:"",email:"",password:"",fatherName:"",motherName:"",parentPhone:"",classId:"",className:"",section:"",profileImage:null}),re(""),de(""),B([]),b(null)},qe=async Qe=>{if(console.log("handleDeleteStudent called with:",Qe),console.log("studentId type:",typeof Qe),console.log("studentId value:",Qe),!!window.confirm("Are you sure you want to delete this student?")){if(!Qe){console.error("Student ID is missing or invalid:",Qe),u("Student ID is required");return}if(!j){u("School ID is required");return}if(!xj(Qe)){u("Invalid Student ID format");return}if(!xj(j)){u("Invalid School ID format");return}try{l(!0),console.log("Deleting student:",{studentId:Qe,schoolId:j});const st=await Vt.delete(`${Ju}/students/student/${Qe}`,{data:{schoolId:j}});if(st.status===200){const tt=new URLSearchParams({page:D,limit:U,name:z.name||"",className:z.className||"",section:z.section||""}),_t=await(await fetch(`${Ju}/students/school/${j}?${tt}`,{headers:{Accept:"application/json"}})).json();A(_t.data||[]),Q(_t.totalPages||1),k(Dt=>({...Dt,currentStudentCount:_t.totalStudents||0,remainingCapacity:Dt.totalStudent-(_t.totalStudents||0)}))}else throw new Error(st.data.message||"Failed to delete student")}catch(st){const tt=st.response?.data?.message||st.message||"Failed to delete student";u(tt),console.error("Deletion error:",st)}finally{l(!1)}}},Pe=Qe=>{const st=new Set(s);st.has(Qe)?st.delete(Qe):st.add(Qe),i(st)},mt=Qe=>{if(!Qe)return"";const st=Qe.split(" ");let tt=st[0].substring(0,1).toUpperCase();return st.length>1&&(tt+=st[st.length-1].substring(0,1).toUpperCase()),tt};return S.useEffect(()=>{if(!e)At();else if(r){const Qe=ke(r.classId);re(Qe.className||""),de(Qe.section||"");const st=Ke(Qe.className||"");if(B(st),X({name:r.name,rollNumber:r.rollNumber,studentId:r.studentId,schoolId:j,dob:r.dob,gender:r.gender,address:r.address,phone:r.phone,email:r.email,password:"",fatherName:r.fatherName,motherName:r.motherName,parentPhone:r.parentPhone,classId:r.classId?._id||r.classId||"",profileImage:null,className:Qe.className||"",section:Qe.section||""}),r.profileImage){const tt=r.profileImage.startsWith("/")?r.profileImage:`${r.profileImage}`;b(`${tt}`)}}else re(""),de(""),B([])},[e,r,j,y]),o&&d.length===0&&m.length===0?n.jsx("div",{className:"flex justify-center items-center h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2",style:{borderColor:I}})}):n.jsxs("div",{className:"space-y-6",children:[c&&n.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[n.jsx("strong",{className:"font-bold",children:"Error: "}),n.jsx("span",{className:"block sm:inline",children:c}),n.jsx("button",{onClick:()=>u(null),className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:n.jsx(pr,{className:"fill-current h-6 w-6 text-red-500"})})]}),n.jsx("div",{className:Gt("text-white p-6 rounded-b-3xl shadow-lg"),style:{backgroundColor:I},children:n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Student Management"}),n.jsxs("p",{className:"text-gray-200",children:["Manage students for ",at(j)]}),E.totalStudent===0?n.jsx("p",{className:"text-red-200",children:"Cannot add students. School capacity is set to 0. Please contact the administrator for permission."}):n.jsxs("p",{className:"text-gray-200",children:["Student Capacity: ",E.currentStudentCount," /"," ",E.totalStudent,E.remainingCapacity>0?n.jsxs("span",{children:[" ","(Can add ",E.remainingCapacity," more student",E.remainingCapacity>1?"s":"",")"]}):n.jsx("span",{children:" (No more students can be added)"})]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{onClick:Te,disabled:R.csv||d.length===0,className:Gt("flex items-center space-x-2 px-4 py-2 rounded-lg shadow-lg transition-all duration-200",R.csv||d.length===0?"opacity-50 cursor-not-allowed bg-gray-400":"bg-green-600 hover:bg-green-700 text-white"),title:"Export to CSV",children:[R.csv?n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):n.jsx(Ln,{className:"w-4 h-4"}),n.jsx("span",{children:"CSV"})]}),n.jsxs("button",{onClick:pt,disabled:R.excel||d.length===0,className:Gt("flex items-center space-x-2 px-4 py-2 rounded-lg shadow-lg transition-all duration-200",R.excel||d.length===0?"opacity-50 cursor-not-allowed bg-gray-400":"bg-blue-600 hover:bg-blue-700 text-white"),title:"Export to Excel",children:[R.excel?n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):n.jsx(Ln,{className:"w-4 h-4"}),n.jsx("span",{children:"Excel"})]}),n.jsxs("button",{onClick:()=>t(!0),className:Gt("text-white px-4 py-2 rounded-lg shadow-lg flex items-center space-x-2",(!E.canAddStudents||E.remainingCapacity<=0)&&"opacity-50 cursor-not-allowed"),style:{backgroundColor:I},disabled:!E.canAddStudents||E.remainingCapacity<=0,title:E.canAddStudents?E.remainingCapacity<=0?"Student limit reached":"Add a new student":"School capacity is 0. Contact administrator.",children:[n.jsx(bs,{style:{color:"white"}})," ",n.jsx("span",{children:"Add Student"})]})]})]})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg",children:[n.jsx("div",{className:"p-6 border-b flex justify-between items-center",children:n.jsx("h2",{className:"text-lg font-bold",children:"All Students"})}),n.jsx("div",{className:"p-4 border-b bg-gray-50",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name"}),n.jsxs("div",{className:"relative",children:[n.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search by name",value:z.name,onChange:Qe=>Fe("name",Qe.target.value),className:"w-full pl-10 p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:I,outlineColor:I}})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Class"}),n.jsxs("select",{value:z.className,onChange:Qe=>nt(Qe.target.value),className:"w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:I,outlineColor:I},children:[n.jsx("option",{value:"",children:"All Classes"}),ge.map(Qe=>n.jsx("option",{value:Qe,children:Qe},Qe))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Section"}),n.jsxs("select",{value:z.section,onChange:Qe=>Fe("section",Qe.target.value),className:"w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:I,outlineColor:I},disabled:!z.className,children:[n.jsx("option",{value:"",children:"All Sections"}),Je().map(Qe=>n.jsx("option",{value:Qe,children:Qe},Qe))]})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{onClick:Se,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Reset Filters"})})]})}),n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"Expand"}),n.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"Student"}),n.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"Class"}),n.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"Section"}),n.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"School"}),n.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"Roll No"}),n.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"Actions"})]})}),n.jsxs("tbody",{className:"divide-y",children:[console.log("Rendering students:",d),d.map(Qe=>{console.log("Rendering student:",Qe);const{className:st,section:tt}=ke(Qe.classId);return n.jsxs(n.Fragment,{children:[n.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>Pe(Qe._id),children:[n.jsx("td",{className:"p-4",children:n.jsx("button",{onClick:Ft=>{Ft.stopPropagation(),Pe(Qe._id)},children:s.has(Qe._id)?n.jsx(Jp,{style:{color:I}}):n.jsx(ro,{style:{color:I}})})}),n.jsx("td",{className:"p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center overflow-hidden",style:{backgroundColor:`${I}20`,color:I},children:(()=>{const Ft=Qe._id||Qe.id,_t=Qe.profileImage,Dt=ne.has(Ft),Wt=_t&&_t.includes("vidyaastra.s3.amazonaws.com");return console.log(` ${Qe.name} - hasImage: ${_t}, hasError: ${Dt}, shouldShowImage: ${Wt}`),console.log(` ${Qe.name} - profileImage:`,Qe.profileImage),console.log(` ${Qe.name} - studentId:`,Ft),Wt?n.jsx("img",{src:Qe.profileImage,alt:Qe.name,className:"w-full h-full object-cover",onError:cr=>{console.log(` Image failed to load for ${Qe.name}:`,Qe.profileImage),console.log(" Error event:",cr),console.log(" Image src:",cr.target.src),Y(Ft)},onLoad:cr=>{console.log(` Image loaded successfully for ${Qe.name}:`,Qe.profileImage),console.log(" Loaded image src:",cr.target.src),se(Ft)},onLoadStart:cr=>{console.log(` Starting to load image for ${Qe.name}:`,Qe.profileImage),console.log(" Loading image src:",cr.target.src)}},`${Ft}-${Qe.profileImage}`):n.jsx("span",{className:"text-xl",style:{color:I},children:mt(Qe.name)})})()}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"font-medium",children:Qe.name}),n.jsx("div",{className:"text-gray-500",children:Qe.email})]})]})}),n.jsx("td",{className:"p-4",children:n.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:st})}),n.jsx("td",{className:"p-4",children:n.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs",children:tt})}),n.jsx("td",{className:"p-4",children:n.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 rounded-full text-xs",children:at(Qe.schoolId)})}),n.jsx("td",{className:"p-4",children:n.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded text-sm",children:Qe.rollNumber})}),n.jsx("td",{className:"p-4",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:Ft=>{Ft.stopPropagation(),a(Qe),Ae(!1),t(!0)},className:"p-2 rounded hover:bg-gray-100 transition-colors",style:{color:I},title:"Edit Student",children:n.jsx(mc,{className:"w-4 h-4"})}),n.jsx("button",{onClick:Ft=>{Ft.stopPropagation(),console.log("Delete button clicked for student:",Qe),console.log("Student _id:",Qe._id),console.log("Student id:",Qe.id),console.log("All student keys:",Object.keys(Qe));const _t=Qe._id||Qe.id||Qe.studentId;if(console.log("Using studentId:",_t),!_t){console.error("No valid student ID found in student object:",Qe),u("Student ID not found in student data");return}qe(_t)},className:"p-2 rounded hover:bg-gray-100 transition-colors",style:{color:"#ef4444"},title:"Delete Student",children:n.jsx(Jn,{className:"w-4 h-4"})})]})})]},Qe._id),s.has(Qe._id)&&n.jsx("tr",{children:n.jsx("td",{colSpan:"7",className:"p-4 bg-gray-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border",children:[n.jsx("h3",{className:"font-semibold mb-4 text-lg",style:{color:I},children:"Student Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium border-b pb-1 mb-3",children:"Personal Information"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"font-medium",children:"Date of Birth:"}),n.jsx("span",{children:Qe.dob?new Date(Qe.dob).toLocaleDateString("en-IN"):"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"font-medium",children:"Gender:"}),n.jsx("span",{children:Qe.gender||"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"font-medium",children:"Address:"}),n.jsx("span",{children:Qe.address||"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"font-medium",children:"Phone:"}),n.jsx("span",{children:Qe.phone||"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"font-medium",children:"Email:"}),n.jsx("span",{children:Qe.email||"N/A"})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium border-b pb-1 mb-3",children:"Academic Information"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"font-medium",children:"Class:"}),n.jsx("span",{children:st||"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"font-medium",children:"Section:"}),n.jsx("span",{children:tt||"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"font-medium",children:"Roll Number:"}),n.jsx("span",{children:Qe.rollNumber||"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"font-medium",children:"Student ID:"}),n.jsx("span",{children:Qe.studentId||"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"font-medium",children:"School:"}),n.jsx("span",{children:at(Qe.schoolId)})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium border-b pb-1 mb-3",children:"Parent Information"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"font-medium",children:"Father's Name:"}),n.jsx("span",{children:Qe.fatherName||"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"font-medium",children:"Mother's Name:"}),n.jsx("span",{children:Qe.motherName||"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"font-medium",children:"Parent Phone:"}),n.jsx("span",{children:Qe.parentPhone||"N/A"})]})]})]})]})]})})})]})})]})]}),!d.length&&!o&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(rn,{className:"w-12 h-12 mx-auto mb-4",style:{color:I}}),n.jsx("h3",{className:"text-lg font-medium mb-2",children:"No students found"}),z.name||z.className||z.section?n.jsx("p",{className:"text-gray-600 mb-4",children:"Try adjusting your filters to see students."}):n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-gray-600 mb-4",children:"No students are currently enrolled."}),E.canAddStudents&&E.remainingCapacity>0&&n.jsx("button",{onClick:()=>t(!0),className:Gt("text-white px-6 py-2 rounded-lg shadow-lg font-medium transition-all duration-200"),style:{backgroundColor:I},children:"Add First Student"})]}),(z.name||z.className||z.section)&&n.jsx("button",{onClick:Se,className:"mt-4 text-gray-600 hover:text-gray-800 underline",children:"Clear all filters"})]}),d.length>0&&n.jsxs("div",{className:"p-4 flex justify-between items-center bg-gray-50 border-t",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(D-1)*U+1," to"," ",Math.min(D*U,F*U)," of"," ",F*U," entries"]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{onClick:()=>Me(D-1),disabled:D===1,className:Gt("px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center space-x-2",D===1?"opacity-50 cursor-not-allowed bg-gray-200 text-gray-400":"bg-white border border-gray-300 hover:bg-gray-50 text-gray-700"),children:[n.jsx(Do,{className:"w-4 h-4"}),n.jsx("span",{children:"Previous"})]}),n.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:F},(Qe,st)=>st+1).map(Qe=>n.jsx("button",{onClick:()=>Me(Qe),className:Gt("px-3 py-2 rounded-lg font-medium transition-all duration-200",D===Qe?"bg-blue-600 text-white shadow-md":"bg-white border border-gray-300 hover:bg-gray-50 text-gray-700"),children:Qe},Qe))}),n.jsxs("button",{onClick:()=>Me(D+1),disabled:D===F,className:Gt("px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center space-x-2",D===F?"opacity-50 cursor-not-allowed bg-gray-200 text-gray-400":"bg-white border border-gray-300 hover:bg-gray-50 text-gray-700"),children:[n.jsx("span",{children:"Next"}),n.jsx(ro,{className:"w-4 h-4"})]})]})]})]})]}),e&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-auto",children:n.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:Gt("text-white p-6 rounded-t-lg shadow-lg sticky top-0 z-10"),style:{backgroundColor:I},children:[n.jsx("h2",{className:"text-xl font-bold text-white",children:r?"Edit Student":"Add Student"}),n.jsx("button",{onClick:()=>t(!1),className:"absolute top-4 right-4 flex items-center justify-center w-8 h-8 hover:bg-white/20 rounded-full transition-colors",style:{color:"white"},children:n.jsx(pr,{className:"w-6 h-6"})})]}),n.jsxs("form",{onSubmit:Ze,className:"p-6 space-y-4",children:[n.jsxs("div",{className:"flex flex-col items-center mb-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 overflow-hidden mb-2 border-2 border-gray-300",children:v?n.jsx("img",{src:v,alt:"Preview",className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500 bg-gradient-to-br from-gray-100 to-gray-200",children:r?.profileImage&&!xe?n.jsx("img",{src:r.profileImage.startsWith("http")?`${Ju}/proxy-image?url=${encodeURIComponent(r.profileImage)}&t=${Date.now()}`:`${Rk}${r.profileImage}?t=${Date.now()}`,alt:"Current Profile",className:"w-full h-full object-cover",onError:ee,onLoad:be},`edit-${r._id||r.id}-${r.profileImage}-${Date.now()}`):n.jsx("span",{className:"text-2xl font-bold",style:{color:I},children:mt(ie.name||r?.name||"SN")})})}),(v||r?.profileImage)&&n.jsx("button",{type:"button",onClick:ze,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1.5 shadow-lg hover:bg-red-600 transition-colors",title:"Remove Photo",children:n.jsx(pr,{className:"w-3 h-3"})})]}),n.jsxs("label",{className:"cursor-pointer mt-2 hover:opacity-80 transition-opacity",children:[n.jsx("span",{className:"text-sm font-medium",style:{color:I},children:"Upload Photo"}),n.jsx("input",{type:"file",accept:"image/*",onChange:Ve,className:"hidden"})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{name:"name",label:"Student Name *",type:"text",placeholder:"Enter full student name",required:!0},{name:"rollNumber",label:"Roll Number *",type:"text",placeholder:"Enter roll number",required:!0},{name:"studentId",label:"Student ID *",type:"text",placeholder:"Enter unique student ID",required:!0},{name:"dob",label:"Date of Birth *",type:"date",placeholder:"Select date of birth",required:!0},{name:"gender",label:"Gender *",type:"select",options:["Male","Female","Other"],required:!0},{name:"phone",label:"Phone Number",type:"tel",placeholder:"Enter 10-digit phone number"},{name:"email",label:"Email Address",type:"email",placeholder:"Enter email address"},{name:"password",label:r?"New Password (Optional)":"Password *",type:"password",required:!r,placeholder:r?"Leave blank to keep current":"Enter strong password"},{name:"fatherName",label:"Father's Name",type:"text",placeholder:"Enter father's full name"},{name:"motherName",label:"Mother's Name",type:"text",placeholder:"Enter mother's full name"},{name:"parentPhone",label:"Parent Phone",type:"tel",placeholder:"Enter 10-digit parent phone number"}].map(Qe=>n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:Qe.label}),Qe.type==="select"?n.jsxs("select",{name:Qe.name,value:ie[Qe.name]||"",onChange:bt,className:Gt("w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all duration-200","disabled:bg-gray-100 disabled:cursor-not-allowed"),style:{borderColor:I,outlineColor:I,backgroundColor:Qe.required&&!ie[Qe.name]?"#fef2f2":"white"},required:Qe.required,disabled:Qe.name==="password"&&r&&!ie.password,children:[n.jsxs("option",{value:"",children:["Select ",Qe.label.split(" ")[0]]}),Qe.options.map(st=>n.jsx("option",{value:st,children:st},st))]}):n.jsx("input",{type:Qe.type,name:Qe.name,value:ie[Qe.name]||"",onChange:bt,placeholder:Qe.placeholder||"",required:Qe.required,className:Gt("w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all duration-200","disabled:bg-gray-100 disabled:cursor-not-allowed"),style:{borderColor:I,outlineColor:I,backgroundColor:Qe.required&&!ie[Qe.name]?"#fef2f2":"white"},disabled:Qe.name==="password"&&r&&!ie.password})]},Qe.name))}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:["Class Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{value:le,onChange:Qe=>Le(Qe.target.value),className:Gt("w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all duration-200",le?"":"bg-red-50 border-red-200"),style:{borderColor:I,outlineColor:I},required:!0,children:[n.jsx("option",{value:"",children:"Select Class Name"}),ge.map(Qe=>n.jsx("option",{value:Qe,children:Qe},Qe))]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:["Section ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{value:he,onChange:Qe=>je(Qe.target.value),className:Gt("w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all duration-200",le&&!he?"bg-red-50 border-red-200":"",le?"":"bg-gray-100 cursor-not-allowed"),style:{borderColor:I,outlineColor:I},disabled:!le,required:!0,children:[n.jsx("option",{value:"",children:"Select Section"}),ve.length>0?ve.map(Qe=>n.jsx("option",{value:Qe,children:Qe},Qe)):le?n.jsx("option",{disabled:!0,children:"No sections available"}):n.jsx("option",{disabled:!0,children:"Select class first"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Address ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{name:"address",value:ie.address||"",onChange:bt,required:!0,rows:"3",placeholder:"Enter complete address",className:Gt("w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all duration-200 resize-none",ie.address?"":"bg-red-50 border-red-200"),style:{borderColor:I,outlineColor:I}})]}),c&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Da,{className:"w-5 h-5 mr-2 flex-shrink-0"}),n.jsx("span",{className:"text-sm",children:c})]})}),n.jsxs("div",{className:"sticky bottom-0 bg-white pt-4 pb-2 border-t flex justify-end space-x-3",children:[n.jsx("button",{type:"button",onClick:()=>t(!1),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium transition-colors",disabled:o,children:"Cancel"}),n.jsx("button",{type:"submit",className:Gt("px-6 py-2 rounded-lg shadow-lg font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all duration-200 flex items-center space-x-2",o?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white"),style:{backgroundColor:o?"#9CA3AF":I,borderColor:I},disabled:o||!E.canAddStudents||E.remainingCapacity<=0||!ie.classId||!ie.name||!ie.rollNumber||!ie.studentId||!ie.dob||!ie.gender||!ie.address,children:o?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n.jsx("span",{children:r?"Updating...":"Creating..."})]}):r?"Update Student":"Create Student"})]})]})]})})]})};var yj={exports:{}},vj={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qk;function mde(){if(Qk)return vj;Qk=1;var e=Ux();function t(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var r=typeof Object.is=="function"?Object.is:t,a=e.useSyncExternalStore,s=e.useRef,i=e.useEffect,o=e.useMemo,l=e.useDebugValue;return vj.useSyncExternalStoreWithSelector=function(c,u,d,A,m){var h=s(null);if(h.current===null){var y={hasValue:!1,value:null};h.current=y}else y=h.current;h=o(function(){function v(k){if(!b){if(b=!0,j=k,k=A(k),m!==void 0&&y.hasValue){var D=y.value;if(m(D,k))return C=D}return C=k}if(D=C,r(j,k))return D;var L=A(k);return m!==void 0&&m(D,L)?(j=k,D):(j=k,C=L)}var b=!1,j,C,E=d===void 0?null:d;return[function(){return v(u())},E===null?void 0:function(){return v(E())}]},[u,d,A,m]);var x=a(c,h[0],h[1]);return i(function(){y.hasValue=!0,y.value=x},[x]),l(x),x},vj}var Hk;function pde(){return Hk||(Hk=1,yj.exports=mde()),yj.exports}var gde=pde();function xde(e){e()}function yde(){let e=null,t=null;return{clear(){e=null,t=null},notify(){xde(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let a=e;for(;a;)r.push(a),a=a.next;return r},subscribe(r){let a=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!a||e===null||(a=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var $k={notify(){},get:()=>[]};function vde(e,t){let r,a=$k,s=0,i=!1;function o(x){d();const v=a.subscribe(x);let b=!1;return()=>{b||(b=!0,v(),A())}}function l(){a.notify()}function c(){y.onStateChange&&y.onStateChange()}function u(){return i}function d(){s++,r||(r=e.subscribe(c),a=yde())}function A(){s--,r&&s===0&&(r(),r=void 0,a.clear(),a=$k)}function m(){i||(i=!0,d())}function h(){i&&(i=!1,A())}const y={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:m,tryUnsubscribe:h,getListeners:()=>a};return y}var bde=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wde=bde(),Nde=()=>typeof navigator<"u"&&navigator.product==="ReactNative",jde=Nde(),Sde=()=>wde||jde?S.useLayoutEffect:S.useEffect,Cde=Sde(),Ede=Symbol.for("react-redux-context"),Bde=typeof globalThis<"u"?globalThis:{};function Tde(){if(!S.createContext)return{};const e=Bde[Ede]??=new Map;let t=e.get(S.createContext);return t||(t=S.createContext(null),e.set(S.createContext,t)),t}var A0=Tde();function Fde(e){const{children:t,context:r,serverState:a,store:s}=e,i=S.useMemo(()=>{const c=vde(s);return{store:s,subscription:c,getServerState:a?()=>a:void 0}},[s,a]),o=S.useMemo(()=>s.getState(),[s]);Cde(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==s.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const l=r||A0;return S.createElement(l.Provider,{value:i},t)}var RQ=Fde;function CB(e=A0){return function(){return S.useContext(e)}}var QQ=CB();function HQ(e=A0){const t=e===A0?QQ:CB(e),r=()=>{const{store:a}=t();return a};return Object.assign(r,{withTypes:()=>r}),r}var _de=HQ();function kde(e=A0){const t=e===A0?_de:HQ(e),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var $Q=kde(),Ide=(e,t)=>e===t;function Pde(e=A0){const t=e===A0?QQ:CB(e),r=(a,s={})=>{const{equalityFn:i=Ide}=typeof s=="function"?{equalityFn:s}:s,o=t(),{store:l,subscription:c,getServerState:u}=o;S.useRef(!0);const d=S.useCallback({[a.name](m){return a(m)}}[a.name],[a]),A=gde.useSyncExternalStoreWithSelector(c.addNestedSub,l.getState,u||l.getState,d,i);return S.useDebugValue(A),A};return Object.assign(r,{withTypes:()=>r}),r}var Xn=Pde();const Qm="http://localhost:5000/api",Lde=()=>{const e=localStorage.getItem("schoolId"),t=localStorage.getItem("color")||"#2563eb",{classes:r,loading:a,error:s}=Xn(Ge=>({classes:Ge.classes.classes?.data||[],loading:Ge.classes.loading,error:Ge.classes.error})),i=new Date().toISOString().split("T")[0],[o,l]=S.useState(i),[c,u]=S.useState(""),[d,A]=S.useState(""),[m,h]=S.useState(""),[y,x]=S.useState(!0),[v,b]=S.useState([]),[j,C]=S.useState([]),[E,k]=S.useState(!1),[D,L]=S.useState(""),[F,Q]=S.useState(""),[U,P]=S.useState(null),[I,z]=S.useState(1),[W]=S.useState(10),[ie,X]=S.useState(1),[le,re]=S.useState(1),he={present:{icon:hi,color:"text-white px-3 py-2 rounded-lg shadow-lg",style:{backgroundColor:t}},absent:{icon:pr,color:"bg-red-500 text-white",style:{backgroundColor:"#ef4444"}},late:{icon:fn,color:"bg-orange-500 text-white",style:{backgroundColor:"#f59e0b"}},holiday:{icon:rn,color:"bg-purple-500 text-white",style:{backgroundColor:"#8b5cf6"}}},de=Ge=>{Q(Ge),setTimeout(()=>Q(""),5e3)},ve=Ge=>{L(Ge),setTimeout(()=>L(""),5e3)};S.useEffect(()=>{if(!e){L("School ID not found. Please login again.");return}console.log("Current School ID:",e)},[e]);const B=Ge=>Ge?new Date(Ge).toISOString().split("T")[0]:null,R=Ge=>Ge?Ge.split("T")[0]:null,G=S.useCallback(async(Ge=1,bt=!1)=>{if(e){k(!0);try{console.log("Fetching students for schoolId:",e,"page:",Ge,"loadAll:",bt);const je=await fetch(`${Qm}/students/school/${e}?page=${Ge}&limit=${bt?100:50}`);if(je.ok){const Ze=await je.json();console.log("Students API response:",Ze);const Te=Array.isArray(Ze.data)?Ze.data:[];re(Ze.totalPages||1),C(bt?pt=>{const At=[...pt,...Te],qe=At.filter((Pe,mt,Qe)=>mt===Qe.findIndex(st=>st._id===Pe._id));return console.log(`Combined students: ${At.length}, Unique: ${qe.length}`),qe}:Te)}else console.error("Failed to fetch students:",je.status),await ne()}catch(Le){console.error("Error fetching students:",Le),await ne()}finally{k(!1)}}},[e]),ne=async()=>{try{const Ge=await fetch(`${Qm}/students`);if(Ge.ok){const bt=await Ge.json();console.log("All students API response:",bt);const je=(Array.isArray(bt)?bt:Array.isArray(bt.data)?bt.data:[]).filter(Ze=>typeof Ze.schoolId=="object"&&Ze.schoolId?._id?Ze.schoolId._id===e:Ze.schoolId===e||Ze.schoolId?.toString()===e);C(je),console.log("Fallback - Filtered students loaded:",je.length)}else console.error("Failed to fetch all students:",Ge.status),C([]),ve("Failed to fetch students")}catch(Ge){console.error("Error fetching all students:",Ge),C([]),ve("Error connecting to server while fetching students.")}},pe=S.useCallback(async()=>{if(!(!e||!o)){k(!0);try{console.log("Fetching attendance for school:",e,"date:",o);const Ge=B(o);console.log("Formatted API date:",Ge);const bt=await fetch(`${Qm}/attendance/by-date?schoolId=${e}&date=${Ge}`);if(bt.ok){const Le=await bt.json();if(console.log("Attendance API Response:",Le),!Le.success)throw new Error(Le.message||"Failed to fetch attendance records");const je=(Le.data||[]).map(Ze=>({...Ze,date:R(Ze.date),studentId:typeof Ze.studentId=="string"?{_id:Ze.studentId}:Ze.studentId}));b(je),console.log(`Processed attendance records loaded for ${o}:`,je.length)}else console.error("Failed to fetch attendance:",bt.status),b([]),ve("Failed to fetch attendance records")}catch(Ge){console.error("Error fetching attendance:",Ge),b([]),ve("Error connecting to server while fetching attendance.")}finally{k(!1)}}},[e,o]);S.useEffect(()=>{e&&(z(1),G(1,!1))},[e]),S.useEffect(()=>{e&&o&&(b([]),pe())},[e,o,pe]);const xe=S.useMemo(()=>j.length===0?[]:(console.log(`Processing ${j.length} students with ${v.length} attendance records`),j.map(Ge=>{const Le=(At=>At._id?At._id:At.id?At.id:At.studentId?._id?At.studentId._id:null)(Ge),je=v.find(At=>(At.studentId?._id||At.studentId)===Le);let Ze="N/A",Te="N/A";if(Ge.classId){const At=r.find(qe=>{const Pe=typeof Ge.classId=="object"&&Ge.classId?._id?Ge.classId._id:Ge.classId;return qe._id===Pe});At&&(Ze=At.className||"N/A",Te=At.section||"N/A")}const pt=je?.status?.toLowerCase()||"absent";return{...Ge,id:Le,attendanceId:je?._id,status:pt,class:Ze,section:Te,classDisplay:`${Ze} ${Te!=="N/A"?`(${Te})`:""}`.trim(),attendanceDate:je?.date||o}})),[j,v,r,o]),Ae=S.useMemo(()=>{if(xe.length===0)return[];const Ge=m.toLowerCase();return xe.filter(bt=>{const Le=!m||(bt.name?.toLowerCase()||"").includes(Ge)||(bt.rollNumber?.toString()||"").includes(Ge)||(bt.studentId?.toLowerCase()||"").includes(Ge),je=!c||bt.class===c,Ze=!d||bt.section===d;return Le&&je&&Ze})},[xe,c,d,m]),Y=Math.ceil(Ae.length/W),se=(I-1)*W,ee=Math.min(se+W,Ae.length),be=Ae.slice(se,ee);S.useEffect(()=>{z(1)},[c,d,m]),S.useEffect(()=>{if((c||d||m)&&j.length<500&&!E&&ie<le){const Ge=ie+1;console.log(`Loading more students (page ${Ge}) due to filters`),X(Ge),G(Ge,!0)}},[c,d,m,ie,le,j.length,E]),S.useEffect(()=>{s&&ve("Failed to load classes from Redux")},[s]);const Ce=Ae.length,ce=Ae.filter(Ge=>Ge.status==="present").length,J=Ae.filter(Ge=>Ge.status==="absent").length,ge=Ae.filter(Ge=>Ge.status==="late").length,Je=[{icon:rn,value:Ce,label:Ce>0?`Total (${j.length} Students)`:"Total Students",color:"green"},{icon:hi,value:ce,label:"Present",color:"green"},{icon:pr,value:J,label:"Absent",color:"red"},{icon:fn,value:ge,label:"Late",color:"orange"}],Ke=()=>{if(Ae.length===0){ve("No data to export");return}try{const Ge=Ae.map(Te=>({"Roll Number":Te.rollNumber||"-","Student Name":Te.name||"Unknown","Student ID":Te.studentId||"-",Class:Te.classDisplay||"N/A",Status:(Te.status||"absent").charAt(0).toUpperCase()+(Te.status||"absent").slice(1),Date:o})),bt=Ni.json_to_sheet(Ge),Le=Ni.book_new();Ni.book_append_sheet(Le,bt,`Attendance_${o}`);const je=[{wch:12},{wch:20},{wch:15},{wch:15},{wch:10},{wch:12}];bt["!cols"]=je;const Ze=Ni.decode_range(bt["!ref"]);for(let Te=Ze.s.c;Te<=Ze.e.c;++Te){const pt=Ni.encode_col(Te)+Ze.s.r;bt[pt]&&(bt[pt].s={font:{bold:!0,color:{rgb:"FFFFFF"}},fill:{fgColor:{rgb:t.replace("#","")}},alignment:{horizontal:"center"}})}qv(Le,`Attendance_${o}.xlsx`),de(`Exported ${Ae.length} records to Excel`)}catch(Ge){console.error("Export error:",Ge),ve("Failed to export to Excel")}},Fe=async(Ge,bt)=>{if(!e){ve("School ID not found. Please login again.");return}console.log(`Changing attendance for studentId: ${Ge} to status: ${bt} for date: ${o}`);const Le=j.find(je=>je.id===Ge||je._id===Ge);if(!Le){ve("Student not found or does not belong to your school.");return}P(Ge);try{const je=B(o),Ze=v.find(mt=>{const Qe=mt.studentId?._id||mt.studentId,st=R(mt.date);return console.log(`Checking record: studentId=${Qe}, recordDate=${st}, targetStudentId=${Ge}, targetDate=${je}`),Qe===Ge&&st===je}),Te={studentId:Ge,date:je,status:bt.toLowerCase(),schoolId:e},pt=Ze?`${Qm}/attendance/${Ze._id}`:`${Qm}/attendance`,At=Ze?"PUT":"POST";console.log(`${At} request to ${pt} with data:`,Te);const qe=await fetch(pt,{method:At,headers:{"Content-Type":"application/json"},body:JSON.stringify(Te)}),Pe=await qe.json();console.log("Attendance API response:",Pe),qe.ok?(de(`Attendance marked as ${bt} for ${Le.name}`),await pe()):ve(Pe.message||"Failed to update attendance")}catch(je){console.error("Error updating attendance:",je),ve(`Error: ${je.message}`)}finally{P(null)}},nt=async Ge=>{if(!e){ve("School ID not found. Please login again.");return}if(Ae.length===0){ve("No students found to update.");return}if(confirm(`Mark ${Ae.length} students as ${Ge}?`)){k(!0);try{const bt=B(o),Le=Ae.map(Te=>{const pt=v.find(At=>{const qe=At.studentId?._id||At.studentId,Pe=R(At.date);return console.log(`Bulk check: studentId=${qe}, recordDate=${Pe}, targetStudentId=${Te.id}, targetDate=${bt}`),qe===Te.id&&Pe===bt});return fetch(pt?`${Qm}/attendance/${pt._id}`:`${Qm}/attendance`,{method:pt?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({studentId:Te.id,date:bt,status:Ge.toLowerCase(),schoolId:e})})}),Ze=(await Promise.allSettled(Le)).filter(Te=>Te.status==="fulfilled").length;de(`Successfully updated ${Ze} out of ${Ae.length} students as ${Ge}`),await pe()}catch(bt){console.error("Bulk attendance error:",bt),ve(`Bulk update failed: ${bt.message}`)}finally{k(!1)}}},Se=Ge=>{const bt=Ge.target.value;console.log("Selected class changed to:",bt),u(bt),A("")},Me=Ge=>{const bt=Ge.target.value;console.log("Selected section changed to:",bt),A(bt)},at=S.useMemo(()=>{const Ge=xe.filter(bt=>bt.class!=="N/A").map(bt=>bt.class);return[...new Set(Ge)].sort()},[xe]),ke=S.useCallback(()=>{if(!c||xe.length===0)return[];const Ge=xe.filter(bt=>bt.class===c&&bt.section!=="N/A").map(bt=>bt.section);return[...new Set(Ge)].sort()},[xe,c]),Ve=S.useCallback(Ge=>{const bt=Math.ceil(Ae.length/W);Ge>=1&&Ge<=bt&&z(Ge)},[Ae.length,W]),ze=S.useCallback(()=>{u(""),A(""),h("")},[]),rt=({student:Ge})=>{const bt=Ge.name?.charAt(0)?.toUpperCase()||"?";return Ge.profileImage?n.jsxs("div",{className:"relative h-8 w-8 rounded-full overflow-hidden shadow-sm",children:[n.jsx("img",{src:`${Qm.replace("/api","")}${Ge.profileImage}`,alt:Ge.name,className:"h-full w-full object-cover",onError:Le=>{Le.target.style.display="none",Le.target.parentElement.innerHTML=`
              <div class="h-full w-full flex items-center justify-center text-white text-sm font-semibold" style="background-color: ${t}">
                ${bt}
              </div>
            `}}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white text-sm font-semibold",style:{backgroundColor:t,display:"none"},children:bt})]}):n.jsx("div",{className:"h-8 w-8 rounded-full flex items-center justify-center text-white text-sm font-semibold shadow-sm",style:{backgroundColor:t},children:bt})};return e?E&&j.length===0?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Rr,{className:"w-12 h-12 mx-auto text-blue-600 animate-spin mb-4"}),n.jsx("p",{className:"text-lg font-medium text-gray-700",children:"Loading attendance data..."}),n.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["School ID: ",e]})]})}):n.jsxs("div",{className:"space-y-6 bg-gray-50 min-h-screen",children:[F&&n.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2 max-w-md",children:[n.jsx(Oo,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"truncate",children:F}),n.jsx("button",{onClick:()=>Q(""),className:"ml-auto text-green-700 hover:text-green-900",children:n.jsx(pr,{className:"w-4 h-4"})})]}),D&&n.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2 max-w-md",children:[n.jsx(Da,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"truncate",children:D}),n.jsx("button",{onClick:()=>L(""),className:"ml-auto text-red-700 hover:text-red-900",children:n.jsx(pr,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"text-white p-6 rounded-b-3xl shadow-lg",style:{backgroundColor:t},children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Attendance Management"}),n.jsx("p",{className:"text-blue-100",children:"Mark and manage student attendance"}),n.jsxs("div",{className:"text-blue-200 text-sm mt-1",children:["School ID: ",e," | ",be.length," of ",Ce," students",(c||d||m)&&" (filtered)",j.length>0&&` | ${j.length} total loaded`,v.length>0&&` | ${v.length} attendance records`]})]}),n.jsxs("div",{className:"flex gap-2 flex-wrap",children:[n.jsxs("button",{onClick:Ke,className:"px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 hover:bg-opacity-90 transition-colors",style:{backgroundColor:"#10b981"},disabled:E||Ae.length===0,children:[n.jsx(Ln,{}),n.jsx("span",{children:"Export Excel"})]}),n.jsxs("button",{onClick:()=>x(!y),className:"px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 hover:bg-opacity-90 transition-colors",style:{backgroundColor:t},disabled:E,children:[n.jsx(mc,{}),n.jsx("span",{children:y?"View Mode":"Edit Mode"})]}),(c||d||m)&&n.jsx("button",{onClick:ze,className:"px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 hover:bg-opacity-90 transition-colors bg-opacity-80",style:{backgroundColor:t},children:"Clear Filters"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Date"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ia,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-blue-200 w-5 h-5"}),n.jsx("input",{type:"date",value:o,onChange:Ge=>{console.log("Date changed to:",Ge.target.value),l(Ge.target.value)},className:"w-full pl-10 pr-4 py-2 border border-blue-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",style:{outlineColor:t}})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Class"}),n.jsxs("select",{value:c,onChange:Se,className:"w-full px-3 py-2 border border-blue-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",style:{outlineColor:t},disabled:a||xe.length===0,children:[n.jsx("option",{value:"",children:"All Classes"}),at.map(Ge=>n.jsx("option",{value:Ge,children:Ge},Ge))]}),a&&n.jsxs("div",{className:"text-sm text-blue-200 mt-1 flex items-center",children:[n.jsx(Rr,{className:"animate-spin mr-1"})," Loading..."]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Section"}),n.jsxs("select",{value:d,onChange:Me,className:"w-full px-3 py-2 border border-blue-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",style:{outlineColor:t},disabled:!c||xe.length===0,children:[n.jsx("option",{value:"",children:"All Sections"}),ke().map(Ge=>n.jsx("option",{value:Ge,children:Ge},Ge))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Search"}),n.jsxs("div",{className:"relative",children:[n.jsx(on,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-blue-200 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Search students...",value:m,onChange:Ge=>{h(Ge.target.value)},className:"w-full pl-10 pr-4 py-2 border border-blue-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",style:{outlineColor:t}})]})]})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:Je.map((Ge,bt)=>n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border-l-4 hover:shadow-xl transition-shadow",style:{borderColor:Ge.color==="custom"?t:Ge.color==="green"?"#10b981":Ge.color==="red"?"#ef4444":Ge.color==="orange"?"#f59e0b":t},children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ge.icon,{className:`w-8 h-8 ${Ge.color==="custom"?"text-white":`text-${Ge.color}-600`}`}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:`text-2xl font-bold ${Ge.color==="custom"?"text-white":"text-gray-800"}`,children:Ge.value}),n.jsx("div",{className:`text-sm ${Ge.color==="custom"?"text-blue-100":"text-gray-600"}`,children:Ge.label})]})]})},`stat-${bt}`))}),y&&Ae.length>0&&n.jsx("div",{className:"bg-white rounded-xl p-4 shadow-lg border border-gray-200",children:n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[n.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Bulk Actions for ",Ae.length," student",Ae.length!==1?"s":""]}),n.jsxs("div",{className:"flex gap-2 flex-wrap",children:[n.jsx("button",{onClick:()=>nt("present"),className:"px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 text-sm font-medium transition-colors disabled:opacity-50",disabled:E,children:"Mark All Present"}),n.jsx("button",{onClick:()=>nt("absent"),className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 text-sm font-medium transition-colors disabled:opacity-50",disabled:E,children:"Mark All Absent"}),n.jsx("button",{onClick:()=>nt("late"),className:"px-4 py-2 bg-orange-100 text-orange-700 rounded-lg hover:bg-orange-200 text-sm font-medium transition-colors disabled:opacity-50",disabled:E,children:"Mark All Late"})]})]})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Roll No"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),n.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:be.length>0?be.map(Ge=>{const bt=Ge.status||"absent",Le=he[bt]?.icon||pr,je=he[bt]||he.absent;return n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:Ge.rollNumber||"-"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(rt,{student:Ge}),n.jsx("div",{className:"ml-3",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:Ge.name||"Unknown Student"})})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full text-white",style:{backgroundColor:t},children:Ge.studentId||"-"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:n.jsx("span",{className:"font-medium",children:Ge.classDisplay||"N/A"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:y?n.jsx("div",{className:"flex justify-center space-x-1",children:Object.entries(he).map(([Ze,Te])=>{const pt=bt===Ze,At=Te.icon;return n.jsxs("button",{onClick:()=>Fe(Ge.id||Ge._id,Ze),className:`px-2.5 py-1.5 rounded-md text-xs font-medium flex items-center gap-1 transition-all ${pt?Te.color:"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:pt?Te.style:{},disabled:U===(Ge._id||Ge.id),title:`Mark as ${Ze}`,children:[U===(Ge._id||Ge.id)&&Ze===bt?n.jsx(Rr,{className:"w-3 h-3 animate-spin"}):n.jsx(At,{className:"w-3 h-3"}),n.jsx("span",{className:"hidden sm:inline",children:Ze.charAt(0).toUpperCase()+Ze.slice(1)})]},`${Ze}-${Ge._id||Ge.id}`)})}):n.jsx("div",{className:"flex justify-center",children:n.jsxs("span",{className:`px-3 py-1 rounded-lg text-sm font-medium flex items-center gap-1 ${je.color}`,style:je.style,children:[n.jsx(Le,{className:"w-4 h-4"}),n.jsx("span",{className:"capitalize",children:bt})]})})})]},Ge._id||Ge.id)}):n.jsx("tr",{children:n.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center",children:j.length===0?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"text-gray-500",children:[n.jsx(rn,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No students found"}),n.jsxs("p",{className:"text-sm text-gray-500",children:["School ID: ",e]})]}),E&&n.jsx("div",{className:"flex justify-center",children:n.jsx(Rr,{className:"w-5 h-5 text-blue-500 animate-spin"})})]}):Ce===0?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"text-gray-500",children:[n.jsx(on,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No matching students"}),n.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[c&&n.jsxs("p",{children:["Class: ",n.jsx("strong",{children:c})]}),d&&n.jsxs("p",{children:["Section: ",n.jsx("strong",{children:d})]}),m&&n.jsxs("p",{children:["Search: ",n.jsxs("strong",{children:['"',m,'"']})]})]})]}),n.jsxs("button",{onClick:ze,className:"mx-auto flex items-center px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 text-sm font-medium transition-colors",style:{borderColor:t},children:[n.jsx(on,{className:"w-4 h-4 mr-2"}),"Clear Filters"]})]}):n.jsxs("div",{className:"text-gray-500",children:[n.jsx(Rr,{className:"w-8 h-8 mx-auto text-gray-400 animate-spin"}),n.jsx("p",{className:"mt-2 text-sm",children:"Loading students..."})]})})})})]})}),Y>1&&n.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"text-sm text-gray-700",children:["Showing"," ",n.jsxs("span",{className:"font-medium",children:[se+1," to ",ee]})," ","of ",n.jsx("span",{className:"font-medium",children:Ce})," results"]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>Ve(I-1),disabled:I===1,className:"px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",style:{color:t,borderColor:t},children:n.jsx(Do,{className:"w-4 h-4"})}),n.jsxs("span",{className:"px-3 py-2 text-sm text-gray-700 font-medium",children:["Page ",n.jsx("span",{className:"font-semibold",children:I})," of"," ",n.jsx("span",{className:"font-semibold",children:Y})]}),n.jsx("button",{onClick:()=>Ve(I+1),disabled:I===Y,className:"px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",style:{color:t,borderColor:t},children:n.jsx(ro,{className:"w-4 h-4"})})]})]})})]})]}):n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Da,{className:"w-12 h-12 mx-auto text-red-600 mb-4"}),n.jsx("p",{className:"text-lg font-medium text-gray-700",children:"School ID is required to access attendance."}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Please ensure you are properly logged in."})]})})},Ode=()=>{const e="http://localhost:5000/api/fee",t="http://localhost:5000/api/students/school",r="http://localhost:5000/api/class",a=localStorage.getItem("schoolId"),s=localStorage.getItem("color")||"#2563eb",i=localStorage.getItem("adminToken")||localStorage.getItem("token"),o=yc(),[l,c]=S.useState([]),[u,d]=S.useState([]),[A,m]=S.useState([]),[h,y]=S.useState(!1),[x,v]=S.useState(!1),[b,j]=S.useState(!1),[C,E]=S.useState(!1),[k,D]=S.useState(null),[L,F]=S.useState(null),[Q,U]=S.useState(""),[P,I]=S.useState(null),[z,W]=S.useState(null),[ie,X]=S.useState(!0),[le,re]=S.useState(null),[he,de]=S.useState(null),[ve,B]=S.useState(null),[R,G]=S.useState(""),[ne,pe]=S.useState(""),[xe,Ae]=S.useState(""),[Y,se]=S.useState(!1),[ee,be]=S.useState(1),[Ce,ce]=S.useState(1),[J,ge]=S.useState(10),[Je,Ke]=S.useState(""),[Fe,nt]=S.useState(""),[Se,Me]=S.useState([]),[at,ke]=S.useState({studentIds:[],totalAmount:"",numberOfInstallments:1,installmentType:"equal",installments:[{amount:"",dueDate:""}],schoolId:a}),[Ve,ze]=S.useState({amount:"",paymentMethod:"",schoolId:a}),[rt,Ge]=S.useState({}),[bt,Le]=S.useState(!1),[je,Ze]=S.useState(!1),[Te,pt]=S.useState(!1);S.useEffect(()=>{if(!a){re("School ID not found. Please login again.");return}if(!i){re("Authentication token not found. Please login again.");return}},[a,i]),S.useEffect(()=>{(async()=>{if(!(!a||!i))try{X(!0),re(null);const Ne={Authorization:`Bearer ${i}`,"Content-Type":"application/json"},[ct,Ye,Ee]=await Promise.all([Vt.get(`${e}?schoolId=${a}&page=${ee}&limit=${J}`,{headers:Ne}),Vt.get(`${t}/${a}`,{headers:Ne}),Vt.get(`${r}?schoolId=${a}`,{headers:Ne})]),it=ct.data?.success?ct.data.data:[],vt=Ye.data?.success?Ye.data.data:Ye.data,It=Ee.data?.success?Ee.data.data:[];c(Array.isArray(it)?it:[]),d(Array.isArray(vt)?vt:[]),m(Array.isArray(It)?It:[]),ce(ct.data?.totalPages||1),be(ct.data?.currentPage||1),X(!1)}catch(Ne){console.error("Error fetching data:",Ne),re(Ne.response?.data?.message||Ne.message),X(!1)}})()},[a,i,ee,J]);const At=Ie=>{let Ne=null;Ie&&typeof Ie=="object"?Ne=Ie._id||Ie.id:typeof Ie=="string"&&(Ne=Ie);const ct=Ye=>{if(!Ye)return null;const Ee=Ye.classId?.className||Ye.class||Ye.className||Ye.standard||null,it=Ye.classId?.section||Ye.section||Ye.division||Ye.sectionName||null;return{name:Ye.name||Ye.fullName||(Ye.firstName||Ye.firstname?`${Ye.firstName||Ye.firstname} ${Ye.lastName||Ye.lastname||""}`.trim():Ye.studentName||null)||"Unknown Student",rollNumber:Ye.rollNumber||Ye.roll_no||Ye.roll||"N/A",phone:Ye.phone||Ye.mobile||Ye.contactNumber||Ye.studentPhone||"N/A",email:Ye.email||Ye.studentEmail||"N/A",classId:{className:Ee||"N/A",section:it||"N/A"},fatherName:Ye.fatherName||Ye.father_name||Ye.father||Ye.guardianName||null,motherName:Ye.motherName||Ye.mother_name||Ye.mother||null,parentPhone:Ye.parentPhone||Ye.parent_phone||Ye.guardianPhone||Ye.guardian_phone||Ye.fatherPhone||Ye.motherPhone||null,address:Ye.address||Ye.full_address||Ye.currentAddress||null}};if(Ne&&u.length>0){const Ye=u.find(Ee=>Ee._id===Ne);if(Ye)return ct(Ye)}return Ie&&typeof Ie=="object"?ct(Ie)||{name:"Unknown Student",rollNumber:"N/A",phone:"N/A",email:"N/A",classId:{className:"N/A",section:"N/A"},fatherName:null,motherName:null,parentPhone:null,address:null}:{name:"Unknown Student",rollNumber:"N/A",phone:"N/A",email:"N/A",classId:{className:"N/A",section:"N/A"},fatherName:null,motherName:null,parentPhone:null,address:null}},qe=async()=>{if(!a||!i){alert("Authentication required. Please login again.");return}try{se(!0);const Ie={Authorization:`Bearer ${i}`,"Content-Type":"application/json"},Ne=200,ct=await Vt.get(`${e}?schoolId=${a}&page=1&limit=${Ne}`,{headers:Ie}),Ye=ct.data?.totalPages||1,Ee=[...ct.data?.data||[]],it=[];for(let sr=2;sr<=Ye;sr++)it.push(Vt.get(`${e}?schoolId=${a}&page=${sr}&limit=${Ne}`,{headers:Ie}));(await Promise.all(it)).forEach(sr=>{sr.data?.success&&Array.isArray(sr.data.data)&&Ee.push(...sr.data.data)});const It=Ee.map(sr=>{const Yr=At(sr.studentId),Na=A?.find(ds=>ds._id===sr?.studentId?.classId),Sa=Na?.className,za=Na?.section,Nn=sr?.numberOfInstallments??(sr?.installments?.length||0);return{"Student Name":Yr.name,"Roll No":Yr.rollNumber,Class:Sa||"",Section:za||"","Total Amount":sr.totalAmount||0,Paid:sr.paid||0,Pending:sr.pending||0,Installments:Nn,Status:sr.status,"Created Date":sr.createdAt?new Date(sr.createdAt).toLocaleDateString():""}}),Mt=Ni.json_to_sheet(It),fr=Ni.book_new();Ni.book_append_sheet(fr,Mt,"All Fees");const dr=`fees_all_${new Date().toISOString().slice(0,10)}.xlsx`;qv(fr,dr)}catch(Ie){console.error("Excel export (all) failed:",Ie),alert("Failed to export all data. Please try again.")}finally{se(!1)}},Pe=(Ie,Ne,ct="equal")=>{const Ye=Number.parseFloat(Ie)||0,Ee=Number.parseInt(Ne)||1;if(Ye<=0||Ee<=0)return[];if(ct==="equal"){const it=Math.floor(Ye/Ee*100)/100,vt=Ye-it*Ee,It=[];for(let Mt=0;Mt<Ee;Mt++){const fr=Mt===Ee-1?it+vt:it;It.push({amount:fr.toFixed(2),dueDate:""})}return It}return Array(Ee).fill({amount:"",dueDate:""})},mt=(Ie,Ne,ct)=>{const Ye=Pe(Ie,Ne,ct);ke(Ee=>({...Ee,totalAmount:Ie,numberOfInstallments:Ne,installmentType:ct,installments:Ye}))},Qe=Ie=>{const ct=Array.from(Ie.target.options).filter(Ye=>Ye.selected).map(Ye=>Ye.value);Me(ct.map(Ye=>{const Ee=u.find(it=>it.id===Ye);return At(Ee||{id:Ye})})),ke(Ye=>({...Ye,studentIds:ct}))},st=l.filter(Ie=>{const Ne=Ie?.studentId;if(!Ne)return!1;console.log("Student Data =>",Ne);const ct=Q?Ne?.name?.toLowerCase().includes(Q.toLowerCase()):!0,Ye=R?A?.find(Mt=>Mt.className===R):null,Ee=Ye?Ye._id===Ne?.classId:!0,it=ne?Ye?.section===ne:!0,vt=Ie?.numberOfInstallments??(Ie?.installments?.length||0),It=xe?vt.toString()===xe:!0;return ct&&Ee&&it&&It}),tt=()=>{const Ie=l.map(ct=>ct.numberOfInstallments??ct.installments?.length??null).filter(ct=>ct!=null).map(ct=>ct.toString());return[...new Set(Ie)].sort((ct,Ye)=>{const Ee=Number.parseInt(ct),it=Number.parseInt(Ye);return Ee-it})},Ft=()=>{const Ie=u.map(Ye=>Ye.classId?.className||Ye.class).filter(Ye=>Ye!=null).map(Ye=>Ye.toString()),Ne=A.map(Ye=>Ye.className).filter(Ye=>Ye!=null);return[...new Set([...Ie,...Ne])].sort((Ye,Ee)=>{const it=Number.parseInt(Ye),vt=Number.parseInt(Ee);return!isNaN(it)&&!isNaN(vt)?it-vt:Ye.localeCompare(Ee)})},_t=()=>{const Ie=u.map(Ye=>Ye.classId?.section||Ye.section).filter(Ye=>Ye!=null&&Ye!==""),Ne=A.map(Ye=>Ye.section).filter(Ye=>Ye!=null&&Ye!=="");return[...new Set([...Ie,...Ne])].sort()},Dt=u.filter(Ie=>{if(!Ie)return!1;console.log("Student =>",Ie);const Ne=Ie?.className?.toString()||"",ct=Ie?.section?.toString()||"",Ye=!Je||Ne===Je,Ee=!Fe||ct.toLowerCase()===Fe.toLowerCase();return Ye&&Ee}),Wt=()=>{U(""),G(""),pe(""),Ae("")},cr=Ie=>{I(Ie);const Ne=At(Ie.studentId);Me([Ne]),ke({studentIds:[typeof Ie.studentId=="object"?Ie.studentId._id:Ie.studentId],totalAmount:Ie.totalAmount.toString(),numberOfInstallments:Ie.numberOfInstallments??Ie.installments?.length??1,installmentType:"custom",installments:Ie.installments.map(ct=>({amount:ct.amount.toString(),dueDate:ct.dueDate.split("T")[0]})),schoolId:a}),y(!0)},Dr=(Ie,Ne)=>{W({fee:Ie,installmentIndex:Ne});const ct=Ie.installments[Ne];ze({amount:ct.pending?.toString()||"",paymentMethod:"",schoolId:a}),v(!0)},Ea=async Ie=>{if(!k||!a||!i){re("Authentication required. Please login again.");return}try{const Ne={Authorization:`Bearer ${i}`,"Content-Type":"application/json"};(await Vt.put(`${e}/update-status/${k._id}`,{status:Ie,schoolId:a},{headers:Ne})).data.success&&(c(l.map(Ye=>Ye._id===k._id?{...Ye,status:Ie}:Ye)),E(!1),D(null),re(null),await dt())}catch(Ne){console.error("Error updating payment status:",Ne),re(Ne.response?.data?.message||"Failed to update payment status")}},Fr=async Ie=>{if(!a||!i){re("Authentication required. Please login again.");return}if(window.confirm("Are you sure you want to delete this fee record?"))try{const Ne={Authorization:`Bearer ${i}`,"Content-Type":"application/json"};(await Vt.delete(`${e}/${Ie}`,{headers:Ne,data:{schoolId:a}})).data.success&&await dt()}catch(Ne){console.error("Error deleting fee:",Ne),re(Ne.response?.data?.message||Ne.message)}},jr=st.reduce((Ie,Ne)=>({total:Ie.total+(Ne.totalAmount||0),paid:Ie.paid+(Ne.paid||0),pending:Ie.pending+(Ne.pending||0)}),{total:0,paid:0,pending:0}),Sr=(Ie,Ne=null)=>{const{name:ct,value:Ye}=Ie.target;if(ct==="totalAmount")mt(Ye,at.numberOfInstallments,at.installmentType);else if(ct==="numberOfInstallments"){const Ee=Number.parseInt(Ye)||1;mt(at.totalAmount,Ee,at.installmentType)}else if(ct==="installmentType")mt(at.totalAmount,at.numberOfInstallments,Ye);else if(ct.startsWith("installment")){const Ee=ct.split("."),it=Ee[1],vt=Number.parseInt(Ee[2]),It=[...at.installments];It[vt]={...It[vt],[it]:Ye},ke(Mt=>({...Mt,installments:It}))}else ke(Ee=>({...Ee,[ct]:Ye}))},ca=Ie=>{const{name:Ne,value:ct}=Ie.target;ze(Ye=>({...Ye,[Ne]:ct}))},oa=()=>{ke({studentIds:[],totalAmount:"",numberOfInstallments:1,installmentType:"equal",installments:[{amount:"",dueDate:""}],schoolId:a}),Me([]),Ke(""),nt("")},wt=()=>{const Ie={};if(at.studentIds.length||(Ie.studentIds="At least one student is required"),(!at.totalAmount||at.totalAmount<=0)&&(Ie.totalAmount="Total amount must be greater than 0"),at.installments&&at.installments.length>0){const Ne=at.installments.reduce((ct,Ye)=>ct+(Number.parseFloat(Ye.amount)||0),0);Math.abs(Ne-at.totalAmount)>.01&&(Ie.installments="Sum of installment amounts must equal total amount"),at.installments.forEach((ct,Ye)=>{(!ct.amount||ct.amount<=0)&&(Ie[`installment_${Ye}_amount`]=`Installment ${Ye+1} amount is required`),ct.dueDate||(Ie[`installment_${Ye}_date`]=`Installment ${Ye+1} due date is required`)})}return Ge(Ie),Object.keys(Ie).length===0},Xt=async Ie=>{if(Ie.preventDefault(),!a||!i){re("Authentication required. Please login again.");return}if(wt()){Le(!0),re(null);try{const Ne={Authorization:`Bearer ${i}`,"Content-Type":"application/json"};if(!at.installments.every(vt=>vt.amount&&vt.dueDate)){re("All installments must have due dates."),Le(!1);return}const Ye=at.installments.reduce((vt,It)=>vt+Number.parseFloat(It.amount||0),0),Ee=Number.parseFloat(at.totalAmount);if(Math.abs(Ye-Ee)>.01){re("Total amount must match the sum of installment amounts."),Le(!1);return}const it=at.installments.map(vt=>({amount:Number.parseFloat(vt.amount),dueDate:vt.dueDate}));if(P){const vt={studentId:at.studentIds[0],totalAmount:Ee,numberOfInstallments:at.numberOfInstallments,installments:it,schoolId:a};(await Vt.put(`${e}/${P._id}`,vt,{headers:Ne})).data.success&&(await dt(),y(!1),I(null),oa(),re(null),Ze(!0),setTimeout(()=>Ze(!1),3e3))}else{for(const vt of at.studentIds){const It={studentId:vt,totalAmount:Ee,numberOfInstallments:at.numberOfInstallments,installments:it,schoolId:a};if(!(await Vt.post(e,It,{headers:Ne})).data.success)throw new Error(`Failed to create fee for student ${vt}`)}await dt(),y(!1),oa(),re(null),Ze(!0),setTimeout(()=>Ze(!1),3e3)}}catch(Ne){console.error("Error submitting form:",Ne),re(Ne.response?.data?.message||Ne.message)}finally{Le(!1)}}},Oe=async Ie=>{if(Ie.preventDefault(),!z||!a||!i){re("Authentication required. Please login again.");return}try{const Ne={Authorization:`Bearer ${i}`,"Content-Type":"application/json"},{fee:ct,installmentIndex:Ye}=z,Ee=ct.installments[Ye],it=Number.parseFloat(Ve.amount);if(!it||it<=0){re("Payment amount must be greater than zero.");return}if(it>(Ee.pending||0)){re(`Payment amount cannot exceed pending amount of ${Ee.pending?.toLocaleString()}.`);return}const vt={paymentMethod:Ve.paymentMethod,schoolId:a};(await Vt.put(`${e}/pay-installment/${ct._id}/${Ye}`,vt,{headers:Ne})).data.success&&(await dt(),v(!1),W(null),ze({amount:"",paymentMethod:"",schoolId:a}),re(null))}catch(Ne){console.error("Error updating installment payment:",Ne),re(Ne.response?.data?.message||Ne.message)}},ut=Ie=>{const Ne={paid:{icon:wR,color:"text-green-700 bg-green-100",text:"Paid"},partial:{icon:BC,color:"text-orange-700 bg-orange-100",text:"Partial"},pending:{icon:by,color:"text-red-700 bg-red-100",text:"Pending"},overdue:{icon:by,color:"text-red-700 bg-red-200",text:"Overdue"}},{icon:ct,color:Ye,text:Ee}=Ne[Ie]||{icon:null,color:"",text:Ie};return{Icon:ct,color:Ye,text:Ee}},ot=Ie=>{Ie>=1&&Ie<=Ce&&be(Ie)},dt=async()=>{try{X(!0),re(null);const Ie={Authorization:`Bearer ${i}`,"Content-Type":"application/json"},[Ne,ct]=await Promise.all([Vt.get(`${e}?schoolId=${a}&page=${ee}&limit=${J}`,{headers:Ie}),Vt.get(`${t}/${a}`,{headers:Ie})]),Ye=Ne.data?.success?Ne.data.data:[],Ee=ct.data?.success?ct.data.data:ct.data;c(Array.isArray(Ye)?Ye:[]),d(Array.isArray(Ee)?Ee:[]),ce(Ne.data?.totalPages||1),be(Ne.data?.currentPage||1),X(!1)}catch(Ie){console.error("Error fetching data:",Ie),re(Ie.response?.data?.message||Ie.message),X(!1)}};return!a||!i?n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-500 text-xl mb-4",children:"Authentication Required"}),n.jsx("div",{className:"text-gray-600",children:"Please login again to access the fee management system."})]})}):ie?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"text-center p-8",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-200 border-t-blue-600 mx-auto mb-6"}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full animate-pulse"})})]}),n.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Loading Fee Management System"}),n.jsx("p",{className:"text-gray-500",children:"Please wait while we fetch your data..."}),n.jsxs("div",{className:"mt-4 flex justify-center space-x-1",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce"}),n.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),n.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})}):n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[je&&n.jsxs("div",{className:"fixed top-4 right-4 z-50 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg flex items-center gap-2 animate-in slide-in-from-top-2",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),n.jsxs("span",{children:["Fees ",P?"updated":"created"," successfully!"]})]}),n.jsxs("div",{className:"max-w-full mx-auto",children:[le&&n.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-6 rounded-r-lg shadow-sm",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),n.jsx("div",{className:"ml-3 flex-1",children:n.jsx("p",{className:"text-sm text-red-700 font-medium",children:le})}),n.jsx("div",{className:"ml-auto pl-3",children:n.jsx("button",{onClick:()=>re(null),className:"inline-flex text-red-400 hover:text-red-600 focus:outline-none focus:text-red-600",children:n.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]})}),n.jsxs("div",{className:"text-black p-6 rounded-b-3xl shadow-lg",style:{backgroundColor:s},children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Student Fee Management"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:qe,className:"bg-white text-green-700 px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 hover:opacity-90",title:"Export all fees (all pages) to Excel",disabled:Y,children:Y?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-current border-t-transparent"}),"Exporting..."]}):n.jsxs(n.Fragment,{children:[n.jsx(GZ,{})," Export All"]})}),n.jsxs("button",{onClick:()=>{I(null),oa(),y(!0)},className:"text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 hover:opacity-90",style:{backgroundColor:s},children:[n.jsx(ZZ,{})," Add Fee Record"]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[n.jsx("div",{className:"flex-1 min-w-[200px]",children:n.jsx("input",{type:"text",placeholder:"Search by student name...",value:Q,onChange:Ie=>U(Ie.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})}),n.jsx("div",{className:"min-w-[150px]",children:n.jsxs("select",{value:R,onChange:Ie=>G(Ie.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[n.jsx("option",{value:"",children:"All Classes"}),Ft().map(Ie=>n.jsx("option",{value:Ie,children:Ie},Ie))]})}),n.jsx("div",{className:"min-w-[150px]",children:n.jsxs("select",{value:ne,onChange:Ie=>pe(Ie.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[n.jsx("option",{value:"",children:"All Sections"}),_t().map(Ie=>n.jsx("option",{value:Ie,children:Ie},Ie))]})}),n.jsx("div",{className:"min-w-[150px]",children:n.jsxs("select",{value:xe,onChange:Ie=>Ae(Ie.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[n.jsx("option",{value:"",children:"All Installments"}),tt().map(Ie=>n.jsxs("option",{value:Ie,children:[Ie," Installment",Ie!=="1"?"s":""]},Ie))]})}),n.jsx("button",{onClick:Wt,className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Reset Filters"})]}),(Q||R||ne||xe)&&n.jsxs("div",{className:"flex flex-wrap gap-2 items-center text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Active filters:"}),R&&n.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded",children:R}),ne&&n.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded",children:["Section: ",ne]}),xe&&n.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded",children:["Installments: ",xe]}),n.jsxs("span",{className:"text-gray-500",children:["(",st.length," results)"]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6 mt-6",children:[n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[n.jsxs("div",{className:"text-xl font-bold",style:{color:s},children:["",jr.total.toLocaleString()]}),n.jsx("div",{className:"text-gray-600",children:"Total Fee"})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[n.jsxs("div",{className:"text-xl font-bold text-green-600",children:["",jr.paid.toLocaleString()]}),n.jsx("div",{className:"text-gray-600",children:"Paid Amount"})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[n.jsxs("div",{className:"text-xl font-bold text-red-600",children:["",jr.pending.toLocaleString()]}),n.jsx("div",{className:"text-gray-600",children:"Pending Amount"})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsx("tr",{children:["Student Name","Roll No","Total Amount","Paid","Pending","Installments","Status","Actions"].map((Ie,Ne)=>n.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:Ie},Ne))})}),n.jsxs("tbody",{className:"divide-y divide-gray-200",children:[st.map(Ie=>{const Ne=At(Ie.studentId),{Icon:ct,color:Ye,text:Ee}=ut(Ie.status);return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:Ne.name}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:Ne.rollNumber}),n.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:["",Ie.totalAmount?.toLocaleString()]}),n.jsxs("td",{className:"px-4 py-3 text-sm text-green-600",children:["",Ie.paid?.toLocaleString()]}),n.jsxs("td",{className:"px-4 py-3 text-sm text-red-600",children:["",Ie.pending?.toLocaleString()]}),n.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:[Ie.numberOfInstallments??Ie.installments?.length??0," installment(s)"]}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${Ye}`,children:[ct&&n.jsx(ct,{})," ",Ee]})}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>F(Ie),className:"hover:opacity-75",style:{color:s},title:"View Details",children:n.jsx(TC,{})}),n.jsx("button",{onClick:()=>cr(Ie),className:"text-green-600 hover:text-green-800",title:"Edit Fee",children:n.jsx(KZ,{})}),n.jsx("button",{onClick:()=>Fr(Ie._id),className:"text-red-600 hover:text-red-800",title:"Delete Fee",children:n.jsx(ree,{})})]})})]},Ie._id)}),st.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:"8",className:"px-4 py-8 text-center text-gray-500",children:"No fee records found"})})]})]})}),st.length>0&&n.jsxs("div",{className:"p-4 flex justify-between items-center",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:["Page ",ee," of ",Ce]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>ot(ee-1),disabled:ee===1,className:`px-3 py-1 rounded-lg ${ee===1?"opacity-50 cursor-not-allowed":"hover:bg-gray-100"}`,style:{color:s,borderColor:s},children:n.jsx(zZ,{})}),n.jsx("button",{onClick:()=>ot(ee+1),disabled:ee===Ce,className:`px-3 py-1 rounded-lg ${ee===Ce?"opacity-50 cursor-not-allowed":"hover:bg-gray-100"}`,style:{color:s,borderColor:s},children:n.jsx(VZ,{})})]})]})]})]}),h&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-6xl max-h-[95vh] overflow-y-auto",children:[n.jsxs("div",{className:"p-6 border-b",style:{backgroundColor:`${s}15`},children:[n.jsx("h2",{className:"text-2xl font-bold",style:{color:s},children:P?"Edit Fee Record":"Add New Fee Record"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Enter total fee amount, select installments, and set due dates"})]}),n.jsxs("form",{onSubmit:Xt,className:"p-6",children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Filter by Class"}),n.jsxs("select",{value:Je,onChange:Ie=>Ke(Ie.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2",style:{focusRingColor:s},children:[n.jsx("option",{value:"",children:"All Classes"}),Ft().map(Ie=>n.jsx("option",{value:Ie,children:Ie},Ie))]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Filter by Section"}),n.jsxs("select",{value:Fe,onChange:Ie=>nt(Ie.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2",style:{focusRingColor:s},children:[n.jsx("option",{value:"",children:"All Sections"}),_t().map(Ie=>n.jsx("option",{value:Ie,children:Ie},Ie))]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:P?"Student":"Students (Multi-Select)"}),P?n.jsx("div",{className:"w-full px-3 py-2 border border-gray-300 rounded bg-gray-50",children:n.jsxs("span",{className:"text-gray-700",children:[Se[0]?.name," (",Se[0]?.rollNumber,") - Class"," ",Se[0]?.classId?.className||"N/A",Se[0]?.classId?.section?` Section ${Se[0].classId.section}`:""]})}):n.jsx("select",{multiple:!0,size:"10",value:at.studentIds,onChange:Qe,className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2",style:{focusRingColor:s},required:!0,children:Dt.map(Ie=>n.jsxs("option",{value:Ie.id,children:[Ie?.name," (",Ie?.rollNumber,") "," ",Ie?.classId?.className||Ie.class||"N/A",Ie?.classId?.section||Ie.section?` ${Ie.classId?.section||Ie.section}`:""]},Ie.id))})]}),Se.length>0&&n.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx(aj,{className:"text-blue-600 text-xl mr-3"}),n.jsx("h3",{className:"text-lg font-semibold text-blue-800",children:P||Se.length===1?"Student Details":"Selected Students"})]}),Se.map((Ie,Ne)=>n.jsxs("div",{className:`space-y-3 ${Se.length>1?"border-b pb-4 mb-4 last:border-b-0 last:pb-0 last:mb-0":""}`,children:[Se.length>1&&n.jsxs("h4",{className:"font-medium text-blue-700",children:["Student ",Ne+1,": ",Ie?.name]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(aj,{className:"text-gray-500 mr-2"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Full Name"}),n.jsx("p",{className:"font-medium text-gray-800",children:Ie?.name})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(B_,{className:"text-gray-500 mr-2"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Roll Number"}),n.jsx("p",{className:"font-medium text-gray-800",children:Ie?.rollNumber})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(B_,{className:"text-gray-500 mr-2"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Class & Section"}),n.jsxs("p",{className:"font-medium text-gray-800",children:["Class"," ",Ie?.classId?.className||"N/A"," - Section"," ",Ie?.classId?.section||"N/A"]})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(T_,{className:"text-green-500 mr-2"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Student Phone"}),n.jsx("p",{className:"font-medium text-gray-800",children:Ie?.phone})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(NR,{className:"text-blue-500 mr-2"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Email"}),n.jsx("p",{className:"font-medium text-gray-800",children:Ie?.email})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(T_,{className:"text-orange-500 mr-2"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Parent Phone"}),n.jsx("p",{className:"font-medium text-gray-800",children:Ie?.parentPhone})]})]})]})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-blue-200",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(aee,{className:"text-gray-500 mr-2"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Father's Name"}),n.jsx("p",{className:"font-medium text-gray-800",children:Ie?.fatherName})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(aj,{className:"text-gray-500 mr-2"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Mother's Name"}),n.jsx("p",{className:"font-medium text-gray-800",children:Ie?.motherName})]})]})]}),n.jsxs("div",{className:"mt-3 flex items-start",children:[n.jsx(jR,{className:"text-gray-500 mr-2 mt-1"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Address"}),n.jsx("p",{className:"font-medium text-gray-800 text-sm",children:Ie?.address})]})]})]})]},Ne))]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx(HZ,{className:"text-yellow-600 mr-2"}),n.jsx("label",{className:"text-base font-semibold text-yellow-800",children:"Total Fee Amount *"})]}),n.jsx("input",{type:"number",name:"totalAmount",value:at.totalAmount,onChange:Sr,placeholder:"Enter total fee amount (e.g., 15000)",className:"w-full px-4 py-3 border border-yellow-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 text-lg font-medium",required:!0,min:"1",step:"0.01"}),n.jsx("p",{className:"text-sm text-yellow-700 mt-2",children:"Enter the total fee amount. It will be automatically divided into installments."})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx(E_,{className:"text-blue-600 mr-2"}),n.jsx("label",{className:"text-base font-semibold text-blue-800",children:"Installment Configuration"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-blue-700 mb-1",children:"Number of Installments"}),n.jsx("select",{name:"numberOfInstallments",value:at.numberOfInstallments,onChange:Sr,className:"w-full px-3 py-2 border border-blue-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",children:[1,2,3,4,5,6].map(Ie=>n.jsxs("option",{value:Ie,children:[Ie," Installment",Ie>1?"s":""]},Ie))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-blue-700 mb-1",children:"Division Type"}),n.jsxs("select",{name:"installmentType",value:at.installmentType,onChange:Sr,className:"w-full px-3 py-2 border border-blue-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"equal",children:"Equal Amounts"}),n.jsx("option",{value:"custom",children:"Custom Amounts"})]})]})]}),at.totalAmount&&n.jsxs("div",{className:"text-sm text-blue-700 bg-blue-100 p-2 rounded",children:[n.jsx("strong",{children:"Preview:"})," ",Number.parseFloat(at.totalAmount||0).toLocaleString()," "," ",at.numberOfInstallments," installments = ",(Number.parseFloat(at.totalAmount||0)/at.numberOfInstallments).toLocaleString()," ","per installment"]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3 flex items-center",children:[n.jsx(E_,{className:"mr-2"}),"Installment Due Dates *"]}),n.jsx("div",{className:"space-y-3",children:at.installments.map((Ie,Ne)=>n.jsxs("div",{className:"flex gap-3 p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("label",{className:"block text-xs text-gray-500 mb-1",children:["Installment ",Ne+1," Amount"]}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:""}),n.jsx("input",{type:"number",name:`installment.amount.${Ne}`,value:Ie.amount,onChange:ct=>Sr(ct,Ne),className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 bg-white",required:!0,min:"1",step:"0.01",readOnly:at.installmentType==="equal"})]})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Due Date"}),n.jsx("input",{type:"date",name:`installment.dueDate.${Ne}`,value:Ie.dueDate,onChange:ct=>Sr(ct,Ne),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2",required:!0})]})]},Ne))})]}),at.totalAmount&&n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("span",{className:"font-semibold text-green-800",children:"Fee Summary:"}),n.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["",Number.parseFloat(at.totalAmount||0).toLocaleString()]})]}),n.jsxs("div",{className:"text-sm text-green-600",children:[at.numberOfInstallments," installment(s) configured"]}),n.jsx("div",{className:"text-xs text-green-500 mt-1",children:at.installmentType==="equal"?"Equal installments":"Custom installments"})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-8 pt-6 border-t",children:[n.jsx("button",{type:"button",onClick:()=>{y(!1),I(null),oa(),re(null)},className:"px-6 py-2 text-gray-600 border border-gray-300 rounded hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{type:"submit",className:"text-white px-6 py-2 rounded-lg shadow-lg hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",style:{backgroundColor:s},disabled:bt||!(at.studentIds.length&&at.totalAmount&&at.installments.every(Ie=>Ie.amount&&Ie.dueDate)),children:bt?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),P?"Updating...":"Creating..."]}):P?"Update Fee Record":"Create Fee Record"})]})]})]})}),x&&z&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-10000 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[n.jsx("h2",{className:"text-xl font-bold mb-4",children:"Record Installment Payment"}),n.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:["Paying for Installment ",z.installmentIndex+1," ","(Pending: ",z.fee.installments[z.installmentIndex].pending?.toLocaleString(),")"]}),n.jsxs("form",{onSubmit:Oe,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Amount *"}),n.jsx("input",{type:"number",name:"amount",value:Ve.amount,onChange:ca,placeholder:"Enter payment amount",className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2",required:!0,min:"1",step:"0.01"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method *"}),n.jsxs("select",{name:"paymentMethod",value:Ve.paymentMethod,onChange:ca,className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2",required:!0,children:[n.jsx("option",{value:"",children:"Select Payment Method"}),n.jsx("option",{value:"Cash",children:"Cash"}),n.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),n.jsx("option",{value:"Cheque",children:"Cheque"}),n.jsx("option",{value:"Online",children:"Online Payment"}),n.jsx("option",{value:"UPI",children:"UPI"})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx("button",{type:"button",onClick:()=>{v(!1),W(null),ze({amount:"",paymentMethod:"",schoolId:a})},className:"px-4 py-2 text-gray-600 border border-gray-300 rounded hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{type:"submit",className:"text-white px-4 py-2 rounded-lg shadow-lg hover:opacity-90",style:{backgroundColor:s},children:"Record Payment"})]})]})]})}),b&&he&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-xl font-bold",children:"Payment Receipt"}),n.jsx("button",{onClick:()=>j(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:""})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"border-b pb-2",children:[n.jsx("h3",{className:"text-lg font-semibold",children:he.school.name}),n.jsx("p",{className:"text-sm text-gray-600",children:he.school.address})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Receipt Number"}),n.jsx("div",{className:"font-medium",children:he.installment.receiptNumber})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Payment Date"}),n.jsx("div",{className:"font-medium",children:he.installment.paidDate?new Date(he.installment.paidDate).toLocaleDateString():"N/A"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Student Name"}),n.jsx("div",{className:"font-medium",children:he.student.name})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Roll Number"}),n.jsx("div",{className:"font-medium",children:he.student.rollNumber})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Term"}),n.jsx("div",{className:"font-medium",children:he.fee.term})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Amount Paid"}),n.jsxs("div",{className:"font-medium",children:["",he.installment.paid?.toLocaleString()]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Payment Method"}),n.jsx("div",{className:"font-medium",children:he.installment.paymentMethod})]})]}),n.jsxs("div",{className:"mt-4 text-center text-sm text-gray-600",children:["Issued on: ",new Date().toLocaleDateString()]})]})]})}),L&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-xl font-bold",children:"Fee Record Details"}),n.jsx("button",{onClick:()=>F(null),className:"text-gray-500 hover:text-gray-700 text-2xl",children:""})]}),n.jsx("div",{className:"space-y-6",children:(()=>{const Ie=At(L.studentId),Ne=A?.find(It=>It._id===L?.studentId?.classId),ct=Ne?.className,Ye=Ne?.section,{Icon:Ee,color:it,text:vt}=ut(L.status);return n.jsxs("div",{children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Student Information"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Student Name"}),n.jsx("p",{className:"text-sm text-gray-900",children:Ie.name})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Roll Number"}),n.jsx("p",{className:"text-sm text-gray-900",children:Ie.rollNumber})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Class & Section"}),n.jsxs("p",{className:"text-sm text-gray-900",children:[ct," -"," ",Ye]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Student Phone"}),n.jsx("p",{className:"text-sm text-gray-900",children:Ie.phone})]})]}),n.jsx("div",{className:"grid grid-cols-2 gap-4",children:n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Student Email"}),n.jsx("p",{className:"text-sm text-gray-900",children:Ie.email})]})}),(Ie.fatherName||Ie.motherName||Ie.parentPhone||Ie.address)&&n.jsxs(n.Fragment,{children:[n.jsx("hr",{className:"my-4"}),n.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Additional Details"}),(Ie.fatherName||Ie.motherName)&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Ie.fatherName&&n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Father's Name"}),n.jsx("p",{className:"text-sm text-gray-900",children:Ie.fatherName})]}),Ie.motherName&&n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Mother's Name"}),n.jsx("p",{className:"text-sm text-gray-900",children:Ie.motherName})]})]}),Ie.parentPhone&&n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Parent Phone"}),n.jsx("p",{className:"text-sm text-gray-900",children:Ie.parentPhone})]}),Ie.address&&n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Address"}),n.jsx("p",{className:"text-sm text-gray-900",children:Ie.address})]})]})]})]}),n.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Fee Information"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-gray-500 block",children:"Term"}),n.jsx("div",{className:"font-medium text-gray-900",children:L.term})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-gray-500 block",children:"Total Amount"}),n.jsxs("div",{className:"font-medium text-gray-900",children:["",L.totalAmount?.toLocaleString()]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-gray-500 block",children:"Created Date"}),n.jsx("div",{className:"font-medium text-gray-900",children:L.createdAt?new Date(L.createdAt).toLocaleDateString():"N/A"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-gray-500 block",children:"Overall Status"}),n.jsx("div",{children:n.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${it}`,children:[Ee&&n.jsx(Ee,{}),vt]})})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Installment Details"}),n.jsx("div",{className:"space-y-3",children:L.installments?.map((It,Mt)=>{const{Icon:fr,color:dr,text:sr}=ut(It.status);return n.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"font-medium text-gray-900",children:["Installment ",Mt+1]}),n.jsxs("div",{className:"text-sm text-gray-600",children:["Due:"," ",new Date(It.dueDate).toLocaleDateString()]})]}),n.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${dr}`,children:[fr&&n.jsx(fr,{}),sr]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Amount:"}),n.jsxs("div",{className:"font-medium",children:["",It.amount?.toLocaleString()]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Paid:"}),n.jsxs("div",{className:"font-medium text-green-600",children:["",It.paid?.toLocaleString()]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Pending:"}),n.jsxs("div",{className:"font-medium text-red-600",children:["",It.pending?.toLocaleString()]})]})]}),It.paidDate&&n.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Paid on:"," ",new Date(It.paidDate).toLocaleDateString()]}),It.receiptNumber&&n.jsxs("div",{className:"mt-1 text-sm text-gray-600",children:["Receipt: ",It.receiptNumber]}),It.paymentMethod&&n.jsxs("div",{className:"mt-1 text-sm text-gray-600",children:["Method: ",It.paymentMethod]}),n.jsxs("div",{className:"mt-2 space-x-2",children:[It.status!=="paid"&&It.pending>0&&n.jsxs("button",{onClick:()=>{F(null),Dr(L,Mt)},className:"text-white px-3 py-1 rounded text-sm hover:opacity-90",style:{backgroundColor:s},children:[n.jsx(JZ,{className:"inline mr-1"}),"Record Payment"]}),It.status==="paid"&&n.jsxs("button",{onClick:()=>{F(null),o("/fees/receipt",{state:{receiptData:{...L,...It}}})},className:"text-blue-600 px-3 py-1 rounded text-sm hover:text-blue-800",children:[n.jsx(WZ,{className:"inline mr-1"}),"View Receipt"]})]})]},Mt)})})]})]})})()})]})}),C&&k&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[n.jsx("h2",{className:"text-xl font-bold mb-4",children:"Change Payment Status"}),n.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:["Student: ",At(k.studentId).name,n.jsx("br",{}),"Current Status:"," ",n.jsx("span",{className:"font-medium",children:k.status})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Select New Status:"}),["pending","partial","paid","overdue"].map(Ie=>n.jsxs("button",{onClick:()=>Ea(Ie),className:`w-full p-3 text-left rounded-lg border-2 transition-colors ${k.status===Ie?"border-gray-400 bg-gray-100 cursor-not-allowed":"border-gray-200 hover:border-blue-300 hover:bg-blue-50"}`,disabled:k.status===Ie,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-medium capitalize",children:Ie}),(()=>{const{Icon:Ne,color:ct}=ut(Ie);return Ne&&n.jsx(Ne,{className:ct.split(" ")[0]})})()]}),n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[Ie==="pending"&&"No payment received",Ie==="partial"&&"Partial payment received",Ie==="paid"&&"Full payment completed",Ie==="overdue"&&"Payment is overdue"]})]},Ie))]}),n.jsx("div",{className:"flex justify-end space-x-3 mt-6",children:n.jsx("button",{type:"button",onClick:()=>{E(!1),D(null)},className:"px-4 py-2 text-gray-600 border border-gray-300 rounded hover:bg-gray-50",children:"Cancel"})})]})})]})};function lc(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Dde=typeof Symbol=="function"&&Symbol.observable||"@@observable",zk=Dde,bj=()=>Math.random().toString(36).substring(7).split("").join("."),Mde={INIT:`@@redux/INIT${bj()}`,REPLACE:`@@redux/REPLACE${bj()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${bj()}`},Yw=Mde;function EB(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function zQ(e,t,r){if(typeof e!="function")throw new Error(lc(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(lc(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(lc(1));return r(zQ)(e,t)}let a=e,s=t,i=new Map,o=i,l=0,c=!1;function u(){o===i&&(o=new Map,i.forEach((v,b)=>{o.set(b,v)}))}function d(){if(c)throw new Error(lc(3));return s}function A(v){if(typeof v!="function")throw new Error(lc(4));if(c)throw new Error(lc(5));let b=!0;u();const j=l++;return o.set(j,v),function(){if(b){if(c)throw new Error(lc(6));b=!1,u(),o.delete(j),i=null}}}function m(v){if(!EB(v))throw new Error(lc(7));if(typeof v.type>"u")throw new Error(lc(8));if(typeof v.type!="string")throw new Error(lc(17));if(c)throw new Error(lc(9));try{c=!0,s=a(s,v)}finally{c=!1}return(i=o).forEach(j=>{j()}),v}function h(v){if(typeof v!="function")throw new Error(lc(10));a=v,m({type:Yw.REPLACE})}function y(){const v=A;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(lc(11));function j(){const E=b;E.next&&E.next(d())}return j(),{unsubscribe:v(j)}},[zk](){return this}}}return m({type:Yw.INIT}),{dispatch:m,subscribe:A,getState:d,replaceReducer:h,[zk]:y}}function Ude(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Yw.INIT})>"u")throw new Error(lc(12));if(typeof r(void 0,{type:Yw.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(lc(13))})}function VQ(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const a=Object.keys(r);let s;try{Ude(r)}catch(i){s=i}return function(o={},l){if(s)throw s;let c=!1;const u={};for(let d=0;d<a.length;d++){const A=a[d],m=r[A],h=o[A],y=m(h,l);if(typeof y>"u")throw l&&l.type,new Error(lc(14));u[A]=y,c=c||y!==h}return c=c||a.length!==Object.keys(o).length,c?u:o}}function Xw(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...a)=>t(r(...a)))}function Rde(...e){return t=>(r,a)=>{const s=t(r,a);let i=()=>{throw new Error(lc(15))};const o={getState:s.getState,dispatch:(c,...u)=>i(c,...u)},l=e.map(c=>c(o));return i=Xw(...l)(s.dispatch),{...s,dispatch:i}}}function qQ(e){return EB(e)&&"type"in e&&typeof e.type=="string"}var KQ=Symbol.for("immer-nothing"),Vk=Symbol.for("immer-draftable"),Lu=Symbol.for("immer-state");function Xf(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ex=Object.getPrototypeOf;function $p(e){return!!e&&!!e[Lu]}function ZA(e){return e?GQ(e)||Array.isArray(e)||!!e[Vk]||!!e.constructor?.[Vk]||Wv(e)||N5(e):!1}var Qde=Object.prototype.constructor.toString();function GQ(e){if(!e||typeof e!="object")return!1;const t=Ex(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===Qde}function Jw(e,t){w5(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,a)=>t(a,r,e))}function w5(e){const t=e[Lu];return t?t.type_:Array.isArray(e)?1:Wv(e)?2:N5(e)?3:0}function qC(e,t){return w5(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function WQ(e,t,r){const a=w5(e);a===2?e.set(t,r):a===3?e.add(r):e[t]=r}function Hde(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Wv(e){return e instanceof Map}function N5(e){return e instanceof Set}function sp(e){return e.copy_||e.base_}function KC(e,t){if(Wv(e))return new Map(e);if(N5(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=GQ(e);if(t===!0||t==="class_only"&&!r){const a=Object.getOwnPropertyDescriptors(e);delete a[Lu];let s=Reflect.ownKeys(a);for(let i=0;i<s.length;i++){const o=s[i],l=a[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(a[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(Ex(e),a)}else{const a=Ex(e);if(a!==null&&r)return{...e};const s=Object.create(a);return Object.assign(s,e)}}function BB(e,t=!1){return j5(e)||$p(e)||!ZA(e)||(w5(e)>1&&Object.defineProperties(e,{set:{value:mb},add:{value:mb},clear:{value:mb},delete:{value:mb}}),Object.freeze(e),t&&Object.values(e).forEach(r=>BB(r,!0))),e}function mb(){Xf(2)}function j5(e){return Object.isFrozen(e)}var $de={};function zp(e){const t=$de[e];return t||Xf(0,e),t}var ov;function YQ(){return ov}function zde(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function qk(e,t){t&&(zp("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function GC(e){WC(e),e.drafts_.forEach(Vde),e.drafts_=null}function WC(e){e===ov&&(ov=e.parent_)}function Kk(e){return ov=zde(ov,e)}function Vde(e){const t=e[Lu];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Gk(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Lu].modified_&&(GC(t),Xf(4)),ZA(e)&&(e=Zw(t,e),t.parent_||e4(t,e)),t.patches_&&zp("Patches").generateReplacementPatches_(r[Lu].base_,e,t.patches_,t.inversePatches_)):e=Zw(t,r,[]),GC(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==KQ?e:void 0}function Zw(e,t,r){if(j5(t))return t;const a=t[Lu];if(!a)return Jw(t,(s,i)=>Wk(e,a,t,s,i,r)),t;if(a.scope_!==e)return t;if(!a.modified_)return e4(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let i=s,o=!1;a.type_===3&&(i=new Set(s),s.clear(),o=!0),Jw(i,(l,c)=>Wk(e,a,s,l,c,r,o)),e4(e,s,!1),r&&e.patches_&&zp("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function Wk(e,t,r,a,s,i,o){if($p(s)){const l=i&&t&&t.type_!==3&&!qC(t.assigned_,a)?i.concat(a):void 0,c=Zw(e,s,l);if(WQ(r,a,c),$p(c))e.canAutoFreeze_=!1;else return}else o&&r.add(s);if(ZA(s)&&!j5(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Zw(e,s),(!t||!t.scope_.parent_)&&typeof a!="symbol"&&(Wv(r)?r.has(a):Object.prototype.propertyIsEnumerable.call(r,a))&&e4(e,s)}}function e4(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&BB(t,r)}function qde(e,t){const r=Array.isArray(e),a={type_:r?1:0,scope_:t?t.scope_:YQ(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=a,i=TB;r&&(s=[a],i=lv);const{revoke:o,proxy:l}=Proxy.revocable(s,i);return a.draft_=l,a.revoke_=o,l}var TB={get(e,t){if(t===Lu)return e;const r=sp(e);if(!qC(r,t))return Kde(e,r,t);const a=r[t];return e.finalized_||!ZA(a)?a:a===wj(e.base_,t)?(Nj(e),e.copy_[t]=XC(a,e)):a},has(e,t){return t in sp(e)},ownKeys(e){return Reflect.ownKeys(sp(e))},set(e,t,r){const a=XQ(sp(e),t);if(a?.set)return a.set.call(e.draft_,r),!0;if(!e.modified_){const s=wj(sp(e),t),i=s?.[Lu];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Hde(r,s)&&(r!==void 0||qC(e.base_,t)))return!0;Nj(e),YC(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return wj(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Nj(e),YC(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=sp(e),a=Reflect.getOwnPropertyDescriptor(r,t);return a&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:a.enumerable,value:r[t]}},defineProperty(){Xf(11)},getPrototypeOf(e){return Ex(e.base_)},setPrototypeOf(){Xf(12)}},lv={};Jw(TB,(e,t)=>{lv[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});lv.deleteProperty=function(e,t){return lv.set.call(this,e,t,void 0)};lv.set=function(e,t,r){return TB.set.call(this,e[0],t,r,e[0])};function wj(e,t){const r=e[Lu];return(r?sp(r):e)[t]}function Kde(e,t,r){const a=XQ(t,r);return a?"value"in a?a.value:a.get?.call(e.draft_):void 0}function XQ(e,t){if(!(t in e))return;let r=Ex(e);for(;r;){const a=Object.getOwnPropertyDescriptor(r,t);if(a)return a;r=Ex(r)}}function YC(e){e.modified_||(e.modified_=!0,e.parent_&&YC(e.parent_))}function Nj(e){e.copy_||(e.copy_=KC(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Gde=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,a)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(c=i,...u){return o.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&Xf(6),a!==void 0&&typeof a!="function"&&Xf(7);let s;if(ZA(t)){const i=Kk(this),o=XC(t,void 0);let l=!0;try{s=r(o),l=!1}finally{l?GC(i):WC(i)}return qk(i,a),Gk(s,i)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===KQ&&(s=void 0),this.autoFreeze_&&BB(s,!0),a){const i=[],o=[];zp("Patches").generateReplacementPatches_(t,s,i,o),a(i,o)}return s}else Xf(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,c=>t(c,...l));let a,s;return[this.produce(t,r,(o,l)=>{a=o,s=l}),a,s]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){ZA(e)||Xf(8),$p(e)&&(e=qA(e));const t=Kk(this),r=XC(e,void 0);return r[Lu].isManual_=!0,WC(t),r}finishDraft(e,t){const r=e&&e[Lu];(!r||!r.isManual_)&&Xf(9);const{scope_:a}=r;return qk(a,t),Gk(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const a=zp("Patches").applyPatches_;return $p(e)?a(e,t):this.produce(e,s=>a(s,t))}};function XC(e,t){const r=Wv(e)?zp("MapSet").proxyMap_(e,t):N5(e)?zp("MapSet").proxySet_(e,t):qde(e,t);return(t?t.scope_:YQ()).drafts_.push(r),r}function qA(e){return $p(e)||Xf(10,e),JQ(e)}function JQ(e){if(!ZA(e)||j5(e))return e;const t=e[Lu];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=KC(e,t.scope_.immer_.useStrictShallowCopy_)}else r=KC(e,!0);return Jw(r,(a,s)=>{WQ(r,a,JQ(s))}),t&&(t.finalized_=!1),r}var Wde=new Gde,ZQ=Wde.produce;function Yde(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Xde(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Jde(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(a=>typeof a=="function"?`function ${a.name||"unnamed"}()`:typeof a).join(", ");throw new TypeError(`${t}[${r}]`)}}var Yk=e=>Array.isArray(e)?e:[e];function Zde(e){const t=Array.isArray(e[0])?e[0]:e;return Jde(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function eue(e,t){const r=[],{length:a}=e;for(let s=0;s<a;s++)r.push(e[s].apply(null,t));return r}var tue=class{constructor(e){this.value=e}deref(){return this.value}},rue=typeof WeakRef<"u"?WeakRef:tue,aue=0,Xk=1;function pb(){return{s:aue,v:void 0,o:null,p:null}}function eH(e,t={}){let r=pb();const{resultEqualityCheck:a}=t;let s,i=0;function o(){let l=r;const{length:c}=arguments;for(let A=0,m=c;A<m;A++){const h=arguments[A];if(typeof h=="function"||typeof h=="object"&&h!==null){let y=l.o;y===null&&(l.o=y=new WeakMap);const x=y.get(h);x===void 0?(l=pb(),y.set(h,l)):l=x}else{let y=l.p;y===null&&(l.p=y=new Map);const x=y.get(h);x===void 0?(l=pb(),y.set(h,l)):l=x}}const u=l;let d;if(l.s===Xk)d=l.v;else if(d=e.apply(null,arguments),i++,a){const A=s?.deref?.()??s;A!=null&&a(A,d)&&(d=A,i!==0&&i--),s=typeof d=="object"&&d!==null||typeof d=="function"?new rue(d):d}return u.s=Xk,u.v=d,d}return o.clearCache=()=>{r=pb(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function nue(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,a=(...s)=>{let i=0,o=0,l,c={},u=s.pop();typeof u=="object"&&(c=u,u=s.pop()),Yde(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:A,memoizeOptions:m=[],argsMemoize:h=eH,argsMemoizeOptions:y=[]}=d,x=Yk(m),v=Yk(y),b=Zde(s),j=A(function(){return i++,u.apply(null,arguments)},...x),C=h(function(){o++;const k=eue(b,arguments);return l=j.apply(null,k),l},...v);return Object.assign(C,{resultFunc:u,memoizedResultFunc:j,dependencies:b,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:A,argsMemoize:h})};return Object.assign(a,{withTypes:()=>a}),a}var tr=nue(eH),sue=Object.assign((e,t=tr)=>{Xde(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),a=r.map(i=>e[i]);return t(a,(...i)=>i.reduce((o,l,c)=>(o[r[c]]=l,o),{}))},{withTypes:()=>sue});function tH(e){return({dispatch:r,getState:a})=>s=>i=>typeof i=="function"?i(r,a,e):s(i)}var iue=tH(),oue=tH,lue=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Xw:Xw.apply(null,arguments)},cue=e=>e&&typeof e.match=="function";function jd(e,t){function r(...a){if(t){let s=t(...a);if(!s)throw new Error(Iu(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:a[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=a=>qQ(a)&&a.type===e,r}var rH=class gy extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,gy.prototype)}static get[Symbol.species](){return gy}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new gy(...t[0].concat(this)):new gy(...t.concat(this))}};function Jk(e){return ZA(e)?ZQ(e,()=>{}):e}function gb(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function due(e){return typeof e=="boolean"}var uue=()=>function(t){const{thunk:r=!0,immutableCheck:a=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=t??{};let o=new rH;return r&&(due(r)?o.push(iue):o.push(oue(r.extraArgument))),o},fue="RTK_autoBatch",Zk=e=>t=>{setTimeout(t,e)},hue=(e={type:"raf"})=>t=>(...r)=>{const a=t(...r);let s=!0,i=!1,o=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Zk(10):e.type==="callback"?e.queueNotification:Zk(e.timeout),u=()=>{o=!1,i&&(i=!1,l.forEach(d=>d()))};return Object.assign({},a,{subscribe(d){const A=()=>s&&d(),m=a.subscribe(A);return l.add(d),()=>{m(),l.delete(d)}},dispatch(d){try{return s=!d?.meta?.[fue],i=!s,i&&(o||(o=!0,c(u))),a.dispatch(d)}finally{s=!0}}})},Aue=e=>function(r){const{autoBatch:a=!0}=r??{};let s=new rH(e);return a&&s.push(hue(typeof a=="object"?a:void 0)),s};function aH(e){const t=uue(),{reducer:r=void 0,middleware:a,devTools:s=!0,duplicateMiddlewareCheck:i=!0,preloadedState:o=void 0,enhancers:l=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(EB(r))c=VQ(r);else throw new Error(Iu(1));let u;typeof a=="function"?u=a(t):u=t();let d=Xw;s&&(d=lue({trace:!1,...typeof s=="object"&&s}));const A=Rde(...u),m=Aue(A);let h=typeof l=="function"?l(m):m();const y=d(...h);return zQ(c,o,y)}function nH(e){const t={},r=[];let a;const s={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(Iu(28));if(l in t)throw new Error(Iu(29));return t[l]=o,s},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:i.settled,reducer:o.settled}),s},addMatcher(i,o){return r.push({matcher:i,reducer:o}),s},addDefaultCase(i){return a=i,s}};return e(s),[t,r,a]}function mue(e){return typeof e=="function"}function pue(e,t){let[r,a,s]=nH(t),i;if(mue(e))i=()=>Jk(e());else{const l=Jk(e);i=()=>l}function o(l=i(),c){let u=[r[c.type],...a.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[s]),u.reduce((d,A)=>{if(A)if($p(d)){const h=A(d,c);return h===void 0?d:h}else{if(ZA(d))return ZQ(d,m=>A(m,c));{const m=A(d,c);if(m===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return d},l)}return o.getInitialState=i,o}var gue=(e,t)=>cue(e)?e.match(t):e(t);function xue(...e){return t=>e.some(r=>gue(r,t))}var yue="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",sH=(e=21)=>{let t="",r=e;for(;r--;)t+=yue[Math.random()*64|0];return t},vue=["name","message","stack","code"],jj=class{constructor(e,t){this.payload=e,this.meta=t}_type},eI=class{constructor(e,t){this.payload=e,this.meta=t}_type},bue=e=>{if(typeof e=="object"&&e!==null){const t={};for(const r of vue)typeof e[r]=="string"&&(t[r]=e[r]);return t}return{message:String(e)}},tI="External signal was aborted",FB=(()=>{function e(t,r,a){const s=jd(t+"/fulfilled",(c,u,d,A)=>({payload:c,meta:{...A||{},arg:d,requestId:u,requestStatus:"fulfilled"}})),i=jd(t+"/pending",(c,u,d)=>({payload:void 0,meta:{...d||{},arg:u,requestId:c,requestStatus:"pending"}})),o=jd(t+"/rejected",(c,u,d,A,m)=>({payload:A,error:(a&&a.serializeError||bue)(c||"Rejected"),meta:{...m||{},arg:d,requestId:u,rejectedWithValue:!!A,requestStatus:"rejected",aborted:c?.name==="AbortError",condition:c?.name==="ConditionError"}}));function l(c,{signal:u}={}){return(d,A,m)=>{const h=a?.idGenerator?a.idGenerator(c):sH(),y=new AbortController;let x,v;function b(C){v=C,y.abort()}u&&(u.aborted?b(tI):u.addEventListener("abort",()=>b(tI),{once:!0}));const j=(async function(){let C;try{let k=a?.condition?.(c,{getState:A,extra:m});if(Nue(k)&&(k=await k),k===!1||y.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const D=new Promise((L,F)=>{x=()=>{F({name:"AbortError",message:v||"Aborted"})},y.signal.addEventListener("abort",x)});d(i(h,c,a?.getPendingMeta?.({requestId:h,arg:c},{getState:A,extra:m}))),C=await Promise.race([D,Promise.resolve(r(c,{dispatch:d,getState:A,extra:m,requestId:h,signal:y.signal,abort:b,rejectWithValue:(L,F)=>new jj(L,F),fulfillWithValue:(L,F)=>new eI(L,F)})).then(L=>{if(L instanceof jj)throw L;return L instanceof eI?s(L.payload,h,c,L.meta):s(L,h,c)})])}catch(k){C=k instanceof jj?o(null,h,c,k.payload,k.meta):o(k,h,c)}finally{x&&y.signal.removeEventListener("abort",x)}return a&&!a.dispatchConditionRejection&&o.match(C)&&C.meta.condition||d(C),C})();return Object.assign(j,{abort:b,requestId:h,arg:c,unwrap(){return j.then(wue)}})}}return Object.assign(l,{pending:i,rejected:o,fulfilled:s,settled:xue(o,s),typePrefix:t})}return e.withTypes=()=>e,e})();function wue(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function Nue(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var jue=Symbol.for("rtk-slice-createasyncthunk");function Sue(e,t){return`${e}/${t}`}function Cue({creators:e}={}){const t=e?.asyncThunk?.[jue];return function(a){const{name:s,reducerPath:i=s}=a;if(!s)throw new Error(Iu(11));const o=(typeof a.reducers=="function"?a.reducers(Bue()):a.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(C,E){const k=typeof C=="string"?C:C.type;if(!k)throw new Error(Iu(12));if(k in c.sliceCaseReducersByType)throw new Error(Iu(13));return c.sliceCaseReducersByType[k]=E,u},addMatcher(C,E){return c.sliceMatchers.push({matcher:C,reducer:E}),u},exposeAction(C,E){return c.actionCreators[C]=E,u},exposeCaseReducer(C,E){return c.sliceCaseReducersByName[C]=E,u}};l.forEach(C=>{const E=o[C],k={reducerName:C,type:Sue(s,C),createNotation:typeof a.reducers=="function"};Fue(E)?kue(k,E,u,t):Tue(k,E,u)});function d(){const[C={},E=[],k=void 0]=typeof a.extraReducers=="function"?nH(a.extraReducers):[a.extraReducers],D={...C,...c.sliceCaseReducersByType};return pue(a.initialState,L=>{for(let F in D)L.addCase(F,D[F]);for(let F of c.sliceMatchers)L.addMatcher(F.matcher,F.reducer);for(let F of E)L.addMatcher(F.matcher,F.reducer);k&&L.addDefaultCase(k)})}const A=C=>C,m=new Map,h=new WeakMap;let y;function x(C,E){return y||(y=d()),y(C,E)}function v(){return y||(y=d()),y.getInitialState()}function b(C,E=!1){function k(L){let F=L[C];return typeof F>"u"&&E&&(F=gb(h,k,v)),F}function D(L=A){const F=gb(m,E,()=>new WeakMap);return gb(F,L,()=>{const Q={};for(const[U,P]of Object.entries(a.selectors??{}))Q[U]=Eue(P,L,()=>gb(h,L,v),E);return Q})}return{reducerPath:C,getSelectors:D,get selectors(){return D(k)},selectSlice:k}}const j={name:s,reducer:x,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:v,...b(i),injectInto(C,{reducerPath:E,...k}={}){const D=E??i;return C.inject({reducerPath:D,reducer:x},k),{...j,...b(D,!0)}}};return j}}function Eue(e,t,r,a){function s(i,...o){let l=t(i);return typeof l>"u"&&a&&(l=r()),e(l,...o)}return s.unwrapped=e,s}var td=Cue();function Bue(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function Tue({type:e,reducerName:t,createNotation:r},a,s){let i,o;if("reducer"in a){if(r&&!_ue(a))throw new Error(Iu(17));i=a.reducer,o=a.prepare}else i=a;s.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?jd(e,o):jd(e))}function Fue(e){return e._reducerDefinitionType==="asyncThunk"}function _ue(e){return e._reducerDefinitionType==="reducerWithPrepare"}function kue({type:e,reducerName:t},r,a,s){if(!s)throw new Error(Iu(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:c,settled:u,options:d}=r,A=s(e,i,d);a.exposeAction(t,A),o&&a.addCase(A.fulfilled,o),l&&a.addCase(A.pending,l),c&&a.addCase(A.rejected,c),u&&a.addMatcher(A.settled,u),a.exposeCaseReducer(t,{fulfilled:o||xb,pending:l||xb,rejected:c||xb,settled:u||xb})}function xb(){}var Iue="task",iH="listener",oH="completed",_B="cancelled",Pue=`task-${_B}`,Lue=`task-${oH}`,JC=`${iH}-${_B}`,Oue=`${iH}-${oH}`,S5=class{constructor(e){this.code=e,this.message=`${Iue} ${_B} (reason: ${e})`}name="TaskAbortError";message},kB=(e,t)=>{if(typeof e!="function")throw new TypeError(Iu(32))},t4=()=>{},lH=(e,t=t4)=>(e.catch(t),e),cH=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Sp=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Cp=e=>{if(e.aborted){const{reason:t}=e;throw new S5(t)}};function dH(e,t){let r=t4;return new Promise((a,s)=>{const i=()=>s(new S5(e.reason));if(e.aborted){i();return}r=cH(e,i),t.finally(()=>r()).then(a,s)}).finally(()=>{r=t4})}var Due=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof S5?"cancelled":"rejected",error:r}}finally{t?.()}},r4=e=>t=>lH(dH(e,t).then(r=>(Cp(e),r))),uH=e=>{const t=r4(e);return r=>t(new Promise(a=>setTimeout(a,r)))},{assign:fx}=Object,rI={},C5="listenerMiddleware",Mue=(e,t)=>{const r=a=>cH(e,()=>Sp(a,e.reason));return(a,s)=>{kB(a);const i=new AbortController;r(i);const o=Due(async()=>{Cp(e),Cp(i.signal);const l=await a({pause:r4(i.signal),delay:uH(i.signal),signal:i.signal});return Cp(i.signal),l},()=>Sp(i,Lue));return s?.autoJoin&&t.push(o.catch(t4)),{result:r4(e)(o),cancel(){Sp(i,Pue)}}}},Uue=(e,t)=>{const r=async(a,s)=>{Cp(t);let i=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:a,effect:(A,m)=>{m.unsubscribe(),c([A,m.getState(),m.getOriginalState()])}});i=()=>{d(),u()}})];s!=null&&l.push(new Promise(c=>setTimeout(c,s,null)));try{const c=await dH(t,Promise.race(l));return Cp(t),c}finally{i()}};return(a,s)=>lH(r(a,s))},fH=e=>{let{type:t,actionCreator:r,matcher:a,predicate:s,effect:i}=e;if(t)s=jd(t).match;else if(r)t=r.type,s=r.match;else if(a)s=a;else if(!s)throw new Error(Iu(21));return kB(i),{predicate:s,type:t,effect:i}},hH=fx(e=>{const{type:t,predicate:r,effect:a}=fH(e);return{id:sH(),effect:a,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Iu(22))}}},{withTypes:()=>hH}),aI=(e,t)=>{const{type:r,effect:a,predicate:s}=fH(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===s)&&i.effect===a)},ZC=e=>{e.pending.forEach(t=>{Sp(t,JC)})},Rue=e=>()=>{e.forEach(ZC),e.clear()},nI=(e,t,r)=>{try{e(t,r)}catch(a){setTimeout(()=>{throw a},0)}},AH=fx(jd(`${C5}/add`),{withTypes:()=>AH}),Que=jd(`${C5}/removeAll`),mH=fx(jd(`${C5}/remove`),{withTypes:()=>mH}),Hue=(...e)=>{console.error(`${C5}/error`,...e)},Yv=(e={})=>{const t=new Map,{extra:r,onError:a=Hue}=e;kB(a);const s=d=>(d.unsubscribe=()=>t.delete(d.id),t.set(d.id,d),A=>{d.unsubscribe(),A?.cancelActive&&ZC(d)}),i=d=>{const A=aI(t,d)??hH(d);return s(A)};fx(i,{withTypes:()=>i});const o=d=>{const A=aI(t,d);return A&&(A.unsubscribe(),d.cancelActive&&ZC(A)),!!A};fx(o,{withTypes:()=>o});const l=async(d,A,m,h)=>{const y=new AbortController,x=Uue(i,y.signal),v=[];try{d.pending.add(y),await Promise.resolve(d.effect(A,fx({},m,{getOriginalState:h,condition:(b,j)=>x(b,j).then(Boolean),take:x,delay:uH(y.signal),pause:r4(y.signal),extra:r,signal:y.signal,fork:Mue(y.signal,v),unsubscribe:d.unsubscribe,subscribe:()=>{t.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((b,j,C)=>{b!==y&&(Sp(b,JC),C.delete(b))})},cancel:()=>{Sp(y,JC),d.pending.delete(y)},throwIfCancelled:()=>{Cp(y.signal)}})))}catch(b){b instanceof S5||nI(a,b,{raisedBy:"effect"})}finally{await Promise.all(v),Sp(y,Oue),d.pending.delete(y)}},c=Rue(t);return{middleware:d=>A=>m=>{if(!qQ(m))return A(m);if(AH.match(m))return i(m.payload);if(Que.match(m)){c();return}if(mH.match(m))return o(m.payload);let h=d.getState();const y=()=>{if(h===rI)throw new Error(Iu(23));return h};let x;try{if(x=A(m),t.size>0){const v=d.getState(),b=Array.from(t.values());for(const j of b){let C=!1;try{C=j.predicate(m,v,h)}catch(E){C=!1,nI(a,E,{raisedBy:"predicate"})}C&&l(j,m,d,y)}}}finally{h=rI}return x},startListening:i,stopListening:o,clearListeners:c}};function Iu(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const $ue="http://localhost:5000/api",Ty=FB("teachers/fetchTeachers",async e=>(await Vt.get(`${$ue}/teacher/${e}`)).data),zue=td({name:"teachers",initialState:{teachers:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(Ty.pending,t=>{t.loading=!0}).addCase(Ty.fulfilled,(t,r)=>{t.loading=!1,t.teachers=r.payload}).addCase(Ty.rejected,(t,r)=>{t.loading=!1,t.error=r.error.message})}}),Vue=zue.reducer,que="http://localhost:5000/api",hx=FB("classes/fetchClasses",async e=>(await Vt.get(`${que}/class?schoolId=${e}`)).data),Kue=td({name:"classes",initialState:{classes:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(hx.pending,t=>{t.loading=!0}).addCase(hx.fulfilled,(t,r)=>{t.loading=!1,t.classes=r.payload}).addCase(hx.rejected,(t,r)=>{t.loading=!1,t.error=r.error.message})}}),Gue=Kue.reducer,Wue="http://localhost:5000/api",Ax=FB("subjects/fetchSubjects",async e=>(await Vt.get(`${Wue}/subject/${e}/subjects`)).data),Yue=td({name:"subjects",initialState:{subjects:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(Ax.pending,t=>{t.loading=!0}).addCase(Ax.fulfilled,(t,r)=>{t.loading=!1,t.subjects=r.payload}).addCase(Ax.rejected,(t,r)=>{t.loading=!1,t.error=r.error.message})}}),Xue=Yue.reducer,Hm="http://localhost:5000/api",Jue=()=>localStorage.getItem("schoolId")||"688dfdc93af0f78ebd4b044a",Zue=()=>{const[e,t]=S.useState("classes"),[r,a]=S.useState(!1),[s,i]=S.useState(!1),[o,l]=S.useState(null),[c,u]=S.useState(null),[d,A]=S.useState(!1),[m,h]=S.useState(null),[y]=S.useState(Jue()),x=localStorage.getItem("color")||"#2563eb",[v,b]=S.useState([]),[j,C]=S.useState(1),[E,k]=S.useState(1),[D,L]=S.useState([]),[F,Q]=S.useState(1),[U,P]=S.useState(1),[I]=S.useState(10),z=localStorage.getItem("schoolId"),W=Xn(J=>J.teachers.teachers.data??[]),[ie,X]=S.useState({className:"",schoolId:y}),[le,re]=S.useState({section:"",className:"",classTeacher:"",schoolId:y}),he=$Q(),de=J=>{if(!J)return"N/A";if(typeof J=="object"&&J.name)return J.name;const ge=W.find(Je=>Je._id===J.toString());return ge?ge.name:"N/A"},ve=async()=>{try{A(!0),h(null);const J=await fetch(`${Hm}/classes/classes?schoolId=${y}&page=${j}&limit=${I}`);if(!J.ok)throw new Error("Failed to fetch classes");const ge=await J.json();if(!ge.success)throw new Error(ge.message||"Failed to fetch classes");b(ge.data||[]),k(ge.totalPages||1)}catch(J){h(J.message)}finally{A(!1)}},B=async()=>{try{A(!0),h(null);const J=await fetch(`${Hm}/class?schoolId=${y}&page=${F}&limit=${I}`);if(!J.ok)throw new Error("Failed to fetch sections");const ge=await J.json();if(!ge.success)throw new Error(ge.message||"Failed to fetch sections");L(ge.data||[]),P(ge.totalPages||1)}catch(J){h(J.message)}finally{A(!1)}};S.useEffect(()=>{e==="classes"?ve():(B(),v.length===0&&ve())},[y,j,F,e]);const R=J=>{const{name:ge,value:Je}=J.target;X(Ke=>({...Ke,[ge]:Je}))},G=J=>{const{name:ge,value:Je}=J.target;re(Ke=>({...Ke,[ge]:Je}))},ne=()=>{X({className:"",schoolId:y}),l(null)},pe=()=>{re({section:"",className:"",classTeacher:"",schoolId:y}),u(null)},xe=async J=>{if(J.preventDefault(),!ie.className.trim()){h("Class name is required");return}try{A(!0),h(null);const ge={...ie,schoolId:y},Je=o?`${Hm}/classes/updateclass/${o._id}`:`${Hm}/classes/addclass`,Fe=await fetch(Je,{method:o?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ge)});if(!Fe.ok){const nt=await Fe.json().catch(()=>({}));throw new Error(nt.message||"Failed to save class")}ve(),he(Ty(z)),he(hx(z)),he(Ax(z)),a(!1),ne()}catch(ge){h(ge.message)}finally{A(!1)}},Ae=async J=>{if(J.preventDefault(),!le.section.trim()){h("Section name is required");return}if(!le.className.trim()){h("Class name is required");return}try{A(!0),h(null);const ge={...le,schoolId:y},Je=c?`${Hm}/class/${c._id}`:`${Hm}/class`,Fe=await fetch(Je,{method:c?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ge)});if(!Fe.ok){const nt=await Fe.json().catch(()=>({}));throw new Error(nt.message||"Failed to save section")}B(),i(!1),pe()}catch(ge){h(ge.message)}finally{A(!1)}},Y=async J=>{if(window.confirm("Are you sure you want to delete this class? This will also affect related sections."))try{A(!0);const ge=await fetch(`${Hm}/classes/deleteclass/${J}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({schoolId:y})});if(!ge.ok){const Je=await ge.json().catch(()=>({}));throw new Error(Je.message||"Failed to delete class")}ve(),he(hx(z)),he(Ax(z)),v.length===1&&j>1&&C(Je=>Je-1)}catch(ge){h(ge.message)}finally{A(!1)}},se=async J=>{if(window.confirm("Are you sure you want to delete this section?"))try{A(!0);const ge=await fetch(`${Hm}/class/${J}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({schoolId:y})});if(!ge.ok){const Je=await ge.json().catch(()=>({}));throw new Error(Je.message||"Failed to delete section")}B(),D.length===1&&F>1&&Q(Je=>Je-1)}catch(ge){h(ge.message)}finally{A(!1)}},ee=()=>{j>1&&C(J=>J-1)},be=()=>{j<E&&C(J=>J+1)},Ce=()=>{F>1&&Q(J=>J-1)},ce=()=>{F<U&&Q(J=>J+1)};return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"p-6 rounded-b-3xl shadow-lg",style:{backgroundColor:x},children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-white",children:e==="classes"?"Class Management":"Section Management"}),n.jsx("p",{className:"text-gray-200",children:e==="classes"?"Manage classes":"Manage sections within classes"})]}),n.jsxs("button",{onClick:()=>e==="classes"?a(!0):i(!0),className:"text-white px-4 py-2 rounded-lg shadow-lg flex items-center space-x-2",style:{backgroundColor:x},children:[n.jsx(bs,{}),n.jsx("span",{children:e==="classes"?"Add Class":"Add Section"})]})]})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg",children:[n.jsxs("div",{className:"flex border-b",children:[n.jsxs("button",{onClick:()=>t("classes"),className:`flex-1 px-6 py-4 text-center font-medium flex items-center justify-center space-x-2 ${e==="classes"?"border-b-2 text-blue-600":"text-gray-500 hover:text-gray-700"}`,style:{borderBottomColor:e==="classes"?x:"transparent"},children:[n.jsx(Un,{}),n.jsx("span",{children:"Classes"})]}),n.jsxs("button",{onClick:()=>t("sections"),className:`flex-1 px-6 py-4 text-center font-medium flex items-center justify-center space-x-2 ${e==="sections"?"border-b-2 text-blue-600":"text-gray-500 hover:text-gray-700"}`,style:{borderBottomColor:e==="sections"?x:"transparent"},children:[n.jsx(W_,{}),n.jsx("span",{children:"Sections"})]})]}),m&&n.jsxs("div",{className:"m-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:[n.jsx("strong",{className:"font-bold",children:"Error: "}),m,n.jsx("button",{onClick:()=>h(null),className:"absolute top-2 right-2",children:n.jsx(pr,{})})]}),e==="classes"&&n.jsx("div",{className:"overflow-x-auto",children:d&&v.length===0?n.jsx("div",{className:"flex justify-center items-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2",style:{borderColor:x}})}):v.length?n.jsxs(n.Fragment,{children:[n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"Class Name"}),n.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"Created Date"}),n.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y",children:v.map(J=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"p-4 font-medium",children:J.className}),n.jsx("td",{className:"p-4",children:J.createdAt?new Date(J.createdAt).toLocaleDateString():"N/A"}),n.jsxs("td",{className:"p-4 flex space-x-2",children:[n.jsx("button",{onClick:()=>{l(J),X({className:J.className,schoolId:y}),a(!0)},className:"p-2 hover:bg-gray-100 rounded",children:n.jsx(mc,{style:{color:x}})}),n.jsx("button",{onClick:()=>Y(J._id),className:"p-2 hover:bg-gray-100 rounded text-red-500",children:n.jsx(Jn,{})})]})]},J._id))})]}),n.jsxs("div",{className:"flex justify-between items-center p-4",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:["Page ",j," of ",E]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:ee,disabled:j===1,className:`p-2 rounded-lg ${j===1?"text-gray-400 cursor-not-allowed":"text-white"}`,style:{backgroundColor:j===1?"#d1d5db":x},children:n.jsx(Do,{})}),n.jsx("button",{onClick:be,disabled:j===E,className:`p-2 rounded-lg ${j===E?"text-gray-400 cursor-not-allowed":"text-white"}`,style:{backgroundColor:j===E?"#d1d5db":x},children:n.jsx(ro,{})})]})]})]}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Un,{className:"w-12 h-12 mx-auto mb-4",style:{color:x}}),n.jsx("h3",{className:"text-lg font-medium mb-2",children:"No classes found"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Create your first class to get started"}),n.jsx("button",{onClick:()=>a(!0),className:"text-white px-4 py-2 rounded-lg shadow-lg",style:{backgroundColor:x},children:"Add First Class"})]})}),e==="sections"&&n.jsx("div",{className:"overflow-x-auto",children:d&&D.length===0?n.jsx("div",{className:"flex justify-center items-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2",style:{borderColor:x}})}):D.length?n.jsxs(n.Fragment,{children:[n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"Section Name"}),n.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"Class"}),n.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"Class Teacher"}),n.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y",children:D.map(J=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"p-4 font-medium",children:J.section}),n.jsx("td",{className:"p-4",children:J?.className}),n.jsx("td",{className:"p-4",children:de(J.classTeacher)}),n.jsxs("td",{className:"p-4 flex space-x-2",children:[n.jsx("button",{onClick:()=>{u(J),re({section:J.section,className:J.className||"",classTeacher:J.classTeacher?typeof J.classTeacher=="object"?J.classTeacher._id:J.classTeacher:"",schoolId:y}),i(!0)},className:"p-2 hover:bg-gray-100 rounded",children:n.jsx(mc,{style:{color:x}})}),n.jsx("button",{onClick:()=>se(J._id),className:"p-2 hover:bg-gray-100 rounded text-red-500",children:n.jsx(Jn,{})})]})]},J._id))})]}),n.jsxs("div",{className:"flex justify-between items-center p-4",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:["Page ",F," of ",U]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:Ce,disabled:F===1,className:`p-2 rounded-lg ${F===1?"text-gray-400 cursor-not-allowed":"text-white"}`,style:{backgroundColor:F===1?"#d1d5db":x},children:n.jsx(Do,{})}),n.jsx("button",{onClick:ce,disabled:F===U,className:`p-2 rounded-lg ${F===U?"text-gray-400 cursor-not-allowed":"text-white"}`,style:{backgroundColor:F===U?"#d1d5db":x},children:n.jsx(ro,{})})]})]})]}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx(W_,{className:"w-12 h-12 mx-auto mb-4",style:{color:x}}),n.jsx("h3",{className:"text-lg font-medium mb-2",children:"No sections found"}),n.jsx("p",{className:"text-gray-500 mb-4",children:v.length===0?"Create classes first, then add sections to them":"Create your first section"}),v.length>0&&n.jsx("button",{onClick:()=>i(!0),className:"text-white px-4 py-2 rounded-lg shadow-lg",style:{backgroundColor:x},children:"Add First Section"}),v.length===0&&n.jsx("button",{onClick:()=>t("classes"),className:"text-white px-4 py-2 rounded-lg shadow-lg",style:{backgroundColor:x},children:"Go to Classes"})]})})]}),r&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl overflow-y-auto",children:[n.jsxs("div",{className:"p-6 flex justify-between items-center",style:{backgroundColor:x},children:[n.jsx("h2",{className:"text-xl font-bold text-white",children:o?"Edit Class":"Add Class"}),n.jsx("button",{onClick:()=>{a(!1),ne()},className:"text-white",children:n.jsx(pr,{size:24})})]}),n.jsxs("form",{onSubmit:xe,className:"p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Class Name *"}),n.jsx("input",{type:"text",name:"className",value:ie.className,onChange:R,placeholder:"Enter class name (e.g., Grade 1, Class 10, etc.)",className:"w-full p-3 border rounded-lg",required:!0})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>{a(!1),ne()},className:"px-6 py-2 border rounded-lg",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:d,className:"px-6 py-2 text-white rounded-lg",style:{backgroundColor:x},children:d?"Saving...":o?"Update":"Create"})]})]})]})}),s&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl overflow-y-auto",children:[n.jsxs("div",{className:"p-6 flex justify-between items-center",style:{backgroundColor:x},children:[n.jsx("h2",{className:"text-xl font-bold text-white",children:c?"Edit Section":"Add Section"}),n.jsx("button",{onClick:()=>{i(!1),pe()},className:"text-white",children:n.jsx(pr,{size:24})})]}),n.jsxs("form",{onSubmit:Ae,className:"p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Section Name *"}),n.jsx("input",{type:"text",name:"section",value:le.section,onChange:G,placeholder:"Enter section name (e.g., A, B, Alpha, Beta)",className:"w-full p-3 border rounded-lg",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Select Class *"}),n.jsxs("select",{name:"className",value:le.className,onChange:G,className:"w-full p-3 border rounded-lg",required:!0,children:[n.jsx("option",{value:"",children:"Choose a class"}),v.map(J=>n.jsx("option",{value:J.className,children:J.className},J._id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Class Teacher"}),n.jsxs("select",{name:"classTeacher",value:le.classTeacher,onChange:G,className:"w-full p-3 border rounded-lg",children:[n.jsx("option",{value:"",children:"Select Teacher (Optional)"}),W.map(J=>n.jsx("option",{value:J._id,children:J.name},J._id))]})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>{i(!1),pe()},className:"px-6 py-2 border rounded-lg",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:d,className:"px-6 py-2 text-white rounded-lg",style:{backgroundColor:x},children:d?"Saving...":c?"Update":"Create"})]})]})]})})]})},efe=()=>{const e=localStorage.getItem("schoolId"),t=localStorage.getItem("color")||"#2563eb",r="http://localhost:5000/api",a=`${r}/class`,s=`${r}/subject`,i=`${r}/teacher`,o=`${r}/timetable`,[l,c]=S.useState("Monday"),[u,d]=S.useState(""),[A,m]=S.useState(""),[h,y]=S.useState({}),[x,v]=S.useState([]),[b,j]=S.useState([]),[C,E]=S.useState([]),[k,D]=S.useState(!0),[L,F]=S.useState(null),[Q,U]=S.useState(!1),[P,I]=S.useState("create"),[z,W]=S.useState(null),[ie,X]=S.useState(null),[le,re]=S.useState(-1),[he,de]=S.useState(null),ve=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],[B,R]=S.useState({className:"",section:"",day:"Monday",periods:[],timetableName:""}),[G,ne]=S.useState({_id:"",subjectName:"",teacherName:"",startTime:"",endTime:""});S.useEffect(()=>{if(!e){F("School ID not found. Please login again.");return}console.log("Current School ID:",e)},[e]),S.useEffect(()=>{e&&(async()=>(await xe(),await Ae(),await Y(),await se()))()},[e]);const pe=ke=>{if(!ke)return"N/A";const Ve=/^([0-1]?[0-9]|2[0-3]):[0-5][0-9](\s?(AM|PM))?$/i;return ke.match(Ve)&&!ke.includes("AM")&&!ke.includes("PM")?`${ke} AM`:ke},xe=async()=>{if(e)try{console.log("Fetching classes for school:",e);const ke=await fetch(`${a}?schoolId=${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});let Ve=[];if(ke.ok){const ze=await ke.json();console.log("Classes API Response:",ze),ze.success&&ze.data&&(Ve=ze.data.map(rt=>{const Ge=rt.className||`Class ${rt.classNumber||rt.grade||"Unknown"}`,bt=rt.section||"A";return{_id:rt._id,className:Ge,section:bt,displayName:`${Ge} ${bt}`.trim()}}))}Ve.length===0&&(console.log("Using fallback mock classes"),Ve=[]),console.log("Final classes data:",Ve),v(Ve)}catch(ke){console.error("Error fetching classes:",ke),F("Failed to fetch classes: "+ke.message),ir.error("Failed to fetch classes: "+ke.message)}},Ae=async()=>{if(e)try{console.log("Fetching subjects for school:",e);const ke=await fetch(`${s}/${e}/subjects`,{method:"GET",headers:{"Content-Type":"application/json"}});let Ve=[];if(ke.ok){const ze=await ke.json();console.log("Subjects API Response:",ze),ze.success&&ze.data&&(Ve=ze.data.map(rt=>({_id:rt._id,name:rt.SubjectName||rt.name||"Unknown"})))}Ve.length===0&&(console.log("Using fallback mock subjects"),Ve=[{_id:"sub_math",name:"Maths"}]),console.log("Final subjects data:",Ve),j(Ve)}catch(ke){console.error("Error fetching subjects:",ke),F("Failed to fetch subjects: "+ke.message),ir.error("Failed to fetch subjects: "+ke.message)}},Y=async()=>{if(e)try{console.log("Fetching teachers for school:",e);const ke=await fetch(`${i}/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});let Ve=[];if(ke.ok){const ze=await ke.json();console.log("Teachers API Response:",ze),ze.success&&ze.data&&(Ve=ze.data.map(rt=>({_id:rt._id,name:rt.name||rt.teacherName||"Unknown"})).filter(rt=>rt.name&&rt.name.trim()!==""))}Ve.length===0&&(console.log("Using fallback mock teachers"),Ve=[{_id:"teacher_1",name:"Mukesh"}]),console.log("Final teachers data:",Ve),E(Ve)}catch(ke){console.error("Error fetching teachers:",ke),F("Failed to fetch teachers: "+ke.message),ir.error("Failed to fetch teachers: "+ke.message)}},se=async()=>{if(e)try{D(!0),console.log("Fetching timetable for school:",e);const ke=await fetch(`${o}/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!ke.ok)throw new Error(`HTTP error! Status: ${ke.status}`);const Ve=await ke.json();if(console.log("Timetable API Response:",Ve),!Ve.success||!Ve.data||!Array.isArray(Ve.data))throw new Error(Ve.message||"Failed to fetch timetable");const ze={};ve.forEach(Ge=>{ze[Ge]={}}),(Ve.data.length>0&&Ve.data[0].timetable?Ve.data[0].timetable:[]).forEach(Ge=>{if(!Ge.day||!ve.includes(Ge.day))return;const[bt,Le]=Ge.className.split(" "),je=x.find(Te=>Te.className===bt&&Te.section===(Le||"A"))||{_id:`mock_${Ge.className.replace(/\s+/g,"_").toLowerCase()}`,className:bt||"Unknown",section:Le||"A",displayName:Ge.className},Ze=`${bt} ${Le||"A"}`.trim();ze[Ge.day][Ze]||(ze[Ge.day][Ze]={classId:je._id,className:bt,section:Le||"A",timetables:[]}),ze[Ge.day][Ze].timetables.push({timetableId:Ge._id,classId:je._id,className:Ze,timetableName:Ge.timetableName||"Regular",day:Ge.day,periods:(Ge.periods||[]).map((Te,pt)=>({id:Te._id||`${Ge._id}-${pt}`,_id:Te._id,subjectName:Te.subjectName||"Unknown",teacherName:Te.teacherName||"N/A",startTime:pe(Te.startTime),endTime:pe(Te.endTime),time:`${pe(Te.startTime)} - ${pe(Te.endTime)}`}))})}),Object.keys(ze).forEach(Ge=>{Object.values(ze[Ge]).forEach(bt=>{bt.timetables.forEach(Le=>{Le.periods.sort((je,Ze)=>{const Te=je.startTime&&je.startTime!=="N/A"?new Date(`1970-01-01 ${je.startTime}`):new Date(0),pt=Ze.startTime&&Ze.startTime!=="N/A"?new Date(`1970-01-01 ${Ze.startTime}`):new Date(0);return Te-pt})})})}),y(ze),F(null)}catch(ke){console.error("Fetch Error:",ke),F(ke.message||"Error fetching timetable"),ir.error(ke.message||"Error fetching timetable")}finally{D(!1)}},ee=async ke=>{if(!e)return F("School ID not found. Please login again."),ir.error("School ID not found. Please login again."),!1;try{D(!0),console.log("Creating timetable with data:",ke);const Ve={className:`${ke.className} ${ke.section}`.trim(),day:ke.day,timetableName:ke.timetableName,periods:ke.periods},rt=await(await fetch(`${o}/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ve)})).json();if(!rt.success)throw new Error(rt.message||"Failed to add timetable");return await se(),ir.success("Timetable created successfully!"),!0}catch(Ve){return F(Ve.message||"Error adding timetable"),ir.error(Ve.message||"Error adding timetable"),!1}finally{D(!1)}},be=async(ke,Ve)=>{if(!e)return F("School ID not found. Please login again."),ir.error("School ID not found. Please login again."),!1;if(!ke)return F("Timetable ID is required."),ir.error("Timetable ID is required."),!1;if(!Ve||typeof Ve!="object")return F("Timetable data must be a valid object."),ir.error("Timetable data must be a valid object."),!1;const{className:ze,section:rt,day:Ge,timetableName:bt,periods:Le}=Ve;if(!ze||!rt)return F("Class name and section are required."),ir.error("Class name and section are required."),!1;if(!Ge||!ve.includes(Ge))return F("Valid day is required (e.g., Monday, Tuesday)."),ir.error("Valid day is required (e.g., Monday, Tuesday)."),!1;if(!bt)return F("Timetable name is required."),ir.error("Timetable name is required."),!1;if(!Array.isArray(Le)||Le.length===0)return F("Periods must be a non-empty array."),ir.error("Periods must be a non-empty array."),!1;const je=/^([0-1]?[0-9]|2[0-3]):[0-5][0-9](\s?(AM|PM))?$/i;for(const Ze of Le){if(!Ze.subjectName)return F("Each period must have a subject name."),ir.error("Each period must have a subject name."),!1;if(!Ze.startTime||!Ze.startTime.match(je))return F("Each period must have a valid start time (e.g., 9:00 AM)."),ir.error("Each period must have a valid start time (e.g., 9:00 AM)."),!1;if(!Ze.endTime||!Ze.endTime.match(je))return F("Each period must have a valid end time (e.g., 10:00 AM)."),ir.error("Each period must have a valid end time (e.g., 10:00 AM)."),!1}try{D(!0),console.log("Updating timetable with ID:",ke,"Data:",Ve);const Ze={className:`${ze} ${rt}`.trim(),day:Ge,timetableName:bt,periods:Le.map(At=>({_id:At._id||void 0,subjectName:At.subjectName,teacherName:At.teacherName||"",startTime:At.startTime.trim(),endTime:At.endTime.trim()}))},pt=await(await fetch(`${o}/${e}/${ke}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ze)})).json();if(!pt.success)throw new Error(pt.message||"Failed to update timetable");return await se(),ir.success("Timetable updated successfully!"),!0}catch(Ze){return F(Ze.message||"Error updating timetable"),ir.error(Ze.message||"Error updating timetable"),!1}finally{D(!1)}},Ce=async ke=>{if(!e){F("School ID not found. Please login again."),ir.error("School ID not found. Please login again.");return}if(window.confirm("Are you sure you want to delete this timetable?"))try{de(ke),D(!0);const ze=await(await fetch(`${o}/${ke}`,{method:"DELETE",headers:{"Content-Type":"application/json"}})).json();if(!ze.success)throw new Error(ze.message||"Failed to delete timetable");await se(),ir.success("Timetable deleted successfully!")}catch(Ve){F(Ve.message||"Error deleting timetable"),ir.error(Ve.message||"Error deleting timetable")}finally{D(!1),de(null)}},ce=()=>{I("create"),W(null),R({className:u||"",section:A||"",day:l,periods:[],timetableName:""}),U(!0)},J=ke=>{I("edit"),W(ke);const[Ve,ze]=ke.className.split(" ");R({className:Ve||"",section:ze||"A",day:ke.day,periods:ke.periods.map(rt=>({_id:rt._id,subjectName:rt.subjectName,teacherName:rt.teacherName,startTime:rt.startTime,endTime:rt.endTime})),timetableName:ke.timetableName}),U(!0)},ge=()=>{ne({_id:"",subjectName:"",teacherName:"",startTime:"",endTime:""}),X(null),re(-1),I("period")},Je=(ke,Ve)=>{ne({_id:ke._id||"",subjectName:ke.subjectName,teacherName:ke.teacherName,startTime:ke.startTime,endTime:ke.endTime}),X(ke),re(Ve),I("period")},Ke=ke=>{const Ve=B.periods.filter((ze,rt)=>rt!==ke);R({...B,periods:Ve})},Fe=()=>{const ke=/^([0-1]?[0-9]|2[0-3]):[0-5][0-9](\s?(AM|PM))?$/i;if(!G.startTime.match(ke)&&G.startTime!==""){F("Please enter a valid start time (e.g., 9:00 AM)"),ir.error("Please enter a valid start time (e.g., 9:00 AM)");return}if(!G.endTime.match(ke)&&G.endTime!==""){F("Please enter a valid end time (e.g., 10:00 AM)"),ir.error("Please enter a valid end time (e.g., 10:00 AM)");return}if(!G.subjectName){F("Subject is required"),ir.error("Subject is required");return}const Ve={_id:G._id||void 0,subjectName:G.subjectName,teacherName:G.teacherName||"",startTime:pe(G.startTime),endTime:pe(G.endTime)};let ze=[...B.periods];ie&&le>=0?ze[le]=Ve:ze.push(Ve),ze.sort((rt,Ge)=>{const bt=rt.startTime&&rt.startTime!=="N/A"?new Date(`1970-01-01 ${rt.startTime}`):new Date(0),Le=Ge.startTime&&Ge.startTime!=="N/A"?new Date(`1970-01-01 ${Ge.startTime}`):new Date(0);return bt-Le}),R({...B,periods:ze}),I(z?"edit":"create"),F(null)},nt=async()=>{if(B.periods.length===0){F("Please add at least one period"),ir.error("Please add at least one period");return}if(!B.className||!B.section){F("Please select both class and section"),ir.error("Please select both class and section");return}if(!B.timetableName){F("Please enter a timetable name"),ir.error("Please enter a timetable name");return}const ke={className:B.className,section:B.section,day:B.day,periods:B.periods,timetableName:B.timetableName};let Ve=!1;z?Ve=await be(z.timetableId,ke):Ve=await ee(ke),Ve&&Se()},Se=()=>{R({className:"",section:"",day:"Monday",periods:[],timetableName:""}),ne({_id:"",subjectName:"",teacherName:"",startTime:"",endTime:""}),W(null),X(null),re(-1),U(!1),I("create"),F(null)},Me=[...new Set(x.map(ke=>ke.className))],at=u?x.filter(ke=>ke.className===u).map(ke=>ke.section):[];return e?n.jsxs("div",{className:"space-y-6 p-6 max-w-7xl mx-auto",children:[n.jsxs("div",{className:Gt("text-black p-6 rounded-b-3xl shadow-lg"),style:{backgroundColor:t},children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Class Timetable"}),n.jsx("p",{className:"text-gray-200",children:"View and manage class schedules"}),n.jsxs("div",{className:"text-white text-sm opacity-75 mt-1",children:["School ID: ",e]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("select",{value:u,onChange:ke=>{d(ke.target.value),m("")},className:"px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 w-32",style:{borderColor:t,outlineColor:t},children:[n.jsx("option",{value:"",children:"All Classes"}),Me.map(ke=>n.jsx("option",{value:ke,children:ke},ke))]}),n.jsxs("select",{value:A,onChange:ke=>m(ke.target.value),className:"px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 w-24",style:{borderColor:t,outlineColor:t},disabled:!u,children:[n.jsx("option",{value:"",children:"All Sections"}),at.map(ke=>n.jsx("option",{value:ke,children:ke},ke))]})]}),n.jsxs("div",{className:"text-white text-xs opacity-75",children:[x.length," classes available"]}),n.jsxs("button",{onClick:ce,className:Gt("text-white px-4 py-2 rounded-lg shadow-lg flex items-center hover:opacity-90"),style:{backgroundColor:t},disabled:k||x.length===0,children:[k?n.jsx(Rr,{className:"mr-2 animate-spin",style:{color:"white"}}):n.jsx(bs,{className:"mr-2",style:{color:"white"}}),"Create Timetable"]})]})]}),L&&n.jsxs("div",{className:"p-4 bg-red-100 text-red-700 rounded-xl mb-4 flex items-center justify-between max-w-full",children:[L,n.jsx("button",{onClick:()=>F(null),className:"text-red-500 hover:text-red-700",children:""})]}),k&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(fn,{className:"w-12 h-12 mx-auto mb-4 animate-pulse",style:{color:t}}),n.jsx("p",{className:"text-gray-500 text-lg",children:"Loading timetable..."})]}),!k&&n.jsx("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:ve.map(ke=>n.jsx("button",{onClick:()=>c(ke),className:Gt("flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors",{"bg-white shadow-sm":l===ke,"text-gray-600 hover:text-gray-800":l!==ke}),style:{color:l===ke?t:void 0},children:ke},ke))})]}),!k&&n.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-x-auto",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:[l," -"," ",u&&A?`${u} ${A}`:u?`${u} (All Sections)`:"All Classes"]})}),n.jsx("div",{className:"p-6 space-y-6",children:Object.keys(h[l]||{}).length===0?n.jsxs("div",{className:"text-center py-12 text-gray-500",children:[n.jsx(fn,{className:"w-12 h-12 mx-auto mb-4",style:{color:t}}),n.jsxs("p",{children:["No timetables scheduled for ",l,u?` (${u}${A?` ${A}`:" (All Sections)"})`:""]}),n.jsxs("div",{className:"text-xs mt-2",children:["School ID: ",e]}),n.jsx("button",{onClick:ce,className:Gt("text-white px-4 py-2 rounded-lg shadow-lg mt-4 hover:opacity-90"),style:{backgroundColor:t},disabled:x.length===0,children:"Create Timetable"})]}):Object.entries(h[l]).filter(([ke,Ve])=>{if(!u)return!0;const[ze,rt]=ke.split(" ");return ze===u&&(!A||rt===A)}).map(([ke,Ve])=>n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:ke}),n.jsxs("table",{className:"min-w-full border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-100",children:[n.jsx("th",{className:"p-3 text-left text-sm font-medium text-gray-600 border-b w-1/5",children:"Timetable Name"}),n.jsx("th",{className:"p-3 text-left text-sm font-medium text-gray-600 border-b w-1/5",children:"Time"}),n.jsx("th",{className:"p-3 text-left text-sm font-medium text-gray-600 border-b w-1/5",children:"Subject"}),n.jsx("th",{className:"p-3 text-left text-sm font-medium text-gray-600 border-b w-1/5",children:"Teacher"}),n.jsx("th",{className:"p-3 text-left text-sm font-medium text-gray-600 border-b w-1/5",children:"Actions"})]})}),n.jsx("tbody",{children:Ve.timetables.map(ze=>ze.periods.map((rt,Ge)=>n.jsxs("tr",{className:"border-b",children:[Ge===0&&n.jsx("td",{className:"p-3 text-gray-800",rowSpan:ze.periods.length,children:ze.timetableName}),n.jsx("td",{className:"p-3 text-gray-600",children:rt.time}),n.jsx("td",{className:"p-3 text-gray-800",children:rt.subjectName}),n.jsx("td",{className:"p-3 text-gray-600",children:rt.teacherName}),Ge===0&&n.jsx("td",{className:"p-3",rowSpan:ze.periods.length,children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>J(ze),className:"hover:opacity-75",style:{color:t},disabled:k||he===ze.timetableId,title:"Edit Timetable",children:n.jsx(Ql,{size:16})}),n.jsx("button",{onClick:()=>Ce(ze.timetableId),className:"hover:opacity-75",style:{color:t},disabled:k||he===ze.timetableId,title:"Delete Timetable",children:he===ze.timetableId?n.jsx(Rr,{className:"animate-spin",size:16}):n.jsx(Jn,{size:16})})]})})]},`${ze.timetableId}-${rt.id}`)))})]})]},ke))})]}),Q&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-5xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:Gt("text-white p-6 rounded-t-lg shadow-lg flex justify-between items-center mb-6 sticky top-0 z-10"),style:{backgroundColor:t},children:[n.jsx("h2",{className:"text-xl font-bold text-white",children:P==="period"?ie?"Edit Period":"Add Period":z?"Edit Timetable":"Create Timetable"}),n.jsx("button",{onClick:Se,className:"flex items-center justify-center w-8 h-8 hover:bg-white hover:bg-opacity-20 rounded-full transition-colors",children:n.jsx(pr,{size:24,className:"text-white"})})]}),P==="period"?n.jsxs("div",{className:"space-y-4 p-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"startTime",className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Time"}),n.jsx("input",{type:"time",id:"startTime",placeholder:"Select start time",value:G.startTime,onChange:ke=>ne({...G,startTime:ke.target.value}),className:"p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 w-full",style:{borderColor:t,outlineColor:t},required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"endTime",className:"block text-sm font-medium text-gray-700 mb-1",children:"End Time"}),n.jsx("input",{type:"time",id:"endTime",placeholder:"Select end time",value:G.endTime,onChange:ke=>ne({...G,endTime:ke.target.value}),className:"p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 w-full",style:{borderColor:t,outlineColor:t},required:!0})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"subjectName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),n.jsxs("select",{id:"subjectName",value:G.subjectName,onChange:ke=>{ne({...G,subjectName:ke.target.value})},className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:t,outlineColor:t},required:!0,children:[n.jsx("option",{value:"",children:"Select Subject"}),b.map(ke=>n.jsx("option",{value:ke.name,children:ke.name},ke._id))]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"teacherName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Teacher (Optional)"}),n.jsxs("select",{id:"teacherName",value:G.teacherName,onChange:ke=>{ne({...G,teacherName:ke.target.value})},className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:t,outlineColor:t},children:[n.jsx("option",{value:"",children:"Select Teacher"}),C.filter(ke=>ke.name&&ke.name.trim()!=="").map(ke=>n.jsx("option",{value:ke.name,children:ke.name},ke._id))]})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{onClick:()=>I(z?"edit":"create"),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Back"}),n.jsx("button",{onClick:Fe,className:Gt("text-white px-4 py-2 rounded-lg shadow-lg hover:opacity-90"),style:{backgroundColor:t},children:ie?"Update Period":"Add Period"})]})]}):n.jsxs("div",{className:"space-y-6 p-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("select",{value:B.className,onChange:ke=>R({...B,className:ke.target.value,section:""}),className:"p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 w-full",style:{borderColor:t,outlineColor:t},required:!0,children:[n.jsx("option",{value:"",children:"Select Class"}),Me.map(ke=>n.jsx("option",{value:ke,children:ke},ke))]}),n.jsxs("select",{value:B.section,onChange:ke=>R({...B,section:ke.target.value}),className:"p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 w-full",style:{borderColor:t,outlineColor:t},required:!0,disabled:!B.className,children:[n.jsx("option",{value:"",children:"Select Section"}),x.filter(ke=>ke.className===B.className).map(ke=>n.jsx("option",{value:ke.section,children:ke.section},ke.section))]}),n.jsx("select",{value:B.day,onChange:ke=>R({...B,day:ke.target.value}),className:"p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 w-full",style:{borderColor:t,outlineColor:t},required:!0,children:ve.map(ke=>n.jsx("option",{value:ke,children:ke},ke))}),n.jsx("input",{type:"text",placeholder:"Timetable Name (e.g., Regular Timetable)",value:B.timetableName,onChange:ke=>R({...B,timetableName:ke.target.value}),className:"p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 w-full",style:{borderColor:t,outlineColor:t},required:!0})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Periods"}),n.jsxs("button",{onClick:ge,className:Gt("text-white px-3 py-1 rounded-lg text-sm flex items-center hover:opacity-90"),style:{backgroundColor:t},children:[n.jsx(bs,{className:"mr-1",style:{color:"white"}})," Add Period"]})]}),n.jsxs("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:[B.periods.map((ke,Ve)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("span",{className:"font-medium",children:[ke.startTime," - ",ke.endTime]}),n.jsx("span",{className:"text-gray-600",children:ke.subjectName})]}),n.jsx("div",{className:"text-sm text-gray-500 mt-1",children:ke.teacherName||"No teacher assigned"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>Je(ke,Ve),className:"hover:opacity-75",style:{color:t},children:n.jsx(Ql,{size:16})}),n.jsx("button",{onClick:()=>Ke(Ve),className:"hover:opacity-75",style:{color:t},children:n.jsx(Jn,{size:16})})]})]},Ve)),B.periods.length===0&&n.jsx("div",{className:"text-center py-8 text-gray-500",children:'No periods added yet. Click "Add Period" to get started.'})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{onClick:Se,className:"px-6 py-2 border rounded-lg hover:bg-gray-50",disabled:k,children:"Cancel"}),n.jsxs("button",{onClick:nt,className:Gt("text-white px-6 py-2 rounded-lg shadow-lg flex items-center hover:opacity-90"),style:{backgroundColor:t},disabled:k||B.periods.length===0||!B.timetableName||!B.className||!B.section,children:[k?n.jsx(Rr,{className:"mr-2 animate-spin",style:{color:"white"}}):n.jsx($l,{className:"mr-2",style:{color:"white"}}),z?"Update Timetable":"Create Timetable"]})]})]})]})}),n.jsx(b5,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]}):n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-500 text-xl mb-4",children:"School ID not found"}),n.jsx("div",{className:"text-gray-600",children:"Please login again to access the timetable system."}),n.jsx("button",{onClick:()=>window.location.href="/login",className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Go to Login"})]})})},tfe="modulepreload",rfe=function(e){return"/"+e},sI={},mx=function(t,r,a){let s=Promise.resolve();if(r&&r.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(A=>({status:"fulfilled",value:A}),A=>({status:"rejected",reason:A}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");s=c(r.map(u=>{if(u=rfe(u),u in sI)return;sI[u]=!0;const d=u.endsWith(".css"),A=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${A}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":tfe,d||(m.as="script"),m.crossOrigin="",m.href=u,l&&m.setAttribute("nonce",l),document.head.appendChild(m),d)return new Promise((h,y)=>{m.addEventListener("load",h),m.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function va(e){"@babel/helpers - typeof";return va=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},va(e)}var Yc=Uint8Array,ku=Uint16Array,IB=Int32Array,E5=new Yc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),B5=new Yc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),e6=new Yc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),pH=function(e,t){for(var r=new ku(31),a=0;a<31;++a)r[a]=t+=1<<e[a-1];for(var s=new IB(r[30]),a=1;a<30;++a)for(var i=r[a];i<r[a+1];++i)s[i]=i-r[a]<<5|a;return{b:r,r:s}},gH=pH(E5,2),xH=gH.b,t6=gH.r;xH[28]=258,t6[258]=28;var yH=pH(B5,0),afe=yH.b,iI=yH.r,r6=new ku(32768);for(var Si=0;Si<32768;++Si){var $m=(Si&43690)>>1|(Si&21845)<<1;$m=($m&52428)>>2|($m&13107)<<2,$m=($m&61680)>>4|($m&3855)<<4,r6[Si]=(($m&65280)>>8|($m&255)<<8)>>1}var Kh=(function(e,t,r){for(var a=e.length,s=0,i=new ku(t);s<a;++s)e[s]&&++i[e[s]-1];var o=new ku(t);for(s=1;s<t;++s)o[s]=o[s-1]+i[s-1]<<1;var l;if(r){l=new ku(1<<t);var c=15-t;for(s=0;s<a;++s)if(e[s])for(var u=s<<4|e[s],d=t-e[s],A=o[e[s]-1]++<<d,m=A|(1<<d)-1;A<=m;++A)l[r6[A]>>c]=u}else for(l=new ku(a),s=0;s<a;++s)e[s]&&(l[s]=r6[o[e[s]-1]++]>>15-e[s]);return l}),m0=new Yc(288);for(var Si=0;Si<144;++Si)m0[Si]=8;for(var Si=144;Si<256;++Si)m0[Si]=9;for(var Si=256;Si<280;++Si)m0[Si]=7;for(var Si=280;Si<288;++Si)m0[Si]=8;var cv=new Yc(32);for(var Si=0;Si<32;++Si)cv[Si]=5;var nfe=Kh(m0,9,0),sfe=Kh(m0,9,1),ife=Kh(cv,5,0),ofe=Kh(cv,5,1),Sj=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},zf=function(e,t,r){var a=t/8|0;return(e[a]|e[a+1]<<8)>>(t&7)&r},Cj=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},PB=function(e){return(e+7)/8|0},vH=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Yc(e.subarray(t,r))},lfe=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Gf=function(e,t,r){var a=new Error(t||lfe[e]);if(a.code=e,Error.captureStackTrace&&Error.captureStackTrace(a,Gf),!r)throw a;return a},cfe=function(e,t,r,a){var s=e.length,i=0;if(!s||t.f&&!t.l)return r||new Yc(0);var o=!r,l=o||t.i!=2,c=t.i;o&&(r=new Yc(s*3));var u=function(ee){var be=r.length;if(ee>be){var Ce=new Yc(Math.max(be*2,ee));Ce.set(r),r=Ce}},d=t.f||0,A=t.p||0,m=t.b||0,h=t.l,y=t.d,x=t.m,v=t.n,b=s*8;do{if(!h){d=zf(e,A,1);var j=zf(e,A+1,3);if(A+=3,j)if(j==1)h=sfe,y=ofe,x=9,v=5;else if(j==2){var D=zf(e,A,31)+257,L=zf(e,A+10,15)+4,F=D+zf(e,A+5,31)+1;A+=14;for(var Q=new Yc(F),U=new Yc(19),P=0;P<L;++P)U[e6[P]]=zf(e,A+P*3,7);A+=L*3;for(var I=Sj(U),z=(1<<I)-1,W=Kh(U,I,1),P=0;P<F;){var ie=W[zf(e,A,z)];A+=ie&15;var C=ie>>4;if(C<16)Q[P++]=C;else{var X=0,le=0;for(C==16?(le=3+zf(e,A,3),A+=2,X=Q[P-1]):C==17?(le=3+zf(e,A,7),A+=3):C==18&&(le=11+zf(e,A,127),A+=7);le--;)Q[P++]=X}}var re=Q.subarray(0,D),he=Q.subarray(D);x=Sj(re),v=Sj(he),h=Kh(re,x,1),y=Kh(he,v,1)}else Gf(1);else{var C=PB(A)+4,E=e[C-4]|e[C-3]<<8,k=C+E;if(k>s){c&&Gf(0);break}l&&u(m+E),r.set(e.subarray(C,k),m),t.b=m+=E,t.p=A=k*8,t.f=d;continue}if(A>b){c&&Gf(0);break}}l&&u(m+131072);for(var de=(1<<x)-1,ve=(1<<v)-1,B=A;;B=A){var X=h[Cj(e,A)&de],R=X>>4;if(A+=X&15,A>b){c&&Gf(0);break}if(X||Gf(2),R<256)r[m++]=R;else if(R==256){B=A,h=null;break}else{var G=R-254;if(R>264){var P=R-257,ne=E5[P];G=zf(e,A,(1<<ne)-1)+xH[P],A+=ne}var pe=y[Cj(e,A)&ve],xe=pe>>4;pe||Gf(3),A+=pe&15;var he=afe[xe];if(xe>3){var ne=B5[xe];he+=Cj(e,A)&(1<<ne)-1,A+=ne}if(A>b){c&&Gf(0);break}l&&u(m+131072);var Ae=m+G;if(m<he){var Y=i-he,se=Math.min(he,Ae);for(Y+m<0&&Gf(3);m<se;++m)r[m]=a[Y+m]}for(;m<Ae;++m)r[m]=r[m-he]}}t.l=h,t.p=B,t.b=m,t.f=d,h&&(d=1,t.m=x,t.d=y,t.n=v)}while(!d);return m!=r.length&&o?vH(r,0,m):r.subarray(0,m)},EA=function(e,t,r){r<<=t&7;var a=t/8|0;e[a]|=r,e[a+1]|=r>>8},Z1=function(e,t,r){r<<=t&7;var a=t/8|0;e[a]|=r,e[a+1]|=r>>8,e[a+2]|=r>>16},Ej=function(e,t){for(var r=[],a=0;a<e.length;++a)e[a]&&r.push({s:a,f:e[a]});var s=r.length,i=r.slice();if(!s)return{t:wH,l:0};if(s==1){var o=new Yc(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(k,D){return k.f-D.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,d=1,A=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=s-1;)l=r[r[u].f<r[A].f?u++:A++],c=r[u!=d&&r[u].f<r[A].f?u++:A++],r[d++]={s:-1,f:l.f+c.f,l,r:c};for(var m=i[0].s,a=1;a<s;++a)i[a].s>m&&(m=i[a].s);var h=new ku(m+1),y=a6(r[d-1],h,0);if(y>t){var a=0,x=0,v=y-t,b=1<<v;for(i.sort(function(D,L){return h[L.s]-h[D.s]||D.f-L.f});a<s;++a){var j=i[a].s;if(h[j]>t)x+=b-(1<<y-h[j]),h[j]=t;else break}for(x>>=v;x>0;){var C=i[a].s;h[C]<t?x-=1<<t-h[C]++-1:++a}for(;a>=0&&x;--a){var E=i[a].s;h[E]==t&&(--h[E],++x)}y=t}return{t:new Yc(h),l:y}},a6=function(e,t,r){return e.s==-1?Math.max(a6(e.l,t,r+1),a6(e.r,t,r+1)):t[e.s]=r},oI=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new ku(++t),a=0,s=e[0],i=1,o=function(c){r[a++]=c},l=1;l<=t;++l)if(e[l]==s&&l!=t)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=e[l]}return{c:r.subarray(0,a),n:t}},ey=function(e,t){for(var r=0,a=0;a<t.length;++a)r+=e[a]*t[a];return r},bH=function(e,t,r){var a=r.length,s=PB(t+2);e[s]=a&255,e[s+1]=a>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var i=0;i<a;++i)e[s+i+4]=r[i];return(s+4+a)*8},lI=function(e,t,r,a,s,i,o,l,c,u,d){EA(t,d++,r),++s[256];for(var A=Ej(s,15),m=A.t,h=A.l,y=Ej(i,15),x=y.t,v=y.l,b=oI(m),j=b.c,C=b.n,E=oI(x),k=E.c,D=E.n,L=new ku(19),F=0;F<j.length;++F)++L[j[F]&31];for(var F=0;F<k.length;++F)++L[k[F]&31];for(var Q=Ej(L,7),U=Q.t,P=Q.l,I=19;I>4&&!U[e6[I-1]];--I);var z=u+5<<3,W=ey(s,m0)+ey(i,cv)+o,ie=ey(s,m)+ey(i,x)+o+14+3*I+ey(L,U)+2*L[16]+3*L[17]+7*L[18];if(c>=0&&z<=W&&z<=ie)return bH(t,d,e.subarray(c,c+u));var X,le,re,he;if(EA(t,d,1+(ie<W)),d+=2,ie<W){X=Kh(m,h,0),le=m,re=Kh(x,v,0),he=x;var de=Kh(U,P,0);EA(t,d,C-257),EA(t,d+5,D-1),EA(t,d+10,I-4),d+=14;for(var F=0;F<I;++F)EA(t,d+3*F,U[e6[F]]);d+=3*I;for(var ve=[j,k],B=0;B<2;++B)for(var R=ve[B],F=0;F<R.length;++F){var G=R[F]&31;EA(t,d,de[G]),d+=U[G],G>15&&(EA(t,d,R[F]>>5&127),d+=R[F]>>12)}}else X=nfe,le=m0,re=ife,he=cv;for(var F=0;F<l;++F){var ne=a[F];if(ne>255){var G=ne>>18&31;Z1(t,d,X[G+257]),d+=le[G+257],G>7&&(EA(t,d,ne>>23&31),d+=E5[G]);var pe=ne&31;Z1(t,d,re[pe]),d+=he[pe],pe>3&&(Z1(t,d,ne>>5&8191),d+=B5[pe])}else Z1(t,d,X[ne]),d+=le[ne]}return Z1(t,d,X[256]),d+le[256]},dfe=new IB([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),wH=new Yc(0),ufe=function(e,t,r,a,s,i){var o=i.z||e.length,l=new Yc(a+o+5*(1+Math.ceil(o/7e3))+s),c=l.subarray(a,l.length-s),u=i.l,d=(i.r||0)&7;if(t){d&&(c[0]=i.r>>3);for(var A=dfe[t-1],m=A>>13,h=A&8191,y=(1<<r)-1,x=i.p||new ku(32768),v=i.h||new ku(y+1),b=Math.ceil(r/3),j=2*b,C=function(ce){return(e[ce]^e[ce+1]<<b^e[ce+2]<<j)&y},E=new IB(25e3),k=new ku(288),D=new ku(32),L=0,F=0,Q=i.i||0,U=0,P=i.w||0,I=0;Q+2<o;++Q){var z=C(Q),W=Q&32767,ie=v[z];if(x[W]=ie,v[z]=W,P<=Q){var X=o-Q;if((L>7e3||U>24576)&&(X>423||!u)){d=lI(e,c,0,E,k,D,F,U,I,Q-I,d),U=L=F=0,I=Q;for(var le=0;le<286;++le)k[le]=0;for(var le=0;le<30;++le)D[le]=0}var re=2,he=0,de=h,ve=W-ie&32767;if(X>2&&z==C(Q-ve))for(var B=Math.min(m,X)-1,R=Math.min(32767,Q),G=Math.min(258,X);ve<=R&&--de&&W!=ie;){if(e[Q+re]==e[Q+re-ve]){for(var ne=0;ne<G&&e[Q+ne]==e[Q+ne-ve];++ne);if(ne>re){if(re=ne,he=ve,ne>B)break;for(var pe=Math.min(ve,ne-2),xe=0,le=0;le<pe;++le){var Ae=Q-ve+le&32767,Y=x[Ae],se=Ae-Y&32767;se>xe&&(xe=se,ie=Ae)}}}W=ie,ie=x[W],ve+=W-ie&32767}if(he){E[U++]=268435456|t6[re]<<18|iI[he];var ee=t6[re]&31,be=iI[he]&31;F+=E5[ee]+B5[be],++k[257+ee],++D[be],P=Q+re,++L}else E[U++]=e[Q],++k[e[Q]]}}for(Q=Math.max(Q,P);Q<o;++Q)E[U++]=e[Q],++k[e[Q]];d=lI(e,c,u,E,k,D,F,U,I,Q-I,d),u||(i.r=d&7|c[d/8|0]<<3,d-=7,i.h=v,i.p=x,i.i=Q,i.w=P)}else{for(var Q=i.w||0;Q<o+u;Q+=65535){var Ce=Q+65535;Ce>=o&&(c[d/8|0]=u,Ce=o),d=bH(c,d+1,e.subarray(Q,Ce))}i.i=o}return vH(l,0,a+PB(d)+s)},NH=function(){var e=1,t=0;return{p:function(r){for(var a=e,s=t,i=r.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)s+=a+=r[o];a=(a&65535)+15*(a>>16),s=(s&65535)+15*(s>>16)}e=a,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},ffe=function(e,t,r,a,s){if(!s&&(s={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new Yc(i.length+e.length);o.set(i),o.set(e,i.length),e=o,s.w=i.length}return ufe(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,a,s)},jH=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},hfe=function(e,t){var r=t.level,a=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=a<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=NH();s.p(t.dictionary),jH(e,2,s.d())}},Afe=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Gf(6,"invalid zlib data"),(e[1]>>5&1)==1&&Gf(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function Bx(e,t){t||(t={});var r=NH();r.p(e);var a=ffe(e,t,t.dictionary?6:2,4);return hfe(a,t),jH(a,a.length-4,r.d()),a}function mfe(e,t){return cfe(e.subarray(Afe(e),-4),{i:2},t,t)}var pfe=typeof TextDecoder<"u"&&new TextDecoder,gfe=0;try{pfe.decode(wH,{stream:!0}),gfe=1}catch{}var Oa=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Bj(){Oa.console&&typeof Oa.console.log=="function"&&Oa.console.log.apply(Oa.console,arguments)}var ei={log:Bj,warn:function(e){Oa.console&&(typeof Oa.console.warn=="function"?Oa.console.warn.apply(Oa.console,arguments):Bj.call(null,arguments))},error:function(e){Oa.console&&(typeof Oa.console.error=="function"?Oa.console.error.apply(Oa.console,arguments):Bj(e))}};function Tj(e,t,r){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){ip(a.response,t,r)},a.onerror=function(){ei.error("could not download file")},a.send()}function cI(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function yb(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Fy,n6,ip=Oa.saveAs||((typeof window>"u"?"undefined":va(window))!=="object"||window!==Oa?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var a=Oa.URL||Oa.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?cI(s.href)?Tj(e,t,r):yb(s,s.target="_blank"):yb(s)):(s.href=a.createObjectURL(e),setTimeout((function(){a.revokeObjectURL(s.href)}),4e4),setTimeout((function(){yb(s)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(cI(e))Tj(e,t,r);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout((function(){yb(a)}))}else navigator.msSaveOrOpenBlob((function(s,i){return i===void 0?i={autoBom:!1}:va(i)!=="object"&&(ei.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(e,r),t)}:function(e,t,r,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof e=="string")return Tj(e,t,r);var s=e.type==="application/octet-stream",i=/constructor/i.test(Oa.HTMLElement)||Oa.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&i)&&(typeof FileReader>"u"?"undefined":va(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=d:location=d,a=null},l.readAsDataURL(e)}else{var c=Oa.URL||Oa.webkitURL,u=c.createObjectURL(e);a?a.location=u:location.href=u,a=null,setTimeout((function(){c.revokeObjectURL(u)}),4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function SH(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],a=0;a<r.length;a++){var s=r[a].re,i=r[a].process,o=s.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Fj(e,t){var r=e[0],a=e[1],s=e[2],i=e[3];r=Uc(r,a,s,i,t[0],7,-680876936),i=Uc(i,r,a,s,t[1],12,-389564586),s=Uc(s,i,r,a,t[2],17,606105819),a=Uc(a,s,i,r,t[3],22,-1044525330),r=Uc(r,a,s,i,t[4],7,-176418897),i=Uc(i,r,a,s,t[5],12,1200080426),s=Uc(s,i,r,a,t[6],17,-1473231341),a=Uc(a,s,i,r,t[7],22,-45705983),r=Uc(r,a,s,i,t[8],7,1770035416),i=Uc(i,r,a,s,t[9],12,-1958414417),s=Uc(s,i,r,a,t[10],17,-42063),a=Uc(a,s,i,r,t[11],22,-1990404162),r=Uc(r,a,s,i,t[12],7,1804603682),i=Uc(i,r,a,s,t[13],12,-40341101),s=Uc(s,i,r,a,t[14],17,-1502002290),r=Rc(r,a=Uc(a,s,i,r,t[15],22,1236535329),s,i,t[1],5,-165796510),i=Rc(i,r,a,s,t[6],9,-1069501632),s=Rc(s,i,r,a,t[11],14,643717713),a=Rc(a,s,i,r,t[0],20,-373897302),r=Rc(r,a,s,i,t[5],5,-701558691),i=Rc(i,r,a,s,t[10],9,38016083),s=Rc(s,i,r,a,t[15],14,-660478335),a=Rc(a,s,i,r,t[4],20,-405537848),r=Rc(r,a,s,i,t[9],5,568446438),i=Rc(i,r,a,s,t[14],9,-1019803690),s=Rc(s,i,r,a,t[3],14,-187363961),a=Rc(a,s,i,r,t[8],20,1163531501),r=Rc(r,a,s,i,t[13],5,-1444681467),i=Rc(i,r,a,s,t[2],9,-51403784),s=Rc(s,i,r,a,t[7],14,1735328473),r=Qc(r,a=Rc(a,s,i,r,t[12],20,-1926607734),s,i,t[5],4,-378558),i=Qc(i,r,a,s,t[8],11,-2022574463),s=Qc(s,i,r,a,t[11],16,1839030562),a=Qc(a,s,i,r,t[14],23,-35309556),r=Qc(r,a,s,i,t[1],4,-1530992060),i=Qc(i,r,a,s,t[4],11,1272893353),s=Qc(s,i,r,a,t[7],16,-155497632),a=Qc(a,s,i,r,t[10],23,-1094730640),r=Qc(r,a,s,i,t[13],4,681279174),i=Qc(i,r,a,s,t[0],11,-358537222),s=Qc(s,i,r,a,t[3],16,-722521979),a=Qc(a,s,i,r,t[6],23,76029189),r=Qc(r,a,s,i,t[9],4,-640364487),i=Qc(i,r,a,s,t[12],11,-421815835),s=Qc(s,i,r,a,t[15],16,530742520),r=Hc(r,a=Qc(a,s,i,r,t[2],23,-995338651),s,i,t[0],6,-198630844),i=Hc(i,r,a,s,t[7],10,1126891415),s=Hc(s,i,r,a,t[14],15,-1416354905),a=Hc(a,s,i,r,t[5],21,-57434055),r=Hc(r,a,s,i,t[12],6,1700485571),i=Hc(i,r,a,s,t[3],10,-1894986606),s=Hc(s,i,r,a,t[10],15,-1051523),a=Hc(a,s,i,r,t[1],21,-2054922799),r=Hc(r,a,s,i,t[8],6,1873313359),i=Hc(i,r,a,s,t[15],10,-30611744),s=Hc(s,i,r,a,t[6],15,-1560198380),a=Hc(a,s,i,r,t[13],21,1309151649),r=Hc(r,a,s,i,t[4],6,-145523070),i=Hc(i,r,a,s,t[11],10,-1120210379),s=Hc(s,i,r,a,t[2],15,718787259),a=Hc(a,s,i,r,t[9],21,-343485551),e[0]=n0(r,e[0]),e[1]=n0(a,e[1]),e[2]=n0(s,e[2]),e[3]=n0(i,e[3])}function T5(e,t,r,a,s,i){return t=n0(n0(t,e),n0(a,i)),n0(t<<s|t>>>32-s,r)}function Uc(e,t,r,a,s,i,o){return T5(t&r|~t&a,e,t,s,i,o)}function Rc(e,t,r,a,s,i,o){return T5(t&a|r&~a,e,t,s,i,o)}function Qc(e,t,r,a,s,i,o){return T5(t^r^a,e,t,s,i,o)}function Hc(e,t,r,a,s,i,o){return T5(r^(t|~a),e,t,s,i,o)}function CH(e){var t,r=e.length,a=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Fj(a,xfe(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(Fj(a,s),t=0;t<16;t++)s[t]=0;return s[14]=8*r,Fj(a,s),a}function xfe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}Fy=Oa.atob.bind(Oa),n6=Oa.btoa.bind(Oa);var dI="0123456789abcdef".split("");function yfe(e){for(var t="",r=0;r<4;r++)t+=dI[e>>8*r+4&15]+dI[e>>8*r&15];return t}function vfe(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function s6(e){return CH(e).map(vfe).join("")}var bfe=(function(e){for(var t=0;t<e.length;t++)e[t]=yfe(e[t]);return e.join("")})(CH("hello"))!="5d41402abc4b2a76b9719d911017c592";function n0(e,t){if(bfe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function i6(e,t){var r,a,s,i;if(e!==r){for(var o=(s=e,i=1+(256/e.length>>0),new Array(i+1).join(s)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+o.charCodeAt(c))%256,l[c]=l[u],l[u]=d}r=e,a=l}else l=a;var A=t.length,m=0,h=0,y="";for(c=0;c<A;c++)h=(h+(d=l[m=(m+1)%256]))%256,l[m]=l[h],l[h]=d,o=l[(l[m]+l[h])%256],y+=String.fromCharCode(t.charCodeAt(c)^o);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var uI={print:4,modify:8,copy:16,"annot-forms":32};function Kg(e,t,r,a){this.v=1,this.r=2;var s=192;e.forEach((function(l){if(uI.perm!==void 0)throw new Error("Invalid permission: "+l);s+=uI[l]})),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^s)),this.encryptionKey=s6(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=i6(this.encryptionKey,this.padding)}function Gg(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,a=0;a<r;a++){var s=e.charCodeAt(a);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?t+="#"+("0"+s.toString(16)).slice(-2):t+=e[a]}return t}function fI(e){if(va(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,a,s){if(s=s||!1,typeof r!="string"||typeof a!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[a,!!s],i},this.unsubscribe=function(r){for(var a in t)if(t[a][r])return delete t[a][r],Object.keys(t[a]).length===0&&delete t[a],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var a=Array.prototype.slice.call(arguments,1),s=[];for(var i in t[r]){var o=t[r][i];try{o[0].apply(e,a)}catch(l){Oa.console&&ei.error("jsPDF PubSub Error",l.message,l)}o[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function a4(e){if(!(this instanceof a4))return new a4(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function EH(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function hp(e,t,r,a,s){if(!(this instanceof hp))return new hp(e,t,r,a,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,EH.call(this,a,s)}function Jg(e,t,r,a,s){if(!(this instanceof Jg))return new Jg(e,t,r,a,s);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,EH.call(this,a,s)}function Ca(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],s=arguments[2],i=arguments[3],o=[],l=1,c=16,u="S",d=null;va(e=e||{})==="object"&&(r=e.orientation,a=e.unit||a,s=e.format||s,i=e.compress||e.compressPdf||i,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),a=a||"mm",r=(""+(r||"P")).toLowerCase();var A=e.putOnlyUsedFonts||!1,m={},h={internal:{},__private__:{}};h.__private__.PubSub=fI;var y="1.3",x=h.__private__.getPdfVersion=function(){return y};h.__private__.setPdfVersion=function(te){y=te};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return v};var b=h.__private__.getPageFormat=function(te){return v[te]};s=s||"a4";var j={COMPAT:"compat",ADVANCED:"advanced"},C=j.COMPAT;function E(){this.saveGraphicsState(),ge(new jr(je,0,0,-je,0,Bn()*je).toString()+" cm"),this.setFontSize(this.getFontSize()/je),u="n",C=j.ADVANCED}function k(){this.restoreGraphicsState(),u="S",C=j.COMPAT}var D=h.__private__.combineFontStyleAndFontWeight=function(te,Re){if(te=="bold"&&Re=="normal"||te=="bold"&&Re==400||te=="normal"&&Re=="italic"||te=="bold"&&Re=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Re&&(te=Re==400||Re==="normal"?te==="italic"?"italic":"normal":Re!=700&&Re!=="bold"||te!=="normal"?(Re==700?"bold":Re)+""+te:"bold"),te};h.advancedAPI=function(te){var Re=C===j.COMPAT;return Re&&E.call(this),typeof te!="function"||(te(this),Re&&k.call(this)),this},h.compatAPI=function(te){var Re=C===j.ADVANCED;return Re&&k.call(this),typeof te!="function"||(te(this),Re&&E.call(this)),this},h.isAdvancedAPI=function(){return C===j.ADVANCED};var L,F=function(te){if(C!==j.ADVANCED)throw new Error(te+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Q=h.roundToPrecision=h.__private__.roundToPrecision=function(te,Re){var Nt=t||Re;if(isNaN(te)||isNaN(Nt))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return te.toFixed(Nt).replace(/0+$/,"")};L=h.hpf=h.__private__.hpf=typeof c=="number"?function(te){if(isNaN(te))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(te,c)}:c==="smart"?function(te){if(isNaN(te))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(te,te>-1&&te<1?16:5)}:function(te){if(isNaN(te))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(te,16)};var U=h.f2=h.__private__.f2=function(te){if(isNaN(te))throw new Error("Invalid argument passed to jsPDF.f2");return Q(te,2)},P=h.__private__.f3=function(te){if(isNaN(te))throw new Error("Invalid argument passed to jsPDF.f3");return Q(te,3)},I=h.scale=h.__private__.scale=function(te){if(isNaN(te))throw new Error("Invalid argument passed to jsPDF.scale");return C===j.COMPAT?te*je:C===j.ADVANCED?te:void 0},z=function(te){return C===j.COMPAT?Bn()-te:C===j.ADVANCED?te:void 0},W=function(te){return I(z(te))};h.__private__.setPrecision=h.setPrecision=function(te){typeof parseInt(te,10)=="number"&&(t=parseInt(te,10))};var ie,X="00000000000000000000000000000000",le=h.__private__.getFileId=function(){return X},re=h.__private__.setFileId=function(te){return X=te!==void 0&&/^[a-fA-F0-9]{32}$/.test(te)?te.toUpperCase():X.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),d!==null&&(ai=new Kg(d.userPermissions,d.userPassword,d.ownerPassword,X)),X};h.setFileId=function(te){return re(te),this},h.getFileId=function(){return le()};var he=h.__private__.convertDateToPDFDate=function(te){var Re=te.getTimezoneOffset(),Nt=Re<0?"+":"-",Bt=Math.floor(Math.abs(Re/60)),Rt=Math.abs(Re%60),Zt=[Nt,G(Bt),"'",G(Rt),"'"].join("");return["D:",te.getFullYear(),G(te.getMonth()+1),G(te.getDate()),G(te.getHours()),G(te.getMinutes()),G(te.getSeconds()),Zt].join("")},de=h.__private__.convertPDFDateToDate=function(te){var Re=parseInt(te.substr(2,4),10),Nt=parseInt(te.substr(6,2),10)-1,Bt=parseInt(te.substr(8,2),10),Rt=parseInt(te.substr(10,2),10),Zt=parseInt(te.substr(12,2),10),yr=parseInt(te.substr(14,2),10);return new Date(Re,Nt,Bt,Rt,Zt,yr,0)},ve=h.__private__.setCreationDate=function(te){var Re;if(te===void 0&&(te=new Date),te instanceof Date)Re=he(te);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(te))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Re=te}return ie=Re},B=h.__private__.getCreationDate=function(te){var Re=ie;return te==="jsDate"&&(Re=de(ie)),Re};h.setCreationDate=function(te){return ve(te),this},h.getCreationDate=function(te){return B(te)};var R,G=h.__private__.padd2=function(te){return("0"+parseInt(te)).slice(-2)},ne=h.__private__.padd2Hex=function(te){return("00"+(te=te.toString())).substr(te.length)},pe=0,xe=[],Ae=[],Y=0,se=[],ee=[],be=!1,Ce=Ae,ce=function(){pe=0,Y=0,Ae=[],xe=[],se=[],ot=Xt(),dt=Xt()};h.__private__.setCustomOutputDestination=function(te){be=!0,Ce=te};var J=function(te){be||(Ce=te)};h.__private__.resetCustomOutputDestination=function(){be=!1,Ce=Ae};var ge=h.__private__.out=function(te){return te=te.toString(),Y+=te.length+1,Ce.push(te),Ce},Je=h.__private__.write=function(te){return ge(arguments.length===1?te.toString():Array.prototype.join.call(arguments," "))},Ke=h.__private__.getArrayBuffer=function(te){for(var Re=te.length,Nt=new ArrayBuffer(Re),Bt=new Uint8Array(Nt);Re--;)Bt[Re]=te.charCodeAt(Re);return Nt},Fe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return Fe};var nt=e.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(te){return nt=C===j.ADVANCED?te/je:te,this};var Se,Me=h.__private__.getFontSize=h.getFontSize=function(){return C===j.COMPAT?nt:nt*je},at=e.R2L||!1;h.__private__.setR2L=h.setR2L=function(te){return at=te,this},h.__private__.getR2L=h.getR2L=function(){return at};var ke,Ve=h.__private__.setZoomMode=function(te){var Re=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(te))Se=te;else if(isNaN(te)){if(Re.indexOf(te)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+te+'" is not recognized.');Se=te}else Se=parseInt(te,10)};h.__private__.getZoomMode=function(){return Se};var ze,rt=h.__private__.setPageMode=function(te){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(te)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+te+'" is not recognized.');ke=te};h.__private__.getPageMode=function(){return ke};var Ge=h.__private__.setLayoutMode=function(te){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(te)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+te+'" is not recognized.');ze=te};h.__private__.getLayoutMode=function(){return ze},h.__private__.setDisplayMode=h.setDisplayMode=function(te,Re,Nt){return Ve(te),Ge(Re),rt(Nt),this};var bt={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(te){if(Object.keys(bt).indexOf(te)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return bt[te]},h.__private__.getDocumentProperties=function(){return bt},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(te){for(var Re in bt)bt.hasOwnProperty(Re)&&te[Re]&&(bt[Re]=te[Re]);return this},h.__private__.setDocumentProperty=function(te,Re){if(Object.keys(bt).indexOf(te)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return bt[te]=Re};var Le,je,Ze,Te,pt,At={},qe={},Pe=[],mt={},Qe={},st={},tt={},Ft=null,_t=0,Dt=[],Wt=new fI(h),cr=e.hotfixes||[],Dr={},Ea={},Fr=[],jr=function te(Re,Nt,Bt,Rt,Zt,yr){if(!(this instanceof te))return new te(Re,Nt,Bt,Rt,Zt,yr);isNaN(Re)&&(Re=1),isNaN(Nt)&&(Nt=0),isNaN(Bt)&&(Bt=0),isNaN(Rt)&&(Rt=1),isNaN(Zt)&&(Zt=0),isNaN(yr)&&(yr=0),this._matrix=[Re,Nt,Bt,Rt,Zt,yr]};Object.defineProperty(jr.prototype,"sx",{get:function(){return this._matrix[0]},set:function(te){this._matrix[0]=te}}),Object.defineProperty(jr.prototype,"shy",{get:function(){return this._matrix[1]},set:function(te){this._matrix[1]=te}}),Object.defineProperty(jr.prototype,"shx",{get:function(){return this._matrix[2]},set:function(te){this._matrix[2]=te}}),Object.defineProperty(jr.prototype,"sy",{get:function(){return this._matrix[3]},set:function(te){this._matrix[3]=te}}),Object.defineProperty(jr.prototype,"tx",{get:function(){return this._matrix[4]},set:function(te){this._matrix[4]=te}}),Object.defineProperty(jr.prototype,"ty",{get:function(){return this._matrix[5]},set:function(te){this._matrix[5]=te}}),Object.defineProperty(jr.prototype,"a",{get:function(){return this._matrix[0]},set:function(te){this._matrix[0]=te}}),Object.defineProperty(jr.prototype,"b",{get:function(){return this._matrix[1]},set:function(te){this._matrix[1]=te}}),Object.defineProperty(jr.prototype,"c",{get:function(){return this._matrix[2]},set:function(te){this._matrix[2]=te}}),Object.defineProperty(jr.prototype,"d",{get:function(){return this._matrix[3]},set:function(te){this._matrix[3]=te}}),Object.defineProperty(jr.prototype,"e",{get:function(){return this._matrix[4]},set:function(te){this._matrix[4]=te}}),Object.defineProperty(jr.prototype,"f",{get:function(){return this._matrix[5]},set:function(te){this._matrix[5]=te}}),Object.defineProperty(jr.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(jr.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(jr.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(jr.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),jr.prototype.join=function(te){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(L).join(te)},jr.prototype.multiply=function(te){var Re=te.sx*this.sx+te.shy*this.shx,Nt=te.sx*this.shy+te.shy*this.sy,Bt=te.shx*this.sx+te.sy*this.shx,Rt=te.shx*this.shy+te.sy*this.sy,Zt=te.tx*this.sx+te.ty*this.shx+this.tx,yr=te.tx*this.shy+te.ty*this.sy+this.ty;return new jr(Re,Nt,Bt,Rt,Zt,yr)},jr.prototype.decompose=function(){var te=this.sx,Re=this.shy,Nt=this.shx,Bt=this.sy,Rt=this.tx,Zt=this.ty,yr=Math.sqrt(te*te+Re*Re),Pr=(te/=yr)*Nt+(Re/=yr)*Bt;Nt-=te*Pr,Bt-=Re*Pr;var Vr=Math.sqrt(Nt*Nt+Bt*Bt);return Pr/=Vr,te*(Bt/=Vr)<Re*(Nt/=Vr)&&(te=-te,Re=-Re,Pr=-Pr,yr=-yr),{scale:new jr(yr,0,0,Vr,0,0),translate:new jr(1,0,0,1,Rt,Zt),rotate:new jr(te,Re,-Re,te,0,0),skew:new jr(1,0,Pr,1,0,0)}},jr.prototype.toString=function(te){return this.join(" ")},jr.prototype.inversed=function(){var te=this.sx,Re=this.shy,Nt=this.shx,Bt=this.sy,Rt=this.tx,Zt=this.ty,yr=1/(te*Bt-Re*Nt),Pr=Bt*yr,Vr=-Re*yr,da=-Nt*yr,ua=te*yr;return new jr(Pr,Vr,da,ua,-Pr*Rt-da*Zt,-Vr*Rt-ua*Zt)},jr.prototype.applyToPoint=function(te){var Re=te.x*this.sx+te.y*this.shx+this.tx,Nt=te.x*this.shy+te.y*this.sy+this.ty;return new Qt(Re,Nt)},jr.prototype.applyToRectangle=function(te){var Re=this.applyToPoint(te),Nt=this.applyToPoint(new Qt(te.x+te.w,te.y+te.h));return new lr(Re.x,Re.y,Nt.x-Re.x,Nt.y-Re.y)},jr.prototype.clone=function(){var te=this.sx,Re=this.shy,Nt=this.shx,Bt=this.sy,Rt=this.tx,Zt=this.ty;return new jr(te,Re,Nt,Bt,Rt,Zt)},h.Matrix=jr;var Sr=h.matrixMult=function(te,Re){return Re.multiply(te)},ca=new jr(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=ca;var oa=function(te,Re){if(!Qe[te]){var Nt=(Re instanceof hp?"Sh":"P")+(Object.keys(mt).length+1).toString(10);Re.id=Nt,Qe[te]=Nt,mt[Nt]=Re,Wt.publish("addPattern",Re)}};h.ShadingPattern=hp,h.TilingPattern=Jg,h.addShadingPattern=function(te,Re){return F("addShadingPattern()"),oa(te,Re),this},h.beginTilingPattern=function(te){F("beginTilingPattern()"),Hr(te.boundingBox[0],te.boundingBox[1],te.boundingBox[2]-te.boundingBox[0],te.boundingBox[3]-te.boundingBox[1],te.matrix)},h.endTilingPattern=function(te,Re){F("endTilingPattern()"),Re.stream=ee[R].join(`
`),oa(te,Re),Wt.publish("endTilingPattern",Re),Fr.pop().restore()};var wt=h.__private__.newObject=function(){var te=Xt();return Oe(te,!0),te},Xt=h.__private__.newObjectDeferred=function(){return pe++,xe[pe]=function(){return Y},pe},Oe=function(te,Re){return Re=typeof Re=="boolean"&&Re,xe[te]=Y,Re&&ge(te+" 0 obj"),te},ut=h.__private__.newAdditionalObject=function(){var te={objId:Xt(),content:""};return se.push(te),te},ot=Xt(),dt=Xt(),Ie=h.__private__.decodeColorString=function(te){var Re=te.split(" ");if(Re.length!==2||Re[1]!=="g"&&Re[1]!=="G")Re.length===5&&(Re[4]==="k"||Re[4]==="K")&&(Re=[(1-Re[0])*(1-Re[3]),(1-Re[1])*(1-Re[3]),(1-Re[2])*(1-Re[3]),"r"]);else{var Nt=parseFloat(Re[0]);Re=[Nt,Nt,Nt,"r"]}for(var Bt="#",Rt=0;Rt<3;Rt++)Bt+=("0"+Math.floor(255*parseFloat(Re[Rt])).toString(16)).slice(-2);return Bt},Ne=h.__private__.encodeColorString=function(te){var Re;typeof te=="string"&&(te={ch1:te});var Nt=te.ch1,Bt=te.ch2,Rt=te.ch3,Zt=te.ch4,yr=te.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Nt=="string"&&Nt.charAt(0)!=="#"){var Pr=new SH(Nt);if(Pr.ok)Nt=Pr.toHex();else if(!/^\d*\.?\d*$/.test(Nt))throw new Error('Invalid color "'+Nt+'" passed to jsPDF.encodeColorString.')}if(typeof Nt=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Nt)&&(Nt="#"+Nt[1]+Nt[1]+Nt[2]+Nt[2]+Nt[3]+Nt[3]),typeof Nt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Nt)){var Vr=parseInt(Nt.substr(1),16);Nt=Vr>>16&255,Bt=Vr>>8&255,Rt=255&Vr}if(Bt===void 0||Zt===void 0&&Nt===Bt&&Bt===Rt)if(typeof Nt=="string")Re=Nt+" "+yr[0];else switch(te.precision){case 2:Re=U(Nt/255)+" "+yr[0];break;case 3:default:Re=P(Nt/255)+" "+yr[0]}else if(Zt===void 0||va(Zt)==="object"){if(Zt&&!isNaN(Zt.a)&&Zt.a===0)return Re=["1.","1.","1.",yr[1]].join(" ");if(typeof Nt=="string")Re=[Nt,Bt,Rt,yr[1]].join(" ");else switch(te.precision){case 2:Re=[U(Nt/255),U(Bt/255),U(Rt/255),yr[1]].join(" ");break;default:case 3:Re=[P(Nt/255),P(Bt/255),P(Rt/255),yr[1]].join(" ")}}else if(typeof Nt=="string")Re=[Nt,Bt,Rt,Zt,yr[2]].join(" ");else switch(te.precision){case 2:Re=[U(Nt),U(Bt),U(Rt),U(Zt),yr[2]].join(" ");break;case 3:default:Re=[P(Nt),P(Bt),P(Rt),P(Zt),yr[2]].join(" ")}return Re},ct=h.__private__.getFilters=function(){return o},Ye=h.__private__.putStream=function(te){var Re=(te=te||{}).data||"",Nt=te.filters||ct(),Bt=te.alreadyAppliedFilters||[],Rt=te.addLength1||!1,Zt=Re.length,yr=te.objectId,Pr=function(Rn){return Rn};if(d!==null&&yr===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Pr=ai.encryptor(yr,0));var Vr={};Nt===!0&&(Nt=["FlateEncode"]);var da=te.additionalKeyValues||[],ua=(Vr=Ca.API.processDataByFilters!==void 0?Ca.API.processDataByFilters(Re,Nt):{data:Re,reverseChain:[]}).reverseChain+(Array.isArray(Bt)?Bt.join(" "):Bt.toString());if(Vr.data.length!==0&&(da.push({key:"Length",value:Vr.data.length}),Rt===!0&&da.push({key:"Length1",value:Zt})),ua.length!=0)if(ua.split("/").length-1==1)da.push({key:"Filter",value:ua});else{da.push({key:"Filter",value:"["+ua+"]"});for(var Ma=0;Ma<da.length;Ma+=1)if(da[Ma].key==="DecodeParms"){for(var An=[],Pa=0;Pa<Vr.reverseChain.split("/").length-1;Pa+=1)An.push("null");An.push(da[Ma].value),da[Ma].value="["+An.join(" ")+"]"}}ge("<<");for(var ia=0;ia<da.length;ia++)ge("/"+da[ia].key+" "+da[ia].value);ge(">>"),Vr.data.length!==0&&(ge("stream"),ge(Pr(Vr.data)),ge("endstream"))},Ee=h.__private__.putPage=function(te){var Re=te.number,Nt=te.data,Bt=te.objId,Rt=te.contentsObjId;Oe(Bt,!0),ge("<</Type /Page"),ge("/Parent "+te.rootDictionaryObjId+" 0 R"),ge("/Resources "+te.resourceDictionaryObjId+" 0 R"),ge("/MediaBox ["+parseFloat(L(te.mediaBox.bottomLeftX))+" "+parseFloat(L(te.mediaBox.bottomLeftY))+" "+L(te.mediaBox.topRightX)+" "+L(te.mediaBox.topRightY)+"]"),te.cropBox!==null&&ge("/CropBox ["+L(te.cropBox.bottomLeftX)+" "+L(te.cropBox.bottomLeftY)+" "+L(te.cropBox.topRightX)+" "+L(te.cropBox.topRightY)+"]"),te.bleedBox!==null&&ge("/BleedBox ["+L(te.bleedBox.bottomLeftX)+" "+L(te.bleedBox.bottomLeftY)+" "+L(te.bleedBox.topRightX)+" "+L(te.bleedBox.topRightY)+"]"),te.trimBox!==null&&ge("/TrimBox ["+L(te.trimBox.bottomLeftX)+" "+L(te.trimBox.bottomLeftY)+" "+L(te.trimBox.topRightX)+" "+L(te.trimBox.topRightY)+"]"),te.artBox!==null&&ge("/ArtBox ["+L(te.artBox.bottomLeftX)+" "+L(te.artBox.bottomLeftY)+" "+L(te.artBox.topRightX)+" "+L(te.artBox.topRightY)+"]"),typeof te.userUnit=="number"&&te.userUnit!==1&&ge("/UserUnit "+te.userUnit),Wt.publish("putPage",{objId:Bt,pageContext:Dt[Re],pageNumber:Re,page:Nt}),ge("/Contents "+Rt+" 0 R"),ge(">>"),ge("endobj");var Zt=Nt.join(`
`);return C===j.ADVANCED&&(Zt+=`
Q`),Oe(Rt,!0),Ye({data:Zt,filters:ct(),objectId:Rt}),ge("endobj"),Bt},it=h.__private__.putPages=function(){var te,Re,Nt=[];for(te=1;te<=_t;te++)Dt[te].objId=Xt(),Dt[te].contentsObjId=Xt();for(te=1;te<=_t;te++)Nt.push(Ee({number:te,data:ee[te],objId:Dt[te].objId,contentsObjId:Dt[te].contentsObjId,mediaBox:Dt[te].mediaBox,cropBox:Dt[te].cropBox,bleedBox:Dt[te].bleedBox,trimBox:Dt[te].trimBox,artBox:Dt[te].artBox,userUnit:Dt[te].userUnit,rootDictionaryObjId:ot,resourceDictionaryObjId:dt}));Oe(ot,!0),ge("<</Type /Pages");var Bt="/Kids [";for(Re=0;Re<_t;Re++)Bt+=Nt[Re]+" 0 R ";ge(Bt+"]"),ge("/Count "+_t),ge(">>"),ge("endobj"),Wt.publish("postPutPages")},vt=function(te){Wt.publish("putFont",{font:te,out:ge,newObject:wt,putStream:Ye}),te.isAlreadyPutted!==!0&&(te.objectNumber=wt(),ge("<<"),ge("/Type /Font"),ge("/BaseFont /"+Gg(te.postScriptName)),ge("/Subtype /Type1"),typeof te.encoding=="string"&&ge("/Encoding /"+te.encoding),ge("/FirstChar 32"),ge("/LastChar 255"),ge(">>"),ge("endobj"))},It=function(){for(var te in At)At.hasOwnProperty(te)&&(A===!1||A===!0&&m.hasOwnProperty(te))&&vt(At[te])},Mt=function(te){te.objectNumber=wt();var Re=[];Re.push({key:"Type",value:"/XObject"}),Re.push({key:"Subtype",value:"/Form"}),Re.push({key:"BBox",value:"["+[L(te.x),L(te.y),L(te.x+te.width),L(te.y+te.height)].join(" ")+"]"}),Re.push({key:"Matrix",value:"["+te.matrix.toString()+"]"});var Nt=te.pages[1].join(`
`);Ye({data:Nt,additionalKeyValues:Re,objectId:te.objectNumber}),ge("endobj")},fr=function(){for(var te in Dr)Dr.hasOwnProperty(te)&&Mt(Dr[te])},dr=function(te,Re){var Nt,Bt=[],Rt=1/(Re-1);for(Nt=0;Nt<1;Nt+=Rt)Bt.push(Nt);if(Bt.push(1),te[0].offset!=0){var Zt={offset:0,color:te[0].color};te.unshift(Zt)}if(te[te.length-1].offset!=1){var yr={offset:1,color:te[te.length-1].color};te.push(yr)}for(var Pr="",Vr=0,da=0;da<Bt.length;da++){for(Nt=Bt[da];Nt>te[Vr+1].offset;)Vr++;var ua=te[Vr].offset,Ma=(Nt-ua)/(te[Vr+1].offset-ua),An=te[Vr].color,Pa=te[Vr+1].color;Pr+=ne(Math.round((1-Ma)*An[0]+Ma*Pa[0]).toString(16))+ne(Math.round((1-Ma)*An[1]+Ma*Pa[1]).toString(16))+ne(Math.round((1-Ma)*An[2]+Ma*Pa[2]).toString(16))}return Pr.trim()},sr=function(te,Re){Re||(Re=21);var Nt=wt(),Bt=dr(te.colors,Re),Rt=[];Rt.push({key:"FunctionType",value:"0"}),Rt.push({key:"Domain",value:"[0.0 1.0]"}),Rt.push({key:"Size",value:"["+Re+"]"}),Rt.push({key:"BitsPerSample",value:"8"}),Rt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Rt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ye({data:Bt,additionalKeyValues:Rt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Nt}),ge("endobj"),te.objectNumber=wt(),ge("<< /ShadingType "+te.type),ge("/ColorSpace /DeviceRGB");var Zt="/Coords ["+L(parseFloat(te.coords[0]))+" "+L(parseFloat(te.coords[1]))+" ";te.type===2?Zt+=L(parseFloat(te.coords[2]))+" "+L(parseFloat(te.coords[3])):Zt+=L(parseFloat(te.coords[2]))+" "+L(parseFloat(te.coords[3]))+" "+L(parseFloat(te.coords[4]))+" "+L(parseFloat(te.coords[5])),ge(Zt+="]"),te.matrix&&ge("/Matrix ["+te.matrix.toString()+"]"),ge("/Function "+Nt+" 0 R"),ge("/Extend [true true]"),ge(">>"),ge("endobj")},Yr=function(te,Re){var Nt=Xt(),Bt=wt();Re.push({resourcesOid:Nt,objectOid:Bt}),te.objectNumber=Bt;var Rt=[];Rt.push({key:"Type",value:"/Pattern"}),Rt.push({key:"PatternType",value:"1"}),Rt.push({key:"PaintType",value:"1"}),Rt.push({key:"TilingType",value:"1"}),Rt.push({key:"BBox",value:"["+te.boundingBox.map(L).join(" ")+"]"}),Rt.push({key:"XStep",value:L(te.xStep)}),Rt.push({key:"YStep",value:L(te.yStep)}),Rt.push({key:"Resources",value:Nt+" 0 R"}),te.matrix&&Rt.push({key:"Matrix",value:"["+te.matrix.toString()+"]"}),Ye({data:te.stream,additionalKeyValues:Rt,objectId:te.objectNumber}),ge("endobj")},Na=function(te){var Re;for(Re in mt)mt.hasOwnProperty(Re)&&(mt[Re]instanceof hp?sr(mt[Re]):mt[Re]instanceof Jg&&Yr(mt[Re],te))},Sa=function(te){for(var Re in te.objectNumber=wt(),ge("<<"),te)switch(Re){case"opacity":ge("/ca "+U(te[Re]));break;case"stroke-opacity":ge("/CA "+U(te[Re]))}ge(">>"),ge("endobj")},za=function(){var te;for(te in st)st.hasOwnProperty(te)&&Sa(st[te])},Nn=function(){for(var te in ge("/XObject <<"),Dr)Dr.hasOwnProperty(te)&&Dr[te].objectNumber>=0&&ge("/"+te+" "+Dr[te].objectNumber+" 0 R");Wt.publish("putXobjectDict"),ge(">>")},ds=function(){ai.oid=wt(),ge("<<"),ge("/Filter /Standard"),ge("/V "+ai.v),ge("/R "+ai.r),ge("/U <"+ai.toHexString(ai.U)+">"),ge("/O <"+ai.toHexString(ai.O)+">"),ge("/P "+ai.P),ge(">>"),ge("endobj")},Bi=function(){for(var te in ge("/Font <<"),At)At.hasOwnProperty(te)&&(A===!1||A===!0&&m.hasOwnProperty(te))&&ge("/"+te+" "+At[te].objectNumber+" 0 R");ge(">>")},no=function(){if(Object.keys(mt).length>0){for(var te in ge("/Shading <<"),mt)mt.hasOwnProperty(te)&&mt[te]instanceof hp&&mt[te].objectNumber>=0&&ge("/"+te+" "+mt[te].objectNumber+" 0 R");Wt.publish("putShadingPatternDict"),ge(">>")}},Ti=function(te){if(Object.keys(mt).length>0){for(var Re in ge("/Pattern <<"),mt)mt.hasOwnProperty(Re)&&mt[Re]instanceof h.TilingPattern&&mt[Re].objectNumber>=0&&mt[Re].objectNumber<te&&ge("/"+Re+" "+mt[Re].objectNumber+" 0 R");Wt.publish("putTilingPatternDict"),ge(">>")}},Ls=function(){if(Object.keys(st).length>0){var te;for(te in ge("/ExtGState <<"),st)st.hasOwnProperty(te)&&st[te].objectNumber>=0&&ge("/"+te+" "+st[te].objectNumber+" 0 R");Wt.publish("putGStateDict"),ge(">>")}},us=function(te){Oe(te.resourcesOid,!0),ge("<<"),ge("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Bi(),no(),Ti(te.objectOid),Ls(),Nn(),ge(">>"),ge("endobj")},hn=function(){var te=[];It(),za(),fr(),Na(te),Wt.publish("putResources"),te.forEach(us),us({resourcesOid:dt,objectOid:Number.MAX_SAFE_INTEGER}),Wt.publish("postPutResources")},Ed=function(){Wt.publish("putAdditionalObjects");for(var te=0;te<se.length;te++){var Re=se[te];Oe(Re.objId,!0),ge(Re.content),ge("endobj")}Wt.publish("postPutAdditionalObjects")},vc=function(te){qe[te.fontName]=qe[te.fontName]||{},qe[te.fontName][te.fontStyle]=te.id},Ai=function(te,Re,Nt,Bt,Rt){var Zt={id:"F"+(Object.keys(At).length+1).toString(10),postScriptName:te,fontName:Re,fontStyle:Nt,encoding:Bt,isStandardFont:Rt||!1,metadata:{}};return Wt.publish("addFont",{font:Zt,instance:this}),At[Zt.id]=Zt,vc(Zt),Zt.id},Uo=function(te){for(var Re=0,Nt=Fe.length;Re<Nt;Re++){var Bt=Ai.call(this,te[Re][0],te[Re][1],te[Re][2],Fe[Re][3],!0);A===!1&&(m[Bt]=!0);var Rt=te[Re][0].split("-");vc({id:Bt,fontName:Rt[0],fontStyle:Rt[1]||""})}Wt.publish("addFonts",{fonts:At,dictionary:qe})},fs=function(te){return te.foo=function(){try{return te.apply(this,arguments)}catch(Bt){var Re=Bt.stack||"";~Re.indexOf(" at ")&&(Re=Re.split(" at ")[1]);var Nt="Error in function "+Re.split(`
`)[0].split("<")[0]+": "+Bt.message;if(!Oa.console)throw new Error(Nt);Oa.console.error(Nt,Bt),Oa.alert&&alert(Nt)}},te.foo.bar=te,te.foo},es=function(te,Re){var Nt,Bt,Rt,Zt,yr,Pr,Vr,da,ua;if(Rt=(Re=Re||{}).sourceEncoding||"Unicode",yr=Re.outputEncoding,(Re.autoencode||yr)&&At[Le].metadata&&At[Le].metadata[Rt]&&At[Le].metadata[Rt].encoding&&(Zt=At[Le].metadata[Rt].encoding,!yr&&At[Le].encoding&&(yr=At[Le].encoding),!yr&&Zt.codePages&&(yr=Zt.codePages[0]),typeof yr=="string"&&(yr=Zt[yr]),yr)){for(Vr=!1,Pr=[],Nt=0,Bt=te.length;Nt<Bt;Nt++)(da=yr[te.charCodeAt(Nt)])?Pr.push(String.fromCharCode(da)):Pr.push(te[Nt]),Pr[Nt].charCodeAt(0)>>8&&(Vr=!0);te=Pr.join("")}for(Nt=te.length;Vr===void 0&&Nt!==0;)te.charCodeAt(Nt-1)>>8&&(Vr=!0),Nt--;if(!Vr)return te;for(Pr=Re.noBOM?[]:[254,255],Nt=0,Bt=te.length;Nt<Bt;Nt++){if((ua=(da=te.charCodeAt(Nt))>>8)>>8)throw new Error("Character at position "+Nt+" of string '"+te+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Pr.push(ua),Pr.push(da-(ua<<8))}return String.fromCharCode.apply(void 0,Pr)},Ba=h.__private__.pdfEscape=h.pdfEscape=function(te,Re){return es(te,Re).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ql=h.__private__.beginPage=function(te){ee[++_t]=[],Dt[_t]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(te[0]),topRightY:Number(te[1])}},Kl(_t),J(ee[R])},ru=function(te,Re){var Nt,Bt,Rt;switch(r=Re||r,typeof te=="string"&&(Nt=b(te.toLowerCase()),Array.isArray(Nt)&&(Bt=Nt[0],Rt=Nt[1])),Array.isArray(te)&&(Bt=te[0]*je,Rt=te[1]*je),isNaN(Bt)&&(Bt=s[0],Rt=s[1]),(Bt>14400||Rt>14400)&&(ei.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Bt=Math.min(14400,Bt),Rt=Math.min(14400,Rt)),s=[Bt,Rt],r.substr(0,1)){case"l":Rt>Bt&&(s=[Rt,Bt]);break;case"p":Bt>Rt&&(s=[Rt,Bt])}ql(s),bc(ol),ge(Os),He!==0&&ge(He+" J"),jt!==0&&ge(jt+" j"),Wt.publish("addPage",{pageNumber:_t})},au=function(te){te>0&&te<=_t&&(ee.splice(te,1),Dt.splice(te,1),_t--,R>_t&&(R=_t),this.setPage(R))},Kl=function(te){te>0&&te<=_t&&(R=te)},sl=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return ee.length-1},Bd=function(te,Re,Nt){var Bt,Rt=void 0;return Nt=Nt||{},te=te!==void 0?te:At[Le].fontName,Re=Re!==void 0?Re:At[Le].fontStyle,Bt=te.toLowerCase(),qe[Bt]!==void 0&&qe[Bt][Re]!==void 0?Rt=qe[Bt][Re]:qe[te]!==void 0&&qe[te][Re]!==void 0?Rt=qe[te][Re]:Nt.disableWarning===!1&&ei.warn("Unable to look up font label for font '"+te+"', '"+Re+"'. Refer to getFontList() for available fonts."),Rt||Nt.noFallback||(Rt=qe.times[Re])==null&&(Rt=qe.times.normal),Rt},Gl=h.__private__.putInfo=function(){var te=wt(),Re=function(Bt){return Bt};for(var Nt in d!==null&&(Re=ai.encryptor(te,0)),ge("<<"),ge("/Producer ("+Ba(Re("jsPDF "+Ca.version))+")"),bt)bt.hasOwnProperty(Nt)&&bt[Nt]&&ge("/"+Nt.substr(0,1).toUpperCase()+Nt.substr(1)+" ("+Ba(Re(bt[Nt]))+")");ge("/CreationDate ("+Ba(Re(ie))+")"),ge(">>"),ge("endobj")},vo=h.__private__.putCatalog=function(te){var Re=(te=te||{}).rootDictionaryObjId||ot;switch(wt(),ge("<<"),ge("/Type /Catalog"),ge("/Pages "+Re+" 0 R"),Se||(Se="fullwidth"),Se){case"fullwidth":ge("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ge("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ge("/OpenAction [3 0 R /Fit]");break;case"original":ge("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Nt=""+Se;Nt.substr(Nt.length-1)==="%"&&(Se=parseInt(Se)/100),typeof Se=="number"&&ge("/OpenAction [3 0 R /XYZ null null "+U(Se)+"]")}switch(ze||(ze="continuous"),ze){case"continuous":ge("/PageLayout /OneColumn");break;case"single":ge("/PageLayout /SinglePage");break;case"two":case"twoleft":ge("/PageLayout /TwoColumnLeft");break;case"tworight":ge("/PageLayout /TwoColumnRight")}ke&&ge("/PageMode /"+ke),Wt.publish("putCatalog"),ge(">>"),ge("endobj")},Td=h.__private__.putTrailer=function(){ge("trailer"),ge("<<"),ge("/Size "+(pe+1)),ge("/Root "+pe+" 0 R"),ge("/Info "+(pe-1)+" 0 R"),d!==null&&ge("/Encrypt "+ai.oid+" 0 R"),ge("/ID [ <"+X+"> <"+X+"> ]"),ge(">>")},nu=h.__private__.putHeader=function(){ge("%PDF-"+y),ge("%")},su=h.__private__.putXRef=function(){var te="0000000000";ge("xref"),ge("0 "+(pe+1)),ge("0000000000 65535 f ");for(var Re=1;Re<=pe;Re++)typeof xe[Re]=="function"?ge((te+xe[Re]()).slice(-10)+" 00000 n "):xe[Re]!==void 0?ge((te+xe[Re]).slice(-10)+" 00000 n "):ge("0000000000 00000 n ")},Wl=h.__private__.buildDocument=function(){ce(),J(Ae),Wt.publish("buildDocument"),nu(),it(),Ed(),hn(),d!==null&&ds(),Gl(),vo();var te=Y;return su(),Td(),ge("startxref"),ge(""+te),ge("%%EOF"),J(ee[R]),Ae.join(`
`)},Yl=h.__private__.getBlob=function(te){return new Blob([Ke(te)],{type:"application/pdf"})},Vi=h.output=h.__private__.output=fs((function(te,Re){switch(typeof(Re=Re||{})=="string"?Re={filename:Re}:Re.filename=Re.filename||"generated.pdf",te){case void 0:return Wl();case"save":h.save(Re.filename);break;case"arraybuffer":return Ke(Wl());case"blob":return Yl(Wl());case"bloburi":case"bloburl":if(Oa.URL!==void 0&&typeof Oa.URL.createObjectURL=="function")return Oa.URL&&Oa.URL.createObjectURL(Yl(Wl()))||void 0;ei.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Nt="",Bt=Wl();try{Nt=n6(Bt)}catch{Nt=n6(unescape(encodeURIComponent(Bt)))}return"data:application/pdf;filename="+Re.filename+";base64,"+Nt;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Oa)==="[object Window]"){var Rt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Zt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Re.pdfObjectUrl&&(Rt=Re.pdfObjectUrl,Zt="");var yr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Rt+'"'+Zt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Re)+");<\/script></body></html>",Pr=Oa.open();return Pr!==null&&Pr.document.write(yr),Pr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Oa)==="[object Window]"){var Vr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Re.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Re.filename+'" width="500px" height="400px" /></body></html>',da=Oa.open();if(da!==null){da.document.write(Vr);var ua=this;da.document.documentElement.querySelector("#pdfViewer").onload=function(){da.document.title=Re.filename,da.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ua.output("bloburl"))}}return da}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Oa)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ma='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Re)+'"></iframe></body></html>',An=Oa.open();if(An!==null&&(An.document.write(Ma),An.document.title=Re.filename),An||typeof safari>"u")return An;break;case"datauri":case"dataurl":return Oa.document.location.href=this.output("datauristring",Re);default:return null}})),mi=function(te){return Array.isArray(cr)===!0&&cr.indexOf(te)>-1};switch(a){case"pt":je=1;break;case"mm":je=72/25.4;break;case"cm":je=72/2.54;break;case"in":je=72;break;case"px":je=mi("px_scaling")==1?.75:96/72;break;case"pc":case"em":je=12;break;case"ex":je=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);je=a}var ai=null;ve(),re();var Ro=function(te){return d!==null?ai.encryptor(te,0):function(Re){return Re}},il=h.__private__.getPageInfo=h.getPageInfo=function(te){if(isNaN(te)||te%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Dt[te].objId,pageNumber:te,pageContext:Dt[te]}},Nr=h.__private__.getPageInfoByObjId=function(te){if(isNaN(te)||te%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Re in Dt)if(Dt[Re].objId===te)break;return il(Re)},iu=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:Dt[R].objId,pageNumber:R,pageContext:Dt[R]}};h.addPage=function(){return ru.apply(this,arguments),this},h.setPage=function(){return Kl.apply(this,arguments),J.call(this,ee[R]),this},h.insertPage=function(te){return this.addPage(),this.movePage(R,te),this},h.movePage=function(te,Re){var Nt,Bt;if(te>Re){Nt=ee[te],Bt=Dt[te];for(var Rt=te;Rt>Re;Rt--)ee[Rt]=ee[Rt-1],Dt[Rt]=Dt[Rt-1];ee[Re]=Nt,Dt[Re]=Bt,this.setPage(Re)}else if(te<Re){Nt=ee[te],Bt=Dt[te];for(var Zt=te;Zt<Re;Zt++)ee[Zt]=ee[Zt+1],Dt[Zt]=Dt[Zt+1];ee[Re]=Nt,Dt[Re]=Bt,this.setPage(Re)}return this},h.deletePage=function(){return au.apply(this,arguments),this},h.__private__.text=h.text=function(te,Re,Nt,Bt,Rt){var Zt,yr,Pr,Vr,da,ua,Ma,An,Pa,ia=(Bt=Bt||{}).scope||this;if(typeof te=="number"&&typeof Re=="number"&&(typeof Nt=="string"||Array.isArray(Nt))){var Rn=Nt;Nt=Re,Re=te,te=Rn}if(arguments[3]instanceof jr?(F("The transform parameter of text() with a Matrix value"),Pa=Rt):(Pr=arguments[4],Vr=arguments[5],va(Ma=arguments[3])==="object"&&Ma!==null||(typeof Pr=="string"&&(Vr=Pr,Pr=null),typeof Ma=="string"&&(Vr=Ma,Ma=null),typeof Ma=="number"&&(Pr=Ma,Ma=null),Bt={flags:Ma,angle:Pr,align:Vr})),isNaN(Re)||isNaN(Nt)||te==null)throw new Error("Invalid arguments passed to jsPDF.text");if(te.length===0)return ia;var As="",co=!1,Va=typeof Bt.lineHeightFactor=="number"?Bt.lineHeightFactor:_i,Dn=ia.internal.scaleFactor;function wc(Ka){return Ka=Ka.split("	").join(Array(Bt.TabLen||9).join(" ")),Ba(Ka,Ma)}function xi(Ka){for(var Ga,Hn=Ka.concat(),ns=[],hl=Hn.length;hl--;)typeof(Ga=Hn.shift())=="string"?ns.push(Ga):Array.isArray(Ka)&&(Ga.length===1||Ga[1]===void 0&&Ga[2]===void 0)?ns.push(Ga[0]):ns.push([Ga[0],Ga[1],Ga[2]]);return ns}function qa(Ka,Ga){var Hn;if(typeof Ka=="string")Hn=Ga(Ka)[0];else if(Array.isArray(Ka)){for(var ns,hl,sd=Ka.concat(),tc=[],Sc=sd.length;Sc--;)typeof(ns=sd.shift())=="string"?tc.push(Ga(ns)[0]):Array.isArray(ns)&&typeof ns[0]=="string"&&(hl=Ga(ns[0],ns[1],ns[2]),tc.push([hl[0],hl[1],hl[2]]));Hn=tc}return Hn}var dl=!1,Mn=!0;if(typeof te=="string")dl=!0;else if(Array.isArray(te)){var jl=te.concat();yr=[];for(var Vs,kn=jl.length;kn--;)(typeof(Vs=jl.shift())!="string"||Array.isArray(Vs)&&typeof Vs[0]!="string")&&(Mn=!1);dl=Mn}if(dl===!1)throw new Error('Type of text must be string or Array. "'+te+'" is not recognized.');typeof te=="string"&&(te=te.match(/[\r?\n]/)?te.split(/\r\n|\r|\n/g):[te]);var Ta=nt/ia.internal.scaleFactor,ni=Ta*(Va-1);switch(Bt.baseline){case"bottom":Nt-=ni;break;case"top":Nt+=Ta-ni;break;case"hanging":Nt+=Ta-2*ni;break;case"middle":Nt+=Ta/2-ni}if((ua=Bt.maxWidth||0)>0&&(typeof te=="string"?te=ia.splitTextToSize(te,ua):Object.prototype.toString.call(te)==="[object Array]"&&(te=te.reduce((function(Ka,Ga){return Ka.concat(ia.splitTextToSize(Ga,ua))}),[]))),Zt={text:te,x:Re,y:Nt,options:Bt,mutex:{pdfEscape:Ba,activeFontKey:Le,fonts:At,activeFontSize:nt}},Wt.publish("preProcessText",Zt),te=Zt.text,Pr=(Bt=Zt.options).angle,!(Pa instanceof jr)&&Pr&&typeof Pr=="number"){Pr*=Math.PI/180,Bt.rotationDirection===0&&(Pr=-Pr),C===j.ADVANCED&&(Pr=-Pr);var wo=Math.cos(Pr),No=Math.sin(Pr);Pa=new jr(wo,No,-No,wo,0,0)}else Pr&&Pr instanceof jr&&(Pa=Pr);C!==j.ADVANCED||Pa||(Pa=ca),(da=Bt.charSpace||lo)!==void 0&&(As+=L(I(da))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(An=Bt.horizontalScale)!==void 0&&(As+=L(100*An)+` Tz
`),Bt.lang;var Ds=-1,Nc=Bt.renderingMode!==void 0?Bt.renderingMode:Bt.stroke,Zl=ia.internal.getCurrentPageInfo().pageContext;switch(Nc){case 0:case!1:case"fill":Ds=0;break;case 1:case!0:case"stroke":Ds=1;break;case 2:case"fillThenStroke":Ds=2;break;case 3:case"invisible":Ds=3;break;case 4:case"fillAndAddForClipping":Ds=4;break;case 5:case"strokeAndAddPathForClipping":Ds=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ds=6;break;case 7:case"addToPathForClipping":Ds=7}var rs=Zl.usedRenderingMode!==void 0?Zl.usedRenderingMode:-1;Ds!==-1?As+=Ds+` Tr
`:rs!==-1&&(As+=`0 Tr
`),Ds!==-1&&(Zl.usedRenderingMode=Ds),Vr=Bt.align||"left";var Vn,mn=nt*Va,ms=ia.internal.pageSize.getWidth(),qn=At[Le];da=Bt.charSpace||lo,ua=Bt.maxWidth||0,Ma=Object.assign({autoencode:!0,noBOM:!0},Bt.flags);var si=[],ul=function(Ka){return ia.getStringUnitWidth(Ka,{font:qn,charSpace:da,fontSize:nt,doKerning:!1})*nt/Dn};if(Object.prototype.toString.call(te)==="[object Array]"){var ii;yr=xi(te),Vr!=="left"&&(Vn=yr.map(ul));var Kn,uo=0;if(Vr==="right"){Re-=Vn[0],te=[],kn=yr.length;for(var qs=0;qs<kn;qs++)qs===0?(Kn=gi(Re),ii=ll(Nt)):(Kn=I(uo-Vn[qs]),ii=-mn),te.push([yr[qs],Kn,ii]),uo=Vn[qs]}else if(Vr==="center"){Re-=Vn[0]/2,te=[],kn=yr.length;for(var Ks=0;Ks<kn;Ks++)Ks===0?(Kn=gi(Re),ii=ll(Nt)):(Kn=I((uo-Vn[Ks])/2),ii=-mn),te.push([yr[Ks],Kn,ii]),uo=Vn[Ks]}else if(Vr==="left"){te=[],kn=yr.length;for(var as=0;as<kn;as++)te.push(yr[as])}else if(Vr==="justify"&&qn.encoding==="Identity-H"){te=[],kn=yr.length,ua=ua!==0?ua:ms;for(var Ki=0,yn=0;yn<kn;yn++)if(ii=yn===0?ll(Nt):-mn,Kn=yn===0?gi(Re):Ki,yn<kn-1){var Ns=I((ua-Vn[yn])/(yr[yn].split(" ").length-1)),pa=yr[yn].split(" ");te.push([pa[0]+" ",Kn,ii]),Ki=0;for(var $a=1;$a<pa.length;$a++){var Qn=(ul(pa[$a-1]+" "+pa[$a])-ul(pa[$a]))*Dn+Ns;$a==pa.length-1?te.push([pa[$a],Qn,0]):te.push([pa[$a]+" ",Qn,0]),Ki-=Qn}}else te.push([yr[yn],Kn,ii]);te.push(["",Ki,0])}else{if(Vr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(te=[],kn=yr.length,ua=ua!==0?ua:ms,yn=0;yn<kn;yn++)ii=yn===0?ll(Nt):-mn,Kn=yn===0?gi(Re):0,yn<kn-1?si.push(L(I((ua-Vn[yn])/(yr[yn].split(" ").length-1)))):si.push(0),te.push([yr[yn],Kn,ii])}}var Ja=typeof Bt.R2L=="boolean"?Bt.R2L:at;Ja===!0&&(te=qa(te,(function(Ka,Ga,Hn){return[Ka.split("").reverse().join(""),Ga,Hn]}))),Zt={text:te,x:Re,y:Nt,options:Bt,mutex:{pdfEscape:Ba,activeFontKey:Le,fonts:At,activeFontSize:nt}},Wt.publish("postProcessText",Zt),te=Zt.text,co=Zt.mutex.isHex||!1;var jo=At[Le].encoding;jo!=="WinAnsiEncoding"&&jo!=="StandardEncoding"||(te=qa(te,(function(Ka,Ga,Hn){return[wc(Ka),Ga,Hn]}))),yr=xi(te),te=[];for(var Sl,fl,Vo,_d=0,kd=1,jc=Array.isArray(yr[0])?kd:_d,ec="",nd=function(Ka,Ga,Hn){var ns="";return Hn instanceof jr?(Hn=typeof Bt.angle=="number"?Sr(Hn,new jr(1,0,0,1,Ka,Ga)):Sr(new jr(1,0,0,1,Ka,Ga),Hn),C===j.ADVANCED&&(Hn=Sr(new jr(1,0,0,-1,0,0),Hn)),ns=Hn.join(" ")+` Tm
`):ns=L(Ka)+" "+L(Ga)+` Td
`,ns},ps=0;ps<yr.length;ps++){switch(ec="",jc){case kd:Vo=(co?"<":"(")+yr[ps][0]+(co?">":")"),Sl=parseFloat(yr[ps][1]),fl=parseFloat(yr[ps][2]);break;case _d:Vo=(co?"<":"(")+yr[ps]+(co?">":")"),Sl=gi(Re),fl=ll(Nt)}si!==void 0&&si[ps]!==void 0&&(ec=si[ps]+` Tw
`),ps===0?te.push(ec+nd(Sl,fl,Pa)+Vo):jc===_d?te.push(ec+Vo):jc===kd&&te.push(ec+nd(Sl,fl,Pa)+Vo)}te=jc===_d?te.join(` Tj
T* `):te.join(` Tj
`),te+=` Tj
`;var ki=`BT
/`;return ki+=Le+" "+nt+` Tf
`,ki+=L(nt*Va)+` TL
`,ki+=Jl+`
`,ki+=As,ki+=te,ge(ki+="ET"),m[Le]=!0,ia};var Du=h.__private__.clip=h.clip=function(te){return ge(te==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return Du("evenodd")},h.__private__.discardPath=h.discardPath=function(){return ge("n"),this};var so=h.__private__.isValidStyle=function(te){var Re=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(te)!==-1&&(Re=!0),Re};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(te){return so(te)&&(u=te),this};var Qo=h.__private__.getStyle=h.getStyle=function(te){var Re=u;switch(te){case"D":case"S":Re="S";break;case"F":Re="f";break;case"FD":case"DF":Re="B";break;case"f":case"f*":case"B":case"B*":Re=te}return Re},Ho=h.close=function(){return ge("h"),this};h.stroke=function(){return ge("S"),this},h.fill=function(te){return Fi("f",te),this},h.fillEvenOdd=function(te){return Fi("f*",te),this},h.fillStroke=function(te){return Fi("B",te),this},h.fillStrokeEvenOdd=function(te){return Fi("B*",te),this};var Fi=function(te,Re){va(Re)==="object"?Nl(Re,te):ge(te)},ws=function(te){te===null||C===j.ADVANCED&&te===void 0||(te=Qo(te),ge(te))};function Fd(te,Re,Nt,Bt,Rt){var Zt=new Jg(Re||this.boundingBox,Nt||this.xStep,Bt||this.yStep,this.gState,Rt||this.matrix);Zt.stream=this.stream;var yr=te+"$$"+this.cloneIndex+++"$$";return oa(yr,Zt),Zt}var Nl=function(te,Re){var Nt=Qe[te.key],Bt=mt[Nt];if(Bt instanceof hp)ge("q"),ge(rd(Re)),Bt.gState&&h.setGState(Bt.gState),ge(te.matrix.toString()+" cm"),ge("/"+Nt+" sh"),ge("Q");else if(Bt instanceof Jg){var Rt=new jr(1,0,0,-1,0,Bn());te.matrix&&(Rt=Rt.multiply(te.matrix||ca),Nt=Fd.call(Bt,te.key,te.boundingBox,te.xStep,te.yStep,Rt).id),ge("q"),ge("/Pattern cs"),ge("/"+Nt+" scn"),Bt.gState&&h.setGState(Bt.gState),ge(Re),ge("Q")}},rd=function(te){switch(te){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},$o=h.moveTo=function(te,Re){return ge(L(I(te))+" "+L(W(Re))+" m"),this},bo=h.lineTo=function(te,Re){return ge(L(I(te))+" "+L(W(Re))+" l"),this},zo=h.curveTo=function(te,Re,Nt,Bt,Rt,Zt){return ge([L(I(te)),L(W(Re)),L(I(Nt)),L(W(Bt)),L(I(Rt)),L(W(Zt)),"c"].join(" ")),this};h.__private__.line=h.line=function(te,Re,Nt,Bt,Rt){if(isNaN(te)||isNaN(Re)||isNaN(Nt)||isNaN(Bt)||!so(Rt))throw new Error("Invalid arguments passed to jsPDF.line");return C===j.COMPAT?this.lines([[Nt-te,Bt-Re]],te,Re,[1,1],Rt||"S"):this.lines([[Nt-te,Bt-Re]],te,Re,[1,1]).stroke()},h.__private__.lines=h.lines=function(te,Re,Nt,Bt,Rt,Zt){var yr,Pr,Vr,da,ua,Ma,An,Pa,ia,Rn,As,co;if(typeof te=="number"&&(co=Nt,Nt=Re,Re=te,te=co),Bt=Bt||[1,1],Zt=Zt||!1,isNaN(Re)||isNaN(Nt)||!Array.isArray(te)||!Array.isArray(Bt)||!so(Rt)||typeof Zt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for($o(Re,Nt),yr=Bt[0],Pr=Bt[1],da=te.length,Rn=Re,As=Nt,Vr=0;Vr<da;Vr++)(ua=te[Vr]).length===2?(Rn=ua[0]*yr+Rn,As=ua[1]*Pr+As,bo(Rn,As)):(Ma=ua[0]*yr+Rn,An=ua[1]*Pr+As,Pa=ua[2]*yr+Rn,ia=ua[3]*Pr+As,Rn=ua[4]*yr+Rn,As=ua[5]*Pr+As,zo(Ma,An,Pa,ia,Rn,As));return Zt&&Ho(),ws(Rt),this},h.path=function(te){for(var Re=0;Re<te.length;Re++){var Nt=te[Re],Bt=Nt.c;switch(Nt.op){case"m":$o(Bt[0],Bt[1]);break;case"l":bo(Bt[0],Bt[1]);break;case"c":zo.apply(this,Bt);break;case"h":Ho()}}return this},h.__private__.rect=h.rect=function(te,Re,Nt,Bt,Rt){if(isNaN(te)||isNaN(Re)||isNaN(Nt)||isNaN(Bt)||!so(Rt))throw new Error("Invalid arguments passed to jsPDF.rect");return C===j.COMPAT&&(Bt=-Bt),ge([L(I(te)),L(W(Re)),L(I(Nt)),L(I(Bt)),"re"].join(" ")),ws(Rt),this},h.__private__.triangle=h.triangle=function(te,Re,Nt,Bt,Rt,Zt,yr){if(isNaN(te)||isNaN(Re)||isNaN(Nt)||isNaN(Bt)||isNaN(Rt)||isNaN(Zt)||!so(yr))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Nt-te,Bt-Re],[Rt-Nt,Zt-Bt],[te-Rt,Re-Zt]],te,Re,[1,1],yr,!0),this},h.__private__.roundedRect=h.roundedRect=function(te,Re,Nt,Bt,Rt,Zt,yr){if(isNaN(te)||isNaN(Re)||isNaN(Nt)||isNaN(Bt)||isNaN(Rt)||isNaN(Zt)||!so(yr))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Pr=4/3*(Math.SQRT2-1);return Rt=Math.min(Rt,.5*Nt),Zt=Math.min(Zt,.5*Bt),this.lines([[Nt-2*Rt,0],[Rt*Pr,0,Rt,Zt-Zt*Pr,Rt,Zt],[0,Bt-2*Zt],[0,Zt*Pr,-Rt*Pr,Zt,-Rt,Zt],[2*Rt-Nt,0],[-Rt*Pr,0,-Rt,-Zt*Pr,-Rt,-Zt],[0,2*Zt-Bt],[0,-Zt*Pr,Rt*Pr,-Zt,Rt,-Zt]],te+Rt,Re,[1,1],yr,!0),this},h.__private__.ellipse=h.ellipse=function(te,Re,Nt,Bt,Rt){if(isNaN(te)||isNaN(Re)||isNaN(Nt)||isNaN(Bt)||!so(Rt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Zt=4/3*(Math.SQRT2-1)*Nt,yr=4/3*(Math.SQRT2-1)*Bt;return $o(te+Nt,Re),zo(te+Nt,Re-yr,te+Zt,Re-Bt,te,Re-Bt),zo(te-Zt,Re-Bt,te-Nt,Re-yr,te-Nt,Re),zo(te-Nt,Re+yr,te-Zt,Re+Bt,te,Re+Bt),zo(te+Zt,Re+Bt,te+Nt,Re+yr,te+Nt,Re),ws(Rt),this},h.__private__.circle=h.circle=function(te,Re,Nt,Bt){if(isNaN(te)||isNaN(Re)||isNaN(Nt)||!so(Bt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(te,Re,Nt,Nt,Bt)},h.setFont=function(te,Re,Nt){return Nt&&(Re=D(Re,Nt)),Le=Bd(te,Re,{disableWarning:!1}),this};var pi=h.__private__.getFont=h.getFont=function(){return At[Bd.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var te,Re,Nt={};for(te in qe)if(qe.hasOwnProperty(te))for(Re in Nt[te]=[],qe[te])qe[te].hasOwnProperty(Re)&&Nt[te].push(Re);return Nt},h.addFont=function(te,Re,Nt,Bt,Rt){var Zt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Zt.indexOf(arguments[3])!==-1?Rt=arguments[3]:arguments[3]&&Zt.indexOf(arguments[3])==-1&&(Nt=D(Nt,Bt)),Rt=Rt||"Identity-H",Ai.call(this,te,Re,Nt,Rt)};var _i,ol=e.lineWidth||.200025,io=h.__private__.getLineWidth=h.getLineWidth=function(){return ol},bc=h.__private__.setLineWidth=h.setLineWidth=function(te){return ol=te,ge(L(I(te))+" w"),this};h.__private__.setLineDash=Ca.API.setLineDash=Ca.API.setLineDashPattern=function(te,Re){if(te=te||[],Re=Re||0,isNaN(Re)||!Array.isArray(te))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return te=te.map((function(Nt){return L(I(Nt))})).join(" "),Re=L(I(Re)),ge("["+te+"] "+Re+" d"),this};var ts=h.__private__.getLineHeight=h.getLineHeight=function(){return nt*_i};h.__private__.getLineHeight=h.getLineHeight=function(){return nt*_i};var Xl=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(te){return typeof(te=te||1.15)=="number"&&(_i=te),this},qi=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return _i};Xl(e.lineHeight);var gi=h.__private__.getHorizontalCoordinate=function(te){return I(te)},ll=h.__private__.getVerticalCoordinate=function(te){return C===j.ADVANCED?te:Dt[R].mediaBox.topRightY-Dt[R].mediaBox.bottomLeftY-I(te)},Mu=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(te){return L(gi(te))},oo=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(te){return L(ll(te))},Os=e.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return Ie(Os)},h.__private__.setStrokeColor=h.setDrawColor=function(te,Re,Nt,Bt){return Os=Ne({ch1:te,ch2:Re,ch3:Nt,ch4:Bt,pdfColorType:"draw",precision:2}),ge(Os),this};var cl=e.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return Ie(cl)},h.__private__.setFillColor=h.setFillColor=function(te,Re,Nt,Bt){return cl=Ne({ch1:te,ch2:Re,ch3:Nt,ch4:Bt,pdfColorType:"fill",precision:2}),ge(cl),this};var Jl=e.textColor||"0 g",ad=h.__private__.getTextColor=h.getTextColor=function(){return Ie(Jl)};h.__private__.setTextColor=h.setTextColor=function(te,Re,Nt,Bt){return Jl=Ne({ch1:te,ch2:Re,ch3:Nt,ch4:Bt,pdfColorType:"text",precision:3}),this};var lo=e.charSpace,ue=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(lo||0)};h.__private__.setCharSpace=h.setCharSpace=function(te){if(isNaN(te))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return lo=te,this};var He=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(te){var Re=h.CapJoinStyles[te];if(Re===void 0)throw new Error("Line cap style of '"+te+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return He=Re,ge(Re+" J"),this};var jt=0;h.__private__.setLineJoin=h.setLineJoin=function(te){var Re=h.CapJoinStyles[te];if(Re===void 0)throw new Error("Line join style of '"+te+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return jt=Re,ge(Re+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(te){if(te=te||0,isNaN(te))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ge(L(I(te))+" M"),this},h.GState=a4,h.setGState=function(te){(te=typeof te=="string"?st[tt[te]]:kt(null,te)).equals(Ft)||(ge("/"+te.id+" gs"),Ft=te)};var kt=function(te,Re){if(!te||!tt[te]){var Nt=!1;for(var Bt in st)if(st.hasOwnProperty(Bt)&&st[Bt].equals(Re)){Nt=!0;break}if(Nt)Re=st[Bt];else{var Rt="GS"+(Object.keys(st).length+1).toString(10);st[Rt]=Re,Re.id=Rt}return te&&(tt[te]=Re.id),Wt.publish("addGState",Re),Re}};h.addGState=function(te,Re){return kt(te,Re),this},h.saveGraphicsState=function(){return ge("q"),Pe.push({key:Le,size:nt,color:Jl}),this},h.restoreGraphicsState=function(){ge("Q");var te=Pe.pop();return Le=te.key,nt=te.size,Jl=te.color,Ft=null,this},h.setCurrentTransformationMatrix=function(te){return ge(te.toString()+" cm"),this},h.comment=function(te){return ge("#"+te),this};var Qt=function(te,Re){var Nt=te||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Nt},set:function(Zt){isNaN(Zt)||(Nt=parseFloat(Zt))}});var Bt=Re||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Bt},set:function(Zt){isNaN(Zt)||(Bt=parseFloat(Zt))}});var Rt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Rt},set:function(Zt){Rt=Zt.toString()}}),this},lr=function(te,Re,Nt,Bt){Qt.call(this,te,Re),this.type="rect";var Rt=Nt||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Rt},set:function(yr){isNaN(yr)||(Rt=parseFloat(yr))}});var Zt=Bt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Zt},set:function(yr){isNaN(yr)||(Zt=parseFloat(yr))}}),this},mr=function(){this.page=_t,this.currentPage=R,this.pages=ee.slice(0),this.pagesContext=Dt.slice(0),this.x=Ze,this.y=Te,this.matrix=pt,this.width=ma(R),this.height=Bn(R),this.outputDestination=Ce,this.id="",this.objectNumber=-1};mr.prototype.restore=function(){_t=this.page,R=this.currentPage,Dt=this.pagesContext,ee=this.pages,Ze=this.x,Te=this.y,pt=this.matrix,nn(R,this.width),hs(R,this.height),Ce=this.outputDestination};var Hr=function(te,Re,Nt,Bt,Rt){Fr.push(new mr),_t=R=0,ee=[],Ze=te,Te=Re,pt=Rt,ql([Nt,Bt])},Kr=function(te){if(Ea[te])Fr.pop().restore();else{var Re=new mr,Nt="Xo"+(Object.keys(Dr).length+1).toString(10);Re.id=Nt,Ea[te]=Nt,Dr[Nt]=Re,Wt.publish("addFormObject",Re),Fr.pop().restore()}};for(var fa in h.beginFormObject=function(te,Re,Nt,Bt,Rt){return Hr(te,Re,Nt,Bt,Rt),this},h.endFormObject=function(te){return Kr(te),this},h.doFormObject=function(te,Re){var Nt=Dr[Ea[te]];return ge("q"),ge(Re.toString()+" cm"),ge("/"+Nt.id+" Do"),ge("Q"),this},h.getFormObject=function(te){var Re=Dr[Ea[te]];return{x:Re.x,y:Re.y,width:Re.width,height:Re.height,matrix:Re.matrix}},h.save=function(te,Re){return te=te||"generated.pdf",(Re=Re||{}).returnPromise=Re.returnPromise||!1,Re.returnPromise===!1?(ip(Yl(Wl()),te),typeof ip.unload=="function"&&Oa.setTimeout&&setTimeout(ip.unload,911),this):new Promise((function(Nt,Bt){try{var Rt=ip(Yl(Wl()),te);typeof ip.unload=="function"&&Oa.setTimeout&&setTimeout(ip.unload,911),Nt(Rt)}catch(Zt){Bt(Zt.message)}}))},Ca.API)Ca.API.hasOwnProperty(fa)&&(fa==="events"&&Ca.API.events.length?(function(te,Re){var Nt,Bt,Rt;for(Rt=Re.length-1;Rt!==-1;Rt--)Nt=Re[Rt][0],Bt=Re[Rt][1],te.subscribe.apply(te,[Nt].concat(typeof Bt=="function"?[Bt]:Bt))})(Wt,Ca.API.events):h[fa]=Ca.API[fa]);var ma=h.getPageWidth=function(te){return(Dt[te=te||R].mediaBox.topRightX-Dt[te].mediaBox.bottomLeftX)/je},nn=h.setPageWidth=function(te,Re){Dt[te].mediaBox.topRightX=Re*je+Dt[te].mediaBox.bottomLeftX},Bn=h.getPageHeight=function(te){return(Dt[te=te||R].mediaBox.topRightY-Dt[te].mediaBox.bottomLeftY)/je},hs=h.setPageHeight=function(te,Re){Dt[te].mediaBox.topRightY=Re*je+Dt[te].mediaBox.bottomLeftY};return h.internal={pdfEscape:Ba,getStyle:Qo,getFont:pi,getFontSize:Me,getCharSpace:ue,getTextColor:ad,getLineHeight:ts,getLineHeightFactor:qi,getLineWidth:io,write:Je,getHorizontalCoordinate:gi,getVerticalCoordinate:ll,getCoordinateString:Mu,getVerticalCoordinateString:oo,collections:{},newObject:wt,newAdditionalObject:ut,newObjectDeferred:Xt,newObjectDeferredBegin:Oe,getFilters:ct,putStream:Ye,events:Wt,scaleFactor:je,pageSize:{getWidth:function(){return ma(R)},setWidth:function(te){nn(R,te)},getHeight:function(){return Bn(R)},setHeight:function(te){hs(R,te)}},encryptionOptions:d,encryption:ai,getEncryptor:Ro,output:Vi,getNumberOfPages:sl,pages:ee,out:ge,f2:U,f3:P,getPageInfo:il,getPageInfoByObjId:Nr,getCurrentPageInfo:iu,getPDFVersion:x,Point:Qt,Rectangle:lr,Matrix:jr,hasHotfix:mi},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return ma(R)},set:function(te){nn(R,te)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return Bn(R)},set:function(te){hs(R,te)},enumerable:!0,configurable:!0}),Uo.call(h,Fe),Le="F1",ru(s,r),Wt.publish("initialized"),h}Kg.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Kg.prototype.toHexString=function(e){return e.split("").map((function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)})).join("")},Kg.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Kg.prototype.processOwnerPassword=function(e,t){return i6(s6(t).substr(0,5),e)},Kg.prototype.encryptor=function(e,t){var r=s6(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(a){return i6(r,a)}},a4.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||va(e)!==va(this))return!1;var a=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;a++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&a--;return a===0},Ca.API={events:[]},Ca.version="2.5.2";var mo=Ca.API,LB=1,ng=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Pg=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},en=function(e){return e.toFixed(2)},zm=function(e){return e.toFixed(5)};mo.__acroform__={};var Jd=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},hI=function(e){return e*LB},Dh=function(e){var t=new TH,r=ra.internal.getHeight(e)||0,a=ra.internal.getWidth(e)||0;return t.BBox=[0,0,Number(en(a)),Number(en(r))],t},wfe=mo.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},Nfe=mo.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},jfe=mo.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(e&1<<t)==0?0:1},To=mo.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return jfe(e,t-1)},Fo=mo.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return wfe(e,t-1)},_o=mo.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Nfe(e,t-1)},Sfe=mo.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,a=t.internal.getVerticalCoordinate,s=e[0],i=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=r(s)||0,c.lowerLeft_Y=a(i+l)||0,c.upperRight_X=r(s+o)||0,c.upperRight_Y=a(i)||0,[Number(en(c.lowerLeft_X)),Number(en(c.lowerLeft_Y)),Number(en(c.upperRight_X)),Number(en(c.upperRight_Y))]},Cfe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,a=o6(e,r),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+en(a.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Dh(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},o6=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,a={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map((function(P){return P.split(`
`)})):s.map((function(P){return[P]}));var i=r,o=ra.internal.getHeight(e)||0;o=o<0?-o:o;var l=ra.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(P,I,z){if(P+1<s.length){var W=I+" "+s[P+1][0];return vb(W,e,z).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var u,d,A=vb("3",e,i).height,m=e.multiline?o-i:(o-A)/2,h=m+=2,y=0,x=0,v=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+vb(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var b="",j=0,C=0;C<s.length;C++)if(s.hasOwnProperty(C)){var E=!1;if(s[C].length!==1&&v!==s[C].length-1){if((A+2)*(j+2)+2>o)continue e;b+=s[C][v],E=!0,x=C,C--}else{b=(b+=s[C][v]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var k=parseInt(C),D=c(k,b,i),L=C>=s.length-1;if(D&&!L){b+=" ",v=0;continue}if(D||L){if(L)x=k;else if(e.multiline&&(A+2)*(j+2)+2>o)continue e}else{if(!e.multiline||(A+2)*(j+2)+2>o)continue e;x=k}}for(var F="",Q=y;Q<=x;Q++){var U=s[Q];if(e.multiline){if(Q===x){F+=U[v]+" ",v=(v+1)%U.length;continue}if(Q===y){F+=U[U.length-1]+" ";continue}}F+=U[0]+" "}switch(F=F.substr(F.length-1)==" "?F.substr(0,F.length-1):F,d=vb(F,e,i).width,e.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;case"left":default:u=2}t+=en(u)+" "+en(h)+` Td
`,t+="("+ng(F)+`) Tj
`,t+=-en(u)+` 0 Td
`,h=-(i+2),d=0,y=E?x:x+1,j++,b=""}break}return a.text=t,a.fontSize=i,a},vb=function(e,t,r){var a=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:a,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},Efe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Bfe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find((function(a){return a.type===r.type&&a.object===r.object}))===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},Tfe=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var a=r,s=e[r];t.internal.newObjectDeferredBegin(s.objId,!0),va(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete e[a]}},Ffe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(dh.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Efe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");LB=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new FH,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",(function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)})),e.internal.events.subscribe("buildDocument",(function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in a)if(a.hasOwnProperty(s)){var i=a[s];i.objId=void 0,i.hasAnnotation&&Bfe(i,r)}})(e)})),e.internal.events.subscribe("putCatalog",(function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)})),e.internal.events.subscribe("postPutPages",(function(r){(function(a,s){var i=!a;for(var o in a||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(o)){var l=a[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=Sfe(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=ra.createDefaultAppearanceStream(l),va(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=Cfe(l);c.push({key:"AP",value:"<</N "+d+">>"}),s.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var A="";for(var m in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(m)){var h=l.appearanceStreamContent[m];if(A+="/"+m+" ",A+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var o in h)if(h.hasOwnProperty(o)){var y=h[o];typeof y=="function"&&(y=y.call(s,l)),A+="/"+o+" "+y+" ",s.internal.acroformPlugin.xForms.indexOf(y)>=0||s.internal.acroformPlugin.xForms.push(y)}}else typeof(y=h)=="function"&&(y=y.call(s,l)),A+="/"+o+" "+y,s.internal.acroformPlugin.xForms.indexOf(y)>=0||s.internal.acroformPlugin.xForms.push(y);A+=">>"}c.push({key:"AP",value:`<<
`+A+">>"})}s.internal.putStream({additionalKeyValues:c,objectId:l.objId}),s.internal.out("endobj")}i&&Tfe(s.internal.acroformPlugin.xForms,s)})(r,e)})),e.internal.acroformPlugin.isInitialized=!0}},BH=mo.__acroform__.arrayToPdfArray=function(e,t,r){var a=function(o){return o};if(Array.isArray(e)){for(var s="[",i=0;i<e.length;i++)switch(i!==0&&(s+=" "),va(e[i])){case"boolean":case"number":case"object":s+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(a=r.internal.getEncryptor(t)),s+="("+ng(a(e[i].toString()))+")"):s+=e[i].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},_j=function(e,t,r){var a=function(s){return s};return t!==void 0&&r&&(a=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+ng(a(e))+")"},Qh=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Qh.prototype.toString=function(){return this.objId+" 0 R"},Qh.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Qh.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter((function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"}));for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var a=t[r],s=this[a];s&&(Array.isArray(s)?e.push({key:a,value:BH(s,this.objId,this.scope)}):s instanceof Qh?(s.scope=this.scope,e.push({key:a,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:a,value:s}))}return e};var TH=function(){Qh.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Jd(TH,Qh);var FH=function(){Qh.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(a){return a};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+ng(r(e))+")"}},set:function(r){e=r}})};Jd(FH,Qh);var dh=function e(){Qh.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');t=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!To(t,3)},set:function(b){b?this.F=Fo(t,3):this.F=_o(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');r=b}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(b){a=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(b){a[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(b){a[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(b){a[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(b){a[3]=b}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof n4)return;i="FieldObject"+e.FieldNum++}var b=function(j){return j};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+ng(b(i))+")"},set:function(b){i=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(b){i=b}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(b){c=b}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/LB:u},set:function(b){u=b}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(b){d=b}});var A="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!A||this instanceof n4||this instanceof Ep))return _j(A,this.objId,this.scope)},set:function(b){b=b.toString(),A=b}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Ol?m:_j(m,this.objId,this.scope)},set:function(b){b=b.toString(),m=this instanceof Ol?b:b.substr(0,1)==="("?Pg(b.substr(1,b.length-2)):Pg(b)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ol?Pg(m.substr(1,m.length-1)):m},set:function(b){b=b.toString(),m=this instanceof Ol?"/"+b:b}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Ol?h:_j(h,this.objId,this.scope)},set:function(b){b=b.toString(),h=this instanceof Ol?b:b.substr(0,1)==="("?Pg(b.substr(1,b.length-2)):Pg(b)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ol?Pg(h.substr(1,h.length-1)):h},set:function(b){b=b.toString(),h=this instanceof Ol?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(b){b=!!b,x=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(b){y=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!To(this.Ff,1)},set:function(b){b?this.Ff=Fo(this.Ff,1):this.Ff=_o(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!To(this.Ff,2)},set:function(b){b?this.Ff=Fo(this.Ff,2):this.Ff=_o(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!To(this.Ff,3)},set:function(b){b?this.Ff=Fo(this.Ff,3):this.Ff=_o(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');v=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(v){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:v=2;break;case"center":case 1:v=1;break;case"left":case 0:default:v=0}}})};Jd(dh,Qh);var px=function(){dh.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return BH(t,this.objId,this.scope)},set:function(r){var a,s;s=[],typeof(a=r)=="string"&&(s=(function(i,o,l){l||(l=1);for(var c,u=[];c=o.exec(i);)u.push(c[l]);return u})(a,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,a){for(a=a||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!To(this.Ff,18)},set:function(r){r?this.Ff=Fo(this.Ff,18):this.Ff=_o(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!To(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Fo(this.Ff,19):this.Ff=_o(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!To(this.Ff,20)},set:function(r){r?(this.Ff=Fo(this.Ff,20),t.sort()):this.Ff=_o(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!To(this.Ff,22)},set:function(r){r?this.Ff=Fo(this.Ff,22):this.Ff=_o(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!To(this.Ff,23)},set:function(r){r?this.Ff=Fo(this.Ff,23):this.Ff=_o(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!To(this.Ff,27)},set:function(r){r?this.Ff=Fo(this.Ff,27):this.Ff=_o(this.Ff,27)}}),this.hasAppearanceStream=!1};Jd(px,dh);var gx=function(){px.call(this),this.fontName="helvetica",this.combo=!1};Jd(gx,px);var xx=function(){gx.call(this),this.combo=!0};Jd(xx,gx);var dw=function(){xx.call(this),this.edit=!0};Jd(dw,xx);var Ol=function(){dh.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!To(this.Ff,15)},set:function(r){r?this.Ff=Fo(this.Ff,15):this.Ff=_o(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!To(this.Ff,16)},set:function(r){r?this.Ff=Fo(this.Ff,16):this.Ff=_o(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!To(this.Ff,17)},set:function(r){r?this.Ff=Fo(this.Ff,17):this.Ff=_o(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!To(this.Ff,26)},set:function(r){r?this.Ff=Fo(this.Ff,26):this.Ff=_o(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var a,s=[];for(a in s.push("<<"),t)s.push("/"+a+" ("+ng(r(t[a]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){va(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Jd(Ol,dh);var uw=function(){Ol.call(this),this.pushButton=!0};Jd(uw,Ol);var yx=function(){Ol.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Jd(yx,Ol);var n4=function(){var e,t;dh.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var r,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),a)o.push("/"+i+" ("+ng(s(a[i]))+")");return o.push(">>"),o.join(`
`)},set:function(s){va(s)==="object"&&(a=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(s){typeof s=="string"&&(a.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ra.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Jd(n4,dh),yx.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},yx.prototype.createOption=function(e){var t=new n4;return t.Parent=this,t.optionName=e,this.Kids.push(t),_fe.call(this.scope,t),t};var fw=function(){Ol.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ra.CheckBox.createAppearanceStream()};Jd(fw,Ol);var Ep=function(){dh.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!To(this.Ff,13)},set:function(t){t?this.Ff=Fo(this.Ff,13):this.Ff=_o(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!To(this.Ff,21)},set:function(t){t?this.Ff=Fo(this.Ff,21):this.Ff=_o(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!To(this.Ff,23)},set:function(t){t?this.Ff=Fo(this.Ff,23):this.Ff=_o(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!To(this.Ff,24)},set:function(t){t?this.Ff=Fo(this.Ff,24):this.Ff=_o(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!To(this.Ff,25)},set:function(t){t?this.Ff=Fo(this.Ff,25):this.Ff=_o(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!To(this.Ff,26)},set:function(t){t?this.Ff=Fo(this.Ff,26):this.Ff=_o(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Jd(Ep,dh);var hw=function(){Ep.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!To(this.Ff,14)},set:function(e){e?this.Ff=Fo(this.Ff,14):this.Ff=_o(this.Ff,14)}}),this.password=!0};Jd(hw,Ep);var ra={CheckBox:{createAppearanceStream:function(){return{N:{On:ra.CheckBox.YesNormal},D:{On:ra.CheckBox.YesPushDown,Off:ra.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Dh(e);t.scope=e.scope;var r=[],a=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),i=o6(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+en(ra.internal.getWidth(e))+" "+en(ra.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+a+" "+en(i.fontSize)+" Tf "+s),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Dh(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),s=[],i=ra.internal.getHeight(e),o=ra.internal.getWidth(e),l=o6(e,e.caption);return s.push("1 g"),s.push("0 0 "+en(o)+" "+en(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+en(o-1)+" "+en(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+en(l.fontSize)+" Tf "+a),s.push(l.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=Dh(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+en(ra.internal.getWidth(e))+" "+en(ra.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:ra.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=ra.RadioButton.Circle.YesNormal,t.D[e]=ra.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Dh(e);t.scope=e.scope;var r=[],a=ra.internal.getWidth(e)<=ra.internal.getHeight(e)?ra.internal.getWidth(e)/4:ra.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var s=ra.internal.Bezier_C,i=Number((a*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+zm(ra.internal.getWidth(e)/2)+" "+zm(ra.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Dh(e);t.scope=e.scope;var r=[],a=ra.internal.getWidth(e)<=ra.internal.getHeight(e)?ra.internal.getWidth(e)/4:ra.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var s=Number((2*a).toFixed(5)),i=Number((s*ra.internal.Bezier_C).toFixed(5)),o=Number((a*ra.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+zm(ra.internal.getWidth(e)/2)+" "+zm(ra.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+zm(ra.internal.getWidth(e)/2)+" "+zm(ra.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),r.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),r.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),r.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Dh(e);t.scope=e.scope;var r=[],a=ra.internal.getWidth(e)<=ra.internal.getHeight(e)?ra.internal.getWidth(e)/4:ra.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var s=Number((2*a).toFixed(5)),i=Number((s*ra.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+zm(ra.internal.getWidth(e)/2)+" "+zm(ra.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:ra.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=ra.RadioButton.Cross.YesNormal,t.D[e]=ra.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Dh(e);t.scope=e.scope;var r=[],a=ra.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+en(ra.internal.getWidth(e)-2)+" "+en(ra.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(en(a.x1.x)+" "+en(a.x1.y)+" m"),r.push(en(a.x2.x)+" "+en(a.x2.y)+" l"),r.push(en(a.x4.x)+" "+en(a.x4.y)+" m"),r.push(en(a.x3.x)+" "+en(a.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Dh(e);t.scope=e.scope;var r=ra.internal.calculateCross(e),a=[];return a.push("0.749023 g"),a.push("0 0 "+en(ra.internal.getWidth(e))+" "+en(ra.internal.getHeight(e))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+en(ra.internal.getWidth(e)-2)+" "+en(ra.internal.getHeight(e)-2)+" re"),a.push("W"),a.push("n"),a.push(en(r.x1.x)+" "+en(r.x1.y)+" m"),a.push(en(r.x2.x)+" "+en(r.x2.y)+" l"),a.push(en(r.x4.x)+" "+en(r.x4.y)+" m"),a.push(en(r.x3.x)+" "+en(r.x3.y)+" l"),a.push("s"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Dh(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+en(ra.internal.getWidth(e))+" "+en(ra.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};ra.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=ra.internal.getWidth(e),r=ra.internal.getHeight(e),a=Math.min(t,r);return{x1:{x:(t-a)/2,y:(r-a)/2+a},x2:{x:(t-a)/2+a,y:(r-a)/2},x3:{x:(t-a)/2,y:(r-a)/2},x4:{x:(t-a)/2+a,y:(r-a)/2+a}}}},ra.internal.getWidth=function(e){var t=0;return va(e)==="object"&&(t=hI(e.Rect[2])),t},ra.internal.getHeight=function(e){var t=0;return va(e)==="object"&&(t=hI(e.Rect[3])),t};var _fe=mo.addField=function(e){if(Ffe(this,e),!(e instanceof dh))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};mo.AcroFormChoiceField=px,mo.AcroFormListBox=gx,mo.AcroFormComboBox=xx,mo.AcroFormEditBox=dw,mo.AcroFormButton=Ol,mo.AcroFormPushButton=uw,mo.AcroFormRadioButton=yx,mo.AcroFormCheckBox=fw,mo.AcroFormTextField=Ep,mo.AcroFormPasswordField=hw,mo.AcroFormAppearance=ra,mo.AcroForm={ChoiceField:px,ListBox:gx,ComboBox:xx,EditBox:dw,Button:Ol,PushButton:uw,RadioButton:yx,CheckBox:fw,TextField:Ep,PasswordField:hw,Appearance:ra},Ca.AcroForm={ChoiceField:px,ListBox:gx,ComboBox:xx,EditBox:dw,Button:Ol,PushButton:uw,RadioButton:yx,CheckBox:fw,TextField:Ep,PasswordField:hw,Appearance:ra};Ca.AcroForm;function _H(e){return e.reduce((function(t,r,a){return t[r]=a,t}),{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=e.__addimage__.getImageFileTypeByImageData=function(P,I){var z,W,ie,X,le,re=t;if((I=I||t)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(D(P))for(le in r)for(ie=r[le],z=0;z<ie.length;z+=1){for(X=!0,W=0;W<ie[z].length;W+=1)if(ie[z][W]!==void 0&&ie[z][W]!==P[W]){X=!1;break}if(X===!0){re=le;break}}else for(le in r)for(ie=r[le],z=0;z<ie.length;z+=1){for(X=!0,W=0;W<ie[z].length;W+=1)if(ie[z][W]!==void 0&&ie[z][W]!==P.charCodeAt(W)){X=!1;break}if(X===!0){re=le;break}}return re===t&&I!==t&&(re=I),re},s=function P(I){for(var z=this.internal.write,W=this.internal.putStream,ie=(0,this.internal.getFilters)();ie.indexOf("FlateEncode")!==-1;)ie.splice(ie.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var X=[];if(X.push({key:"Type",value:"/XObject"}),X.push({key:"Subtype",value:"/Image"}),X.push({key:"Width",value:I.width}),X.push({key:"Height",value:I.height}),I.colorSpace===v.INDEXED?X.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(X.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===v.DEVICE_CMYK&&X.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),X.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&X.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)){for(var le="",re=0,he=I.transparency.length;re<he;re++)le+=I.transparency[re]+" "+I.transparency[re]+" ";X.push({key:"Mask",value:"["+le+"]"})}I.sMask!==void 0&&X.push({key:"SMask",value:I.objectId+1+" 0 R"});var de=I.filter!==void 0?["/"+I.filter]:void 0;if(W({data:I.data,additionalKeyValues:X,alreadyAppliedFilters:de,objectId:I.objectId}),z("endobj"),"sMask"in I&&I.sMask!==void 0){var ve="/Predictor "+I.predictor+" /Colors 1 /BitsPerComponent "+I.bitsPerComponent+" /Columns "+I.width,B={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:I.bitsPerComponent,decodeParameters:ve,data:I.sMask};"filter"in I&&(B.filter=I.filter),P.call(this,B)}if(I.colorSpace===v.INDEXED){var R=this.internal.newObject();W({data:F(new Uint8Array(I.palette)),objectId:R}),z("endobj")}},i=function(){var P=this.internal.collections.addImage_images;for(var I in P)s.call(this,P[I])},o=function(){var P,I=this.internal.collections.addImage_images,z=this.internal.write;for(var W in I)z("/I"+(P=I[W]).index,P.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var P=this.internal.collections.addImage_images;return l.call(this),P},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(P){return typeof e["process"+P.toUpperCase()]=="function"},A=function(P){return va(P)==="object"&&P.nodeType===1},m=function(P,I){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var z=""+P.getAttribute("src");if(z.indexOf("data:image/")===0)return Fy(unescape(z).split("base64,").pop());var W=e.loadFile(z,!0);if(W!==void 0)return W}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var ie;switch(I){case"PNG":ie="image/png";break;case"WEBP":ie="image/webp";break;case"JPEG":case"JPG":default:ie="image/jpeg"}return Fy(P.toDataURL(ie,1).split("base64,").pop())}},h=function(P){var I=this.internal.collections.addImage_images;if(I){for(var z in I)if(P===I[z].alias)return I[z]}},y=function(P,I,z){return P||I||(P=-96,I=-96),P<0&&(P=-1*z.width*72/P/this.internal.scaleFactor),I<0&&(I=-1*z.height*72/I/this.internal.scaleFactor),P===0&&(P=I*z.width/z.height),I===0&&(I=P*z.height/z.width),[P,I]},x=function(P,I,z,W,ie,X){var le=y.call(this,z,W,ie),re=this.internal.getCoordinateString,he=this.internal.getVerticalCoordinateString,de=c.call(this);if(z=le[0],W=le[1],de[ie.index]=ie,X){X*=Math.PI/180;var ve=Math.cos(X),B=Math.sin(X),R=function(ne){return ne.toFixed(4)},G=[R(ve),R(B),R(-1*B),R(ve),0,0,"cm"]}this.internal.write("q"),X?(this.internal.write([1,"0","0",1,re(P),he(I+W),"cm"].join(" ")),this.internal.write(G.join(" ")),this.internal.write([re(z),"0","0",re(W),"0","0","cm"].join(" "))):this.internal.write([re(z),"0","0",re(W),re(P),he(I+W),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ie.index+" Do"),this.internal.write("Q")},v=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},j=e.__addimage__.sHashCode=function(P){var I,z,W=0;if(typeof P=="string")for(z=P.length,I=0;I<z;I++)W=(W<<5)-W+P.charCodeAt(I),W|=0;else if(D(P))for(z=P.byteLength/2,I=0;I<z;I++)W=(W<<5)-W+P[I],W|=0;return W},C=e.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var I=!0;return P.length===0&&(I=!1),P.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(I=!1),I},E=e.__addimage__.extractImageFromDataUrl=function(P){var I=(P=P||"").split("base64,"),z=null;if(I.length===2){var W=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(I[0]);Array.isArray(W)&&(z={mimeType:W[1],charset:W[2],data:I[1]})}return z},k=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(P){return k()&&P instanceof ArrayBuffer};var D=e.__addimage__.isArrayBufferView=function(P){return k()&&typeof Uint32Array<"u"&&(P instanceof Int8Array||P instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array)},L=e.__addimage__.binaryStringToUint8Array=function(P){for(var I=P.length,z=new Uint8Array(I),W=0;W<I;W++)z[W]=P.charCodeAt(W);return z},F=e.__addimage__.arrayBufferToBinaryString=function(P){for(var I="",z=D(P)?P:new Uint8Array(P),W=0;W<z.length;W+=8192)I+=String.fromCharCode.apply(null,z.subarray(W,W+8192));return I};e.addImage=function(){var P,I,z,W,ie,X,le,re,he;if(typeof arguments[1]=="number"?(I=t,z=arguments[1],W=arguments[2],ie=arguments[3],X=arguments[4],le=arguments[5],re=arguments[6],he=arguments[7]):(I=arguments[1],z=arguments[2],W=arguments[3],ie=arguments[4],X=arguments[5],le=arguments[6],re=arguments[7],he=arguments[8]),va(P=arguments[0])==="object"&&!A(P)&&"imageData"in P){var de=P;P=de.imageData,I=de.format||I||t,z=de.x||z||0,W=de.y||W||0,ie=de.w||de.width||ie,X=de.h||de.height||X,le=de.alias||le,re=de.compression||re,he=de.rotation||de.angle||he}var ve=this.internal.getFilters();if(re===void 0&&ve.indexOf("FlateEncode")!==-1&&(re="SLOW"),isNaN(z)||isNaN(W))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var B=Q.call(this,P,I,le,re);return x.call(this,z,W,ie,X,B,he),this};var Q=function(P,I,z,W){var ie,X,le;if(typeof P=="string"&&a(P)===t){P=unescape(P);var re=U(P,!1);(re!==""||(re=e.loadFile(P,!0))!==void 0)&&(P=re)}if(A(P)&&(P=m(P,I)),I=a(P,I),!d(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((le=z)==null||le.length===0)&&(z=(function(he){return typeof he=="string"||D(he)?j(he):D(he.data)?j(he.data):null})(P)),(ie=h.call(this,z))||(k()&&(P instanceof Uint8Array||I==="RGBA"||(X=P,P=L(P))),ie=this["process"+I.toUpperCase()](P,u.call(this),z,(function(he){return he&&typeof he=="string"&&(he=he.toUpperCase()),he in e.image_compression?he:b.NONE})(W),X)),!ie)throw new Error("An unknown error occurred whilst processing the image.");return ie},U=e.__addimage__.convertBase64ToBinaryString=function(P,I){var z;I=typeof I!="boolean"||I;var W,ie="";if(typeof P=="string"){W=(z=E(P))!==null?z.data:P;try{ie=Fy(W)}catch(X){if(I)throw C(W)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+X.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ie};e.getImageProperties=function(P){var I,z,W="";if(A(P)&&(P=m(P)),typeof P=="string"&&a(P)===t&&((W=U(P,!1))===""&&(W=e.loadFile(P)||""),P=W),z=a(P),!d(z))throw new Error("addImage does not support files of type '"+z+"', please ensure that a plugin for '"+z+"' support is added.");if(!k()||P instanceof Uint8Array||(P=L(P)),!(I=this["process"+z.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=z,I}})(Ca.API),(function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Ca.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var a,s,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,A=0;A<u.length&&!d;A++)switch((a=u[A]).type){case"link":(t(a.options.url)||t(a.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var m=0;m<u.length;m++){a=u[m];var h=this.internal.pdfEscape,y=this.internal.getEncryptor(r.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(x.objId),j=a.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(a.bounds.x)+" "+l(a.bounds.y+a.bounds.h)+" "+o(a.bounds.x+a.bounds.w)+" "+l(a.bounds.y)+"] ")+"/Contents ("+h(b(a.contents))+")",i+=" /Popup "+v.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+h(b(j))+") >>",x.content=i;var C=x.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(a.bounds.x+30)+" "+l(a.bounds.y+a.bounds.h)+" "+o(a.bounds.x+a.bounds.w+30)+" "+l(a.bounds.y)+"] ")+" /Parent "+C,a.open&&(i+=" /Open true"),i+=" >>",v.content=i,this.internal.write(x.objId,"0 R",v.objId,"0 R");break;case"freetext":s="/Rect ["+o(a.bounds.x)+" "+l(a.bounds.y)+" "+o(a.bounds.x+a.bounds.w)+" "+l(a.bounds.y+a.bounds.h)+"] ";var E=a.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+h(y(a.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+E+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(a.options.name){var k=this.annotations._nameMap[a.options.name];a.options.pageNumber=k.page,a.options.top=k.y}else a.options.top||(a.options.top=0);if(s="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",i="",a.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+h(y(a.options.url))+") >>";else if(a.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,i+=" /FitV "+a.options.left+"]";break;case"XYZ":default:var D=l(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),i+=" /XYZ "+a.options.left+" "+D+" "+a.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var a=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":a.pageContext.annotations.push(r)}},e.link=function(r,a,s,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(a),w:c(r+s),h:u(a+i)},options:o,type:"link"})},e.textWithLink=function(r,a,s,i){var o,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var d=this.splitTextToSize(r,l).length;o=Math.ceil(u*d)}else l=c,o=u;return this.text(r,a,s,i),s+=.2*u,i.align==="center"&&(a-=c/2),i.align==="right"&&(a-=c),this.link(a,s-u,l,o,i),c},e.getTextWidth=function(r){var a=this.internal.getFontSize();return this.getStringUnitWidth(r)*a/this.internal.scaleFactor}})(Ca.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(x){return t[x.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},l=e.__arabicParser__.isArabicEndLetter=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(x){return o(x)&&s.indexOf(x.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length==4},A=e.__arabicParser__.resolveLigatures=function(x){var v=0,b=r,j="",C=0;for(v=0;v<x.length;v+=1)b[x.charCodeAt(v)]!==void 0?(C++,typeof(b=b[x.charCodeAt(v)])=="number"&&(j+=String.fromCharCode(b),b=r,C=0),v===x.length-1&&(b=r,j+=x.charAt(v-(C-1)),v-=C-1,C=0)):(b=r,j+=x.charAt(v-C),v-=C,C=0);return j};e.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&a[x.charCodeAt(0)]!==void 0};var m=e.__arabicParser__.getCorrectForm=function(x,v,b){return o(x)?i(x)===!1?-1:!u(x)||!o(v)&&!o(b)||!o(b)&&l(v)||l(x)&&!o(v)||l(x)&&c(v)||l(x)&&l(v)?0:d(x)&&o(v)&&!l(v)&&o(b)&&u(b)?3:l(x)||!o(b)?1:2:-1},h=function(x){var v=0,b=0,j=0,C="",E="",k="",D=(x=x||"").split("\\s+"),L=[];for(v=0;v<D.length;v+=1){for(L.push(""),b=0;b<D[v].length;b+=1)C=D[v][b],E=D[v][b-1],k=D[v][b+1],o(C)?(j=m(C,E,k),L[v]+=j!==-1?String.fromCharCode(t[C.charCodeAt(0)][j]):C):L[v]+=C;L[v]=A(L[v])}return L.join(" ")},y=e.__arabicParser__.processArabic=e.processArabic=function(){var x,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(v)){var j=0;for(b=[],j=0;j<v.length;j+=1)Array.isArray(v[j])?b.push([h(v[j][0]),v[j][1],v[j][2]]):b.push([h(v[j])]);x=b}else x=h(v);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};e.events.push(["preProcessText",y])})(Ca.API),Ca.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",(function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+t+" 0 R")}))}return this},(function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,a){var s;if((r=r||"2d")!=="2d")return null;for(s in a)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=a[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(Ca.API),(function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(x){d=x}});var A=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return A},set:function(x){A=x}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(x){m=x}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(x){y=x}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return a.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){a.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),A=u.font||this.getFont(),m=u.scaleFactor||this.internal.scaleFactor,h=0,y=0,x=0,v=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var b=u.maxWidth;b>0?typeof c=="string"?c=this.splitTextToSize(c,b):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce((function(C,E){return C.concat(v.splitTextToSize(E,b))}),[])):c=Array.isArray(c)?c:[c];for(var j=0;j<c.length;j++)h<(x=this.getStringUnitWidth(c[j],{font:A})*d)&&(h=x);return h!==0&&(y=c.length),{w:h/=m,h:Math.max((y*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/m,0)}},e.cellAddPage=function(){a.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),a.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,A=this.internal.__cell__.margins||t,m=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+A.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=A.top,h&&m&&(this.printHeaderRow(c.lineNumber,!0),c.y+=m[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,d,A,m){if(a.call(this),!d)throw new Error("No data for PDF table.");var h,y,x,v,b=[],j=[],C=[],E={},k={},D=[],L=[],F=(m=m||{}).autoSize||!1,Q=m.printHeaders!==!1,U=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,P=m.margins||Object.assign({width:this.getPageWidth()},t),I=typeof m.padding=="number"?m.padding:3,z=m.headerBackgroundColor||"#c8c8c8",W=m.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=Q,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=U,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=z,this.internal.__cell__.headerTextColor=W,this.setFontSize(U),A==null)j=b=Object.keys(d[0]),C=b.map((function(){return"left"}));else if(Array.isArray(A)&&va(A[0])==="object")for(b=A.map((function(de){return de.name})),j=A.map((function(de){return de.prompt||de.name||""})),C=A.map((function(de){return de.align||"left"})),h=0;h<A.length;h+=1)k[A[h].name]=A[h].width*(19.049976/25.4);else Array.isArray(A)&&typeof A[0]=="string"&&(j=b=A,C=b.map((function(){return"left"})));if(F||Array.isArray(A)&&typeof A[0]=="string")for(h=0;h<b.length;h+=1){for(E[v=b[h]]=d.map((function(de){return de[v]})),this.setFont(void 0,"bold"),D.push(this.getTextDimensions(j[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=E[v],this.setFont(void 0,"normal"),x=0;x<y.length;x+=1)D.push(this.getTextDimensions(y[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);k[v]=Math.max.apply(null,D)+I+I,D=[]}if(Q){var ie={};for(h=0;h<b.length;h+=1)ie[b[h]]={},ie[b[h]].text=j[h],ie[b[h]].align=C[h];var X=l.call(this,ie,k);L=b.map((function(de){return new i(c,u,k[de],X,ie[de].text,void 0,ie[de].align)})),this.setTableHeaderRow(L),this.printHeaderRow(1,!1)}var le=A.reduce((function(de,ve){return de[ve.name]=ve.align,de}),{});for(h=0;h<d.length;h+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:h,data:d[h]},this);var re=l.call(this,d[h],k);for(x=0;x<b.length;x+=1){var he=d[h][b[x]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:h,col:x,data:he},this),o.call(this,new i(c,u,k[b[x]],re,he,h+2,le[b[x]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,A=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(c).map((function(h){var y=c[h];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,u[h]-d-d)}),this).map((function(h){return this.getLineHeightFactor()*h.length*A/m+d+d}),this).reduce((function(h,y){return Math.max(h,y)}),0)};e.setTableHeaderRow=function(c){a.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var A=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(A[0],A[1],A[2],A[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){d=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,m.push(d)),d.lineNumber=c;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(y)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),r=!1}})(Ca.API);var kH={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},IH=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],l6=_H(IH),PH=[100,200,300,400,500,600,700,800,900],kfe=_H(PH);function c6(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=(function(i){return kH[i=i||"normal"]?i:"normal"})(e.style),a=(function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}})(e.weight),s=(function(i){return typeof l6[i=i||"normal"]=="number"?i:"normal"})(e.stretch);return{family:t,style:r,weight:a,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,r,a].join(" ")}}}function AI(e,t,r,a){var s;for(s=r;s>=0&&s<t.length;s+=a)if(e[t[s]])return e[t[s]];for(s=r;s>=0&&s<t.length;s-=a)if(e[t[s]])return e[t[s]]}var Ife={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},mI={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function pI(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Pfe(e,t,r){for(var a=(r=r||{}).defaultFontFamily||"times",s=Object.assign({},Ife,r.genericFontFamilies||{}),i=null,o=null,l=0;l<t.length;++l)if(s[(i=c6(t[l])).family]&&(i.family=s[i.family]),e.hasOwnProperty(i.family)){o=e[i.family];break}if(!(o=o||e[a]))throw new Error("Could not find a font-family for the rule '"+pI(i)+"' and default family '"+a+"'.");if(o=(function(c,u){if(u[c])return u[c];var d=l6[c],A=d<=l6.normal?-1:1,m=AI(u,IH,d,A);if(!m)throw new Error("Could not find a matching font-stretch value for "+c);return m})(i.stretch,o),o=(function(c,u){if(u[c])return u[c];for(var d=kH[c],A=0;A<d.length;++A)if(u[d[A]])return u[d[A]];throw new Error("Could not find a matching font-style for "+c)})(i.style,o),!(o=(function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var d=kfe[c],A=AI(u,PH,d,c<400?-1:1);if(!A)throw new Error("Could not find a matching font-weight for value "+c);return A})(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+pI(i)+"'.");return o}function gI(e){return e.trimLeft()}function Lfe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function Ofe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var bb,xI,yI,kj=["times"];(function(e){var t,r,a,s,i,o,l,c,u,d=function(B){return B=B||{},this.isStrokeTransparent=B.isStrokeTransparent||!1,this.strokeOpacity=B.strokeOpacity||1,this.strokeStyle=B.strokeStyle||"#000000",this.fillStyle=B.fillStyle||"#000000",this.isFillTransparent=B.isFillTransparent||!1,this.fillOpacity=B.fillOpacity||1,this.font=B.font||"10px sans-serif",this.textBaseline=B.textBaseline||"alphabetic",this.textAlign=B.textAlign||"left",this.lineWidth=B.lineWidth||1,this.lineJoin=B.lineJoin||"miter",this.lineCap=B.lineCap||"butt",this.path=B.path||[],this.transform=B.transform!==void 0?B.transform.clone():new c,this.globalCompositeOperation=B.globalCompositeOperation||"normal",this.globalAlpha=B.globalAlpha||1,this.clip_path=B.clip_path||[],this.currentPoint=B.currentPoint||new o,this.miterLimit=B.miterLimit||10,this.lastPoint=B.lastPoint||new o,this.lineDashOffset=B.lineDashOffset||0,this.lineDash=B.lineDash||[],this.margin=B.margin||[0,0,0,0],this.prevPageLastElemOffset=B.prevPageLastElemOffset||0,this.ignoreClearRect=typeof B.ignoreClearRect!="boolean"||B.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new A(this),t=this.internal.f2,r=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var A=function(B){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var R=B;Object.defineProperty(this,"pdf",{get:function(){return R}});var G=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return G},set:function(J){G=!!J}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(J){ne=!!J}});var pe=0;Object.defineProperty(this,"posX",{get:function(){return pe},set:function(J){isNaN(J)||(pe=J)}});var xe=0;Object.defineProperty(this,"posY",{get:function(){return xe},set:function(J){isNaN(J)||(xe=J)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(J){var ge;typeof J=="number"?ge=[J,J,J,J]:((ge=new Array(4))[0]=J[0],ge[1]=J.length>=2?J[1]:ge[0],ge[2]=J.length>=3?J[2]:ge[0],ge[3]=J.length>=4?J[3]:ge[1]),u.margin=ge}});var Ae=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ae},set:function(J){Ae=J}});var Y=0;Object.defineProperty(this,"lastBreak",{get:function(){return Y},set:function(J){Y=J}});var se=[];Object.defineProperty(this,"pageBreaks",{get:function(){return se},set:function(J){se=J}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(J){J instanceof d&&(u=J)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(J){u.path=J}});var ee=[];Object.defineProperty(this,"ctxStack",{get:function(){return ee},set:function(J){ee=J}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(J){var ge;ge=m(J),this.ctx.fillStyle=ge.style,this.ctx.isFillTransparent=ge.a===0,this.ctx.fillOpacity=ge.a,this.pdf.setFillColor(ge.r,ge.g,ge.b,{a:ge.a}),this.pdf.setTextColor(ge.r,ge.g,ge.b,{a:ge.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(J){var ge=m(J);this.ctx.strokeStyle=ge.style,this.ctx.isStrokeTransparent=ge.a===0,this.ctx.strokeOpacity=ge.a,ge.a===0?this.pdf.setDrawColor(255,255,255):(ge.a,this.pdf.setDrawColor(ge.r,ge.g,ge.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(J){["butt","round","square"].indexOf(J)!==-1&&(this.ctx.lineCap=J,this.pdf.setLineCap(J))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(J){isNaN(J)||(this.ctx.lineWidth=J,this.pdf.setLineWidth(J))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(J){["bevel","round","miter"].indexOf(J)!==-1&&(this.ctx.lineJoin=J,this.pdf.setLineJoin(J))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(J){isNaN(J)||(this.ctx.miterLimit=J,this.pdf.setMiterLimit(J))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(J){this.ctx.textBaseline=J}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(J){["right","end","center","left","start"].indexOf(J)!==-1&&(this.ctx.textAlign=J)}});var be=null;function Ce(J,ge){if(be===null){var Je=(function(Ke){var Fe=[];return Object.keys(Ke).forEach((function(nt){Ke[nt].forEach((function(Se){var Me=null;switch(Se){case"bold":Me={family:nt,weight:"bold"};break;case"italic":Me={family:nt,style:"italic"};break;case"bolditalic":Me={family:nt,weight:"bold",style:"italic"};break;case"":case"normal":Me={family:nt}}Me!==null&&(Me.ref={name:nt,style:Se},Fe.push(Me))}))})),Fe})(J.getFontList());be=(function(Ke){for(var Fe={},nt=0;nt<Ke.length;++nt){var Se=c6(Ke[nt]),Me=Se.family,at=Se.stretch,ke=Se.style,Ve=Se.weight;Fe[Me]=Fe[Me]||{},Fe[Me][at]=Fe[Me][at]||{},Fe[Me][at][ke]=Fe[Me][at][ke]||{},Fe[Me][at][ke][Ve]=Se}return Fe})(Je.concat(ge))}return be}var ce=null;Object.defineProperty(this,"fontFaces",{get:function(){return ce},set:function(J){be=null,ce=J}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(J){var ge;if(this.ctx.font=J,(ge=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(J))!==null){var Je=ge[1],Ke=(ge[2],ge[3]),Fe=ge[4],nt=(ge[5],ge[6]),Se=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Fe)[2];Fe=Math.floor(Se==="px"?parseFloat(Fe)*this.pdf.internal.scaleFactor:Se==="em"?parseFloat(Fe)*this.pdf.getFontSize():parseFloat(Fe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Fe);var Me=(function(bt){var Le,je,Ze=[],Te=bt.trim();if(Te==="")return kj;if(Te in mI)return[mI[Te]];for(;Te!=="";){switch(je=null,Le=(Te=gI(Te)).charAt(0)){case'"':case"'":je=Lfe(Te.substring(1),Le);break;default:je=Ofe(Te)}if(je===null||(Ze.push(je[0]),(Te=gI(je[1]))!==""&&Te.charAt(0)!==","))return kj;Te=Te.replace(/^,/,"")}return Ze})(nt);if(this.fontFaces){var at=Pfe(Ce(this.pdf,this.fontFaces),Me.map((function(bt){return{family:bt,stretch:"normal",weight:Ke,style:Je}})));this.pdf.setFont(at.ref.name,at.ref.style)}else{var ke="";(Ke==="bold"||parseInt(Ke,10)>=700||Je==="bold")&&(ke="bold"),Je==="italic"&&(ke+="italic"),ke.length===0&&(ke="normal");for(var Ve="",ze={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},rt=0;rt<Me.length;rt++){if(this.pdf.internal.getFont(Me[rt],ke,{noFallback:!0,disableWarning:!0})!==void 0){Ve=Me[rt];break}if(ke==="bolditalic"&&this.pdf.internal.getFont(Me[rt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ve=Me[rt],ke="bold";else if(this.pdf.internal.getFont(Me[rt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ve=Me[rt],ke="normal";break}}if(Ve===""){for(var Ge=0;Ge<Me.length;Ge++)if(ze[Me[Ge]]){Ve=ze[Me[Ge]];break}}Ve=Ve===""?"Times":Ve,this.pdf.setFont(Ve,ke)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(J){this.ctx.globalCompositeOperation=J}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(J){this.ctx.globalAlpha=J}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(J){this.ctx.lineDashOffset=J,ve.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(J){this.ctx.lineDash=J,ve.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(J){this.ctx.ignoreClearRect=!!J}})};A.prototype.setLineDash=function(B){this.lineDash=B},A.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},A.prototype.fill=function(){E.call(this,"fill",!1)},A.prototype.stroke=function(){E.call(this,"stroke",!1)},A.prototype.beginPath=function(){this.path=[{type:"begin"}]},A.prototype.moveTo=function(B,R){if(isNaN(B)||isNaN(R))throw ei.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var G=this.ctx.transform.applyToPoint(new o(B,R));this.path.push({type:"mt",x:G.x,y:G.y}),this.ctx.lastPoint=new o(B,R)},A.prototype.closePath=function(){var B=new o(0,0),R=0;for(R=this.path.length-1;R!==-1;R--)if(this.path[R].type==="begin"&&va(this.path[R+1])==="object"&&typeof this.path[R+1].x=="number"){B=new o(this.path[R+1].x,this.path[R+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(B.x,B.y)},A.prototype.lineTo=function(B,R){if(isNaN(B)||isNaN(R))throw ei.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var G=this.ctx.transform.applyToPoint(new o(B,R));this.path.push({type:"lt",x:G.x,y:G.y}),this.ctx.lastPoint=new o(G.x,G.y)},A.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),E.call(this,null,!0)},A.prototype.quadraticCurveTo=function(B,R,G,ne){if(isNaN(G)||isNaN(ne)||isNaN(B)||isNaN(R))throw ei.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var pe=this.ctx.transform.applyToPoint(new o(G,ne)),xe=this.ctx.transform.applyToPoint(new o(B,R));this.path.push({type:"qct",x1:xe.x,y1:xe.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new o(pe.x,pe.y)},A.prototype.bezierCurveTo=function(B,R,G,ne,pe,xe){if(isNaN(pe)||isNaN(xe)||isNaN(B)||isNaN(R)||isNaN(G)||isNaN(ne))throw ei.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ae=this.ctx.transform.applyToPoint(new o(pe,xe)),Y=this.ctx.transform.applyToPoint(new o(B,R)),se=this.ctx.transform.applyToPoint(new o(G,ne));this.path.push({type:"bct",x1:Y.x,y1:Y.y,x2:se.x,y2:se.y,x:Ae.x,y:Ae.y}),this.ctx.lastPoint=new o(Ae.x,Ae.y)},A.prototype.arc=function(B,R,G,ne,pe,xe){if(isNaN(B)||isNaN(R)||isNaN(G)||isNaN(ne)||isNaN(pe))throw ei.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(xe=!!xe,!this.ctx.transform.isIdentity){var Ae=this.ctx.transform.applyToPoint(new o(B,R));B=Ae.x,R=Ae.y;var Y=this.ctx.transform.applyToPoint(new o(0,G)),se=this.ctx.transform.applyToPoint(new o(0,0));G=Math.sqrt(Math.pow(Y.x-se.x,2)+Math.pow(Y.y-se.y,2))}Math.abs(pe-ne)>=2*Math.PI&&(ne=0,pe=2*Math.PI),this.path.push({type:"arc",x:B,y:R,radius:G,startAngle:ne,endAngle:pe,counterclockwise:xe})},A.prototype.arcTo=function(B,R,G,ne,pe){throw new Error("arcTo not implemented.")},A.prototype.rect=function(B,R,G,ne){if(isNaN(B)||isNaN(R)||isNaN(G)||isNaN(ne))throw ei.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(B,R),this.lineTo(B+G,R),this.lineTo(B+G,R+ne),this.lineTo(B,R+ne),this.lineTo(B,R),this.lineTo(B+G,R),this.lineTo(B,R)},A.prototype.fillRect=function(B,R,G,ne){if(isNaN(B)||isNaN(R)||isNaN(G)||isNaN(ne))throw ei.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var pe={};this.lineCap!=="butt"&&(pe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(pe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(B,R,G,ne),this.fill(),pe.hasOwnProperty("lineCap")&&(this.lineCap=pe.lineCap),pe.hasOwnProperty("lineJoin")&&(this.lineJoin=pe.lineJoin)}},A.prototype.strokeRect=function(B,R,G,ne){if(isNaN(B)||isNaN(R)||isNaN(G)||isNaN(ne))throw ei.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(B,R,G,ne),this.stroke())},A.prototype.clearRect=function(B,R,G,ne){if(isNaN(B)||isNaN(R)||isNaN(G)||isNaN(ne))throw ei.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(B,R,G,ne))},A.prototype.save=function(B){B=typeof B!="boolean"||B;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("q");if(this.pdf.setPage(R),B){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},A.prototype.restore=function(B){B=typeof B!="boolean"||B;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("Q");this.pdf.setPage(R),B&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},A.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(B){var R,G,ne,pe;if(B.isCanvasGradient===!0&&(B=B.getColor()),!B)return{r:0,g:0,b:0,a:0,style:B};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(B))R=0,G=0,ne=0,pe=0;else{var xe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(B);if(xe!==null)R=parseInt(xe[1]),G=parseInt(xe[2]),ne=parseInt(xe[3]),pe=1;else if((xe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(B))!==null)R=parseInt(xe[1]),G=parseInt(xe[2]),ne=parseInt(xe[3]),pe=parseFloat(xe[4]);else{if(pe=1,typeof B=="string"&&B.charAt(0)!=="#"){var Ae=new SH(B);B=Ae.ok?Ae.toHex():"#000000"}B.length===4?(R=B.substring(1,2),R+=R,G=B.substring(2,3),G+=G,ne=B.substring(3,4),ne+=ne):(R=B.substring(1,3),G=B.substring(3,5),ne=B.substring(5,7)),R=parseInt(R,16),G=parseInt(G,16),ne=parseInt(ne,16)}}return{r:R,g:G,b:ne,a:pe,style:B}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};A.prototype.fillText=function(B,R,G,ne){if(isNaN(R)||isNaN(G)||typeof B!="string")throw ei.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!h.call(this)){var pe=re(this.ctx.transform.rotation),xe=this.ctx.transform.scaleX;I.call(this,{text:B,x:R,y:G,scale:xe,angle:pe,align:this.textAlign,maxWidth:ne})}},A.prototype.strokeText=function(B,R,G,ne){if(isNaN(R)||isNaN(G)||typeof B!="string")throw ei.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){ne=isNaN(ne)?void 0:ne;var pe=re(this.ctx.transform.rotation),xe=this.ctx.transform.scaleX;I.call(this,{text:B,x:R,y:G,scale:xe,renderingMode:"stroke",angle:pe,align:this.textAlign,maxWidth:ne})}},A.prototype.measureText=function(B){if(typeof B!="string")throw ei.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var R=this.pdf,G=this.pdf.internal.scaleFactor,ne=R.internal.getFontSize(),pe=R.getStringUnitWidth(B)*ne/R.internal.scaleFactor,xe=function(Ae){var Y=(Ae=Ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Y}}),this};return new xe({width:pe*=Math.round(96*G/72*1e4)/1e4})},A.prototype.scale=function(B,R){if(isNaN(B)||isNaN(R))throw ei.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var G=new c(B,0,0,R,0,0);this.ctx.transform=this.ctx.transform.multiply(G)},A.prototype.rotate=function(B){if(isNaN(B))throw ei.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var R=new c(Math.cos(B),Math.sin(B),-Math.sin(B),Math.cos(B),0,0);this.ctx.transform=this.ctx.transform.multiply(R)},A.prototype.translate=function(B,R){if(isNaN(B)||isNaN(R))throw ei.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var G=new c(1,0,0,1,B,R);this.ctx.transform=this.ctx.transform.multiply(G)},A.prototype.transform=function(B,R,G,ne,pe,xe){if(isNaN(B)||isNaN(R)||isNaN(G)||isNaN(ne)||isNaN(pe)||isNaN(xe))throw ei.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ae=new c(B,R,G,ne,pe,xe);this.ctx.transform=this.ctx.transform.multiply(Ae)},A.prototype.setTransform=function(B,R,G,ne,pe,xe){B=isNaN(B)?1:B,R=isNaN(R)?0:R,G=isNaN(G)?0:G,ne=isNaN(ne)?1:ne,pe=isNaN(pe)?0:pe,xe=isNaN(xe)?0:xe,this.ctx.transform=new c(B,R,G,ne,pe,xe)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};A.prototype.drawImage=function(B,R,G,ne,pe,xe,Ae,Y,se){var ee=this.pdf.getImageProperties(B),be=1,Ce=1,ce=1,J=1;ne!==void 0&&Y!==void 0&&(ce=Y/ne,J=se/pe,be=ee.width/ne*Y/ne,Ce=ee.height/pe*se/pe),xe===void 0&&(xe=R,Ae=G,R=0,G=0),ne!==void 0&&Y===void 0&&(Y=ne,se=pe),ne===void 0&&Y===void 0&&(Y=ee.width,se=ee.height);for(var ge,Je=this.ctx.transform.decompose(),Ke=re(Je.rotate.shx),Fe=new c,nt=(Fe=(Fe=(Fe=Fe.multiply(Je.translate)).multiply(Je.skew)).multiply(Je.scale)).applyToRectangle(new l(xe-R*ce,Ae-G*J,ne*be,pe*Ce)),Se=v.call(this,nt),Me=[],at=0;at<Se.length;at+=1)Me.indexOf(Se[at])===-1&&Me.push(Se[at]);if(C(Me),this.autoPaging)for(var ke=Me[0],Ve=Me[Me.length-1],ze=ke;ze<Ve+1;ze++){this.pdf.setPage(ze);var rt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ge=ze===1?this.posY+this.margin[0]:this.margin[0],bt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Le=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],je=ze===1?0:bt+(ze-2)*Le;if(this.ctx.clip_path.length!==0){var Ze=this.path;ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(ge,this.posX+this.margin[3],-je+Ge+this.ctx.prevPageLastElemOffset),k.call(this,"fill",!0),this.path=Ze}var Te=JSON.parse(JSON.stringify(nt));Te=j([Te],this.posX+this.margin[3],-je+Ge+this.ctx.prevPageLastElemOffset)[0];var pt=(ze>ke||ze<Ve)&&x.call(this);pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rt,Le,null).clip().discardPath()),this.pdf.addImage(B,"JPEG",Te.x,Te.y,Te.w,Te.h,null,null,Ke),pt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(B,"JPEG",nt.x,nt.y,nt.w,nt.h,null,null,Ke)};var v=function(B,R,G){var ne=[];R=R||this.pdf.internal.pageSize.width,G=G||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var pe=this.posY+this.ctx.prevPageLastElemOffset;switch(B.type){default:case"mt":case"lt":ne.push(Math.floor((B.y+pe)/G)+1);break;case"arc":ne.push(Math.floor((B.y+pe-B.radius)/G)+1),ne.push(Math.floor((B.y+pe+B.radius)/G)+1);break;case"qct":var xe=he(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x,B.y);ne.push(Math.floor((xe.y+pe)/G)+1),ne.push(Math.floor((xe.y+xe.h+pe)/G)+1);break;case"bct":var Ae=de(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x2,B.y2,B.x,B.y);ne.push(Math.floor((Ae.y+pe)/G)+1),ne.push(Math.floor((Ae.y+Ae.h+pe)/G)+1);break;case"rect":ne.push(Math.floor((B.y+pe)/G)+1),ne.push(Math.floor((B.y+B.h+pe)/G)+1)}for(var Y=0;Y<ne.length;Y+=1)for(;this.pdf.internal.getNumberOfPages()<ne[Y];)b.call(this);return ne},b=function(){var B=this.fillStyle,R=this.strokeStyle,G=this.font,ne=this.lineCap,pe=this.lineWidth,xe=this.lineJoin;this.pdf.addPage(),this.fillStyle=B,this.strokeStyle=R,this.font=G,this.lineCap=ne,this.lineWidth=pe,this.lineJoin=xe},j=function(B,R,G){for(var ne=0;ne<B.length;ne++)switch(B[ne].type){case"bct":B[ne].x2+=R,B[ne].y2+=G;case"qct":B[ne].x1+=R,B[ne].y1+=G;case"mt":case"lt":case"arc":default:B[ne].x+=R,B[ne].y+=G}return B},C=function(B){return B.sort((function(R,G){return R-G}))},E=function(B,R){for(var G,ne,pe=this.fillStyle,xe=this.strokeStyle,Ae=this.lineCap,Y=this.lineWidth,se=Math.abs(Y*this.ctx.transform.scaleX),ee=this.lineJoin,be=JSON.parse(JSON.stringify(this.path)),Ce=JSON.parse(JSON.stringify(this.path)),ce=[],J=0;J<Ce.length;J++)if(Ce[J].x!==void 0)for(var ge=v.call(this,Ce[J]),Je=0;Je<ge.length;Je+=1)ce.indexOf(ge[Je])===-1&&ce.push(ge[Je]);for(var Ke=0;Ke<ce.length;Ke++)for(;this.pdf.internal.getNumberOfPages()<ce[Ke];)b.call(this);if(C(ce),this.autoPaging)for(var Fe=ce[0],nt=ce[ce.length-1],Se=Fe;Se<nt+1;Se++){this.pdf.setPage(Se),this.fillStyle=pe,this.strokeStyle=xe,this.lineCap=Ae,this.lineWidth=se,this.lineJoin=ee;var Me=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],at=Se===1?this.posY+this.margin[0]:this.margin[0],ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ve=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ze=Se===1?0:ke+(Se-2)*Ve;if(this.ctx.clip_path.length!==0){var rt=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(G,this.posX+this.margin[3],-ze+at+this.ctx.prevPageLastElemOffset),k.call(this,B,!0),this.path=rt}if(ne=JSON.parse(JSON.stringify(be)),this.path=j(ne,this.posX+this.margin[3],-ze+at+this.ctx.prevPageLastElemOffset),R===!1||Se===0){var Ge=(Se>Fe||Se<nt)&&x.call(this);Ge&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Me,Ve,null).clip().discardPath()),k.call(this,B,R),Ge&&this.pdf.restoreGraphicsState()}this.lineWidth=Y}else this.lineWidth=se,k.call(this,B,R),this.lineWidth=Y;this.path=be},k=function(B,R){if((B!=="stroke"||R||!y.call(this))&&(B==="stroke"||R||!h.call(this))){for(var G,ne,pe=[],xe=this.path,Ae=0;Ae<xe.length;Ae++){var Y=xe[Ae];switch(Y.type){case"begin":pe.push({begin:!0});break;case"close":pe.push({close:!0});break;case"mt":pe.push({start:Y,deltas:[],abs:[]});break;case"lt":var se=pe.length;if(xe[Ae-1]&&!isNaN(xe[Ae-1].x)&&(G=[Y.x-xe[Ae-1].x,Y.y-xe[Ae-1].y],se>0)){for(;se>=0;se--)if(pe[se-1].close!==!0&&pe[se-1].begin!==!0){pe[se-1].deltas.push(G),pe[se-1].abs.push(Y);break}}break;case"bct":G=[Y.x1-xe[Ae-1].x,Y.y1-xe[Ae-1].y,Y.x2-xe[Ae-1].x,Y.y2-xe[Ae-1].y,Y.x-xe[Ae-1].x,Y.y-xe[Ae-1].y],pe[pe.length-1].deltas.push(G);break;case"qct":var ee=xe[Ae-1].x+2/3*(Y.x1-xe[Ae-1].x),be=xe[Ae-1].y+2/3*(Y.y1-xe[Ae-1].y),Ce=Y.x+2/3*(Y.x1-Y.x),ce=Y.y+2/3*(Y.y1-Y.y),J=Y.x,ge=Y.y;G=[ee-xe[Ae-1].x,be-xe[Ae-1].y,Ce-xe[Ae-1].x,ce-xe[Ae-1].y,J-xe[Ae-1].x,ge-xe[Ae-1].y],pe[pe.length-1].deltas.push(G);break;case"arc":pe.push({deltas:[],abs:[],arc:!0}),Array.isArray(pe[pe.length-1].abs)&&pe[pe.length-1].abs.push(Y)}}ne=R?null:B==="stroke"?"stroke":"fill";for(var Je=!1,Ke=0;Ke<pe.length;Ke++)if(pe[Ke].arc)for(var Fe=pe[Ke].abs,nt=0;nt<Fe.length;nt++){var Se=Fe[nt];Se.type==="arc"?F.call(this,Se.x,Se.y,Se.radius,Se.startAngle,Se.endAngle,Se.counterclockwise,void 0,R,!Je):z.call(this,Se.x,Se.y),Je=!0}else if(pe[Ke].close===!0)this.pdf.internal.out("h"),Je=!1;else if(pe[Ke].begin!==!0){var Me=pe[Ke].start.x,at=pe[Ke].start.y;W.call(this,pe[Ke].deltas,Me,at),Je=!0}ne&&Q.call(this,ne),R&&U.call(this)}},D=function(B){var R=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,G=R*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return B-G;case"top":return B+R-G;case"hanging":return B+R-2*G;case"middle":return B+R/2-G;case"ideographic":return B;case"alphabetic":default:return B}},L=function(B){return B+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};A.prototype.createLinearGradient=function(){var B=function(){};return B.colorStops=[],B.addColorStop=function(R,G){this.colorStops.push([R,G])},B.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},B.isCanvasGradient=!0,B},A.prototype.createPattern=function(){return this.createLinearGradient()},A.prototype.createRadialGradient=function(){return this.createLinearGradient()};var F=function(B,R,G,ne,pe,xe,Ae,Y,se){for(var ee=X.call(this,G,ne,pe,xe),be=0;be<ee.length;be++){var Ce=ee[be];be===0&&(se?P.call(this,Ce.x1+B,Ce.y1+R):z.call(this,Ce.x1+B,Ce.y1+R)),ie.call(this,B,R,Ce.x2,Ce.y2,Ce.x3,Ce.y3,Ce.x4,Ce.y4)}Y?U.call(this):Q.call(this,Ae)},Q=function(B){switch(B){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},U=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(B,R){this.pdf.internal.out(r(B)+" "+a(R)+" m")},I=function(B){var R;switch(B.align){case"right":case"end":R="right";break;case"center":R="center";break;case"left":case"start":default:R="left"}var G=this.pdf.getTextDimensions(B.text),ne=D.call(this,B.y),pe=L.call(this,ne)-G.h,xe=this.ctx.transform.applyToPoint(new o(B.x,ne)),Ae=this.ctx.transform.decompose(),Y=new c;Y=(Y=(Y=Y.multiply(Ae.translate)).multiply(Ae.skew)).multiply(Ae.scale);for(var se,ee,be,Ce=this.ctx.transform.applyToRectangle(new l(B.x,ne,G.w,G.h)),ce=Y.applyToRectangle(new l(B.x,pe,G.w,G.h)),J=v.call(this,ce),ge=[],Je=0;Je<J.length;Je+=1)ge.indexOf(J[Je])===-1&&ge.push(J[Je]);if(C(ge),this.autoPaging)for(var Ke=ge[0],Fe=ge[ge.length-1],nt=Ke;nt<Fe+1;nt++){this.pdf.setPage(nt);var Se=nt===1?this.posY+this.margin[0]:this.margin[0],Me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],at=this.pdf.internal.pageSize.height-this.margin[2],ke=at-this.margin[0],Ve=this.pdf.internal.pageSize.width-this.margin[1],ze=Ve-this.margin[3],rt=nt===1?0:Me+(nt-2)*ke;if(this.ctx.clip_path.length!==0){var Ge=this.path;se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(se,this.posX+this.margin[3],-1*rt+Se),k.call(this,"fill",!0),this.path=Ge}var bt=j([JSON.parse(JSON.stringify(ce))],this.posX+this.margin[3],-rt+Se+this.ctx.prevPageLastElemOffset)[0];B.scale>=.01&&(ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ee*B.scale),be=this.lineWidth,this.lineWidth=be*B.scale);var Le=this.autoPaging!=="text";if(Le||bt.y+bt.h<=at){if(Le||bt.y>=Se&&bt.x<=Ve){var je=Le?B.text:this.pdf.splitTextToSize(B.text,B.maxWidth||Ve-bt.x)[0],Ze=j([JSON.parse(JSON.stringify(Ce))],this.posX+this.margin[3],-rt+Se+this.ctx.prevPageLastElemOffset)[0],Te=Le&&(nt>Ke||nt<Fe)&&x.call(this);Te&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ze,ke,null).clip().discardPath()),this.pdf.text(je,Ze.x,Ze.y,{angle:B.angle,align:R,renderingMode:B.renderingMode}),Te&&this.pdf.restoreGraphicsState()}}else bt.y<at&&(this.ctx.prevPageLastElemOffset+=at-bt.y);B.scale>=.01&&(this.pdf.setFontSize(ee),this.lineWidth=be)}else B.scale>=.01&&(ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ee*B.scale),be=this.lineWidth,this.lineWidth=be*B.scale),this.pdf.text(B.text,xe.x+this.posX,xe.y+this.posY,{angle:B.angle,align:R,renderingMode:B.renderingMode,maxWidth:B.maxWidth}),B.scale>=.01&&(this.pdf.setFontSize(ee),this.lineWidth=be)},z=function(B,R,G,ne){G=G||0,ne=ne||0,this.pdf.internal.out(r(B+G)+" "+a(R+ne)+" l")},W=function(B,R,G){return this.pdf.lines(B,R,G,null,null)},ie=function(B,R,G,ne,pe,xe,Ae,Y){this.pdf.internal.out([t(s(G+B)),t(i(ne+R)),t(s(pe+B)),t(i(xe+R)),t(s(Ae+B)),t(i(Y+R)),"c"].join(" "))},X=function(B,R,G,ne){for(var pe=2*Math.PI,xe=Math.PI/2;R>G;)R-=pe;var Ae=Math.abs(G-R);Ae<pe&&ne&&(Ae=pe-Ae);for(var Y=[],se=ne?-1:1,ee=R;Ae>1e-5;){var be=ee+se*Math.min(Ae,xe);Y.push(le.call(this,B,ee,be)),Ae-=Math.abs(be-ee),ee=be}return Y},le=function(B,R,G){var ne=(G-R)/2,pe=B*Math.cos(ne),xe=B*Math.sin(ne),Ae=pe,Y=-xe,se=Ae*Ae+Y*Y,ee=se+Ae*pe+Y*xe,be=4/3*(Math.sqrt(2*se*ee)-ee)/(Ae*xe-Y*pe),Ce=Ae-be*Y,ce=Y+be*Ae,J=Ce,ge=-ce,Je=ne+R,Ke=Math.cos(Je),Fe=Math.sin(Je);return{x1:B*Math.cos(R),y1:B*Math.sin(R),x2:Ce*Ke-ce*Fe,y2:Ce*Fe+ce*Ke,x3:J*Ke-ge*Fe,y3:J*Fe+ge*Ke,x4:B*Math.cos(G),y4:B*Math.sin(G)}},re=function(B){return 180*B/Math.PI},he=function(B,R,G,ne,pe,xe){var Ae=B+.5*(G-B),Y=R+.5*(ne-R),se=pe+.5*(G-pe),ee=xe+.5*(ne-xe),be=Math.min(B,pe,Ae,se),Ce=Math.max(B,pe,Ae,se),ce=Math.min(R,xe,Y,ee),J=Math.max(R,xe,Y,ee);return new l(be,ce,Ce-be,J-ce)},de=function(B,R,G,ne,pe,xe,Ae,Y){var se,ee,be,Ce,ce,J,ge,Je,Ke,Fe,nt,Se,Me,at,ke=G-B,Ve=ne-R,ze=pe-G,rt=xe-ne,Ge=Ae-pe,bt=Y-xe;for(ee=0;ee<41;ee++)Ke=(ge=(be=B+(se=ee/40)*ke)+se*((ce=G+se*ze)-be))+se*(ce+se*(pe+se*Ge-ce)-ge),Fe=(Je=(Ce=R+se*Ve)+se*((J=ne+se*rt)-Ce))+se*(J+se*(xe+se*bt-J)-Je),ee==0?(nt=Ke,Se=Fe,Me=Ke,at=Fe):(nt=Math.min(nt,Ke),Se=Math.min(Se,Fe),Me=Math.max(Me,Ke),at=Math.max(at,Fe));return new l(Math.round(nt),Math.round(Se),Math.round(Me-nt),Math.round(at-Se))},ve=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var B,R,G=(B=this.ctx.lineDash,R=this.ctx.lineDashOffset,JSON.stringify({lineDash:B,lineDashOffset:R}));this.prevLineDash!==G&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=G)}}})(Ca.API),(function(e){var t=function(i){var o,l,c,u,d,A,m,h,y,x;for(l=[],c=0,u=(i+=o="\0\0\0\0".slice(i.length%4||4)).length;u>c;c+=4)(d=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(A=(d=((d=((d=((d=(d-(x=d%85))/85)-(y=d%85))/85)-(h=d%85))/85)-(m=d%85))/85)%85,l.push(A+33,m+33,h+33,y+33,x+33)):l.push(122);return(function(v,b){for(var j=b;j>0;j--)v.pop()})(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(i){var o,l,c,u,d,A=String,m="length",h=255,y="charCodeAt",x="slice",v="replace";for(i[x](-2),i=i[x](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),c=[],u=0,d=(i+=o="uuuuu"[x](i[m]%5||5))[m];d>u;u+=5)l=52200625*(i[y](u)-33)+614125*(i[y](u+1)-33)+7225*(i[y](u+2)-33)+85*(i[y](u+3)-33)+(i[y](u+4)-33),c.push(h&l>>24,h&l>>16,h&l>>8,h&l);return(function(b,j){for(var C=j;C>0;C--)b.pop()})(c,o[m]),A.fromCharCode.apply(A,c)},a=function(i){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),o.test(i)===!1)return"";for(var l="",c=0;c<i.length;c+=2)l+=String.fromCharCode("0x"+(i[c]+i[c+1]));return l},s=function(i){for(var o=new Uint8Array(i.length),l=i.length;l--;)o[l]=i.charCodeAt(l);return i=(o=Bx(o)).reduce((function(c,u){return c+String.fromCharCode(u)}),"")};e.processDataByFilters=function(i,o){var l=0,c=i||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=a(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map((function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)})).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}})(Ca.API),(function(e){e.loadFile=function(t,r,a){return(function(s,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=(function(c,u,d){var A=new XMLHttpRequest,m=0,h=function(y){var x=y.length,v=[],b=String.fromCharCode;for(m=0;m<x;m+=1)v.push(b(255&y.charCodeAt(m)));return v.join("")};if(A.open("GET",c,!u),A.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(A.onload=function(){A.status===200?d(h(this.responseText)):d(void 0)}),A.send(null),u&&A.status===200)return h(A.responseText)})(s,i,o)}catch{}return l})(t,r,a)},e.loadImageFile=e.loadFile})(Ca.API),(function(e){function t(){return(Oa.html2canvas?Promise.resolve(Oa.html2canvas):mx(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch((function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))})).then((function(o){return o.default?o.default:o}))}function r(){return(Oa.DOMPurify?Promise.resolve(Oa.DOMPurify):mx(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch((function(o){return Promise.reject(new Error("Could not load dompurify: "+o))})).then((function(o){return o.default?o.default:o}))}var a=function(o){var l=va(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},s=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},i=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,o,1,[o])).set(l)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(o,l){return o.__proto__=l||i.prototype,o},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(o,l){return this.then((function(){switch(l=l||(function(c){switch(a(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o)){case"string":return this.then(r).then((function(c){return this.set({src:s("div",{innerHTML:o,dompurify:c})})}));case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}}))},i.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=(function c(u,d){for(var A=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),m=u.firstChild;m;m=m.nextSibling)d!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||A.appendChild(c(m,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(A.width=u.width,A.height=u.height,A.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(A.value=u.value),A.addEventListener("load",(function(){A.scrollTop=u.scrollTop,A.scrollLeft=u.scrollLeft}),!0)),A})(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},i.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then((function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)})).then((function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)}))},i.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then((function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,A=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete A.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var m=0;m<u.length;++m){var h=u[m],y=h.src.find((function(x){return x.format==="truetype"}));y&&c.addFont(y.url,h.ref.name,h.ref.style)}return A.windowHeight=A.windowHeight||0,A.windowHeight=A.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):A.windowHeight,c.context2d.save(!0),l(this.prop.container,A)})).then((function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)}))},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o}))},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},i.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},i.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(o,l)}))},i.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}}))},i.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},i.prototype.set=function(o){if(a(o)!=="object")return this;var l=Object.keys(o||{}).map((function(c){if(c in i.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}}),this);return this.then((function(){return this.thenList(l)}))},i.prototype.get=function(o,l){return this.then((function(){var c=o in i.template.prop?this.prop[o]:this.opt[o];return l?l(c):c}))},i.prototype.setMargin=function(o){return this.then((function(){switch(a(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o})).then(this.setPageSize)},i.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then((function(){(o=o||Ca.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o}))},i.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},i.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,(function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,(function(A){return c.updateProgress(null,u),A})).then(u,d).then((function(A){return c.updateProgress(1),A}))}))},i.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),d=c.call(u,o,l);return i.convert(d,this.__proto__)},i.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},i.prototype.thenList=function(o){var l=this;return o.forEach((function(c){l=l.thenCore(c)})),l},i.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return i.convert(l,this)},i.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},i.prototype.error=function(o){return this.then((function(){throw new Error(o)}))},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,Ca.getPageSize=function(o,l,c){if(va(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var d,A=(""+c).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var h,y=0,x=0;if(m.hasOwnProperty(A))y=m[A][1]/d,x=m[A][0]/d;else try{y=c[1],x=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",x>y&&(h=x,x=y,y=h);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",y>x&&(h=x,x=y,y=h)}return{width:x,height:y,unit:l,k:d,orientation:o}},e.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(c6):null;var c=new i(l);return l.worker?c:c.from(o).doCallback()}})(Ca.API),Ca.API.addJS=function(e){return yI=e,this.internal.events.subscribe("postPutResources",(function(){bb=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(bb+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),xI=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+yI+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){bb!==void 0&&xI!==void 0&&this.internal.out("/Names <</JavaScript "+bb+" 0 R>>")})),this},(function(e){var t;e.events.push(["postPutResources",function(){var r=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),i=0;i<s.length;i++){var o=s[i],l=a.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var A=r.internal.newObject();d.push(A);var m=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<d.length;i++)r.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(a,s,i){var o={title:s,options:i,children:[]};return a==null&&(a=this.root),a.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(a){a.id=r.internal.newObjectDeferred();for(var s=0;s<a.children.length;s++)this.genIds_r(a.children[s])},r.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},r.outline.renderItems=function(a){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<a.children.length;i++){var o=a.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(a)),i>0&&this.line("/Prev "+this.makeRef(a.children[i-1])),i<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var u=0;u<a.children.length;u++)this.renderItems(a.children[u])},r.outline.line=function(a){this.ctx.val+=a+`\r
`},r.outline.makeRef=function(a){return a.id+" 0 R"},r.outline.makeString=function(a){return"("+r.internal.pdfEscape(a)+")"},r.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(a,s){for(var i=0;i<s.children.length;i++)a.count++,this.count_r(a,s.children[i]);return a.count}}])})(Ca.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,a,s,i,o,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=(function(A){for(var m,h=256*A.charCodeAt(4)+A.charCodeAt(5),y=A.length,x={width:0,height:0,numcomponents:1},v=4;v<y;v+=2){if(v+=h,t.indexOf(A.charCodeAt(v+1))!==-1){m=256*A.charCodeAt(v+5)+A.charCodeAt(v+6),x={width:256*A.charCodeAt(v+7)+A.charCodeAt(v+8),height:m,numcomponents:A.charCodeAt(v+9)};break}h=256*A.charCodeAt(v+2)+A.charCodeAt(v+3)}return x})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:a,alias:s}}return d}})(Ca.API);var Lg,wb,vI,bI,wI,Dfe=(function(){var e,t,r;function a(i){var o,l,c,u,d,A,m,h,y,x,v,b,j,C;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},A=null;;){switch(o=this.readUInt32(),y=(function(){var E,k;for(k=[],E=0;E<4;++E)k.push(String.fromCharCode(this.data[this.pos++]));return k}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":A&&this.animation.frames.push(A),this.pos+=4,A={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),u=this.readUInt16()||100,A.delay=1e3*d/u,A.disposeOp=this.data[this.pos++],A.blendOp=this.data[this.pos++],A.data=[];break;case"IDAT":case"fdAT":for(y==="fdAT"&&(this.pos+=4,o-=4),i=A?.data||this.imgData,b=0;0<=o?b<o:b>o;0<=o?++b:--b)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((x=c-this.transparency.indexed.length)>0)for(j=0;0<=x?j<x:j>x;0<=x?++j:--j)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":m=(v=this.read(o)).indexOf(0),h=String.fromCharCode.apply(String,v.slice(0,m)),this.text[h]=String.fromCharCode.apply(String,v.slice(m+1));break;case"IEND":return A&&this.animation.frames.push(A),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(C=this.colorType)===4||C===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}a.prototype.read=function(i){var o,l;for(l=[],o=0;0<=i?o<i:o>i;0<=i?++o:--o)l.push(this.data[this.pos++]);return l},a.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},a.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},a.prototype.decodePixels=function(i){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),c=0,u=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function d(A,m,h,y){var x,v,b,j,C,E,k,D,L,F,Q,U,P,I,z,W,ie,X,le,re,he,de=Math.ceil((u.width-A)/h),ve=Math.ceil((u.height-m)/y),B=u.width==de&&u.height==ve;for(I=o*de,U=B?l:new Uint8Array(I*ve),E=i.length,P=0,v=0;P<ve&&c<E;){switch(i[c++]){case 0:for(j=ie=0;ie<I;j=ie+=1)U[v++]=i[c++];break;case 1:for(j=X=0;X<I;j=X+=1)x=i[c++],C=j<o?0:U[v-o],U[v++]=(x+C)%256;break;case 2:for(j=le=0;le<I;j=le+=1)x=i[c++],b=(j-j%o)/o,z=P&&U[(P-1)*I+b*o+j%o],U[v++]=(z+x)%256;break;case 3:for(j=re=0;re<I;j=re+=1)x=i[c++],b=(j-j%o)/o,C=j<o?0:U[v-o],z=P&&U[(P-1)*I+b*o+j%o],U[v++]=(x+Math.floor((C+z)/2))%256;break;case 4:for(j=he=0;he<I;j=he+=1)x=i[c++],b=(j-j%o)/o,C=j<o?0:U[v-o],P===0?z=W=0:(z=U[(P-1)*I+b*o+j%o],W=b&&U[(P-1)*I+(b-1)*o+j%o]),k=C+z-W,D=Math.abs(k-C),F=Math.abs(k-z),Q=Math.abs(k-W),L=D<=F&&D<=Q?C:F<=Q?z:W,U[v++]=(x+L)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!B){var R=((m+P*y)*u.width+A)*o,G=P*I;for(j=0;j<de;j+=1){for(var ne=0;ne<o;ne+=1)l[R++]=U[G++];R+=(h-1)*o}}P++}}return i=mfe(i),u.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),l},a.prototype.decodePalette=function(){var i,o,l,c,u,d,A,m,h;for(l=this.palette,d=this.transparency.indexed||[],u=new Uint8Array((d.length||0)+l.length),c=0,i=0,o=A=0,m=l.length;A<m;o=A+=3)u[c++]=l[o],u[c++]=l[o+1],u[c++]=l[o+2],u[c++]=(h=d[i++])!=null?h:255;return u},a.prototype.copyToImageData=function(i,o){var l,c,u,d,A,m,h,y,x,v,b;if(c=this.colors,x=null,l=this.hasAlphaChannel,this.palette.length&&(x=(b=this._decodedPalette)!=null?b:this._decodedPalette=this.decodePalette(),c=4,l=!0),y=(u=i.data||i).length,A=x||o,d=m=0,c===1)for(;d<y;)h=x?4*o[d/4]:m,v=A[h++],u[d++]=v,u[d++]=v,u[d++]=v,u[d++]=l?A[h++]:255,m=h;else for(;d<y;)h=x?4*o[d/4]:m,u[d++]=A[h++],u[d++]=A[h++],u[d++]=A[h++],u[d++]=l?A[h++]:255,m=h},a.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var s=function(){if(Object.prototype.toString.call(Oa)==="[object Window]"){try{t=Oa.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return s(),e=function(i){var o;if(s()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},a.prototype.decodeFrames=function(i){var o,l,c,u,d,A,m,h;if(this.animation){for(h=[],l=d=0,A=(m=this.animation.frames).length;d<A;l=++d)o=m[l],c=i.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,u),o.imageData=c,h.push(o.image=e(c));return h}},a.prototype.renderFrame=function(i,o){var l,c,u;return l=(c=this.animation.frames)[o],u=c[o-1],o===0&&i.clearRect(0,0,this.width,this.height),u?.disposeOp===1?i.clearRect(u.xOffset,u.yOffset,u.width,u.height):u?.disposeOp===2&&i.putImageData(u.imageData,u.xOffset,u.yOffset),l.blendOp===0&&i.clearRect(l.xOffset,l.yOffset,l.width,l.height),i.drawImage(l.image,l.xOffset,l.yOffset)},a.prototype.animate=function(i){var o,l,c,u,d,A,m=this;return l=0,A=this.animation,u=A.numFrames,c=A.frames,d=A.numPlays,(o=function(){var h,y;if(h=l++%u,y=c[h],m.renderFrame(i,h),u>1&&l/u<d)return m.animation._timeout=setTimeout(o,y.delay)})()},a.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},a.prototype.render=function(i){var o,l;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,o=i.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},a})();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Mfe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,a=e[t++]|e[t++]<<8,s=e[t++],i=s>>7,o=1<<(7&s)+1;e[t++],e[t++];var l=null,c=null;i&&(l=t,c=o,t+=3*o);var u=!0,d=[],A=0,m=null,h=0,y=null;for(this.width=r,this.height=a;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,y=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((P=e[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var x=e[t++];A=e[t++]|e[t++]<<8,m=e[t++],(1&x)==0&&(m=null),h=x>>2&7,t++;break;case 254:for(;;){if(!((P=e[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var v=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,j=e[t++]|e[t++]<<8,C=e[t++]|e[t++]<<8,E=e[t++],k=E>>6&1,D=1<<(7&E)+1,L=l,F=c,Q=!1;E>>7&&(Q=!0,L=t,F=D,t+=3*D);var U=t;for(t++;;){var P;if(!((P=e[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}d.push({x:v,y:b,width:j,height:C,has_local_palette:Q,palette_offset:L,palette_size:F,data_offset:U,data_length:t-U,transparent_index:m,interlaced:!!k,delay:A,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return y},this.frameInfo=function(I){if(I<0||I>=d.length)throw new Error("Frame index out of range.");return d[I]},this.decodeAndBlitFrameBGRA=function(I,z){var W=this.frameInfo(I),ie=W.width*W.height,X=new Uint8Array(ie);NI(e,W.data_offset,X,ie);var le=W.palette_offset,re=W.transparent_index;re===null&&(re=256);var he=W.width,de=r-he,ve=he,B=4*(W.y*r+W.x),R=4*((W.y+W.height)*r+W.x),G=B,ne=4*de;W.interlaced===!0&&(ne+=4*r*7);for(var pe=8,xe=0,Ae=X.length;xe<Ae;++xe){var Y=X[xe];if(ve===0&&(ve=he,(G+=ne)>=R&&(ne=4*de+4*r*(pe-1),G=B+(he+de)*(pe<<1),pe>>=1)),Y===re)G+=4;else{var se=e[le+3*Y],ee=e[le+3*Y+1],be=e[le+3*Y+2];z[G++]=be,z[G++]=ee,z[G++]=se,z[G++]=255}--ve}},this.decodeAndBlitFrameRGBA=function(I,z){var W=this.frameInfo(I),ie=W.width*W.height,X=new Uint8Array(ie);NI(e,W.data_offset,X,ie);var le=W.palette_offset,re=W.transparent_index;re===null&&(re=256);var he=W.width,de=r-he,ve=he,B=4*(W.y*r+W.x),R=4*((W.y+W.height)*r+W.x),G=B,ne=4*de;W.interlaced===!0&&(ne+=4*r*7);for(var pe=8,xe=0,Ae=X.length;xe<Ae;++xe){var Y=X[xe];if(ve===0&&(ve=he,(G+=ne)>=R&&(ne=4*de+4*r*(pe-1),G=B+(he+de)*(pe<<1),pe>>=1)),Y===re)G+=4;else{var se=e[le+3*Y],ee=e[le+3*Y+1],be=e[le+3*Y+2];z[G++]=se,z[G++]=ee,z[G++]=be,z[G++]=255}--ve}}}function NI(e,t,r,a){for(var s=e[t++],i=1<<s,o=i+1,l=o+1,c=s+1,u=(1<<c)-1,d=0,A=0,m=0,h=e[t++],y=new Int32Array(4096),x=null;;){for(;d<16&&h!==0;)A|=e[t++]<<d,d+=8,h===1?h=e[t++]:--h;if(d<c)break;var v=A&u;if(A>>=c,d-=c,v!==i){if(v===o)break;for(var b=v<l?v:x,j=0,C=b;C>i;)C=y[C]>>8,++j;var E=C;if(m+j+(b!==v?1:0)>a)return void ei.log("Warning, gif stream longer than expected.");r[m++]=E;var k=m+=j;for(b!==v&&(r[m++]=E),C=b;j--;)C=y[C],r[--k]=255&C,C>>=8;x!==null&&l<4096&&(y[l++]=x<<8|E,l>=u+1&&c<12&&(++c,u=u<<1|1)),x=v}else l=o+1,u=(1<<(c=s+1))-1,x=null}return m!==a&&ei.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Ij(e){var t,r,a,s,i,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),A=new Array(65535),m=new Array(65535),h=new Array(64),y=new Array(64),x=[],v=0,b=7,j=new Array(64),C=new Array(64),E=new Array(64),k=new Array(256),D=new Array(2048),L=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],F=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Q=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ie=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function X(B,R){for(var G=0,ne=0,pe=new Array,xe=1;xe<=16;xe++){for(var Ae=1;Ae<=B[xe];Ae++)pe[R[ne]]=[],pe[R[ne]][0]=G,pe[R[ne]][1]=xe,ne++,G++;G*=2}return pe}function le(B){for(var R=B[0],G=B[1]-1;G>=0;)R&1<<G&&(v|=1<<b),G--,--b<0&&(v==255?(re(255),re(0)):re(v),b=7,v=0)}function re(B){x.push(B)}function he(B){re(B>>8&255),re(255&B)}function de(B,R,G,ne,pe){for(var xe,Ae=pe[0],Y=pe[240],se=(function(Fe,nt){var Se,Me,at,ke,Ve,ze,rt,Ge,bt,Le,je=0;for(bt=0;bt<8;++bt){Se=Fe[je],Me=Fe[je+1],at=Fe[je+2],ke=Fe[je+3],Ve=Fe[je+4],ze=Fe[je+5],rt=Fe[je+6];var Ze=Se+(Ge=Fe[je+7]),Te=Se-Ge,pt=Me+rt,At=Me-rt,qe=at+ze,Pe=at-ze,mt=ke+Ve,Qe=ke-Ve,st=Ze+mt,tt=Ze-mt,Ft=pt+qe,_t=pt-qe;Fe[je]=st+Ft,Fe[je+4]=st-Ft;var Dt=.707106781*(_t+tt);Fe[je+2]=tt+Dt,Fe[je+6]=tt-Dt;var Wt=.382683433*((st=Qe+Pe)-(_t=At+Te)),cr=.5411961*st+Wt,Dr=1.306562965*_t+Wt,Ea=.707106781*(Ft=Pe+At),Fr=Te+Ea,jr=Te-Ea;Fe[je+5]=jr+cr,Fe[je+3]=jr-cr,Fe[je+1]=Fr+Dr,Fe[je+7]=Fr-Dr,je+=8}for(je=0,bt=0;bt<8;++bt){Se=Fe[je],Me=Fe[je+8],at=Fe[je+16],ke=Fe[je+24],Ve=Fe[je+32],ze=Fe[je+40],rt=Fe[je+48];var Sr=Se+(Ge=Fe[je+56]),ca=Se-Ge,oa=Me+rt,wt=Me-rt,Xt=at+ze,Oe=at-ze,ut=ke+Ve,ot=ke-Ve,dt=Sr+ut,Ie=Sr-ut,Ne=oa+Xt,ct=oa-Xt;Fe[je]=dt+Ne,Fe[je+32]=dt-Ne;var Ye=.707106781*(ct+Ie);Fe[je+16]=Ie+Ye,Fe[je+48]=Ie-Ye;var Ee=.382683433*((dt=ot+Oe)-(ct=wt+ca)),it=.5411961*dt+Ee,vt=1.306562965*ct+Ee,It=.707106781*(Ne=Oe+wt),Mt=ca+It,fr=ca-It;Fe[je+40]=fr+it,Fe[je+24]=fr-it,Fe[je+8]=Mt+vt,Fe[je+56]=Mt-vt,je++}for(bt=0;bt<64;++bt)Le=Fe[bt]*nt[bt],h[bt]=Le>0?Le+.5|0:Le-.5|0;return h})(B,R),ee=0;ee<64;++ee)y[L[ee]]=se[ee];var be=y[0]-G;G=y[0],be==0?le(ne[0]):(le(ne[m[xe=32767+be]]),le(A[xe]));for(var Ce=63;Ce>0&&y[Ce]==0;)Ce--;if(Ce==0)return le(Ae),G;for(var ce,J=1;J<=Ce;){for(var ge=J;y[J]==0&&J<=Ce;)++J;var Je=J-ge;if(Je>=16){ce=Je>>4;for(var Ke=1;Ke<=ce;++Ke)le(Y);Je&=15}xe=32767+y[J],le(pe[(Je<<4)+m[xe]]),le(A[xe]),J++}return Ce!=63&&le(Ae),G}function ve(B){B=Math.min(Math.max(B,1),100),i!=B&&((function(R){for(var G=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var pe=o((G[ne]*R+50)/100);pe=Math.min(Math.max(pe,1),255),l[L[ne]]=pe}for(var xe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ae=0;Ae<64;Ae++){var Y=o((xe[Ae]*R+50)/100);Y=Math.min(Math.max(Y,1),255),c[L[Ae]]=Y}for(var se=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ee=0,be=0;be<8;be++)for(var Ce=0;Ce<8;Ce++)u[ee]=1/(l[L[ee]]*se[be]*se[Ce]*8),d[ee]=1/(c[L[ee]]*se[be]*se[Ce]*8),ee++})(B<50?Math.floor(5e3/B):Math.floor(200-2*B)),i=B)}this.encode=function(B,R){R&&ve(R),x=new Array,v=0,b=7,he(65496),he(65504),he(16),re(74),re(70),re(73),re(70),re(0),re(1),re(1),re(0),he(1),he(1),re(0),re(0),(function(){he(65499),he(132),re(0);for(var Me=0;Me<64;Me++)re(l[Me]);re(1);for(var at=0;at<64;at++)re(c[at])})(),(function(Me,at){he(65472),he(17),re(8),he(at),he(Me),re(3),re(1),re(17),re(0),re(2),re(17),re(1),re(3),re(17),re(1)})(B.width,B.height),(function(){he(65476),he(418),re(0);for(var Me=0;Me<16;Me++)re(F[Me+1]);for(var at=0;at<=11;at++)re(Q[at]);re(16);for(var ke=0;ke<16;ke++)re(U[ke+1]);for(var Ve=0;Ve<=161;Ve++)re(P[Ve]);re(1);for(var ze=0;ze<16;ze++)re(I[ze+1]);for(var rt=0;rt<=11;rt++)re(z[rt]);re(17);for(var Ge=0;Ge<16;Ge++)re(W[Ge+1]);for(var bt=0;bt<=161;bt++)re(ie[bt])})(),he(65498),he(12),re(3),re(1),re(0),re(2),re(17),re(3),re(17),re(0),re(63),re(0);var G=0,ne=0,pe=0;v=0,b=7,this.encode.displayName="_encode_";for(var xe,Ae,Y,se,ee,be,Ce,ce,J,ge=B.data,Je=B.width,Ke=B.height,Fe=4*Je,nt=0;nt<Ke;){for(xe=0;xe<Fe;){for(ee=Fe*nt+xe,Ce=-1,ce=0,J=0;J<64;J++)be=ee+(ce=J>>3)*Fe+(Ce=4*(7&J)),nt+ce>=Ke&&(be-=Fe*(nt+1+ce-Ke)),xe+Ce>=Fe&&(be-=xe+Ce-Fe+4),Ae=ge[be++],Y=ge[be++],se=ge[be++],j[J]=(D[Ae]+D[Y+256>>0]+D[se+512>>0]>>16)-128,C[J]=(D[Ae+768>>0]+D[Y+1024>>0]+D[se+1280>>0]>>16)-128,E[J]=(D[Ae+1280>>0]+D[Y+1536>>0]+D[se+1792>>0]>>16)-128;G=de(j,u,G,t,a),ne=de(C,d,ne,r,s),pe=de(E,d,pe,r,s),xe+=32}nt+=8}if(b>=0){var Se=[];Se[1]=b+1,Se[0]=(1<<b+1)-1,le(Se)}return he(65497),new Uint8Array(x)},e=e||50,(function(){for(var B=String.fromCharCode,R=0;R<256;R++)k[R]=B(R)})(),t=X(F,Q),r=X(I,z),a=X(U,P),s=X(W,ie),(function(){for(var B=1,R=2,G=1;G<=15;G++){for(var ne=B;ne<R;ne++)m[32767+ne]=G,A[32767+ne]=[],A[32767+ne][1]=G,A[32767+ne][0]=ne;for(var pe=-(R-1);pe<=-B;pe++)m[32767+pe]=G,A[32767+pe]=[],A[32767+pe][1]=G,A[32767+pe][0]=R-1+pe;B<<=1,R<<=1}})(),(function(){for(var B=0;B<256;B++)D[B]=19595*B,D[B+256>>0]=38470*B,D[B+512>>0]=7471*B+32768,D[B+768>>0]=-11059*B,D[B+1024>>0]=-21709*B,D[B+1280>>0]=32768*B+8421375,D[B+1536>>0]=-27439*B,D[B+1792>>0]=-5329*B})(),ve(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Vf(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function jI(e){function t(F){if(!F)throw Error("assert :P")}function r(F,Q,U){for(var P=0;4>P;P++)if(F[Q+P]!=U.charCodeAt(P))return!0;return!1}function a(F,Q,U,P,I){for(var z=0;z<I;z++)F[Q+z]=U[P+z]}function s(F,Q,U,P){for(var I=0;I<P;I++)F[Q+I]=U}function i(F){return new Int32Array(F)}function o(F,Q){for(var U=[],P=0;P<F;P++)U.push(new Q);return U}function l(F,Q){var U=[];return(function P(I,z,W){for(var ie=W[z],X=0;X<ie&&(I.push(W.length>z+1?[]:new Q),!(W.length<z+1));X++)P(I[X],z+1,W)})(U,0,F),U}var c=function(){var F=this;function Q(g,N){for(var _=1<<N-1>>>0;g&_;)_>>>=1;return _?(g&_-1)+_:g}function U(g,N,_,H,Z){t(!(H%_));do g[N+(H-=_)]=Z;while(0<H)}function P(g,N,_,H,Z){if(t(2328>=Z),512>=Z)var oe=i(512);else if((oe=i(Z))==null)return 0;return(function(fe,me,we,Be,$e,ft){var Ue,Xe,gt=me,St=1<<we,et=i(16),ht=i(16);for(t($e!=0),t(Be!=null),t(fe!=null),t(0<we),Xe=0;Xe<$e;++Xe){if(15<Be[Xe])return 0;++et[Be[Xe]]}if(et[0]==$e)return 0;for(ht[1]=0,Ue=1;15>Ue;++Ue){if(et[Ue]>1<<Ue)return 0;ht[Ue+1]=ht[Ue]+et[Ue]}for(Xe=0;Xe<$e;++Xe)Ue=Be[Xe],0<Be[Xe]&&(ft[ht[Ue]++]=Xe);if(ht[15]==1)return(Be=new I).g=0,Be.value=ft[0],U(fe,gt,1,St,Be),St;var Ct,Pt=-1,Tt=St-1,nr=0,Jt=1,wr=1,rr=1<<we;for(Xe=0,Ue=1,$e=2;Ue<=we;++Ue,$e<<=1){if(Jt+=wr<<=1,0>(wr-=et[Ue]))return 0;for(;0<et[Ue];--et[Ue])(Be=new I).g=Ue,Be.value=ft[Xe++],U(fe,gt+nr,$e,rr,Be),nr=Q(nr,Ue)}for(Ue=we+1,$e=2;15>=Ue;++Ue,$e<<=1){if(Jt+=wr<<=1,0>(wr-=et[Ue]))return 0;for(;0<et[Ue];--et[Ue]){if(Be=new I,(nr&Tt)!=Pt){for(gt+=rr,Ct=1<<(Pt=Ue)-we;15>Pt&&!(0>=(Ct-=et[Pt]));)++Pt,Ct<<=1;St+=rr=1<<(Ct=Pt-we),fe[me+(Pt=nr&Tt)].g=Ct+we,fe[me+Pt].value=gt-me-Pt}Be.g=Ue-we,Be.value=ft[Xe++],U(fe,gt+(nr>>we),$e,rr,Be),nr=Q(nr,Ue)}}return Jt!=2*ht[15]-1?0:St})(g,N,_,H,Z,oe)}function I(){this.value=this.g=0}function z(){this.value=this.g=0}function W(){this.G=o(5,I),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(kn,z)}function ie(g,N,_,H){t(g!=null),t(N!=null),t(2147483648>H),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=N,g.pa=_,g.Jd=N,g.Yc=_+H,g.Zc=4<=H?_+H-4+1:_,xe(g)}function X(g,N){for(var _=0;0<N--;)_|=Y(g,128)<<N;return _}function le(g,N){var _=X(g,N);return Ae(g)?-_:_}function re(g,N,_,H){var Z,oe=0;for(t(g!=null),t(N!=null),t(4294967288>H),g.Sb=H,g.Ra=0,g.u=0,g.h=0,4<H&&(H=4),Z=0;Z<H;++Z)oe+=N[_+Z]<<8*Z;g.Ra=oe,g.bb=H,g.oa=N,g.pa=_}function he(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<wo-8>>>0,++g.bb,g.u-=8;G(g)&&(g.h=1,g.u=0)}function de(g,N){if(t(0<=N),!g.h&&N<=ni){var _=R(g)&Ta[N];return g.u+=N,he(g),_}return g.h=1,g.u=0}function ve(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function B(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function R(g){return g.Ra>>>(g.u&wo-1)>>>0}function G(g){return t(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>wo}function ne(g,N){g.u=N,g.h=G(g)}function pe(g){g.u>=No&&(t(g.u>=No),he(g))}function xe(g){t(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(t(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function Ae(g){return X(g,1)}function Y(g,N){var _=g.Ca;0>g.b&&xe(g);var H=g.b,Z=_*N>>>8,oe=(g.I>>>H>Z)+0;for(oe?(_-=Z,g.I-=Z+1<<H>>>0):_=Z+1,H=_,Z=0;256<=H;)Z+=8,H>>=8;return H=7^Z+Ds[H],g.b-=H,g.Ca=(_<<H)-1,oe}function se(g,N,_){g[N+0]=_>>24&255,g[N+1]=_>>16&255,g[N+2]=_>>8&255,g[N+3]=_>>0&255}function ee(g,N){return g[N+0]<<0|g[N+1]<<8}function be(g,N){return ee(g,N)|g[N+2]<<16}function Ce(g,N){return ee(g,N)|ee(g,N+2)<<16}function ce(g,N){var _=1<<N;return t(g!=null),t(0<N),g.X=i(_),g.X==null?0:(g.Mb=32-N,g.Xa=N,1)}function J(g,N){t(g!=null),t(N!=null),t(g.Xa==N.Xa),a(N.X,0,g.X,0,1<<N.Xa)}function ge(){this.X=[],this.Xa=this.Mb=0}function Je(g,N,_,H){t(_!=null),t(H!=null);var Z=_[0],oe=H[0];return Z==0&&(Z=(g*oe+N/2)/N),oe==0&&(oe=(N*Z+g/2)/g),0>=Z||0>=oe?0:(_[0]=Z,H[0]=oe,1)}function Ke(g,N){return g+(1<<N)-1>>>N}function Fe(g,N){return((4278255360&g)+(4278255360&N)>>>0&4278255360)+((16711935&g)+(16711935&N)>>>0&16711935)>>>0}function nt(g,N){F[N]=function(_,H,Z,oe,fe,me,we){var Be;for(Be=0;Be<fe;++Be){var $e=F[g](me[we+Be-1],Z,oe+Be);me[we+Be]=Fe(_[H+Be],$e)}}}function Se(){this.ud=this.hd=this.jd=0}function Me(g,N){return((4278124286&(g^N))>>>1)+(g&N)>>>0}function at(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function ke(g,N){return at(g+(g-N+.5>>1))}function Ve(g,N,_){return Math.abs(N-_)-Math.abs(g-_)}function ze(g,N,_,H,Z,oe,fe){for(H=oe[fe-1],_=0;_<Z;++_)oe[fe+_]=H=Fe(g[N+_],H)}function rt(g,N,_,H,Z){var oe;for(oe=0;oe<_;++oe){var fe=g[N+oe],me=fe>>8&255,we=16711935&(we=(we=16711935&fe)+((me<<16)+me));H[Z+oe]=(4278255360&fe)+we>>>0}}function Ge(g,N){N.jd=g>>0&255,N.hd=g>>8&255,N.ud=g>>16&255}function bt(g,N,_,H,Z,oe){var fe;for(fe=0;fe<H;++fe){var me=N[_+fe],we=me>>>8,Be=me,$e=255&($e=($e=me>>>16)+((g.jd<<24>>24)*(we<<24>>24)>>>5));Be=255&(Be=(Be=Be+((g.hd<<24>>24)*(we<<24>>24)>>>5))+((g.ud<<24>>24)*($e<<24>>24)>>>5)),Z[oe+fe]=(4278255360&me)+($e<<16)+Be}}function Le(g,N,_,H,Z){F[N]=function(oe,fe,me,we,Be,$e,ft,Ue,Xe){for(we=ft;we<Ue;++we)for(ft=0;ft<Xe;++ft)Be[$e++]=Z(me[H(oe[fe++])])},F[g]=function(oe,fe,me,we,Be,$e,ft){var Ue=8>>oe.b,Xe=oe.Ea,gt=oe.K[0],St=oe.w;if(8>Ue)for(oe=(1<<oe.b)-1,St=(1<<Ue)-1;fe<me;++fe){var et,ht=0;for(et=0;et<Xe;++et)et&oe||(ht=H(we[Be++])),$e[ft++]=Z(gt[ht&St]),ht>>=Ue}else F["VP8LMapColor"+_](we,Be,gt,St,$e,ft,fe,me,Xe)}}function je(g,N,_,H,Z){for(_=N+_;N<_;){var oe=g[N++];H[Z++]=oe>>16&255,H[Z++]=oe>>8&255,H[Z++]=oe>>0&255}}function Ze(g,N,_,H,Z){for(_=N+_;N<_;){var oe=g[N++];H[Z++]=oe>>16&255,H[Z++]=oe>>8&255,H[Z++]=oe>>0&255,H[Z++]=oe>>24&255}}function Te(g,N,_,H,Z){for(_=N+_;N<_;){var oe=(fe=g[N++])>>16&240|fe>>12&15,fe=fe>>0&240|fe>>28&15;H[Z++]=oe,H[Z++]=fe}}function pt(g,N,_,H,Z){for(_=N+_;N<_;){var oe=(fe=g[N++])>>16&248|fe>>13&7,fe=fe>>5&224|fe>>3&31;H[Z++]=oe,H[Z++]=fe}}function At(g,N,_,H,Z){for(_=N+_;N<_;){var oe=g[N++];H[Z++]=oe>>0&255,H[Z++]=oe>>8&255,H[Z++]=oe>>16&255}}function qe(g,N,_,H,Z,oe){if(oe==0)for(_=N+_;N<_;)se(H,((oe=g[N++])[0]>>24|oe[1]>>8&65280|oe[2]<<8&16711680|oe[3]<<24)>>>0),Z+=32;else a(H,Z,g,N,_)}function Pe(g,N){F[N][0]=F[g+"0"],F[N][1]=F[g+"1"],F[N][2]=F[g+"2"],F[N][3]=F[g+"3"],F[N][4]=F[g+"4"],F[N][5]=F[g+"5"],F[N][6]=F[g+"6"],F[N][7]=F[g+"7"],F[N][8]=F[g+"8"],F[N][9]=F[g+"9"],F[N][10]=F[g+"10"],F[N][11]=F[g+"11"],F[N][12]=F[g+"12"],F[N][13]=F[g+"13"],F[N][14]=F[g+"0"],F[N][15]=F[g+"0"]}function mt(g){return g==lu||g==Bc||g==Cl||g==rc}function Qe(){this.eb=[],this.size=this.A=this.fb=0}function st(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function tt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Qe,this.f.kb=new st,this.sd=null}function Ft(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function _t(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Dt(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function Wt(g,N){var _=g.T,H=N.ba.f.RGBA,Z=H.eb,oe=H.fb+g.ka*H.A,fe=In[N.ba.S],me=g.y,we=g.O,Be=g.f,$e=g.N,ft=g.ea,Ue=g.W,Xe=N.cc,gt=N.dc,St=N.Mc,et=N.Nc,ht=g.ka,Ct=g.ka+g.T,Pt=g.U,Tt=Pt+1>>1;for(ht==0?fe(me,we,null,null,Be,$e,ft,Ue,Be,$e,ft,Ue,Z,oe,null,null,Pt):(fe(N.ec,N.fc,me,we,Xe,gt,St,et,Be,$e,ft,Ue,Z,oe-H.A,Z,oe,Pt),++_);ht+2<Ct;ht+=2)Xe=Be,gt=$e,St=ft,et=Ue,$e+=g.Rc,Ue+=g.Rc,oe+=2*H.A,fe(me,(we+=2*g.fa)-g.fa,me,we,Xe,gt,St,et,Be,$e,ft,Ue,Z,oe-H.A,Z,oe,Pt);return we+=g.fa,g.j+Ct<g.o?(a(N.ec,N.fc,me,we,Pt),a(N.cc,N.dc,Be,$e,Tt),a(N.Mc,N.Nc,ft,Ue,Tt),_--):1&Ct||fe(me,we,null,null,Be,$e,ft,Ue,Be,$e,ft,Ue,Z,oe+H.A,null,null,Pt),_}function cr(g,N,_){var H=g.F,Z=[g.J];if(H!=null){var oe=g.U,fe=N.ba.S,me=fe==Ec||fe==Cl;N=N.ba.f.RGBA;var we=[0],Be=g.ka;we[0]=g.T,g.Kb&&(Be==0?--we[0]:(--Be,Z[0]-=g.width),g.j+g.ka+g.T==g.o&&(we[0]=g.o-g.j-Be));var $e=N.eb;Be=N.fb+Be*N.A,g=Ga(H,Z[0],g.width,oe,we,$e,Be+(me?0:3),N.A),t(_==we),g&&mt(fe)&&ki($e,Be,me,oe,we,N.A)}return 0}function Dr(g){var N=g.ma,_=N.ba.S,H=11>_,Z=_==id||_==Id||_==Ec||_==qo||_==12||mt(_);if(N.memory=null,N.Ib=null,N.Jb=null,N.Nd=null,!Mn(N.Oa,g,Z?11:12))return 0;if(Z&&mt(_)&&yr(),g.da)alert("todo:use_scaling");else{if(H){if(N.Ib=Dt,g.Kb){if(_=g.U+1>>1,N.memory=i(g.U+2*_),N.memory==null)return 0;N.ec=N.memory,N.fc=0,N.cc=N.ec,N.dc=N.fc+g.U,N.Mc=N.cc,N.Nc=N.dc+_,N.Ib=Wt,yr()}}else alert("todo:EmitYUV");Z&&(N.Jb=cr,H&&Rt())}if(H&&!oA){for(g=0;256>g;++g)M0[g]=89858*(g-128)+Us>>Al,yf[g]=-22014*(g-128)+Us,lA[g]=-45773*(g-128),vi[g]=113618*(g-128)+Us>>Al;for(g=So;g<Uu;++g)N=76283*(g-16)+Us>>Al,vf[g-So]=Va(N,255),cA[g-So]=Va(N+8>>4,15);oA=1}return 1}function Ea(g){var N=g.ma,_=g.U,H=g.T;return t(!(1&g.ka)),0>=_||0>=H?0:(_=N.Ib(g,N),N.Jb!=null&&N.Jb(g,N,_),N.Dc+=_,1)}function Fr(g){g.ma.memory=null}function jr(g,N,_,H){return de(g,8)!=47?0:(N[0]=de(g,14)+1,_[0]=de(g,14)+1,H[0]=de(g,1),de(g,3)!=0?0:!g.h)}function Sr(g,N){if(4>g)return g+1;var _=g-2>>1;return(2+(1&g)<<_)+de(N,_)+1}function ca(g,N){return 120<N?N-120:1<=(_=((_=od[N-1])>>4)*g+(8-(15&_)))?_:1;var _}function oa(g,N,_){var H=R(_),Z=g[N+=255&H].g-8;return 0<Z&&(ne(_,_.u+8),H=R(_),N+=g[N].value,N+=H&(1<<Z)-1),ne(_,_.u+g[N].g),g[N].value}function wt(g,N,_){return _.g+=g.g,_.value+=g.value<<N>>>0,t(8>=_.g),g.g}function Xt(g,N,_){var H=g.xc;return t((N=H==0?0:g.vc[g.md*(_>>H)+(N>>H)])<g.Wb),g.Ya[N]}function Oe(g,N,_,H){var Z=g.ab,oe=g.c*N,fe=g.C;N=fe+N;var me=_,we=H;for(H=g.Ta,_=g.Ua;0<Z--;){var Be=g.gc[Z],$e=fe,ft=N,Ue=me,Xe=we,gt=(we=H,me=_,Be.Ea);switch(t($e<ft),t(ft<=Be.nc),Be.hc){case 2:rs(Ue,Xe,(ft-$e)*gt,we,me);break;case 0:var St=$e,et=ft,ht=we,Ct=me,Pt=(rr=Be).Ea;St==0&&(Nc(Ue,Xe,null,null,1,ht,Ct),ze(Ue,Xe+1,0,0,Pt-1,ht,Ct+1),Xe+=Pt,Ct+=Pt,++St);for(var Tt=1<<rr.b,nr=Tt-1,Jt=Ke(Pt,rr.b),wr=rr.K,rr=rr.w+(St>>rr.b)*Jt;St<et;){var $r=wr,ja=rr,kr=1;for(Zl(Ue,Xe,ht,Ct-Pt,1,ht,Ct);kr<Pt;){var $t=(kr&~nr)+Tt;$t>Pt&&($t=Pt),(0,si[$r[ja++]>>8&15])(Ue,Xe+ +kr,ht,Ct+kr-Pt,$t-kr,ht,Ct+kr),kr=$t}Xe+=Pt,Ct+=Pt,++St&nr||(rr+=Jt)}ft!=Be.nc&&a(we,me-gt,we,me+(ft-$e-1)*gt,gt);break;case 1:for(gt=Ue,et=Xe,Pt=(Ue=Be.Ea)-(Ct=Ue&~(ht=(Xe=1<<Be.b)-1)),St=Ke(Ue,Be.b),Tt=Be.K,Be=Be.w+($e>>Be.b)*St;$e<ft;){for(nr=Tt,Jt=Be,wr=new Se,rr=et+Ct,$r=et+Ue;et<rr;)Ge(nr[Jt++],wr),ul(wr,gt,et,Xe,we,me),et+=Xe,me+=Xe;et<$r&&(Ge(nr[Jt++],wr),ul(wr,gt,et,Pt,we,me),et+=Pt,me+=Pt),++$e&ht||(Be+=St)}break;case 3:if(Ue==we&&Xe==me&&0<Be.b){for(et=we,Ue=gt=me+(ft-$e)*gt-(Ct=(ft-$e)*Ke(Be.Ea,Be.b)),Xe=we,ht=me,St=[],Ct=(Pt=Ct)-1;0<=Ct;--Ct)St[Ct]=Xe[ht+Ct];for(Ct=Pt-1;0<=Ct;--Ct)et[Ue+Ct]=St[Ct];Vn(Be,$e,ft,we,gt,we,me)}else Vn(Be,$e,ft,Ue,Xe,we,me)}me=H,we=_}we!=_&&a(H,_,me,we,oe)}function ut(g,N){var _=g.V,H=g.Ba+g.c*g.C,Z=N-g.C;if(t(N<=g.l.o),t(16>=Z),0<Z){var oe=g.l,fe=g.Ta,me=g.Ua,we=oe.width;if(Oe(g,Z,_,H),Z=me=[me],t((_=g.C)<(H=N)),t(oe.v<oe.va),H>oe.o&&(H=oe.o),_<oe.j){var Be=oe.j-_;_=oe.j,Z[0]+=Be*we}if(_>=H?_=0:(Z[0]+=4*oe.v,oe.ka=_-oe.j,oe.U=oe.va-oe.v,oe.T=H-_,_=1),_){if(me=me[0],11>(_=g.ca).S){var $e=_.f.RGBA,ft=(H=_.S,Z=oe.U,oe=oe.T,Be=$e.eb,$e.A),Ue=oe;for($e=$e.fb+g.Ma*$e.A;0<Ue--;){var Xe=fe,gt=me,St=Z,et=Be,ht=$e;switch(H){case yi:ii(Xe,gt,St,et,ht);break;case id:Kn(Xe,gt,St,et,ht);break;case lu:Kn(Xe,gt,St,et,ht),ki(et,ht,0,St,1,0);break;case fo:Ks(Xe,gt,St,et,ht);break;case Id:qe(Xe,gt,St,et,ht,1);break;case Bc:qe(Xe,gt,St,et,ht,1),ki(et,ht,0,St,1,0);break;case Ec:qe(Xe,gt,St,et,ht,0);break;case Cl:qe(Xe,gt,St,et,ht,0),ki(et,ht,1,St,1,0);break;case qo:uo(Xe,gt,St,et,ht);break;case rc:uo(Xe,gt,St,et,ht),Ka(et,ht,St,1,0);break;case pf:qs(Xe,gt,St,et,ht);break;default:t(0)}me+=we,$e+=ft}g.Ma+=oe}else alert("todo:EmitRescaledRowsYUVA");t(g.Ma<=_.height)}}g.C=N,t(g.C<=g.i)}function ot(g){var N;if(0<g.ua)return 0;for(N=0;N<g.Wb;++N){var _=g.Ya[N].G,H=g.Ya[N].H;if(0<_[1][H[1]+0].g||0<_[2][H[2]+0].g||0<_[3][H[3]+0].g)return 0}return 1}function dt(g,N,_,H,Z,oe){if(g.Z!=0){var fe=g.qd,me=g.rd;for(t(Ii[g.Z]!=null);N<_;++N)Ii[g.Z](fe,me,H,Z,H,Z,oe),fe=H,me=Z,Z+=oe;g.qd=fe,g.rd=me}}function Ie(g,N){var _=g.l.ma,H=_.Z==0||_.Z==1?g.l.j:g.C;if(H=g.C<H?H:g.C,t(N<=g.l.o),N>H){var Z=g.l.width,oe=_.ca,fe=_.tb+Z*H,me=g.V,we=g.Ba+g.c*H,Be=g.gc;t(g.ab==1),t(Be[0].hc==3),ms(Be[0],H,N,me,we,oe,fe),dt(_,H,N,oe,fe,Z)}g.C=g.Ma=N}function Ne(g,N,_,H,Z,oe,fe){var me=g.$/H,we=g.$%H,Be=g.m,$e=g.s,ft=_+g.$,Ue=ft;Z=_+H*Z;var Xe=_+H*oe,gt=280+$e.ua,St=g.Pb?me:16777216,et=0<$e.ua?$e.Wa:null,ht=$e.wc,Ct=ft<Xe?Xt($e,we,me):null;t(g.C<oe),t(Xe<=Z);var Pt=!1;e:for(;;){for(;Pt||ft<Xe;){var Tt=0;if(me>=St){var nr=ft-_;t((St=g).Pb),St.wd=St.m,St.xd=nr,0<St.s.ua&&J(St.s.Wa,St.s.vb),St=me+mm}if(we&ht||(Ct=Xt($e,we,me)),t(Ct!=null),Ct.Qb&&(N[ft]=Ct.qb,Pt=!0),!Pt)if(pe(Be),Ct.jc){Tt=Be,nr=N;var Jt=ft,wr=Ct.pd[R(Tt)&kn-1];t(Ct.jc),256>wr.g?(ne(Tt,Tt.u+wr.g),nr[Jt]=wr.value,Tt=0):(ne(Tt,Tt.u+wr.g-256),t(256<=wr.value),Tt=wr.value),Tt==0&&(Pt=!0)}else Tt=oa(Ct.G[0],Ct.H[0],Be);if(Be.h)break;if(Pt||256>Tt){if(!Pt)if(Ct.nd)N[ft]=(Ct.qb|Tt<<8)>>>0;else{if(pe(Be),Pt=oa(Ct.G[1],Ct.H[1],Be),pe(Be),nr=oa(Ct.G[2],Ct.H[2],Be),Jt=oa(Ct.G[3],Ct.H[3],Be),Be.h)break;N[ft]=(Jt<<24|Pt<<16|Tt<<8|nr)>>>0}if(Pt=!1,++ft,++we>=H&&(we=0,++me,fe!=null&&me<=oe&&!(me%16)&&fe(g,me),et!=null))for(;Ue<ft;)Tt=N[Ue++],et.X[(506832829*Tt&4294967295)>>>et.Mb]=Tt}else if(280>Tt){if(Tt=Sr(Tt-256,Be),nr=oa(Ct.G[4],Ct.H[4],Be),pe(Be),nr=ca(H,nr=Sr(nr,Be)),Be.h)break;if(ft-_<nr||Z-ft<Tt)break e;for(Jt=0;Jt<Tt;++Jt)N[ft+Jt]=N[ft+Jt-nr];for(ft+=Tt,we+=Tt;we>=H;)we-=H,++me,fe!=null&&me<=oe&&!(me%16)&&fe(g,me);if(t(ft<=Z),we&ht&&(Ct=Xt($e,we,me)),et!=null)for(;Ue<ft;)Tt=N[Ue++],et.X[(506832829*Tt&4294967295)>>>et.Mb]=Tt}else{if(!(Tt<gt))break e;for(Pt=Tt-280,t(et!=null);Ue<ft;)Tt=N[Ue++],et.X[(506832829*Tt&4294967295)>>>et.Mb]=Tt;Tt=ft,t(!(Pt>>>(nr=et).Xa)),N[Tt]=nr.X[Pt],Pt=!0}Pt||t(Be.h==G(Be))}if(g.Pb&&Be.h&&ft<Z)t(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&J(g.s.vb,g.s.Wa);else{if(Be.h)break e;fe?.(g,me>oe?oe:me),g.a=0,g.$=ft-_}return 1}return g.a=3,0}function ct(g){t(g!=null),g.vc=null,g.yc=null,g.Ya=null;var N=g.Wa;N!=null&&(N.X=null),g.vb=null,t(g!=null)}function Ye(){var g=new Kr;return g==null?null:(g.a=0,g.xb=hu,Pe("Predictor","VP8LPredictors"),Pe("Predictor","VP8LPredictors_C"),Pe("PredictorAdd","VP8LPredictorsAdd"),Pe("PredictorAdd","VP8LPredictorsAdd_C"),rs=rt,ul=bt,ii=je,Kn=Ze,uo=Te,qs=pt,Ks=At,F.VP8LMapColor32b=mn,F.VP8LMapColor8b=qn,g)}function Ee(g,N,_,H,Z){var oe=1,fe=[g],me=[N],we=H.m,Be=H.s,$e=null,ft=0;e:for(;;){if(_)for(;oe&&de(we,1);){var Ue=fe,Xe=me,gt=H,St=1,et=gt.m,ht=gt.gc[gt.ab],Ct=de(et,2);if(gt.Oc&1<<Ct)oe=0;else{switch(gt.Oc|=1<<Ct,ht.hc=Ct,ht.Ea=Ue[0],ht.nc=Xe[0],ht.K=[null],++gt.ab,t(4>=gt.ab),Ct){case 0:case 1:ht.b=de(et,3)+2,St=Ee(Ke(ht.Ea,ht.b),Ke(ht.nc,ht.b),0,gt,ht.K),ht.K=ht.K[0];break;case 3:var Pt,Tt=de(et,8)+1,nr=16<Tt?0:4<Tt?1:2<Tt?2:3;if(Ue[0]=Ke(ht.Ea,nr),ht.b=nr,Pt=St=Ee(Tt,1,0,gt,ht.K)){var Jt,wr=Tt,rr=ht,$r=1<<(8>>rr.b),ja=i($r);if(ja==null)Pt=0;else{var kr=rr.K[0],$t=rr.w;for(ja[0]=rr.K[0][0],Jt=1;Jt<1*wr;++Jt)ja[Jt]=Fe(kr[$t+Jt],ja[Jt-1]);for(;Jt<4*$r;++Jt)ja[Jt]=0;rr.K[0]=null,rr.K[0]=ja,Pt=1}}St=Pt;break;case 2:break;default:t(0)}oe=St}}if(fe=fe[0],me=me[0],oe&&de(we,1)&&!(oe=1<=(ft=de(we,4))&&11>=ft)){H.a=3;break e}var gr;if(gr=oe)t:{var ga,Cr,Qr,Mr=H,qr=fe,ha=me,aa=ft,vn=_,bn=Mr.m,Wa=Mr.s,Xr=[null],xa=1,ln=0,Zr=du[aa];r:for(;;){if(vn&&de(bn,1)){var an=de(bn,3)+2,Gs=Ke(qr,an),Fn=Ke(ha,an),oi=Gs*Fn;if(!Ee(Gs,Fn,0,Mr,Xr))break r;for(Xr=Xr[0],Wa.xc=an,ga=0;ga<oi;++ga){var pn=Xr[ga]>>8&65535;Xr[ga]=pn,pn>=xa&&(xa=pn+1)}}if(bn.h)break r;for(Cr=0;5>Cr;++Cr){var Ua=Ko[Cr];!Cr&&0<aa&&(Ua+=1<<aa),ln<Ua&&(ln=Ua)}var Gi=o(xa*Zr,I),Pi=xa,$n=o(Pi,W);if($n==null)var cn=null;else t(65536>=Pi),cn=$n;var li=i(ln);if(cn==null||li==null||Gi==null){Mr.a=1;break r}var Ws=Gi;for(ga=Qr=0;ga<xa;++ga){var Ya=cn[ga],ci=Ya.G,xs=Ya.H,Fl=0,Wo=1,Cs=0;for(Cr=0;5>Cr;++Cr){Ua=Ko[Cr],ci[Cr]=Ws,xs[Cr]=Qr,!Cr&&0<aa&&(Ua+=1<<aa);n:{var Ld,Od=Ua,kc=Mr,ac=li,fA=Ws,xm=Qr,Dd=0,Li=kc.m,hA=de(Li,1);if(s(ac,0,0,Od),hA){var AA=de(Li,1)+1,mA=de(Li,1),bf=de(Li,mA==0?1:8);ac[bf]=1,AA==2&&(ac[bf=de(Li,8)]=1);var Ic=1}else{var Ru=i(19),xh=de(Li,4)+4;if(19<xh){kc.a=3;var Md=0;break n}for(Ld=0;Ld<xh;++Ld)Ru[Bl[Ld]]=de(Li,3);var Qu=void 0,Ys=void 0,wf=kc,ym=Ru,_l=Od,Hu=ac,$u=0,Oi=wf.m,mu=8,yh=o(128,I);a:for(;P(yh,0,7,ym,19);){if(de(Oi,1)){var vm=2+2*de(Oi,3);if((Qu=2+de(Oi,vm))>_l)break a}else Qu=_l;for(Ys=0;Ys<_l&&Qu--;){pe(Oi);var vh=yh[0+(127&R(Oi))];ne(Oi,Oi.u+vh.g);var ml=vh.value;if(16>ml)Hu[Ys++]=ml,ml!=0&&(mu=ml);else{var bm=ml==16,zu=ml-16,bh=El[zu],di=de(Oi,ph[zu])+bh;if(Ys+di>_l)break a;for(var Vu=bm?mu:0;0<di--;)Hu[Ys++]=Vu}}$u=1;break a}$u||(wf.a=3),Ic=$u}(Ic=Ic&&!Li.h)&&(Dd=P(fA,xm,8,ac,Od)),Ic&&Dd!=0?Md=Dd:(kc.a=3,Md=0)}if(Md==0)break r;if(Wo&&cu[Cr]==1&&(Wo=Ws[Qr].g==0),Fl+=Ws[Qr].g,Qr+=Md,3>=Cr){var nc,qu=li[0];for(nc=1;nc<Ua;++nc)li[nc]>qu&&(qu=li[nc]);Cs+=qu}}if(Ya.nd=Wo,Ya.Qb=0,Wo&&(Ya.qb=(ci[3][xs[3]+0].value<<24|ci[1][xs[1]+0].value<<16|ci[2][xs[2]+0].value)>>>0,Fl==0&&256>ci[0][xs[0]+0].value&&(Ya.Qb=1,Ya.qb+=ci[0][xs[0]+0].value<<8)),Ya.jc=!Ya.Qb&&6>Cs,Ya.jc){var dd,bi=Ya;for(dd=0;dd<kn;++dd){var Wi=dd,Ao=bi.pd[Wi],Ud=bi.G[0][bi.H[0]+Wi];256<=Ud.value?(Ao.g=Ud.g+256,Ao.value=Ud.value):(Ao.g=0,Ao.value=0,Wi>>=wt(Ud,8,Ao),Wi>>=wt(bi.G[1][bi.H[1]+Wi],16,Ao),Wi>>=wt(bi.G[2][bi.H[2]+Wi],0,Ao),wt(bi.G[3][bi.H[3]+Wi],24,Ao))}}}Wa.vc=Xr,Wa.Wb=xa,Wa.Ya=cn,Wa.yc=Gi,gr=1;break t}gr=0}if(!(oe=gr)){H.a=3;break e}if(0<ft){if(Be.ua=1<<ft,!ce(Be.Wa,ft)){H.a=1,oe=0;break e}}else Be.ua=0;var pu=H,wh=fe,wm=me,Nf=pu.s,jf=Nf.xc;if(pu.c=wh,pu.i=wm,Nf.md=Ke(wh,jf),Nf.wc=jf==0?-1:(1<<jf)-1,_){H.xb=gm;break e}if(($e=i(fe*me))==null){H.a=1,oe=0;break e}oe=(oe=Ne(H,$e,0,fe,me,me,null))&&!we.h;break e}return oe?(Z!=null?Z[0]=$e:(t($e==null),t(_)),H.$=0,_||ct(Be)):ct(Be),oe}function it(g,N){var _=g.c*g.i,H=_+N+16*N;return t(g.c<=N),g.V=i(H),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+_+N,1)}function vt(g,N){var _=g.C,H=N-_,Z=g.V,oe=g.Ba+g.c*_;for(t(N<=g.l.o);0<H;){var fe=16<H?16:H,me=g.l.ma,we=g.l.width,Be=we*fe,$e=me.ca,ft=me.tb+we*_,Ue=g.Ta,Xe=g.Ua;Oe(g,fe,Z,oe),Hn(Ue,Xe,$e,ft,Be),dt(me,_,_+fe,$e,ft,we),H-=fe,Z+=fe*g.c,_+=fe}t(_==N),g.C=g.Ma=N}function It(){this.ub=this.yd=this.td=this.Rb=0}function Mt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function fr(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function dr(){this.Yb=(function(){var g=[];return(function N(_,H,Z){for(var oe=Z[H],fe=0;fe<oe&&(_.push(Z.length>H+1?[]:0),!(Z.length<H+1));fe++)N(_[fe],H+1,Z)})(g,0,[3,11]),g})()}function sr(){this.jb=i(3),this.Wc=l([4,8],dr),this.Xc=l([4,17],dr)}function Yr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Na(){this.ld=this.La=this.dd=this.tc=0}function Sa(){this.Na=this.la=0}function za(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Nn(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ds(){this.uc=this.M=this.Nb=0,this.wa=Array(new Na),this.Y=0,this.ya=Array(new Nn),this.aa=0,this.l=new Ti}function Bi(){this.y=i(16),this.f=i(8),this.ea=i(8)}function no(){this.cb=this.a=0,this.sc="",this.m=new ve,this.Od=new It,this.Kc=new Mt,this.ed=new Yr,this.Qa=new fr,this.Ic=this.$c=this.Aa=0,this.D=new ds,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ve),this.ia=0,this.pb=o(4,za),this.Pa=new sr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Bi),this.Hd=0,this.rb=Array(new Sa),this.sb=0,this.wa=Array(new Na),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Nn),this.L=this.aa=0,this.gd=l([4,2],Na),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ti(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ls(){var g=new no;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,Ss||(Ss=vc)),g}function us(g,N,_){return g.a==0&&(g.a=N,g.sc=_,g.cb=0),0}function hn(g,N,_){return 3<=_&&g[N+0]==157&&g[N+1]==1&&g[N+2]==42}function Ed(g,N){if(g==null)return 0;if(g.a=0,g.sc="OK",N==null)return us(g,2,"null VP8Io passed to VP8GetHeaders()");var _=N.data,H=N.w,Z=N.ha;if(4>Z)return us(g,7,"Truncated header.");var oe=_[H+0]|_[H+1]<<8|_[H+2]<<16,fe=g.Od;if(fe.Rb=!(1&oe),fe.td=oe>>1&7,fe.yd=oe>>4&1,fe.ub=oe>>5,3<fe.td)return us(g,3,"Incorrect keyframe parameters.");if(!fe.yd)return us(g,4,"Frame not displayable.");H+=3,Z-=3;var me=g.Kc;if(fe.Rb){if(7>Z)return us(g,7,"cannot parse picture header");if(!hn(_,H,Z))return us(g,3,"Bad code word");me.c=16383&(_[H+4]<<8|_[H+3]),me.Td=_[H+4]>>6,me.i=16383&(_[H+6]<<8|_[H+5]),me.Ud=_[H+6]>>6,H+=7,Z-=7,g.za=me.c+15>>4,g.Ub=me.i+15>>4,N.width=me.c,N.height=me.i,N.Da=0,N.j=0,N.v=0,N.va=N.width,N.o=N.height,N.da=0,N.ib=N.width,N.hb=N.height,N.U=N.width,N.T=N.height,s((oe=g.Pa).jb,0,255,oe.jb.length),t((oe=g.Qa)!=null),oe.Cb=0,oe.Bb=0,oe.Fb=1,s(oe.Zb,0,0,oe.Zb.length),s(oe.Lb,0,0,oe.Lb)}if(fe.ub>Z)return us(g,7,"bad partition length");ie(oe=g.m,_,H,fe.ub),H+=fe.ub,Z-=fe.ub,fe.Rb&&(me.Ld=Ae(oe),me.Kd=Ae(oe)),me=g.Qa;var we,Be=g.Pa;if(t(oe!=null),t(me!=null),me.Cb=Ae(oe),me.Cb){if(me.Bb=Ae(oe),Ae(oe)){for(me.Fb=Ae(oe),we=0;4>we;++we)me.Zb[we]=Ae(oe)?le(oe,7):0;for(we=0;4>we;++we)me.Lb[we]=Ae(oe)?le(oe,6):0}if(me.Bb)for(we=0;3>we;++we)Be.jb[we]=Ae(oe)?X(oe,8):255}else me.Bb=0;if(oe.Ka)return us(g,3,"cannot parse segment header");if((me=g.ed).zd=Ae(oe),me.Tb=X(oe,6),me.wb=X(oe,3),me.Pc=Ae(oe),me.Pc&&Ae(oe)){for(Be=0;4>Be;++Be)Ae(oe)&&(me.vd[Be]=le(oe,6));for(Be=0;4>Be;++Be)Ae(oe)&&(me.od[Be]=le(oe,6))}if(g.L=me.Tb==0?0:me.zd?1:2,oe.Ka)return us(g,3,"cannot parse filter header");var $e=Z;if(Z=we=H,H=we+$e,me=$e,g.Xb=(1<<X(g.m,2))-1,$e<3*(Be=g.Xb))_=7;else{for(we+=3*Be,me-=3*Be,$e=0;$e<Be;++$e){var ft=_[Z+0]|_[Z+1]<<8|_[Z+2]<<16;ft>me&&(ft=me),ie(g.Jc[+$e],_,we,ft),we+=ft,me-=ft,Z+=3}ie(g.Jc[+Be],_,we,me),_=we<H?0:5}if(_!=0)return us(g,_,"cannot parse partitions");for(_=X(we=g.m,7),Z=Ae(we)?le(we,4):0,H=Ae(we)?le(we,4):0,me=Ae(we)?le(we,4):0,Be=Ae(we)?le(we,4):0,we=Ae(we)?le(we,4):0,$e=g.Qa,ft=0;4>ft;++ft){if($e.Cb){var Ue=$e.Zb[ft];$e.Fb||(Ue+=_)}else{if(0<ft){g.pb[ft]=g.pb[0];continue}Ue=_}var Xe=g.pb[ft];Xe.Sc[0]=uu[Va(Ue+Z,127)],Xe.Sc[1]=Tc[Va(Ue+0,127)],Xe.Eb[0]=2*uu[Va(Ue+H,127)],Xe.Eb[1]=101581*Tc[Va(Ue+me,127)]>>16,8>Xe.Eb[1]&&(Xe.Eb[1]=8),Xe.Qc[0]=uu[Va(Ue+Be,117)],Xe.Qc[1]=Tc[Va(Ue+we,127)],Xe.lc=Ue+we}if(!fe.Rb)return us(g,4,"Not a key frame.");for(Ae(oe),fe=g.Pa,_=0;4>_;++_){for(Z=0;8>Z;++Z)for(H=0;3>H;++H)for(me=0;11>me;++me)Be=Y(oe,fu[_][Z][H][me])?X(oe,8):Fc[_][Z][H][me],fe.Wc[_][Z].Yb[H][me]=Be;for(Z=0;17>Z;++Z)fe.Xc[_][Z]=fe.Wc[_][pm[Z]]}return g.kc=Ae(oe),g.kc&&(g.Bd=X(oe,8)),g.cb=1}function vc(g,N,_,H,Z,oe,fe){var me=N[Z].Yb[_];for(_=0;16>Z;++Z){if(!Y(g,me[_+0]))return Z;for(;!Y(g,me[_+1]);)if(me=N[++Z].Yb[0],_=0,Z==16)return 16;var we=N[Z+1].Yb;if(Y(g,me[_+2])){var Be=g,$e=0;if(Y(Be,(Ue=me)[(ft=_)+3]))if(Y(Be,Ue[ft+6])){for(me=0,ft=2*($e=Y(Be,Ue[ft+8]))+(Ue=Y(Be,Ue[ft+9+$e])),$e=0,Ue=Ms[ft];Ue[me];++me)$e+=$e+Y(Be,Ue[me]);$e+=3+(8<<ft)}else Y(Be,Ue[ft+7])?($e=7+2*Y(Be,165),$e+=Y(Be,145)):$e=5+Y(Be,159);else $e=Y(Be,Ue[ft+4])?3+Y(Be,Ue[ft+5]):2;me=we[2]}else $e=1,me=we[1];we=fe+jn[Z],0>(Be=g).b&&xe(Be);var ft,Ue=Be.b,Xe=(ft=Be.Ca>>1)-(Be.I>>Ue)>>31;--Be.b,Be.Ca+=Xe,Be.Ca|=1,Be.I-=(ft+1&Xe)<<Ue,oe[we]=(($e^Xe)-Xe)*H[(0<Z)+0]}return 16}function Ai(g){var N=g.rb[g.sb-1];N.la=0,N.Na=0,s(g.zc,0,0,g.zc.length),g.ja=0}function Uo(g,N){if(g==null)return 0;if(N==null)return us(g,2,"NULL VP8Io parameter in VP8Decode().");if(!g.cb&&!Ed(g,N))return 0;if(t(g.cb),N.ac==null||N.ac(N)){N.ob&&(g.L=0);var _=Tl[g.L];if(g.L==2?(g.yb=0,g.zb=0):(g.yb=N.v-_>>4,g.zb=N.j-_>>4,0>g.yb&&(g.yb=0),0>g.zb&&(g.zb=0)),g.Va=N.o+15+_>>4,g.Hb=N.va+15+_>>4,g.Hb>g.za&&(g.Hb=g.za),g.Va>g.Ub&&(g.Va=g.Ub),0<g.L){var H=g.ed;for(_=0;4>_;++_){var Z;if(g.Qa.Cb){var oe=g.Qa.Lb[_];g.Qa.Fb||(oe+=H.Tb)}else oe=H.Tb;for(Z=0;1>=Z;++Z){var fe=g.gd[_][Z],me=oe;if(H.Pc&&(me+=H.vd[0],Z&&(me+=H.od[0])),0<(me=0>me?0:63<me?63:me)){var we=me;0<H.wb&&(we=4<H.wb?we>>2:we>>1)>9-H.wb&&(we=9-H.wb),1>we&&(we=1),fe.dd=we,fe.tc=2*me+we,fe.ld=40<=me?2:15<=me?1:0}else fe.tc=0;fe.La=Z}}}_=0}else us(g,6,"Frame setup failed"),_=g.a;if(_=_==0){if(_){g.$c=0,0<g.Aa||(g.Ic=dA);e:{_=g.Ic,H=4*(we=g.za);var Be=32*we,$e=we+1,ft=0<g.L?we*(0<g.Aa?2:1):0,Ue=(g.Aa==2?2:1)*we;if((fe=H+832+(Z=3*(16*_+Tl[g.L])/2*Be)+(oe=g.Fa!=null&&0<g.Fa.length?g.Kc.c*g.Kc.i:0))!=fe)_=0;else{if(fe>g.Vb){if(g.Vb=0,g.Ec=i(fe),g.Fc=0,g.Ec==null){_=us(g,1,"no memory during frame initialization.");break e}g.Vb=fe}fe=g.Ec,me=g.Fc,g.Ac=fe,g.Bc=me,me+=H,g.Gd=o(Be,Bi),g.Hd=0,g.rb=o($e+1,Sa),g.sb=1,g.wa=ft?o(ft,Na):null,g.Y=0,g.D.Nb=0,g.D.wa=g.wa,g.D.Y=g.Y,0<g.Aa&&(g.D.Y+=we),t(!0),g.oc=fe,g.pc=me,me+=832,g.ya=o(Ue,Nn),g.aa=0,g.D.ya=g.ya,g.D.aa=g.aa,g.Aa==2&&(g.D.aa+=we),g.R=16*we,g.B=8*we,we=(Be=Tl[g.L])*g.R,Be=Be/2*g.B,g.sa=fe,g.ta=me+we,g.qa=g.sa,g.ra=g.ta+16*_*g.R+Be,g.Ha=g.qa,g.Ia=g.ra+8*_*g.B+Be,g.$c=0,me+=Z,g.mb=oe?fe:null,g.nb=oe?me:null,t(me+oe<=g.Fc+g.Vb),Ai(g),s(g.Ac,g.Bc,0,H),_=1}}if(_){if(N.ka=0,N.y=g.sa,N.O=g.ta,N.f=g.qa,N.N=g.ra,N.ea=g.Ha,N.Vd=g.Ia,N.fa=g.R,N.Rc=g.B,N.F=null,N.J=0,!Sc){for(_=-255;255>=_;++_)ns[255+_]=0>_?-_:_;for(_=-1020;1020>=_;++_)hl[1020+_]=-128>_?-128:127<_?127:_;for(_=-112;112>=_;++_)sd[112+_]=-16>_?-16:15<_?15:_;for(_=-255;510>=_;++_)tc[255+_]=0>_?0:255<_?255:_;Sc=1}as=Gl,Ki=au,Ns=Kl,pa=sl,$a=Bd,yn=ru,Qn=cl,Ja=Jl,jo=ue,Sl=He,fl=ad,Vo=lo,_d=jt,kd=kt,jc=qi,ec=gi,nd=ll,ps=Mu,ss[0]=so,ss[1]=Td,ss[2]=iu,ss[3]=Du,ss[4]=Qo,ss[5]=Fi,ss[6]=Ho,ss[7]=ws,ss[8]=Nl,ss[9]=Fd,ho[0]=mi,ho[1]=su,ho[2]=Wl,ho[3]=Yl,ho[4]=ai,ho[5]=Ro,ho[6]=il,gs[0]=zo,gs[1]=nu,gs[2]=rd,gs[3]=$o,gs[4]=_i,gs[5]=pi,gs[6]=ol,_=1}else _=0}_&&(_=(function(Xe,gt){for(Xe.M=0;Xe.M<Xe.Va;++Xe.M){var St,et=Xe.Jc[Xe.M&Xe.Xb],ht=Xe.m,Ct=Xe;for(St=0;St<Ct.za;++St){var Pt=ht,Tt=Ct,nr=Tt.Ac,Jt=Tt.Bc+4*St,wr=Tt.zc,rr=Tt.ya[Tt.aa+St];if(Tt.Qa.Bb?rr.$b=Y(Pt,Tt.Pa.jb[0])?2+Y(Pt,Tt.Pa.jb[2]):Y(Pt,Tt.Pa.jb[1]):rr.$b=0,Tt.kc&&(rr.Ad=Y(Pt,Tt.Bd)),rr.Za=!Y(Pt,145)+0,rr.Za){var $r=rr.Ob,ja=0;for(Tt=0;4>Tt;++Tt){var kr,$t=wr[0+Tt];for(kr=0;4>kr;++kr){$t=iA[nr[Jt+kr]][$t];for(var gr=ld[Y(Pt,$t[0])];0<gr;)gr=ld[2*gr+Y(Pt,$t[gr])];$t=-gr,nr[Jt+kr]=$t}a($r,ja,nr,Jt,4),ja+=4,wr[0+Tt]=$t}}else $t=Y(Pt,156)?Y(Pt,128)?1:3:Y(Pt,163)?2:0,rr.Ob[0]=$t,s(nr,Jt,$t,4),s(wr,0,$t,4);rr.Dd=Y(Pt,142)?Y(Pt,114)?Y(Pt,183)?1:3:2:0}if(Ct.m.Ka)return us(Xe,7,"Premature end-of-partition0 encountered.");for(;Xe.ja<Xe.za;++Xe.ja){if(Ct=et,Pt=(ht=Xe).rb[ht.sb-1],nr=ht.rb[ht.sb+ht.ja],St=ht.ya[ht.aa+ht.ja],Jt=ht.kc?St.Ad:0)Pt.la=nr.la=0,St.Za||(Pt.Na=nr.Na=0),St.Hc=0,St.Gc=0,St.ia=0;else{var ga,Cr;if(Pt=nr,nr=Ct,Jt=ht.Pa.Xc,wr=ht.ya[ht.aa+ht.ja],rr=ht.pb[wr.$b],Tt=wr.ad,$r=0,ja=ht.rb[ht.sb-1],$t=kr=0,s(Tt,$r,0,384),wr.Za)var Qr=0,Mr=Jt[3];else{gr=i(16);var qr=Pt.Na+ja.Na;if(qr=Ss(nr,Jt[1],qr,rr.Eb,0,gr,0),Pt.Na=ja.Na=(0<qr)+0,1<qr)as(gr,0,Tt,$r);else{var ha=gr[0]+3>>3;for(gr=0;256>gr;gr+=16)Tt[$r+gr]=ha}Qr=1,Mr=Jt[0]}var aa=15&Pt.la,vn=15&ja.la;for(gr=0;4>gr;++gr){var bn=1&vn;for(ha=Cr=0;4>ha;++ha)aa=aa>>1|(bn=(qr=Ss(nr,Mr,qr=bn+(1&aa),rr.Sc,Qr,Tt,$r))>Qr)<<7,Cr=Cr<<2|(3<qr?3:1<qr?2:Tt[$r+0]!=0),$r+=16;aa>>=4,vn=vn>>1|bn<<7,kr=(kr<<8|Cr)>>>0}for(Mr=aa,Qr=vn>>4,ga=0;4>ga;ga+=2){for(Cr=0,aa=Pt.la>>4+ga,vn=ja.la>>4+ga,gr=0;2>gr;++gr){for(bn=1&vn,ha=0;2>ha;++ha)qr=bn+(1&aa),aa=aa>>1|(bn=0<(qr=Ss(nr,Jt[2],qr,rr.Qc,0,Tt,$r)))<<3,Cr=Cr<<2|(3<qr?3:1<qr?2:Tt[$r+0]!=0),$r+=16;aa>>=2,vn=vn>>1|bn<<5}$t|=Cr<<4*ga,Mr|=aa<<4<<ga,Qr|=(240&vn)<<ga}Pt.la=Mr,ja.la=Qr,wr.Hc=kr,wr.Gc=$t,wr.ia=43690&$t?0:rr.ia,Jt=!(kr|$t)}if(0<ht.L&&(ht.wa[ht.Y+ht.ja]=ht.gd[St.$b][St.Za],ht.wa[ht.Y+ht.ja].La|=!Jt),Ct.Ka)return us(Xe,7,"Premature end-of-file encountered.")}if(Ai(Xe),ht=gt,Ct=1,St=(et=Xe).D,Pt=0<et.L&&et.M>=et.zb&&et.M<=et.Va,et.Aa==0)e:{if(St.M=et.M,St.uc=Pt,qa(et,St),Ct=1,St=(Cr=et.D).Nb,Pt=($t=Tl[et.L])*et.R,nr=$t/2*et.B,gr=16*St*et.R,ha=8*St*et.B,Jt=et.sa,wr=et.ta-Pt+gr,rr=et.qa,Tt=et.ra-nr+ha,$r=et.Ha,ja=et.Ia-nr+ha,vn=(aa=Cr.M)==0,kr=aa>=et.Va-1,et.Aa==2&&qa(et,Cr),Cr.uc)for(bn=(qr=et).D.M,t(qr.D.uc),Cr=qr.yb;Cr<qr.Hb;++Cr){Qr=Cr,Mr=bn;var Wa=(Xr=(Ua=qr).D).Nb;ga=Ua.R;var Xr=Xr.wa[Xr.Y+Qr],xa=Ua.sa,ln=Ua.ta+16*Wa*ga+16*Qr,Zr=Xr.dd,an=Xr.tc;if(an!=0)if(t(3<=an),Ua.L==1)0<Qr&&ec(xa,ln,ga,an+4),Xr.La&&ps(xa,ln,ga,an),0<Mr&&jc(xa,ln,ga,an+4),Xr.La&&nd(xa,ln,ga,an);else{var Gs=Ua.B,Fn=Ua.qa,oi=Ua.ra+8*Wa*Gs+8*Qr,pn=Ua.Ha,Ua=Ua.Ia+8*Wa*Gs+8*Qr;Wa=Xr.ld,0<Qr&&(Ja(xa,ln,ga,an+4,Zr,Wa),Sl(Fn,oi,pn,Ua,Gs,an+4,Zr,Wa)),Xr.La&&(Vo(xa,ln,ga,an,Zr,Wa),kd(Fn,oi,pn,Ua,Gs,an,Zr,Wa)),0<Mr&&(Qn(xa,ln,ga,an+4,Zr,Wa),jo(Fn,oi,pn,Ua,Gs,an+4,Zr,Wa)),Xr.La&&(fl(xa,ln,ga,an,Zr,Wa),_d(Fn,oi,pn,Ua,Gs,an,Zr,Wa))}}if(et.ia&&alert("todo:DitherRow"),ht.put!=null){if(Cr=16*aa,aa=16*(aa+1),vn?(ht.y=et.sa,ht.O=et.ta+gr,ht.f=et.qa,ht.N=et.ra+ha,ht.ea=et.Ha,ht.W=et.Ia+ha):(Cr-=$t,ht.y=Jt,ht.O=wr,ht.f=rr,ht.N=Tt,ht.ea=$r,ht.W=ja),kr||(aa-=$t),aa>ht.o&&(aa=ht.o),ht.F=null,ht.J=null,et.Fa!=null&&0<et.Fa.length&&Cr<aa&&(ht.J=hs(et,ht,Cr,aa-Cr),ht.F=et.mb,ht.F==null&&ht.F.length==0)){Ct=us(et,3,"Could not decode alpha data.");break e}Cr<ht.j&&($t=ht.j-Cr,Cr=ht.j,t(!(1&$t)),ht.O+=et.R*$t,ht.N+=et.B*($t>>1),ht.W+=et.B*($t>>1),ht.F!=null&&(ht.J+=ht.width*$t)),Cr<aa&&(ht.O+=ht.v,ht.N+=ht.v>>1,ht.W+=ht.v>>1,ht.F!=null&&(ht.J+=ht.v),ht.ka=Cr-ht.j,ht.U=ht.va-ht.v,ht.T=aa-Cr,Ct=ht.put(ht))}St+1!=et.Ic||kr||(a(et.sa,et.ta-Pt,Jt,wr+16*et.R,Pt),a(et.qa,et.ra-nr,rr,Tt+8*et.B,nr),a(et.Ha,et.Ia-nr,$r,ja+8*et.B,nr))}if(!Ct)return us(Xe,6,"Output aborted.")}return 1})(g,N)),N.bc!=null&&N.bc(N),_&=1}return _?(g.cb=0,_):0}function fs(g,N,_,H,Z){Z=g[N+_+32*H]+(Z>>3),g[N+_+32*H]=-256&Z?0>Z?0:255:Z}function es(g,N,_,H,Z,oe){fs(g,N,0,_,H+Z),fs(g,N,1,_,H+oe),fs(g,N,2,_,H-oe),fs(g,N,3,_,H-Z)}function Ba(g){return(20091*g>>16)+g}function ql(g,N,_,H){var Z,oe=0,fe=i(16);for(Z=0;4>Z;++Z){var me=g[N+0]+g[N+8],we=g[N+0]-g[N+8],Be=(35468*g[N+4]>>16)-Ba(g[N+12]),$e=Ba(g[N+4])+(35468*g[N+12]>>16);fe[oe+0]=me+$e,fe[oe+1]=we+Be,fe[oe+2]=we-Be,fe[oe+3]=me-$e,oe+=4,N++}for(Z=oe=0;4>Z;++Z)me=(g=fe[oe+0]+4)+fe[oe+8],we=g-fe[oe+8],Be=(35468*fe[oe+4]>>16)-Ba(fe[oe+12]),fs(_,H,0,0,me+($e=Ba(fe[oe+4])+(35468*fe[oe+12]>>16))),fs(_,H,1,0,we+Be),fs(_,H,2,0,we-Be),fs(_,H,3,0,me-$e),oe++,H+=32}function ru(g,N,_,H){var Z=g[N+0]+4,oe=35468*g[N+4]>>16,fe=Ba(g[N+4]),me=35468*g[N+1]>>16;es(_,H,0,Z+fe,g=Ba(g[N+1]),me),es(_,H,1,Z+oe,g,me),es(_,H,2,Z-oe,g,me),es(_,H,3,Z-fe,g,me)}function au(g,N,_,H,Z){ql(g,N,_,H),Z&&ql(g,N+16,_,H+4)}function Kl(g,N,_,H){Ki(g,N+0,_,H,1),Ki(g,N+32,_,H+128,1)}function sl(g,N,_,H){var Z;for(g=g[N+0]+4,Z=0;4>Z;++Z)for(N=0;4>N;++N)fs(_,H,N,Z,g)}function Bd(g,N,_,H){g[N+0]&&pa(g,N+0,_,H),g[N+16]&&pa(g,N+16,_,H+4),g[N+32]&&pa(g,N+32,_,H+128),g[N+48]&&pa(g,N+48,_,H+128+4)}function Gl(g,N,_,H){var Z,oe=i(16);for(Z=0;4>Z;++Z){var fe=g[N+0+Z]+g[N+12+Z],me=g[N+4+Z]+g[N+8+Z],we=g[N+4+Z]-g[N+8+Z],Be=g[N+0+Z]-g[N+12+Z];oe[0+Z]=fe+me,oe[8+Z]=fe-me,oe[4+Z]=Be+we,oe[12+Z]=Be-we}for(Z=0;4>Z;++Z)fe=(g=oe[0+4*Z]+3)+oe[3+4*Z],me=oe[1+4*Z]+oe[2+4*Z],we=oe[1+4*Z]-oe[2+4*Z],Be=g-oe[3+4*Z],_[H+0]=fe+me>>3,_[H+16]=Be+we>>3,_[H+32]=fe-me>>3,_[H+48]=Be-we>>3,H+=64}function vo(g,N,_){var H,Z=N-32,oe=Tn,fe=255-g[Z-1];for(H=0;H<_;++H){var me,we=oe,Be=fe+g[N-1];for(me=0;me<_;++me)g[N+me]=we[Be+g[Z+me]];N+=32}}function Td(g,N){vo(g,N,4)}function nu(g,N){vo(g,N,8)}function su(g,N){vo(g,N,16)}function Wl(g,N){var _;for(_=0;16>_;++_)a(g,N+32*_,g,N-32,16)}function Yl(g,N){var _;for(_=16;0<_;--_)s(g,N,g[N-1],16),N+=32}function Vi(g,N,_){var H;for(H=0;16>H;++H)s(N,_+32*H,g,16)}function mi(g,N){var _,H=16;for(_=0;16>_;++_)H+=g[N-1+32*_]+g[N+_-32];Vi(H>>5,g,N)}function ai(g,N){var _,H=8;for(_=0;16>_;++_)H+=g[N-1+32*_];Vi(H>>4,g,N)}function Ro(g,N){var _,H=8;for(_=0;16>_;++_)H+=g[N+_-32];Vi(H>>4,g,N)}function il(g,N){Vi(128,g,N)}function Nr(g,N,_){return g+2*N+_+2>>2}function iu(g,N){var _,H=N-32;for(H=new Uint8Array([Nr(g[H-1],g[H+0],g[H+1]),Nr(g[H+0],g[H+1],g[H+2]),Nr(g[H+1],g[H+2],g[H+3]),Nr(g[H+2],g[H+3],g[H+4])]),_=0;4>_;++_)a(g,N+32*_,H,0,H.length)}function Du(g,N){var _=g[N-1],H=g[N-1+32],Z=g[N-1+64],oe=g[N-1+96];se(g,N+0,16843009*Nr(g[N-1-32],_,H)),se(g,N+32,16843009*Nr(_,H,Z)),se(g,N+64,16843009*Nr(H,Z,oe)),se(g,N+96,16843009*Nr(Z,oe,oe))}function so(g,N){var _,H=4;for(_=0;4>_;++_)H+=g[N+_-32]+g[N-1+32*_];for(H>>=3,_=0;4>_;++_)s(g,N+32*_,H,4)}function Qo(g,N){var _=g[N-1+0],H=g[N-1+32],Z=g[N-1+64],oe=g[N-1-32],fe=g[N+0-32],me=g[N+1-32],we=g[N+2-32],Be=g[N+3-32];g[N+0+96]=Nr(H,Z,g[N-1+96]),g[N+1+96]=g[N+0+64]=Nr(_,H,Z),g[N+2+96]=g[N+1+64]=g[N+0+32]=Nr(oe,_,H),g[N+3+96]=g[N+2+64]=g[N+1+32]=g[N+0+0]=Nr(fe,oe,_),g[N+3+64]=g[N+2+32]=g[N+1+0]=Nr(me,fe,oe),g[N+3+32]=g[N+2+0]=Nr(we,me,fe),g[N+3+0]=Nr(Be,we,me)}function Ho(g,N){var _=g[N+1-32],H=g[N+2-32],Z=g[N+3-32],oe=g[N+4-32],fe=g[N+5-32],me=g[N+6-32],we=g[N+7-32];g[N+0+0]=Nr(g[N+0-32],_,H),g[N+1+0]=g[N+0+32]=Nr(_,H,Z),g[N+2+0]=g[N+1+32]=g[N+0+64]=Nr(H,Z,oe),g[N+3+0]=g[N+2+32]=g[N+1+64]=g[N+0+96]=Nr(Z,oe,fe),g[N+3+32]=g[N+2+64]=g[N+1+96]=Nr(oe,fe,me),g[N+3+64]=g[N+2+96]=Nr(fe,me,we),g[N+3+96]=Nr(me,we,we)}function Fi(g,N){var _=g[N-1+0],H=g[N-1+32],Z=g[N-1+64],oe=g[N-1-32],fe=g[N+0-32],me=g[N+1-32],we=g[N+2-32],Be=g[N+3-32];g[N+0+0]=g[N+1+64]=oe+fe+1>>1,g[N+1+0]=g[N+2+64]=fe+me+1>>1,g[N+2+0]=g[N+3+64]=me+we+1>>1,g[N+3+0]=we+Be+1>>1,g[N+0+96]=Nr(Z,H,_),g[N+0+64]=Nr(H,_,oe),g[N+0+32]=g[N+1+96]=Nr(_,oe,fe),g[N+1+32]=g[N+2+96]=Nr(oe,fe,me),g[N+2+32]=g[N+3+96]=Nr(fe,me,we),g[N+3+32]=Nr(me,we,Be)}function ws(g,N){var _=g[N+0-32],H=g[N+1-32],Z=g[N+2-32],oe=g[N+3-32],fe=g[N+4-32],me=g[N+5-32],we=g[N+6-32],Be=g[N+7-32];g[N+0+0]=_+H+1>>1,g[N+1+0]=g[N+0+64]=H+Z+1>>1,g[N+2+0]=g[N+1+64]=Z+oe+1>>1,g[N+3+0]=g[N+2+64]=oe+fe+1>>1,g[N+0+32]=Nr(_,H,Z),g[N+1+32]=g[N+0+96]=Nr(H,Z,oe),g[N+2+32]=g[N+1+96]=Nr(Z,oe,fe),g[N+3+32]=g[N+2+96]=Nr(oe,fe,me),g[N+3+64]=Nr(fe,me,we),g[N+3+96]=Nr(me,we,Be)}function Fd(g,N){var _=g[N-1+0],H=g[N-1+32],Z=g[N-1+64],oe=g[N-1+96];g[N+0+0]=_+H+1>>1,g[N+2+0]=g[N+0+32]=H+Z+1>>1,g[N+2+32]=g[N+0+64]=Z+oe+1>>1,g[N+1+0]=Nr(_,H,Z),g[N+3+0]=g[N+1+32]=Nr(H,Z,oe),g[N+3+32]=g[N+1+64]=Nr(Z,oe,oe),g[N+3+64]=g[N+2+64]=g[N+0+96]=g[N+1+96]=g[N+2+96]=g[N+3+96]=oe}function Nl(g,N){var _=g[N-1+0],H=g[N-1+32],Z=g[N-1+64],oe=g[N-1+96],fe=g[N-1-32],me=g[N+0-32],we=g[N+1-32],Be=g[N+2-32];g[N+0+0]=g[N+2+32]=_+fe+1>>1,g[N+0+32]=g[N+2+64]=H+_+1>>1,g[N+0+64]=g[N+2+96]=Z+H+1>>1,g[N+0+96]=oe+Z+1>>1,g[N+3+0]=Nr(me,we,Be),g[N+2+0]=Nr(fe,me,we),g[N+1+0]=g[N+3+32]=Nr(_,fe,me),g[N+1+32]=g[N+3+64]=Nr(H,_,fe),g[N+1+64]=g[N+3+96]=Nr(Z,H,_),g[N+1+96]=Nr(oe,Z,H)}function rd(g,N){var _;for(_=0;8>_;++_)a(g,N+32*_,g,N-32,8)}function $o(g,N){var _;for(_=0;8>_;++_)s(g,N,g[N-1],8),N+=32}function bo(g,N,_){var H;for(H=0;8>H;++H)s(N,_+32*H,g,8)}function zo(g,N){var _,H=8;for(_=0;8>_;++_)H+=g[N+_-32]+g[N-1+32*_];bo(H>>4,g,N)}function pi(g,N){var _,H=4;for(_=0;8>_;++_)H+=g[N+_-32];bo(H>>3,g,N)}function _i(g,N){var _,H=4;for(_=0;8>_;++_)H+=g[N-1+32*_];bo(H>>3,g,N)}function ol(g,N){bo(128,g,N)}function io(g,N,_){var H=g[N-_],Z=g[N+0],oe=3*(Z-H)+ou[1020+g[N-2*_]-g[N+_]],fe=Cc[112+(oe+4>>3)];g[N-_]=Tn[255+H+Cc[112+(oe+3>>3)]],g[N+0]=Tn[255+Z-fe]}function bc(g,N,_,H){var Z=g[N+0],oe=g[N+_];return js[255+g[N-2*_]-g[N-_]]>H||js[255+oe-Z]>H}function ts(g,N,_,H){return 4*js[255+g[N-_]-g[N+0]]+js[255+g[N-2*_]-g[N+_]]<=H}function Xl(g,N,_,H,Z){var oe=g[N-3*_],fe=g[N-2*_],me=g[N-_],we=g[N+0],Be=g[N+_],$e=g[N+2*_],ft=g[N+3*_];return 4*js[255+me-we]+js[255+fe-Be]>H?0:js[255+g[N-4*_]-oe]<=Z&&js[255+oe-fe]<=Z&&js[255+fe-me]<=Z&&js[255+ft-$e]<=Z&&js[255+$e-Be]<=Z&&js[255+Be-we]<=Z}function qi(g,N,_,H){var Z=2*H+1;for(H=0;16>H;++H)ts(g,N+H,_,Z)&&io(g,N+H,_)}function gi(g,N,_,H){var Z=2*H+1;for(H=0;16>H;++H)ts(g,N+H*_,1,Z)&&io(g,N+H*_,1)}function ll(g,N,_,H){var Z;for(Z=3;0<Z;--Z)qi(g,N+=4*_,_,H)}function Mu(g,N,_,H){var Z;for(Z=3;0<Z;--Z)gi(g,N+=4,_,H)}function oo(g,N,_,H,Z,oe,fe,me){for(oe=2*oe+1;0<Z--;){if(Xl(g,N,_,oe,fe))if(bc(g,N,_,me))io(g,N,_);else{var we=g,Be=N,$e=_,ft=we[Be-2*$e],Ue=we[Be-$e],Xe=we[Be+0],gt=we[Be+$e],St=we[Be+2*$e],et=27*(Ct=ou[1020+3*(Xe-Ue)+ou[1020+ft-gt]])+63>>7,ht=18*Ct+63>>7,Ct=9*Ct+63>>7;we[Be-3*$e]=Tn[255+we[Be-3*$e]+Ct],we[Be-2*$e]=Tn[255+ft+ht],we[Be-$e]=Tn[255+Ue+et],we[Be+0]=Tn[255+Xe-et],we[Be+$e]=Tn[255+gt-ht],we[Be+2*$e]=Tn[255+St-Ct]}N+=H}}function Os(g,N,_,H,Z,oe,fe,me){for(oe=2*oe+1;0<Z--;){if(Xl(g,N,_,oe,fe))if(bc(g,N,_,me))io(g,N,_);else{var we=g,Be=N,$e=_,ft=we[Be-$e],Ue=we[Be+0],Xe=we[Be+$e],gt=Cc[112+((St=3*(Ue-ft))+4>>3)],St=Cc[112+(St+3>>3)],et=gt+1>>1;we[Be-2*$e]=Tn[255+we[Be-2*$e]+et],we[Be-$e]=Tn[255+ft+St],we[Be+0]=Tn[255+Ue-gt],we[Be+$e]=Tn[255+Xe-et]}N+=H}}function cl(g,N,_,H,Z,oe){oo(g,N,_,1,16,H,Z,oe)}function Jl(g,N,_,H,Z,oe){oo(g,N,1,_,16,H,Z,oe)}function ad(g,N,_,H,Z,oe){var fe;for(fe=3;0<fe;--fe)Os(g,N+=4*_,_,1,16,H,Z,oe)}function lo(g,N,_,H,Z,oe){var fe;for(fe=3;0<fe;--fe)Os(g,N+=4,1,_,16,H,Z,oe)}function ue(g,N,_,H,Z,oe,fe,me){oo(g,N,Z,1,8,oe,fe,me),oo(_,H,Z,1,8,oe,fe,me)}function He(g,N,_,H,Z,oe,fe,me){oo(g,N,1,Z,8,oe,fe,me),oo(_,H,1,Z,8,oe,fe,me)}function jt(g,N,_,H,Z,oe,fe,me){Os(g,N+4*Z,Z,1,8,oe,fe,me),Os(_,H+4*Z,Z,1,8,oe,fe,me)}function kt(g,N,_,H,Z,oe,fe,me){Os(g,N+4,1,Z,8,oe,fe,me),Os(_,H+4,1,Z,8,oe,fe,me)}function Qt(){this.ba=new tt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new _t,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function lr(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function mr(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Hr(){this.ua=0,this.Wa=new ge,this.vb=new ge,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new W,this.yc=new I}function Kr(){this.xb=this.a=0,this.l=new Ti,this.ca=new tt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new B,this.Pb=0,this.wd=new B,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Hr,this.ab=0,this.gc=o(4,mr),this.Oc=0}function fa(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ti,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ma(g,N,_,H,Z,oe,fe){for(g=g==null?0:g[N+0],N=0;N<fe;++N)Z[oe+N]=g+_[H+N]&255,g=Z[oe+N]}function nn(g,N,_,H,Z,oe,fe){var me;if(g==null)ma(null,null,_,H,Z,oe,fe);else for(me=0;me<fe;++me)Z[oe+me]=g[N+me]+_[H+me]&255}function Bn(g,N,_,H,Z,oe,fe){if(g==null)ma(null,null,_,H,Z,oe,fe);else{var me,we=g[N+0],Be=we,$e=we;for(me=0;me<fe;++me)Be=$e+(we=g[N+me])-Be,$e=_[H+me]+(-256&Be?0>Be?0:255:Be)&255,Be=we,Z[oe+me]=$e}}function hs(g,N,_,H){var Z=N.width,oe=N.o;if(t(g!=null&&N!=null),0>_||0>=H||_+H>oe)return null;if(!g.Cc){if(g.ga==null){var fe;if(g.ga=new fa,(fe=g.ga==null)||(fe=N.width*N.o,t(g.Gb.length==0),g.Gb=i(fe),g.Uc=0,g.Gb==null?fe=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,fe=1),fe=!fe),!fe){fe=g.ga;var me=g.Fa,we=g.P,Be=g.qc,$e=g.mb,ft=g.nb,Ue=we+1,Xe=Be-1,gt=fe.l;if(t(me!=null&&$e!=null&&N!=null),Ii[0]=null,Ii[1]=ma,Ii[2]=nn,Ii[3]=Bn,fe.ca=$e,fe.tb=ft,fe.c=N.width,fe.i=N.height,t(0<fe.c&&0<fe.i),1>=Be)N=0;else if(fe.$a=me[we+0]>>0&3,fe.Z=me[we+0]>>2&3,fe.Lc=me[we+0]>>4&3,we=me[we+0]>>6&3,0>fe.$a||1<fe.$a||4<=fe.Z||1<fe.Lc||we)N=0;else if(gt.put=Ea,gt.ac=Dr,gt.bc=Fr,gt.ma=fe,gt.width=N.width,gt.height=N.height,gt.Da=N.Da,gt.v=N.v,gt.va=N.va,gt.j=N.j,gt.o=N.o,fe.$a)e:{t(fe.$a==1),N=Ye();t:for(;;){if(N==null){N=0;break e}if(t(fe!=null),fe.mc=N,N.c=fe.c,N.i=fe.i,N.l=fe.l,N.l.ma=fe,N.l.width=fe.c,N.l.height=fe.i,N.a=0,re(N.m,me,Ue,Xe),!Ee(fe.c,fe.i,1,N,null)||(N.ab==1&&N.gc[0].hc==3&&ot(N.s)?(fe.ic=1,me=N.c*N.i,N.Ta=null,N.Ua=0,N.V=i(me),N.Ba=0,N.V==null?(N.a=1,N=0):N=1):(fe.ic=0,N=it(N,fe.c)),!N))break t;N=1;break e}fe.mc=null,N=0}else N=Xe>=fe.c*fe.i;fe=!N}if(fe)return null;g.ga.Lc!=1?g.Ga=0:H=oe-_}t(g.ga!=null),t(_+H<=oe);e:{if(N=(me=g.ga).c,oe=me.l.o,me.$a==0){if(Ue=g.rc,Xe=g.Vc,gt=g.Fa,we=g.P+1+_*N,Be=g.mb,$e=g.nb+_*N,t(we<=g.P+g.qc),me.Z!=0)for(t(Ii[me.Z]!=null),fe=0;fe<H;++fe)Ii[me.Z](Ue,Xe,gt,we,Be,$e,N),Ue=Be,Xe=$e,$e+=N,we+=N;else for(fe=0;fe<H;++fe)a(Be,$e,gt,we,N),Ue=Be,Xe=$e,$e+=N,we+=N;g.rc=Ue,g.Vc=Xe}else{if(t(me.mc!=null),N=_+H,t((fe=me.mc)!=null),t(N<=fe.i),fe.C>=N)N=1;else if(me.ic||Rt(),me.ic){me=fe.V,Ue=fe.Ba,Xe=fe.c;var St=fe.i,et=(gt=1,we=fe.$/Xe,Be=fe.$%Xe,$e=fe.m,ft=fe.s,fe.$),ht=Xe*St,Ct=Xe*N,Pt=ft.wc,Tt=et<Ct?Xt(ft,Be,we):null;t(et<=ht),t(N<=St),t(ot(ft));t:for(;;){for(;!$e.h&&et<Ct;){if(Be&Pt||(Tt=Xt(ft,Be,we)),t(Tt!=null),pe($e),256>(St=oa(Tt.G[0],Tt.H[0],$e)))me[Ue+et]=St,++et,++Be>=Xe&&(Be=0,++we<=N&&!(we%16)&&Ie(fe,we));else{if(!(280>St)){gt=0;break t}St=Sr(St-256,$e);var nr,Jt=oa(Tt.G[4],Tt.H[4],$e);if(pe($e),!(et>=(Jt=ca(Xe,Jt=Sr(Jt,$e)))&&ht-et>=St)){gt=0;break t}for(nr=0;nr<St;++nr)me[Ue+et+nr]=me[Ue+et+nr-Jt];for(et+=St,Be+=St;Be>=Xe;)Be-=Xe,++we<=N&&!(we%16)&&Ie(fe,we);et<Ct&&Be&Pt&&(Tt=Xt(ft,Be,we))}t($e.h==G($e))}Ie(fe,we>N?N:we);break t}!gt||$e.h&&et<ht?(gt=0,fe.a=$e.h?5:3):fe.$=et,N=gt}else N=Ne(fe,fe.V,fe.Ba,fe.c,fe.i,N,vt);if(!N){H=0;break e}}_+H>=oe&&(g.Cc=1),H=1}if(!H)return null;if(g.Cc&&((H=g.ga)!=null&&(H.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+_*Z}function te(g,N,_,H,Z,oe){for(;0<Z--;){var fe,me=g,we=N+(_?1:0),Be=g,$e=N+(_?0:3);for(fe=0;fe<H;++fe){var ft=Be[$e+4*fe];ft!=255&&(ft*=32897,me[we+4*fe+0]=me[we+4*fe+0]*ft>>23,me[we+4*fe+1]=me[we+4*fe+1]*ft>>23,me[we+4*fe+2]=me[we+4*fe+2]*ft>>23)}N+=oe}}function Re(g,N,_,H,Z){for(;0<H--;){var oe;for(oe=0;oe<_;++oe){var fe=g[N+2*oe+0],me=15&(Be=g[N+2*oe+1]),we=4369*me,Be=(240&Be|Be>>4)*we>>16;g[N+2*oe+0]=(240&fe|fe>>4)*we>>16&240|(15&fe|fe<<4)*we>>16>>4&15,g[N+2*oe+1]=240&Be|me}N+=Z}}function Nt(g,N,_,H,Z,oe,fe,me){var we,Be,$e=255;for(Be=0;Be<Z;++Be){for(we=0;we<H;++we){var ft=g[N+we];oe[fe+4*we]=ft,$e&=ft}N+=_,fe+=me}return $e!=255}function Bt(g,N,_,H,Z){var oe;for(oe=0;oe<Z;++oe)_[H+oe]=g[N+oe]>>8}function Rt(){ki=te,Ka=Re,Ga=Nt,Hn=Bt}function Zt(g,N,_){F[g]=function(H,Z,oe,fe,me,we,Be,$e,ft,Ue,Xe,gt,St,et,ht,Ct,Pt){var Tt,nr=Pt-1>>1,Jt=me[we+0]|Be[$e+0]<<16,wr=ft[Ue+0]|Xe[gt+0]<<16;t(H!=null);var rr=3*Jt+wr+131074>>2;for(N(H[Z+0],255&rr,rr>>16,St,et),oe!=null&&(rr=3*wr+Jt+131074>>2,N(oe[fe+0],255&rr,rr>>16,ht,Ct)),Tt=1;Tt<=nr;++Tt){var $r=me[we+Tt]|Be[$e+Tt]<<16,ja=ft[Ue+Tt]|Xe[gt+Tt]<<16,kr=Jt+$r+wr+ja+524296,$t=kr+2*($r+wr)>>3;rr=$t+Jt>>1,Jt=(kr=kr+2*(Jt+ja)>>3)+$r>>1,N(H[Z+2*Tt-1],255&rr,rr>>16,St,et+(2*Tt-1)*_),N(H[Z+2*Tt-0],255&Jt,Jt>>16,St,et+(2*Tt-0)*_),oe!=null&&(rr=kr+wr>>1,Jt=$t+ja>>1,N(oe[fe+2*Tt-1],255&rr,rr>>16,ht,Ct+(2*Tt-1)*_),N(oe[fe+2*Tt+0],255&Jt,Jt>>16,ht,Ct+(2*Tt+0)*_)),Jt=$r,wr=ja}1&Pt||(rr=3*Jt+wr+131074>>2,N(H[Z+Pt-1],255&rr,rr>>16,St,et+(Pt-1)*_),oe!=null&&(rr=3*wr+Jt+131074>>2,N(oe[fe+Pt-1],255&rr,rr>>16,ht,Ct+(Pt-1)*_)))}}function yr(){In[yi]=cd,In[id]=Go,In[fo]=_c,In[Id]=gf,In[Ec]=xf,In[qo]=Au,In[pf]=gh,In[lu]=Go,In[Bc]=gf,In[Cl]=xf,In[rc]=Au}function Pr(g){return g&-16384?0>g?0:255:g>>D0}function Vr(g,N){return Pr((19077*g>>8)+(26149*N>>8)-14234)}function da(g,N,_){return Pr((19077*g>>8)-(6419*N>>8)-(13320*_>>8)+8708)}function ua(g,N){return Pr((19077*g>>8)+(33050*N>>8)-17685)}function Ma(g,N,_,H,Z){H[Z+0]=Vr(g,_),H[Z+1]=da(g,N,_),H[Z+2]=ua(g,N)}function An(g,N,_,H,Z){H[Z+0]=ua(g,N),H[Z+1]=da(g,N,_),H[Z+2]=Vr(g,_)}function Pa(g,N,_,H,Z){var oe=da(g,N,_);N=oe<<3&224|ua(g,N)>>3,H[Z+0]=248&Vr(g,_)|oe>>5,H[Z+1]=N}function ia(g,N,_,H,Z){var oe=240&ua(g,N)|15;H[Z+0]=240&Vr(g,_)|da(g,N,_)>>4,H[Z+1]=oe}function Rn(g,N,_,H,Z){H[Z+0]=255,Ma(g,N,_,H,Z+1)}function As(g,N,_,H,Z){An(g,N,_,H,Z),H[Z+3]=255}function co(g,N,_,H,Z){Ma(g,N,_,H,Z),H[Z+3]=255}function Va(g,N){return 0>g?0:g>N?N:g}function Dn(g,N,_){F[g]=function(H,Z,oe,fe,me,we,Be,$e,ft){for(var Ue=$e+(-2&ft)*_;$e!=Ue;)N(H[Z+0],oe[fe+0],me[we+0],Be,$e),N(H[Z+1],oe[fe+0],me[we+0],Be,$e+_),Z+=2,++fe,++we,$e+=2*_;1&ft&&N(H[Z+0],oe[fe+0],me[we+0],Be,$e)}}function wc(g,N,_){return _==0?g==0?N==0?6:5:N==0?4:0:_}function xi(g,N,_,H,Z){switch(g>>>30){case 3:Ki(N,_,H,Z,0);break;case 2:yn(N,_,H,Z);break;case 1:pa(N,_,H,Z)}}function qa(g,N){var _,H,Z=N.M,oe=N.Nb,fe=g.oc,me=g.pc+40,we=g.oc,Be=g.pc+584,$e=g.oc,ft=g.pc+600;for(_=0;16>_;++_)fe[me+32*_-1]=129;for(_=0;8>_;++_)we[Be+32*_-1]=129,$e[ft+32*_-1]=129;for(0<Z?fe[me-1-32]=we[Be-1-32]=$e[ft-1-32]=129:(s(fe,me-32-1,127,21),s(we,Be-32-1,127,9),s($e,ft-32-1,127,9)),H=0;H<g.za;++H){var Ue=N.ya[N.aa+H];if(0<H){for(_=-1;16>_;++_)a(fe,me+32*_-4,fe,me+32*_+12,4);for(_=-1;8>_;++_)a(we,Be+32*_-4,we,Be+32*_+4,4),a($e,ft+32*_-4,$e,ft+32*_+4,4)}var Xe=g.Gd,gt=g.Hd+H,St=Ue.ad,et=Ue.Hc;if(0<Z&&(a(fe,me-32,Xe[gt].y,0,16),a(we,Be-32,Xe[gt].f,0,8),a($e,ft-32,Xe[gt].ea,0,8)),Ue.Za){var ht=fe,Ct=me-32+16;for(0<Z&&(H>=g.za-1?s(ht,Ct,Xe[gt].y[15],4):a(ht,Ct,Xe[gt+1].y,0,4)),_=0;4>_;_++)ht[Ct+128+_]=ht[Ct+256+_]=ht[Ct+384+_]=ht[Ct+0+_];for(_=0;16>_;++_,et<<=2)ht=fe,Ct=me+Pd[_],ss[Ue.Ob[_]](ht,Ct),xi(et,St,16*+_,ht,Ct)}else if(ht=wc(H,Z,Ue.Ob[0]),ho[ht](fe,me),et!=0)for(_=0;16>_;++_,et<<=2)xi(et,St,16*+_,fe,me+Pd[_]);for(_=Ue.Gc,ht=wc(H,Z,Ue.Dd),gs[ht](we,Be),gs[ht]($e,ft),et=St,ht=we,Ct=Be,255&(Ue=_>>0)&&(170&Ue?Ns(et,256,ht,Ct):$a(et,256,ht,Ct)),Ue=$e,et=ft,255&(_>>=8)&&(170&_?Ns(St,320,Ue,et):$a(St,320,Ue,et)),Z<g.Ub-1&&(a(Xe[gt].y,0,fe,me+480,16),a(Xe[gt].f,0,we,Be+224,8),a(Xe[gt].ea,0,$e,ft+224,8)),_=8*oe*g.B,Xe=g.sa,gt=g.ta+16*H+16*oe*g.R,St=g.qa,Ue=g.ra+8*H+_,et=g.Ha,ht=g.Ia+8*H+_,_=0;16>_;++_)a(Xe,gt+_*g.R,fe,me+32*_,16);for(_=0;8>_;++_)a(St,Ue+_*g.B,we,Be+32*_,8),a(et,ht+_*g.B,$e,ft+32*_,8)}}function dl(g,N,_,H,Z,oe,fe,me,we){var Be=[0],$e=[0],ft=0,Ue=we!=null?we.kd:0,Xe=we??new lr;if(g==null||12>_)return 7;Xe.data=g,Xe.w=N,Xe.ha=_,N=[N],_=[_],Xe.gb=[Xe.gb];e:{var gt=N,St=_,et=Xe.gb;if(t(g!=null),t(St!=null),t(et!=null),et[0]=0,12<=St[0]&&!r(g,gt[0],"RIFF")){if(r(g,gt[0]+8,"WEBP")){et=3;break e}var ht=Ce(g,gt[0]+4);if(12>ht||4294967286<ht){et=3;break e}if(Ue&&ht>St[0]-8){et=7;break e}et[0]=ht,gt[0]+=12,St[0]-=12}et=0}if(et!=0)return et;for(ht=0<Xe.gb[0],_=_[0];;){e:{var Ct=g;St=N,et=_;var Pt=Be,Tt=$e,nr=gt=[0];if((rr=ft=[ft])[0]=0,8>et[0])et=7;else{if(!r(Ct,St[0],"VP8X")){if(Ce(Ct,St[0]+4)!=10){et=3;break e}if(18>et[0]){et=7;break e}var Jt=Ce(Ct,St[0]+8),wr=1+be(Ct,St[0]+12);if(2147483648<=wr*(Ct=1+be(Ct,St[0]+15))){et=3;break e}nr!=null&&(nr[0]=Jt),Pt!=null&&(Pt[0]=wr),Tt!=null&&(Tt[0]=Ct),St[0]+=18,et[0]-=18,rr[0]=1}et=0}}if(ft=ft[0],gt=gt[0],et!=0)return et;if(St=!!(2&gt),!ht&&ft)return 3;if(oe!=null&&(oe[0]=!!(16&gt)),fe!=null&&(fe[0]=St),me!=null&&(me[0]=0),fe=Be[0],gt=$e[0],ft&&St&&we==null){et=0;break}if(4>_){et=7;break}if(ht&&ft||!ht&&!ft&&!r(g,N[0],"ALPH")){_=[_],Xe.na=[Xe.na],Xe.P=[Xe.P],Xe.Sa=[Xe.Sa];e:{Jt=g,et=N,ht=_;var rr=Xe.gb;Pt=Xe.na,Tt=Xe.P,nr=Xe.Sa,wr=22,t(Jt!=null),t(ht!=null),Ct=et[0];var $r=ht[0];for(t(Pt!=null),t(nr!=null),Pt[0]=null,Tt[0]=null,nr[0]=0;;){if(et[0]=Ct,ht[0]=$r,8>$r){et=7;break e}var ja=Ce(Jt,Ct+4);if(4294967286<ja){et=3;break e}var kr=8+ja+1&-2;if(wr+=kr,0<rr&&wr>rr){et=3;break e}if(!r(Jt,Ct,"VP8 ")||!r(Jt,Ct,"VP8L")){et=0;break e}if($r[0]<kr){et=7;break e}r(Jt,Ct,"ALPH")||(Pt[0]=Jt,Tt[0]=Ct+8,nr[0]=ja),Ct+=kr,$r-=kr}}if(_=_[0],Xe.na=Xe.na[0],Xe.P=Xe.P[0],Xe.Sa=Xe.Sa[0],et!=0)break}_=[_],Xe.Ja=[Xe.Ja],Xe.xa=[Xe.xa];e:if(rr=g,et=N,ht=_,Pt=Xe.gb[0],Tt=Xe.Ja,nr=Xe.xa,Jt=et[0],Ct=!r(rr,Jt,"VP8 "),wr=!r(rr,Jt,"VP8L"),t(rr!=null),t(ht!=null),t(Tt!=null),t(nr!=null),8>ht[0])et=7;else{if(Ct||wr){if(rr=Ce(rr,Jt+4),12<=Pt&&rr>Pt-12){et=3;break e}if(Ue&&rr>ht[0]-8){et=7;break e}Tt[0]=rr,et[0]+=8,ht[0]-=8,nr[0]=wr}else nr[0]=5<=ht[0]&&rr[Jt+0]==47&&!(rr[Jt+4]>>5),Tt[0]=ht[0];et=0}if(_=_[0],Xe.Ja=Xe.Ja[0],Xe.xa=Xe.xa[0],N=N[0],et!=0)break;if(4294967286<Xe.Ja)return 3;if(me==null||St||(me[0]=Xe.xa?2:1),fe=[fe],gt=[gt],Xe.xa){if(5>_){et=7;break}me=fe,Ue=gt,St=oe,g==null||5>_?g=0:5<=_&&g[N+0]==47&&!(g[N+4]>>5)?(ht=[0],rr=[0],Pt=[0],re(Tt=new B,g,N,_),jr(Tt,ht,rr,Pt)?(me!=null&&(me[0]=ht[0]),Ue!=null&&(Ue[0]=rr[0]),St!=null&&(St[0]=Pt[0]),g=1):g=0):g=0}else{if(10>_){et=7;break}me=gt,g==null||10>_||!hn(g,N+3,_-3)?g=0:(Ue=g[N+0]|g[N+1]<<8|g[N+2]<<16,St=16383&(g[N+7]<<8|g[N+6]),g=16383&(g[N+9]<<8|g[N+8]),1&Ue||3<(Ue>>1&7)||!(Ue>>4&1)||Ue>>5>=Xe.Ja||!St||!g?g=0:(fe&&(fe[0]=St),me&&(me[0]=g),g=1))}if(!g||(fe=fe[0],gt=gt[0],ft&&(Be[0]!=fe||$e[0]!=gt)))return 3;we!=null&&(we[0]=Xe,we.offset=N-we.w,t(4294967286>N-we.w),t(we.offset==we.ha-_));break}return et==0||et==7&&ft&&we==null?(oe!=null&&(oe[0]|=Xe.na!=null&&0<Xe.na.length),H!=null&&(H[0]=fe),Z!=null&&(Z[0]=gt),0):et}function Mn(g,N,_){var H=N.width,Z=N.height,oe=0,fe=0,me=H,we=Z;if(N.Da=g!=null&&0<g.Da,N.Da&&(me=g.cd,we=g.bd,oe=g.v,fe=g.j,11>_||(oe&=-2,fe&=-2),0>oe||0>fe||0>=me||0>=we||oe+me>H||fe+we>Z))return 0;if(N.v=oe,N.j=fe,N.va=oe+me,N.o=fe+we,N.U=me,N.T=we,N.da=g!=null&&0<g.da,N.da){if(!Je(me,we,_=[g.ib],oe=[g.hb]))return 0;N.ib=_[0],N.hb=oe[0]}return N.ob=g!=null&&g.ob,N.Kb=g==null||!g.Sd,N.da&&(N.ob=N.ib<3*H/4&&N.hb<3*Z/4,N.Kb=0),1}function jl(g){if(g==null)return 2;if(11>g.S){var N=g.f.RGBA;N.fb+=(g.height-1)*N.A,N.A=-N.A}else N=g.f.kb,g=g.height,N.O+=(g-1)*N.fa,N.fa=-N.fa,N.N+=(g-1>>1)*N.Ab,N.Ab=-N.Ab,N.W+=(g-1>>1)*N.Db,N.Db=-N.Db,N.F!=null&&(N.J+=(g-1)*N.lb,N.lb=-N.lb);return 0}function Vs(g,N,_,H){if(H==null||0>=g||0>=N)return 2;if(_!=null){if(_.Da){var Z=_.cd,oe=_.bd,fe=-2&_.v,me=-2&_.j;if(0>fe||0>me||0>=Z||0>=oe||fe+Z>g||me+oe>N)return 2;g=Z,N=oe}if(_.da){if(!Je(g,N,Z=[_.ib],oe=[_.hb]))return 2;g=Z[0],N=oe[0]}}H.width=g,H.height=N;e:{var we=H.width,Be=H.height;if(g=H.S,0>=we||0>=Be||!(g>=yi&&13>g))g=2;else{if(0>=H.Rd&&H.sd==null){fe=oe=Z=N=0;var $e=(me=we*uA[g])*Be;if(11>g||(oe=(Be+1)/2*(N=(we+1)/2),g==12&&(fe=(Z=we)*Be)),(Be=i($e+2*oe+fe))==null){g=1;break e}H.sd=Be,11>g?((we=H.f.RGBA).eb=Be,we.fb=0,we.A=me,we.size=$e):((we=H.f.kb).y=Be,we.O=0,we.fa=me,we.Fd=$e,we.f=Be,we.N=0+$e,we.Ab=N,we.Cd=oe,we.ea=Be,we.W=0+$e+oe,we.Db=N,we.Ed=oe,g==12&&(we.F=Be,we.J=0+$e+2*oe),we.Tc=fe,we.lb=Z)}if(N=1,Z=H.S,oe=H.width,fe=H.height,Z>=yi&&13>Z)if(11>Z)g=H.f.RGBA,N&=(me=Math.abs(g.A))*(fe-1)+oe<=g.size,N&=me>=oe*uA[Z],N&=g.eb!=null;else{g=H.f.kb,me=(oe+1)/2,$e=(fe+1)/2,we=Math.abs(g.fa),Be=Math.abs(g.Ab);var ft=Math.abs(g.Db),Ue=Math.abs(g.lb),Xe=Ue*(fe-1)+oe;N&=we*(fe-1)+oe<=g.Fd,N&=Be*($e-1)+me<=g.Cd,N=(N&=ft*($e-1)+me<=g.Ed)&we>=oe&Be>=me&ft>=me,N&=g.y!=null,N&=g.f!=null,N&=g.ea!=null,Z==12&&(N&=Ue>=oe,N&=Xe<=g.Tc,N&=g.F!=null)}else N=0;g=N?0:2}}return g!=0||_!=null&&_.fd&&(g=jl(H)),g}var kn=64,Ta=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ni=24,wo=32,No=8,Ds=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];nt("Predictor0","PredictorAdd0"),F.Predictor0=function(){return 4278190080},F.Predictor1=function(g){return g},F.Predictor2=function(g,N,_){return N[_+0]},F.Predictor3=function(g,N,_){return N[_+1]},F.Predictor4=function(g,N,_){return N[_-1]},F.Predictor5=function(g,N,_){return Me(Me(g,N[_+1]),N[_+0])},F.Predictor6=function(g,N,_){return Me(g,N[_-1])},F.Predictor7=function(g,N,_){return Me(g,N[_+0])},F.Predictor8=function(g,N,_){return Me(N[_-1],N[_+0])},F.Predictor9=function(g,N,_){return Me(N[_+0],N[_+1])},F.Predictor10=function(g,N,_){return Me(Me(g,N[_-1]),Me(N[_+0],N[_+1]))},F.Predictor11=function(g,N,_){var H=N[_+0];return 0>=Ve(H>>24&255,g>>24&255,(N=N[_-1])>>24&255)+Ve(H>>16&255,g>>16&255,N>>16&255)+Ve(H>>8&255,g>>8&255,N>>8&255)+Ve(255&H,255&g,255&N)?H:g},F.Predictor12=function(g,N,_){var H=N[_+0];return(at((g>>24&255)+(H>>24&255)-((N=N[_-1])>>24&255))<<24|at((g>>16&255)+(H>>16&255)-(N>>16&255))<<16|at((g>>8&255)+(H>>8&255)-(N>>8&255))<<8|at((255&g)+(255&H)-(255&N)))>>>0},F.Predictor13=function(g,N,_){var H=N[_-1];return(ke((g=Me(g,N[_+0]))>>24&255,H>>24&255)<<24|ke(g>>16&255,H>>16&255)<<16|ke(g>>8&255,H>>8&255)<<8|ke(g>>0&255,H>>0&255))>>>0};var Nc=F.PredictorAdd0;F.PredictorAdd1=ze,nt("Predictor2","PredictorAdd2"),nt("Predictor3","PredictorAdd3"),nt("Predictor4","PredictorAdd4"),nt("Predictor5","PredictorAdd5"),nt("Predictor6","PredictorAdd6"),nt("Predictor7","PredictorAdd7"),nt("Predictor8","PredictorAdd8"),nt("Predictor9","PredictorAdd9"),nt("Predictor10","PredictorAdd10"),nt("Predictor11","PredictorAdd11"),nt("Predictor12","PredictorAdd12"),nt("Predictor13","PredictorAdd13");var Zl=F.PredictorAdd2;Le("ColorIndexInverseTransform","MapARGB","32b",(function(g){return g>>8&255}),(function(g){return g})),Le("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(g){return g}),(function(g){return g>>8&255}));var rs,Vn=F.ColorIndexInverseTransform,mn=F.MapARGB,ms=F.VP8LColorIndexInverseTransformAlpha,qn=F.MapAlpha,si=F.VP8LPredictorsAdd=[];si.length=16,(F.VP8LPredictors=[]).length=16,(F.VP8LPredictorsAdd_C=[]).length=16,(F.VP8LPredictors_C=[]).length=16;var ul,ii,Kn,uo,qs,Ks,as,Ki,yn,Ns,pa,$a,Qn,Ja,jo,Sl,fl,Vo,_d,kd,jc,ec,nd,ps,ki,Ka,Ga,Hn,ns=i(511),hl=i(2041),sd=i(225),tc=i(767),Sc=0,ou=hl,Cc=sd,Tn=tc,js=ns,yi=0,id=1,fo=2,Id=3,Ec=4,qo=5,pf=6,lu=7,Bc=8,Cl=9,rc=10,ph=[2,3,7],El=[3,3,11],Ko=[280,256,256,256,40],cu=[0,1,1,1,0],Bl=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],od=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],du=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],mm=8,uu=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Tc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ss=null,Ms=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],jn=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ld=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Fc=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],iA=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],fu=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],pm=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ho=[],ss=[],gs=[],gm=1,hu=2,Ii=[],In=[];Zt("UpsampleRgbLinePair",Ma,3),Zt("UpsampleBgrLinePair",An,3),Zt("UpsampleRgbaLinePair",co,4),Zt("UpsampleBgraLinePair",As,4),Zt("UpsampleArgbLinePair",Rn,4),Zt("UpsampleRgba4444LinePair",ia,2),Zt("UpsampleRgb565LinePair",Pa,2);var cd=F.UpsampleRgbLinePair,_c=F.UpsampleBgrLinePair,Go=F.UpsampleRgbaLinePair,gf=F.UpsampleBgraLinePair,xf=F.UpsampleArgbLinePair,Au=F.UpsampleRgba4444LinePair,gh=F.UpsampleRgb565LinePair,Al=16,Us=1<<Al-1,So=-227,Uu=482,D0=6,oA=0,M0=i(256),vi=i(256),lA=i(256),yf=i(256),vf=i(Uu-So),cA=i(Uu-So);Dn("YuvToRgbRow",Ma,3),Dn("YuvToBgrRow",An,3),Dn("YuvToRgbaRow",co,4),Dn("YuvToBgraRow",As,4),Dn("YuvToArgbRow",Rn,4),Dn("YuvToRgba4444Row",ia,2),Dn("YuvToRgb565Row",Pa,2);var Pd=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Tl=[0,2,8],U0=[8,7,6,4,4,2,2,2,1,1,1,1],dA=1;this.WebPDecodeRGBA=function(g,N,_,H,Z){var oe=id,fe=new Qt,me=new tt;fe.ba=me,me.S=oe,me.width=[me.width],me.height=[me.height];var we=me.width,Be=me.height,$e=new Ft;if($e==null||g==null)var ft=2;else t($e!=null),ft=dl(g,N,_,$e.width,$e.height,$e.Pd,$e.Qd,$e.format,null);if(ft!=0?we=0:(we!=null&&(we[0]=$e.width[0]),Be!=null&&(Be[0]=$e.height[0]),we=1),we){me.width=me.width[0],me.height=me.height[0],H!=null&&(H[0]=me.width),Z!=null&&(Z[0]=me.height);e:{if(H=new Ti,(Z=new lr).data=g,Z.w=N,Z.ha=_,Z.kd=1,N=[0],t(Z!=null),((g=dl(Z.data,Z.w,Z.ha,null,null,null,N,null,Z))==0||g==7)&&N[0]&&(g=4),(N=g)==0){if(t(fe!=null),H.data=Z.data,H.w=Z.w+Z.offset,H.ha=Z.ha-Z.offset,H.put=Ea,H.ac=Dr,H.bc=Fr,H.ma=fe,Z.xa){if((g=Ye())==null){fe=1;break e}if((function(Ue,Xe){var gt=[0],St=[0],et=[0];t:for(;;){if(Ue==null)return 0;if(Xe==null)return Ue.a=2,0;if(Ue.l=Xe,Ue.a=0,re(Ue.m,Xe.data,Xe.w,Xe.ha),!jr(Ue.m,gt,St,et)){Ue.a=3;break t}if(Ue.xb=hu,Xe.width=gt[0],Xe.height=St[0],!Ee(gt[0],St[0],1,Ue,null))break t;return 1}return t(Ue.a!=0),0})(g,H)){if(H=(N=Vs(H.width,H.height,fe.Oa,fe.ba))==0){t:{H=g;r:for(;;){if(H==null){H=0;break t}if(t(H.s.yc!=null),t(H.s.Ya!=null),t(0<H.s.Wb),t((_=H.l)!=null),t((Z=_.ma)!=null),H.xb!=0){if(H.ca=Z.ba,H.tb=Z.tb,t(H.ca!=null),!Mn(Z.Oa,_,Id)){H.a=2;break r}if(!it(H,_.width)||_.da)break r;if((_.da||mt(H.ca.S))&&Rt(),11>H.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),H.ca.f.kb.F!=null&&Rt()),H.Pb&&0<H.s.ua&&H.s.vb.X==null&&!ce(H.s.vb,H.s.Wa.Xa)){H.a=1;break r}H.xb=0}if(!Ne(H,H.V,H.Ba,H.c,H.i,_.o,ut))break r;Z.Dc=H.Ma,H=1;break t}t(H.a!=0),H=0}H=!H}H&&(N=g.a)}else N=g.a}else{if((g=new Ls)==null){fe=1;break e}if(g.Fa=Z.na,g.P=Z.P,g.qc=Z.Sa,Ed(g,H)){if((N=Vs(H.width,H.height,fe.Oa,fe.ba))==0){if(g.Aa=0,_=fe.Oa,t((Z=g)!=null),_!=null){if(0<(we=0>(we=_.Md)?0:100<we?255:255*we/100)){for(Be=$e=0;4>Be;++Be)12>(ft=Z.pb[Be]).lc&&(ft.ia=we*U0[0>ft.lc?0:ft.lc]>>3),$e|=ft.ia;$e&&(alert("todo:VP8InitRandom"),Z.ia=1)}Z.Ga=_.Id,100<Z.Ga?Z.Ga=100:0>Z.Ga&&(Z.Ga=0)}Uo(g,H)||(N=g.a)}}else N=g.a}N==0&&fe.Oa!=null&&fe.Oa.fd&&(N=jl(fe.ba))}fe=N}oe=fe!=0?null:11>oe?me.f.RGBA.eb:me.f.kb.y}else oe=null;return oe};var uA=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(F,Q){for(var U="",P=0;P<4;P++)U+=String.fromCharCode(F[Q++]);return U}function d(F,Q){return(F[Q+0]<<0|F[Q+1]<<8|F[Q+2]<<16)>>>0}function A(F,Q){return(F[Q+0]<<0|F[Q+1]<<8|F[Q+2]<<16|F[Q+3]<<24)>>>0}new c;var m=[0],h=[0],y=[],x=new c,v=e,b=(function(F,Q){var U={},P=0,I=!1,z=0,W=0;if(U.frames=[],!(function(R,G,ne,pe){for(var xe=0;xe<pe;xe++)if(R[G+xe]!=ne.charCodeAt(xe))return!0;return!1})(F,Q,"RIFF",4)){var ie,X;for(A(F,Q+=4),Q+=8;Q<F.length;){var le=u(F,Q),re=A(F,Q+=4);Q+=4;var he=re+(1&re);switch(le){case"VP8 ":case"VP8L":U.frames[P]===void 0&&(U.frames[P]={}),(B=U.frames[P]).src_off=I?W:Q-8,B.src_size=z+re+8,P++,I&&(I=!1,z=0,W=0);break;case"VP8X":(B=U.header={}).feature_flags=F[Q];var de=Q+4;B.canvas_width=1+d(F,de),de+=3,B.canvas_height=1+d(F,de),de+=3;break;case"ALPH":I=!0,z=he+8,W=Q-8;break;case"ANIM":(B=U.header).bgcolor=A(F,Q),de=Q+4,B.loop_count=(ie=F)[(X=de)+0]<<0|ie[X+1]<<8,de+=2;break;case"ANMF":var ve,B;(B=U.frames[P]={}).offset_x=2*d(F,Q),Q+=3,B.offset_y=2*d(F,Q),Q+=3,B.width=1+d(F,Q),Q+=3,B.height=1+d(F,Q),Q+=3,B.duration=d(F,Q),Q+=3,ve=F[Q++],B.dispose=1&ve,B.blend=ve>>1&1}le!="ANMF"&&(Q+=he)}return U}})(v,0);b.response=v,b.rgbaoutput=!0,b.dataurl=!1;var j=b.header?b.header:null,C=b.frames?b.frames:null;if(j){j.loop_counter=j.loop_count,m=[j.canvas_height],h=[j.canvas_width];for(var E=0;E<C.length&&C[E].blend!=0;E++);}var k=C[0],D=x.WebPDecodeRGBA(v,k.src_off,k.src_size,h,m);k.rgba=D,k.imgwidth=h[0],k.imgheight=m[0];for(var L=0;L<h[0]*m[0]*4;L++)y[L]=D[L];return this.width=h,this.height=m,this.data=y,this}(function(e){var t=function(){return typeof Bx=="function"},r=function(m,h,y,x){var v=4,b=o;switch(x){case e.image_compression.FAST:v=1,b=i;break;case e.image_compression.MEDIUM:v=6,b=l;break;case e.image_compression.SLOW:v=9,b=c}m=a(m,h,y,b);var j=Bx(m,{level:v});return e.__addimage__.arrayBufferToBinaryString(j)},a=function(m,h,y,x){for(var v,b,j,C=m.length/h,E=new Uint8Array(m.length+C),k=d(),D=0;D<C;D+=1){if(j=D*h,v=m.subarray(j,j+h),x)E.set(x(v,y,b),j+D);else{for(var L,F=k.length,Q=[];L<F;L+=1)Q[L]=k[L](v,y,b);var U=A(Q.concat());E.set(Q[U],j+D)}b=v}return E},s=function(m){var h=Array.apply([],m);return h.unshift(0),h},i=function(m,h){var y,x=[],v=m.length;x[0]=1;for(var b=0;b<v;b+=1)y=m[b-h]||0,x[b+1]=m[b]-y+256&255;return x},o=function(m,h,y){var x,v=[],b=m.length;v[0]=2;for(var j=0;j<b;j+=1)x=y&&y[j]||0,v[j+1]=m[j]-x+256&255;return v},l=function(m,h,y){var x,v,b=[],j=m.length;b[0]=3;for(var C=0;C<j;C+=1)x=m[C-h]||0,v=y&&y[C]||0,b[C+1]=m[C]+256-(x+v>>>1)&255;return b},c=function(m,h,y){var x,v,b,j,C=[],E=m.length;C[0]=4;for(var k=0;k<E;k+=1)x=m[k-h]||0,v=y&&y[k]||0,b=y&&y[k-h]||0,j=u(x,v,b),C[k+1]=m[k]-j+256&255;return C},u=function(m,h,y){if(m===h&&h===y)return m;var x=Math.abs(h-y),v=Math.abs(m-y),b=Math.abs(m+h-y-y);return x<=v&&x<=b?m:v<=b?h:y},d=function(){return[s,i,o,l,c]},A=function(m){var h=m.map((function(y){return y.reduce((function(x,v){return x+Math.abs(v)}),0)}));return h.indexOf(Math.min.apply(null,h))};e.processPNG=function(m,h,y,x){var v,b,j,C,E,k,D,L,F,Q,U,P,I,z,W,ie=this.decode.FLATE_DECODE,X="";if(this.__addimage__.isArrayBuffer(m)&&(m=new Uint8Array(m)),this.__addimage__.isArrayBufferView(m)){if(m=(j=new Dfe(m)).imgData,b=j.bits,v=j.colorSpace,E=j.colors,[4,6].indexOf(j.colorType)!==-1){if(j.bits===8){F=(L=j.pixelBitlength==32?new Uint32Array(j.decodePixels().buffer):j.pixelBitlength==16?new Uint16Array(j.decodePixels().buffer):new Uint8Array(j.decodePixels().buffer)).length,U=new Uint8Array(F*j.colors),Q=new Uint8Array(F);var le,re=j.pixelBitlength-j.bits;for(z=0,W=0;z<F;z++){for(I=L[z],le=0;le<re;)U[W++]=I>>>le&255,le+=j.bits;Q[z]=I>>>le&255}}if(j.bits===16){F=(L=new Uint32Array(j.decodePixels().buffer)).length,U=new Uint8Array(F*(32/j.pixelBitlength)*j.colors),Q=new Uint8Array(F*(32/j.pixelBitlength)),P=j.colors>1,z=0,W=0;for(var he=0;z<F;)I=L[z++],U[W++]=I>>>0&255,P&&(U[W++]=I>>>16&255,I=L[z++],U[W++]=I>>>0&255),Q[he++]=I>>>16&255;b=8}x!==e.image_compression.NONE&&t()?(m=r(U,j.width*j.colors,j.colors,x),D=r(Q,j.width,1,x)):(m=U,D=Q,ie=void 0)}if(j.colorType===3&&(v=this.color_spaces.INDEXED,k=j.palette,j.transparency.indexed)){var de=j.transparency.indexed,ve=0;for(z=0,F=de.length;z<F;++z)ve+=de[z];if((ve/=255)===F-1&&de.indexOf(0)!==-1)C=[de.indexOf(0)];else if(ve!==F){for(L=j.decodePixels(),Q=new Uint8Array(L.length),z=0,F=L.length;z<F;z++)Q[z]=de[L[z]];D=r(Q,j.width,1)}}var B=(function(R){var G;switch(R){case e.image_compression.FAST:G=11;break;case e.image_compression.MEDIUM:G=13;break;case e.image_compression.SLOW:G=14;break;default:G=12}return G})(x);return ie===this.decode.FLATE_DECODE&&(X="/Predictor "+B+" "),X+="/Colors "+E+" /BitsPerComponent "+b+" /Columns "+j.width,(this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),(D&&this.__addimage__.isArrayBuffer(D)||this.__addimage__.isArrayBufferView(D))&&(D=this.__addimage__.arrayBufferToBinaryString(D)),{alias:y,data:m,index:h,filter:ie,decodeParameters:X,transparency:C,palette:k,sMask:D,predictor:B,width:j.width,height:j.height,bitsPerComponent:b,colorSpace:v}}}})(Ca.API),(function(e){e.processGIF89A=function(t,r,a,s){var i=new Mfe(t),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},d=new Ij(100).encode(u,100);return e.processJPEG.call(this,d,r,a,s)},e.processGIF87A=e.processGIF89A})(Ca.API),Vf.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:a,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Vf.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){ei.log("bit decode error:"+r)}},Vf.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var a=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var i=this.datav.getUint8(this.pos++,!0),o=a*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Vf.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,s=0;s<e;s++){var i=this.datav.getUint8(this.pos++,!0),o=a*this.width*4+2*s*4,l=i>>4,c=15&i,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*s+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Vf.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*a;if(s<this.palette.length){var o=this.palette[s];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Vf.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,u=i>>15?255:0,d=a*this.width*4+4*s;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=u}this.pos+=e}},Vf.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var s=this.bottom_up?a:this.height-1-a,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/t*255|0,d=s*this.width*4+4*i;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=e}},Vf.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=a,this.data[o+3]=255}this.pos+=this.width%4}},Vf.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=s,this.data[l+2]=a,this.data[l+3]=o}},Vf.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,r,a,s){var i=new Vf(t,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new Ij(100).encode(c,100);return e.processJPEG.call(this,u,r,a,s)}})(Ca.API),jI.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,r,a,s){var i=new jI(t),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new Ij(100).encode(c,100);return e.processJPEG.call(this,u,r,a,s)}})(Ca.API),Ca.API.processRGBA=function(e,t,r){for(var a=e.data,s=a.length,i=new Uint8Array(s/4*3),o=new Uint8Array(s/4),l=0,c=0,u=0;u<s;u+=4){var d=a[u],A=a[u+1],m=a[u+2],h=a[u+3];i[l++]=d,i[l++]=A,i[l++]=m,o[c++]=h}var y=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:y,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Ca.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},Lg=Ca.API,wb=Lg.getCharWidthsArray=function(e,t){var r,a,s=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:s.metadata.Unicode.widths,c=l.fof?l.fof:1,u=t.kerning?t.kerning:s.metadata.Unicode.kerning,d=u.fof?u.fof:1,A=t.doKerning!==!1,m=0,h=e.length,y=0,x=l[0]||c,v=[];for(r=0;r<h;r++)a=e.charCodeAt(r),typeof s.metadata.widthOfString=="function"?v.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(a))+o*(1e3/i)||0)/1e3):(m=A&&va(u[a])==="object"&&!isNaN(parseInt(u[a][y],10))?u[a][y]/d:0,v.push((l[a]||x)/c+m)),y=a;return v},vI=Lg.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),a=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return Lg.processArabic&&(e=Lg.processArabic(e)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(e,r,s)/r:wb.apply(this,arguments).reduce((function(i,o){return i+o}),0)},bI=function(e,t,r,a){for(var s=[],i=0,o=e.length,l=0;i!==o&&l+t[i]<r;)l+=t[i],i++;s.push(e.slice(0,i));var c=i;for(l=0;i!==o;)l+t[i]>a&&(s.push(e.slice(c,i)),l=0,c=i),l+=t[i],i++;return c!==i&&s.push(e.slice(c,i)),s},wI=function(e,t,r){r||(r={});var a,s,i,o,l,c,u,d=[],A=[d],m=r.textIndent||0,h=0,y=0,x=e.split(" "),v=wb.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?x[0].length+2:r.lineIndent||0){var b=Array(c).join(" "),j=[];x.map((function(E){(E=E.split(/\s*\n/)).length>1?j=j.concat(E.map((function(k,D){return(D&&k.length?`
`:"")+k}))):j.push(E[0])})),x=j,c=vI.apply(this,[b,r])}for(i=0,o=x.length;i<o;i++){var C=0;if(a=x[i],c&&a[0]==`
`&&(a=a.substr(1),C=1),m+h+(y=(s=wb.apply(this,[a,r])).reduce((function(E,k){return E+k}),0))>t||C){if(y>t){for(l=bI.apply(this,[a,s,t-(m+h),t]),d.push(l.shift()),d=[l.pop()];l.length;)A.push([l.shift()]);y=s.slice(a.length-(d[0]?d[0].length:0)).reduce((function(E,k){return E+k}),0)}else d=[a];A.push(d),m=y+c,h=v}else d.push(a),m+=h+y,h=v}return u=c?function(E,k){return(k?b:"")+E.join(" ")}:function(E){return E.join(" ")},A.map(u)},Lg.splitTextToSize=function(e,t,r){var a,s=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var A=this.internal.getFont(d.fontName,d.fontStyle);return A.metadata.Unicode?{widths:A.metadata.Unicode.widths||{0:1},kerning:A.metadata.Unicode.kerning||{}}:{font:A.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);a=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=a.length;l<c;l++)u=u.concat(wI.apply(this,[a[l],o,i]));return u},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},a={},s=0;s<t.length;s++)r[t[s]]="0123456789abcdef"[s],a["0123456789abcdef"[s]]=t[s];var i=function(A){return"0x"+parseInt(A,10).toString(16)},o=e.__fontmetrics__.compress=function(A){var m,h,y,x,v=["{"];for(var b in A){if(m=A[b],isNaN(parseInt(b,10))?h="'"+b+"'":(b=parseInt(b,10),h=(h=i(b).slice(2)).slice(0,-1)+a[h.slice(-1)]),typeof m=="number")m<0?(y=i(m).slice(3),x="-"):(y=i(m).slice(2),x=""),y=x+y.slice(0,-1)+a[y.slice(-1)];else{if(va(m)!=="object")throw new Error("Don't know what to do with value type "+va(m)+".");y=o(m)}v.push(h+y)}return v.push("}"),v.join("")},l=e.__fontmetrics__.uncompress=function(A){if(typeof A!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,h,y,x,v={},b=1,j=v,C=[],E="",k="",D=A.length-1,L=1;L<D;L+=1)(x=A[L])=="'"?m?(y=m.join(""),m=void 0):m=[]:m?m.push(x):x=="{"?(C.push([j,y]),j={},y=void 0):x=="}"?((h=C.pop())[0][h[1]]=j,y=void 0,j=h[0]):x=="-"?b=-1:y===void 0?r.hasOwnProperty(x)?(E+=r[x],y=parseInt(E,16)*b,b=1,E=""):E+=x:r.hasOwnProperty(x)?(k+=r[x],j[y]=parseInt(k,16)*b,b=1,y=void 0,k=""):k+=x;return v},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(A){var m=A.font,h=d.Unicode[m.postScriptName];h&&(m.metadata.Unicode={},m.metadata.Unicode.widths=h.widths,m.metadata.Unicode.kerning=h.kerning);var y=u.Unicode[m.postScriptName];y&&(m.metadata.Unicode.encoding=y,m.encoding=y.codePages[0])}])})(Ca.API),(function(e){var t=function(r){for(var a=r.length,s=new Uint8Array(a),i=0;i<a;i++)s[i]=r.charCodeAt(i);return s};e.API.events.push(["addFont",function(r){var a=void 0,s=r.font,i=r.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(a=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(Fy(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,a)}}])})(Ca),(function(e){function t(){return(Oa.canvg?Promise.resolve(Oa.canvg):mx(()=>import("./index.es-bTNsPaNx.js"),[])).catch((function(r){return Promise.reject(new Error("Could not load canvg: "+r))})).then((function(r){return r.default?r.default:r}))}Ca.API.addSvgAsImage=function(r,a,s,i,o,l,c,u){if(isNaN(a)||isNaN(s))throw ei.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw ei.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=i,d.height=o;var A=d.getContext("2d");A.fillStyle="#fff",A.fillRect(0,0,d.width,d.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return t().then((function(y){return y.fromString(A,r,m)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(y){return y.render(m)})).then((function(){h.addImage(d.toDataURL("image/jpeg",1),a,s,i,o,c,u)}))}})(),Ca.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var s=0;s<this.internal.pages[a].length;s++)this.internal.pages[a][s]=this.internal.pages[a][s].replace(t,r);return this},Ca.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var a,s,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,d=0,A=0;function m(y,x){var v,b=!1;for(v=0;v<y.length;v+=1)y[v]===x&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var h=l.length;for(A=0;A<h;A+=1)r[l[A]].value=r[l[A]].defaultValue,r[l[A]].explicitSet=!1}if(va(e)==="object"){for(s in e)if(i=e[s],m(l,s)&&i!==void 0){if(r[s].type==="boolean"&&typeof i=="boolean")r[s].value=i;else if(r[s].type==="name"&&m(r[s].valueSet,i))r[s].value=i;else if(r[s].type==="integer"&&Number.isInteger(i))r[s].value=i;else if(r[s].type==="array"){for(u=0;u<i.length;u+=1)if(a=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(a=!1);a===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}r[s].value="["+c.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){var y,x=[];for(y in r)r[y].explicitSet===!0&&(r[y].type==="name"?x.push("/"+y+" /"+r[y].value):x.push("/"+y+" "+r[y].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(e){var t=function(){var a='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(a)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+o.length+l.length+s.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(s+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(a,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:a,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}})(Ca.API),(function(e){var t=e.API,r=t.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],A=0,m=i.length;A<m;++A){if(l=o.metadata.characterToGlyph(i.charCodeAt(A)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(A),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},a=function(i){var o,l,c,u,d,A,m;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],A=0,m=(l=Object.keys(i).sort((function(h,y){return h-y}))).length;A<m;A++)o=l[A],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(u=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var A=l.metadata.Unicode.widths,m=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),h="",y=0;y<m.length;y++)h+=String.fromCharCode(m[y]);var x=u();d({data:h,addLength1:!0,objectId:x}),c("endobj");var v=u();d({data:a(l.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var b=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Gg(l.fontName)),c("/FontFile2 "+x+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var j=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+Gg(l.fontName)),c("/FontDescriptor "+b+" 0 R"),c("/W "+e.API.PDFObject.convert(A)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+v+" 0 R"),c("/BaseFont /"+Gg(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+j+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var A=l.metadata.rawData,m="",h=0;h<A.length;h++)m+=String.fromCharCode(A[h]);var y=u();d({data:m,addLength1:!0,objectId:y}),c("endobj");var x=u();d({data:a(l.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var v=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+y+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+Gg(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var b=0;b<l.metadata.hmtx.widths.length;b++)l.metadata.hmtx.widths[b]=parseInt(l.metadata.hmtx.widths[b]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+Gg(l.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var s=function(i){var o,l=i.text||"",c=i.x,u=i.y,d=i.options||{},A=i.mutex||{},m=A.pdfEscape,h=A.activeFontKey,y=A.fonts,x=h,v="",b=0,j="",C=y[x].encoding;if(y[x].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:A};for(j=l,x=h,Array.isArray(l)&&(j=l[0]),b=0;b<j.length;b+=1)y[x].metadata.hasOwnProperty("cmap")&&(o=y[x].metadata.cmap.unicode.codeMap[j[b].charCodeAt(0)]),o||j[b].charCodeAt(0)<256&&y[x].metadata.hasOwnProperty("Unicode")?v+=j[b]:v+="";var E="";return parseInt(x.slice(1))<14||C==="WinAnsiEncoding"?E=m(v,x).split("").map((function(k){return k.charCodeAt(0).toString(16)})).join(""):C==="Identity-H"&&(E=r(v,y[x])),A.isHex=!0,{text:E,x:c,y:u,options:d,mutex:A}};t.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([s(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(s(Object.assign({},c,{text:o[u]})).text);i.text=l}else i.text=s(Object.assign({},c,{text:o})).text}])})(Ca),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,a){return t.call(this),this.internal.vFS[r]=a,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(Ca.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(a){var s,i,o,l,c,u,d,A=t,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),j=!1,C=0;this.__bidiEngine__={};var E=function(P){var I=P.charCodeAt(),z=I>>8,W=x[z];return W!==void 0?A[256*W+(255&I)]:z===252||z===253?"AL":b.test(z)?"L":z===8?"R":"N"},k=function(P){for(var I,z=0;z<P.length;z++){if((I=E(P.charAt(z)))==="L")return!1;if(I==="R")return!0}return!1},D=function(P,I,z,W){var ie,X,le,re,he=I[W];switch(he){case"L":case"R":j=!1;break;case"N":case"AN":break;case"EN":j&&(he="AN");break;case"AL":j=!0,he="R";break;case"WS":he="N";break;case"CS":W<1||W+1>=I.length||(ie=z[W-1])!=="EN"&&ie!=="AN"||(X=I[W+1])!=="EN"&&X!=="AN"?he="N":j&&(X="AN"),he=X===ie?X:"N";break;case"ES":he=(ie=W>0?z[W-1]:"B")==="EN"&&W+1<I.length&&I[W+1]==="EN"?"EN":"N";break;case"ET":if(W>0&&z[W-1]==="EN"){he="EN";break}if(j){he="N";break}for(le=W+1,re=I.length;le<re&&I[le]==="ET";)le++;he=le<re&&I[le]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(re=I.length,le=W+1;le<re&&I[le]==="NSM";)le++;if(le<re){var de=P[W],ve=de>=1425&&de<=2303||de===64286;if(ie=I[le],ve&&(ie==="R"||ie==="AL")){he="R";break}}}he=W<1||(ie=I[W-1])==="B"?"N":z[W-1];break;case"B":j=!1,s=!0,he=C;break;case"S":i=!0,he="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":j=!1;break;case"BN":he="N"}return he},L=function(P,I,z){var W=P.split("");return z&&F(W,z,{hiLevel:C}),W.reverse(),I&&I.reverse(),W.join("")},F=function(P,I,z){var W,ie,X,le,re,he=-1,de=P.length,ve=0,B=[],R=C?h:m,G=[];for(j=!1,s=!1,i=!1,ie=0;ie<de;ie++)G[ie]=E(P[ie]);for(X=0;X<de;X++){if(re=ve,B[X]=D(P,G,B,X),W=240&(ve=R[re][y[B[X]]]),ve&=15,I[X]=le=R[ve][5],W>0)if(W===16){for(ie=he;ie<X;ie++)I[ie]=1;he=-1}else he=-1;if(R[ve][6])he===-1&&(he=X);else if(he>-1){for(ie=he;ie<X;ie++)I[ie]=le;he=-1}G[X]==="B"&&(I[X]=0),z.hiLevel|=le}i&&(function(ne,pe,xe){for(var Ae=0;Ae<xe;Ae++)if(ne[Ae]==="S"){pe[Ae]=C;for(var Y=Ae-1;Y>=0&&ne[Y]==="WS";Y--)pe[Y]=C}})(G,I,de)},Q=function(P,I,z,W,ie){if(!(ie.hiLevel<P)){if(P===1&&C===1&&!s)return I.reverse(),void(z&&z.reverse());for(var X,le,re,he,de=I.length,ve=0;ve<de;){if(W[ve]>=P){for(re=ve+1;re<de&&W[re]>=P;)re++;for(he=ve,le=re-1;he<le;he++,le--)X=I[he],I[he]=I[le],I[le]=X,z&&(X=z[he],z[he]=z[le],z[le]=X);ve=re}ve++}}},U=function(P,I,z){var W=P.split(""),ie={hiLevel:C};return z||(z=[]),F(W,z,ie),(function(X,le,re){if(re.hiLevel!==0&&d)for(var he,de=0;de<X.length;de++)le[de]===1&&(he=v.indexOf(X[de]))>=0&&(X[de]=v[he+1])})(W,z,ie),Q(2,W,I,z,ie),Q(1,W,I,z,ie),W.join("")};return this.__bidiEngine__.doBidiReorder=function(P,I,z){if((function(ie,X){if(X)for(var le=0;le<ie.length;le++)X[le]=le;l===void 0&&(l=k(ie)),u===void 0&&(u=k(ie))})(P,I),o||!c||u)if(o&&c&&l^u)C=l?1:0,P=L(P,I,z);else if(!o&&c&&u)C=l?1:0,P=U(P,I,z),P=L(P,I);else if(!o||l||c||u){if(o&&!c&&l^u)P=L(P,I),l?(C=0,P=U(P,I,z)):(C=1,P=U(P,I,z),P=L(P,I));else if(o&&l&&!c&&u)C=1,P=U(P,I,z),P=L(P,I);else if(!o&&!c&&l^u){var W=d;l?(C=1,P=U(P,I,z),C=0,d=!1,P=U(P,I,z),d=W):(C=0,P=U(P,I,z),P=L(P,I),C=1,d=!1,P=U(P,I,z),d=W,P=L(P,I))}}else C=0,P=U(P,I,z);else C=l?1:0,P=U(P,I,z);return P},this.__bidiEngine__.setOptions=function(P){P&&(o=P.isInputVisual,c=P.isOutputVisual,l=P.isInputRtl,u=P.isOutputRtl,d=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(a){var s=a.text,i=(a.x,a.y,a.options||{}),o=(a.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(o=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?o.push([r.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):o.push([r.doBidiReorder(s[l])]);a.text=o}else a.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])})(Ca),Ca.API.TTFFont=(function(){function e(t){var r;if(this.rawData=t,r=this.contents=new p0(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Zfe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Ufe(this.contents),this.head=new Qfe(this),this.name=new qfe(this),this.cmap=new LH(this),this.toUnicode={},this.hhea=new Hfe(this),this.maxp=new Kfe(this),this.hmtx=new Gfe(this),this.post=new zfe(this),this.os2=new $fe(this),this.loca=new Jfe(this),this.glyf=new Wfe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,a,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(a=255&(s=this.post.italic_angle),(32768&(r=s>>16))!=0&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,a){var s,i,o,l;for(o=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)s=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(s))+a*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var a;return r==null&&(r=!1),a=r?this.lineGap:0,(this.ascender+a-this.decender)/1e3*t},e})();var uh,p0=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,a;for(a=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)a[r]=String.fromCharCode(this.readByte());return a.join("")},e.prototype.writeString=function(t){var r,a,s;for(s=[],r=0,a=t.length;0<=a?r<a:r>a;r=0<=a?++r:--r)s.push(this.writeByte(t.charCodeAt(r)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,a,s,i,o,l,c;return t=this.readByte(),r=this.readByte(),a=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^a)+4294967296*(255^s)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*a+4294967296*s+16777216*i+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var r,a;return r=Math.floor(t/4294967296),a=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,a;for(r=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)r.push(this.readByte());return r},e.prototype.write=function(t){var r,a,s,i;for(i=[],a=0,s=t.length;a<s;a++)r=t[a],i.push(this.writeByte(r));return i},e})(),Ufe=(function(){var e;function t(r){var a,s,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)a={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[a.tag]=a}return t.prototype.encode=function(r){var a,s,i,o,l,c,u,d,A,m,h,y,x;for(x in h=Object.keys(r).length,c=Math.log(2),A=16*Math.floor(Math.log(h)/c),o=Math.floor(A/c),d=16*h-A,(s=new p0).writeInt(this.scalarType),s.writeShort(h),s.writeShort(A),s.writeShort(o),s.writeShort(d),i=16*h,u=s.pos+i,l=null,y=[],r)for(m=r[x],s.writeString(x),s.writeInt(e(m)),s.writeInt(u),s.writeInt(m.length),y=y.concat(m),x==="head"&&(l=u),u+=m.length;u%4;)y.push(0),u++;return s.write(y),a=2981146554-e(s.data),s.pos=l+8,s.writeUInt32(a),s.data},e=function(r){var a,s,i,o;for(r=OH.call(r);r.length%4;)r.push(0);for(i=new p0(r),s=0,a=0,o=r.length;a<o;a=a+=4)s+=i.readUInt32();return 4294967295&s},t})(),Rfe={}.hasOwnProperty,aA=function(e,t){for(var r in t)Rfe.call(t,r)&&(e[r]=t[r]);function a(){this.constructor=e}return a.prototype=t.prototype,e.prototype=new a,e.__super__=t.prototype,e};uh=(function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var Qfe=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return aA(t,uh),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var a;return(a=new p0).writeInt(this.version),a.writeInt(this.revision),a.writeInt(this.checkSumAdjustment),a.writeInt(this.magicNumber),a.writeShort(this.flags),a.writeShort(this.unitsPerEm),a.writeLongLong(this.created),a.writeLongLong(this.modified),a.writeShort(this.xMin),a.writeShort(this.yMin),a.writeShort(this.xMax),a.writeShort(this.yMax),a.writeShort(this.macStyle),a.writeShort(this.lowestRecPPEM),a.writeShort(this.fontDirectionHint),a.writeShort(r),a.writeShort(this.glyphDataFormat),a.data},t})(),SI=(function(){function e(t,r){var a,s,i,o,l,c,u,d,A,m,h,y,x,v,b,j,C;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),A=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(h=t.readUInt16(),m=h/2,t.pos+=6,i=(function(){var E,k;for(k=[],c=E=0;0<=m?E<m:E>m;c=0<=m?++E:--E)k.push(t.readUInt16());return k})(),t.pos+=2,x=(function(){var E,k;for(k=[],c=E=0;0<=m?E<m:E>m;c=0<=m?++E:--E)k.push(t.readUInt16());return k})(),u=(function(){var E,k;for(k=[],c=E=0;0<=m?E<m:E>m;c=0<=m?++E:--E)k.push(t.readUInt16());return k})(),d=(function(){var E,k;for(k=[],c=E=0;0<=m?E<m:E>m;c=0<=m?++E:--E)k.push(t.readUInt16());return k})(),s=(this.length-t.pos+this.offset)/2,l=(function(){var E,k;for(k=[],c=E=0;0<=s?E<s:E>s;c=0<=s?++E:--E)k.push(t.readUInt16());return k})(),c=b=0,C=i.length;b<C;c=++b)for(v=i[c],a=j=y=x[c];y<=v?j<=v:j>=v;a=y<=v?++j:--j)d[c]===0?o=a+u[c]:(o=l[d[c]/2+(a-y)-(m-c)]||0)!==0&&(o+=u[c]),this.codeMap[a]=65535&o}t.pos=A}return e.encode=function(t,r){var a,s,i,o,l,c,u,d,A,m,h,y,x,v,b,j,C,E,k,D,L,F,Q,U,P,I,z,W,ie,X,le,re,he,de,ve,B,R,G,ne,pe,xe,Ae,Y,se,ee,be;switch(W=new p0,o=Object.keys(t).sort((function(Ce,ce){return Ce-ce})),r){case"macroman":for(x=0,v=(function(){var Ce=[];for(y=0;y<256;++y)Ce.push(0);return Ce})(),j={0:0},i={},ie=0,he=o.length;ie<he;ie++)j[Y=t[s=o[ie]]]==null&&(j[Y]=++x),i[s]={old:t[s],new:j[t[s]]},v[s]=j[t[s]];return W.writeUInt16(1),W.writeUInt16(0),W.writeUInt32(12),W.writeUInt16(0),W.writeUInt16(262),W.writeUInt16(0),W.write(v),{charMap:i,subtable:W.data,maxGlyphID:x+1};case"unicode":for(I=[],A=[],C=0,j={},a={},b=u=null,X=0,de=o.length;X<de;X++)j[k=t[s=o[X]]]==null&&(j[k]=++C),a[s]={old:k,new:j[k]},l=j[k]-s,b!=null&&l===u||(b&&A.push(b),I.push(s),u=l),b=s;for(b&&A.push(b),A.push(65535),I.push(65535),U=2*(Q=I.length),F=2*Math.pow(Math.log(Q)/Math.LN2,2),m=Math.log(F/2)/Math.LN2,L=2*Q-F,c=[],D=[],h=[],y=le=0,ve=I.length;le<ve;y=++le){if(P=I[y],d=A[y],P===65535){c.push(0),D.push(0);break}if(P-(z=a[P].new)>=32768)for(c.push(0),D.push(2*(h.length+Q-y)),s=re=P;P<=d?re<=d:re>=d;s=P<=d?++re:--re)h.push(a[s].new);else c.push(z-P),D.push(0)}for(W.writeUInt16(3),W.writeUInt16(1),W.writeUInt32(12),W.writeUInt16(4),W.writeUInt16(16+8*Q+2*h.length),W.writeUInt16(0),W.writeUInt16(U),W.writeUInt16(F),W.writeUInt16(m),W.writeUInt16(L),xe=0,B=A.length;xe<B;xe++)s=A[xe],W.writeUInt16(s);for(W.writeUInt16(0),Ae=0,R=I.length;Ae<R;Ae++)s=I[Ae],W.writeUInt16(s);for(se=0,G=c.length;se<G;se++)l=c[se],W.writeUInt16(l);for(ee=0,ne=D.length;ee<ne;ee++)E=D[ee],W.writeUInt16(E);for(be=0,pe=h.length;be<pe;be++)x=h[be],W.writeUInt16(x);return{charMap:a,subtable:W.data,maxGlyphID:C+1}}},e})(),LH=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return aA(t,uh),t.prototype.tag="cmap",t.prototype.parse=function(r){var a,s,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)a=new SI(r,this.offset),this.tables.push(a),a.isUnicode&&this.unicode==null&&(this.unicode=a);return!0},t.encode=function(r,a){var s,i;return a==null&&(a="macroman"),s=SI.encode(r,a),(i=new p0).writeUInt16(0),i.writeUInt16(1),s.table=i.data.concat(s.subtable),s},t})(),Hfe=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return aA(t,uh),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t})(),$fe=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return aA(t,uh),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=(function(){var a,s;for(s=[],a=0;a<10;++a)s.push(r.readByte());return s})(),this.charRange=(function(){var a,s;for(s=[],a=0;a<4;++a)s.push(r.readInt());return s})(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=(function(){var a,s;for(s=[],a=0;a<2;a=++a)s.push(r.readInt());return s})(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t})(),zfe=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return aA(t,uh),t.prototype.tag="post",t.prototype.parse=function(r){var a,s,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(s=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)a=r.readByte(),i.push(this.names.push(r.readString(a)));return i;case 151552:return s=r.readUInt16(),this.offsets=r.read(s);case 196608:break;case 262144:return this.map=(function(){var l,c,u;for(u=[],o=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;o=0<=c?++l:--l)u.push(r.readUInt32());return u}).call(this)}},t})(),Vfe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},qfe=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return aA(t,uh),t.prototype.tag="name",t.prototype.parse=function(r){var a,s,i,o,l,c,u,d,A,m,h;for(r.pos=this.offset,r.readShort(),a=r.readShort(),c=r.readShort(),s=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)s.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(u={},o=A=0,m=s.length;A<m;o=++A)i=s[o],r.pos=i.offset,d=r.readString(i.length),l=new Vfe(d,i),u[h=i.nameID]==null&&(u[h]=[]),u[i.nameID].push(l);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t})(),Kfe=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return aA(t,uh),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t})(),Gfe=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return aA(t,uh),t.prototype.tag="hmtx",t.prototype.parse=function(r){var a,s,i,o,l,c,u;for(r.pos=this.offset,this.metrics=[],a=0,c=this.file.hhea.numberOfMetrics;0<=c?a<c:a>c;a=0<=c?++a:--a)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,A;for(A=[],a=d=0;0<=i?d<i:d>i;a=0<=i?++d:--d)A.push(r.readInt16());return A})(),this.widths=(function(){var d,A,m,h;for(h=[],d=0,A=(m=this.metrics).length;d<A;d++)o=m[d],h.push(o.advance);return h}).call(this),s=this.widths[this.widths.length-1],u=[],a=l=0;0<=i?l<i:l>i;a=0<=i?++l:--l)u.push(this.widths.push(s));return u},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t})(),OH=[].slice,Wfe=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return aA(t,uh),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var a,s,i,o,l,c,u,d,A,m;return r in this.cache?this.cache[r]:(o=this.file.loca,a=this.file.contents,s=o.indexOf(r),(i=o.lengthOf(r))===0?this.cache[r]=null:(a.pos=this.offset+s,l=(c=new p0(a.read(i))).readShort(),d=c.readShort(),m=c.readShort(),u=c.readShort(),A=c.readShort(),this.cache[r]=l===-1?new Xfe(c,d,m,u,A):new Yfe(c,l,d,m,u,A),this.cache[r]))},t.prototype.encode=function(r,a,s){var i,o,l,c,u;for(l=[],o=[],c=0,u=a.length;c<u;c++)i=r[a[c]],o.push(l.length),i&&(l=l.concat(i.encode(s)));return o.push(l.length),{table:l,offsets:o}},t})(),Yfe=(function(){function e(t,r,a,s,i,o){this.raw=t,this.numberOfContours=r,this.xMin=a,this.yMin=s,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),Xfe=(function(){function e(t,r,a,s,i){var o,l;for(this.raw=t,this.xMin=r,this.yMin=a,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,a;for(r=new p0(OH.call(this.raw.data)),t=0,a=this.glyphIDs.length;t<a;++t)r.pos=this.glyphOffsets[t];return r.data},e})(),Jfe=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return aA(t,uh),t.prototype.tag="loca",t.prototype.parse=function(r){var a,s;return r.pos=this.offset,a=this.file.head.indexToLocFormat,this.offsets=a===0?(function(){var i,o;for(o=[],s=0,i=this.length;s<i;s+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],s=0,i=this.length;s<i;s+=4)o.push(r.readUInt32());return o}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,a){for(var s=new Uint32Array(this.offsets.length),i=0,o=0,l=0;l<s.length;++l)if(s[l]=i,o<a.length&&a[o]==l){++o,s[l]=i;var c=this.offsets[l],u=this.offsets[l+1]-c;u>0&&(i+=u)}for(var d=new Array(4*s.length),A=0;A<s.length;++A)d[4*A+3]=255&s[A],d[4*A+2]=(65280&s[A])>>8,d[4*A+1]=(16711680&s[A])>>16,d[4*A]=(4278190080&s[A])>>24;return d},t})(),Zfe=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,a,s,i;for(r in s=this.font.cmap.tables[0].codeMap,t={},i=this.subset)a=i[r],t[r]=s[a];return t},e.prototype.glyphsFor=function(t){var r,a,s,i,o,l,c;for(s={},o=0,l=t.length;o<l;o++)s[i=t[o]]=this.font.glyf.glyphFor(i);for(i in r=[],s)(a=s[i])!=null&&a.compound&&r.push.apply(r,a.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))a=c[i],s[i]=a;return s},e.prototype.encode=function(t,r){var a,s,i,o,l,c,u,d,A,m,h,y,x,v,b;for(s in a=LH.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),h={0:0},b=a.charMap)h[(c=b[s]).old]=c.new;for(y in m=a.maxGlyphID,o)y in h||(h[y]=m++);return d=(function(j){var C,E;for(C in E={},j)E[j[C]]=C;return E})(h),A=Object.keys(d).sort((function(j,C){return j-C})),x=(function(){var j,C,E;for(E=[],j=0,C=A.length;j<C;j++)l=A[j],E.push(d[l]);return E})(),i=this.font.glyf.encode(o,x,h),u=this.font.loca.encode(i.offsets,x),v={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},e})();Ca.API.PDFObject=(function(){var e;function t(){}return e=function(r,a){return(Array(a+1).join("0")+r).slice(-a)},t.convert=function(r){var a,s,i,o;if(Array.isArray(r))return"["+(function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)a=r[l],u.push(t.convert(a));return u})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in i=["<<"],r)o=r[s],i.push("/"+s+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+r},t})();function DH(e,t,r,a,s){a=a||{};var i=1.15,o=s.internal.scaleFactor,l=s.internal.getFontSize()/o,c=s.getLineHeightFactor?s.getLineHeightFactor():i,u=l*c,d=/\r\n|\r|\n/g,A="",m=1;if((a.valign==="middle"||a.valign==="bottom"||a.halign==="center"||a.halign==="right")&&(A=typeof e=="string"?e.split(d):e,m=A.length||1),r+=l*(2-i),a.valign==="middle"?r-=m/2*u:a.valign==="bottom"&&(r-=m*u),a.halign==="center"||a.halign==="right"){var h=l;if(a.halign==="center"&&(h*=.5),A&&m>=1){for(var y=0;y<A.length;y++)s.text(A[y],t-s.getStringUnitWidth(A[y])*h,r),r+=u;return s}t-=s.getStringUnitWidth(e)*h}return a.halign==="justify"?s.text(e,t,r,{maxWidth:a.maxWidth||100,align:"justify"}):s.text(e,t,r),s}var CI={},vx=(function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:CI=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var a,s,i;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var o=this.jsPDFDocument.internal.getFont(),l=o.fontStyle,c=o.fontName;if(t.font&&(c=t.font),t.fontStyle){l=t.fontStyle;var u=this.getFontList()[c];u&&u.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),l=u[0])}if(this.jsPDFDocument.setFont(c,l),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var d=e.unifyColor(t.fillColor);d&&(a=this.jsPDFDocument).setFillColor.apply(a,d),d=e.unifyColor(t.textColor),d&&(s=this.jsPDFDocument).setTextColor.apply(s,d),d=e.unifyColor(t.lineColor),d&&(i=this.jsPDFDocument).setDrawColor.apply(i,d),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,a){return this.jsPDFDocument.splitTextToSize(t,r,a)},e.prototype.rect=function(t,r,a,s,i){return this.jsPDFDocument.rect(t,r,a,s,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return CI||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e})(),d6=function(e,t){return d6=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=a[s])},d6(e,t)};function MH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");d6(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var UH=(function(e){MH(t,e);function t(r){var a=e.call(this)||this;return a._element=r,a}return t})(Array);function ehe(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function the(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function s4(e,t,r){r.applyStyles(t,!0);var a=Array.isArray(e)?e:[e],s=a.map(function(i){return r.getTextWidth(i)}).reduce(function(i,o){return Math.max(i,o)},0);return s}function RH(e,t,r,a){var s=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:s,lineColor:i});var o=QH(s,!1);o&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),a.y-r.y,o)}function QH(e,t){var r=e>0,a=t||t===0;return r&&a?"DF":r?"S":a?"F":null}function F5(e,t){var r,a,s,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(a=e.top)!==null&&a!==void 0?a:t,right:(s=e.right)!==null&&s!==void 0?s:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function HH(e,t){var r=F5(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function rhe(e,t,r,a,s){var i={},o=1.3333333333333333,l=Pj(t,function(C){return s.getComputedStyle(C).backgroundColor});l!=null&&(i.fillColor=l);var c=Pj(t,function(C){return s.getComputedStyle(C).color});c!=null&&(i.textColor=c);var u=nhe(a,r);u&&(i.cellPadding=u);var d="borderTopColor",A=o*r,m=a.borderTopWidth;if(a.borderBottomWidth===m&&a.borderRightWidth===m&&a.borderLeftWidth===m){var h=(parseFloat(m)||0)/A;h&&(i.lineWidth=h)}else i.lineWidth={top:(parseFloat(a.borderTopWidth)||0)/A,right:(parseFloat(a.borderRightWidth)||0)/A,bottom:(parseFloat(a.borderBottomWidth)||0)/A,left:(parseFloat(a.borderLeftWidth)||0)/A},i.lineWidth.top||(i.lineWidth.right?d="borderRightColor":i.lineWidth.bottom?d="borderBottomColor":i.lineWidth.left&&(d="borderLeftColor"));var y=Pj(t,function(C){return s.getComputedStyle(C)[d]});y!=null&&(i.lineColor=y);var x=["left","right","center","justify"];x.indexOf(a.textAlign)!==-1&&(i.halign=a.textAlign),x=["middle","bottom","top"],x.indexOf(a.verticalAlign)!==-1&&(i.valign=a.verticalAlign);var v=parseInt(a.fontSize||"");isNaN(v)||(i.fontSize=v/o);var b=ahe(a);b&&(i.fontStyle=b);var j=(a.fontFamily||"").toLowerCase();return e.indexOf(j)!==-1&&(i.font=j),i}function ahe(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function Pj(e,t){var r=$H(e,t);if(!r)return null;var a=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!a||!Array.isArray(a))return null;var s=[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])],i=parseInt(a[4]);return i===0||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function $H(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:$H(e.parentElement,t):r}function nhe(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],a=96/(72/t),s=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=r.map(function(l){return parseInt(l||"0")/a}),o=F5(i,0);return s>o.top&&(o.top=s),s>o.bottom&&(o.bottom=s),o}function zH(e,t,r,a,s){var i,o;a===void 0&&(a=!1),s===void 0&&(s=!1);var l;typeof t=="string"?l=r.document.querySelector(t):l=t;var c=Object.keys(e.getFontList()),u=e.scaleFactor(),d=[],A=[],m=[];if(!l)return console.error("Html table could not be found with input: ",t),{head:d,body:A,foot:m};for(var h=0;h<l.rows.length;h++){var y=l.rows[h],x=(o=(i=y?.parentElement)===null||i===void 0?void 0:i.tagName)===null||o===void 0?void 0:o.toLowerCase(),v=she(c,u,r,y,a,s);v&&(x==="thead"?d.push(v):x==="tfoot"?m.push(v):A.push(v))}return{head:d,body:A,foot:m}}function she(e,t,r,a,s,i){for(var o=new UH(a),l=0;l<a.cells.length;l++){var c=a.cells[l],u=r.getComputedStyle(c);if(s||u.display!=="none"){var d=void 0;i&&(d=rhe(e,c,t,u,r)),o.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:d,_element:c,content:ihe(c)})}}var A=r.getComputedStyle(a);if(o.length>0&&(s||A.display!=="none"))return o}function ihe(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function ohe(e,t,r){for(var a=0,s=[e,t,r];a<s.length;a++){var i=s[a];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function MA(e,t,r,a,s){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])}return i}function VH(e,t){var r=new vx(e),a=r.getDocumentOptions(),s=r.getGlobalOptions();ohe(s,a,t);var i=MA({},s,a,t),o;typeof window<"u"&&(o=window);var l=lhe(s,a,t),c=che(s,a,t),u=dhe(r,i),d=fhe(r,i,o);return{id:t.tableId,content:d,hooks:c,styles:l,settings:u}}function lhe(e,t,r){for(var a={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(c){if(c==="columnStyles"){var u=e[c],d=t[c],A=r[c];a.columnStyles=MA({},u,d,A)}else{var m=[e,t,r],h=m.map(function(y){return y[c]||{}});a[c]=MA({},h[0],h[1],h[2])}},i=0,o=Object.keys(a);i<o.length;i++){var l=o[i];s(l)}return a}function che(e,t,r){for(var a=[e,t,r],s={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,o=a;i<o.length;i++){var l=o[i];l.didParseCell&&s.didParseCell.push(l.didParseCell),l.willDrawCell&&s.willDrawCell.push(l.willDrawCell),l.didDrawCell&&s.didDrawCell.push(l.didDrawCell),l.willDrawPage&&s.willDrawPage.push(l.willDrawPage),l.didDrawPage&&s.didDrawPage.push(l.didDrawPage)}return s}function dhe(e,t){var r,a,s,i,o,l,c,u,d,A,m,h,y=F5(t.margin,40/e.scaleFactor()),x=(r=uhe(e,t.startY))!==null&&r!==void 0?r:y.top,v;t.showFoot===!0?v="everyPage":t.showFoot===!1?v="never":v=(a=t.showFoot)!==null&&a!==void 0?a:"everyPage";var b;t.showHead===!0?b="everyPage":t.showHead===!1?b="never":b=(s=t.showHead)!==null&&s!==void 0?s:"everyPage";var j=(i=t.useCss)!==null&&i!==void 0?i:!1,C=t.theme||(j?"plain":"striped"),E=!!t.horizontalPageBreak,k=(o=t.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(l=t.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:j,theme:C,startY:x,margin:y,pageBreak:(c=t.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(u=t.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(d=t.tableWidth)!==null&&d!==void 0?d:"auto",showHead:b,showFoot:v,tableLineWidth:(A=t.tableLineWidth)!==null&&A!==void 0?A:0,tableLineColor:(m=t.tableLineColor)!==null&&m!==void 0?m:200,horizontalPageBreak:E,horizontalPageBreakRepeat:k,horizontalPageBreakBehaviour:(h=t.horizontalPageBreakBehaviour)!==null&&h!==void 0?h:"afterAllRows"}}function uhe(e,t){var r=e.getLastAutoTable(),a=e.scaleFactor(),s=e.pageNumber(),i=!1;if(r&&r.startPageNumber){var o=r.startPageNumber+r.pageNumber-1;i=o===s}return typeof t=="number"?t:(t==null||t===!1)&&i&&r?.finalY!=null?r.finalY+20/a:null}function fhe(e,t,r){var a=t.head||[],s=t.body||[],i=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(r){var l=zH(e,t.html,r,o,t.useCss)||{};a=l.head||a,s=l.body||a,i=l.foot||a}else console.error("Cannot parse html in non browser environment")}var c=t.columns||hhe(a,s,i);return{columns:c,head:a,body:s,foot:i}}function hhe(e,t,r){var a=e[0]||t[0]||r[0]||[],s=[];return Object.keys(a).filter(function(i){return i!=="_element"}).forEach(function(i){var o=1,l;Array.isArray(a)?l=a[parseInt(i)]:l=a[i],typeof l=="object"&&!Array.isArray(l)&&(o=l?.colSpan||1);for(var c=0;c<o;c++){var u=void 0;Array.isArray(a)?u=s.length:u=i+(c>0?"_".concat(c):"");var d={dataKey:u};s.push(d)}}),s}var u6=(function(){function e(t,r,a){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=a,this.doc=t.getDocument()}return e})(),Ahe=(function(e){MH(t,e);function t(r,a,s,i,o,l){var c=e.call(this,r,a,l)||this;return c.cell=s,c.row=i,c.column=o,c.section=i.section,c}return t})(u6),mhe=(function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,a){return r+a.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,a){return r+a.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,a,s,i,o){for(var l=0,c=r;l<c.length;l++){var u=c[l],d=new Ahe(t,this,a,s,i,o),A=u(d)===!1;if(a.text=Array.isArray(a.text)?a.text:[a.text],A)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var a=0,s=this.hooks.didDrawPage;a<s.length;a++){var i=s[a];i(new u6(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var a=0,s=this.hooks.willDrawPage;a<s.length;a++){var i=s[a];i(new u6(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(s,i){return s+i.wrappedWidth},0);return r}else{var a=this.settings.margin;return t-a.left-a.right}},e})(),qH=(function(){function e(t,r,a,s,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof UH&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=a,this.cells=s,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(a,s){var i;return Math.max(a,((i=r.cells[s.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(a){var s=r.cells[a.index];return s?s.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var a=this;return t.reduce(function(s,i){var o=a.cells[i.index];if(!o)return 0;var l=r.getLineHeight(o.styles.fontSize),c=o.padding("vertical"),u=c+l;return u>s?u:s},0)},e})(),KH=(function(){function e(t,r,a){var s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=a,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(s=t.content)!==null&&s!==void 0?s:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var o=i!=null?""+i:"",l=/\r\n|\r|\n/g;this.text=o.split(l)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var a;if(this.styles.halign==="right")a=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var s=this.width-this.padding("horizontal");a=this.x+s/2+this.padding("left")}else a=this.x+this.padding("left");return{x:a,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var a=Array.isArray(this.text)?this.text.length:1,s=this.styles.fontSize/t*r,i=a*s+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=F5(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e})(),phe=(function(){function e(t,r,a){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=a}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,a=0,s=t.allRows();a<s.length;a++){var i=s[a],o=i.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(r=Math.max(r,o.styles.cellWidth))}return r},e})();function ghe(e,t){xhe(e,t);var r=[],a=0;t.columns.forEach(function(i){var o=i.getMaxCustomCellWidth(t);o?i.width=o:(i.width=i.wrappedWidth,r.push(i)),a+=i.width});var s=t.getWidth(e.pageSize().width)-a;s&&(s=f6(r,s,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),s&&(s=f6(r,s,function(i){return i.minWidth})),s=Math.abs(s),!t.settings.horizontalPageBreak&&s>.1/e.scaleFactor()&&(s=s<1?s:Math.round(s),console.warn("Of the table content, ".concat(s," units width could not fit page"))),vhe(t),bhe(t,e),yhe(t)}function xhe(e,t){var r=e.scaleFactor(),a=t.settings.horizontalPageBreak,s=HH(e,t);t.allRows().forEach(function(i){for(var o=0,l=t.columns;o<l.length;o++){var c=l[o],u=i.cells[c.index];if(u){var d=t.hooks.didParseCell;t.callCellHooks(e,d,u,i,c,null);var A=u.padding("horizontal");u.contentWidth=s4(u.text,u.styles,e)+A;var m=s4(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,e);if(u.minReadableWidth=m+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||a===!0)u.contentWidth>s?(u.minWidth=s,u.wrappedWidth=s):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var h=10/r;u.minWidth=u.styles.minCellWidth||h,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),t.allRows().forEach(function(i){for(var o=0,l=t.columns;o<l.length;o++){var c=l[o],u=i.cells[c.index];if(u&&u.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,u.wrappedWidth),c.minWidth=Math.max(c.minWidth,u.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,u.minReadableWidth);else{var d=t.styles.columnStyles[c.dataKey]||t.styles.columnStyles[c.index]||{},A=d.cellWidth||d.minCellWidth;A&&typeof A=="number"&&(c.minWidth=A,c.wrappedWidth=A)}u&&(u.colSpan>1&&!c.minWidth&&(c.minWidth=u.minWidth),u.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=u.minWidth))}})}function f6(e,t,r){for(var a=t,s=e.reduce(function(h,y){return h+y.wrappedWidth},0),i=0;i<e.length;i++){var o=e[i],l=o.wrappedWidth/s,c=a*l,u=o.width+c,d=r(o),A=u<d?d:u;t-=A-o.width,o.width=A}if(t=Math.round(t*1e10)/1e10,t){var m=e.filter(function(h){return t<0?h.width>r(h):!0});m.length&&(t=f6(m,t,r))}return t}function yhe(e){for(var t={},r=1,a=e.allRows(),s=0;s<a.length;s++)for(var i=a[s],o=0,l=e.columns;o<l.length;o++){var c=l[o],u=t[c.index];if(r>1)r--,delete i.cells[c.index];else if(u)u.cell.height+=i.height,r=u.cell.colSpan,delete i.cells[c.index],u.left--,u.left<=1&&delete t[c.index];else{var d=i.cells[c.index];if(!d)continue;if(d.height=i.height,d.rowSpan>1){var A=a.length-s,m=d.rowSpan>A?A:d.rowSpan;t[c.index]={cell:d,left:m,row:i}}}}}function vhe(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var a=t[r],s=null,i=0,o=0,l=0;l<e.columns.length;l++){var c=e.columns[l];if(o-=1,o>1&&e.columns[l+1])i+=c.width,delete a.cells[c.index];else if(s){var u=s;delete a.cells[c.index],s=null,u.width=c.width+i}else{var u=a.cells[c.index];if(!u)continue;if(o=u.colSpan,i=0,u.colSpan>1){s=u,i+=c.width;continue}u.width=c.width+i}}}function bhe(e,t){for(var r={count:0,height:0},a=0,s=e.allRows();a<s.length;a++){for(var i=s[a],o=0,l=e.columns;o<l.length;o++){var c=l[o],u=i.cells[c.index];if(u){t.applyStyles(u.styles,!0);var d=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=t.splitTextToSize(u.text,d+1/t.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=EI(u.text,d,u.styles,t,"...");else if(u.styles.overflow==="hidden")u.text=EI(u.text,d,u.styles,t,"");else if(typeof u.styles.overflow=="function"){var A=u.styles.overflow(u.text,d);typeof A=="string"?u.text=[A]:u.text=A}u.contentHeight=u.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var m=u.contentHeight/u.rowSpan;u.rowSpan>1&&r.count*r.height<m*u.rowSpan?r={height:m,count:u.rowSpan}:r&&r.count>0&&r.height>m&&(m=r.height),m>i.height&&(i.height=m)}}r.count--}}function EI(e,t,r,a,s){return e.map(function(i){return whe(i,t,r,a,s)})}function whe(e,t,r,a,s){var i=1e4*a.scaleFactor();if(t=Math.ceil(t*i)/i,t>=s4(e,r,a))return e;for(;t<s4(e+s,r,a)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+s}function GH(e,t){var r=new vx(e),a=Nhe(t,r.scaleFactor()),s=new mhe(t,a);return ghe(r,s),r.applyStyles(r.userStyles),s}function Nhe(e,t){var r=e.content,a=She(r.columns);if(r.head.length===0){var s=BI(a,"head");s&&r.head.push(s)}if(r.foot.length===0){var s=BI(a,"foot");s&&r.foot.push(s)}var i=e.settings.theme,o=e.styles;return{columns:a,head:Lj("head",r.head,a,o,i,t),body:Lj("body",r.body,a,o,i,t),foot:Lj("foot",r.foot,a,o,i,t)}}function Lj(e,t,r,a,s,i){var o={},l=t.map(function(c,u){for(var d=0,A={},m=0,h=0,y=0,x=r;y<x.length;y++){var v=x[y];if(o[v.index]==null||o[v.index].left===0)if(h===0){var b=void 0;Array.isArray(c)?b=c[v.index-m-d]:b=c[v.dataKey];var j={};typeof b=="object"&&!Array.isArray(b)&&(j=b?.styles||{});var C=Che(e,v,u,s,a,i,j),E=new KH(b,C,e);A[v.dataKey]=E,A[v.index]=E,h=E.colSpan-1,o[v.index]={left:E.rowSpan-1,times:h}}else h--,m++;else o[v.index].left--,h=o[v.index].times,d++}return new qH(c,u,e,A)});return l}function BI(e,t){var r={};return e.forEach(function(a){if(a.raw!=null){var s=jhe(t,a.raw);s!=null&&(r[a.dataKey]=s)}}),Object.keys(r).length>0?r:null}function jhe(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function She(e){return e.map(function(t,r){var a,s;return typeof t=="object"?s=(a=t.dataKey)!==null&&a!==void 0?a:r:s=r,new phe(s,t,r)})}function Che(e,t,r,a,s,i,o){var l=the(a),c;e==="head"?c=s.headStyles:e==="body"?c=s.bodyStyles:e==="foot"&&(c=s.footStyles);var u=MA({},l.table,l[e],s.styles,c),d=s.columnStyles[t.dataKey]||s.columnStyles[t.index]||{},A=e==="body"?d:{},m=e==="body"&&r%2===0?MA({},l.alternateRow,s.alternateRowStyles):{},h=ehe(i),y=MA({},h,u,m,A);return MA(y,o)}function Ehe(e,t,r){var a;r===void 0&&(r={});var s=HH(e,t),i=new Map,o=[],l=[],c=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(c=[t.settings.horizontalPageBreakRepeat]),c.forEach(function(m){var h=t.columns.find(function(y){return y.dataKey===m||y.index===m});h&&!i.has(h.index)&&(i.set(h.index,!0),o.push(h.index),l.push(t.columns[h.index]),s-=h.wrappedWidth)});for(var u=!0,d=(a=r?.start)!==null&&a!==void 0?a:0;d<t.columns.length;){if(i.has(d)){d++;continue}var A=t.columns[d].wrappedWidth;if(u||s>=A)u=!1,o.push(d),l.push(t.columns[d]),s-=A;else break;d++}return{colIndexes:o,columns:l,lastIndex:d-1}}function Bhe(e,t){for(var r=[],a=0;a<t.columns.length;a++){var s=Ehe(e,t,{start:a});s.columns.length&&(r.push(s),a=s.lastIndex)}return r}function WH(e,t){var r=t.settings,a=r.startY,s=r.margin,i={x:s.left,y:a},o=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),l=a+s.bottom+o;if(r.pageBreak==="avoid"){var c=t.body,u=c.reduce(function(m,h){return m+h.height},0);l+=u}var d=new vx(e);(r.pageBreak==="always"||r.startY!=null&&l>d.pageSize().height)&&(XH(d),i.y=s.top),t.callWillDrawPageHooks(d,i);var A=MA({},i);t.startPageNumber=d.pageNumber(),r.horizontalPageBreak?The(d,t,A,i):(d.applyStyles(d.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(m){return em(d,t,m,i,t.columns)}),d.applyStyles(d.userStyles),t.body.forEach(function(m,h){var y=h===t.body.length-1;i4(d,t,m,y,A,i,t.columns)}),d.applyStyles(d.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(m){return em(d,t,m,i,t.columns)})),RH(d,t,A,i),t.callEndPageHooks(d,i),t.finalY=i.y,e.lastAutoTable=t,d.applyStyles(d.userStyles)}function The(e,t,r,a){var s=Bhe(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")s.forEach(function(u,d){e.applyStyles(e.userStyles),d>0?_y(e,t,r,a,u.columns,!0):TI(e,t,a,u.columns),Fhe(e,t,r,a,u.columns),Oj(e,t,a,u.columns)});else for(var o=-1,l=s[0],c=function(){var u=o;if(l){e.applyStyles(e.userStyles);var d=l.columns;o>=0?_y(e,t,r,a,d,!0):TI(e,t,a,d),u=FI(e,t,o+1,a,d),Oj(e,t,a,d)}var A=u-o;s.slice(1).forEach(function(m){e.applyStyles(e.userStyles),_y(e,t,r,a,m.columns,!0),FI(e,t,o+1,a,m.columns,A),Oj(e,t,a,m.columns)}),o=u};o<t.body.length-1;)c()}function TI(e,t,r,a){var s=t.settings;e.applyStyles(e.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&t.head.forEach(function(i){return em(e,t,i,r,a)})}function Fhe(e,t,r,a,s){e.applyStyles(e.userStyles),t.body.forEach(function(i,o){var l=o===t.body.length-1;i4(e,t,i,l,r,a,s)})}function FI(e,t,r,a,s,i){e.applyStyles(e.userStyles),i=i??t.body.length;var o=Math.min(r+i,t.body.length),l=-1;return t.body.slice(r,o).forEach(function(c,u){var d=r+u===t.body.length-1,A=YH(e,t,d,a);c.canEntireRowFit(A,s)&&(em(e,t,c,a,s),l=r+u)}),l}function Oj(e,t,r,a){var s=t.settings;e.applyStyles(e.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&t.foot.forEach(function(i){return em(e,t,i,r,a)})}function _he(e,t,r){var a=r.getLineHeight(e.styles.fontSize),s=e.padding("vertical"),i=Math.floor((t-s)/a);return Math.max(0,i)}function khe(e,t,r,a){var s={};e.spansMultiplePages=!0,e.height=0;for(var i=0,o=0,l=r.columns;o<l.length;o++){var c=l[o],u=e.cells[c.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var d=new KH(u.raw,u.styles,u.section);d=MA(d,u),d.text=[];var A=_he(u,t,a);u.text.length>A&&(d.text=u.text.splice(A,u.text.length));var m=a.scaleFactor(),h=a.getLineHeightFactor();u.contentHeight=u.getContentHeight(m,h),u.contentHeight>=t&&(u.contentHeight=t,d.styles.minCellHeight-=t),u.contentHeight>e.height&&(e.height=u.contentHeight),d.contentHeight=d.getContentHeight(m,h),d.contentHeight>i&&(i=d.contentHeight),s[c.index]=d}}var y=new qH(e.raw,-1,e.section,s,!0);y.height=i;for(var x=0,v=r.columns;x<v.length;x++){var c=v[x],d=y.cells[c.index];d&&(d.height=y.height);var u=e.cells[c.index];u&&(u.height=e.height)}return y}function Ihe(e,t,r,a){var s=e.pageSize().height,i=a.settings.margin,o=i.top+i.bottom,l=s-o;t.section==="body"&&(l-=a.getHeadHeight(a.columns)+a.getFootHeight(a.columns));var c=t.getMinimumRowHeight(a.columns,e),u=c<r;if(c>l)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var d=t.hasRowSpan(a.columns),A=t.getMaxCellHeight(a.columns)>l;return A?(d&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||a.settings.rowPageBreak==="avoid")}function i4(e,t,r,a,s,i,o){var l=YH(e,t,a,i);if(r.canEntireRowFit(l,o))em(e,t,r,i,o);else if(Ihe(e,r,l,t)){var c=khe(r,l,t,e);em(e,t,r,i,o),_y(e,t,s,i,o),i4(e,t,c,a,s,i,o)}else _y(e,t,s,i,o),i4(e,t,r,a,s,i,o)}function em(e,t,r,a,s){a.x=t.settings.margin.left;for(var i=0,o=s;i<o.length;i++){var l=o[i],c=r.cells[l.index];if(!c){a.x+=l.width;continue}e.applyStyles(c.styles),c.x=a.x,c.y=a.y;var u=t.callCellHooks(e,t.hooks.willDrawCell,c,r,l,a);if(u===!1){a.x+=l.width;continue}Phe(e,c,a);var d=c.getTextPos();DH(c.text,d.x,d.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,c,r,l,a),a.x+=l.width}a.y+=r.height}function Phe(e,t,r){var a=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof a.lineWidth=="number"){var s=QH(a.lineWidth,a.fillColor);s&&e.rect(t.x,r.y,t.width,t.height,s)}else typeof a.lineWidth=="object"&&(a.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),Lhe(e,t,r,a.lineWidth))}function Lhe(e,t,r,a){var s,i,o,l;a.top&&(s=r.x,i=r.y,o=r.x+t.width,l=r.y,a.right&&(o+=.5*a.right),a.left&&(s-=.5*a.left),c(a.top,s,i,o,l)),a.bottom&&(s=r.x,i=r.y+t.height,o=r.x+t.width,l=r.y+t.height,a.right&&(o+=.5*a.right),a.left&&(s-=.5*a.left),c(a.bottom,s,i,o,l)),a.left&&(s=r.x,i=r.y,o=r.x,l=r.y+t.height,a.top&&(i-=.5*a.top),a.bottom&&(l+=.5*a.bottom),c(a.left,s,i,o,l)),a.right&&(s=r.x+t.width,i=r.y,o=r.x+t.width,l=r.y+t.height,a.top&&(i-=.5*a.top),a.bottom&&(l+=.5*a.bottom),c(a.right,s,i,o,l));function c(u,d,A,m,h){e.getDocument().setLineWidth(u),e.getDocument().line(d,A,m,h,"S")}}function YH(e,t,r,a){var s=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(s+=t.getFootHeight(t.columns)),e.pageSize().height-a.y-s}function _y(e,t,r,a,s,i){s===void 0&&(s=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(l){return em(e,t,l,a,s)}),t.callEndPageHooks(e,a);var o=t.settings.margin;RH(e,t,r,a),XH(e),t.pageNumber++,a.x=o.left,a.y=o.top,r.y=o.top,t.callWillDrawPageHooks(e,a),t.settings.showHead==="everyPage"&&(t.head.forEach(function(l){return em(e,t,l,a,s)}),e.applyStyles(e.userStyles))}function XH(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function Ohe(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var a=t[0],s=VH(this,a),i=GH(this,s);return WH(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,a,s){DH(t,r,a,s,this)},e.API.autoTableSetDefaults=function(t){return vx.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){vx.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var a;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new vx(this),i=zH(s,t,window,r,!1),o=i.head,l=i.body,c=((a=o[0])===null||a===void 0?void 0:a.map(function(u){return u.content}))||[];return{columns:c,rows:l,data:l}}}var Dj;function OB(e,t){var r=VH(e,t),a=GH(e,r);WH(e,a)}try{if(typeof window<"u"&&window){var _I=window,kI=_I.jsPDF||((Dj=_I.jspdf)===null||Dj===void 0?void 0:Dj.jsPDF);kI&&Ohe(kI)}}catch(e){console.error("Could not apply autoTable plugin",e)}var Mj,II;function JH(){if(II)return Mj;II=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return Mj=e,Mj}var Uj,PI;function Dhe(){if(PI)return Uj;PI=1;var e=typeof e0=="object"&&e0&&e0.Object===Object&&e0;return Uj=e,Uj}var Rj,LI;function ZH(){if(LI)return Rj;LI=1;var e=Dhe(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return Rj=r,Rj}var Qj,OI;function Mhe(){if(OI)return Qj;OI=1;var e=ZH(),t=function(){return e.Date.now()};return Qj=t,Qj}var Hj,DI;function Uhe(){if(DI)return Hj;DI=1;var e=/\s/;function t(r){for(var a=r.length;a--&&e.test(r.charAt(a)););return a}return Hj=t,Hj}var $j,MI;function Rhe(){if(MI)return $j;MI=1;var e=Uhe(),t=/^\s+/;function r(a){return a&&a.slice(0,e(a)+1).replace(t,"")}return $j=r,$j}var zj,UI;function e$(){if(UI)return zj;UI=1;var e=ZH(),t=e.Symbol;return zj=t,zj}var Vj,RI;function Qhe(){if(RI)return Vj;RI=1;var e=e$(),t=Object.prototype,r=t.hasOwnProperty,a=t.toString,s=e?e.toStringTag:void 0;function i(o){var l=r.call(o,s),c=o[s];try{o[s]=void 0;var u=!0}catch{}var d=a.call(o);return u&&(l?o[s]=c:delete o[s]),d}return Vj=i,Vj}var qj,QI;function Hhe(){if(QI)return qj;QI=1;var e=Object.prototype,t=e.toString;function r(a){return t.call(a)}return qj=r,qj}var Kj,HI;function $he(){if(HI)return Kj;HI=1;var e=e$(),t=Qhe(),r=Hhe(),a="[object Null]",s="[object Undefined]",i=e?e.toStringTag:void 0;function o(l){return l==null?l===void 0?s:a:i&&i in Object(l)?t(l):r(l)}return Kj=o,Kj}var Gj,$I;function zhe(){if($I)return Gj;$I=1;function e(t){return t!=null&&typeof t=="object"}return Gj=e,Gj}var Wj,zI;function Vhe(){if(zI)return Wj;zI=1;var e=$he(),t=zhe(),r="[object Symbol]";function a(s){return typeof s=="symbol"||t(s)&&e(s)==r}return Wj=a,Wj}var Yj,VI;function qhe(){if(VI)return Yj;VI=1;var e=Rhe(),t=JH(),r=Vhe(),a=NaN,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(r(u))return a;if(t(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=t(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=e(u);var A=i.test(u);return A||o.test(u)?l(u.slice(2),A?2:8):s.test(u)?a:+u}return Yj=c,Yj}var Xj,qI;function Khe(){if(qI)return Xj;qI=1;var e=JH(),t=Mhe(),r=qhe(),a="Expected a function",s=Math.max,i=Math.min;function o(l,c,u){var d,A,m,h,y,x,v=0,b=!1,j=!1,C=!0;if(typeof l!="function")throw new TypeError(a);c=r(c)||0,e(u)&&(b=!!u.leading,j="maxWait"in u,m=j?s(r(u.maxWait)||0,c):m,C="trailing"in u?!!u.trailing:C);function E(z){var W=d,ie=A;return d=A=void 0,v=z,h=l.apply(ie,W),h}function k(z){return v=z,y=setTimeout(F,c),b?E(z):h}function D(z){var W=z-x,ie=z-v,X=c-W;return j?i(X,m-ie):X}function L(z){var W=z-x,ie=z-v;return x===void 0||W>=c||W<0||j&&ie>=m}function F(){var z=t();if(L(z))return Q(z);y=setTimeout(F,D(z))}function Q(z){return y=void 0,C&&d?E(z):(d=A=void 0,h)}function U(){y!==void 0&&clearTimeout(y),v=0,d=x=A=y=void 0}function P(){return y===void 0?h:Q(t())}function I(){var z=t(),W=L(z);if(d=arguments,A=this,x=z,W){if(y===void 0)return k(x);if(j)return clearTimeout(y),y=setTimeout(F,c),E(x)}return y===void 0&&(y=setTimeout(F,c)),h}return I.cancel=U,I.flush=P,I}return Xj=o,Xj}var Ghe=Khe();const t$=hf(Ghe),Whe=()=>{const e=yc(),[t,r]=S.useState(""),[a,s]=S.useState("Unknown School"),[i,o]=S.useState([]),[l,c]=S.useState(!0),[u,d]=S.useState([]),[A,m]=S.useState(!0),[h,y]=S.useState(""),[x,v]=S.useState([]),[b,j]=S.useState(!0),[C,E]=S.useState(""),[k,D]=S.useState(!1),[L,F]=S.useState(!1),[Q,U]=S.useState(null),[P,I]=S.useState(null),[z,W]=S.useState(""),[ie,X]=S.useState("all"),[le,re]=S.useState(""),[he,de]=S.useState(""),[ve,B]=S.useState(!1),[R,G]=S.useState(""),[ne,pe]=S.useState([]),[xe,Ae]=S.useState(1),[Y]=S.useState(10),[se,ee]=S.useState(1),[be,Ce]=S.useState("#2563eb"),ce="http://localhost:5000/api",J="http://localhost:5000/api/exam-types",ge=(Ne,ct)=>{if(!Ne||!ct)return"";try{const[Ye,Ee]=Ne.split(":").map(Number),[it,vt]=ct.split(":").map(Number),It=new Date(0,0,0,Ye,Ee);let fr=(new Date(0,0,0,it,vt)-It)/6e4;fr<0&&(fr+=1440);const dr=Math.floor(fr/60),sr=fr%60;return`${dr}h ${sr}m`}catch(Ye){return console.error("Error calculating duration:",Ye),""}};S.useEffect(()=>{try{const Ne=localStorage.getItem("schoolId")||"688dfdc93af0f78ebd4b044a",ct=localStorage.getItem("color");Ne&&(r(Ne),Ce(ct||"#2563eb"))}catch(Ne){console.error("Error accessing localStorage:",Ne),G("Failed to initialize: "+Ne.message)}},[]),S.useEffect(()=>{t&&(Ze(),Te(),pt(),Qe())},[t,xe,le,he,ie]);const[Je,Ke]=S.useState([]),[Fe,nt]=S.useState([]),[Se,Me]=S.useState(!1),[at,ke]=S.useState(""),[Ve,ze]=S.useState(null);S.useEffect(()=>{(async()=>{if(t)try{const ct=await fetch(`${J}?schoolId=${t}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!ct.ok)throw new Error(`Failed to fetch exam types (${ct.status})`);const Ye=await ct.json(),Ee=Array.isArray(Ye?.data)?Ye.data:Array.isArray(Ye)?Ye:[];nt(Ee),Ke(Ee.map(it=>it.exameType||it.name||it.examType||it))}catch(ct){console.error("Error loading exam types:",ct),nt([]),Ke([])}})()},[t]);const rt=async()=>{if(!at.trim()){ir.error("Please enter an exam type name");return}try{B(!0);const ct=await(await fetch(J,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({schoolId:t,exameType:at.trim()})})).json();if(ct.success){ir.success("Exam type created successfully"),ke(""),Me(!1);const Ee=await(await fetch(`${J}?schoolId=${t}`)).json(),it=Array.isArray(Ee?.data)?Ee.data:[];nt(it)}else ir.error(ct.message||"Failed to create exam type")}catch(Ne){ir.error("Error creating exam type: "+Ne.message)}finally{B(!1)}},Ge=async()=>{if(!at.trim()){ir.error("Please enter an exam type name");return}try{B(!0);const ct=await(await fetch(`${J}/${Ve._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({exameType:at.trim()})})).json();if(ct.success){ir.success("Exam type updated successfully"),ke(""),ze(null),Me(!1);const Ee=await(await fetch(`${J}?schoolId=${t}`)).json(),it=Array.isArray(Ee?.data)?Ee.data:[];nt(it)}else ir.error(ct.message||"Failed to update exam type")}catch(Ne){ir.error("Error updating exam type: "+Ne.message)}finally{B(!1)}},bt=async Ne=>{if(confirm(`Are you sure you want to delete "${Ne.exameType}"?`))try{B(!0);const Ye=await(await fetch(`${J}/${Ne._id}`,{method:"DELETE"})).json();if(Ye.success){ir.success("Exam type deleted successfully");const it=await(await fetch(`${J}?schoolId=${t}`)).json(),vt=Array.isArray(it?.data)?it.data:[];nt(vt)}else ir.error(Ye.message||"Failed to delete exam type")}catch(ct){ir.error("Error deleting exam type: "+ct.message)}finally{B(!1)}},Le=Ne=>{ze(Ne),ke(Ne.exameType),Me(!0)},je=()=>{ke(""),ze(null),Me(!1)},Ze=async()=>{try{c(!0);const Ne=await Vt.get(`${ce}/schools`);if(Ne.data.success&&Array.isArray(Ne.data.data)){o(Ne.data.data);const ct=Ne.data.data.find(Ye=>Ye._id===t);s(ct?.name||"Unknown School")}else o([]),s("Unknown School")}catch(Ne){console.error("Error fetching schools:",Ne.message),s("Unknown School"),G("Failed to load schools: "+Ne.message)}finally{c(!1)}},Te=async()=>{if(t)try{m(!0);const Ne=await Vt.get(`${ce}/class?schoolId=${t}`);Ne.data.success&&Array.isArray(Ne.data.data)?(d(Ne.data.data),y("")):(d([]),y("No classes found"))}catch(Ne){console.error("Error fetching classes:",Ne.message),d([]),y("Failed to load classes: "+Ne.message)}finally{m(!1)}},pt=async()=>{if(t)try{j(!0);const Ne=await Vt.get(`${ce}/subject/${t}/subjects`);Ne.data.success&&Array.isArray(Ne.data.data)?(v(Ne.data.data),E("")):(v([]),E("No subjects found"))}catch(Ne){console.error("Error fetching subjects:",Ne.message),v([]),E("Failed to load subjects: "+Ne.message)}finally{j(!1)}},At=S.useMemo(()=>u.map(Ne=>({_id:Ne._id,className:Ne.className||`Class ${Ne.classNumber||Ne._id}`,section:Ne.section||"",displayName:`${Ne.className||`Class ${Ne.classNumber||Ne._id}`}${Ne.section?` ${Ne.section}`:""}`.trim()})),[u]),qe=S.useMemo(()=>[...new Set(At.map(Ne=>Ne.className))].sort(),[At]),Pe=S.useMemo(()=>[...new Set(At.filter(Ne=>Ne.className===le).map(Ne=>Ne.section).filter(Boolean))].sort(),[At,le]),mt=S.useMemo(()=>x.map(Ne=>({_id:Ne._id,name:Ne.SubjectName||Ne.name||Ne.subjectName||"Unnamed Subject"})),[x]),Qe=S.useCallback(t$(async()=>{if(t)try{B(!0);const Ne=new URLSearchParams({schoolId:t,page:xe,limit:Y});if(le){const Ye=At.filter(Ee=>Ee.className===le&&(!he||Ee.section===he)).map(Ee=>Ee._id);Ye.length>0&&Ne.append("classIds",Ye.join(","))}ie!=="all"&&Ne.append("examType",ie);const ct=await Vt.get(`${ce}/exams?${Ne.toString()}`);ct.data.success?(pe(ct.data.data||[]),ee(ct.data.totalPages||1),G("")):(pe([]),ee(1),G(ct.data.message||"Failed to fetch exams"))}catch(Ne){console.error("Error fetching exams:",Ne.message),pe([]),ee(1),G("Error fetching exams: "+Ne.message)}finally{B(!1)}},300),[t,xe,Y,le,he,ie,At]),[st,tt]=S.useState({examType:"",status:"Scheduled",classId:"",className:"",section:"",subjects:[]}),Ft=Ne=>{Ne.preventDefault();const{name:ct,value:Ye}=Ne.target;tt(Ee=>({...Ee,[ct]:Ye}))},_t=Ne=>{Ne.preventDefault();const ct=Ne.target.value;tt(Ye=>({...Ye,className:ct,section:"",classId:""}))},Dt=Ne=>{Ne.preventDefault();const ct=Ne.target.value,Ye=At.find(Ee=>Ee.className===st.className&&Ee.section===ct);tt(Ee=>({...Ee,section:ct,classId:Ye?Ye._id:""}))},Wt=()=>st.className?[...new Set(At.filter(Ne=>Ne.className===st.className).map(Ne=>Ne.section).filter(Boolean))].sort():[],cr=(Ne,ct,Ye)=>{tt(Ee=>{const it=[...Ee.subjects];if(it[Ne]={...it[Ne],[ct]:Ye},ct==="startTime"||ct==="endTime"){const vt=ct==="startTime"?Ye:it[Ne].startTime,It=ct==="endTime"?Ye:it[Ne].endTime;it[Ne].duration=ge(vt,It)}return{...Ee,subjects:it}})},Dr=()=>{tt(Ne=>({...Ne,subjects:[...Ne.subjects,{subjectName:"",date:"",startTime:"",endTime:"",duration:"",syllabus:""}]}))},Ea=Ne=>{tt(ct=>({...ct,subjects:ct.subjects.filter((Ye,Ee)=>Ee!==Ne)}))},Fr=async()=>{if(!t){ir.error("Error: School ID not found. Please login again.");return}G("");try{if(!st.className){ir.error("Please select a class first.");return}if(!st.section){ir.error("Please select a section for the chosen class.");return}if(!st.classId){ir.error("Class ID not found. Please re-select class and section.");return}if(!st.examType){ir.error("Please select an exam type.");return}if(st.subjects.length===0){ir.error("Please add at least one subject to the exam timetable.");return}if(st.subjects.some(Ye=>!Ye.subjectName||!Ye.date||!Ye.startTime||!Ye.endTime||!Ye.syllabus)){ir.error("Please fill all required fields for each subject: subject name, date, start time, end time, and syllabus.");return}const Ne={schoolId:t,classId:st.classId,examType:st.examType,status:st.status,subjects:st.subjects.map(Ye=>({subjectName:Ye.subjectName,date:Ye.date,startTime:Ye.startTime,endTime:Ye.endTime,duration:Ye.duration,syllabus:Ye.syllabus}))};(P?await Sr(P._id,Ne):await jr(Ne))&&Xt()}catch(Ne){console.error("Submit error:",Ne),G("Failed to submit: "+Ne.message),ir.error("Failed to submit: "+Ne.message)}},jr=async Ne=>{try{B(!0);const ct=await Vt.post(`${ce}/exams`,Ne);return ct.data.success?(ir.success("Exam created successfully."),await Qe(),!0):(G(ct.data.message||"Failed to create exam"),ir.error(ct.data.message||"Failed to create exam"),!1)}catch(ct){return G("Error creating exam: "+ct.message),ir.error("Error creating exam: "+ct.message),!1}finally{B(!1)}},Sr=async(Ne,ct)=>{try{B(!0);const Ye=await Vt.put(`${ce}/exams/${Ne}`,ct);return Ye.data.success?(ir.success("Exam updated successfully."),await Qe(),!0):(G(Ye.data.message||"Failed to update exam"),ir.error(Ye.data.message||"Failed to update exam"),!1)}catch(Ye){return G("Error updating exam: "+Ye.message),ir.error("Error updating exam: "+Ye.message),!1}finally{B(!1)}},ca=Ne=>{I(Ne);const ct=Ne.classId?._id||Ne.classId||"",Ye=At.find(Ee=>Ee._id===ct);tt({examType:Ne.examType||"",status:Ne.status||"Scheduled",classId:ct,className:Ye?Ye.className:"",section:Ye?Ye.section:"",subjects:Ne.subjects?Ne.subjects.map(Ee=>({subjectName:Ee.subjectName||"",date:Ee.date||"",startTime:Ee.startTime||"",endTime:Ee.endTime||"",duration:Ee.duration||ge(Ee.startTime,Ee.endTime),syllabus:Ee.syllabus||""})):[]}),D(!0)},oa=Ne=>{U(Ne),F(!0)},wt=async Ne=>{if(confirm("Are you sure you want to delete this exam?"))try{B(!0);const ct=await Vt.delete(`${ce}/exams/${Ne._id}`,{data:{schoolId:t}});ct.data.success?(ir.success("Exam deleted successfully."),await Qe()):(G(ct.data.message||"Failed to delete exam"),ir.error(ct.data.message||"Failed to delete exam"))}catch(ct){G("Error deleting exam: "+ct.message),ir.error("Error deleting exam: "+ct.message)}finally{B(!1)}},Xt=()=>{tt({examType:"",status:"Scheduled",classId:"",className:"",section:"",subjects:[]}),I(null),D(!1),G("")},Oe=S.useCallback(Ne=>{if(!Ne)return"N/A";const ct=typeof Ne=="object"?Ne._id:Ne,Ye=At.find(Ee=>Ee._id===ct);return Ye?Ye.displayName:"N/A"},[At]),ut=S.useMemo(()=>ne.map(Ne=>({...Ne,className:Oe(Ne.classId)})).filter(Ne=>[Ne.examType||"",Ne.className].some(Ye=>Ye.toLowerCase().includes(z.toLowerCase()))),[ne,z,Oe]),ot=()=>{xe>1&&Ae(Ne=>Ne-1)},dt=()=>{xe<se&&Ae(Ne=>Ne+1)},Ie=Ne=>{Ae(Ne)};return t?n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"text-white p-6 rounded-b-3xl shadow-lg",style:{backgroundColor:be},children:n.jsxs("div",{className:"max-w-5xl mx-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Exam Timetable Management"}),a!=="Unknown School"&&n.jsxs("span",{className:"text-white font-semibold",children:["(",a,")"]})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsxs("button",{onClick:()=>e("/exams-timetable-download"),className:"text-white px-4 py-2 rounded-lg flex items-center hover:opacity-90 transition-opacity border border-white border-opacity-30",style:{backgroundColor:`${be}80`},disabled:ve,title:"Download Exam Time Tables",children:[n.jsx(Ln,{className:"mr-2"}),"Download Time Tables"]}),n.jsxs("button",{onClick:()=>Me(!0),className:"text-white px-4 py-2 rounded-lg flex items-center hover:opacity-90 transition-opacity border border-white border-opacity-30",style:{backgroundColor:`${be}80`},disabled:ve,title:"Manage Exam Types",children:[n.jsx(Hl,{className:"mr-2"}),"Manage Types"]}),n.jsxs("button",{onClick:()=>{Xt(),D(!0)},className:"text-white px-6 py-2 rounded-lg flex items-center hover:opacity-90 transition-opacity",style:{backgroundColor:be},disabled:ve||A||b||At.length===0||mt.length===0,title:ve||A||b?"Loading...":At.length===0?"No classes available":mt.length===0?"No subjects available":"Add Exam Timetable",children:[n.jsx(bs,{className:"mr-2"}),"Add Exam Timetable"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Class"}),n.jsxs("select",{value:le,onChange:Ne=>{Ne.preventDefault(),re(Ne.target.value),de(""),Ae(1)},className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:A||ve,children:[n.jsx("option",{value:"",children:"All Classes"}),qe.map(Ne=>n.jsx("option",{value:Ne,children:Ne},Ne))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Section"}),n.jsxs("select",{value:he,onChange:Ne=>{Ne.preventDefault(),de(Ne.target.value),Ae(1)},className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",disabled:A||ve||le===""||Pe.length===0,children:[n.jsx("option",{value:"",children:"All Sections"}),Pe.map(Ne=>n.jsx("option",{value:Ne,children:Ne},Ne))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Exam Type"}),n.jsxs("select",{value:ie,onChange:Ne=>{Ne.preventDefault(),X(Ne.target.value),Ae(1)},className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"all",children:"All Types"}),Fe.length>0?Fe.map(Ne=>n.jsx("option",{value:Ne.exameType,children:Ne.exameType},Ne._id)):["Midterm","Final","Unit Test","Quiz","Practical","Other"].map(Ne=>n.jsx("option",{value:Ne,children:Ne},Ne))]})]})]})]})}),n.jsxs("div",{className:"max-w-5xl mx-auto p-6",children:[(ve||A||b||l)&&n.jsxs("div",{className:"p-8 text-center bg-white rounded-lg shadow-md",children:[n.jsx(Rr,{className:"animate-spin mx-auto mb-4",size:32,style:{color:be}}),n.jsx("p",{className:"text-gray-600",children:l?"Loading schools...":A?"Loading classes...":b?"Loading subjects...":"Loading exams..."})]}),R&&!ve&&!A&&!b&&!l&&n.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6 flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Da,{className:"mr-2"}),n.jsx("span",{children:R})]}),n.jsx("button",{onClick:()=>G(""),className:"text-red-500 hover:text-red-700 font-bold",children:""})]}),!ve&&!A&&!b&&!l&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"relative mb-6",children:[n.jsx(on,{className:"absolute left-3 top-3 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search by exam type or class...",value:z,onChange:Ne=>W(Ne.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg w-full text-black focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Exam Type"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subjects Count"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ut.map(Ne=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:Ne.examType||"N/A"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:Ne.className})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Ne.status==="Scheduled"?"bg-yellow-100 text-yellow-800":Ne.status==="Completed"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:Ne.status||"Scheduled"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Ne.subjects?.length||0}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[n.jsx("button",{onClick:()=>ca(Ne),className:"text-indigo-600 hover:text-indigo-900 mr-4",disabled:ve,title:"Edit",children:n.jsx(Ql,{})}),n.jsx("button",{onClick:()=>oa(Ne),className:"text-blue-600 hover:text-blue-900 mr-4",disabled:ve,title:"View",children:n.jsx(cs,{})}),n.jsx("button",{onClick:()=>wt(Ne),className:"text-red-600 hover:text-red-900",disabled:ve,title:"Delete",children:n.jsx(Jn,{})})]})]},Ne._id||Ne.id))})]}),ut.length===0&&n.jsxs("div",{className:"p-8 text-center text-gray-500",children:[n.jsx("div",{className:"text-lg mb-2",children:"No exams found"}),n.jsx("div",{className:"text-sm",children:z?"Try adjusting your search terms":"Click 'Add Exam Timetable' to create your first entry"})]}),ut.length>0&&n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center px-6 py-4 border-t border-gray-200",children:[n.jsxs("div",{className:"text-sm text-gray-600 mb-2 sm:mb-0",children:["Page ",xe," of ",se]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:ot,disabled:xe===1,className:"px-3 py-1 rounded-lg border border-gray-300 disabled:opacity-50 hover:bg-gray-100",children:n.jsx(Do,{})}),[...Array(se)].map((Ne,ct)=>{const Ye=ct+1;return n.jsx("button",{onClick:()=>Ie(Ye),className:`px-3 py-1 rounded-lg border border-gray-300 ${xe===Ye?"bg-blue-500 text-white":"hover:bg-gray-100"}`,style:xe===Ye?{backgroundColor:be}:{},children:Ye},Ye)}),n.jsx("button",{onClick:dt,disabled:xe===se,className:"px-3 py-1 rounded-lg border border-gray-300 disabled:opacity-50 hover:bg-gray-100",children:n.jsx(ro,{})})]})]})]})]})]}),k&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"text-white p-4 rounded-t-lg flex justify-between items-center",style:{backgroundColor:be},children:[n.jsxs("h2",{className:"text-xl font-bold",children:[P?"Edit":"Add"," Exam Timetable"]}),n.jsx("button",{onClick:Xt,className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-1",children:n.jsx(pr,{size:24})})]}),n.jsxs("div",{className:"p-6",children:[(A||b)&&n.jsxs("div",{className:"text-center py-4",children:[n.jsx(Rr,{className:"w-6 h-6 mx-auto animate-spin mb-2",style:{color:be}}),n.jsx("p",{className:"text-sm text-gray-600",children:"Loading classes and subjects..."})]}),!A&&!b&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Step 1: Select Class ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{name:"className",value:st.className,onChange:_t,className:"w-full p-3 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:A,required:!0,children:[n.jsx("option",{value:"",children:"Select Class"}),qe.length===0?n.jsx("option",{value:"",disabled:!0,children:"No classes available"}):qe.map(Ne=>n.jsx("option",{value:Ne,children:Ne},Ne))]})]}),st.className&&n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Step 2: Select Section ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{name:"section",value:st.section,onChange:Dt,className:"w-full p-3 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[n.jsx("option",{value:"",children:"Select Section"}),Wt().length===0?n.jsx("option",{value:"",disabled:!0,children:"No sections available for this class"}):Wt().map(Ne=>n.jsx("option",{value:Ne,children:Ne},Ne))]})]}),st.className&&st.section&&st.classId&&n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Step 3: Select Exam Type ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{name:"examType",value:st.examType,onChange:Ft,className:"w-full p-3 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[n.jsx("option",{value:"",children:"Select Exam Type"}),Fe.length>0?Fe.map(Ne=>n.jsx("option",{value:Ne.exameType,children:Ne.exameType},Ne._id)):["Midterm","Final","Unit Test","Quiz","Practical","Other"].map(Ne=>n.jsx("option",{value:Ne,children:Ne},Ne))]})]}),P&&st.examType&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{name:"status",value:st.status,onChange:Ft,className:"w-full p-3 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:["Scheduled","Completed","Cancelled"].map(Ne=>n.jsx("option",{value:Ne,children:Ne},Ne))})]}),st.examType&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"border-t pt-6 mt-6",children:[n.jsx("h3",{className:"text-lg font-bold mb-4",children:"Step 4: Add Exam Subjects"}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Add the subjects that will be included in this exam timetable."})]}),st.subjects.map((Ne,ct)=>n.jsxs("div",{className:"border border-gray-300 p-4 rounded-lg mb-4 space-y-4",children:[n.jsxs("select",{value:Ne.subjectName,onChange:Ye=>cr(ct,"subjectName",Ye.target.value),className:"w-full p-3 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:b,required:!0,children:[n.jsx("option",{value:"",children:"Select Subject"}),mt.length===0?n.jsx("option",{value:"",disabled:!0,children:"No subjects available"}):mt.map(Ye=>n.jsx("option",{value:Ye.name,children:Ye.name},Ye._id))]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx("input",{type:"date",value:Ne.date,onChange:Ye=>cr(ct,"date",Ye.target.value),className:"p-3 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:`startTime-${ct}`,className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Time"}),n.jsx("input",{type:"time",id:`startTime-${ct}`,value:Ne.startTime,onChange:Ye=>cr(ct,"startTime",Ye.target.value),className:"p-3 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500 w-full",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:`endTime-${ct}`,className:"block text-sm font-medium text-gray-700 mb-1",children:"End Time"}),n.jsx("input",{type:"time",id:`endTime-${ct}`,value:Ne.endTime,onChange:Ye=>cr(ct,"endTime",Ye.target.value),className:"p-3 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500 w-full",required:!0})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:`duration-${ct}`,className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration"}),n.jsx("input",{type:"text",id:`duration-${ct}`,value:Ne.duration,readOnly:!0,className:"p-3 border border-gray-300 rounded-lg text-black bg-gray-100 w-full"})]}),n.jsx("textarea",{placeholder:"Syllabus",value:Ne.syllabus,onChange:Ye=>cr(ct,"syllabus",Ye.target.value),className:"w-full p-3 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"3",required:!0}),n.jsx("button",{onClick:()=>Ea(ct),className:"text-red-600 hover:text-red-900 font-medium",children:"Remove Subject"})]},ct)),n.jsx("button",{onClick:Dr,className:"text-white px-4 py-2 rounded-lg hover:opacity-90 transition-opacity",style:{backgroundColor:be},disabled:b||mt.length===0,children:"Add Subject"})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx("button",{onClick:Xt,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",disabled:ve,children:"Cancel"}),n.jsxs("button",{onClick:Fr,className:"text-white px-6 py-2 rounded-lg flex items-center hover:opacity-90",style:{backgroundColor:be},disabled:ve||A||b||!st.className||!st.section||!st.classId||!st.examType||st.subjects.length===0,children:[ve?n.jsx(Rr,{className:"mr-2 animate-spin"}):n.jsx($l,{className:"mr-2"}),P?"Update":"Save"]})]})]})]})}),L&&Q&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"text-white p-4 rounded-t-lg flex justify-between items-center",style:{backgroundColor:be},children:[n.jsxs("h2",{className:"text-xl font-bold",children:["View ",Q.examType," Timetable for"," ",Oe(Q.classId)]}),n.jsx("button",{onClick:()=>F(!1),className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-1",children:n.jsx(pr,{size:24})})]}),n.jsxs("div",{className:"p-6",children:[n.jsx("div",{className:"mb-4",children:n.jsxs("p",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Status:"})," ",Q.status]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full bg-white border border-gray-200 rounded-lg",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subject"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Start Time"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"End Time"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Syllabus"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:Q.subjects.map((Ne,ct)=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:Ne.subjectName||"N/A"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Ne.date||"N/A"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Ne.startTime||"N/A"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Ne.endTime||"N/A"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Ne.duration||"N/A"}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Ne.syllabus||"N/A"})]},ct))})]})})]})]})}),Se&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[n.jsxs("div",{className:"text-white p-4 rounded-t-lg flex justify-between items-center",style:{backgroundColor:be},children:[n.jsx("h2",{className:"text-xl font-bold",children:"Manage Exam Types"}),n.jsx("button",{onClick:je,className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-1",children:n.jsx(pr,{size:24})})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:Ve?"Edit Exam Type":"Add New Exam Type"}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("input",{type:"text",value:at,onChange:Ne=>ke(Ne.target.value),placeholder:"Enter exam type name",className:"flex-1 p-3 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyPress:Ne=>{Ne.key==="Enter"&&(Ve?Ge():rt())}}),n.jsx("button",{onClick:Ve?Ge:rt,className:"text-white px-4 py-3 rounded-lg hover:opacity-90 transition-opacity",style:{backgroundColor:be},disabled:ve||!at.trim(),children:ve?n.jsx(Rr,{className:"animate-spin"}):Ve?n.jsx($l,{}):n.jsx(bs,{})}),Ve&&n.jsx("button",{onClick:je,className:"px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Existing Exam Types"}),Fe.length===0?n.jsx("div",{className:"text-center py-8 text-gray-500",children:n.jsx("p",{children:"No exam types found. Create your first exam type above."})}):n.jsx("div",{className:"space-y-2",children:Fe.map(Ne=>n.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[n.jsx("span",{className:"font-medium",children:Ne.exameType}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>Le(Ne),className:"text-blue-600 hover:text-blue-800 p-1",title:"Edit",disabled:ve,children:n.jsx(Ql,{})}),n.jsx("button",{onClick:()=>bt(Ne),className:"text-red-600 hover:text-red-800 p-1",title:"Delete",disabled:ve,children:n.jsx(Jn,{})})]})]},Ne._id))})]})]})]})}),n.jsx(b5,{})]}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"text-center p-8 bg-white rounded-lg shadow-md max-w-md",children:[n.jsx(Da,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),n.jsx("div",{className:"text-red-500 text-xl mb-4",children:"School ID not found"}),n.jsx("div",{className:"text-gray-600 mb-4",children:"Please login again to access the exam system."}),n.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",style:{backgroundColor:be},children:"Refresh Page"})]})})},Yhe=()=>{const[e,t]=S.useState(""),[r,a]=S.useState("All"),[s,i]=S.useState("All"),[o,l]=S.useState(""),[c,u]=S.useState(""),[d,A]=S.useState([]),[m,h]=S.useState([]),[y,x]=S.useState(!1),[v,b]=S.useState(""),[j,C]=S.useState(""),[E,k]=S.useState(""),[D,L]=S.useState(1),[F,Q]=S.useState(1),[U,P]=S.useState(0),[I]=S.useState(10),z="http://localhost:5000/api",W=Xn(Me=>Me.classes.classes?.data||[]),ie=Xn(Me=>Me.subjects.subjects?.data||[]),X=Xn(Me=>Me.classes.loading),le=Xn(Me=>Me.subjects.loading),re=Xn(Me=>Me.classes.error),he=Xn(Me=>Me.subjects.error),de=Me=>{C(Me),setTimeout(()=>C(""),5e3)},ve=Me=>{b(Me),setTimeout(()=>b(""),5e3)};S.useEffect(()=>{const Me=localStorage.getItem("schoolId");console.log("SchoolId from localStorage:",Me),Me?k(Me):ve("School ID not found in localStorage. Please login again.")},[]),S.useEffect(()=>{re&&ve("Failed to load classes: "+re),he&&ve("Failed to load subjects: "+he)},[re,he]);const B=S.useCallback(async()=>{if(!E){console.log("No schoolId available for fetching students");return}try{console.log("Fetching students for schoolId:",E);const Me=await fetch(`${z}/students/school/${E}`);if(Me.ok){const at=await Me.json(),ke=at.data||at||[];h(ke),console.log("Students loaded:",ke.length)}else console.error("Failed to fetch students:",Me.status,Me.statusText),await R()}catch(Me){console.error("Error fetching students:",Me),await R()}},[E]),R=async()=>{try{const Me=await fetch(`${z}/students`);if(Me.ok){const at=await Me.json(),Ve=(at.data||at||[]).filter(ze=>ze.schoolId===E||ze.schoolId?._id===E||ze.schoolId?.toString()===E);h(Ve),console.log("Students loaded (filtered):",Ve.length)}}catch(Me){console.error("Error fetching all students:",Me),h([]),ve("Error connecting to server while fetching students.")}},G=S.useCallback(async()=>{if(!E){console.log("No schoolId available for fetching assignments");return}try{x(!0),console.log("Fetching assignments for schoolId:",E,`Page: ${D}, Limit: ${I}`);const Me=await fetch(`${z}/assignments/admin?schoolId=${E}&page=${D}&limit=${I}`);if(!Me.ok){const ke=await Me.json().catch(()=>({}));throw new Error(ke.message||"Failed to fetch assignments")}const at=await Me.json();if(!at.success)throw new Error(at.message||"Failed to fetch assignments");A(at.assignments||[]),Q(at.pagination?.totalPages||1),P(at.pagination?.total||0),D>(at.pagination?.totalPages||1)&&(at.pagination?.totalPages||1)>0&&L(1),console.log("Assignments loaded:",at.assignments?.length||0,"Total:",at.pagination?.total||0)}catch(Me){console.error("Error fetching assignments:",Me),ve(Me.message||"Failed to fetch assignments"),A([]),Q(1),P(0)}finally{x(!1)}},[E,D,I]),ne=S.useCallback(async()=>{if(!E){console.log("No schoolId available for initial data fetch");return}x(!0);try{await B()}catch(Me){ve("Failed to load initial data"),console.error("Error fetching initial data:",Me)}finally{x(!1)}},[E,B]);S.useEffect(()=>{E&&G()},[E,D,G]),S.useEffect(()=>{E&&ne()},[E,ne]);const pe=[...new Set(W.map(Me=>Me.className))],xe=()=>o?[...new Set(W.filter(Me=>Me.className===o).map(Me=>Me.section).filter(Me=>Me))]:[],Ae=Me=>{if(!Me)return{className:"",section:""};const at=/^(\w+)(?:\s|-)?([A-Za-z]?)$/,ke=Me.match(at);return ke?{className:ke[1],section:ke[2]||""}:{className:Me,section:""}},Y=d.filter(Me=>{const at=Me.title?.toLowerCase().includes(e.toLowerCase())||Me.subject?.toLowerCase().includes(e.toLowerCase())||Me.studentName?.toLowerCase().includes(e.toLowerCase())||Me.rollNo?.toLowerCase().includes(e.toLowerCase())||Me.description?.toLowerCase().includes(e.toLowerCase()),ke=r==="All"||Me.subject===r,Ve=s==="All"||Me.status===s,{className:ze,section:rt}=Ae(Me.class);return at&&ke&&Ve&&(o===""||ze===o)&&(c===""||rt===c)}),se=Me=>{switch(Me?.toUpperCase()){case"HIGH":return"bg-red-100 text-red-800";case"MEDIUM":return"bg-orange-100 text-orange-800";case"LOW":return"bg-green-100 text-green-800";case"A":return"bg-green-100 text-green-800";case"B+":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},ee=Me=>Me==="submitted"||Me==="graded"?n.jsx(Oo,{className:"w-4 h-4 text-green-600"}):n.jsx(fn,{className:"w-4 h-4 text-orange-600"}),be=Me=>Me?new Date(Me).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",Ce=d.filter(Me=>Me.status==="pending").length,ce=d.filter(Me=>Me.status==="submitted"||Me.status==="graded").length,J=Me=>{const{className:at,section:ke}=Ae(Me.class);alert(`
      Student: ${Me.studentName}
      Roll No: ${Me.rollNo}
      Class: ${at}${ke?` ${ke}`:""}
      Subject: ${Me.subject}
      Title: ${Me.title}
      Description: ${Me.description}
      Due Date: ${be(Me.dueDate)}
      Priority: ${Me.priority}
      Status: ${Me.status}
      ${Me.submittedDate?`Submitted: ${be(Me.submittedDate)}`:""}
    `)},ge=Me=>{alert(`Edit functionality for assignment ${Me.id} not implemented yet.`)},Je=async Me=>{if(window.confirm(`Are you sure you want to delete assignment ${Me.title}?`))try{x(!0);const at=await fetch(`${z}/assignments/${Me.id}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({schoolId:E})});if(!at.ok){const ke=await at.json().catch(()=>({}));throw new Error(ke.message||"Failed to delete assignment")}await G(),de("Assignment deleted successfully")}catch(at){ve(at.message||"Failed to delete assignment")}finally{x(!1)}},Ke=()=>{D>1&&L(Me=>Me-1)},Fe=()=>{D<F&&L(Me=>Me+1)},nt=Me=>{l(Me),u("")},Se=localStorage.getItem("color")||"#3B82F6";return E?y||X||le?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Rr,{className:"w-12 h-12 mx-auto text-blue-600 animate-spin mb-4"}),n.jsxs("p",{className:"text-lg font-medium text-gray-700",children:["Loading assignments",X?", classes":"",le?", subjects":"","..."]})]})}):n.jsxs("div",{className:"space-y-6 p-6 bg-gray-50 min-h-screen",children:[j&&n.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2",children:[n.jsx(Oo,{className:"w-5 h-5"}),n.jsx("span",{className:"block sm:inline",children:j}),n.jsx("button",{onClick:()=>C(""),className:"ml-auto text-green-700 hover:text-green-900",children:n.jsx(pr,{className:"w-4 h-4"})})]}),v&&n.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2",children:[n.jsx(Da,{className:"w-5 h-5"}),n.jsx("span",{className:"block sm:inline",children:v}),n.jsx("button",{onClick:()=>b(""),className:"ml-auto text-red-700 hover:text-red-900",children:n.jsx(pr,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"text-black p-6 rounded-b-3xl shadow-lg",style:{backgroundColor:Se},children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Student Assignment Management"}),n.jsx("p",{className:"text-gray-600",children:"Manage assignments with student details"})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Search assignments, students...",value:e,onChange:Me=>t(Me.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("select",{value:o,onChange:Me=>nt(Me.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",disabled:X,children:[n.jsx("option",{value:"",children:"All Classes"}),pe.map(Me=>n.jsx("option",{value:Me,children:Me},Me))]}),n.jsxs("select",{value:c,onChange:Me=>u(Me.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",disabled:X||!o,children:[n.jsx("option",{value:"",children:"All Sections"}),xe().map(Me=>n.jsx("option",{value:Me,children:Me},Me))]}),n.jsxs("select",{value:r,onChange:Me=>a(Me.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",disabled:le,children:[n.jsx("option",{value:"All",children:"All Subjects"}),ie.map(Me=>n.jsx("option",{value:Me.SubjectName||Me.name||Me.subjectName||"Unnamed Subject",children:Me.SubjectName||Me.name||Me.subjectName||"Unnamed Subject"},Me._id))]}),n.jsxs("select",{value:s,onChange:Me=>i(Me.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"All",children:"All Status"}),n.jsx("option",{value:"submitted",children:"Submitted"}),n.jsx("option",{value:"graded",children:"Graded"}),n.jsx("option",{value:"late",children:"Late"})]})]}),n.jsxs("div",{className:"mt-4 flex space-x-2",children:[n.jsxs("div",{className:"bg-blue-100 text-blue-800 px-3 py-2 rounded-lg text-sm font-medium",children:["Pending (",Ce,")"]}),n.jsxs("div",{className:"bg-green-100 text-green-800 px-3 py-2 rounded-lg text-sm font-medium",children:["Submitted (",ce,")"]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full min-w-max",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Student Info"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Roll No"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Class"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Section"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Subject"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Assignment"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Due Date"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Priority/Grade"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),n.jsx("th",{className:"px-4 py-4 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:Y.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"10",className:"text-center py-8 text-gray-500",children:e||o||c||r!=="All"||s!=="All"?"No assignments found matching your filters.":"No assignments found."})}):Y.map(Me=>{const{className:at,section:ke}=Ae(Me.class);return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(ks,{className:"w-5 h-5 text-gray-400 mr-2"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:Me.studentName}),n.jsx("div",{className:"text-xs text-gray-500",children:"Student"})]})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("span",{className:"text-sm font-mono text-gray-900 bg-gray-100 px-2 py-1 rounded",children:Me.rollNo})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full",children:at})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full",children:ke||"N/A"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Un,{className:"w-4 h-4 text-blue-600 mr-2"}),n.jsx("span",{className:"text-sm font-medium text-blue-600",children:Me.subject})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"max-w-xs",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:Me.title}),n.jsx("div",{className:"text-xs text-gray-500 mt-1 truncate",children:Me.description})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ia,{className:"w-4 h-4 text-gray-400 mr-2"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-gray-900",children:be(Me.dueDate)}),Me.submittedDate&&n.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["Submitted:"," ",be(Me.submittedDate)]})]})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${se(Me.priority)}`,children:Me.status==="graded"&&Me.grade?Me.grade:Me.priority})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center",children:[ee(Me.status),n.jsx("span",{className:`ml-2 text-sm font-medium capitalize ${Me.status==="submitted"||Me.status==="graded"?"text-green-600":"text-orange-600"}`,children:Me.status})]})}),n.jsx("td",{className:"px-4 py-4 text-right",children:n.jsxs("div",{className:"flex space-x-2 justify-end",children:[n.jsx("button",{onClick:()=>J(Me),disabled:y,className:"p-2 text-green-600 hover:bg-green-50 rounded-lg disabled:opacity-50",children:n.jsx(cs,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>ge(Me),disabled:y,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg disabled:opacity-50",children:n.jsx(mc,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>Je(Me),disabled:y,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg disabled:opacity-50",children:n.jsx(Jn,{className:"w-4 h-4"})})]})})]},Me.id)})})]})}),U>0&&n.jsxs("div",{className:"flex justify-between items-center p-4",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",Y.length," of ",U," ","assignments (Page ",D," of ",F,")"]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:Ke,disabled:D===1,className:`p-2 rounded-lg ${D===1?"text-gray-400 cursor-not-allowed":"text-white"}`,style:{backgroundColor:D===1?"#d1d5db":Se},children:n.jsx(Do,{})}),n.jsx("button",{onClick:Fe,disabled:D===F||F===0,className:`p-2 rounded-lg ${D===F||F===0?"text-gray-400 cursor-not-allowed":"text-white"}`,style:{backgroundColor:D===F||F===0?"#d1d5db":Se},children:n.jsx(ro,{})})]})]})]})]}):n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Da,{className:"w-12 h-12 mx-auto text-red-600 mb-4"}),n.jsx("p",{className:"text-lg font-medium text-gray-700",children:"School ID is required to access assignments."}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Please ensure you are properly logged in."})]})})},BA="http://localhost:5000/api";function Xhe(){const[e,t]=S.useState("available"),[r,a]=S.useState(""),[s,i]=S.useState(!1),[o,l]=S.useState(!1),[c,u]=S.useState(null),[d,A]=S.useState(null),[m,h]=S.useState(!0),[y,x]=S.useState(""),[v,b]=S.useState(""),[j,C]=S.useState([]),[E,k]=S.useState([]),[D,L]=S.useState([]),[F,Q]=S.useState(""),[U,P]=S.useState({title:"",author:"",isbn:"",category:"Fiction",publicationYear:"",totalCopies:"",description:""}),[I,z]=S.useState({studentId:"",bookId:""}),W=["Fiction","Non-Fiction","Science","History","Technology"],ie=Ce=>{b(Ce),setTimeout(()=>b(""),5e3)},X=Ce=>{x(Ce),setTimeout(()=>x(""),5e3)};S.useEffect(()=>{const Ce=localStorage.getItem("schoolId");console.log("SchoolId from localStorage:",Ce),Ce?Q(Ce):X("School ID not found in localStorage. Please login again.")},[]);const le=S.useCallback(async()=>{if(!F){console.log("No schoolId available for fetching students");return}try{console.log("Fetching all students and filtering by schoolId:",F);const Ce=await fetch(`${BA}/students`);if(Ce.ok){const ce=await Ce.json();console.log("Students API response:",ce);const ge=(ce.data||ce||[]).filter(Je=>Je.schoolId===F||Je.schoolId?._id===F||Je.schoolId?.toString()===F);C(ge),console.log("Students loaded for school:",ge.length)}else{console.error("Failed to fetch students:",Ce.status,Ce.statusText);const ce=await Ce.text();console.error("Error response:",ce),C([]),X("Failed to fetch students.")}}catch(Ce){console.error("Error fetching students:",Ce),C([]),X("Error connecting to server while fetching students.")}},[F]),re=S.useCallback(async()=>{if(F)try{const Ce=await fetch(`${BA}/library?schoolId=${F}`);if(Ce.ok){const ce=await Ce.json();k(ce.data||[]),console.log("Available books fetched:",ce.data?.length||0)}else console.error("Failed to fetch books:",Ce.status),k([])}catch(Ce){console.error("Error fetching available books:",Ce),k([])}},[F]),he=S.useCallback(async()=>{if(!(!F||j.length===0))try{console.log("Fetching issued books for school:",F);const Ce=[];for(const ce of j)try{const J=await fetch(`${BA}/library/issued?studentId=${ce._id}&schoolId=${F}`);if(J.ok){const Ke=((await J.json()).data||[]).map(Fe=>({...Fe,studentId:ce}));Ce.push(...Ke)}}catch(J){console.error(`Error fetching issued books for student ${ce._id}:`,J)}L(Ce),console.log("Total issued books fetched:",Ce.length)}catch(Ce){console.error("Error fetching issued books:",Ce),L([])}},[F,j]),de=S.useCallback(async()=>{if(!F){console.log("No schoolId available for initial data fetch");return}console.log("Starting initial data fetch for schoolId:",F),h(!0);try{await le(),await re(),console.log("Initial data fetch completed")}catch(Ce){console.error("Error fetching initial data:",Ce),X("Failed to load library data.")}finally{h(!1)}},[F,le,re]);S.useEffect(()=>{j.length>0&&he()},[j,he]),S.useEffect(()=>{F&&(console.log("SchoolId changed, fetching initial data:",F),de())},[F,de]);const ve=S.useCallback(Ce=>{switch(Ce){case"overdue":return"bg-red-100 text-red-800";case"active":return"bg-yellow-100 text-yellow-800";case"returned":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},[]),B=S.useCallback(Ce=>{switch(Ce){case"overdue":return n.jsx(Da,{className:"w-4 h-4"});case"active":return n.jsx(fn,{className:"w-4 h-4"});case"returned":return n.jsx(Oo,{className:"w-4 h-4"});default:return n.jsx(Un,{className:"w-4 h-4"})}},[]),R=S.useCallback(Ce=>{A(Ce),z({studentId:"",bookId:Ce._id}),l(!0)},[]),G=S.useCallback(async Ce=>{if(Ce.preventDefault(),!F){X("School ID is required.");return}h(!0);try{if(!I.studentId||!I.bookId){X("Please select a student."),h(!1);return}const ce=await fetch(`${BA}/library/issue`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({bookId:I.bookId,studentId:I.studentId,schoolId:F})}),J=await ce.json();ce.ok&&J.success?(await re(),await he(),l(!1),A(null),z({studentId:"",bookId:""}),ie("Book issued successfully!")):X(J.message||"Failed to issue book.")}catch(ce){console.error("Error issuing book:",ce),X("Failed to issue book. Please check your connection and try again.")}finally{h(!1)}},[I,F,re,he]),ne=S.useCallback(async Ce=>{if(!F){X("School ID is required.");return}if(window.confirm("Are you sure you want to return this book?")){h(!0);try{const ce=await fetch(`${BA}/library/return`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({issuedBookId:Ce,schoolId:F})}),J=await ce.json();ce.ok&&J.success?(await re(),await he(),ie("Book returned successfully!")):X(J.message||"Failed to return book.")}catch(ce){console.error("Error returning book:",ce),X("Failed to return book.")}finally{h(!1)}}},[F,re,he]),pe=S.useCallback(async Ce=>{if(!F){X("School ID is required.");return}if(window.confirm("Are you sure you want to renew this book?")){h(!0);try{const ce=await fetch(`${BA}/library/renew`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({issuedBookId:Ce,schoolId:F})}),J=await ce.json();ce.ok&&J.success?(await he(),ie("Book renewed successfully!")):X(J.message||"Failed to renew book.")}catch(ce){console.error("Error renewing book:",ce),X("Failed to renew book.")}finally{h(!1)}}},[F,he]),xe=S.useCallback(async Ce=>{if(Ce.preventDefault(),!F){X("School ID is required.");return}h(!0);try{if(!U.title||!U.author||!U.isbn||!U.totalCopies){X("Please fill in all required fields."),h(!1);return}const ce=parseInt(U.totalCopies);if(isNaN(ce)||ce<1){X("Total copies must be a valid number greater than 0."),h(!1);return}const J={title:U.title.trim(),author:U.author.trim(),isbn:U.isbn.trim(),category:U.category,totalCopies:ce,availableCopies:ce,publicationYear:U.publicationYear?parseInt(U.publicationYear):new Date().getFullYear(),description:U.description.trim(),schoolId:F},ge=c?`${BA}/library/${c._id}`:`${BA}/library`,Ke=await fetch(ge,{method:c?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(J)}),Fe=await Ke.json();Ke.ok&&Fe.success?(await re(),se(),ie(c?"Book updated successfully!":"Book added successfully!")):X(Fe.message||"Failed to save book.")}catch(ce){console.error("Error saving book:",ce),X("Failed to save book. Please check all fields and try again.")}finally{h(!1)}},[U,c,F,re]),Ae=S.useCallback(Ce=>{u(Ce),P({title:Ce.title,author:Ce.author,isbn:Ce.isbn,category:Ce.category||"Fiction",publicationYear:Ce.publicationYear?String(Ce.publicationYear):"",totalCopies:String(Ce.totalCopies),description:Ce.description||""}),i(!0)},[]),Y=S.useCallback(async Ce=>{if(!F){X("School ID is required.");return}if(window.confirm("Are you sure you want to delete this book?")){h(!0);try{const ce=await fetch(`${BA}/library/${Ce}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({schoolId:F})}),J=await ce.json();ce.ok&&J.success?(await re(),ie("Book deleted successfully!")):X(J.message||"Failed to delete book.")}catch(ce){console.error("Error deleting book:",ce),X("Failed to delete book.")}finally{h(!1)}}},[F,re]),se=S.useCallback(()=>{P({title:"",author:"",isbn:"",category:"Fiction",publicationYear:"",totalCopies:"",description:""}),u(null),i(!1)},[]),ee=E.filter(Ce=>Ce.title?.toLowerCase().includes(r.toLowerCase())||Ce.author?.toLowerCase().includes(r.toLowerCase())||Ce.category?.toLowerCase().includes(r.toLowerCase())||Ce.isbn?.includes(r)),be=D.filter(Ce=>Ce.book?.title?.toLowerCase().includes(r.toLowerCase())||Ce.book?.author?.toLowerCase().includes(r.toLowerCase())||Ce.studentId?.name?.toLowerCase().includes(r.toLowerCase())||Ce.book?.isbn?.includes(r));return F?m&&E.length===0?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Rr,{className:"w-12 h-12 mx-auto text-blue-600 animate-spin mb-4"}),n.jsx("p",{className:"text-lg font-medium text-gray-700",children:"Loading library data..."})]})}):n.jsxs("div",{className:"space-y-6 p-6 bg-gray-50 min-h-screen",children:[v&&n.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2",children:[n.jsx(Oo,{className:"w-5 h-5"}),n.jsx("span",{className:"block sm:inline",children:v}),n.jsx("button",{onClick:()=>b(""),className:"ml-auto text-green-700 hover:text-green-900",children:n.jsx(pr,{className:"w-4 h-4"})})]}),y&&n.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2",children:[n.jsx(Da,{className:"w-5 h-5"}),n.jsx("span",{className:"block sm:inline",children:y}),n.jsx("button",{onClick:()=>x(""),className:"ml-auto text-red-700 hover:text-red-900",children:n.jsx(pr,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center",children:[n.jsx(qh,{className:"mr-3 text-blue-600"}),"Library Management"]}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Manage books, issues, and returns"})]}),n.jsxs("button",{onClick:()=>i(!0),disabled:m,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[m?n.jsx(Rr,{className:"w-4 h-4 animate-spin"}):n.jsx(bs,{className:"w-4 h-4"}),n.jsx("span",{children:"Add Book"})]})]}),n.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg mb-6",children:[n.jsxs("button",{onClick:()=>t("available"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors flex items-center justify-center space-x-2 ${e==="available"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:[n.jsx(Un,{className:"w-4 h-4"}),n.jsxs("span",{children:["Available Books (",E.length,")"]})]}),n.jsxs("button",{onClick:()=>t("issued"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors flex items-center justify-center space-x-2 ${e==="issued"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:[n.jsx(ks,{className:"w-4 h-4"}),n.jsxs("span",{children:["Issued Books (",D.length,")"]})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:`Search ${e==="available"?"books":"issued books"}...`,value:r,onChange:Ce=>a(Ce.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:e==="available"?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Available Books"})}),n.jsx("div",{className:"overflow-x-auto min-h-[300px]",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-50",children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Book Details"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"ISBN"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Category"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Availability"}),n.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:ee.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"5",className:"text-center py-8 text-gray-500",children:r?"No books found matching your search.":"No available books found."})}):ee.map(Ce=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsxs("td",{className:"px-6 py-4",children:[n.jsx("div",{className:"font-medium",children:Ce.title}),n.jsxs("div",{className:"text-sm text-gray-500",children:["by ",Ce.author]}),Ce.publicationYear&&n.jsx("div",{className:"text-xs text-gray-400",children:Ce.publicationYear})]}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(Pw,{className:"w-4 h-4 mr-1"}),Ce.isbn]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:"px-2 py-1 text-xs font-semibold bg-purple-100 text-purple-800 rounded-full",children:Ce.category||"General"})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"text-sm",children:[n.jsxs("div",{className:"font-medium text-gray-900",children:[Ce.availableCopies,"/",Ce.totalCopies," ","available"]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:n.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${Ce.availableCopies/Ce.totalCopies*100}%`}})})]})}),n.jsx("td",{className:"px-6 py-4 text-right",children:n.jsxs("div",{className:"flex space-x-2 justify-end",children:[n.jsx("button",{onClick:()=>R(Ce),disabled:Ce.availableCopies===0||m,className:`px-3 py-1 text-xs font-semibold rounded-lg transition-colors ${Ce.availableCopies>0&&!m?"bg-green-600 text-white hover:bg-green-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:m?"Loading...":"Issue Book"}),n.jsx("button",{onClick:()=>Ae(Ce),disabled:m,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg disabled:opacity-50",children:n.jsx(Ql,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>Y(Ce._id),disabled:m,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg disabled:opacity-50",children:n.jsx(Jn,{className:"w-4 h-4"})})]})})]},Ce._id))})]})})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Issued Books"})}),n.jsx("div",{className:"overflow-x-auto min-h-[300px]",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-50",children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Book Details"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Issued To"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Issue Date"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Due Date"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:be.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"6",className:"text-center py-8 text-gray-500",children:r?"No issued books found matching your search.":"No issued books found."})}):be.map(Ce=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsxs("td",{className:"px-6 py-4",children:[n.jsx("div",{className:"font-medium",children:Ce.book?.title||"N/A"}),n.jsxs("div",{className:"text-sm text-gray-500",children:["by ",Ce.book?.author||"N/A"]}),n.jsxs("div",{className:"text-xs text-gray-400 flex items-center",children:[n.jsx(Pw,{className:"w-3 h-3 mr-1"}),Ce.book?.isbn||"N/A"]})]}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"text-sm",children:[n.jsx("div",{className:"font-medium",children:Ce.studentId?.name||"N/A"}),n.jsx("div",{className:"text-gray-500",children:Ce.studentId?.rollNumber||Ce.studentId?.studentId||"N/A"})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(Ia,{className:"w-4 h-4 mr-1"}),new Date(Ce.issueDate).toLocaleDateString()]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(Ia,{className:"w-4 h-4 mr-1"}),new Date(Ce.dueDate).toLocaleDateString()]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("span",{className:`px-2 py-1 text-xs font-semibold rounded-full flex items-center space-x-1 w-fit ${ve(Ce.status)}`,children:[B(Ce.status),n.jsx("span",{children:Ce.status.toUpperCase()})]})}),n.jsx("td",{className:"px-6 py-4 text-right",children:n.jsxs("div",{className:"flex space-x-2 justify-end",children:[n.jsxs("button",{onClick:()=>ne(Ce._id),disabled:m||Ce.status!=="active",className:`px-3 py-1 text-xs font-semibold rounded-lg flex items-center space-x-1 transition-colors ${Ce.status==="active"?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[n.jsx(Oo,{className:"w-3 h-3"}),n.jsx("span",{children:"Return"})]}),n.jsxs("button",{onClick:()=>pe(Ce._id),disabled:m||Ce.status!=="active",className:`px-3 py-1 text-xs font-semibold rounded-lg flex items-center space-x-1 transition-colors ${Ce.status==="active"?"bg-orange-600 text-white hover:bg-orange-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[n.jsx(ih,{className:"w-3 h-3"}),n.jsx("span",{children:"Renew"})]})]})})]},Ce._id))})]})})]})}),s&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-800",children:c?"Edit Book":"Add New Book"}),n.jsx("button",{onClick:se,className:"text-gray-500 hover:text-gray-700",children:n.jsx(pr,{className:"w-6 h-6"})})]}),n.jsxs("form",{onSubmit:xe,className:"p-6 space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Book Title *"}),n.jsx("input",{type:"text",id:"title",placeholder:"Book Title",value:U.title,onChange:Ce=>P({...U,title:Ce.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:m})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"author",className:"block text-sm font-medium text-gray-700 mb-1",children:"Author Name *"}),n.jsx("input",{type:"text",id:"author",placeholder:"Author Name",value:U.author,onChange:Ce=>P({...U,author:Ce.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:m})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"isbn",className:"block text-sm font-medium text-gray-700 mb-1",children:"ISBN *"}),n.jsx("input",{type:"text",id:"isbn",placeholder:"ISBN",value:U.isbn,onChange:Ce=>P({...U,isbn:Ce.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:m})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),n.jsx("select",{id:"category",value:U.category,onChange:Ce=>P({...U,category:Ce.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:m,children:W.map(Ce=>n.jsx("option",{value:Ce,children:Ce},Ce))})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"publicationYear",className:"block text-sm font-medium text-gray-700 mb-1",children:"Publication Year"}),n.jsx("input",{type:"number",id:"publicationYear",placeholder:"Publication Year",value:U.publicationYear,onChange:Ce=>P({...U,publicationYear:Ce.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:m,min:"1900",max:new Date().getFullYear()})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"totalCopies",className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Copies *"}),n.jsx("input",{type:"number",id:"totalCopies",placeholder:"Total Copies",value:U.totalCopies,onChange:Ce=>P({...U,totalCopies:Ce.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,min:"1",disabled:m})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("textarea",{id:"description",placeholder:"Description (optional)",value:U.description,onChange:Ce=>P({...U,description:Ce.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,disabled:m})]})]}),n.jsxs("div",{className:"flex space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:se,disabled:m,className:"flex-1 bg-transparent px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:m,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:bg-blue-400 flex items-center justify-center space-x-2",children:m?n.jsx(Rr,{className:"w-4 h-4 animate-spin"}):n.jsx("span",{children:c?"Update Book":"Add Book"})})]})]})]})}),o&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Issue Book"}),n.jsx("button",{onClick:()=>l(!1),className:"text-gray-500 hover:text-gray-700",children:n.jsx(pr,{className:"w-6 h-6"})})]}),n.jsxs("form",{onSubmit:G,className:"p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Book"}),n.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[n.jsx("div",{className:"font-medium",children:d?.title}),n.jsxs("div",{className:"text-sm text-gray-600",children:["by ",d?.author]}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Available: ",d?.availableCopies]})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"studentId",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Student *"}),n.jsxs("select",{id:"studentId",value:I.studentId,onChange:Ce=>{z({...I,studentId:Ce.target.value})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:m,children:[n.jsx("option",{value:"",children:"Select Student"}),j.map(Ce=>n.jsxs("option",{value:Ce._id,children:[Ce.name," -"," ",Ce.rollNumber||Ce.studentId||"No Roll Number"]},Ce._id))]}),j.length===0&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:"No students found. Please add students first."})]}),n.jsxs("div",{className:"flex space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>{l(!1),x("")},disabled:m,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),n.jsxs("button",{type:"submit",disabled:m||!I.studentId,className:"flex-1 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 disabled:bg-green-400 flex items-center justify-center space-x-2",children:[m?n.jsx(Rr,{className:"w-4 h-4 animate-spin"}):n.jsx(Un,{className:"w-4 h-4"}),n.jsx("span",{children:m?"Issuing...":"Issue Book"})]})]})]})]})})]}):n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Da,{className:"w-12 h-12 mx-auto text-red-600 mb-4"}),n.jsx("p",{className:"text-lg font-medium text-gray-700",children:"School ID is required to access the library."}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Please ensure you are properly logged in."})]})})}class KI{static exportToExcel(t){const{data:r,filename:a,sheetName:s="Data",columnWidths:i=[],summaryData:o=null,addSummary:l=!0,headerStyle:c=!0}=t;try{if(!r||r.length===0)throw new Error("No data to export");const u=Ni.book_new(),d=Ni.json_to_sheet(r);if(i.length>0&&(d["!cols"]=i.map(h=>({wch:h}))),c&&d["!ref"]){const h=Ni.decode_range(d["!ref"]);for(let y=h.s.c;y<=h.e.c;y++){const x=Ni.encode_cell({r:0,c:y});d[x]&&(d[x].s={font:{bold:!0,color:{rgb:"FFFFFF"}},fill:{fgColor:{rgb:"4472C4"}},alignment:{horizontal:"center",vertical:"center"}})}}if(Ni.book_append_sheet(u,d,s),l){const h=[{Metric:"Total Records",Value:r.length},{Metric:"Export Date",Value:new Date().toLocaleDateString()},{Metric:"Export Time",Value:new Date().toLocaleTimeString()}],y=o||h,x=Ni.json_to_sheet(y);if(x["!ref"]){const v=Ni.decode_range(x["!ref"]);for(let b=v.s.c;b<=v.e.c;b++){const j=Ni.encode_cell({r:0,c:b});x[j]&&(x[j].s={font:{bold:!0,color:{rgb:"FFFFFF"}},fill:{fgColor:{rgb:"70AD47"}},alignment:{horizontal:"center"}})}}Ni.book_append_sheet(u,x,"Summary")}const A=new Date().toISOString().replace(/[:.]/g,"-").slice(0,-5),m=`${a}_${A}.xlsx`;return qv(u,m),{success:!0,filename:m,recordCount:r.length}}catch(u){return console.error("Excel export error:",u),{success:!1,error:u.message}}}static exportTeachers(t,r={}){const a=[];t.forEach(o=>{const l={"Teacher Name":o.name||"N/A","Teacher ID":o.teacherId||o._id||"N/A",Email:o.email||"N/A",Phone:o.phone||"N/A",Gender:o.gender||"N/A","Date of Birth":o.dateOfBirth?new Date(o.dateOfBirth).toLocaleDateString():"N/A","Date of Joining":o.dateOfJoining?new Date(o.dateOfJoining).toLocaleDateString():"N/A",Qualification:o.qualification||"N/A",Experience:o.experience||"N/A",Salary:o.salary||"N/A",Address:o.address||"N/A","Class Teacher Of":o.classTeacherOf||"None"};o.classSubjects&&o.classSubjects.length>0?o.classSubjects.forEach((c,u)=>{const A=(h=>{if(!h)return{className:"N/A",section:"N/A"};const y=h.split(" "),x=y.length>1&&/^[A-Z]$/.test(y[y.length-1])?y.pop():"";return{className:y.join(" ")||"N/A",section:x}})(c.className),m={...l,Class:A.className,Section:A.section||"N/A",Subjects:c.subjects&&c.subjects.length>0?c.subjects.join(", "):"No subjects"};u>0&&Object.keys(l).forEach(h=>{h!=="Teacher Name"&&(m[h]="")}),a.push(m)}):a.push({...l,Class:"N/A",Section:"N/A",Subjects:"No subjects assigned"})});const s=[20,15,25,15,10,12,12,15,10,10,20,15,10,10,30],i=[{Metric:"Total Teachers",Value:t.length},{Metric:"Teachers with Classes",Value:t.filter(o=>o.classSubjects?.length>0).length},{Metric:"Class Teachers",Value:t.filter(o=>o.classTeacherOf).length},{Metric:"Export Date",Value:new Date().toLocaleDateString()},{Metric:"Export Time",Value:new Date().toLocaleTimeString()}];return this.exportToExcel({data:a,filename:r.filename||"Teachers_Export",sheetName:"Teachers Data",columnWidths:s,summaryData:i,...r})}static exportStudents(t,r={}){const a=t.map(i=>({"Student Name":i.name||"N/A","Student ID":i.studentId||i._id||"N/A","Roll Number":i.rollNumber||"N/A",Class:i.className||"N/A",Section:i.section||"N/A",Email:i.email||"N/A",Phone:i.phone||"N/A","Parent Phone":i.parentPhone||"N/A",Gender:i.gender||"N/A","Date of Birth":i.dateOfBirth?new Date(i.dateOfBirth).toLocaleDateString():"N/A",Address:i.address||"N/A","Father Name":i.fatherName||"N/A","Mother Name":i.motherName||"N/A"})),s=[20,15,12,10,10,25,15,15,10,12,25,20,20];return this.exportToExcel({data:a,filename:r.filename||"Students_Export",sheetName:"Students Data",columnWidths:s,...r})}static showExportNotification(t){t.success?alert(` Success! Data exported to ${t.filename}

Total records: ${t.recordCount}`):alert(` Export failed: ${t.error}`)}}const Jj="http://localhost:5000/api",Jhe=()=>{const[e,t]=S.useState(""),[r,a]=S.useState(!1),[s,i]=S.useState("view"),[o,l]=S.useState(null),[c,u]=S.useState([]),[d,A]=S.useState(!1),[m,h]=S.useState(""),[y,x]=S.useState({}),[v,b]=S.useState("#2563eb"),[j,C]=S.useState(null),[E,k]=S.useState(1),[D,L]=S.useState(1),[F]=S.useState(10),[Q,U]=S.useState(null),[P,I]=S.useState(!1),[z,W]=S.useState(""),[ie,X]=S.useState([]),[le,re]=S.useState(!1),[he,de]=S.useState({className:"",section:"",subject:"",dateRange:""}),[ve,B]=S.useState({name:"",email:"",phone:"",classSubjects:[],classTeacherOf:""}),R=Xn(Te=>Te.classes.classes?.data||[]),G=Xn(Te=>Te.subjects.subjects?.data||[]),ne=Xn(Te=>Te.classes.loading),pe=Xn(Te=>Te.subjects.loading),xe=Xn(Te=>Te.classes.error),Ae=Xn(Te=>Te.subjects.error),Y=R.map(Te=>({_id:Te._id,className:Te.className||`Class ${Te.classNumber||Te._id}`,section:Te.section||"",displayName:`${Te.className||`Class ${Te.classNumber||Te._id}`}${Te.section?` ${Te.section}`:""}`.trim()})),se=()=>G.map(Te=>({_id:Te._id,subjectName:Te.SubjectName||Te.name||Te.subjectName||"Unnamed Subject"})),ee=[...new Set(Y.map(Te=>Te.section).filter(Boolean))];S.useEffect(()=>{const Te=localStorage.getItem("color");Te&&b(Te);const pt=localStorage.getItem("schoolId");pt?C(pt):h("School ID not found in local storage. Please log in to access teacher data.")},[]),S.useEffect(()=>{xe&&h("Failed to load classes: "+xe),Ae&&h("Failed to load subjects: "+Ae)},[xe,Ae]);const be=Te=>typeof Te=="string"&&/^[0-9a-fA-F]{24}$/.test(Te),Ce=Te=>{if(!Te)return{classSubjects:[]};if(Array.isArray(Te.classSubjects)&&Te.classSubjects.length>0)return{...Te,classSubjects:Te.classSubjects.map(pt=>({className:pt.className,subjects:pt.subjects||[]}))};if(Array.isArray(Te.classes)&&Array.isArray(Te.subjects)){const pt=Te.classes.map(At=>({className:At,subjects:Te.subjects||[]}));return{...Te,classSubjects:pt}}return{...Te,classSubjects:[]}},ce=S.useCallback(async()=>{if(!j){A(!1);return}A(!0),h("");try{const Te=await Vt.get(`${Jj}/teacher/${j}`,{params:{page:E,limit:F,className:he.className,section:he.section,subject:he.subject,dateRange:he.dateRange}});if(Te.data.success){const pt=Te.data.data.filter(At=>{const qe=At&&be(At._id)&&typeof At.name=="string"&&At.name.trim()!==""&&typeof At.email=="string"&&/\S+@\S+\.\S+/.test(At.email)&&typeof At.phone=="string"&&/^\+?\d{7,15}$/.test(At.phone);return qe||console.warn("Invalid teacher data:",{id:At?._id,reasons:[!At&&"Teacher object is null",!be(At._id)&&"ID is not a valid ObjectId",typeof At.name!="string"&&"Name is not a string",At.name?.trim()===""&&"Name is empty",typeof At.email!="string"&&"Email is not a string",!/\S+@\S+\.\S+/.test(At.email)&&"Invalid email format",typeof At.phone!="string"&&"Phone is not a string",!/^\+?\d{7,15}$/.test(At.phone)&&"Invalid phone format"].filter(Boolean)}),qe}).map(Ce);u(pt),L(Te.data.totalPages||1),k(Te.data.page||1)}else h("Failed to fetch teachers")}catch(Te){h(Te.response?.data?.message||"Failed to fetch teachers. Please try again.")}finally{A(!1)}},[j,E,F,he]);S.useEffect(()=>{ce()},[ce]);const J=c.filter(Te=>{const pt=e.toLowerCase();return Te.name&&Te.name.toLowerCase().includes(pt)||Array.isArray(Te.classSubjects)&&Te.classSubjects.some(At=>At.className&&At.className.toLowerCase().includes(pt)||Array.isArray(At.subjects)&&At.subjects.some(qe=>qe.toLowerCase().includes(pt)))||Te.email&&Te.email.toLowerCase().includes(pt)||Te.phone&&Te.phone.includes(pt)}),ge=(Te,pt=null)=>{i(Te),l(pt),x({}),Te==="edit"&&pt&&(B({name:pt.name||"",email:pt.email||"",phone:pt.phone||"",classSubjects:Array.isArray(pt.classSubjects)?pt.classSubjects.map(At=>({className:At.className,subjects:[...At.subjects||[]]})):[],classTeacherOf:pt.classTeacherOf||""}),U(null)),a(!0),h(""),I(!1),W(""),X([]),re(!1)},Je=()=>{a(!1),l(null),i("view"),h(""),x({}),U(null),I(!1),W(""),X([]),re(!1),B({name:"",email:"",phone:"",classSubjects:[],classTeacherOf:""})},Ke=Te=>{const{name:pt,value:At,files:qe}=Te.target;pt==="profilePic"?(U(qe[0]||null),x(Pe=>({...Pe,profilePic:""}))):(B({...ve,[pt]:At}),x(Pe=>({...Pe,[pt]:""})))},Fe=Te=>{W(Te.target.value),X([]),re(!1)},nt=Te=>{X(pt=>pt.includes(Te)?pt.filter(At=>At!==Te):[...pt,Te])},Se=()=>{if(!z||ie.length===0){h("Please select a class and at least one subject.");return}const Te=Y.find(pt=>pt._id===z);if(!Te){h("Invalid class selected.");return}if(ve.classSubjects.some(pt=>pt.className===Te.displayName)){h(`Class "${Te.displayName}" is already assigned.`);return}B({...ve,classSubjects:[...ve.classSubjects,{className:Te.displayName,subjects:[...ie]}]}),W(""),X([]),re(!1),I(!1),h("")},Me=Te=>{B({...ve,classSubjects:ve.classSubjects.filter(pt=>pt.className!==Te)})},at=Te=>{const{name:pt,value:At}=Te.target;de(qe=>({...qe,[pt]:At})),k(1)},ke=()=>{de({className:"",section:"",subject:"",dateRange:""}),k(1)},Ve=()=>{const Te={};return ve.name.trim()||(Te.name="Name is required."),ve.email.trim()?/\S+@\S+\.\S+/.test(ve.email)||(Te.email="Email is invalid."):Te.email="Email is required.",ve.phone.trim()?/^\+?\d{7,15}$/.test(ve.phone)||(Te.phone="Phone number is invalid (7-15 digits)."):Te.phone="Phone number is required.",ve.classSubjects.length||(Te.classSubjects="At least one class with subjects is required."),ve.classTeacherOf&&!be(ve.classTeacherOf)&&(Te.classTeacherOf="Invalid class selected."),Q&&!["image/jpeg","image/png"].includes(Q.type)&&(Te.profilePic="Only JPEG or PNG images are allowed."),Q&&Q.size>2*1024*1024&&(Te.profilePic="Image size must be less than 2MB."),x(Te),Object.keys(Te).length===0},ze=async Te=>{if(Te.preventDefault(),A(!0),h(""),!Ve()){A(!1);return}if(!j||!o?._id){h("School ID or Teacher ID is missing."),A(!1);return}try{const pt=new FormData;pt.append("name",ve.name.trim()),pt.append("email",ve.email.trim()),pt.append("phone",ve.phone.trim()),pt.append("classSubjects",JSON.stringify(ve.classSubjects)),ve.classTeacherOf&&pt.append("classTeacherOf",ve.classTeacherOf),Q&&pt.append("profilePic",Q),(await Vt.put(`${Jj}/teacher/${j}/teachers/${o._id}`,pt,{headers:{"Content-Type":"multipart/form-data"}})).data.success&&(await ce(),Je())}catch(pt){h(pt.response?.data?.message||"Failed to update teacher. Please try again.")}finally{A(!1)}},rt=S.useCallback(async Te=>{if(!be(Te)){h("Invalid teacher ID.");return}if(window.confirm("Are you sure you want to delete this teacher?")){A(!0),h("");try{(await Vt.delete(`${Jj}/teacher/${j}/teacher/${Te}`)).data.success?await ce():h("Failed to delete teacher.")}catch(pt){h(pt.response?.data?.message||"Failed to delete teacher. Please try again.")}finally{A(!1)}}},[ce,j]),Ge=Te=>Te?new Date(Te).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",bt=Te=>Te?Te.split(" ").map(pt=>pt[0]).filter(pt=>pt).join("").toUpperCase():"",Le=Te=>{Te>=1&&Te<=D&&k(Te)},je=Te=>{if(!Te)return{className:"N/A",section:"N/A"};const pt=Te.split(" "),At=pt.length>1&&/^[A-Z]$/.test(pt[pt.length-1])?pt.pop():"";return{className:pt.join(" ")||"N/A",section:At}},Ze=S.useCallback(()=>{if(J.length===0){alert("No teachers data to export");return}const Te=KI.exportTeachers(J,{filename:"Teachers_Export"});KI.showExportNotification(Te)},[J]);return ne||pe?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Rr,{className:"animate-spin w-8 h-8 mx-auto mb-4",style:{color:v}}),n.jsxs("p",{className:"text-gray-600",children:["Loading ",ne?"classes":"",ne&&pe?" and ":"",pe?"subjects":"","..."]})]})}):n.jsxs("div",{className:"space-y-6 p-6 bg-gray-50 min-h-screen",children:[m&&n.jsxs("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2",children:[n.jsx(Da,{className:"w-5 h-5"}),n.jsx("span",{children:m}),n.jsx("button",{onClick:()=>h(""),className:"ml-auto text-red-700 hover:text-red-900",children:n.jsx(pr,{className:"w-4 h-4"})})]}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:n.jsxs("div",{className:"flex flex-col space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center",children:[n.jsx(rn,{style:{color:v},className:"mr-3"}),"Teachers Management"]}),n.jsx("p",{className:"text-gray-600 mt-1",children:"View and manage teacher profiles"})]}),n.jsx("div",{className:"flex items-center space-x-3 mt-4 sm:mt-0",children:n.jsxs("button",{onClick:Ze,disabled:d||J.length===0,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Export teachers data to Excel",children:[n.jsx(Ln,{className:"w-4 h-4 mr-2"}),"Export Excel"]})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Search teachers...",value:e,onChange:Te=>t(Te.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsx("div",{children:n.jsxs("select",{name:"className",value:he.className,onChange:at,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All Classes"}),Y.map(Te=>n.jsx("option",{value:Te.displayName,children:Te.displayName},Te._id))]})}),n.jsx("div",{children:n.jsxs("select",{name:"section",value:he.section,onChange:at,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All Sections"}),ee.map(Te=>n.jsx("option",{value:Te,children:Te},Te))]})}),n.jsx("div",{children:n.jsxs("select",{name:"subject",value:he.subject,onChange:at,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All Subjects"}),se().map(Te=>n.jsx("option",{value:Te.subjectName,children:Te.subjectName},Te._id))]})}),n.jsx("div",{children:n.jsxs("select",{name:"dateRange",value:he.dateRange,onChange:at,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All Time"}),n.jsx("option",{value:"today",children:"Today"}),n.jsx("option",{value:"lastWeek",children:"Last Week"}),n.jsx("option",{value:"lastMonth",children:"Last Month"})]})})]}),(he.className||he.section||he.subject||he.dateRange)&&n.jsxs("button",{onClick:ke,className:"flex items-center text-sm text-blue-600 hover:text-blue-800",children:[n.jsx(Hl,{className:"mr-1"}),"Clear Filters"]})]})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:["All Teachers (",J.length,")"]})}),n.jsx("div",{className:"overflow-x-auto min-h-[300px]",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Teacher"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subjects"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class Teacher"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d?n.jsx("tr",{children:n.jsxs("td",{colSpan:"7",className:"text-center py-12",children:[n.jsx(Rr,{style:{color:v},className:"w-8 h-8 mx-auto animate-spin mb-4"}),n.jsx("p",{className:"text-gray-500",children:"Loading teachers..."})]})}):J.length===0?n.jsx("tr",{children:n.jsxs("td",{colSpan:"7",className:"text-center py-12 text-gray-500",children:[n.jsx(ks,{className:"w-12 h-12 mx-auto text-gray-300 mb-4"}),n.jsx("p",{className:"text-lg font-medium",children:"No teachers found matching your criteria."})]})}):J.map(Te=>Array.isArray(Te.classSubjects)&&Te.classSubjects.length>0?Te.classSubjects.map((pt,At)=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[At===0?n.jsxs(n.Fragment,{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",rowSpan:Te.classSubjects.length,children:n.jsxs("div",{className:"flex items-center",children:[Te.profilePic?n.jsx("img",{src:`${Te.profilePic}`,alt:Te.name,className:"w-12 h-12 rounded-full object-cover"}):n.jsx("div",{style:{backgroundColor:v},className:"w-12 h-12 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-white font-semibold text-lg",children:bt(Te.name)})}),n.jsx("div",{className:"ml-4",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:Te.name||"N/A"})})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",rowSpan:Te.classSubjects.length,children:n.jsxs("div",{className:"text-sm text-gray-900",children:[n.jsxs("div",{className:"flex items-center mb-1",children:[n.jsx(Zf,{className:"w-4 h-4 mr-2 text-gray-400"}),Te.email||"N/A"]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(ah,{className:"w-4 h-4 mr-2 text-gray-400"}),Te.phone||"N/A"]})]})})]}):null,n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"text-sm text-gray-600",children:je(pt.className).className})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"text-sm text-gray-600",children:je(pt.className).section||"N/A"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:pt.subjects?.length>0?pt.subjects.map((qe,Pe)=>n.jsx("span",{style:{backgroundColor:`${v}20`,color:v},className:"px-2 py-1 text-xs font-semibold rounded-full mr-1 mb-1 inline-block",children:qe},Pe)):n.jsx("span",{className:"text-gray-500",children:"No subjects"})}),At===0?n.jsxs(n.Fragment,{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",rowSpan:Te.classSubjects.length,children:Te.classTeacherOf?n.jsx("span",{style:{backgroundColor:`${v}20`,color:v},className:"px-3 py-1 text-xs font-semibold rounded-full",children:Y.find(qe=>qe._id===Te.classTeacherOf)?.displayName||"N/A"}):n.jsx("span",{className:"text-gray-500",children:"None"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",rowSpan:Te.classSubjects.length,children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>ge("view",Te),style:{color:v},className:"p-1 rounded hover:opacity-80",title:"View Details",children:n.jsx(cs,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>ge("edit",Te),disabled:d,className:"text-green-600 hover:text-green-900 p-1 rounded hover:bg-green-50 disabled:opacity-50",title:"Edit Teacher",children:n.jsx(Ql,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>rt(Te._id),disabled:d,className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50 disabled:opacity-50",title:"Delete Teacher",children:n.jsx(Jn,{className:"w-4 h-4"})})]})})]}):null]},`${Te._id}-${At}`)):n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[Te.profilePic?n.jsx("img",{src:`${Te.profilePic}`,alt:Te.name,className:"w-12 h-12 rounded-full object-cover"}):n.jsx("div",{style:{backgroundColor:v},className:"w-12 h-12 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-white font-semibold text-lg",children:bt(Te.name)})}),n.jsx("div",{className:"ml-4",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:Te.name||"N/A"})})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"text-sm text-gray-900",children:[n.jsxs("div",{className:"flex items-center mb-1",children:[n.jsx(Zf,{className:"w-4 h-4 mr-2 text-gray-400"}),Te.email||"N/A"]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(ah,{className:"w-4 h-4 mr-2 text-gray-400"}),Te.phone||"N/A"]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"text-gray-500",children:"N/A"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"text-gray-500",children:"N/A"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"text-gray-500",children:"No subjects"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Te.classTeacherOf?n.jsx("span",{style:{backgroundColor:`${v}20`,color:v},className:"px-3 py-1 text-xs font-semibold rounded-full",children:Y.find(pt=>pt._id===Te.classTeacherOf)?.displayName||"N/A"}):n.jsx("span",{className:"text-gray-500",children:"None"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>ge("view",Te),style:{color:v},className:"p-1 rounded hover:opacity-80",title:"View Details",children:n.jsx(cs,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>ge("edit",Te),disabled:d,className:"text-green-600 hover:text-green-900 p-1 rounded hover:bg-green-50 disabled:opacity-50",title:"Edit Teacher",children:n.jsx(Ql,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>rt(Te._id),disabled:d,className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50 disabled:opacity-50",title:"Delete Teacher",children:n.jsx(Jn,{className:"w-4 h-4"})})]})})]},Te._id))})]})}),n.jsxs("div",{className:"p-6 border-t border-gray-200 flex items-center justify-between",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:["Page ",E," of ",D]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{onClick:()=>Le(E-1),disabled:E===1||d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 flex items-center",children:[n.jsx(Do,{className:"w-4 h-4 mr-1"}),"Previous"]}),n.jsxs("button",{onClick:()=>Le(E+1),disabled:E===D||d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 flex items-center",children:["Next",n.jsx(ro,{className:"w-4 h-4 ml-1"})]})]})]})]}),r&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[n.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center",children:[n.jsx("div",{style:{backgroundColor:`${v}20`},className:"w-8 h-8 rounded-lg flex items-center justify-center mr-3",children:s==="view"?n.jsx(cs,{style:{color:v}}):n.jsx(Ql,{style:{color:v}})}),s==="view"?"Teacher Profile":"Edit Teacher"]}),n.jsx("button",{onClick:Je,className:"text-gray-500 hover:text-gray-700",children:n.jsx(pr,{className:"w-6 h-6"})})]}),s==="view"&&o?n.jsxs("div",{className:"p-6 space-y-8",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start gap-6",children:[o.profilePic?n.jsx("img",{src:`${o.profilePic}`,alt:o.name,className:"w-24 h-24 rounded-full object-cover border-4 border-gray-100 shadow-sm"}):n.jsx("div",{style:{backgroundColor:v},className:"w-24 h-24 rounded-full flex items-center justify-center border-4 border-gray-100 shadow-sm",children:n.jsx("span",{className:"text-white font-bold text-3xl",children:bt(o.name)})}),n.jsx("div",{className:"text-center sm:text-left",children:n.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:o.name||"N/A"})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h4",{className:"text-sm font-semibold text-gray-700 flex items-center",children:[n.jsx(Zf,{className:"w-5 h-5 mr-2 text-gray-400"}),"Contact Information"]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Email:"})," ",o.email||"N/A"]}),n.jsxs("p",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Phone:"})," ",o.phone||"N/A"]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h4",{className:"text-sm font-semibold text-gray-700 flex items-center",children:[n.jsx(Ia,{className:"w-5 h-5 mr-2 text-gray-400"}),"Account Details"]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Joined:"})," ",Ge(o.createdAt)]}),n.jsxs("p",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Last Updated:"})," ",Ge(o.updatedAt)]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h4",{className:"text-sm font-semibold text-gray-700 flex items-center",children:[n.jsx(Un,{className:"w-5 h-5 mr-2 text-gray-400"}),"Teaching Assignments"]}),Array.isArray(o.classSubjects)&&o.classSubjects.length>0?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subjects"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.classSubjects.map((Te,pt)=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-600",children:je(Te.className).className}),n.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-600",children:je(Te.className).section||"N/A"}),n.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:Te.subjects?.length>0?Te.subjects.map((At,qe)=>n.jsx("span",{style:{backgroundColor:`${v}20`,color:v},className:"px-2 py-1 text-xs font-semibold rounded-full mr-1 mb-1 inline-block",children:At},qe)):n.jsx("span",{className:"text-gray-500",children:"No subjects"})})]},pt))})]})}):n.jsx("p",{className:"text-sm text-gray-500",children:"No teaching assignments"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Class Teacher Of:"}),n.jsx("p",{className:"text-sm text-gray-600",children:o.classTeacherOf?Y.find(Te=>Te._id===o.classTeacherOf)?.displayName||"N/A":"None"})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{onClick:Je,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Close"})})]}):n.jsxs("form",{onSubmit:ze,className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[n.jsx(ks,{className:"mr-1 w-4 h-4"}),"Full Name *"]}),n.jsx("input",{type:"text",name:"name",placeholder:"Enter full name",value:ve.name,onChange:Ke,className:`w-full px-4 py-2 border ${y.name?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 shadow-sm`,required:!0}),y.name&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:y.name})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[n.jsx(Zf,{className:"mr-1 w-4 h-4"}),"Email Address *"]}),n.jsx("input",{type:"email",name:"email",placeholder:"Enter email address",value:ve.email,onChange:Ke,className:`w-full px-4 py-2 border ${y.email?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 shadow-sm`,required:!0}),y.email&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:y.email})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[n.jsx(ah,{className:"mr-1 w-4 h-4"}),"Phone Number *"]}),n.jsx("input",{type:"tel",name:"phone",placeholder:"Enter phone number",value:ve.phone,onChange:Ke,className:`w-full px-4 py-2 border ${y.phone?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 shadow-sm`,required:!0}),y.phone&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:y.phone})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[n.jsx(d0,{className:"mr-1 w-4 h-4"}),"Profile Picture"]}),n.jsx("input",{type:"file",name:"profilePic",accept:"image/jpeg,image/png",onChange:Ke,className:`w-full px-4 py-2 border ${y.profilePic?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 shadow-sm`}),y.profilePic&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:y.profilePic}),Q&&n.jsxs("p",{className:"text-sm text-gray-600 mt-1 truncate",children:["Selected: ",Q.name]})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[n.jsx(Un,{className:"mr-1 w-4 h-4"}),"Classes and Subjects *"]}),n.jsxs("button",{type:"button",onClick:()=>I(!0),disabled:R.length===0||G.length===0,className:"flex items-center px-4 py-2 rounded-lg text-white font-medium disabled:opacity-50",style:{backgroundColor:v},children:[n.jsx(bs,{className:"mr-2"}),"Add Class and Subjects"]}),ve.classSubjects.length>0&&n.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:ve.classSubjects.map((Te,pt)=>n.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:[Te.className,": ",Te.subjects.join(", "),n.jsx("button",{type:"button",onClick:()=>Me(Te.className),className:"ml-2 rounded-full hover:bg-blue-200",children:n.jsx(pr,{className:"w-4 h-4"})})]},pt))}),y.classSubjects&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:y.classSubjects}),P&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-bold",children:"Add Classes and Subjects"}),n.jsx("button",{type:"button",onClick:()=>{I(!1),W(""),X([]),re(!1)},className:"text-gray-500 hover:text-gray-700",children:n.jsx(pr,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Class *"}),n.jsxs("select",{value:z,onChange:Fe,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",disabled:Y.length===0,children:[n.jsx("option",{value:"",children:"Select a class"}),Y.filter(Te=>!ve.classSubjects.some(pt=>pt.className===Te.displayName)).map(Te=>n.jsx("option",{value:Te._id,children:Te.displayName},Te._id))]}),Y.length===0&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:"No classes available"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subjects *"}),n.jsxs("div",{className:`border border-gray-300 rounded-lg p-3 flex justify-between items-center ${z?"cursor-pointer":"cursor-not-allowed"}`,onClick:()=>z&&re(Te=>!Te),children:[n.jsx("span",{children:ie.length>0?`${ie.length} subject(s) selected`:z?"Select subjects":"Select a class first"}),z&&(le?n.jsx(c5,{}):n.jsx(Jp,{}))]}),z&&le&&n.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:se().length===0?n.jsx("div",{className:"p-3 text-gray-500 text-center",children:"No subjects available"}):se().map(Te=>n.jsxs("div",{className:"p-3 hover:bg-gray-100 cursor-pointer flex items-center",onClick:()=>nt(Te.subjectName),children:[n.jsx("input",{type:"checkbox",checked:ie.includes(Te.subjectName),onChange:()=>nt(Te.subjectName),className:"mr-2 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),n.jsx("span",{children:Te.subjectName})]},Te._id))}),ie.length>0&&n.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:ie.map(Te=>n.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[Te,n.jsx("button",{type:"button",onClick:()=>nt(Te),className:"ml-1 rounded-full hover:bg-blue-200",children:n.jsx(pr,{className:"w-3 h-3"})})]},Te))})]})]}),n.jsxs("div",{className:"mt-6 flex space-x-3",children:[n.jsx("button",{type:"button",onClick:()=>{I(!1),W(""),X([]),re(!1)},className:"flex-1 py-2 px-4 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{type:"button",onClick:Se,disabled:!z||ie.length===0,className:"flex-1 py-2 px-4 rounded-lg text-white font-medium disabled:opacity-50",style:{backgroundColor:v},children:"Add"})]})]})})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[n.jsx(rn,{className:"mr-1 w-4 h-4"}),"Class Teacher Of"]}),n.jsxs("select",{name:"classTeacherOf",value:ve.classTeacherOf,onChange:Ke,className:`w-full px-4 py-2 border ${y.classTeacherOf?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 shadow-sm`,disabled:ne,children:[n.jsx("option",{value:"",children:"None"}),Y.map(Te=>n.jsx("option",{value:Te._id,children:Te.displayName},Te._id))]}),y.classTeacherOf&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:y.classTeacherOf})]}),n.jsxs("div",{className:"flex space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:Je,disabled:d,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),n.jsxs("button",{type:"submit",disabled:d||ne||pe,style:{backgroundColor:v},className:"flex-1 px-4 py-2 text-white rounded-lg hover:opacity-90 disabled:opacity-50 flex items-center justify-center space-x-2",children:[d?n.jsx(Rr,{className:"w-4 h-4 animate-spin"}):n.jsx($l,{className:"w-4 h-4"}),n.jsx("span",{children:d?"Saving...":"Update Teacher"})]})]})]})]})})]})},TA="http://localhost:5000/api",Zhe=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],eAe=["Bus","Van","Auto"],tAe=()=>{const[e,t]=S.useState(""),[r,a]=S.useState(!1),[s,i]=S.useState("add"),[o,l]=S.useState(null),[c,u]=S.useState([]),[d,A]=S.useState([]),[m,h]=S.useState([]),[y,x]=S.useState([]),[v,b]=S.useState([]),[j,C]=S.useState(!1),[E,k]=S.useState(""),[D,L]=S.useState(""),[F,Q]=S.useState({}),[U,P]=S.useState("#2563eb"),[I,z]=S.useState(null),[W,ie]=S.useState([]),[X,le]=S.useState([]),[re,he]=S.useState("all"),[de,ve]=S.useState("all"),[B,R]=S.useState("all"),[G,ne]=S.useState("all"),[pe,xe]=S.useState(null),[Ae,Y]=S.useState({totalTransports:0,totalStudents:0,totalRevenue:0,pendingPayments:0,occupancyRate:0,completedPayments:0,partialPayments:0,overduePayments:0}),[se,ee]=S.useState({route:"",routeName:"",busNumber:"",driverName:"",driverPhone:"",conductorName:"",conductorPhone:"",startTime:"",endTime:"",transportType:"Bus",totalCapacity:"",yearlyFee:"",operatingDays:[],notes:"",schoolId:""});S.useEffect(()=>{const qe=localStorage.getItem("color");qe&&P(qe);const Pe=localStorage.getItem("schoolId");Pe?(z(Pe),console.log("School ID loaded:",Pe)):(k("School ID not found. Please log in to access transport data."),ir.error("School ID not found. Please log in to access transport data."))},[]);const be=S.useCallback(async()=>{if(I)try{console.log("Fetching classes for school:",I);const qe=await Vt.get(`${TA}/class/all-unfiltered`);console.log("Classes response:",qe.data),Array.isArray(qe.data)?(h(qe.data),console.log(`Loaded ${qe.data.length} classes`)):qe.data.success&&Array.isArray(qe.data.data)&&(h(qe.data.data),console.log(`Loaded ${qe.data.data.length} classes`))}catch(qe){console.error("Error fetching classes:",qe)}},[I]),Ce=S.useCallback((qe,Pe=null)=>{if(!qe)return Pe||"Not Assigned";if(typeof qe=="object"&&qe.className)return`${qe.className}${qe.section?` ${qe.section}`:""}`;if(typeof qe=="string"){const mt=m.find(Qe=>Qe._id===qe);return mt?`${mt.className}${mt.section?` ${mt.section}`:""}`:`Class ID: ${qe}`}return Pe||"Not Assigned"},[m]),ce=S.useCallback(async()=>{if(I)try{console.log("Fetching students for school:",I);const qe=await Vt.get(`${TA}/students/school/${I}?page=${currentPage}&limit=${limit}`,{params:{schoolId:I}});if(Array.isArray(qe.data)){const Pe=qe.data.filter(mt=>mt.schoolId===I||mt.schoolId?._id===I);console.log("Filtered students for current school:",Pe),A(Pe),console.log(`Loaded ${Pe.length} students for school`)}else if(qe.data.success&&Array.isArray(qe.data.data)){const Pe=qe.data.data.filter(mt=>mt.schoolId===I||mt.schoolId?._id===I);console.log("Filtered students for current school:",Pe),A(Pe),console.log(`Loaded ${Pe.length} students for school`)}}catch(qe){console.error("Error fetching students:",qe),ir.error("Failed to fetch students")}},[I]),J=S.useCallback(async()=>{if(!I){C(!1);return}C(!0),k("");try{console.log("Fetching transports for school:",I);const qe=await Vt.get(`${TA}/transports`,{params:{schoolId:I}});if(console.log("Raw transports response:",qe.data),qe.data.success){const Pe=qe.data.data||[];console.log("Raw transports array:",Pe),u(Pe),console.log(`Loaded ${Pe.length} transports`),Je(Pe),ir.success(`Loaded ${Pe.length} transport records`)}else k(qe.data.message||"Failed to fetch transport data"),ir.error(qe.data.message||"Failed to fetch transport data")}catch(qe){console.error("Error fetching transports:",qe);const Pe=qe.response?.data?.message||"Failed to fetch transport data";k(Pe),ir.error(Pe)}finally{C(!1)}},[I]),ge=S.useCallback(async()=>{if(I)try{const qe=[];for(const Pe of c)for(const mt of Pe.assignedStudents||[])try{const Qe=mt.studentId?._id||mt.studentId;if(!Qe)continue;const st=await Vt.get(`${TA}/transports/payment/history/${Qe}`,{params:{schoolId:I}});st.data.success&&st.data.data&&qe.push({...st.data.data,transportInfo:Pe,studentInfo:mt.studentId})}catch{const st=mt.studentId?._id||mt.studentId||"unknown";console.log(`No payment record for student ${st}`)}b(qe),console.log(`Loaded ${qe.length} payment records`)}catch(qe){console.error("Error fetching payment records:",qe)}},[I,c]),Je=qe=>{const Pe=qe.length,mt=qe.reduce((cr,Dr)=>cr+(Dr.assignedStudents?.length||0),0),Qe=qe.reduce((cr,Dr)=>cr+Dr.totalCapacity,0),st=Qe>0?mt/Qe*100:0,tt=qe.reduce((cr,Dr)=>{const Ea=Dr.assignedStudents?.length||0;return cr+Ea*(Dr.yearlyFee||0)},0),Ft=v.filter(cr=>cr.paymentStatus==="completed").length,_t=v.filter(cr=>cr.paymentStatus==="partial").length,Dt=v.filter(cr=>cr.paymentStatus==="pending").length,Wt=v.filter(cr=>cr.paymentStatus==="overdue").length;Y({totalTransports:Pe,totalStudents:mt,totalRevenue:tt,pendingPayments:Dt,occupancyRate:st,completedPayments:Ft,partialPayments:_t,overduePayments:Wt})},Ke=S.useCallback(async()=>{if(!(!I||d.length===0))try{const qe=new Set;c.forEach(mt=>{mt.assignedStudents?.forEach(Qe=>{const st=Qe.studentId?._id||Qe.studentId;st&&qe.add(st)})});const Pe=d.filter(mt=>!qe.has(mt._id));x(Pe),console.log(`Found ${Pe.length} available students`)}catch(qe){console.error("Error filtering available students:",qe)}},[d,c,I]);S.useEffect(()=>{J(),ce(),be()},[J,ce,be]),S.useEffect(()=>{c.length>0&&ge()},[c,ge]),S.useEffect(()=>{Ke()},[Ke]),S.useEffect(()=>{v.length>0&&Je(c)},[v,c]);const Fe=c.filter(qe=>{const Pe=qe.busNumber?.toLowerCase().includes(e.toLowerCase())||qe.route?.toLowerCase().includes(e.toLowerCase())||qe.routeName?.toLowerCase().includes(e.toLowerCase())||qe.driverName?.toLowerCase().includes(e.toLowerCase())||qe.driverPhone?.includes(e)||qe.assignedStudents?.some(Ft=>Ft.studentId?.name?.toLowerCase().includes(e.toLowerCase())),mt=re==="all"||qe.status===re,Qe=B==="all"||qe.routeName?.toLowerCase()===B.toLowerCase()||qe.route?.toLowerCase()===B.toLowerCase(),st=v.filter(Ft=>Ft.transportId===qe._id||Ft.transportInfo?._id===qe._id),tt=G==="all"||qe.assignedStudents?.some(Ft=>{if(!Ft.studentId)return!1;const _t=st.find(Dt=>(Dt.studentId?._id||Dt.studentId)===(Ft.studentId._id||Ft.studentId));return G==="paid"?_t?.paymentStatus==="completed":G==="unpaid"?!_t||_t?.paymentStatus==="pending":G==="partial"?_t?.paymentStatus==="partial":!0});return Pe&&mt&&Qe&&tt}),nt=[...new Set(c.map(qe=>qe.routeName||qe.route).filter(Boolean).sort())],Se=(qe,Pe=null)=>{i(qe),l(Pe),Q({}),k(""),L(""),ie([]),le([]),qe==="add"?(ee({route:"",routeName:"",busNumber:"",driverName:"",driverPhone:"",conductorName:"",conductorPhone:"",startTime:"",endTime:"",transportType:"Bus",totalCapacity:"",yearlyFee:"",operatingDays:[],notes:"",schoolId:I||""}),le([{stopName:"",stopTime:"",stopOrder:1,landmark:""}])):Pe&&(ee({route:Pe.route||"",routeName:Pe.routeName||"",busNumber:Pe.busNumber||"",driverName:Pe.driverName||"",driverPhone:Pe.driverPhone||"",conductorName:Pe.conductorName||"",conductorPhone:Pe.conductorPhone||"",startTime:Pe.startTime||"",endTime:Pe.endTime||"",transportType:Pe.transportType||"Bus",totalCapacity:Pe.totalCapacity?.toString()||"50",yearlyFee:Pe.yearlyFee?.toString()||"12000",operatingDays:Pe.operatingDays||[],notes:Pe.notes||"",schoolId:I||""}),le(Pe.routeStops||[{stopName:"",stopTime:"",stopOrder:1,landmark:""}])),a(!0)},Me=()=>{a(!1),l(null),i("add"),k(""),L(""),Q({}),ie([]),le([]),xe(null)},at=qe=>{const{name:Pe,value:mt}=qe.target;ee({...se,[Pe]:mt}),F[Pe]&&Q(Qe=>({...Qe,[Pe]:""}))},ke=qe=>{const Pe=se.operatingDays.includes(qe)?se.operatingDays.filter(mt=>mt!==qe):[...se.operatingDays,qe];ee({...se,operatingDays:Pe})},Ve=(qe,Pe,mt)=>{const Qe=[...X];Qe[qe]={...Qe[qe],[Pe]:mt},le(Qe)},ze=()=>{const qe={stopName:"",stopTime:"",stopOrder:X.length+1,landmark:""};le([...X,qe])},rt=qe=>{if(X.length>1){const Pe=X.filter((mt,Qe)=>Qe!==qe);Pe.forEach((mt,Qe)=>{mt.stopOrder=Qe+1}),le(Pe)}},Ge=()=>{const qe={};return se.busNumber.trim()||(qe.busNumber="Bus Number is required"),se.route.trim()||(qe.route="Route is required"),se.routeName.trim()||(qe.routeName="Route Name is required"),se.driverName.trim()||(qe.driverName="Driver Name is required"),se.driverPhone.trim()?/^[+]?[0-9\s-]{10,16}$/.test(se.driverPhone)||(qe.driverPhone="Phone number is invalid (10-16 digits)"):qe.driverPhone="Driver Phone is required",se.conductorPhone&&!/^[+]?[0-9\s-]{10,16}$/.test(se.conductorPhone)&&(qe.conductorPhone="Conductor phone number is invalid"),se.startTime||(qe.startTime="Start Time is required"),se.endTime||(qe.endTime="End Time is required"),(!se.totalCapacity||Number.parseInt(se.totalCapacity)<1)&&(qe.totalCapacity="Capacity must be at least 1"),(!se.yearlyFee||Number.parseFloat(se.yearlyFee)<0)&&(qe.yearlyFee="Yearly fee must be a valid amount"),se.operatingDays.length===0&&(qe.operatingDays="At least one operating day is required"),X.forEach((Pe,mt)=>{Pe.stopName.trim()||(qe[`stop_${mt}_name`]=`Stop ${mt+1} name is required`),Pe.stopTime.trim()||(qe[`stop_${mt}_time`]=`Stop ${mt+1} time is required`)}),Q(qe),Object.keys(qe).length===0},bt=async qe=>{if(qe.preventDefault(),C(!0),k(""),L(""),!Ge()){C(!1);return}if(!I){k("School ID is missing. Cannot perform this operation."),ir.error("School ID is missing. Cannot perform this operation."),C(!1);return}try{console.log("Submitting transport data...");const Pe=Number.parseFloat(se.yearlyFee),mt=[{numberOfInstallments:1,installmentAmount:Pe,description:"Full Payment"},{numberOfInstallments:2,installmentAmount:Math.ceil(Pe/2),description:"2 Installments"},{numberOfInstallments:3,installmentAmount:Math.ceil(Pe/3),description:"3 Installments"},{numberOfInstallments:4,installmentAmount:Math.ceil(Pe/4),description:"4 Installments"}],Qe={route:se.route.trim(),routeName:se.routeName.trim(),busNumber:se.busNumber.trim(),driverName:se.driverName.trim(),driverPhone:se.driverPhone.trim(),conductorName:se.conductorName.trim(),conductorPhone:se.conductorPhone.trim(),startTime:se.startTime,endTime:se.endTime,transportType:se.transportType,totalCapacity:Number.parseInt(se.totalCapacity),yearlyFee:Pe,installmentOptions:mt,operatingDays:se.operatingDays,notes:se.notes.trim(),routeStops:X.filter(tt=>tt.stopName.trim()),schoolId:I};let st;if(s==="add"?st=await Vt.post(`${TA}/transports`,Qe):s==="edit"&&(st=await Vt.put(`${TA}/transports/${o?._id}`,Qe)),console.log("Transport submission response:",st?.data),st?.data.success){const tt=st.data.message||"Transport saved successfully!";L(tt),ir.success(tt),await J(),Me()}else{const tt=st?.data.message||"Failed to save transport";k(tt),ir.error(tt)}}catch(Pe){console.error("Error saving transport:",Pe);const mt=Pe.response?.data?.message||"Failed to save transport. Please try again.";k(mt),ir.error(mt)}finally{C(!1)}},Le=S.useCallback(async qe=>{if(window.confirm("Are you sure you want to delete this transport entry?")){if(C(!0),k(""),L(""),!I){k("School ID is missing. Cannot perform this operation."),ir.error("School ID is missing. Cannot perform this operation."),C(!1);return}try{console.log("Deleting transport:",qe);const Pe=await Vt.delete(`${TA}/transports/${qe}`,{data:{schoolId:I}});if(console.log("Delete response:",Pe.data),Pe.data.success){const mt=Pe.data.message||"Transport deleted successfully!";L(mt),ir.success(mt),await J()}else{const mt=Pe.data.message||"Failed to delete transport";k(mt),ir.error(mt)}}catch(Pe){console.error("Error deleting transport:",Pe);const mt=Pe.response?.data?.message||"Failed to delete transport entry";k(mt),ir.error(mt)}finally{C(!1)}}},[J,I]),je=async(qe,Pe,mt)=>{if(!(!o||!I)){if(o.availableSeats<=0){ir.error("No seats available. Transport is at full capacity.");return}C(!0),k("");try{const Qe={studentId:qe,pickupStopId:Pe,dropoffStopId:mt,schoolId:I,numberOfInstallments:3,paymentMethod:"cash",academicYear:new Date().getFullYear()+"-"+(new Date().getFullYear()+1)},st=await Vt.post(`${TA}/transports/${o._id}/book`,Qe);st.data.success?(L("Student booked successfully! Payment record created."),ir.success("Student booked successfully! Payment record created."),await J(),await ge(),ie([]),Me()):st.data.noSeatsAvailable?ir.error("No seats available. Transport is at full capacity."):ir.error(st.data.message||"Failed to book transport")}catch(Qe){console.error("Error booking transport:",Qe);const st=Qe.response?.data?.message||"Failed to book transport";st.includes("No seats available")||st.includes("full capacity")?ir.error("No seats available. Transport is at full capacity."):ir.error(st),k(st)}finally{C(!1)}}},Ze=async qe=>{if(o&&window.confirm("Are you sure you want to remove this student from the transport?")){C(!0),k("");try{const Pe=await Vt.delete(`${TA}/transports/${o._id}/remove-student/${qe}`,{data:{schoolId:I}});Pe.data.success&&(L("Student removed successfully!"),ir.success("Student removed successfully!"),await J(),await ge(),l(Pe.data.data))}catch(Pe){console.error("Error removing student:",Pe);const mt=Pe.response?.data?.message||"Failed to remove student";k(mt),ir.error(mt)}finally{C(!1)}}};S.useEffect(()=>{if(E){const qe=setTimeout(()=>k(""),5e3);return()=>clearTimeout(qe)}},[E]),S.useEffect(()=>{if(D){const qe=setTimeout(()=>L(""),3e3);return()=>clearTimeout(qe)}},[D]);const Te=()=>n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-8 gap-4 mb-6",children:[n.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Transports"}),n.jsx("p",{className:"text-2xl font-bold",style:{color:U},children:Ae.totalTransports})]}),n.jsx(gd,{className:"w-8 h-8 text-gray-400"})]})}),n.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Students"}),n.jsx("p",{className:"text-2xl font-bold",style:{color:U},children:Ae.totalStudents})]}),n.jsx(rn,{className:"w-8 h-8 text-gray-400"})]})}),n.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Yearly Revenue"}),n.jsxs("p",{className:"text-2xl font-bold",style:{color:U},children:["",Ae.totalRevenue.toLocaleString()]})]}),n.jsx(Bu,{className:"w-8 h-8 text-gray-400"})]})}),n.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Occupancy Rate"}),n.jsxs("p",{className:"text-2xl font-bold",style:{color:U},children:[Ae.occupancyRate.toFixed(1),"%"]})]}),n.jsx(K_,{className:"w-8 h-8 text-gray-400"})]})}),n.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Completed Payments"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:Ae.completedPayments})]}),n.jsx(Oo,{className:"w-8 h-8 text-green-400"})]})}),n.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Partial Payments"}),n.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:Ae.partialPayments})]}),n.jsx(fn,{className:"w-8 h-8 text-yellow-400"})]})}),n.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Pending Payments"}),n.jsx("p",{className:"text-2xl font-bold text-red-600",children:Ae.pendingPayments})]}),n.jsx(ox,{className:"w-8 h-8 text-red-400"})]})}),n.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Available Students"}),n.jsx("p",{className:"text-2xl font-bold",style:{color:U},children:y.length})]}),n.jsx(cj,{className:"w-8 h-8 text-gray-400"})]})})]}),pt=()=>n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Transport Details"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Route & Driver"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Students & Payments"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Financial Summary"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Fe.map(qe=>{const Pe=v.filter(tt=>tt.transportId===qe._id||tt.transportInfo?._id===qe._id),mt=Pe.reduce((tt,Ft)=>tt+(Ft.paidAmount||0),0),Qe=(qe.assignedStudents?.length||0)*(qe.yearlyFee||0),st=Qe>0?mt/Qe*100:0;return n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center",style:{backgroundColor:`${U}20`},children:n.jsx(gd,{className:"w-6 h-6",style:{color:U}})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:qe.busNumber}),n.jsx("div",{className:"text-sm text-gray-500",children:qe.transportType||"Bus"}),qe.availableSeats<=0&&n.jsx("div",{className:"text-xs text-red-600 font-semibold",children:"No Seats Available"})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"text-sm text-gray-900",children:[n.jsxs("div",{className:"flex items-center mb-1",children:[n.jsx(Mp,{className:"w-4 h-4 mr-2",style:{color:U}}),n.jsx("span",{className:"font-medium",children:qe.routeName||qe.route})]}),n.jsxs("div",{className:"flex items-center mb-1",children:[n.jsx(ks,{className:"w-4 h-4 mr-2",style:{color:U}}),qe.driverName]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(ah,{className:"w-4 h-4 mr-2",style:{color:U}}),qe.driverPhone]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"text-sm text-gray-900",children:[n.jsxs("div",{className:"flex items-center mb-1",children:[n.jsx(rn,{className:"w-4 h-4 mr-2",style:{color:U}}),n.jsxs("span",{className:"font-medium",children:[qe.assignedStudents?.length||0,"/",qe.totalCapacity," Students"]})]}),n.jsxs("div",{className:"flex items-center mb-1",children:[n.jsx(Wf,{className:"w-4 h-4 mr-2",style:{color:U}}),n.jsxs("span",{className:"text-green-600 font-medium",children:[Pe.filter(tt=>tt.paymentStatus==="completed").length," ","Paid"]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(fn,{className:"w-4 h-4 mr-2",style:{color:U}}),n.jsxs("span",{className:"text-yellow-600 font-medium",children:[Pe.filter(tt=>tt.paymentStatus==="partial").length," ","Partial"]}),n.jsxs("span",{className:"text-red-600 font-medium ml-2",children:[Pe.filter(tt=>tt.paymentStatus==="pending").length," ","Pending"]})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"text-sm text-gray-900",children:[n.jsxs("div",{className:"flex items-center mb-1",children:[n.jsx(Bu,{className:"w-4 h-4 mr-2",style:{color:U}}),n.jsxs("span",{className:"font-medium",children:["",qe.yearlyFee||0,"/year"]})]}),n.jsxs("div",{className:"flex items-center mb-1",children:[n.jsx(t0,{className:"w-4 h-4 mr-2",style:{color:U}}),n.jsxs("span",{className:"text-green-600 font-medium",children:["",mt.toLocaleString()," Collected"]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(K_,{className:"w-4 h-4 mr-2",style:{color:U}}),n.jsxs("span",{className:"text-blue-600 font-medium",children:[st.toFixed(1),"% Collection Rate"]})]}),n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full mt-1 ${qe.status==="Active"?"bg-green-100 text-green-800":qe.status==="Inactive"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:qe.status||"Active"})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>Se("view",qe),className:"hover:opacity-75 p-1 rounded",style:{color:U},title:"View Details",children:n.jsx(cs,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>Se("payments",qe),disabled:j,className:"hover:opacity-75 p-1 rounded disabled:opacity-50",style:{color:U},title:"View Payment Details",children:n.jsx(Wf,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>Se("assign",qe),disabled:j,className:"hover:opacity-75 p-1 rounded disabled:opacity-50",style:{color:U},title:"Assign Students",children:n.jsx(cj,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>Se("edit",qe),disabled:j,className:"hover:opacity-75 p-1 rounded disabled:opacity-50",style:{color:U},title:"Edit Transport",children:n.jsx(Ql,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>Le(qe._id),disabled:j,className:"hover:opacity-75 p-1 rounded disabled:opacity-50",style:{color:U},title:"Delete Transport",children:n.jsx(Jn,{className:"w-4 h-4"})})]})})]},qe._id)})})]}),At=()=>{if(s==="payments"){const qe=v.filter(st=>st.transportId===o?._id||st.transportInfo?._id===o?._id),Pe=qe.reduce((st,tt)=>st+(tt.paidAmount||0),0),mt=(o?.assignedStudents?.length||0)*(o?.yearlyFee||0),Qe=mt>0?Pe/mt*100:0;return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-xl font-bold text-gray-800",children:["Payment Details - ",o?.busNumber]}),n.jsxs("p",{className:"text-gray-600",children:["Route: ",o?.routeName," | Yearly Fee: ",o?.yearlyFee]}),n.jsx("p",{className:"text-sm text-orange-600 font-medium mt-1",children:" Admin View Only - Payment processing is handled by students/parents"})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Collection Rate"}),n.jsxs("p",{className:"text-2xl font-bold",style:{color:U},children:[Qe.toFixed(1),"%"]}),n.jsxs("p",{className:"text-sm text-gray-500",children:["",Pe.toLocaleString()," / ",mt.toLocaleString()]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[n.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Oo,{className:"w-6 h-6 text-green-600 mr-2"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-green-600",children:"Completed"}),n.jsx("p",{className:"text-xl font-bold text-green-800",children:qe.filter(st=>st.paymentStatus==="completed").length})]})]})}),n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(fn,{className:"w-6 h-6 text-yellow-600 mr-2"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-yellow-600",children:"Partial"}),n.jsx("p",{className:"text-xl font-bold text-yellow-800",children:qe.filter(st=>st.paymentStatus==="partial").length})]})]})}),n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(ox,{className:"w-6 h-6 text-red-600 mr-2"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-red-600",children:"Pending"}),n.jsx("p",{className:"text-xl font-bold text-red-800",children:qe.filter(st=>st.paymentStatus==="pending").length})]})]})}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsx("div",{className:"flex items-center",children:n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-blue-600",children:"Total Students"}),n.jsx("p",{className:"text-xl font-bold text-blue-800",children:o?.assignedStudents?.length||0})]})})})]}),qe.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Wf,{className:"w-12 h-12 mx-auto text-gray-300 mb-4"}),n.jsx("p",{className:"text-gray-500",children:"No payment records found for this transport"}),n.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Students need to book this transport to generate payment records"})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Student Payment Details (View Only)"}),n.jsx("button",{onClick:()=>{const st=qe.map(tt=>({StudentName:tt.studentId?.name||tt.studentInfo?.name,RollNumber:tt.studentId?.rollNumber||tt.studentInfo?.rollNumber,TotalAmount:tt.totalAmount,PaidAmount:tt.paidAmount,RemainingAmount:tt.remainingAmount,InstallmentsPaid:`${tt.installmentsPaid}/${tt.numberOfInstallments}`,PaymentStatus:tt.paymentStatus,LastPaymentDate:tt.paymentHistory?.[tt.paymentHistory.length-1]?.paymentDate||"N/A"}));console.log("Payment data for export:",st),ir.success("Payment data ready for export")},className:"flex items-center space-x-2 px-3 py-1 text-sm border rounded-lg hover:bg-gray-50"})]}),qe.map(st=>n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border",children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:n.jsx(ks,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-800",children:st.studentId?.name||st.studentInfo?.name||"Unknown Student"}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Roll:"," ",st.studentId?.rollNumber||st.studentInfo?.rollNumber||"N/A"," ","| Class:"," ",Ce(st.studentId?.classId||st.studentInfo?.classId,st.studentId?.class||st.studentInfo?.class)]}),(st.studentId?.phone||st.studentInfo?.phone)&&n.jsxs("p",{className:"text-sm text-gray-500",children:["Phone:"," ",st.studentId?.phone||st.studentInfo?.phone]})]})]})}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${st.paymentStatus==="completed"?"bg-green-100 text-green-800":st.paymentStatus==="partial"?"bg-yellow-100 text-yellow-800":st.paymentStatus==="overdue"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:st.paymentStatus?.toUpperCase()||"PENDING"}),n.jsx("button",{onClick:()=>xe(pe===st._id?null:st._id),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:pe===st._id?"Hide Details":"View Details"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-4",children:[n.jsxs("div",{className:"bg-white p-3 rounded border",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Total Amount"}),n.jsxs("p",{className:"font-semibold text-lg",children:["",st.totalAmount||0]})]}),n.jsxs("div",{className:"bg-white p-3 rounded border",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Paid Amount"}),n.jsxs("p",{className:"font-semibold text-lg text-green-600",children:["",st.paidAmount||0]})]}),n.jsxs("div",{className:"bg-white p-3 rounded border",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Remaining"}),n.jsxs("p",{className:"font-semibold text-lg text-orange-600",children:["",st.remainingAmount||0]})]}),n.jsxs("div",{className:"bg-white p-3 rounded border",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Installments"}),n.jsxs("p",{className:"font-semibold text-lg",children:[st.installmentsPaid||0,"/",st.numberOfInstallments||0]})]}),n.jsxs("div",{className:"bg-white p-3 rounded border",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Progress"}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:n.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${st.totalAmount>0?st.paidAmount/st.totalAmount*100:0}%`}})}),n.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[st.totalAmount>0?Math.round(st.paidAmount/st.totalAmount*100):0,"%"]})]})]}),pe===st._id&&n.jsxs("div",{className:"bg-white rounded-lg p-4 border mt-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsxs("h5",{className:"font-semibold text-gray-800 mb-3 flex items-center",children:[n.jsx(G_,{className:"w-4 h-4 mr-2",style:{color:U}}),"Payment Plan Details"]}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Academic Year:"}),n.jsx("span",{className:"font-medium",children:st.academicYear||"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Start Date:"}),n.jsx("span",{className:"font-medium",children:st.startDate?new Date(st.startDate).toLocaleDateString():"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"End Date:"}),n.jsx("span",{className:"font-medium",children:st.endDate?new Date(st.endDate).toLocaleDateString():"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Next Due Date:"}),n.jsx("span",{className:"font-medium",children:st.nextDueDate?new Date(st.nextDueDate).toLocaleDateString():"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Installment Amount:"}),n.jsxs("span",{className:"font-medium",children:["",st.installmentAmount||0]})]})]})]}),n.jsxs("div",{children:[n.jsxs("h5",{className:"font-semibold text-gray-800 mb-3 flex items-center",children:[n.jsx(Wf,{className:"w-4 h-4 mr-2",style:{color:U}}),"Payment History (",st.paymentHistory?.length||0,")"]}),st.paymentHistory&&st.paymentHistory.length>0?n.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:st.paymentHistory.map((tt,Ft)=>n.jsxs("div",{className:"bg-gray-50 p-3 rounded border",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium text-green-600",children:["",tt.amount]}),n.jsxs("p",{className:"text-xs text-gray-500",children:[new Date(tt.paymentDate).toLocaleDateString()," ","at"," ",new Date(tt.paymentDate).toLocaleTimeString()]}),n.jsxs("p",{className:"text-xs text-gray-600",children:["Method:"," ",tt.paymentMethod?.toUpperCase()]}),tt.transactionId&&n.jsxs("p",{className:"text-xs text-gray-600",children:["TXN: ",tt.transactionId]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${tt.status==="completed"?"bg-green-100 text-green-800":tt.status==="failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:tt.status?.toUpperCase()}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Installment ",tt.installmentNumber]})]})]}),tt.notes&&n.jsx("p",{className:"text-xs text-gray-600 mt-2 italic",children:tt.notes})]},Ft))}):n.jsx("p",{className:"text-gray-500 text-sm",children:"No payment history available"})]})]}),st.remainingAmount>0&&n.jsx("div",{className:"mt-4 pt-4 border-t bg-orange-50 p-3 rounded",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-orange-800 font-medium",children:"Next Payment Due"}),n.jsxs("p",{className:"font-semibold text-orange-900",children:["",st.installmentAmount," (Installment"," ",(st.installmentsPaid||0)+1,")"]}),n.jsxs("p",{className:"text-xs text-orange-600 mt-1",children:["Due:"," ",st.nextDueDate?new Date(st.nextDueDate).toLocaleDateString():"Immediate"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs text-orange-600",children:"Payment to be made by"}),n.jsx("p",{className:"text-sm font-medium text-orange-800",children:"Student/Parent"})]})]})})]})]},st._id))]}),o?.assignedStudents&&(()=>{const st=o.assignedStudents.filter(tt=>tt.studentId?!qe.some(Ft=>(Ft.studentId?._id||Ft.studentId)===(tt.studentId._id||tt.studentId)):!1);return st.length>0&&n.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[n.jsxs("h5",{className:"font-semibold text-yellow-800 mb-3 flex items-center",children:[n.jsx(Da,{className:"w-4 h-4 mr-2"}),"Students Without Payment Records (",st.length,")"]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:st.map((tt,Ft)=>n.jsxs("div",{className:"bg-white p-3 rounded border",children:[n.jsx("p",{className:"font-medium",children:tt.studentId?.name||"Unknown Student"}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Roll: ",tt.studentId?.rollNumber||"N/A"]}),n.jsx("p",{className:"text-xs text-yellow-600 mt-1",children:"Payment record needs to be created"})]},tt.studentId?._id||Ft))})]})})()]})}if(s==="view"){const qe=v.filter(Pe=>Pe.transportId===o?._id||Pe.transportInfo?._id===o?._id);return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[n.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center",style:{backgroundColor:U},children:n.jsx(gd,{className:"w-10 h-10 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:o?.busNumber}),n.jsxs("p",{className:"text-gray-600",children:["Route: ",o?.routeName||o?.route]}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Status:"," ",n.jsx("span",{className:"font-medium text-green-600",children:o?.status||"Active"})]}),o?.availableSeats<=0&&n.jsx("p",{className:"text-sm text-red-600 font-semibold",children:" No Seats Available"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(ks,{className:"w-5 h-5",style:{color:U}}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Driver Name"}),n.jsx("p",{className:"font-medium",children:o?.driverName})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(ah,{className:"w-5 h-5",style:{color:U}}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Driver Phone"}),n.jsx("p",{className:"font-medium",children:o?.driverPhone})]})]}),o?.conductorName&&n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(ks,{className:"w-5 h-5",style:{color:U}}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Conductor"}),n.jsx("p",{className:"font-medium",children:o.conductorName}),o.conductorPhone&&n.jsx("p",{className:"text-sm text-gray-400",children:o.conductorPhone})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(fn,{className:"w-5 h-5",style:{color:U}}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Schedule"}),n.jsxs("p",{className:"font-medium",children:[o?.startTime," - ",o?.endTime]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(gd,{className:"w-5 h-5",style:{color:U}}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Transport Type"}),n.jsx("p",{className:"font-medium",children:o?.transportType||"Bus"})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(rn,{className:"w-5 h-5",style:{color:U}}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Capacity"}),n.jsxs("p",{className:"font-medium",children:[o?.totalCapacity," students"]}),n.jsxs("p",{className:"text-sm text-gray-400",children:["Available: ",o?.availableSeats||0," seats"]})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Bu,{className:"w-5 h-5",style:{color:U}}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Yearly Fee"}),n.jsxs("p",{className:"font-medium",children:["",o?.yearlyFee||0]})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Ia,{className:"w-5 h-5",style:{color:U}}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Operating Days"}),n.jsx("p",{className:"font-medium",children:o?.operatingDays?.join(", ")||"Not specified"})]})]}),o?.notes&&n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(G_,{className:"w-5 h-5",style:{color:U}}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Notes"}),n.jsx("p",{className:"font-medium",children:o.notes})]})]})]})]}),qe.length>0&&n.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[n.jsxs("h4",{className:"text-lg font-semibold text-blue-800 mb-3 flex items-center",children:[n.jsx(Wf,{className:"w-5 h-5 mr-2"}),"Payment Summary (View Only)"]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-green-600",children:qe.filter(Pe=>Pe.paymentStatus==="completed").length}),n.jsx("p",{className:"text-sm text-gray-600",children:"Completed"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:qe.filter(Pe=>Pe.paymentStatus==="partial").length}),n.jsx("p",{className:"text-sm text-gray-600",children:"Partial"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-red-600",children:qe.filter(Pe=>Pe.paymentStatus==="pending").length}),n.jsx("p",{className:"text-sm text-gray-600",children:"Pending"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("p",{className:"text-2xl font-bold",style:{color:U},children:["",qe.reduce((Pe,mt)=>Pe+(mt.paidAmount||0),0).toLocaleString()]}),n.jsx("p",{className:"text-sm text-gray-600",children:"Collected"})]})]})]}),o?.routeStops&&o.routeStops.length>0&&n.jsxs("div",{className:"mt-6",children:[n.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[n.jsx(Mp,{className:"w-5 h-5 mr-2",style:{color:U}}),"Route Stops (",o.routeStops.length,")"]}),n.jsx("div",{className:"bg-gray-50 rounded-lg p-4 max-h-60 overflow-y-auto",children:n.jsx("div",{className:"space-y-2",children:o.routeStops.sort((Pe,mt)=>Pe.stopOrder-mt.stopOrder).map((Pe,mt)=>n.jsxs("div",{className:"bg-white p-3 rounded border text-sm flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:Pe.stopName}),n.jsxs("p",{className:"text-gray-500",children:["Time: ",Pe.stopTime]}),Pe.landmark&&n.jsxs("p",{className:"text-gray-400",children:["Near: ",Pe.landmark]})]}),n.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs",children:["Stop ",Pe.stopOrder]})]},Pe._id||mt))})})]}),o?.assignedStudents&&o.assignedStudents.length>0&&n.jsxs("div",{className:"mt-6",children:[n.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[n.jsx(rn,{className:"w-5 h-5 mr-2",style:{color:U}}),"Assigned Students (",o.assignedStudents.length,"/",o.totalCapacity,")"]}),n.jsx("div",{className:"bg-gray-50 rounded-lg p-4 max-h-60 overflow-y-auto",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:o.assignedStudents.map((Pe,mt)=>{if(!Pe.studentId)return n.jsx("div",{className:"bg-white p-3 rounded border text-sm flex justify-between items-center",children:n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-red-500",children:"Invalid Student Record"}),n.jsx("p",{className:"text-gray-500",children:"Student data missing"})]})},mt);const Qe=qe.find(st=>(st.studentId?._id||st.studentId)===(Pe.studentId._id||Pe.studentId));return n.jsxs("div",{className:"bg-white p-3 rounded border text-sm flex justify-between items-center",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium",children:Pe.studentId.name||"Unknown Student"}),n.jsxs("p",{className:"text-gray-500",children:["Roll: ",Pe.studentId.rollNumber||"N/A"]}),n.jsxs("p",{className:"text-gray-500",children:["Class:"," ",Ce(Pe.studentId?.classId,Pe.studentId?.class)]}),n.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Qe?.paymentStatus==="completed"?"bg-green-100 text-green-800":Qe?.paymentStatus==="partial"?"bg-yellow-100 text-yellow-800":Qe?.paymentStatus==="pending"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:Qe?.paymentStatus?.toUpperCase()||"NO RECORD"}),Qe&&n.jsxs("span",{className:"text-xs text-gray-600",children:["",Qe.paidAmount||0,"/",Qe.totalAmount||0]})]}),n.jsxs("div",{className:"mt-1 text-xs text-gray-500",children:[n.jsxs("p",{children:["Pickup:"," ",o.routeStops?.find(st=>st._id===Pe.pickupStop)?.stopName||"N/A"]}),n.jsxs("p",{children:["Dropoff:"," ",o.routeStops?.find(st=>st._id===Pe.dropoffStop)?.stopName||"N/A"]})]})]}),n.jsx("button",{onClick:()=>Ze(Pe.studentId._id),className:"text-red-500 hover:text-red-700 p-1 ml-2",title:"Remove Student",children:n.jsx(Ute,{className:"w-4 h-4"})})]},Pe.studentId._id||mt)})})})]})]})}return s==="assign"?n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"mb-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:["Assign Students to ",o?.busNumber]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Current: ",o?.assignedStudents?.length||0,"/",o?.totalCapacity," students"]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Yearly Fee: ",o?.yearlyFee||0," per student"]}),n.jsx("p",{className:"text-sm text-orange-600 font-medium mt-1",children:"Note: This creates payment records for students. Actual payments are handled by students/parents."}),o?.availableSeats<=0&&n.jsx("p",{className:"text-sm text-red-600 font-semibold mt-2",children:" No seats available for new assignments"})]}),y.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(rn,{className:"w-12 h-12 mx-auto text-gray-300 mb-4"}),n.jsx("p",{className:"text-gray-500",children:"No available students to assign"})]}):o?.availableSeats<=0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Da,{className:"w-12 h-12 mx-auto text-red-300 mb-4"}),n.jsx("p",{className:"text-red-600 font-semibold",children:"Transport is at full capacity"}),n.jsx("p",{className:"text-gray-500",children:"No seats available for new students"})]}):n.jsx(n.Fragment,{children:n.jsxs("div",{className:"mb-4",children:[n.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Select students to assign (",y.length," ","available):"]}),n.jsx("div",{className:"max-h-60 overflow-y-auto border rounded-lg",children:y.map(qe=>n.jsx("div",{className:"p-3 hover:bg-gray-50 border-b last:border-b-0",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium",children:qe.name}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Roll: ",qe.rollNumber," | Class:"," ",Ce(qe.classId,qe.class)]}),qe.phone&&n.jsxs("p",{className:"text-sm text-gray-500",children:["Phone: ",qe.phone]})]}),n.jsxs("div",{className:"ml-4 space-y-2",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("select",{className:"px-2 py-1 border rounded text-xs",id:`pickup-${qe._id}`,children:[n.jsx("option",{value:"",children:"Select Pickup"}),o?.routeStops?.map(Pe=>n.jsxs("option",{value:Pe._id,children:[Pe.stopName," (",Pe.stopTime,")"]},Pe._id))]}),n.jsxs("select",{className:"px-2 py-1 border rounded text-xs",id:`dropoff-${qe._id}`,children:[n.jsx("option",{value:"",children:"Select Dropoff"}),o?.routeStops?.map(Pe=>n.jsxs("option",{value:Pe._id,children:[Pe.stopName," (",Pe.stopTime,")"]},Pe._id))]})]}),n.jsx("button",{onClick:()=>{const Pe=document.getElementById(`pickup-${qe._id}`),mt=document.getElementById(`dropoff-${qe._id}`);if(!Pe?.value||!mt?.value){ir.error("Please select both pickup and dropoff stops");return}je(qe._id,Pe.value,mt.value)},disabled:j||o?.availableSeats<=0,className:"w-full px-3 py-1 text-white rounded text-xs disabled:opacity-50",style:{backgroundColor:o?.availableSeats>0?U:"#ccc"},children:j?n.jsx(Rr,{className:"w-3 h-3 animate-spin"}):o?.availableSeats>0?"Assign & Create Payment Record":"No Seats"})]})]})},qe._id))})]})})]}):n.jsxs("form",{onSubmit:bt,className:"p-6 space-y-4",children:[E&&n.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4 flex items-center space-x-2",children:[n.jsx(Da,{className:"w-5 h-5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:"Error:"}),n.jsx("div",{className:"text-sm",children:E})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("input",{type:"text",name:"busNumber",placeholder:"Bus Number *",value:se.busNumber,onChange:at,className:`w-full px-3 py-2 border ${F.busNumber?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:F.busNumber?"red":U,outlineColor:U},required:!0}),F.busNumber&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:F.busNumber})]}),n.jsxs("div",{children:[n.jsx("input",{type:"text",name:"route",placeholder:"Route Code *",value:se.route,onChange:at,className:`w-full px-3 py-2 border ${F.route?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:F.route?"red":U,outlineColor:U},required:!0}),F.route&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:F.route})]}),n.jsxs("div",{children:[n.jsx("input",{type:"text",name:"routeName",placeholder:"Route Name *",value:se.routeName,onChange:at,className:`w-full px-3 py-2 border ${F.routeName?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:F.routeName?"red":U,outlineColor:U},required:!0}),F.routeName&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:F.routeName})]}),n.jsx("div",{children:n.jsx("select",{name:"transportType",value:se.transportType,onChange:at,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:U,outlineColor:U},children:eAe.map(qe=>n.jsx("option",{value:qe,children:qe},qe))})}),n.jsxs("div",{children:[n.jsx("input",{type:"text",name:"driverName",placeholder:"Driver Name *",value:se.driverName,onChange:at,className:`w-full px-3 py-2 border ${F.driverName?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:F.driverName?"red":U,outlineColor:U},required:!0}),F.driverName&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:F.driverName})]}),n.jsxs("div",{children:[n.jsx("input",{type:"tel",name:"driverPhone",placeholder:"Driver Phone *",value:se.driverPhone,onChange:at,className:`w-full px-3 py-2 border ${F.driverPhone?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:F.driverPhone?"red":U,outlineColor:U},required:!0}),F.driverPhone&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:F.driverPhone})]}),n.jsx("div",{children:n.jsx("input",{type:"text",name:"conductorName",placeholder:"Conductor Name (optional)",value:se.conductorName,onChange:at,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:U,outlineColor:U}})}),n.jsxs("div",{children:[n.jsx("input",{type:"tel",name:"conductorPhone",placeholder:"Conductor Phone (optional)",value:se.conductorPhone,onChange:at,className:`w-full px-3 py-2 border ${F.conductorPhone?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:F.conductorPhone?"red":U,outlineColor:U}}),F.conductorPhone&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:F.conductorPhone})]}),n.jsxs("div",{children:[n.jsx("input",{type:"time",name:"startTime",placeholder:"Start Time *",value:se.startTime,onChange:at,className:`w-full px-3 py-2 border ${F.startTime?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:F.startTime?"red":U,outlineColor:U},required:!0}),F.startTime&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:F.startTime})]}),n.jsxs("div",{children:[n.jsx("input",{type:"time",name:"endTime",placeholder:"End Time *",value:se.endTime,onChange:at,className:`w-full px-3 py-2 border ${F.endTime?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:F.endTime?"red":U,outlineColor:U},required:!0}),F.endTime&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:F.endTime})]}),n.jsxs("div",{children:[n.jsx("input",{type:"number",name:"totalCapacity",placeholder:"Total Capacity *",value:se.totalCapacity,onChange:at,min:"1",max:"100",className:`w-full px-3 py-2 border ${F.totalCapacity?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:F.totalCapacity?"red":U,outlineColor:U},required:!0}),F.totalCapacity&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:F.totalCapacity})]}),n.jsxs("div",{children:[n.jsx("input",{type:"number",name:"yearlyFee",placeholder:"Yearly Fee () *",value:se.yearlyFee,onChange:at,min:"0",step:"0.01",className:`w-full px-3 py-2 border ${F.yearlyFee?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:F.yearlyFee?"red":U,outlineColor:U},required:!0}),F.yearlyFee&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:F.yearlyFee})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Operating Days *"}),n.jsx("div",{className:"grid grid-cols-4 md:grid-cols-7 gap-2",children:Zhe.map(qe=>n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:se.operatingDays.includes(qe),onChange:()=>ke(qe),className:"rounded"}),n.jsx("span",{className:"text-sm",children:qe.slice(0,3)})]},qe))}),F.operatingDays&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:F.operatingDays})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Route Stops"}),n.jsxs("button",{type:"button",onClick:ze,className:"text-sm px-3 py-1 rounded-lg flex items-center space-x-1",style:{backgroundColor:`${U}20`,color:U},children:[n.jsx(bs,{className:"w-4 h-4"}),n.jsx("span",{children:"Add Stop"})]})]}),n.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:X.map((qe,Pe)=>n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2 p-3 border rounded-lg",children:[n.jsx("input",{type:"text",placeholder:"Stop Name *",value:qe.stopName,onChange:mt=>Ve(Pe,"stopName",mt.target.value),className:`px-3 py-2 border ${F[`stop_${Pe}_name`]?"border-red-500":"border-gray-300"} rounded focus:outline-none focus:ring-1`,style:{borderColor:F[`stop_${Pe}_name`]?"red":U}}),n.jsx("input",{type:"time",placeholder:"Stop Time *",value:qe.stopTime,onChange:mt=>Ve(Pe,"stopTime",mt.target.value),className:`px-3 py-2 border ${F[`stop_${Pe}_time`]?"border-red-500":"border-gray-300"} rounded focus:outline-none focus:ring-1`,style:{borderColor:F[`stop_${Pe}_time`]?"red":U}}),n.jsx("input",{type:"text",placeholder:"Landmark",value:qe.landmark,onChange:mt=>Ve(Pe,"landmark",mt.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-1",style:{borderColor:U}}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("span",{className:"text-sm text-gray-500",children:["#",qe.stopOrder]}),X.length>1&&n.jsx("button",{type:"button",onClick:()=>rt(Pe),className:"text-red-500 hover:text-red-700 p-1",children:n.jsx(pr,{className:"w-4 h-4"})})]}),F[`stop_${Pe}_name`]&&n.jsx("p",{className:"text-red-500 text-xs col-span-full",children:F[`stop_${Pe}_name`]}),F[`stop_${Pe}_time`]&&n.jsx("p",{className:"text-red-500 text-xs col-span-full",children:F[`stop_${Pe}_time`]})]},Pe))})]}),n.jsx("div",{children:n.jsx("textarea",{name:"notes",placeholder:"Additional Notes (optional)",value:se.notes,onChange:at,rows:3,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:U,outlineColor:U}})}),n.jsxs("div",{className:"flex space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:Me,disabled:j,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),n.jsxs("button",{type:"submit",disabled:j,className:"flex-1 px-4 py-2 text-white rounded-lg disabled:opacity-50 flex items-center justify-center space-x-2",style:{backgroundColor:U},children:[j?n.jsx(Rr,{className:"w-4 h-4 animate-spin"}):n.jsx($l,{className:"w-4 h-4"}),n.jsxs("span",{children:[s==="edit"?"Update":"Add"," Transport"]})]})]})]})};return n.jsxs("div",{className:"space-y-6 p-6 bg-gray-50 min-h-screen",children:[D&&n.jsxs("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-50 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2 max-w-md",children:[n.jsx(hi,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"block sm:inline",children:D}),n.jsx("button",{onClick:()=>L(""),className:"ml-auto text-green-700 hover:text-green-900 flex-shrink-0",children:n.jsx(pr,{className:"w-4 h-4"})})]}),E&&n.jsxs("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2 max-w-md",children:[n.jsx(Da,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"block sm:inline",children:E}),n.jsx("button",{onClick:()=>k(""),className:"ml-auto text-red-700 hover:text-red-900 flex-shrink-0",children:n.jsx(pr,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"text-white p-6 rounded-b-3xl shadow-lg",style:{backgroundColor:U},children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center",children:[n.jsx(gd,{className:"mr-3"}),"Professional Transport Management System"]}),n.jsxs("p",{className:"text-white mt-1",children:["Complete transport & payment tracking system (Admin View Only - No Payment Processing)",I&&n.jsxs("span",{className:"text-white text-sm opacity-75 ml-2",children:[" School ID: ",I]})]}),n.jsxs("p",{className:"text-white text-sm opacity-75 mt-1",children:["Total Students: ",d.length," | Available:"," ",y.length," | Active Routes:"," ",c.filter(qe=>qe.status==="Active").length," | Revenue: ",Ae.totalRevenue.toLocaleString()]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>{const qe={totalTransports:Ae.totalTransports,totalStudents:Ae.totalStudents,totalRevenue:Ae.totalRevenue,paymentBreakdown:{completed:Ae.completedPayments,partial:Ae.partialPayments,pending:Ae.pendingPayments},occupancyRate:Ae.occupancyRate};console.log("Transport Management Report:",qe),ir.success("Report generated successfully!")},disabled:j||!I,className:"text-white px-4 py-2 rounded-lg flex items-center space-x-2 disabled:opacity-50 hover:bg-white hover:bg-opacity-20 transition-colors",style:{backgroundColor:`${U}60`}}),n.jsxs("button",{onClick:()=>Se("add"),disabled:j||!I,className:"text-white px-4 py-2 rounded-lg flex items-center space-x-2 disabled:opacity-50 hover:bg-white hover:bg-opacity-20 transition-colors",style:{backgroundColor:`${U}80`},children:[j?n.jsx(Rr,{className:"w-4 h-4 animate-spin"}):n.jsx(bs,{className:"w-4 h-4"}),n.jsx("span",{children:"Add Transport"})]})]})]}),n.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"relative md:col-span-2",children:[n.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search by bus number, route, driver, or student name...",value:e,onChange:qe=>t(qe.target.value),className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 text-gray-900",style:{borderColor:U,outlineColor:U}})]}),n.jsx("div",{children:n.jsxs("select",{value:B,onChange:qe=>R(qe.target.value),className:"w-full px-3 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 text-gray-900",style:{borderColor:U,outlineColor:U},children:[n.jsx("option",{value:"all",children:"All Route Names"}),nt.map((qe,Pe)=>n.jsx("option",{value:qe,children:qe},Pe))]})}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("select",{value:re,onChange:qe=>he(qe.target.value),className:"flex-1 px-3 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 text-gray-900",style:{borderColor:U,outlineColor:U},children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"Active",children:"Active"}),n.jsx("option",{value:"Inactive",children:"Inactive"}),n.jsx("option",{value:"Maintenance",children:"Maintenance"})]}),n.jsx("button",{onClick:()=>{J(),ge()},disabled:j,className:"px-4 py-3 text-white rounded-lg disabled:opacity-50 hover:bg-white hover:bg-opacity-20 transition-colors",style:{backgroundColor:`${U}80`},children:n.jsx(ih,{className:`w-4 h-4 ${j?"animate-spin":""}`})})]})]}),n.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Filter Students by Payment:"}),n.jsxs("select",{value:G,onChange:qe=>ne(qe.target.value),className:"px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 text-gray-900",style:{borderColor:U,outlineColor:U},children:[n.jsx("option",{value:"all",children:"All Students"}),n.jsx("option",{value:"paid",children:"Paid Students Only"}),n.jsx("option",{value:"unpaid",children:"Unpaid Students Only"}),n.jsx("option",{value:"partial",children:"Partial Payment"})]})]}),n.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",Fe.length," of ",c.length," ","transports"]})]})]}),Te(),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:["Transport Fleet & Payment Overview (",Fe.length,")"]}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[n.jsxs("span",{children:["Total Revenue: ",Ae.totalRevenue.toLocaleString()]}),n.jsxs("span",{children:["Collection Rate:"," ",Ae.totalRevenue>0?(v.reduce((qe,Pe)=>qe+(Pe.paidAmount||0),0)/Ae.totalRevenue*100).toFixed(1):0,"%"]}),n.jsxs("span",{children:["Occupancy: ",Ae.occupancyRate.toFixed(1),"%"]})]})]})}),n.jsx("div",{className:"overflow-x-auto min-h-[300px]",children:j?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Rr,{className:"w-8 h-8 mx-auto animate-spin mb-4",style:{color:U}}),n.jsx("p",{className:"text-gray-500",children:"Loading transport data..."})]}):Fe.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(gd,{className:"w-12 h-12 mx-auto text-gray-300 mb-4"}),n.jsx("p",{className:"text-gray-500",children:I?"No transport entries found matching your search.":"Please set your school ID to view transports."})]}):pt()})]}),r&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl w-full max-w-7xl max-h-[95vh] overflow-y-auto",children:[n.jsxs("div",{className:"text-white p-6 rounded-t-lg shadow-lg flex justify-between items-center sticky top-0 z-10",style:{backgroundColor:U},children:[n.jsxs("h2",{className:"text-xl font-bold text-white flex items-center",children:[n.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center mr-3",style:{backgroundColor:`${U}20`},children:s==="view"?n.jsx(cs,{style:{color:"white"}}):s==="edit"?n.jsx(Ql,{style:{color:"white"}}):s==="assign"?n.jsx(cj,{style:{color:"white"}}):s==="payments"?n.jsx(Wf,{style:{color:"white"}}):n.jsx(bs,{style:{color:"white"}})}),s==="view"?"Transport Details & Payment Status":s==="edit"?"Edit Transport":s==="assign"?"Assign Students (No Payment Processing)":s==="payments"?"Payment Details (View Only)":"Add New Transport"]}),n.jsx("button",{onClick:Me,className:"absolute top-4 right-4 flex items-center justify-center w-8 h-8 hover:bg-white hover:bg-opacity-20 rounded-full transition-colors",children:n.jsx(pr,{size:24,style:{color:"white"}})})]}),At()]})})]})},rAe=()=>{const[e,t]=S.useState(""),[r,a]=S.useState(!1),[s,i]=S.useState(null),[o,l]=S.useState([]),[c,u]=S.useState(!1),[d,A]=S.useState(""),[m,h]=S.useState({}),[y,x]=S.useState("#2563eb"),[v,b]=S.useState(null),[j,C]=S.useState({page:1,limit:10,total:0,totalPages:1}),[E,k]=S.useState({title:"",content:""}),D="http://localhost:5000/api",L=()=>{const B=localStorage.getItem("token");return B?{Authorization:`Bearer ${B}`}:{}},F=B=>{B.response?.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("userRole"),localStorage.removeItem("schoolId"),window.location.href="/login"),A(B.response?.data?.message||"An unexpected error occurred"),console.error("API Error:",B)};S.useEffect(()=>{const B=localStorage.getItem("color");B&&x(B);const R=localStorage.getItem("schoolId");R?b(R):A("School ID not found. Please log in.")},[]);const Q=S.useCallback(async()=>{if(!v){u(!1);return}u(!0),A("");try{const B=await Vt.get(`${D}/circulars`,{headers:L(),params:{schoolId:v,page:j.page,limit:j.limit}});B.data.success?(l(B.data.data.map(R=>({id:R._id,title:R.title,date:new Date(R.date).toISOString().split("T")[0],status:R.read?"read":"unread",description:R.content}))),C({page:B.data.page,limit:B.data.limit,total:B.data.total,totalPages:B.data.totalPages})):A("Failed to fetch circulars.")}catch(B){F(B)}finally{u(!1)}},[v,j.page,j.limit]);S.useEffect(()=>{Q()},[Q]);const U=B=>{B>=1&&B<=j.totalPages&&C(R=>({...R,page:B}))},P=B=>B==="unread"?Gt("px-3 py-1 rounded-full text-xs font-medium",{backgroundColor:`${y}20`,color:y}):"bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-xs font-medium",I=(B=null)=>{i(B),h({}),k(B?{title:B.title,content:B.description}:{title:"",content:""}),a(!0),A("")},z=()=>{a(!1),i(null),A(""),h({})},W=B=>{k({...E,[B.target.name]:B.target.value}),m[B.target.name]&&h(R=>({...R,[B.target.name]:""}))},ie=()=>{const B={};return E.title.trim()||(B.title="Title is required."),E.content.trim()||(B.content="Description is required."),h(B),Object.keys(B).length===0},X=async B=>{if(B.preventDefault(),u(!0),A(""),!ie()){u(!1);return}if(!v){A("School ID is missing."),u(!1);return}try{const R={title:E.title.trim(),content:E.content.trim(),date:new Date().toISOString(),read:s?s.status==="read":!1,schoolId:v};let G;s?G=await Vt.put(`${D}/circulars/${s.id}`,R,{headers:L()}):G=await Vt.post(`${D}/circulars`,R,{headers:L()}),G.data.success&&(await Q(),z())}catch(R){F(R)}finally{u(!1)}},le=S.useCallback(async B=>{if(window.confirm("Are you sure you want to delete this circular?")){if(u(!0),A(""),!v){A("School ID is missing."),u(!1);return}try{(await Vt.delete(`${D}/circulars/${B}`,{headers:L(),data:{schoolId:v}})).data.success&&await Q()}catch(R){F(R)}finally{u(!1)}}},[Q,v]),re=S.useCallback(async B=>{if(u(!0),A(""),!v){A("School ID is missing."),u(!1);return}try{o.find(G=>G.id===B)&&((await Vt.put(`${D}/circulars/${B}`,{read:!0,schoolId:v},{headers:L()})).data.success?await Q():A("Failed to mark circular as read."))}catch(R){F(R)}finally{u(!1)}},[o,Q,v]),he=S.useCallback(async()=>{if(window.confirm("Are you sure you want to mark all circulars as read?")){if(u(!0),A(""),!v){A("School ID is missing."),u(!1);return}try{(await Vt.put(`${D}/circulars/mark-all/read`,{schoolId:v},{headers:L()})).data.success?await Q():A("Failed to mark all circulars as read.")}catch(B){F(B)}finally{u(!1)}}},[Q,v]),de=o.filter(B=>B.title.toLowerCase().includes(e.toLowerCase())||B.description.toLowerCase().includes(e.toLowerCase())),ve=o.filter(B=>B.status==="unread").length;return n.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-6 max-w-7xl",children:[d&&n.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-red-50 border-l-4 border-red-500 text-red-700 px-6 py-4 rounded-lg shadow-lg flex items-center space-x-3 max-w-lg w-full",children:[n.jsx(Da,{className:"w-6 h-6"}),n.jsx("span",{className:"text-sm",children:d}),n.jsx("button",{onClick:()=>A(""),className:"ml-auto text-red-700 hover:text-red-900",children:n.jsx(pr,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:Gt("text-white p-8 rounded-2xl shadow-xl bg-gradient-to-r from-[color] to-[color]80"),style:{backgroundColor:y},children:[n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(o0,{className:"w-8 h-8 text-white"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-white",children:"School Circulars"}),n.jsx("p",{className:"text-white/90 mt-1 text-sm",children:"Stay updated with important announcements"})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full sm:w-auto",children:[n.jsxs("button",{onClick:he,disabled:c||ve===0||!v,className:"bg-white/10 hover:bg-white/20 backdrop-blur-sm text-white px-4 py-2 rounded-lg flex items-center space-x-2 text-sm transition-all disabled:opacity-50",children:[c?n.jsx(Rr,{className:"w-4 h-4 animate-spin"}):n.jsx(cs,{className:"w-4 h-4"}),n.jsx("span",{children:"Mark All as Read"})]}),n.jsxs("button",{onClick:()=>I(),disabled:c||!v,className:"bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white px-4 py-2 rounded-lg flex items-center space-x-2 text-sm transition-all disabled:opacity-50",children:[c?n.jsx(Rr,{className:"w-4 h-4 animate-spin"}):n.jsx(bs,{className:"w-4 h-4"}),n.jsx("span",{children:"Add Circular"})]})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-6 text-sm",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-white/90",children:"Total:"}),n.jsx("span",{className:"font-semibold text-white",children:j.total})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-white/90",children:"Unread:"}),n.jsx("span",{className:"font-semibold text-red-400",children:ve})]})]}),n.jsxs("div",{className:"mt-6 relative",children:[n.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-white/70"}),n.jsx("input",{type:"text",placeholder:"Search circulars...",value:e,onChange:B=>t(B.target.value),className:"w-full pl-10 pr-4 py-3 bg-white/10 border border-white/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-white/30 text-white placeholder-white/50 transition-all"})]})]}),n.jsx("div",{className:"space-y-4",children:c&&o.length===0?n.jsxs("div",{className:"text-center py-16 bg-white rounded-2xl shadow-lg",children:[n.jsx(Rr,{className:"w-10 h-10 mx-auto animate-spin mb-4",style:{color:y}}),n.jsx("p",{className:"text-gray-500 text-sm",children:"Loading circulars..."})]}):de.length===0?n.jsxs("div",{className:"bg-white rounded-2xl p-16 shadow-lg border border-gray-100 text-center",children:[n.jsx(o0,{className:"w-16 h-16 mx-auto text-gray-200 mb-4"}),n.jsx("p",{className:"text-gray-500 text-sm",children:"No circulars found"})]}):de.map(B=>n.jsx("div",{className:Gt("bg-white rounded-2xl p-6 shadow-lg border hover:shadow-xl transition-all duration-300",{"border-l-4":B.status==="unread"}),style:{borderColor:B.status==="unread"?y:"transparent"},children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:B.title}),B.status==="unread"&&n.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:y}})]}),n.jsx("span",{className:P(B.status),children:B.status==="unread"?"Unread":"Read"}),n.jsx("p",{className:"text-gray-600 mt-2 text-sm line-clamp-3",children:B.description}),n.jsx("div",{className:"flex items-center space-x-4 text-xs text-gray-500 mt-3",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Ia,{className:"w-4 h-4",style:{color:y}}),n.jsx("span",{children:B.date})]})})]}),n.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[B.status==="unread"&&n.jsx("button",{onClick:()=>re(B.id),disabled:c||!v,className:"p-2 hover:bg-gray-50 rounded-lg transition-colors disabled:opacity-50",style:{color:y},title:"Mark as Read",children:n.jsx(cs,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>I(B),disabled:c||!v,className:"p-2 hover:bg-gray-50 rounded-lg transition-colors disabled:opacity-50",style:{color:y},title:"Edit",children:n.jsx(Ql,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>le(B.id),disabled:c||!v,className:"p-2 hover:bg-gray-50 rounded-lg transition-colors disabled:opacity-50",style:{color:y},title:"Delete",children:n.jsx(Jn,{className:"w-4 h-4"})})]})]})},B.id))}),j.totalPages>1&&n.jsxs("div",{className:"flex items-center justify-between bg-white rounded-2xl p-4 shadow-lg",children:[n.jsx("button",{onClick:()=>U(j.page-1),disabled:j.page===1||c,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 disabled:opacity-50",children:n.jsx(Do,{className:"w-5 h-5"})}),n.jsxs("div",{className:"text-sm text-gray-600",children:["Page ",j.page," of ",j.totalPages," |"," ",j.total," circulars"]}),n.jsx("button",{onClick:()=>U(j.page+1),disabled:j.page===j.totalPages||c,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 disabled:opacity-50",children:n.jsx(ro,{className:"w-5 h-5"})})]}),r&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg shadow-2xl",children:[n.jsxs("div",{className:Gt("text-white p-6 rounded-t-2xl bg-gradient-to-r from-[color] to-[color]80 flex justify-between items-center"),style:{backgroundColor:y},children:[n.jsx("h2",{className:"text-xl font-bold text-white",children:s?"Edit Circular":"Add New Circular"}),n.jsx("button",{onClick:z,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:n.jsx(pr,{size:24,className:"text-white"})})]}),n.jsxs("form",{onSubmit:X,className:"p-6 space-y-5",children:[d&&n.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 px-4 py-3 rounded-lg",children:[n.jsx("div",{className:"font-medium text-sm",children:"Error:"}),n.jsx("div",{className:"text-xs",children:d})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),n.jsx("input",{type:"text",id:"title",name:"title",value:E.title,onChange:W,placeholder:"Enter circular title...",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 text-gray-900 placeholder-gray-400 transition-all ${m.title?"border-red-500":"border-gray-200"}`,style:{focusRingColor:y},required:!0}),m.title&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:m.title})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),n.jsx("textarea",{id:"content",name:"content",value:E.content,onChange:W,placeholder:"Enter circular description...",rows:"6",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 text-gray-900 placeholder-gray-400 transition-all ${m.content?"border-red-500":"border-gray-200"}`,style:{focusRingColor:y},required:!0}),m.content&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:m.content})]}),n.jsxs("div",{className:"flex space-x-3 pt-3",children:[n.jsx("button",{type:"button",onClick:z,disabled:c,className:"flex-1 px-4 py-2 border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 transition-all",children:"Cancel"}),n.jsxs("button",{type:"submit",disabled:c||!v,className:"flex-1 px-4 py-2 text-white rounded-lg disabled:opacity-50 flex items-center justify-center space-x-2 transition-all bg-gradient-to-r from-[color] to-[color]80",style:{backgroundColor:y},children:[c?n.jsx(Rr,{className:"w-4 h-4 animate-spin"}):n.jsx($l,{className:"w-4 h-4"}),n.jsxs("span",{children:[c?"Saving...":s?"Update":"Save"," ","Circular"]})]})]})]})]})})]})},aAe=()=>{const[e,t]=S.useState(!1),[r,a]=S.useState(null),[s,i]=S.useState([]),[o,l]=S.useState(!1),[c,u]=S.useState(""),[d,A]=S.useState(null),m=localStorage.getItem("color")||"#2563eb",h="http://localhost:5000/api";S.useEffect(()=>{if(typeof window<"u"){const D=localStorage.getItem("schoolId");A(D),D||u("School ID is missing. Please set your school ID.")}},[]);const y=()=>{const D=localStorage.getItem("token");return D?{Authorization:`Bearer ${D}`}:{}},x=D=>{D.response?.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("userRole"),window.location.href="/login"),u(D.response?.data?.message||"An unexpected error occurred"),console.error("API Error:",D)},v=async()=>{if(!d){u("School ID is required to fetch diary entries."),l(!1);return}l(!0),u("");try{const D=localStorage.getItem("userId"),L=await Vt.get(`${h}/diary`,{headers:y(),params:{schoolId:d,studentId:D}});L.data.success?i(L.data.data.map(F=>({id:F._id,title:F.title,date:F.date,content:F.content,category:F.category==="Academics"?"Academic":F.category==="Personal"?"Personal":F.category==="Other"&&(F.originalCategory==="Sports"||F.originalCategory==="Projects")?F.originalCategory:"Other"}))):u("Failed to fetch diary entries.")}catch(D){x(D)}finally{l(!1)}};S.useEffect(()=>{d&&v()},[d]);const b=D=>{switch(D){case"Academic":return Gt("px-3 py-1 rounded-full text-xs font-medium",{backgroundColor:`${m}20`,color:m});case"Personal":return"bg-orange-100 text-orange-700 px-3 py-1 rounded-full text-xs font-medium";case"Sports":return"bg-green-100 text-green-700 px-3 py-1 rounded-full text-xs font-medium";case"Projects":return"bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-xs font-medium";default:return"bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-xs font-medium"}},j=(D=null)=>{a(D),t(!0),u("")},C=()=>{t(!1),a(null),u("")},E=async D=>{if(!d){u("School ID is required to delete a diary entry."),l(!1);return}if(window.confirm("Delete this diary entry?")){l(!0),u("");try{(await Vt.delete(`${h}/diary/${D}`,{headers:y(),data:{schoolId:d}})).data.success&&await v()}catch(L){x(L)}finally{l(!1)}}},k=D=>new Date(D).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"});return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsxs("div",{className:Gt("text-white p-6 rounded-b-3xl shadow-lg"),style:{backgroundColor:m},children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(rh,{className:"w-6 h-6",style:{color:"white"}}),n.jsx("h1",{className:"text-2xl font-bold text-white",children:"My Diary"})]})}),n.jsx("p",{className:"text-white mt-2",children:"Personal notes and thoughts"})]}),c&&n.jsx("div",{className:"fixed top-4 left-4 z-50 p-4 rounded-lg shadow-lg bg-red-500 text-white transition-all duration-300",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(pr,{className:"w-4 h-4"}),n.jsx("span",{children:c}),n.jsx("button",{onClick:()=>u(""),className:"text-white hover:text-gray-200 ml-2",children:n.jsx(pr,{className:"w-4 h-4"})})]})}),n.jsx("div",{className:"p-6 overflow-x-auto",children:o&&s.length===0?n.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-sm",children:[n.jsx(Rr,{className:"w-8 h-8 mx-auto animate-spin mb-4",style:{color:m}}),n.jsx("p",{className:"text-gray-500",children:"Loading diary entries..."})]}):s.length===0?n.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-sm",children:[n.jsx(rh,{className:"w-16 h-16 mx-auto mb-4",style:{color:m}}),n.jsx("p",{className:"text-gray-500 text-lg",children:"No diary entries yet"}),n.jsx("p",{className:"text-gray-400",children:d?"No entries available":"Please set your school ID to view entries"})]}):n.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 border-b",children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-500",children:"Title"}),n.jsx("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-500",children:"Date"}),n.jsx("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-500",children:"Content"}),n.jsx("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-500",children:"Category"}),n.jsx("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-500",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:s.map(D=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"py-4 px-4 font-medium text-gray-900",children:D.title}),n.jsx("td",{className:"py-4 px-4 text-gray-600",children:k(D.date)}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("div",{className:"line-clamp-2 max-w-prose text-gray-600",children:D.content})}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("span",{className:b(D.category),children:D.category})}),n.jsx("td",{className:"py-4 px-4",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>j(D),disabled:o||!d,className:Gt("p-2 rounded-lg transition-colors disabled:opacity-50",{"hover:bg-gray-100":!o&&d}),style:{color:m},title:"View",children:n.jsx(rh,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>E(D.id),disabled:o||!d,className:Gt("p-2 rounded-lg transition-colors disabled:opacity-50",{"hover:bg-gray-100":!o&&d}),style:{color:m},title:"Delete",children:n.jsx(Jn,{className:"w-4 h-4"})})]})})]},D.id))})]})})}),e&&r&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:Gt("text-white p-6 rounded-t-lg shadow-lg flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:m},children:[n.jsx("h2",{className:"text-xl font-bold text-white",children:"View Diary Entry"}),n.jsx("button",{onClick:C,className:"absolute top-4 right-4 flex items-center justify-center w-8 h-8 hover:bg-gray-100 rounded-full",style:{color:m},children:n.jsx(pr,{size:24})})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[c&&n.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:[n.jsx("div",{className:"font-medium",children:"Error:"}),n.jsx("div",{className:"text-sm",children:c})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),n.jsx("div",{className:"w-full px-4 py-3 border rounded-lg bg-gray-50 text-gray-700",children:r.title})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),n.jsx("div",{className:"w-full px-4 py-3 border rounded-lg bg-gray-50 text-gray-700",children:r.category})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content"}),n.jsx("div",{className:"w-full px-4 py-3 border rounded-lg bg-gray-50 text-gray-700 min-h-[150px]",children:r.content})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),n.jsx("div",{className:"w-full px-4 py-3 border rounded-lg bg-gray-50 text-gray-700",children:k(r.date)})]}),n.jsx("div",{className:"pt-4",children:n.jsx("button",{type:"button",onClick:C,disabled:o,className:"w-full px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium disabled:opacity-50",children:"Close"})})]})]})})]})},nAe=()=>{const[e,t]=S.useState(null),[r,a]=S.useState("#2563eb");S.useEffect(()=>{try{const Fe=localStorage.getItem("schoolId"),nt=localStorage.getItem("color");t(Fe),a(nt||"#2563eb"),console.log("Initialized with schoolId:",Fe)}catch(Fe){console.error("Error accessing localStorage:",Fe)}},[]);const s="http://localhost:5000/api/events",[i,o]=S.useState(!1),[l,c]=S.useState(!1),[u,d]=S.useState(null),[A,m]=S.useState(null),[h,y]=S.useState([]),[x,v]=S.useState(!1),[b,j]=S.useState(""),[C,E]=S.useState(""),[k,D]=S.useState("all"),[L,F]=S.useState({}),[Q,U]=S.useState(1),[P]=S.useState(10),[I,z]=S.useState({title:"",date:"",startTime:"",endTime:"",location:"",category:"Academic",description:""}),W=["Academic","Sports","Cultural","Meeting","Other"],ie={Academic:"Academics",Sports:"Sports",Cultural:"Cultural",Meeting:"Meeting",Other:"Other"};S.useEffect(()=>{e?(console.log("School ID found, fetching events..."),X()):console.log("No school ID found")},[e]);const X=async()=>{if(e)try{v(!0),j(""),console.log("Fetching events for school:",e);const Fe=await fetch(`${s}?schoolId=${e}&page=1&limit=1000`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});console.log("Response status:",Fe.status);const nt=await Fe.json();if(console.log("Response data:",nt),Fe.ok){let Se=[];if(Array.isArray(nt))Se=nt;else if(nt.success&&Array.isArray(nt.data))Se=nt.data;else if(nt.data&&Array.isArray(nt.data))Se=nt.data;else{console.error("Unexpected data format:",nt),j("Unexpected response format from server");return}const Me=Se.map(at=>{let ke="",Ve="";if(at.time&&at.time.includes(" - ")){const ze=at.time.split(" - ");ke=ze[0]||"",Ve=ze[1]||""}else ke=at.time||"",Ve="";return{id:at._id,title:at.title,date:at.date,startTime:ke,endTime:Ve,location:at.location,category:at.category==="Academics"?"Academic":at.category,description:at.description||"",icon:se(at.category==="Academics"?"Academic":at.category)}});y(Me),console.log(`Loaded ${Me.length} events`)}else j(nt.message||"Failed to fetch events")}catch(Fe){console.error("Error fetching events:",Fe),j("Failed to fetch events: "+Fe.message)}finally{v(!1)}},le=Fe=>/^[A-Za-z\s]*$/.test(Fe),re=()=>{const Fe={};if(I.title.trim()?le(I.title)?I.title.trim().length<3?Fe.title="Title must be at least 3 characters long":I.title.trim().length>200&&(Fe.title="Title must be less than 200 characters"):Fe.title="Title should contain only alphabets and spaces":Fe.title="Event title is required",!I.date)Fe.date="Date is required";else{const nt=new Date(I.date),Se=new Date;Se.setHours(0,0,0,0),nt<Se&&(Fe.date="Event date cannot be in the past")}return I.startTime||(Fe.startTime="Start time is required"),I.endTime||(Fe.endTime="End time is required"),I.startTime&&I.endTime&&I.startTime>=I.endTime&&(Fe.endTime="End time must be after start time"),I.location.trim()?I.location.trim().length<2?Fe.location="Location must be at least 2 characters long":I.location.trim().length>200&&(Fe.location="Location must be less than 200 characters"):Fe.location="Location is required",I.description&&I.description.length>1e3&&(Fe.description="Description must be less than 1000 characters"),F(Fe),Object.keys(Fe).length===0},he=Fe=>{const{name:nt,value:Se}=Fe.target;nt==="title"?(Se===""||le(Se))&&z(Me=>({...Me,[nt]:Se})):z(Me=>({...Me,[nt]:Se})),L[nt]&&F(Me=>({...Me,[nt]:""}))},de=async Fe=>{if(Fe.preventDefault(),!e){ir.error("Error: School ID not found. Please login again.");return}if(!re()){ir.error("Please fix the form errors before submitting.");return}j("");try{v(!0);const nt={title:I.title.trim(),date:I.date,time:`${I.startTime} - ${I.endTime}`,location:I.location.trim(),description:I.description.trim(),category:ie[I.category],schoolId:e};console.log("Submitting event data:",nt);const Se=A?`${s}/${A.id}`:s,at=await fetch(Se,{method:A?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(nt)});console.log("Submit response status:",at.status);const ke=await at.json();console.log("Submit response data:",ke),at.ok&&(ke.success||ke._id)?(ir.success(A?"Event updated successfully!":"Event created successfully!"),await X(),ne()):ir.error(ke.message||ke.error||"Failed to save event")}catch(nt){console.error("Submit error:",nt),ir.error("Failed to save event: "+nt.message)}finally{v(!1)}},ve=async Fe=>{if(window.confirm("Are you sure you want to delete this event?"))try{v(!0),j(""),console.log("Deleting event:",Fe);const nt=await fetch(`${s}/${Fe}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({schoolId:e})});console.log("Delete response status:",nt.status);const Se=await nt.json();console.log("Delete response data:",Se),nt.ok&&(Se.success||Se.message)?(ir.success("Event deleted successfully!"),await X()):ir.error(Se.message||Se.error||"Failed to delete event")}catch(nt){console.error("Delete error:",nt),ir.error("Failed to delete event: "+nt.message)}finally{v(!1)}},B=Fe=>{console.log("Opening view modal for event:",Fe),d(Fe),c(!0)},R=()=>{c(!1),d(null)},G=(Fe=null)=>{m(Fe),F({}),z(Fe?{title:Fe.title,date:Fe.date,startTime:Fe.startTime,endTime:Fe.endTime,location:Fe.location,category:Fe.category,description:Fe.description}:{title:"",date:"",startTime:"",endTime:"",location:"",category:"Academic",description:""}),o(!0),j("")},ne=()=>{o(!1),m(null),F({}),j("")},pe=Fe=>{switch(Fe){case"Sports":return"bg-green-100 text-green-800 px-3 py-1 rounded-full text-xs font-medium";case"Academic":return"px-3 py-1 rounded-full text-xs font-medium text-white";case"Cultural":return"bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-xs font-medium";case"Meeting":return"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-xs font-medium";case"Other":return"bg-gray-100 text-gray-800 px-3 py-1 rounded-full text-xs font-medium";default:return"bg-gray-100 text-gray-800 px-3 py-1 rounded-full text-xs font-medium"}},xe=Fe=>{switch(Fe){case"Sports":return"bg-green-100";case"Academic":return"bg-blue-100";case"Cultural":return"bg-purple-100";case"Meeting":return"bg-blue-100";case"Other":return"bg-gray-100";default:return"bg-gray-100"}},Ae=Fe=>new Date(Fe).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),Y=Fe=>{if(!Fe)return"";const[nt,Se]=Fe.split(":"),Me=parseInt(nt),at=Me>=12?"PM":"AM";return`${Me%12||12}:${Se} ${at}`},se=Fe=>{switch(Fe){case"Sports":return"";case"Academic":return"";case"Cultural":return"";case"Meeting":return"";case"Other":return"";default:return""}},ee=h.filter(Fe=>{const nt=Fe.title.toLowerCase().includes(C.toLowerCase())||Fe.location.toLowerCase().includes(C.toLowerCase())||Fe.description.toLowerCase().includes(C.toLowerCase()),Se=k==="all"||Fe.category===k;return nt&&Se}),be=Q*P,Ce=be-P,ce=ee.slice(Ce,be),J=Math.ceil(ee.length/P),ge=()=>{Q>1&&U(Fe=>Fe-1)},Je=()=>{Q<J&&U(Fe=>Fe+1)},Ke=Fe=>{U(Fe)};return e?n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"text-white p-6 rounded-b-3xl shadow-lg",style:{backgroundColor:r},children:n.jsx("div",{className:"max-w-6xl mx-auto",children:n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-4",children:[n.jsxs("div",{className:"mb-4 md:mb-0",children:[n.jsx("h1",{className:"text-2xl font-bold text-white",children:"School Events"}),n.jsxs("div",{className:"text-white text-sm opacity-75 mt-1",children:["School ID: ",e," | ",h.length," events scheduled"]})]}),n.jsxs("button",{onClick:()=>G(),disabled:x,className:"text-white px-6 py-2 rounded-lg flex items-center hover:opacity-90 transition-opacity disabled:opacity-50",style:{backgroundColor:`${r}80`},children:[x?n.jsx(Rr,{className:"mr-2 animate-spin"}):n.jsx(bs,{className:"mr-2"}),"Add Event"]})]})})}),n.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[b&&n.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6 flex justify-between items-center",children:[n.jsx("span",{children:b}),n.jsx("button",{onClick:()=>j(""),className:"text-red-500 hover:text-red-700 font-bold",children:""})]}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(on,{className:"absolute left-3 top-3 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search events...",value:C,onChange:Fe=>E(Fe.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Hl,{className:"absolute left-3 top-3 text-gray-400"}),n.jsxs("select",{value:k,onChange:Fe=>D(Fe.target.value),className:"pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 appearance-none bg-white",children:[n.jsx("option",{value:"all",children:"All Categories"}),W.map(Fe=>n.jsx("option",{value:Fe,children:Fe},Fe))]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[x&&h.length===0&&n.jsxs("div",{className:"p-8 text-center",children:[n.jsx(Rr,{className:"animate-spin mx-auto mb-4",size:32,style:{color:r}}),n.jsx("p",{className:"text-gray-600",children:"Loading events..."})]}),!x&&ee.length===0&&n.jsxs("div",{className:"p-8 text-center text-gray-500",children:[n.jsx(Ia,{className:"mx-auto mb-4",size:48,style:{color:r}}),n.jsx("div",{className:"text-lg mb-2",children:C||k!=="all"?"No events match your filters":"No events scheduled"}),n.jsx("div",{className:"text-sm",children:C||k!=="all"?"Try adjusting your search terms or filters":"Click 'Add Event' to create your first event"})]}),!x&&ee.length>0&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Event"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ce.map(Fe=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${xe(Fe.category)}`,children:n.jsx("span",{className:"text-xl",children:Fe.icon})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:Fe.title}),n.jsx("div",{className:"text-sm text-gray-500 max-w-xs truncate",children:Fe.description})]})]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[n.jsx(Ia,{className:"mr-2",style:{color:r}}),Ae(Fe.date)]}),n.jsx("div",{className:"text-sm text-gray-500",children:Fe.startTime&&Fe.endTime?`${Y(Fe.startTime)} - ${Y(Fe.endTime)}`:Fe.startTime||"Time not specified"})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[n.jsx(Mp,{className:"w-4 h-4",style:{color:r}}),n.jsx("span",{className:"max-w-xs truncate",children:Fe.location})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:pe(Fe.category),style:Fe.category==="Academic"?{backgroundColor:r}:{},children:Fe.category})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[n.jsx("button",{onClick:()=>B(Fe),className:"text-blue-600 hover:text-blue-900 mr-4",disabled:x,children:n.jsx(cs,{})}),n.jsx("button",{onClick:()=>G(Fe),className:"text-indigo-600 hover:text-indigo-900 mr-4",disabled:x,children:n.jsx(Ql,{})}),n.jsx("button",{onClick:()=>ve(Fe.id),className:"text-red-600 hover:text-red-900",disabled:x,children:n.jsx(Jn,{})})]})]},Fe.id))})]})}),n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center px-6 py-4 border-t border-gray-200",children:[n.jsxs("div",{className:"text-sm text-gray-600 mb-2 sm:mb-0",children:["Page ",Q," of ",J]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:ge,disabled:Q===1,className:"px-3 py-1 rounded-lg border border-gray-300 disabled:opacity-50 hover:bg-gray-100",children:n.jsx(Do,{})}),[...Array(J)].map((Fe,nt)=>{const Se=nt+1;return n.jsx("button",{onClick:()=>Ke(Se),className:`px-3 py-1 rounded-lg border border-gray-300 ${Q===Se?"bg-blue-500 text-white":"hover:bg-gray-100"}`,children:Se},Se)}),n.jsx("button",{onClick:Je,disabled:Q===J,className:"px-3 py-1 rounded-lg border border-gray-300 disabled:opacity-50 hover:bg-gray-100",children:n.jsx(ro,{})})]})]})]})]})]}),i&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"text-white p-4 rounded-t-lg flex justify-between items-center",style:{backgroundColor:r},children:[n.jsx("h2",{className:"text-xl font-bold",children:A?"Edit Event":"Add Event"}),n.jsx("button",{onClick:ne,className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-1",children:n.jsx(pr,{size:24})})]}),n.jsxs("form",{onSubmit:de,className:"p-6",children:[b&&n.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-3 py-2 rounded mb-4 text-sm",children:b}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Event Title *"}),n.jsx("input",{type:"text",name:"title",value:I.title,onChange:he,className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${L.title?"border-red-500":"border-gray-300"}`,placeholder:"Enter event title (letters only)...",maxLength:200}),L.title&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:L.title})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date *"}),n.jsx("input",{type:"date",name:"date",value:I.date,onChange:he,min:new Date().toISOString().split("T")[0],className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${L.date?"border-red-500":"border-gray-300"}`}),L.date&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:L.date})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),n.jsx("select",{name:"category",value:I.category,onChange:he,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:W.map(Fe=>n.jsx("option",{value:Fe,children:Fe},Fe))})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Time *"}),n.jsx("input",{type:"time",name:"startTime",value:I.startTime,onChange:he,className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${L.startTime?"border-red-500":"border-gray-300"}`}),L.startTime&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:L.startTime})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Time *"}),n.jsx("input",{type:"time",name:"endTime",value:I.endTime,onChange:he,className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${L.endTime?"border-red-500":"border-gray-300"}`}),L.endTime&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:L.endTime})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location *"}),n.jsx("input",{type:"text",name:"location",value:I.location,onChange:he,className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${L.location?"border-red-500":"border-gray-300"}`,placeholder:"Enter location...",maxLength:200}),L.location&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:L.location})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block macro text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("textarea",{name:"description",value:I.description,onChange:he,rows:"3",className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none ${L.description?"border-red-500":"border-gray-300"}`,placeholder:"Event description...",maxLength:1e3}),n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[I.description.length,"/1000 characters"]}),L.description&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:L.description})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx("button",{type:"button",onClick:ne,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",disabled:x,children:"Cancel"}),n.jsxs("button",{type:"submit",className:"text-white px-6 py-2 rounded-lg flex items-center hover:opacity-90",style:{backgroundColor:r},disabled:x,children:[x?n.jsx(Rr,{className:"mr-2 animate-spin"}):n.jsx($l,{className:"mr-2"}),A?"Update":"Save"]})]})]})]})}),l&&u&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"text-white p-4 rounded-t-lg flex justify-between items-center",style:{backgroundColor:r},children:[n.jsx("h2",{className:"text-xl font-bold",children:"Event Details"}),n.jsx("button",{onClick:R,className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-1",children:n.jsx(pr,{size:24})})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${xe(u.category)}`,children:n.jsx("span",{className:"text-xl",children:u.icon})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:u.title}),n.jsx("span",{className:pe(u.category),style:u.category==="Academic"?{backgroundColor:r}:{},children:u.category})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center text-gray-700",children:[n.jsx(Ia,{className:"mr-2",style:{color:r}}),n.jsx("span",{children:Ae(u.date)})]}),n.jsxs("div",{className:"flex items-center text-gray-700",children:[n.jsx(fn,{className:"mr-2",style:{color:r}}),n.jsx("span",{children:u.startTime&&u.endTime?`${Y(u.startTime)} - ${Y(u.endTime)}`:u.startTime||"Time not specified"})]}),n.jsxs("div",{className:"flex items-center text-gray-700",children:[n.jsx(Mp,{className:"mr-2",style:{color:r}}),n.jsx("span",{children:u.location})]}),n.jsxs("div",{className:"text-gray-700",children:[n.jsx("p",{className:"font-medium mb-1",children:"Description:"}),n.jsx("p",{className:"text-sm whitespace-pre-wrap",children:u.description||"No description provided"})]})]}),n.jsx("div",{className:"flex justify-end mt-6",children:n.jsx("button",{onClick:R,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Close"})})]})]})}),n.jsx(b5,{})]}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"text-center p-8 bg-white rounded-lg shadow-md",children:[n.jsx("div",{className:"text-red-500 text-xl mb-4",children:"School ID not found"}),n.jsx("div",{className:"text-gray-600 mb-4",children:"Please login again to access the events system."}),n.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Refresh Page"})]})})},Og="http://localhost:5000/api",sAe=()=>{const[e,t]=S.useState(""),[r,a]=S.useState("all"),[s,i]=S.useState("all"),[o,l]=S.useState(""),[c,u]=S.useState(""),[d,A]=S.useState(!1),[m,h]=S.useState(!1),[y,x]=S.useState(null),[v,b]=S.useState(null),[j,C]=S.useState({upcoming:{data:[],total:0,page:1,totalPages:0},past:{data:[],total:0,page:1,totalPages:1}}),[E,k]=S.useState([]),[D,L]=S.useState(!1),[F,Q]=S.useState(""),[U,P]=S.useState(!1),[I,z]=S.useState(""),[W,ie]=S.useState("#2563eb"),[X,le]=S.useState(null),[re,he]=S.useState({upcomingPage:1,pastPage:1,limit:10}),[de,ve]=S.useState({name:"",date:"",color:"#667eea",type:"upcoming",classId:""}),[B,R]=S.useState({}),G=S.useMemo(()=>E.map(je=>({_id:je._id,className:je.className||`Class ${je._id}`,section:je.section||"",displayName:`${je.className||`Class ${je._id}`}${je.section?` ${je.section}`:""}`.trim()})),[E]),ne=S.useMemo(()=>[...new Set(G.map(je=>je.className))].sort(),[G]),pe=S.useMemo(()=>[...new Set(G.filter(je=>je.className===o).map(je=>je.section).filter(Boolean))].sort(),[G,o]),xe=S.useCallback(async()=>{if(X)try{L(!0),Q("");const je=await Vt.get(`${Og}/class?schoolId=${X}`,{headers:Ae()});je.data.success&&Array.isArray(je.data.data)?k(je.data.data):(k([]),Q("No classes found"))}catch(je){k([]),Q("Failed to load classes: "+je.message),Y(je)}finally{L(!1)}},[X]),Ae=()=>{const je=localStorage.getItem("token");return je?{Authorization:`Bearer ${je}`}:{}},Y=je=>{je.response?.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("schoolId"),window.location.href="/login"),z(je.response?.data?.message||je.message||"An unexpected error occurred"),console.error("API Error:",je)},se=S.useCallback(async(je={})=>{if(!X){z("School ID is required to fetch birthdays."),P(!1);return}P(!0),z("");try{const Ze={schoolId:X,upcomingPage:je.upcomingPage||re.upcomingPage,pastPage:je.pastPage||re.pastPage,limit:re.limit};o&&(Ze.className=o),c&&(Ze.section=c);const Te=await Vt.get(`${Og}/birthdays`,{headers:Ae(),params:Ze});Te.data&&Te.data.upcoming&&Te.data.past?C({upcoming:{data:Te.data.upcoming.data.map(ee),total:Te.data.upcoming.total,page:Te.data.upcoming.page,totalPages:Te.data.upcoming.totalPages},past:{data:Te.data.past.data.map(ee),total:Te.data.past.total,page:Te.data.past.page,totalPages:Te.data.past.totalPages}}):z("Received unexpected data format from server for birthdays.")}catch(Ze){Y(Ze)}finally{P(!1)}},[X,re.upcomingPage,re.pastPage,re.limit,o,c]),ee=je=>({id:je._id,name:je.name,date:je.date,color:je.color,type:je.type,role:je.role,classId:je.classId?._id||je.classId,className:je.classId?.className||"",section:je.classId?.section||""});S.useEffect(()=>{const je=localStorage.getItem("color");je&&ie(je);const Ze=localStorage.getItem("schoolId");Ze?le(Ze):z("School ID not found in local storage. Please log in to access birthday data.")},[]),S.useEffect(()=>{X&&(xe(),se())},[xe,se,X]),S.useEffect(()=>{F&&z(F)},[F]);const be=S.useCallback(je=>{if(!je)return"Unknown Class";const Ze=G.find(Te=>Te._id===(je._id||je));return Ze?Ze.displayName:"Unknown Class"},[G]),Ce=(je,Ze=new Date().getFullYear())=>{try{const Te=new Date(`${je}, ${Ze}`);if(isNaN(Te.getTime()))throw new Error("Invalid date format");return Te}catch{return null}},ce=je=>{const Ze=new Date,Te=Ce(je,Ze.getFullYear());if(!Te)return"Unknown";let pt=Ze.getFullYear()-Te.getFullYear();const At=Ze.getMonth()-Te.getMonth();return(At<0||At===0&&Ze.getDate()<Te.getDate())&&pt--,pt>=0?pt:"Unknown"},J=je=>{const Ze=new Date;Ze.setHours(0,0,0,0);const Te=Ce(je);if(!Te)return"Unknown";const pt=Ze.getFullYear(),At=new Date(pt,Te.getMonth(),Te.getDate());At<Ze&&At.setFullYear(pt+1);const qe=At.getTime()-Ze.getTime(),Pe=Math.ceil(qe/(1e3*60*60*24));return Pe>=0?Pe:"Unknown"},ge=je=>{try{const[Ze,Te]=je.split(" "),pt=String(Number.parseInt(Te,10)).padStart(2,"0");return`${Ze} ${pt}`}catch{return je}},Je=je=>je==="Unknown"?n.jsx("span",{className:"text-sm text-gray-600",children:"Invalid date"}):je===0?n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[n.jsx(Uh,{className:"w-3 h-3 mr-1",style:{color:W}}),"Today!"]}):je<=7?n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:[n.jsx(fn,{className:"w-3 h-3 mr-1",style:{color:W}}),je," days"]}):je<=30?n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[n.jsx(Ia,{className:"w-3 h-3 mr-1",style:{color:W}}),je," days"]}):n.jsxs("span",{className:"text-sm text-gray-600",children:[je," days"]}),Ke=S.useMemo(()=>j.upcoming.data.map(je=>({...je,className:be(je.classId)})).filter(je=>{const Ze=je.name.toLowerCase().includes(e.toLowerCase()),Te=Ce(je.date),pt=Te?Te.getMonth()+1:null,At=r==="all"||pt&&pt.toString()===r,qe=J(je.date);let Pe=!0;s==="today"?Pe=qe===0:s==="week"?Pe=qe<=7&&qe>0:s==="month"&&(Pe=qe<=30&&qe>0);const mt=o===""||je.className===o,Qe=c===""||je.section===c;return Ze&&At&&Pe&&mt&&Qe}),[e,r,s,o,c,j.upcoming.data,be]),Fe=S.useMemo(()=>j.past.data.map(je=>({...je,className:be(je.classId)})).filter(je=>{const Ze=je.name.toLowerCase().includes(e.toLowerCase()),Te=Ce(je.date),pt=Te?Te.getMonth()+1:null,At=r==="all"||pt&&pt.toString()===r,qe=o===""||je.className===o,Pe=c===""||je.section===c;return Ze&&At&&qe&&Pe}),[e,r,o,c,j.past.data,be]),nt=S.useMemo(()=>{const je=j.upcoming.total+j.past.total,Ze=[...j.upcoming.data,...j.past.data].filter(At=>J(At.date)===0).length,Te=[...j.upcoming.data,...j.past.data].filter(At=>{const qe=J(At.date);return qe<=7&&qe>0&&qe!=="Unknown"}).length,pt=[...j.upcoming.data,...j.past.data].filter(At=>{const qe=J(At.date);return qe<=30&&qe>0&&qe!=="Unknown"}).length;return{total:je,todayBirthdays:Ze,thisWeekBirthdays:Te,thisMonthBirthdays:pt}},[j]),Se=async()=>{P(!0);try{const je={schoolId:X,upcomingPage:1,pastPage:1,limit:1e3};o&&(je.className=o),c&&(je.section=c);const Ze=await Vt.get(`${Og}/birthdays`,{headers:Ae(),params:je}),pt=`data:text/csv;charset=utf-8,Name,Date,Class,Section,Color,Type,Days Until,Role
`+[...Ze.data.upcoming.data.map(ee),...Ze.data.past.data.map(ee)].map(Pe=>({...Pe,className:be(Pe.classId)})).map(Pe=>`${Pe.name},${Pe.date},${Pe.className},${Pe.section},${Pe.color},${Pe.type},${J(Pe.date)},${Pe.role}`).join(`
`),At=encodeURI(pt),qe=document.createElement("a");qe.setAttribute("href",At),qe.setAttribute("download","birthdays.csv"),document.body.appendChild(qe),qe.click(),document.body.removeChild(qe)}catch(je){Y(je)}finally{P(!1)}},Me=je=>{x(je),h(!0)},at=je=>{b(je),ve({name:je.name,date:je.date,color:je.color,type:je.type,classId:je.classId?._id||je.classId||""}),R({}),A(!0)},ke=S.useCallback(async je=>{if(window.confirm("Are you sure you want to delete this record?")){if(P(!0),z(""),!X){z("School ID is missing. Cannot perform this operation."),P(!1);return}try{await Vt.delete(`${Og}/birthdays/${je}`,{headers:Ae(),data:{schoolId:X}}),await se()}catch(Ze){Y(Ze)}finally{P(!1)}}},[se,X]),Ve=()=>{b(null),ve({name:"",date:"",color:W,type:"upcoming",classId:""}),R({}),A(!0)},ze=()=>{const je={};return de.name.trim()||(je.name="Name is required"),(!de.date.trim()||!/^[A-Za-z]+\s\d{1,2}(,\s\d{4})?$/.test(de.date.trim()))&&(je.date="Date must be in 'Month Day' or 'Month Day, Year' format (e.g., 'March 15' or 'March 15, 2025')"),de.color||(je.color="Color is required"),de.type||(je.type="Type is required"),de.classId||(je.classId="Class is required"),R(je),Object.keys(je).length===0},rt=async()=>{if(ze()){if(P(!0),z(""),!X){z("School ID is missing. Cannot perform this operation."),P(!1);return}try{const je={name:de.name.trim(),role:"student",date:de.date.trim(),color:de.color,type:de.type,schoolId:X,classId:de.classId};let Ze;v?Ze=await Vt.put(`${Og}/birthdays/${v.id}`,je,{headers:Ae()}):Ze=await Vt.post(`${Og}/birthdays`,je,{headers:Ae()}),Ze.data&&(await se(),A(!1),b(null))}catch(je){Y(je),je.response?.data?.message?z(je.response.data.message):z("Failed to save birthday record. Please try again.")}finally{P(!1)}}},Ge=(je,Ze)=>{Ze<1||Ze>j[je].totalPages||(he(Te=>({...Te,[`${je}Page`]:Ze})),se({[`${je}Page`]:Ze}))},bt=[{value:"1",label:"January"},{value:"2",label:"February"},{value:"3",label:"March"},{value:"4",label:"April"},{value:"5",label:"May"},{value:"6",label:"June"},{value:"7",label:"July"},{value:"8",label:"August"},{value:"9",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}],Le=({type:je,data:Ze})=>Ze.total===0||Ze.totalPages<=1?null:n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 bg-gray-50 border-t border-gray-200",children:[n.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",(Ze.page-1)*re.limit+1," to"," ",Math.min(Ze.page*re.limit,Ze.total)," of ",Ze.total," ","entries"]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>Ge(je,Ze.page-1),disabled:Ze.page===1,className:"p-2 rounded-md border border-gray-300 bg-white text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(Do,{className:"w-4 h-4"})}),[...Array(Ze.totalPages)].map((Te,pt)=>{const At=pt+1;return n.jsx("button",{onClick:()=>Ge(je,At),className:Gt("px-3 py-1 rounded-md border border-gray-300",Ze.page===At?"bg-blue-500 text-white":"bg-white text-gray-500 hover:bg-gray-50"),style:Ze.page===At?{backgroundColor:W}:{},children:At},At)}),n.jsx("button",{onClick:()=>Ge(je,Ze.page+1),disabled:Ze.page===Ze.totalPages,className:"p-2 rounded-md border border-gray-300 bg-white text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(ro,{className:"w-4 h-4"})})]})]});return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[I&&n.jsxs("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2",children:[n.jsx(Da,{className:"w-5 h-5"}),n.jsx("span",{className:"block sm:inline",children:I}),n.jsx("button",{onClick:()=>z(""),className:"ml-auto text-red-700 hover:text-red-900",children:n.jsx(pr,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"max-w-5xl mx-auto",children:[n.jsxs("div",{className:Gt("text-white p-6 rounded-b-3xl shadow-lg"),style:{backgroundColor:W},children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Uh,{className:"w-6 h-6",style:{color:"white"}}),n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Birthday Management"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("button",{onClick:Ve,disabled:U||!X||D||G.length===0,className:Gt("text-white px-4 py-2 rounded-xl flex items-center space-x-2 disabled:opacity-50"),style:{backgroundColor:`${W}80`},children:[U||D?n.jsx(Rr,{className:"w-4 h-4 animate-spin",style:{color:"white"}}):n.jsx(bs,{className:"w-4 h-4",style:{color:"white"}}),n.jsx("span",{children:"Add New"})]}),n.jsxs("button",{onClick:Se,disabled:U||!X,className:Gt("text-white px-4 py-2 rounded-xl flex items-center space-x-2 disabled:opacity-50"),style:{backgroundColor:`${W}80`},children:[n.jsx(Ln,{className:"w-4 h-4",style:{color:"white"}}),n.jsx("span",{children:"Export"})]})]})]}),n.jsx("p",{className:"text-white mt-2",children:"Track and manage birthdays"})]}),n.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:"Total Records",value:nt.total,color:"blue",icon:rn},{label:"Today's Birthdays",value:nt.todayBirthdays,color:"red",icon:Uh},{label:"This Week",value:nt.thisWeekBirthdays,color:"orange",icon:fn},{label:"This Month",value:nt.thisMonthBirthdays,color:"yellow",icon:Ia}].map((je,Ze)=>n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:je.label}),n.jsx("p",{className:`text-2xl font-bold text-${je.color}-600`,children:je.value})]}),n.jsx("div",{className:`p-3 bg-${je.color}-100 rounded-xl`,children:n.jsx(je.icon,{className:`w-6 h-6 text-${je.color}-600`})})]})},Ze))}),n.jsx("div",{className:"px-6 mb-6",children:n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4",style:{color:W}}),n.jsx("input",{type:"text",placeholder:"Search name...",value:e,onChange:je=>t(je.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:W,outlineColor:W}})]}),n.jsxs("select",{value:r,onChange:je=>a(je.target.value),className:"px-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:W,outlineColor:W},children:[n.jsx("option",{value:"all",children:"All Months"}),bt.map(je=>n.jsx("option",{value:je.value,children:je.label},je.value))]}),n.jsxs("select",{value:s,onChange:je=>i(je.target.value),className:"px-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:W,outlineColor:W},children:[n.jsx("option",{value:"all",children:"All Upcoming"}),n.jsx("option",{value:"today",children:"Today"}),n.jsx("option",{value:"week",children:"This Week"}),n.jsx("option",{value:"month",children:"This Month"})]}),n.jsxs("select",{value:o,onChange:je=>{l(je.target.value),u("")},className:"px-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:W,outlineColor:W},disabled:D,children:[n.jsx("option",{value:"",children:"All Classes"}),ne.map(je=>n.jsx("option",{value:je,children:je},je))]}),n.jsxs("select",{value:c,onChange:je=>u(je.target.value),className:"px-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:W,outlineColor:W},disabled:D||o===""||pe.length===0,children:[n.jsx("option",{value:"",children:"All Sections"}),pe.map(je=>n.jsx("option",{value:je,children:je},je))]})]})})}),n.jsxs("div",{className:"px-6 pb-6",children:[n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden mb-6",children:[n.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:n.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[n.jsx(Uh,{className:"w-5 h-5 mr-2",style:{color:W}}),"Upcoming Birthdays (",Ke.length,")"]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full table-auto",children:[n.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Person"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Ke.map(je=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:je.name}),n.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",je.id]})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:je.className})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:je.section||"N/A"})}),n.jsxs("td",{className:"px-6 py-4",children:[n.jsx("div",{className:"text-sm text-gray-900",children:ge(je.date)}),n.jsx("div",{className:"text-xs text-gray-500",children:Je(J(je.date))})]}),n.jsx("td",{className:"px-6 py-4 text-sm font-medium",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>Me(je),className:"p-1 hover:bg-gray-100 rounded transition-colors",style:{color:W},title:"View Details",children:n.jsx(cs,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>at(je),disabled:U||!X,className:"p-1 hover:bg-gray-100 rounded transition-colors disabled:opacity-50",style:{color:W},title:"Edit",children:n.jsx(mc,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>ke(je.id),disabled:U||!X,className:"p-1 hover:bg-gray-100 rounded transition-colors disabled:opacity-50",style:{color:W},title:"Delete",children:n.jsx(Jn,{className:"w-4 h-4"})})]})})]},je.id))})]})}),Ke.length===0&&!U&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Uh,{className:"w-12 h-12 mx-auto mb-4",style:{color:W}}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No upcoming birthdays"}),n.jsx("p",{className:"text-gray-500",children:"No upcoming birthdays found"})]}),U&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Rr,{className:"w-8 h-8 mx-auto animate-spin mb-4",style:{color:W}}),n.jsx("p",{className:"text-gray-500",children:"Loading birthdays..."})]}),n.jsx(Le,{type:"upcoming",data:j.upcoming})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:n.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[n.jsx(Ia,{className:"w-5 h-5 mr-2",style:{color:W}}),"Past Birthdays (",Fe.length,")"]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full table-auto",children:[n.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Person"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Fe.map(je=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:je.name}),n.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",je.id]})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:je.className})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:je.section||"N/A"})}),n.jsxs("td",{className:"px-6 py-4",children:[n.jsx("div",{className:"text-sm text-gray-900",children:ge(je.date)}),n.jsx("div",{className:"text-xs text-gray-500",children:"Past birthday"})]}),n.jsx("td",{className:"px-6 py-4 text-sm font-medium",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>Me(je),className:"p-1 hover:bg-gray-100 rounded transition-colors",style:{color:W},title:"View Details",children:n.jsx(cs,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>at(je),disabled:U||!X,className:"p-1 hover:bg-gray-100 rounded transition-colors disabled:opacity-50",style:{color:W},title:"Edit",children:n.jsx(mc,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>ke(je.id),disabled:U||!X,className:"p-1 hover:bg-gray-100 rounded transition-colors disabled:opacity-50",style:{color:W},title:"Delete",children:n.jsx(Jn,{className:"w-4 h-4"})})]})})]},je.id))})]})}),Fe.length===0&&!U&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ia,{className:"w-12 h-12 mx-auto mb-4",style:{color:W}}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No past birthdays"}),n.jsx("p",{className:"text-gray-500",children:"No past birthdays found"})]}),U&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Rr,{className:"w-8 h-8 mx-auto animate-spin mb-4",style:{color:W}}),n.jsx("p",{className:"text-gray-500",children:"Loading birthdays..."})]}),n.jsx(Le,{type:"past",data:j.past})]})]})]}),d&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md mx-4",children:[n.jsxs("div",{className:Gt("text-white p-6 rounded-t-lg shadow-lg flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:W},children:[n.jsx("h2",{className:"text-xl font-bold text-white",children:v?"Edit Birthday":"Add New Birthday"}),n.jsx("button",{onClick:()=>A(!1),className:"flex items-center justify-center w-8 h-8 hover:bg-gray-100 rounded-full",style:{color:"white"},children:n.jsx(pr,{size:24})})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[D&&n.jsxs("div",{className:"text-center py-4",children:[n.jsx(Rr,{className:"w-6 h-6 mx-auto animate-spin mb-2",style:{color:W}}),n.jsx("p",{className:"text-sm text-gray-600",children:"Loading classes..."})]}),!D&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Full Name *"}),n.jsx("input",{type:"text",placeholder:"Full Name",value:de.name,onChange:je=>{ve({...de,name:je.target.value}),R(Ze=>({...Ze,name:""}))},className:Gt("w-full px-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2",{"border-red-500":B.name}),style:{borderColor:B.name?"#ef4444":W,outlineColor:W},required:!0}),B.name&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:B.name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Date *"}),n.jsx("input",{type:"text",placeholder:"Date (e.g., March 15 or March 15, 2025)",value:de.date,onChange:je=>{ve({...de,date:je.target.value}),R(Ze=>({...Ze,date:""}))},className:Gt("w-full px-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2",{"border-red-500":B.date}),style:{borderColor:B.date?"#ef4444":W,outlineColor:W},required:!0}),B.date&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:B.date})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Class *"}),n.jsxs("select",{value:de.classId,onChange:je=>{ve({...de,classId:je.target.value}),R(Ze=>({...Ze,classId:""}))},disabled:D,className:Gt("w-full px-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50",{"border-red-500":B.classId}),style:{borderColor:B.classId?"#ef4444":W,outlineColor:W},required:!0,children:[n.jsx("option",{value:"",children:"Select Class"}),G.map(je=>n.jsx("option",{value:je._id,children:je.displayName},je._id))]}),B.classId&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:B.classId})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Color *"}),n.jsx("input",{type:"color",value:de.color,onChange:je=>{ve({...de,color:je.target.value}),R(Ze=>({...Ze,color:""}))},className:Gt("w-full h-10 px-2 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2",{"border-red-500":B.color}),style:{borderColor:B.color?"#ef4444":W,outlineColor:W},required:!0}),B.color&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:B.color})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Type *"}),n.jsxs("select",{value:de.type,onChange:je=>{ve({...de,type:je.target.value}),R(Ze=>({...Ze,type:""}))},className:Gt("w-full px-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2",{"border-red-500":B.type}),style:{borderColor:B.type?"#ef4444":W,outlineColor:W},required:!0,children:[n.jsx("option",{value:"",children:"Select Type"}),n.jsx("option",{value:"upcoming",children:"Upcoming"}),n.jsx("option",{value:"past",children:"Past"})]}),B.type&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:B.type})]}),n.jsxs("div",{className:"flex space-x-3 pt-4",children:[n.jsx("button",{onClick:()=>A(!1),disabled:U,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),n.jsxs("button",{onClick:rt,disabled:U||!X||D||G.length===0,className:Gt("flex-1 px-4 py-2 text-white rounded-xl flex items-center justify-center space-x-2 disabled:opacity-50"),style:{backgroundColor:W},children:[U?n.jsx(Rr,{className:"w-4 h-4 animate-spin",style:{color:"white"}}):n.jsx($l,{className:"w-4 h-4",style:{color:"white"}}),n.jsx("span",{children:"Save"})]})]})]})]})]})}),m&&y&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md mx-4",children:[n.jsxs("div",{className:Gt("text-white p-6 rounded-t-lg shadow-lg flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:W},children:[n.jsx("h2",{className:"text-xl font-bold text-white",children:"Birthday Details"}),n.jsx("button",{onClick:()=>h(!1),className:"flex items-center justify-center w-8 h-8 hover:bg-gray-100 rounded-full",style:{color:"white"},children:n.jsx(pr,{size:24})})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Name"}),n.jsx("span",{className:"text-sm font-semibold text-gray-900",children:y.name})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Role"}),n.jsx("span",{className:"text-sm font-semibold text-gray-900 capitalize",children:y.role})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Class"}),n.jsx("span",{className:"text-sm font-semibold text-gray-900",children:y.className})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Section"}),n.jsx("span",{className:"text-sm font-semibold text-gray-900",children:y.section||"N/A"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Date"}),n.jsx("span",{className:"text-sm font-semibold text-gray-900",children:ge(y.date)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Age"}),n.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[ce(y.date)," years"]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Next Birthday"}),n.jsx("span",{className:"text-sm font-semibold text-gray-900",children:J(y.date)==="Unknown"?"Invalid date":`${J(y.date)} days`})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Type"}),n.jsx("span",{className:"text-sm font-semibold text-gray-900 capitalize",children:y.type})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Color"}),n.jsx("div",{className:"w-6 h-6 rounded-full border border-gray-300",style:{backgroundColor:y.color}})]}),n.jsx("div",{className:"pt-4",children:n.jsx("button",{onClick:()=>h(!1),className:"w-full px-4 py-2 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors",children:"Close"})})]})]})})]})},r$=6048e5,iAe=864e5,GI=Symbol.for("constructDateFrom");function g0(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&GI in e?e[GI](t):e instanceof Date?new e.constructor(t):new Date(t)}function fh(e,t){return g0(t||e,e)}let oAe={};function _5(){return oAe}function dv(e,t){const r=_5(),a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=fh(e,t?.in),i=s.getDay(),o=(i<a?7:0)+i-a;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function o4(e,t){return dv(e,{...t,weekStartsOn:1})}function a$(e,t){const r=fh(e,t?.in),a=r.getFullYear(),s=g0(r,0);s.setFullYear(a+1,0,4),s.setHours(0,0,0,0);const i=o4(s),o=g0(r,0);o.setFullYear(a,0,4),o.setHours(0,0,0,0);const l=o4(o);return r.getTime()>=i.getTime()?a+1:r.getTime()>=l.getTime()?a:a-1}function WI(e){const t=fh(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function lAe(e,...t){const r=g0.bind(null,t.find(a=>typeof a=="object"));return t.map(r)}function YI(e,t){const r=fh(e,t?.in);return r.setHours(0,0,0,0),r}function cAe(e,t,r){const[a,s]=lAe(r?.in,e,t),i=YI(a),o=YI(s),l=+i-WI(i),c=+o-WI(o);return Math.round((l-c)/iAe)}function dAe(e,t){const r=a$(e,t),a=g0(e,0);return a.setFullYear(r,0,4),a.setHours(0,0,0,0),o4(a)}function uAe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function fAe(e){return!(!uAe(e)&&typeof e!="number"||isNaN(+fh(e)))}function hAe(e,t){const r=fh(e,t?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const AAe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},mAe=(e,t,r)=>{let a;const s=AAe[e];return typeof s=="string"?a=s:t===1?a=s.one:a=s.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function Zj(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const pAe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},gAe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},xAe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},yAe={date:Zj({formats:pAe,defaultWidth:"full"}),time:Zj({formats:gAe,defaultWidth:"full"}),dateTime:Zj({formats:xAe,defaultWidth:"full"})},vAe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},bAe=(e,t,r,a)=>vAe[e];function ty(e){return(t,r)=>{const a=r?.context?String(r.context):"standalone";let s;if(a==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r?.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r?.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const wAe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},NAe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},jAe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},SAe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},CAe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},EAe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},BAe=(e,t)=>{const r=Number(e),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},TAe={ordinalNumber:BAe,era:ty({values:wAe,defaultWidth:"wide"}),quarter:ty({values:NAe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ty({values:jAe,defaultWidth:"wide"}),day:ty({values:SAe,defaultWidth:"wide"}),dayPeriod:ty({values:CAe,defaultWidth:"wide",formattingValues:EAe,defaultFormattingWidth:"wide"})};function ry(e){return(t,r={})=>{const a=r.width,s=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],l=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?_Ae(l,A=>A.test(o)):FAe(l,A=>A.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function FAe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function _Ae(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function kAe(e){return(t,r={})=>{const a=t.match(e.matchPattern);if(!a)return null;const s=a[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const IAe=/^(\d+)(th|st|nd|rd)?/i,PAe=/\d+/i,LAe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},OAe={any:[/^b/i,/^(a|c)/i]},DAe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},MAe={any:[/1/i,/2/i,/3/i,/4/i]},UAe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},RAe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},QAe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},HAe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},$Ae={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},zAe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},VAe={ordinalNumber:kAe({matchPattern:IAe,parsePattern:PAe,valueCallback:e=>parseInt(e,10)}),era:ry({matchPatterns:LAe,defaultMatchWidth:"wide",parsePatterns:OAe,defaultParseWidth:"any"}),quarter:ry({matchPatterns:DAe,defaultMatchWidth:"wide",parsePatterns:MAe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ry({matchPatterns:UAe,defaultMatchWidth:"wide",parsePatterns:RAe,defaultParseWidth:"any"}),day:ry({matchPatterns:QAe,defaultMatchWidth:"wide",parsePatterns:HAe,defaultParseWidth:"any"}),dayPeriod:ry({matchPatterns:$Ae,defaultMatchWidth:"any",parsePatterns:zAe,defaultParseWidth:"any"})},qAe={code:"en-US",formatDistance:mAe,formatLong:yAe,formatRelative:bAe,localize:TAe,match:VAe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function KAe(e,t){const r=fh(e,t?.in);return cAe(r,hAe(r))+1}function GAe(e,t){const r=fh(e,t?.in),a=+o4(r)-+dAe(r);return Math.round(a/r$)+1}function n$(e,t){const r=fh(e,t?.in),a=r.getFullYear(),s=_5(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,o=g0(t?.in||e,0);o.setFullYear(a+1,0,i),o.setHours(0,0,0,0);const l=dv(o,t),c=g0(t?.in||e,0);c.setFullYear(a,0,i),c.setHours(0,0,0,0);const u=dv(c,t);return+r>=+l?a+1:+r>=+u?a:a-1}function WAe(e,t){const r=_5(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,s=n$(e,t),i=g0(t?.in||e,0);return i.setFullYear(s,0,a),i.setHours(0,0,0,0),dv(i,t)}function YAe(e,t){const r=fh(e,t?.in),a=+dv(r,t)-+WAe(r,t);return Math.round(a/r$)+1}function Ts(e,t){const r=e<0?"-":"",a=Math.abs(e).toString().padStart(t,"0");return r+a}const Vm={y(e,t){const r=e.getFullYear(),a=r>0?r:1-r;return Ts(t==="yy"?a%100:a,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Ts(r+1,2)},d(e,t){return Ts(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Ts(e.getHours()%12||12,t.length)},H(e,t){return Ts(e.getHours(),t.length)},m(e,t){return Ts(e.getMinutes(),t.length)},s(e,t){return Ts(e.getSeconds(),t.length)},S(e,t){const r=t.length,a=e.getMilliseconds(),s=Math.trunc(a*Math.pow(10,r-3));return Ts(s,t.length)}},Dg={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},XI={G:function(e,t,r){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const a=e.getFullYear(),s=a>0?a:1-a;return r.ordinalNumber(s,{unit:"year"})}return Vm.y(e,t)},Y:function(e,t,r,a){const s=n$(e,a),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return Ts(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Ts(i,t.length)},R:function(e,t){const r=a$(e);return Ts(r,t.length)},u:function(e,t){const r=e.getFullYear();return Ts(r,t.length)},Q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return Ts(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return Ts(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,r){const a=e.getMonth();switch(t){case"M":case"MM":return Vm.M(e,t);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,r){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return Ts(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,r,a){const s=YAe(e,a);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Ts(s,t.length)},I:function(e,t,r){const a=GAe(e);return t==="Io"?r.ordinalNumber(a,{unit:"week"}):Ts(a,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Vm.d(e,t)},D:function(e,t,r){const a=KAe(e);return t==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):Ts(a,t.length)},E:function(e,t,r){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,r,a){const s=e.getDay(),i=(s-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Ts(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,a){const s=e.getDay(),i=(s-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Ts(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const a=e.getDay(),s=a===0?7:a;switch(t){case"i":return String(s);case"ii":return Ts(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const a=e.getHours();let s;switch(a===12?s=Dg.noon:a===0?s=Dg.midnight:s=a/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const a=e.getHours();let s;switch(a>=17?s=Dg.evening:a>=12?s=Dg.afternoon:a>=4?s=Dg.morning:s=Dg.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let a=e.getHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return Vm.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Vm.H(e,t)},K:function(e,t,r){const a=e.getHours()%12;return t==="Ko"?r.ordinalNumber(a,{unit:"hour"}):Ts(a,t.length)},k:function(e,t,r){let a=e.getHours();return a===0&&(a=24),t==="ko"?r.ordinalNumber(a,{unit:"hour"}):Ts(a,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Vm.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Vm.s(e,t)},S:function(e,t){return Vm.S(e,t)},X:function(e,t,r){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return ZI(a);case"XXXX":case"XX":return op(a);case"XXXXX":case"XXX":default:return op(a,":")}},x:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"x":return ZI(a);case"xxxx":case"xx":return op(a);case"xxxxx":case"xxx":default:return op(a,":")}},O:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+JI(a,":");case"OOOO":default:return"GMT"+op(a,":")}},z:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+JI(a,":");case"zzzz":default:return"GMT"+op(a,":")}},t:function(e,t,r){const a=Math.trunc(+e/1e3);return Ts(a,t.length)},T:function(e,t,r){return Ts(+e,t.length)}};function JI(e,t=""){const r=e>0?"-":"+",a=Math.abs(e),s=Math.trunc(a/60),i=a%60;return i===0?r+String(s):r+String(s)+t+Ts(i,2)}function ZI(e,t){return e%60===0?(e>0?"-":"+")+Ts(Math.abs(e)/60,2):op(e,t)}function op(e,t=""){const r=e>0?"-":"+",a=Math.abs(e),s=Ts(Math.trunc(a/60),2),i=Ts(a%60,2);return r+s+t+i}const eP=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},s$=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},XAe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],a=r[1],s=r[2];if(!s)return eP(e,t);let i;switch(a){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",eP(a,t)).replace("{{time}}",s$(s,t))},JAe={p:s$,P:XAe},ZAe=/^D+$/,eme=/^Y+$/,tme=["D","DD","YY","YYYY"];function rme(e){return ZAe.test(e)}function ame(e){return eme.test(e)}function nme(e,t,r){const a=sme(e,t,r);if(console.warn(a),tme.includes(e))throw new RangeError(a)}function sme(e,t,r){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ime=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ome=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,lme=/^'([^]*?)'?$/,cme=/''/g,dme=/[a-zA-Z]/;function tP(e,t,r){const a=_5(),s=a.locale??qAe,i=a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=a.weekStartsOn??a.locale?.options?.weekStartsOn??0,l=fh(e,r?.in);if(!fAe(l))throw new RangeError("Invalid time value");let c=t.match(ome).map(d=>{const A=d[0];if(A==="p"||A==="P"){const m=JAe[A];return m(d,s.formatLong)}return d}).join("").match(ime).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const A=d[0];if(A==="'")return{isToken:!1,value:ume(d)};if(XI[A])return{isToken:!0,value:d};if(A.match(dme))throw new RangeError("Format string contains an unescaped latin alphabet character `"+A+"`");return{isToken:!1,value:d}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(d=>{if(!d.isToken)return d.value;const A=d.value;(ame(A)||rme(A))&&nme(A,t,String(e));const m=XI[A[0]];return m(l,A,s.localize,u)}).join("")}function ume(e){const t=e.match(lme);return t?t[1].replace(cme,"'"):e}const qm="http://localhost:5000/api",fme=()=>{const[e,t]=S.useState([]),[r,a]=S.useState([]),[s,i]=S.useState(!1),[o,l]=S.useState(""),[c,u]=S.useState(""),[d,A]=S.useState(!1),[m,h]=S.useState(""),[y,x]=S.useState(""),[v,b]=S.useState({subject:"",date:"",topic:"",description:"",classId:""}),[j,C]=S.useState({}),[E,k]=S.useState(null),[D,L]=S.useState([]),[F,Q]=S.useState(!1),[U,P]=S.useState(""),[I,z]=S.useState("all"),[W,ie]=S.useState("#2563eb"),X=ee=>{u(ee),setTimeout(()=>u(""),5e3)},le=ee=>{l(ee),setTimeout(()=>l(""),5e3)};S.useEffect(()=>{const ee=localStorage.getItem("color");ee&&ie(ee);const be=localStorage.getItem("schoolId");be?h(be):le("School ID not found in localStorage. Please login again.")},[]);const re=S.useCallback(async()=>{if(m)try{const ee=await fetch(`${qm}/class?schoolId=${m}`);if(ee.ok){const be=await ee.json();be.success&&(a(be.data||[]),be.data&&be.data.length>0&&!y&&x(be.data[0]._id))}else console.error("Failed to fetch classes:",ee.status),le("Failed to fetch classes")}catch(ee){console.error("Error fetching classes:",ee),le("Error connecting to server while fetching classes")}},[m,y]),he=S.useCallback(async()=>{if(!m||!y){t([]);return}i(!0);try{const ee=await fetch(`${qm}/classwork?schoolId=${m}&classId=${y}`);if(ee.ok){const be=await ee.json();t(Array.isArray(be)?be:[]),console.log("Classworks loaded:",be.length||0)}else console.error("Failed to fetch classworks:",ee.status),le("Failed to fetch classworks"),t([])}catch(ee){console.error("Error fetching classworks:",ee),le("Error connecting to server while fetching classworks"),t([])}finally{i(!1)}},[m,y]);S.useEffect(()=>{m&&re()},[m,re]),S.useEffect(()=>{m&&y&&he()},[m,y,he]);const de=()=>{const ee={};return v.subject.trim()||(ee.subject="Subject is required"),v.date||(ee.date="Date is required"),v.topic.trim()||(ee.topic="Topic is required"),v.description.trim()||(ee.description="Description is required"),v.classId||(ee.classId="Class is required"),C(ee),Object.keys(ee).length===0},ve=ee=>{const{name:be,value:Ce}=ee.target;b(ce=>({...ce,[be]:Ce})),j[be]&&C(ce=>({...ce,[be]:""}))},B=ee=>{const be=Array.from(ee.target.files);if(be.length>5){le("Maximum 5 files allowed");return}L(be)},R=async ee=>{if(ee.preventDefault(),!de())return;if(!m){le("School ID is missing. Cannot perform this operation.");return}i(!0),Q(!0);const be=new FormData;be.append("subject",v.subject),be.append("date",v.date),be.append("topic",v.topic),be.append("description",v.description),be.append("schoolId",m),be.append("classId",v.classId),D.forEach(Ce=>{be.append("attachments",Ce)});try{let Ce;if(E?Ce=await fetch(`${qm}/classwork/${E._id}`,{method:"PUT",body:be}):Ce=await fetch(`${qm}/classwork`,{method:"POST",body:be}),Ce.ok)X(E?"Classwork updated successfully!":"Classwork added successfully!"),A(!1),xe(),he();else{const ce=await Ce.json();le(ce.message||"Failed to save classwork")}}catch(Ce){console.error("Error saving classwork:",Ce),le("Failed to save classwork. Please check your connection and try again.")}finally{i(!1),Q(!1)}},G=ee=>{k(ee),b({subject:ee.subject,date:tP(new Date(ee.date),"yyyy-MM-dd"),topic:ee.topic,description:ee.description,classId:ee.classId}),L([]),A(!0)},ne=S.useCallback(async ee=>{if(window.confirm("Are you sure you want to delete this classwork?")){if(!m||!y){le("School ID and Class ID are missing. Cannot perform this operation.");return}i(!0);try{const be=await fetch(`${qm}/classwork/${ee}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({schoolId:m,classId:y})});if(be.ok)X("Classwork deleted successfully!"),he();else{const Ce=await be.json();le(Ce.message||"Failed to delete classwork")}}catch(be){console.error("Error deleting classwork:",be),le("Failed to delete classwork")}finally{i(!1)}}},[m,y,he]),pe=S.useCallback(async(ee,be)=>{if(window.confirm("Are you sure you want to delete this attachment?")){if(!m||!y){le("School ID and Class ID are missing. Cannot perform this operation.");return}i(!0);try{const Ce=await fetch(`${qm}/classwork/${ee}/attachments/${be}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({schoolId:m,classId:y})});if(Ce.ok)X("Attachment deleted successfully!"),he();else{const ce=await Ce.json();le(ce.message||"Failed to delete attachment")}}catch(Ce){console.error("Error deleting attachment:",Ce),le("Failed to delete attachment")}finally{i(!1)}}},[m,y,he]),xe=()=>{b({subject:"",date:"",topic:"",description:"",classId:y||""}),C({}),k(null),L([])},Ae=S.useMemo(()=>{let ee=e;return I!=="all"&&(ee=ee.filter(be=>be.subject===I)),U&&(ee=ee.filter(be=>be.topic.toLowerCase().includes(U.toLowerCase())||be.description.toLowerCase().includes(U.toLowerCase())||be.subject.toLowerCase().includes(U.toLowerCase()))),ee.sort((be,Ce)=>new Date(Ce.date)-new Date(be.date))},[e,I,U]),Y=S.useMemo(()=>{const ee=new Set(e.map(be=>be.subject));return["all",...Array.from(ee).sort()]},[e]),se=ee=>({Mathematics:"text-blue-600 bg-blue-50",Physics:"text-purple-600 bg-purple-50",English:"text-green-600 bg-green-50",Chemistry:"text-orange-600 bg-orange-50",History:"text-red-600 bg-red-50",Biology:"text-teal-600 bg-teal-50"})[ee]||"text-gray-600 bg-gray-50";return m?n.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[c&&n.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2",children:[n.jsx(Oo,{className:"w-5 h-5"}),n.jsx("span",{className:"block sm:inline",children:c}),n.jsx("button",{onClick:()=>u(""),className:"ml-auto text-green-700 hover:text-green-900",children:n.jsx(pr,{className:"w-4 h-4"})})]}),o&&n.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2",children:[n.jsx(Da,{className:"w-5 h-5"}),n.jsx("span",{className:"block sm:inline",children:o}),n.jsx("button",{onClick:()=>l(""),className:"ml-auto text-red-700 hover:text-red-900",children:n.jsx(pr,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"text-white p-6 rounded-b-3xl shadow-lg mb-6",style:{backgroundColor:W},children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx(Ote,{className:"w-6 h-6"}),n.jsx("h1",{className:"text-2xl font-bold",children:"Classwork Management"})]}),n.jsx("p",{className:"text-white mb-4",children:"Manage daily classwork, topics, and attachments."}),n.jsxs("div",{className:"bg-white bg-opacity-20 rounded-lg p-4",children:[n.jsx("label",{className:"block text-white text-sm font-medium mb-2",children:"Select Class:"}),n.jsxs("select",{value:y,onChange:ee=>x(ee.target.value),className:"w-full md:w-auto px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-white text-gray-800",children:[n.jsx("option",{value:"",children:"Select a class"}),r.map(ee=>n.jsxs("option",{value:ee._id,children:[ee.className," ",ee.section]},ee._id))]})]})]}),y?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 mb-6",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[n.jsxs("div",{className:"relative",children:[n.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),n.jsx("input",{type:"text",placeholder:"Search topic, subject, or description...",value:U,onChange:ee=>P(ee.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:W,outlineColor:W}})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Hl,{className:"text-gray-500 w-4 h-4"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:Y.map(ee=>n.jsx("button",{onClick:()=>z(ee),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${I===ee?"text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,style:I===ee?{backgroundColor:W}:{},children:ee.charAt(0).toUpperCase()+ee.slice(1)},ee))})]}),n.jsxs("button",{onClick:()=>{xe(),b(ee=>({...ee,classId:y})),A(!0)},disabled:s,className:"text-white px-4 py-2 rounded-lg shadow-lg flex items-center space-x-2 disabled:opacity-50",style:{backgroundColor:W},children:[n.jsx(bs,{className:"w-5 h-5"}),n.jsx("span",{children:"Add Classwork"})]})]})}),s&&e.length===0?n.jsx("div",{className:"flex justify-center items-center h-64",children:n.jsx(Rr,{className:"w-12 h-12 animate-spin",style:{color:W}})}):Ae.length===0?n.jsxs("div",{className:"text-center py-10 text-gray-500",children:[n.jsx(Da,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),n.jsx("p",{className:"text-xl font-medium",children:"No classwork found"}),n.jsx("p",{className:"text-sm",children:"Try adjusting your search or filter criteria."})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Ae.map(ee=>n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 flex flex-col",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-800",children:ee.topic}),n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${se(ee.subject)}`,children:ee.subject})]}),n.jsx("p",{className:"text-gray-600 text-sm mb-3 flex-grow",children:ee.description}),n.jsxs("div",{className:"flex items-center text-gray-500 text-sm mb-4",children:[n.jsx(Ia,{className:"w-4 h-4 mr-2"}),n.jsxs("span",{children:["Date: ",tP(new Date(ee.date),"PPP")]})]}),ee.attachments&&ee.attachments.length>0&&n.jsxs("div",{className:"mb-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Attachments:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:ee.attachments.map(be=>n.jsxs("a",{href:`${qm.replace("/api","")}${be.url}`,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-gray-100 text-xs font-medium rounded-full flex items-center hover:underline",style:{color:W},children:[n.jsx(Ln,{className:"w-3 h-3 mr-1"}),be.name]},be._id))})]}),n.jsxs("div",{className:"flex space-x-3 mt-auto pt-4 border-t border-gray-100",children:[n.jsxs("button",{onClick:()=>G(ee),disabled:s,className:"flex items-center text-sm transition-colors disabled:opacity-50",style:{color:W},children:[n.jsx(mc,{className:"w-4 h-4 mr-1"}),"Edit"]}),n.jsxs("button",{onClick:()=>ne(ee._id),disabled:s,className:"flex items-center text-sm text-red-600 hover:text-red-800 transition-colors disabled:opacity-50",children:[n.jsx(Jn,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]},ee._id))})]}):n.jsxs("div",{className:"text-center py-10 text-gray-500",children:[n.jsx(Da,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),n.jsx("p",{className:"text-xl font-medium",children:"Please select a class"}),n.jsx("p",{className:"text-sm",children:"Choose a class from the dropdown above to view classwork."})]}),d&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto shadow-2xl",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-800",children:E?"Edit Classwork":"Add New Classwork"}),n.jsx("button",{onClick:()=>A(!1),className:"text-gray-500 hover:text-gray-700",children:n.jsx(pr,{className:"w-6 h-6"})})]}),n.jsxs("form",{onSubmit:R,className:"p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"classId",className:"block text-sm font-medium text-gray-700",children:"Class"}),n.jsxs("select",{id:"classId",name:"classId",value:v.classId,onChange:ve,className:`mt-1 block w-full px-3 py-2 border ${j.classId?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:j.classId?void 0:W,outlineColor:W},required:!0,children:[n.jsx("option",{value:"",children:"Select Class"}),r.map(ee=>n.jsxs("option",{value:ee._id,children:[ee.className," ",ee.section]},ee._id))]}),j.classId&&n.jsx("p",{className:"mt-1 text-sm text-red-500",children:j.classId})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700",children:"Subject"}),n.jsx("input",{type:"text",id:"subject",name:"subject",value:v.subject,onChange:ve,className:`mt-1 block w-full px-3 py-2 border ${j.subject?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:j.subject?void 0:W,outlineColor:W},required:!0}),j.subject&&n.jsx("p",{className:"mt-1 text-sm text-red-500",children:j.subject})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700",children:"Date"}),n.jsx("input",{type:"date",id:"date",name:"date",value:v.date,onChange:ve,className:`mt-1 block w-full px-3 py-2 border ${j.date?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:j.date?void 0:W,outlineColor:W},required:!0}),j.date&&n.jsx("p",{className:"mt-1 text-sm text-red-500",children:j.date})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"topic",className:"block text-sm font-medium text-gray-700",children:"Topic"}),n.jsx("input",{type:"text",id:"topic",name:"topic",value:v.topic,onChange:ve,className:`mt-1 block w-full px-3 py-2 border ${j.topic?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:j.topic?void 0:W,outlineColor:W},required:!0}),j.topic&&n.jsx("p",{className:"mt-1 text-sm text-red-500",children:j.topic})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),n.jsx("textarea",{id:"description",name:"description",value:v.description,onChange:ve,rows:"3",className:`mt-1 block w-full px-3 py-2 border ${j.description?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:j.description?void 0:W,outlineColor:W},required:!0}),j.description&&n.jsx("p",{className:"mt-1 text-sm text-red-500",children:j.description})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"attachments",className:"block text-sm font-medium text-gray-700",children:"Attachments (Max 5 files)"}),n.jsx("input",{type:"file",id:"attachments",name:"attachments",multiple:!0,onChange:B,className:"mt-1 block w-full text-sm text-white file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold hover:file:bg-opacity-80",style:{backgroundColor:W}}),D.length>0&&n.jsxs("div",{className:"mt-2",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Selected files:"}),n.jsx("ul",{className:"list-disc list-inside ml-4",children:D.map((ee,be)=>n.jsx("li",{className:"text-sm text-gray-600",children:ee.name},be))})]}),E?.attachments&&E.attachments.length>0&&n.jsxs("div",{className:"mt-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Existing Attachments:"}),n.jsx("ul",{className:"list-disc list-inside ml-4",children:E.attachments.map(ee=>n.jsxs("li",{className:"text-sm text-gray-600 flex items-center justify-between",children:[n.jsx("a",{href:`${qm.replace("/api","")}${ee.url}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 hover:underline",style:{color:W},children:ee.name}),n.jsx("button",{type:"button",onClick:()=>pe(E._id,ee._id),className:"ml-2 text-red-500 hover:text-red-700",title:"Delete attachment",disabled:s,children:n.jsx(pr,{className:"w-4 h-4"})})]},ee._id))})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{type:"button",onClick:()=>A(!1),disabled:s||F,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),n.jsxs("button",{type:"submit",disabled:s||F,className:"text-white px-4 py-2 rounded-lg shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 flex items-center space-x-2",style:{backgroundColor:W,outlineColor:W},children:[s||F?n.jsx(Rr,{className:"w-4 h-4 animate-spin"}):n.jsx($l,{className:"w-4 h-4"}),n.jsx("span",{children:s||F?"Saving...":"Save Classwork"})]})]})]})]})})]}):n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Da,{className:"w-12 h-12 mx-auto text-red-600 mb-4"}),n.jsx("p",{className:"text-lg font-medium text-gray-700",children:"School ID is required to access classwork."}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Please ensure you are properly logged in."})]})})},Nb="http://localhost:5000/api",hme="http://localhost:5000",Ame=()=>{const[e,t]=S.useState([]),[r,a]=S.useState(!0),[s,i]=S.useState(!1),[o,l]=S.useState(!1),[c,u]=S.useState(""),[d,A]=S.useState(""),[m,h]=S.useState(null),[y,x]=S.useState("#2563eb"),[v,b]=S.useState(null),[j,C]=S.useState(!1),[E,k]=S.useState(""),[D,L]=S.useState(1),[F]=S.useState(10),[Q,U]=S.useState(1),[P,I]=S.useState(0),[z,W]=S.useState({title:"",date:"",newImages:[],existingImages:[]});S.useEffect(()=>{const Ae=localStorage.getItem("color");Ae&&x(Ae);const Y=localStorage.getItem("schoolId");Y?(b(Y),console.log("School ID loaded from localStorage:",Y)):(console.log("No school ID found in localStorage, showing setup"),C(!0))},[]);const ie=Ae=>{Ae.preventDefault(),E.trim()&&(localStorage.setItem("schoolId",E.trim()),b(E.trim()),C(!1),k(""),console.log("School ID set:",E.trim()))},X=S.useCallback(async()=>{if(!v){console.log("No schoolId available, skipping fetch"),a(!1);return}console.log("Fetching albums for school:",v,"Page:",D,"Limit:",F),a(!0),u("");try{const Ae=await Vt.get(`${Nb}/albums`,{params:{schoolId:v,page:D,limit:F},timeout:1e4});if(console.log("Fetch albums response:",Ae.data),Ae.data.success){const Y=Ae.data.albums||[];t(Y),U(Ae.data.pages||1),I(Ae.data.total||0),console.log(`Successfully loaded ${Y.length} albums, Total: ${Ae.data.total}, Pages: ${Ae.data.pages}`),Y.length>0&&console.log("First album sample:",{id:Y[0]._id,title:Y[0].title,imageCount:Y[0].images?.length||0,firstImagePath:Y[0].images?.[0]?.path})}else console.error("API returned success: false",Ae.data),u(Ae.data.message||"Failed to fetch albums")}catch(Ae){console.error("Error fetching albums:",Ae),Ae.code==="ECONNABORTED"?u("Request timeout. Please check your internet connection."):Ae.response?u(Ae.response.data?.message||`Server error: ${Ae.response.status}`):Ae.request?u("Network error. Please check your internet connection."):u("An unexpected error occurred.")}finally{a(!1)}},[v,D,F]);S.useEffect(()=>{X()},[X]);const le=()=>{console.log("Opening add modal"),h(null),W({title:"",date:"",newImages:[],existingImages:[]}),i(!0),u(""),A("")},re=S.useCallback(Ae=>{console.log("Opening edit modal for album:",Ae._id),h(Ae),W({title:Ae.title,date:Ae.date?new Date(Ae.date).toISOString().split("T")[0]:"",newImages:[],existingImages:Ae.images||[]}),i(!0),u(""),A("")},[]),he=()=>{console.log("Closing modal"),i(!1),h(null),W({title:"",date:"",newImages:[],existingImages:[]}),u(""),A("");const Ae=document.getElementById("images");Ae&&(Ae.value="")},de=Ae=>{const{name:Y,value:se}=Ae.target;console.log(`Form input changed: ${Y} = ${se}`),W(ee=>({...ee,[Y]:se}))},ve=Ae=>{const Y=Array.from(Ae.target.files);console.log("Files selected:",Y.length,Y.map(se=>se.name)),W(se=>({...se,newImages:Y}))},B=Ae=>{console.log("Removing existing image:",Ae),W(Y=>({...Y,existingImages:Y.existingImages.filter(se=>se.path!==Ae)}))},R=async Ae=>{if(Ae.preventDefault(),console.log("=== FORM SUBMISSION ==="),console.log("Form data:",z),console.log("School ID:",v),console.log("Editing album:",m?._id),l(!0),u(""),A(""),!v){u("School ID is missing. Cannot perform this operation."),l(!1);return}if(!z.title.trim()){u("Album title is required and cannot be empty."),l(!1);return}if(z.title.trim().length<3){u("Album title must be at least 3 characters long."),l(!1);return}if(!z.date){u("Event date is required. Please select a date."),l(!1);return}const Y=new Date(z.date),se=new Date;if(se.setHours(23,59,59,999),Y>se){u("Event date cannot be in the future."),l(!1);return}if(!m&&z.newImages.length===0){u("At least one image is required for new albums. Please select images to upload."),l(!1);return}const ee=10*1024*1024,be=["image/jpeg","image/jpg","image/png","image/gif","image/webp"];for(let ce=0;ce<z.newImages.length;ce++){const J=z.newImages[ce];if(J.size>ee){u(`Image "${J.name}" is too large. Maximum file size is 10MB.`),l(!1);return}if(!be.includes(J.type)){u(`Image "${J.name}" has an unsupported format. Please use JPEG, PNG, GIF, or WEBP.`),l(!1);return}}if(z.newImages.length>20){u("Maximum 20 images can be uploaded at once."),l(!1);return}const Ce=new FormData;Ce.append("title",z.title.trim()),Ce.append("date",z.date),Ce.append("schoolId",v),z.newImages.forEach((ce,J)=>{console.log(`Adding image ${J+1}:`,ce.name,ce.size,"bytes"),Ce.append("images",ce)}),m&&(Ce.append("existingImagePaths",JSON.stringify(z.existingImages)),console.log("Existing images to keep:",z.existingImages.length)),console.log("FormData contents:");for(const[ce,J]of Ce.entries())J instanceof File?console.log(`${ce}: File(${J.name}, ${J.size} bytes)`):console.log(`${ce}: ${J}`);try{let ce;const J={timeout:3e4};m?(console.log("Updating album:",m._id),ce=await Vt.put(`${Nb}/albums/${m._id}`,Ce,J)):(console.log("Creating new album"),ce=await Vt.post(`${Nb}/albums`,Ce,J)),console.log("Album submission response:",ce.data),ce.data.success||ce.data.message&&ce.data.message.includes("successfully")?(A(m?"Album updated successfully!":"Album uploaded successfully!"),console.log("Album saved successfully, refreshing list..."),L(1),await X(),setTimeout(()=>{he()},1500)):(console.error("API returned success: false",ce.data),u(ce.data.message||"Failed to save album. Please try again."))}catch(ce){console.error("Error saving album:",ce),ce.code==="ECONNABORTED"?u("Upload timeout. Please try with smaller images or check your internet connection."):ce.response?(console.error("Server error response:",ce.response.data),u(ce.response.data?.message||`Server error: ${ce.response.status}. Please try again.`)):ce.request?u("Network error. Please check your internet connection and try again."):u("An unexpected error occurred while saving the album. Please try again.")}finally{l(!1)}},G=S.useCallback(async Ae=>{if(window.confirm("Are you sure you want to delete this album and all its images? This action cannot be undone.")){if(console.log("Deleting album:",Ae),l(!0),u(""),A(""),!v){u("School ID is missing. Cannot perform this operation."),l(!1);return}try{const Y=await Vt.delete(`${Nb}/albums/${Ae}`,{data:{schoolId:v},timeout:1e4});console.log("Delete response:",Y.data),Y.data.success?(A(Y.data.message||"Album deleted successfully!"),L(1),await X()):u(Y.data.message||"Failed to delete album")}catch(Y){console.error("Error deleting album:",Y),Y.response?u(Y.response.data?.message||`Server error: ${Y.response.status}`):u("Failed to delete album. Please try again.")}finally{l(!1)}}},[X,v]),ne=Ae=>{if(!Ae)return console.log("No image path provided, using placeholder"),"/placeholder.svg?height=192&width=192";if(Ae.startsWith("http"))return console.log("Image path is S3 URL, using proxy:",Ae),`${Ae}`;const Y=`${hme}${Ae}`;return console.log("Constructed image URL:",Y),Y},pe=Ae=>{console.error("Image failed to load:",Ae.target.src)},xe=Ae=>{console.log("Image loaded successfully:",Ae)};return S.useEffect(()=>{if(c){const Ae=setTimeout(()=>u(""),8e3);return()=>clearTimeout(Ae)}},[c]),S.useEffect(()=>{if(d){const Ae=setTimeout(()=>A(""),3e3);return()=>clearTimeout(Ae)}},[d]),n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[j&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl",children:[n.jsxs("div",{className:"text-white p-6 rounded-t-2xl shadow-lg",style:{backgroundColor:y},children:[n.jsx("h2",{className:"text-xl font-bold text-white",children:"Setup School Gallery"}),n.jsx("p",{className:"text-white text-sm mt-1 opacity-90",children:"Enter your school ID to get started"})]}),n.jsxs("form",{onSubmit:ie,className:"p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"setupSchoolId",className:"block text-sm font-medium text-gray-700 mb-2",children:"School ID *"}),n.jsx("input",{type:"text",id:"setupSchoolId",value:E,onChange:Ae=>k(Ae.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent",style:{focusRingColor:y},placeholder:"e.g., 688dfdc93af0f78ebd4b044a",required:!0}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["For demo purposes, you can use:"," ",n.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"demo-school-123"})]})]}),n.jsx("button",{type:"submit",disabled:!E.trim(),className:"w-full py-3 px-6 text-white rounded-xl font-semibold hover:opacity-90 transition-all duration-200 flex items-center justify-center space-x-2 disabled:opacity-50",style:{backgroundColor:y},children:n.jsx("span",{children:"Continue to Gallery"})})]})]})}),n.jsxs("div",{className:Gt("text-white p-6 rounded-b-3xl shadow-lg"),style:{backgroundColor:y},children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(eB,{className:"w-6 h-6",style:{color:"white"}}),n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Student Gallery"})]}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsxs("button",{onClick:le,disabled:o||!v,className:Gt("text-white px-4 py-2 rounded-lg flex items-center space-x-2 font-semibold disabled:opacity-50 hover:bg-white hover:bg-opacity-20 transition-colors"),style:{backgroundColor:`${y}80`},children:[o?n.jsx(Rr,{className:"w-4 h-4 animate-spin",style:{color:"white"}}):n.jsx(bs,{className:"w-4 h-4",style:{color:"white"}}),n.jsx("span",{children:"Add Album"})]})})]}),n.jsx("p",{className:"text-white mt-2",children:"School moments and memories"})]}),c&&n.jsxs("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2 max-w-lg",children:[n.jsx(Da,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"block sm:inline text-sm",children:c}),n.jsx("button",{onClick:()=>u(""),className:"ml-auto text-red-700 hover:text-red-900 flex-shrink-0",children:n.jsx(pr,{className:"w-4 h-4"})})]}),d&&n.jsxs("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-50 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2 max-w-lg",children:[n.jsx(hi,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"block sm:inline text-sm font-medium",children:d})]}),n.jsx("div",{className:"p-6",children:r?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Rr,{className:"w-12 h-12 mx-auto animate-spin mb-4",style:{color:y}}),n.jsx("p",{className:"text-lg font-medium text-gray-700",children:"Loading albums..."}),n.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["School ID: ",v||"Not found"]})]}):e.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(d0,{className:"w-16 h-16 mx-auto mb-4",style:{color:y}}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No albums found"}),n.jsx("p",{className:"text-gray-500 mb-4",children:v?'Click "Add Album" to create your first gallery.':"Please set your school ID to view albums."}),v&&n.jsxs("p",{className:"text-xs text-gray-400",children:["School ID: ",v]})]}):n.jsxs("div",{className:"space-y-8",children:[n.jsx("div",{className:"text-center mb-6",children:n.jsxs("p",{className:"text-sm text-gray-600",children:["Found ",P," album",P!==1?"s":""," for your school (Page ",D," of ",Q,")"]})}),e.map(Ae=>n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-800",children:Ae.title}),n.jsxs("p",{className:"text-sm text-gray-500 flex items-center mt-1",children:[n.jsx(Ia,{className:"w-4 h-4 mr-1",style:{color:y}}),new Date(Ae.date).toLocaleDateString(),n.jsxs("span",{className:"ml-3 text-xs",children:[Ae.images?.length||0," image",(Ae.images?.length||0)!==1?"s":""]})]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>re(Ae),disabled:o||!v,className:"p-2 hover:bg-gray-100 rounded-full disabled:opacity-50 transition-colors",style:{color:y},title:"Edit Album",children:n.jsx(Ql,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>G(Ae._id),disabled:o||!v,className:"p-2 hover:bg-gray-100 rounded-full disabled:opacity-50 transition-colors text-red-500 hover:text-red-700",title:"Delete Album",children:n.jsx(Jn,{className:"w-5 h-5"})})]})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:!Ae.images||Ae.images.length===0?n.jsxs("div",{className:"col-span-full text-center py-8 text-gray-500 bg-gray-50 rounded-xl",children:[n.jsx(d0,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No images in this album"})]}):Ae.images.map((Y,se)=>{const ee=ne(Y.path);return n.jsxs("div",{className:"relative group",children:[n.jsx("img",{src:ee||"/placeholder.svg",alt:`${Ae.title} image ${se+1}`,className:"w-full h-48 object-cover rounded-xl shadow-sm group-hover:shadow-md transition-shadow",onError:pe,onLoad:()=>xe(ee)}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 flex items-center justify-center rounded-xl transition-all duration-200",children:n.jsxs("div",{className:"text-white text-center opacity-0 group-hover:opacity-100 transition-opacity",children:[n.jsx("p",{className:"text-sm font-medium",children:Y.filename}),Y.size&&n.jsxs("p",{className:"text-xs opacity-75",children:[(Y.size/1024/1024).toFixed(1)," MB"]})]})})]},Y.path||se)})})]},Ae._id)),n.jsxs("div",{className:"flex justify-center items-center space-x-4 mt-8",children:[n.jsx("button",{onClick:()=>L(Ae=>Math.max(Ae-1,1)),disabled:D===1||o,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 disabled:opacity-50 transition-colors",children:"Previous"}),n.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",D," of ",Q]}),n.jsx("button",{onClick:()=>L(Ae=>Math.min(Ae+1,Q)),disabled:D===Q||o,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 disabled:opacity-50 transition-colors",children:"Next"})]})]})}),s&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[n.jsxs("div",{className:Gt("text-white p-6 rounded-t-2xl shadow-lg flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:y},children:[n.jsx("h2",{className:"text-xl font-bold text-white",children:m?"Edit Album":"Add New Album"}),n.jsx("button",{onClick:he,className:"flex items-center justify-center w-8 h-8 hover:bg-white hover:bg-opacity-20 rounded-full transition-colors",children:n.jsx(pr,{size:20,style:{color:"white"}})})]}),n.jsxs("form",{onSubmit:R,className:"p-6 space-y-6",children:[c&&n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center space-x-2",children:[n.jsx(Da,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"text-sm",children:c}),n.jsx("button",{type:"button",onClick:()=>u(""),className:"ml-auto text-red-700 hover:text-red-900",children:n.jsx(pr,{className:"w-4 h-4"})})]}),d&&n.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg flex items-center space-x-2",children:[n.jsx(hi,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"text-sm font-medium",children:d})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Album Title *"}),n.jsx("input",{type:"text",id:"title",name:"title",value:z.title,onChange:de,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent",style:{focusRingColor:y},placeholder:"e.g., Annual Sports Day 2023",required:!0,minLength:3,maxLength:100}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[z.title.length,"/100 characters (minimum 3)"]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Date *"}),n.jsx("input",{type:"date",id:"date",name:"date",value:z.date,onChange:de,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent",style:{focusRingColor:y},required:!0})]})]}),m&&z.existingImages.length>0&&n.jsxs("div",{children:[n.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:["Current Images (",z.existingImages.length,")"]}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:z.existingImages.map((Ae,Y)=>{const se=ne(Ae.path);return n.jsxs("div",{className:"relative group",children:[n.jsx("img",{src:se||"/placeholder.svg",alt:`Existing image ${Y+1}`,className:"w-full h-32 object-cover rounded-lg",onError:pe}),n.jsx("button",{type:"button",onClick:()=>B(Ae.path),className:"absolute top-2 right-2 bg-red-500 hover:bg-red-600 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",title:"Remove image",children:n.jsx(pr,{className:"w-3 h-3"})}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white text-xs p-1 rounded-b-lg opacity-0 group-hover:opacity-100 transition-opacity",children:Ae.filename})]},Ae.path||Y)})})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"images",className:"block text-sm font-medium text-gray-700 mb-2",children:[m?"Add More Images":"Upload Images *",!m&&n.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),n.jsx("div",{className:"flex items-center justify-center w-full",children:n.jsxs("label",{htmlFor:"images",className:"flex flex-col items-center justify-center w-full h-40 border-2 border-dashed border-gray-300 rounded-xl cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors",style:{borderColor:z.newImages.length>0?y:void 0},children:[n.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[n.jsx(Mte,{className:"w-10 h-10 mb-3",style:{color:y}}),n.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[n.jsx("span",{className:"font-semibold",children:"Click to upload"})," ","or drag and drop"]}),n.jsx("p",{className:"text-xs text-gray-500",children:"JPEG, PNG, GIF, WEBP (Max 10MB per image, 20 images max)"}),!m&&n.jsx("p",{className:"text-xs text-red-500 mt-1",children:"At least one image is required"})]}),n.jsx("input",{id:"images",type:"file",name:"images",multiple:!0,accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:ve,className:"hidden"})]})}),z.newImages.length>0&&n.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:[n.jsxs("h5",{className:"text-sm font-medium text-blue-800 mb-2",children:["Selected Files (",z.newImages.length,"/20):"]}),n.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:z.newImages.map((Ae,Y)=>n.jsxs("div",{className:"flex justify-between items-center text-xs text-blue-700",children:[n.jsx("span",{className:"truncate",children:Ae.name}),n.jsxs("span",{className:"ml-2 flex-shrink-0",children:[(Ae.size/1024/1024).toFixed(1)," MB"]})]},Y))})]})]}),n.jsxs("div",{className:"flex space-x-4 pt-6 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:he,disabled:o,className:"flex-1 py-3 px-6 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:o||!v,className:Gt("flex-1 py-3 px-6 text-white rounded-xl font-semibold hover:opacity-90 transition-all duration-200 flex items-center justify-center space-x-2 disabled:opacity-50"),style:{backgroundColor:y},children:o?n.jsxs(n.Fragment,{children:[n.jsx(Rr,{className:"w-4 h-4 animate-spin"}),n.jsx("span",{children:m?"Updating...":"Creating..."})]}):n.jsxs(n.Fragment,{children:[n.jsx($l,{className:"w-4 h-4"}),n.jsx("span",{children:m?"Update Album":"Create Album"})]})})]})]})]})})]})},jb="http://localhost:5000/api",mme=()=>{const[e,t]=S.useState("All"),[r,a]=S.useState(""),[s,i]=S.useState({key:null,direction:"asc"}),[o,l]=S.useState("table"),[c,u]=S.useState(!1),[d,A]=S.useState(null),[m,h]=S.useState([]),[y,x]=S.useState(!1),[v,b]=S.useState(""),[j,C]=S.useState(null),[E,k]=S.useState("#2563eb"),[D,L]=S.useState(null),[F,Q]=S.useState({name:"",date:"",category:"National Holiday",description:"",color:"#667eea"}),[U,P]=S.useState({});S.useEffect(()=>{const J=localStorage.getItem("color");J&&k(J);const ge=localStorage.getItem("schoolId");ge?L(ge):b("School ID not found in local storage. Please log in to access holiday data.")},[]);const I=(J,ge="success")=>{A({message:J,type:ge}),setTimeout(()=>A(null),3e3)},z=()=>{Q({name:"",date:"",category:"National Holiday",description:"",color:"#667eea"}),P({}),C(null)},W=J=>{if(!J)return"";const ge=new Date(J),Je={year:"numeric",month:"long",day:"numeric"};return ge.toLocaleDateString("en-US",Je)},ie=J=>J?new Date(J).toISOString().split("T")[0]:"",X=()=>{const J={};if(F.name.trim()||(J.name="Holiday name is required"),!F.date)J.date="Date is required";else{const ge=new Date(F.date),Je=new Date().getFullYear();!j&&ge.getFullYear()<Je&&(J.date="Please select a date from current year onwards for new holidays.")}return F.description.trim()||(J.description="Description is required"),F.name.trim()&&m.some(ge=>ge.name.toLowerCase()===F.name.trim().toLowerCase()&&ge.year===new Date(F.date).getFullYear()&&(!j||ge.id!==j.id))&&(J.name="A holiday with this name already exists for the selected year."),J},le=J=>{const{name:ge,value:Je}=J.target;Q(Ke=>({...Ke,[ge]:Je})),U[ge]&&P(Ke=>({...Ke,[ge]:""}))},re=J=>{const ge=J.type==="National Holiday"?OC:J.type==="Festival"?Rh:DC;return{id:J._id,name:J.name,date:J.date,category:J.type,description:J.description,color:J.color,icon:ge,year:J.year}},he=S.useCallback(async()=>{if(!D){x(!1);return}x(!0),b("");try{const J=await Vt.get(`${jb}/holidays`,{params:{schoolId:D}});J.data&&Array.isArray(J.data.data)?h(J.data.data.map(re)):b("Received unexpected data format from server for holidays.")}catch(J){console.error("Failed to fetch holidays:",J.response?.data||J.message),b(J.response?.data?.error||"Failed to load holidays."),I("Failed to load holidays.","error")}finally{x(!1)}},[D]);S.useEffect(()=>{he()},[he]);const de=async J=>{J.preventDefault();const ge=X();if(Object.keys(ge).length>0){P(ge);return}if(x(!0),b(""),!D){b("School ID is missing. Cannot perform this operation."),x(!1);return}try{const Je={name:F.name.trim(),date:W(F.date),type:F.category,description:F.description.trim(),color:F.color,schoolId:D};let Ke;j?(Ke=await Vt.put(`${jb}/holidays/${j.id}`,Je),I(`${Ke.data.data.name} updated successfully!`)):(Ke=await Vt.post(`${jb}/holidays`,Je),I(`${Ke.data.data.name} added successfully!`)),await he(),u(!1),z()}catch(Je){console.error("Failed to save holiday:",Je.response?.data||Je.message),b(Je.response?.data?.error||"Failed to save holiday. Please try again."),I("Failed to save holiday.","error")}finally{x(!1)}},ve=J=>{C(J),Q({name:J.name,date:ie(J.date),category:J.category,description:J.description,color:J.color}),u(!0)},B=S.useCallback(async(J,ge)=>{if(window.confirm(`Are you sure you want to delete "${ge}"?`)){if(x(!0),b(""),!D){b("School ID is missing. Cannot perform this operation."),x(!1);return}try{await Vt.delete(`${jb}/holidays/${J}`,{data:{schoolId:D}}),I(`${ge} deleted successfully!`),await he()}catch(Je){console.error("Failed to delete holiday:",Je.response?.data||Je.message),b(Je.response?.data?.error||"Failed to delete holiday. Please try again."),I("Failed to delete holiday.","error")}finally{x(!1)}}},[he,D]),R=[{value:"National Holiday",label:"National Holiday",icon:OC},{value:"Festival",label:"Festival",icon:Rh},{value:"Religious Holiday",label:"Religious Holiday",icon:DC}],G=[{value:"#ef4444",label:"Red",class:"bg-red-500"},{value:"#14b8a6",label:"Teal",class:"bg-teal-500"},{value:"#22c55e",label:"Green",class:"bg-green-500"},{value:"#eab308",label:"Yellow",class:"bg-yellow-500"},{value:"#a855f7",label:"Purple",class:"bg-purple-500"},{value:"#f97316",label:"Orange",class:"bg-orange-500"},{value:"#ec4899",label:"Pink",class:"bg-pink-500"}],ne=J=>new Date(J).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),pe=J=>{const ge=new Date;ge.setHours(0,0,0,0);const Je=new Date(J);Je.setHours(0,0,0,0);const Ke=new Date(Je);Ke.getFullYear()<ge.getFullYear()&&Ke.setFullYear(ge.getFullYear()),Ke<ge&&Ke.setFullYear(Ke.getFullYear()+1);const Fe=Ke.getTime()-ge.getTime(),nt=Math.ceil(Fe/(1e3*60*60*24));return nt<0?"Passed":nt===0?"Today":nt===1?"Tomorrow":`${nt} days`},xe=(J,ge)=>Gt("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border",{backgroundColor:`${ge}1A`,color:ge,borderColor:ge}),Ae=J=>{const ge=pe(J);return ge==="Passed"?"bg-gray-100 text-gray-600 border-gray-200":ge==="Today"?"bg-green-100 text-green-800 border-green-200":ge==="Tomorrow"?Gt("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border",{backgroundColor:`${E}20`,color:E,borderColor:E}):Gt("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border",{backgroundColor:`${E}20`,color:E,borderColor:E})},Y=S.useMemo(()=>{let J=m;return e!=="All"&&(J=J.filter(ge=>ge.category===e)),r&&(J=J.filter(ge=>ge.name.toLowerCase().includes(r.toLowerCase())||ge.category.toLowerCase().includes(r.toLowerCase())||ge.description.toLowerCase().includes(r.toLowerCase()))),J},[e,r,m]),se=S.useMemo(()=>s.key?[...Y].sort((J,ge)=>{let Je,Ke;switch(s.key){case"name":Je=J.name,Ke=ge.name;break;case"date":Je=new Date(J.date),Ke=new Date(ge.date);break;case"category":Je=J.category,Ke=ge.category;break;case"daysUntil":const Fe=pe(J.date),nt=pe(ge.date);Fe==="Passed"?Je=-1e3:Fe==="Today"?Je=0:Fe==="Tomorrow"?Je=1:Je=Number.parseInt(Fe),nt==="Passed"?Ke=-1e3:nt==="Today"?Ke=0:nt==="Tomorrow"?Ke=1:Ke=Number.parseInt(nt);break;default:return 0}return Je<Ke?s.direction==="asc"?-1:1:Je>Ke?s.direction==="asc"?1:-1:0}):Y,[Y,s]),ee=J=>{i(ge=>({key:J,direction:ge.key===J&&ge.direction==="asc"?"desc":"asc"}))},be=J=>s.key!==J?null:s.direction==="asc"?n.jsx(c5,{className:"w-4 h-4 inline ml-1",style:{color:E}}):n.jsx(Jp,{className:"w-4 h-4 inline ml-1",style:{color:E}}),Ce=["All","National Holiday","Festival","Religious Holiday"],ce=()=>{const ge=[["Holiday Name","Date","Category","Days Until","Description"].join(","),...se.map(nt=>[`"${nt.name}"`,nt.date,`"${nt.category}"`,`"${pe(nt.date)}"`,`"${nt.description}"`].join(","))].join(`
`),Je=new Blob([ge],{type:"text/csv"}),Ke=window.URL.createObjectURL(Je),Fe=document.createElement("a");Fe.href=Ke,Fe.download="school-holidays.csv",Fe.click(),window.URL.revokeObjectURL(Ke)};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[d&&n.jsx("div",{className:Gt("fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg transition-all duration-300",{"bg-red-500 text-white":d.type==="error","bg-green-500 text-white":d.type==="success"}),children:n.jsxs("div",{className:"flex items-center space-x-2",children:[d.type==="error"?n.jsx(Da,{className:"w-4 h-4"}):n.jsx(hi,{className:"w-4 h-4"}),n.jsx("span",{children:d.message})]})}),v&&n.jsxs("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2",children:[n.jsx(Da,{className:"w-5 h-5"}),n.jsx("span",{className:"block sm:inline",children:v}),n.jsx("button",{onClick:()=>b(""),className:"ml-auto text-red-700 hover:text-red-900",children:n.jsx(pr,{className:"w-4 h-4"})})]}),c&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[n.jsxs("div",{className:Gt("text-white p-6 rounded-t-lg shadow-lg flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:E},children:[n.jsx("h2",{className:"text-xl font-bold text-white",children:j?"Edit Holiday":"Add New Holiday"}),n.jsx("button",{onClick:()=>{u(!1),z()},className:"absolute top-4 right-4 flex items-center justify-center w-8 h-8 hover:bg-gray-100 rounded-full",style:{color:E},children:n.jsx(pr,{size:20})})]}),n.jsxs("form",{onSubmit:de,className:"p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Holiday Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"name",value:F.name,onChange:le,className:Gt("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",{"border-red-500":U.name}),style:{borderColor:U.name?"#ef4444":E,outlineColor:E},placeholder:"Enter holiday name",required:!0}),U.name&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:U.name})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"date",name:"date",value:F.date,onChange:le,min:new Date().getFullYear()+"-01-01",className:Gt("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",{"border-red-500":U.date}),style:{borderColor:U.date?"#ef4444":E,outlineColor:E},required:!0}),U.date&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:U.date})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Category ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("select",{name:"category",value:F.category,onChange:le,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:E,outlineColor:E},required:!0,children:R.map(J=>n.jsx("option",{value:J.value,children:J.label},J.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color Theme"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:G.map(J=>n.jsx("button",{type:"button",onClick:()=>Q(ge=>({...ge,color:J.value})),className:Gt("w-8 h-8 rounded-full border-2 transition-all",J.class,{"border-gray-800 scale-110":F.color===J.value,"border-gray-300 hover:scale-105":F.color!==J.value}),title:J.label},J.value))})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{name:"description",value:F.description,onChange:le,rows:3,className:Gt("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 resize-none",{"border-red-500":U.description}),style:{borderColor:U.description?"#ef4444":E,outlineColor:E},placeholder:"Enter holiday description",required:!0}),U.description&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:U.description})]}),n.jsxs("div",{className:"flex space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>{u(!1),z()},disabled:y,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),n.jsxs("button",{type:"submit",disabled:y||!D,className:Gt("flex-1 text-white py-2 px-4 rounded-lg font-medium flex items-center justify-center space-x-2 disabled:opacity-50"),style:{backgroundColor:E},children:[y?n.jsx(Rr,{className:"w-4 h-4 animate-spin",style:{color:"white"}}):n.jsx(hi,{className:"w-4 h-4",style:{color:"white"}}),n.jsx("span",{children:j?"Save Changes":"Add Holiday"})]})]})]})]})}),n.jsxs("div",{className:Gt("text-white p-6 rounded-b-3xl shadow-lg"),style:{backgroundColor:E},children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Ia,{className:"w-6 h-6",style:{color:"white"}}),n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Holiday Calendar"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("button",{onClick:()=>u(!0),disabled:y||!D,className:"flex items-center space-x-2 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg transition-all font-medium disabled:opacity-50",children:[n.jsx(bs,{className:"w-4 h-4",style:{color:"white"}}),n.jsx("span",{children:"Add Holiday"})]}),n.jsxs("button",{onClick:ce,className:Gt("flex items-center space-x-2 text-white px-4 py-2 rounded-lg transition-all"),style:{backgroundColor:`${E}80`},children:[n.jsx(Ln,{className:"w-4 h-4",style:{color:"white"}}),n.jsx("span",{children:"Export CSV"})]}),n.jsxs("button",{onClick:()=>l(o==="table"?"card":"table"),className:Gt("flex items-center space-x-2 text-white px-4 py-2 rounded-lg transition-all"),style:{backgroundColor:`${E}80`},children:[n.jsx(cs,{className:"w-4 h-4",style:{color:"white"}}),n.jsx("span",{children:o==="table"?"Card View":"Table View"})]})]})]}),n.jsx("p",{className:"text-white mt-2",children:"Professional holiday management system"})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 text-center",children:[n.jsx("div",{className:"text-2xl font-bold",style:{color:E},children:m.length}),n.jsx("div",{className:"text-sm text-gray-600",children:"Total Holidays"})]}),n.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:m.filter(J=>J.category==="National Holiday").length}),n.jsx("div",{className:"text-sm text-gray-600",children:"National Holidays"})]}),n.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-orange-600",children:m.filter(J=>J.category==="Festival").length}),n.jsx("div",{className:"text-sm text-gray-600",children:"Festivals"})]}),n.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 text-center",children:[n.jsx("div",{className:"text-2xl font-bold",style:{color:E},children:m.filter(J=>pe(J.date)!=="Passed").length}),n.jsx("div",{className:"text-sm text-gray-600",children:"Upcoming"})]})]}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[n.jsxs("div",{className:"relative",children:[n.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4",style:{color:E}}),n.jsx("input",{type:"text",placeholder:"Search holidays...",value:r,onChange:J=>a(J.target.value),className:"pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:E,outlineColor:E}})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Hl,{className:"w-4 h-4",style:{color:E}}),n.jsx("div",{className:"flex flex-wrap gap-2",children:Ce.map(J=>n.jsx("button",{onClick:()=>t(J),className:Gt("px-3 py-1.5 rounded-lg text-sm font-medium transition-all",{"text-white shadow-md":e===J,"bg-gray-100 text-gray-600 hover:bg-gray-200":e!==J}),style:{backgroundColor:e===J?E:void 0},children:J},J))})]})]})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:n.jsxs("tr",{children:[n.jsxs("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>ee("name"),children:["Holiday Name ",be("name")]}),n.jsxs("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>ee("date"),children:["Date ",be("date")]}),n.jsxs("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>ee("category"),children:["Category ",be("category")]}),n.jsxs("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>ee("daysUntil"),children:["Status ",be("daysUntil")]}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Description"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y?n.jsx("tr",{children:n.jsxs("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-500",children:[n.jsx(Rr,{className:"w-8 h-8 mx-auto animate-spin mb-4",style:{color:E}}),n.jsx("p",{className:"text-lg font-medium",children:"Loading holidays..."})]})}):se.length===0?n.jsx("tr",{children:n.jsxs("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-500",children:[n.jsx(Ia,{className:"w-12 h-12 mx-auto mb-4",style:{color:E}}),n.jsx("p",{className:"text-lg font-medium",children:"No holidays found"}),n.jsx("p",{className:"text-sm",children:"Try adjusting your search or filter criteria"})]})}):se.map(J=>{const ge=J.icon;return n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(ge,{className:"w-5 h-5",style:{color:J.color}}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:J.name})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"text-sm text-gray-900",children:ne(J.date)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:xe(J.category,J.color),children:J.category})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:Ae(J.date),children:pe(J.date)})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:"text-sm text-gray-600",children:J.description})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>ve(J),disabled:y||!D,className:"p-1 hover:bg-gray-100 rounded transition-colors disabled:opacity-50",style:{color:E},title:"Edit Holiday",children:n.jsx(mc,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>B(J.id,J.name),disabled:y||!D,className:"p-1 hover:bg-gray-100 rounded transition-colors disabled:opacity-50",style:{color:E},title:"Delete Holiday",children:n.jsx(Jn,{className:"w-4 h-4"})})]})})]},J.id)})})]})}),se.length>0&&n.jsx("div",{className:"bg-gray-50 px-6 py-3 border-t border-gray-200",children:n.jsxs("div",{className:"text-sm text-gray-700",children:["Showing"," ",n.jsx("span",{className:"font-medium",children:se.length})," of"," ",n.jsx("span",{className:"font-medium",children:m.length})," holidays"]})})]})]})]})},ay="http://localhost:5000/api",pme="http://localhost:5000",Sb=(e,t)=>{e=e.replace("#","");const r=parseInt(e,16),a=r>>16&255,s=r>>8&255,i=r&255,o=1-t;return`#${((1<<24)+(Math.round(a*o)<<16)+(Math.round(s*o)<<8)+Math.round(i*o)).toString(16).slice(1).padStart(6,"0")}`},gme=()=>{const[e,t]=S.useState({}),[r,a]=S.useState(!1),[s,i]=S.useState(!1),[o,l]=S.useState(!1),[c,u]=S.useState(null),[d,A]=S.useState([]),[m,h]=S.useState(!0),[y,x]=S.useState(""),[v,b]=S.useState(null),[j,C]=S.useState("Cash on Delivery"),[E,k]=S.useState(!1),[D,L]=S.useState(null),[F,Q]=S.useState(null),[U,P]=S.useState(""),[I,z]=S.useState(!1),[W,ie]=S.useState(""),[X,le]=S.useState("name"),[re,he]=S.useState(""),[de,ve]=S.useState(""),[B,R]=S.useState(1),[G,ne]=S.useState(1),[pe,xe]=S.useState(0),[Ae]=S.useState(10),[Y,se]=S.useState({name:"",description:"",price:"",selectedClassName:"",selectedSection:"",stock:0}),ee=localStorage.getItem("color")||"#2563eb",be=localStorage.getItem("schoolId")||null,Ce=Xn(tt=>tt.classes.classes?.data||[]),ce=Xn(tt=>tt.classes.loading),J=Xn(tt=>tt.classes.error),ge=S.useMemo(()=>Ce.map(tt=>({_id:tt._id,className:tt.className||`Class ${tt.classNumber||tt._id}`,section:tt.section||"",displayName:`${tt.className||`Class ${tt.classNumber||tt._id}`}${tt.section?` ${tt.section}`:""}`.trim()})),[Ce]),Je=S.useMemo(()=>[...new Set(ge.map(tt=>tt.className))].sort(),[ge]),Ke=S.useMemo(()=>[...new Set(ge.filter(tt=>tt.className===re).map(tt=>tt.section).filter(Boolean))].sort(),[ge,re]),Fe=tt=>`${tt.toLocaleString()}`,nt=S.useCallback((tt,Ft="success")=>{L({message:tt,type:Ft}),setTimeout(()=>L(null),3e3)},[]);S.useEffect(()=>{J&&(x("Failed to load classes: "+J),nt("Failed to load classes: "+J,"error"))},[J,nt]);const Se=S.useCallback(async()=>{try{if(!be){x("School ID is missing. Please log in again."),h(!1);return}h(!0),x("");const tt={schoolId:be,page:B,limit:Ae};W&&(tt.search=W),X&&(tt.sort=X),re&&(tt.className=re),de&&(tt.section=de);const Ft=await Vt.get(`${ay}/uniform/items`,{params:tt});Ft.data&&Ft.data.success?(A(Ft.data.data||[]),xe(Ft.data.total||0),ne(Ft.data.totalPages||1),R(Ft.data.page||1),x("")):(x("Received unexpected data format from server."),A([]),xe(0),ne(1))}catch(tt){console.error("Failed to fetch uniform items:",tt.response?.data||tt.message);const Ft=tt.response?.data?.error||"Failed to load uniform items.";x(Ft),nt(Ft,"error"),A([])}finally{h(!1)}},[be,B,Ae,W,X,re,de,nt]);S.useEffect(()=>{be?Se():(x("School ID is missing. Please log in again."),h(!1))},[Se,be]);const Me=S.useCallback(tt=>{t(Ft=>({...Ft,[tt]:(Ft[tt]||0)+1}))},[]),at=S.useCallback(tt=>{t(Ft=>{const _t={...Ft};return _t[tt]>1?_t[tt]--:delete _t[tt],_t})},[]),ke=S.useCallback(()=>Object.values(e).reduce((tt,Ft)=>tt+Ft,0),[e]),Ve=S.useCallback(()=>Object.entries(e).reduce((tt,[Ft,_t])=>{const Dt=d.find(Wt=>Wt._id===Ft);return tt+(Dt?Dt.price*_t:0)},0),[e,d]),ze=S.useCallback(tt=>tt>30?{text:"In Stock",color:"bg-green-100 text-green-800"}:tt>10?{text:"Low Stock",color:"bg-yellow-100 text-yellow-800"}:{text:"Out of Stock",color:"bg-red-100 text-red-800"},[]),rt=S.useCallback(tt=>{const{name:Ft,value:_t}=tt.target;se(Dt=>({...Dt,[Ft]:_t})),Ft==="selectedClassName"&&se(Dt=>({...Dt,selectedSection:""}))},[]),Ge=S.useCallback(tt=>{const Ft=tt.target.files?.[0];if(Ft){if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(Ft.type)){x("Please select a valid image file (JPEG, PNG, GIF, WebP)");return}if(Ft.size>5*1024*1024){x("Image file size must be less than 5MB");return}Q(Ft);const Dt=new FileReader;Dt.onloadend=()=>{P(Dt.result)},Dt.readAsDataURL(Ft),x("")}},[]),bt=S.useCallback(()=>{se({name:"",description:"",price:"",selectedClassName:"",selectedSection:"",stock:0}),Q(null),P(""),b(null),a(!1),x("")},[]),Le=S.useCallback(async tt=>{if(tt.preventDefault(),z(!0),x(""),!Y){x("Form data is not initialized. Please refresh the page."),z(!1);return}if(!be){x("School ID is missing. Please log in again."),z(!1);return}if(!Y.name||!Y.description||!Y.price||!Y.selectedClassName){x("Please fill in all required fields (including class)."),z(!1);return}if(!v&&!F){x("Please select an image file."),z(!1);return}const Ft=Number.parseFloat(Y.price);if(isNaN(Ft)||Ft<0){x("Price must be a valid non-negative number."),z(!1);return}const _t=Number.parseInt(Y.stock)||0;if(_t<0){x("Stock must be a non-negative number."),z(!1);return}const Dt=ge.find(cr=>cr.className===Y.selectedClassName&&(!Y.selectedSection||cr.section===Y.selectedSection));if(!Dt){x("Invalid class or section selection."),z(!1);return}const Wt=new FormData;Wt.append("name",Y.name.trim()),Wt.append("description",Y.description.trim()),Wt.append("price",Ft.toString()),Wt.append("classId",Dt._id),Wt.append("stock",_t.toString()),Wt.append("schoolId",be),F&&Wt.append("image",F);try{v?(await Vt.put(`${ay}/uniform/items/${v._id}`,Wt,{headers:{"Content-Type":"multipart/form-data"}}),nt("Uniform item updated successfully!")):(await Vt.post(`${ay}/uniform/items`,Wt,{headers:{"Content-Type":"multipart/form-data"}}),nt("Uniform item added successfully!")),await Se(),bt()}catch(cr){console.error("Error saving uniform item:",cr.response?.data||cr.message);const Dr=cr.response?.data?.error||"Failed to save uniform item. Please try again.";x(Dr),nt(Dr,"error")}finally{z(!1)}},[Y,v,F,nt,Se,bt,be,ge]),je=S.useCallback(tt=>{b(tt),se({name:tt.name,description:tt.description,price:tt.price.toString(),selectedClassName:tt.classId?.className||"",selectedSection:tt.classId?.section||"",stock:tt.stock||0}),tt.imageUrl?P(`${tt.imageUrl}`):P("/placeholder.svg?height=100&width=100"),Q(null),a(!0)},[]),Ze=S.useCallback(async(tt,Ft)=>{if(!be){x("School ID is missing. Please log in again.");return}if(window.confirm(`Are you sure you want to delete "${Ft}"?`)){z(!0);try{await Vt.delete(`${ay}/uniform/items/${tt}`,{data:{schoolId:be}}),nt("Uniform item deleted successfully!"),await Se()}catch(_t){console.error("Error deleting uniform item:",_t.response?.data||_t.message);const Dt=_t.response?.data?.error||"Failed to delete uniform item.";x(Dt),nt(Dt,"error")}finally{z(!1)}}},[nt,Se,be]),Te=S.useCallback(tt=>{u(tt),l(!0)},[]),pt=S.useCallback(async()=>{if(k(!0),x(""),!be){x("School ID is missing. Please log in again."),k(!1);return}const tt=Object.entries(e).map(([_t,Dt])=>({uniformItemId:_t,quantity:Dt}));if(tt.length===0){x("Your cart is empty. Please add items before placing an order."),k(!1);return}const Ft="60d5ec49f8e9a20015f8e9a2";try{const _t={user:Ft,items:tt,paymentMethod:j,schoolId:be};await Vt.post(`${ay}/uniform/orders`,_t),nt("Order placed successfully!","success"),t({}),i(!1)}catch(_t){console.error("Error placing order:",_t.response?.data||_t.message);const Dt=_t.response?.data?.error||"Failed to place order. Please try again.";x(Dt),nt(Dt,"error")}finally{k(!1)}},[e,j,nt,be]),At=S.useCallback(tt=>tt?tt.startsWith("http")?tt:`${pme}${tt}`:"/placeholder.svg?height=100&width=100",[]),qe=S.useCallback(tt=>{if(!tt)return"Unknown Class";const Ft=ge.find(_t=>_t._id===(tt._id||tt));return Ft?Ft.className:"Unknown Class"},[ge]),Pe=S.useCallback(tt=>{if(!tt)return"N/A";const Ft=ge.find(_t=>_t._id===(tt._id||tt));return Ft&&Ft.section?Ft.section:"N/A"},[ge]),mt=()=>{B>1&&R(tt=>tt-1)},Qe=()=>{B<G&&R(tt=>tt+1)},st=tt=>{R(tt)};return be?n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[D&&n.jsx("div",{className:Gt("fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg transition-all duration-300",{"bg-red-500 text-white":D.type==="error","bg-green-500 text-white":D.type==="success"}),children:n.jsxs("div",{className:"flex items-center space-x-2",children:[D.type==="error"?n.jsx(Da,{className:"w-5 h-5"}):n.jsx(hi,{className:"w-5 h-5"}),n.jsx("span",{children:D.message})]})}),n.jsx("div",{className:Gt("text-white p-6 rounded-b-3xl shadow-lg"),style:{backgroundColor:ee},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(yd,{className:"w-8 h-8",style:{color:"white"}}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-white",children:"School Uniforms"}),n.jsx("p",{className:"text-sm text-white opacity-90",children:"Manage school uniform inventory and orders"}),n.jsxs("div",{className:"text-xs text-white opacity-75 mt-1",children:["School ID: ",be," | ",pe," items available"]})]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[ke()>0&&n.jsxs("div",{className:"bg-white bg-opacity-20 px-4 py-2 rounded-full text-sm flex items-center space-x-2",children:[n.jsx(J_,{className:"w-5 h-5",style:{color:"white"}}),n.jsxs("span",{children:[ke()," item(s)"]})]}),n.jsxs("button",{onClick:()=>a(!0),disabled:I||!be||ce||ge.length===0,className:Gt("text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",{"opacity-50":I||!be||ce||ge.length===0}),style:{backgroundColor:ee,":hover":{backgroundColor:Sb(ee,.1)}},children:[I||ce?n.jsx(Rr,{className:"w-5 h-5 animate-spin",style:{color:"white"}}):n.jsx(bs,{className:"w-5 h-5",style:{color:"white"}}),n.jsx("span",{children:"Add Item"})]})]})]})}),n.jsx("div",{className:"p-6 bg-white rounded-2xl shadow-sm mt-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search uniform items...",value:W,onChange:tt=>ie(tt.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:bg-white transition-all",style:{outlineColor:ee}})]}),n.jsxs("select",{value:X,onChange:tt=>le(tt.target.value),className:"px-4 py-3 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all",style:{outlineColor:ee},children:[n.jsx("option",{value:"name",children:"Sort by Name"}),n.jsx("option",{value:"price-low",children:"Price: Low to High"}),n.jsx("option",{value:"price-high",children:"Price: High to Low"}),n.jsx("option",{value:"newest",children:"Newest First"})]}),n.jsxs("select",{value:re,onChange:tt=>{he(tt.target.value),ve("")},className:"px-4 py-3 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all",style:{outlineColor:ee},disabled:ce,children:[n.jsx("option",{value:"",children:"All Classes"}),Je.map(tt=>n.jsx("option",{value:tt,children:tt},tt))]}),n.jsxs("select",{value:de,onChange:tt=>ve(tt.target.value),className:"px-4 py-3 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all",style:{outlineColor:ee},disabled:ce||re===""||Ke.length===0,children:[n.jsx("option",{value:"",children:"All Sections"}),Ke.map(tt=>n.jsx("option",{value:tt,children:tt},tt))]})]})}),y&&n.jsx("div",{className:"mx-4 mt-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Da,{className:"w-5 h-5"}),n.jsx("span",{children:y}),n.jsx("button",{onClick:()=>x(""),className:"ml-auto text-red-500 hover:text-red-700",children:n.jsx(pr,{className:"w-5 h-5"})})]})}),n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto min-h-[300px] flex flex-col",children:m?n.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center py-12 text-center text-gray-500",children:[n.jsx(Rr,{className:"w-12 h-12 mx-auto animate-spin mb-4",style:{color:ee}}),n.jsx("p",{className:"text-lg font-medium",children:"Loading uniform items..."})]}):d.length===0?n.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center py-12 text-center text-gray-500",children:[n.jsx(yd,{className:"w-12 h-12 mx-auto mb-4",style:{color:ee}}),n.jsx("p",{className:"text-lg font-medium",children:"No uniform items found"}),n.jsx("p",{className:"text-sm",children:"Try adjusting your search or class filter, or add new items"}),n.jsxs("div",{className:"text-xs mt-2",children:["School ID: ",be]})]}):n.jsxs("table",{className:"w-full table-auto",children:[n.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(tt=>{const Ft=ze(tt.stock||0),_t=e[tt._id]||0;return n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("img",{src:At(tt.imageUrl),alt:tt.name,className:"w-12 h-12 rounded-lg object-cover border border-gray-200"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:tt.name}),n.jsx("div",{className:"text-sm text-gray-500 line-clamp-2",children:tt.description})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:qe(tt.classId)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:Pe(tt.classId)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-bold text-gray-900",children:Fe(tt.price)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"space-y-1",children:[n.jsx("span",{className:Gt("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",Ft.color),children:Ft.text}),n.jsxs("div",{className:"text-xs text-gray-500",children:[tt.stock||0," units"]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>at(tt._id),disabled:I||_t===0,className:"p-1 hover:bg-gray-100 rounded disabled:opacity-50 transition-colors",style:{color:ee},children:n.jsx(Lte,{className:"w-4 h-4"})}),n.jsx("span",{className:"text-sm font-medium",children:_t}),n.jsx("button",{onClick:()=>Me(tt._id),disabled:I||tt.stock<=_t,className:"p-1 hover:bg-gray-100 rounded disabled:opacity-50 transition-colors",style:{color:ee},children:n.jsx(bs,{className:"w-4 h-4"})})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>Te(tt),className:"p-1 hover:bg-gray-100 rounded transition-colors",style:{color:ee},title:"View Details",children:n.jsx(cs,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>je(tt),disabled:I,className:"p-1 hover:bg-gray-100 rounded disabled:opacity-50 transition-colors",style:{color:ee},title:"Edit",children:n.jsx(mc,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>Ze(tt._id,tt.name),disabled:I,className:"text-red-600 hover:text-red-900 p-1 hover:bg-red-50 rounded disabled:opacity-50 transition-colors",title:"Delete",children:n.jsx(Jn,{className:"w-4 h-4"})})]})})]},tt._id)})})]})}),!m&&d.length>0&&n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center px-6 py-4 border-t border-gray-200",children:[n.jsxs("div",{className:"text-sm text-gray-600 mb-2 sm:mb-0",children:["Page ",B," of ",G," (Total Items: ",pe,")"]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:mt,disabled:B===1,className:"px-3 py-1 rounded-lg border border-gray-300 disabled:opacity-50 hover:bg-gray-100 transition-colors",children:n.jsx(Do,{className:"w-5 h-5"})}),[...Array(G)].map((tt,Ft)=>{const _t=Ft+1;return n.jsx("button",{onClick:()=>st(_t),className:Gt("px-3 py-1 rounded-lg border border-gray-300",{"bg-blue-500 text-white":B===_t,"hover:bg-gray-100":B!==_t}),children:_t},_t)}),n.jsx("button",{onClick:Qe,disabled:B===G,className:"px-3 py-1 rounded-lg border border-gray-300 disabled:opacity-50 hover:bg-gray-100 transition-colors",children:n.jsx(ro,{className:"w-5 h-5"})})]})]}),ke()>0&&n.jsxs("div",{className:"p-4 bg-gray-50 border-t border-gray-200 flex justify-between items-center",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:[ke()," item(s) in cart | Total:"," ",Fe(Ve())]}),n.jsxs("button",{onClick:()=>i(!0),disabled:I,className:Gt("text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",{"opacity-50":I}),style:{backgroundColor:ee,":hover":{backgroundColor:Sb(ee,.1)}},children:[n.jsx(J_,{className:"w-5 h-5",style:{color:"white"}}),n.jsx("span",{children:"Checkout"})]})]})]})}),o&&c&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:Gt("text-white p-6 rounded-t-lg shadow-lg flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:ee},children:[n.jsx("h2",{className:"text-xl font-bold text-white",children:c.name}),n.jsx("button",{onClick:()=>l(!1),className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-1",children:n.jsx(pr,{size:20})})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsx("img",{src:At(c.imageUrl),alt:c.name,className:"w-full h-64 object-cover rounded-lg border border-gray-200"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Description"}),n.jsx("p",{className:"text-sm text-gray-600",children:c.description})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Class"}),n.jsx("p",{className:"text-sm text-gray-600",children:qe(c.classId)})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Section"}),n.jsx("p",{className:"text-sm text-gray-600",children:Pe(c.classId)})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Price"}),n.jsx("p",{className:"text-sm text-gray-600",children:Fe(c.price)})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Stock"}),n.jsxs("p",{className:"text-sm text-gray-600",children:[c.stock," units"]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Status"}),n.jsx("span",{className:Gt("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",ze(c.stock).color),children:ze(c.stock).text})]})]}),n.jsx("button",{onClick:()=>l(!1),className:"w-full px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"})]})]})}),s&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:Gt("text-white p-6 rounded-t-lg shadow-lg flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:ee},children:[n.jsx("h2",{className:"text-xl font-bold text-white",children:"Confirm Order"}),n.jsx("button",{onClick:()=>i(!1),className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-1",children:n.jsx(pr,{size:20})})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[y&&n.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg",children:[n.jsx("div",{className:"font-medium",children:"Error:"}),n.jsx("div",{className:"text-sm",children:y})]}),n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Order Summary"}),n.jsx("ul",{className:"space-y-2",children:Object.entries(e).map(([tt,Ft])=>{const _t=d.find(Dt=>Dt._id===tt);return _t&&n.jsxs("li",{className:"flex justify-between text-sm text-gray-600",children:[n.jsxs("span",{className:"line-clamp-1",children:[_t.name," x ",Ft]}),n.jsx("span",{children:Fe(_t.price*Ft)})]},tt)})}),n.jsxs("div",{className:"flex justify-between font-bold text-lg text-gray-900 border-t pt-4",children:[n.jsx("span",{children:"Total:"}),n.jsx("span",{children:Fe(Ve())})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method"}),n.jsxs("select",{value:j,onChange:tt=>C(tt.target.value),className:"w-full px-3 py-2 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all",style:{outlineColor:ee},children:[n.jsx("option",{value:"Cash on Delivery",children:"Cash on Delivery"}),n.jsx("option",{value:"Credit Card",children:"Credit Card"}),n.jsx("option",{value:"Debit Card",children:"Debit Card"}),n.jsx("option",{value:"UPI",children:"UPI"}),n.jsx("option",{value:"Net Banking",children:"Net Banking"})]})]}),n.jsxs("div",{className:"flex space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>i(!1),disabled:E,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),n.jsxs("button",{type:"button",onClick:pt,disabled:E||ke()===0,className:Gt("flex-1 px-4 py-2 text-white rounded-lg flex items-center justify-center space-x-2",{"opacity-50":E||ke()===0}),style:{backgroundColor:ee,":hover":{backgroundColor:Sb(ee,.1)}},children:[E?n.jsx(Rr,{className:"w-5 h-5 animate-spin",style:{color:"white"}}):n.jsx(hi,{className:"w-5 h-5",style:{color:"white"}}),n.jsx("span",{children:"Place Order"})]})]})]})]})}),r&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:Gt("text-white p-6 rounded-t-lg shadow-lg flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:ee},children:[n.jsx("h2",{className:"text-xl font-bold text-white",children:v?"Edit Item":"Add New Item"}),n.jsx("button",{onClick:bt,className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-1",children:n.jsx(pr,{size:20})})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[y&&n.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg",children:[n.jsx("div",{className:"font-medium",children:"Error:"}),n.jsx("div",{className:"text-sm",children:y})]}),ce&&n.jsxs("div",{className:"text-center py-4",children:[n.jsx(Rr,{className:"w-6 h-6 mx-auto animate-spin mb-2",style:{color:ee}}),n.jsx("p",{className:"text-sm text-gray-600",children:"Loading classes..."})]}),!ce&&n.jsxs("form",{onSubmit:Le,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Item Name *"}),n.jsx("input",{type:"text",name:"name",value:Y.name,onChange:rt,required:!0,className:"w-full px-4 py-2 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all",style:{outlineColor:ee},placeholder:"e.g., School Shirt"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Class *"}),n.jsxs("select",{name:"selectedClassName",value:Y.selectedClassName,onChange:rt,required:!0,disabled:ce,className:"w-full px-4 py-2 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all disabled:opacity-50",style:{outlineColor:ee},children:[n.jsx("option",{value:"",children:"Select Class"}),Je.map(tt=>n.jsx("option",{value:tt,children:tt},tt))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Section"}),n.jsxs("select",{name:"selectedSection",value:Y.selectedSection,onChange:rt,disabled:ce||Y.selectedClassName===""||Ke.length===0,className:"w-full px-4 py-2 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all disabled:opacity-50",style:{outlineColor:ee},children:[n.jsx("option",{value:"",children:"Select Section (Optional)"}),Ke.filter(tt=>tt).map(tt=>n.jsx("option",{value:tt,children:tt},tt))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),n.jsx("textarea",{name:"description",value:Y.description,onChange:rt,required:!0,rows:4,className:"w-full px-4 py-2 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all",style:{outlineColor:ee},placeholder:"Brief description of the item"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price () *"}),n.jsx("input",{type:"number",name:"price",value:Y.price,onChange:rt,required:!0,min:"0",step:"0.01",className:"w-full px-4 py-2 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all",style:{outlineColor:ee},placeholder:"450"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock Quantity"}),n.jsx("input",{type:"number",name:"stock",value:Y.stock,onChange:rt,min:"0",className:"w-full px-4 py-2 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all",style:{outlineColor:ee},placeholder:"50"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Item Image *"," ",v&&"(Leave empty to keep current image)"]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("input",{type:"file",accept:"image/*",onChange:Ge,className:"w-full px-4 py-2 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all",style:{outlineColor:ee}}),U&&n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("img",{src:U,alt:"Preview",className:"w-32 h-32 object-cover rounded-lg border border-gray-200"})}),n.jsx("p",{className:"text-xs text-gray-500",children:"Upload an image file for the uniform item (Max: 5MB, Formats: JPEG, PNG, GIF, WebP)"})]})]}),n.jsxs("div",{className:"flex space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:bt,disabled:I,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),n.jsxs("button",{type:"submit",disabled:I||!be||ce||ge.length===0,className:Gt("flex-1 px-4 py-2 text-white rounded-lg flex items-center justify-center space-x-2",{"opacity-50":I||!be||ce||ge.length===0}),style:{backgroundColor:ee,":hover":{backgroundColor:Sb(ee,.1)}},children:[I?n.jsx(Rr,{className:"w-5 h-5 animate-spin",style:{color:"white"}}):n.jsx($l,{className:"w-5 h-5",style:{color:"white"}}),n.jsx("span",{children:v?"Update Item":"Add Item"})]})]})]})]})]})})]})}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Da,{className:"w-12 h-12 mx-auto text-red-500 mb-4"}),n.jsx("div",{className:"text-xl font-semibold text-gray-800 mb-2",children:"School ID Not Found"}),n.jsx("div",{className:"text-gray-600 mb-4",children:"Please log in again to access the uniform system."}),n.jsx("button",{onClick:()=>window.location.href="/login",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Go to Login"})]})})},Cb="http://localhost:5000/api",xme="http://localhost:5000",rP=(e,t)=>{e=e.replace("#","");const r=Number.parseInt(e,16),a=r>>16&255,s=r>>8&255,i=r&255,o=1-t;return`#${((1<<24)+(Math.round(a*o)<<16)+(Math.round(s*o)<<8)+Math.round(i*o)).toString(16).slice(1).padStart(6,"0")}`},yme=()=>{const[e,t]=S.useState(""),[r,a]=S.useState(""),[s,i]=S.useState(""),[o,l]=S.useState("title"),[c,u]=S.useState(!1),[d,A]=S.useState(!1),[m,h]=S.useState(null),[y,x]=S.useState([]),[v,b]=S.useState(!1),[j,C]=S.useState(""),[E,k]=S.useState(null),[D,L]=S.useState(null),[F,Q]=S.useState(null),[U,P]=S.useState(""),[I,z]=S.useState(null),[W,ie]=S.useState(1),[X,le]=S.useState(1),[re,he]=S.useState(0),[de]=S.useState(10),[ve,B]=S.useState({title:"",author:"",description:"",price:"",stock:"",classId:""}),R=localStorage.getItem("color")||"#2563eb",G=Xn(ke=>ke.classes.classes?.data||[]),ne=Xn(ke=>ke.classes.loading),pe=Xn(ke=>ke.classes.error),xe=S.useMemo(()=>G.map(ke=>({_id:ke._id,className:ke.className||`Class ${ke.classNumber||ke._id}`,section:ke.section||"",displayName:`${ke.className||`Class ${ke.classNumber||ke._id}`}${ke.section?` ${ke.section}`:""}`.trim()})),[G]),Ae=S.useMemo(()=>[...new Set(xe.map(ke=>ke.className))].sort(),[xe]),Y=S.useMemo(()=>[...new Set(xe.filter(ke=>ke.className===e).map(ke=>ke.section).filter(Boolean))].sort(),[xe,e]),se=S.useMemo(()=>{let ke=[...y];if(e&&(ke=ke.filter(Ve=>Ve.classId?Ve.classId.className===e:!1)),r&&(ke=ke.filter(Ve=>Ve.classId?Ve.classId.section===r:!1)),s.trim()){const Ve=s.toLowerCase().trim();ke=ke.filter(ze=>ze.title?.toLowerCase().includes(Ve)||ze.author?.toLowerCase().includes(Ve)||ze.description?.toLowerCase().includes(Ve))}switch(o){case"title":ke.sort((Ve,ze)=>Ve.title.localeCompare(ze.title));break;case"price-low":ke.sort((Ve,ze)=>parseFloat(Ve.price)-parseFloat(ze.price));break;case"price-high":ke.sort((Ve,ze)=>parseFloat(ze.price)-parseFloat(Ve.price));break;case"newest":ke.sort((Ve,ze)=>new Date(ze.createdAt)-new Date(Ve.createdAt));break}return ke},[y,e,r,s,o]);S.useEffect(()=>{if(typeof window<"u"){const ke=localStorage.getItem("schoolId");console.log("Retrieved schoolId from localStorage:",ke),z(ke),ke||C("School ID is missing. Please set your school ID.")}},[]),S.useEffect(()=>{pe&&(C("Failed to load classes: "+pe),ee("Failed to load classes: "+pe,"error"))},[pe]);const ee=(ke,Ve="success")=>{L({message:ke,type:Ve}),setTimeout(()=>L(null),3e3)},be=ke=>`${ke.toLocaleString()}`,Ce=async()=>{if(!I){C("School ID is required to fetch books."),b(!1);return}b(!0),C("");try{console.log("Fetching books for school:",I);const ke={schoolId:I,page:W,limit:de};s&&(ke.search=s),e&&(ke.className=e),r&&(ke.section=r),o&&(ke.sort=o);const Ve=await Vt.get(`${Cb}/books`,{params:ke});console.log("Books API response:",Ve.data),Ve.data.success?(x(Ve.data.data||[]),he(Ve.data.totalBooks||0),le(Ve.data.totalPages||1),ie(Ve.data.currentPage||1),console.log(`Loaded ${Ve.data.data.length} books`)):(x([]),he(0),le(1),C("Received unexpected data format from server."),ee("Received unexpected data format from server.","error"))}catch(ke){console.error("Failed to fetch books:",ke.response?.data||ke.message);const Ve=ke.response?.data?.message||"Failed to load books.";C(Ve),ee(Ve,"error")}finally{b(!1)}};S.useEffect(()=>{I&&Ce()},[I,e,r,s,o,W]);const ce=ke=>{const{name:Ve,value:ze}=ke.target;if(B(rt=>({...rt,[Ve]:ze})),Ve==="classId"){const rt=xe.find(Ge=>Ge._id===ze);B(Ge=>({...Ge,classId:ze,className:rt?rt.className:"",section:rt?rt.section:""}))}},J=ke=>{const Ve=ke.target.files?.[0];if(Ve){if(!["image/jpeg","image/jpg","image/png","image/gif"].includes(Ve.type)){C("Please select a valid image file (JPEG, PNG, or GIF)");return}if(Ve.size>5*1024*1024){C("Image file size must be less than 5MB");return}Q(Ve);const rt=new FileReader;rt.onloadend=()=>{P(rt.result)},rt.readAsDataURL(Ve),C("")}},ge=()=>{B({title:"",author:"",description:"",price:"",stock:"",classId:""}),Q(null),P(""),k(null),u(!1),C("")},Je=async ke=>{if(ke.preventDefault(),b(!0),C(""),console.log("Form submission started"),console.log("Form data:",ve),console.log("School ID:",I),console.log("Image file:",F),!ve.title||!ve.author||!ve.description||!ve.price||!ve.stock||!ve.classId||!I){C("All fields including Class selection and School ID are required."),b(!1);return}const Ve=Number.parseFloat(ve.price);if(isNaN(Ve)||Ve<0){C("Price must be a valid non-negative number."),b(!1);return}const ze=Number.parseInt(ve.stock);if(isNaN(ze)||ze<0){C("Stock must be a valid non-negative integer."),b(!1);return}if(!E&&!F){C("Please select an image file."),b(!1);return}const rt=new FormData;rt.append("title",ve.title.trim()),rt.append("author",ve.author.trim()),rt.append("description",ve.description.trim()),rt.append("price",Ve.toString()),rt.append("stock",ze.toString()),rt.append("classId",ve.classId),rt.append("schoolId",I),F&&rt.append("image",F);try{console.log("Sending request...");let Ge;E?(console.log("Updating book:",E._id),Ge=await Vt.put(`${Cb}/books/${E._id}`,rt,{headers:{"Content-Type":"multipart/form-data"}}),ee("Book updated successfully!")):(console.log("Creating new book"),Ge=await Vt.post(`${Cb}/books`,rt,{headers:{"Content-Type":"multipart/form-data"}}),ee("Book added successfully!")),console.log("API response:",Ge.data),await Ce(),ge()}catch(Ge){console.error("Error saving book:",Ge.response?.data||Ge.message);const bt=Ge.response?.data?.message||"Failed to save book. Please try again.";C(bt),ee(bt,"error")}finally{b(!1)}},Ke=ke=>{console.log("Editing book:",ke),k(ke),B({title:ke.title,author:ke.author,description:ke.description,price:ke.price.toString(),stock:ke.stock.toString(),classId:ke.classId?._id||""}),ke.image&&P(`${xme}${ke.image}`),u(!0)},Fe=async(ke,Ve)=>{if(!I){C("School ID is required to delete a book."),ee("School ID is required to delete a book.","error");return}if(window.confirm(`Are you sure you want to delete "${Ve}"?`)){b(!0),C("");try{console.log("Deleting book:",ke);const ze=await Vt.delete(`${Cb}/books/${ke}`,{data:{schoolId:I}});console.log("Delete response:",ze.data),ee("Book deleted successfully!"),await Ce()}catch(ze){console.error("Error deleting book:",ze.response?.data||ze.message);const rt=ze.response?.data?.message||"Failed to delete book.";C(rt),ee(rt,"error")}finally{b(!1)}}},nt=ke=>{h(ke),A(!0)},Se=()=>{W>1&&ie(ke=>ke-1)},Me=()=>{W<X&&ie(ke=>ke+1)},at=ke=>{ie(ke)};return n.jsx("div",{className:"min-h-screen bg-gray-100",children:n.jsxs("div",{className:"max-w-5xl mx-auto",children:[D&&n.jsx("div",{className:Gt("fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg transition-all duration-300",{"bg-red-500 text-white":D.type==="error","bg-green-500 text-white":D.type==="success"}),children:n.jsxs("div",{className:"flex items-center space-x-2",children:[D.type==="error"?n.jsx(Da,{className:"w-4 h-4"}):n.jsx(hi,{className:"w-4 h-4"}),n.jsx("span",{children:D.message})]})}),n.jsx("div",{className:Gt("text-white p-4 sticky top-0 z-10"),style:{backgroundColor:R},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(Xp,{className:"w-6 h-6 cursor-pointer",style:{color:"white"}}),n.jsx("h1",{className:"text-xl font-semibold text-white",children:"School Books"})]}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsxs("button",{onClick:()=>u(!0),disabled:v||!I||ne,className:Gt("text-white p-3 rounded-xl transition-colors flex items-center space-x-2",{"opacity-50":v||!I||ne}),style:{backgroundColor:R,":hover":{backgroundColor:rP(R,.1)}},children:[v||ne?n.jsx(Rr,{className:"w-5 h-5 animate-spin",style:{color:"white"}}):n.jsx(bs,{className:"w-5 h-5",style:{color:"white"}}),n.jsx("span",{children:"Add Book"})]})})]})}),n.jsx("div",{className:"p-4 bg-white",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search books, authors...",value:s,onChange:ke=>i(ke.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:bg-white transition-all",style:{outlineColor:R}})]}),n.jsxs("select",{value:o,onChange:ke=>l(ke.target.value),className:"px-4 py-3 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all",style:{outlineColor:R},children:[n.jsx("option",{value:"title",children:"Sort by Title"}),n.jsx("option",{value:"price-low",children:"Price: Low to High"}),n.jsx("option",{value:"price-high",children:"Price: High to Low"}),n.jsx("option",{value:"newest",children:"Newest First"})]}),n.jsxs("select",{value:e,onChange:ke=>{t(ke.target.value),a("")},className:"px-4 py-3 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all",style:{outlineColor:R},disabled:ne,children:[n.jsx("option",{value:"",children:"All Classes"}),Ae.map(ke=>n.jsx("option",{value:ke,children:ke},ke))]}),n.jsxs("select",{value:r,onChange:ke=>a(ke.target.value),className:"px-4 py-3 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all",style:{outlineColor:R},disabled:ne||e===""||Y.length===0,children:[n.jsx("option",{value:"",children:"All Sections"}),Y.map(ke=>n.jsx("option",{value:ke,children:ke},ke))]})]})}),j&&n.jsx("div",{className:"mx-4 mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Da,{className:"w-4 h-4 mr-2"}),n.jsx("span",{children:j}),n.jsx("button",{onClick:()=>C(""),className:"ml-auto text-red-500 hover:text-red-700",children:n.jsx(pr,{className:"w-4 h-4"})})]})}),n.jsx("div",{className:"px-4 pb-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full table-auto",children:[n.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Image"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Author"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:se.map(ke=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsx("img",{src:`${ke.image}`,alt:ke.title,className:"w-12 h-12 object-cover rounded"})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:ke.title})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"text-sm text-gray-500",children:ke.author})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:ke.classId?`${ke.classId.className} ${ke.classId.section||""}`:"N/A"})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"text-sm text-gray-900",children:be(ke.price)})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"text-sm text-gray-500",children:ke.stock})}),n.jsx("td",{className:"px-6 py-4 text-sm font-medium",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>nt(ke),className:"p-1 hover:bg-gray-100 rounded transition-colors",style:{color:R},title:"View Details",children:n.jsx(cs,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>Ke(ke),disabled:v||!I,className:"p-1 hover:bg-gray-100 rounded transition-colors disabled:opacity-50",style:{color:R},title:"Edit",children:n.jsx(mc,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>Fe(ke._id,ke.title),disabled:v||!I,className:"p-1 hover:bg-gray-100 rounded transition-colors disabled:opacity-50",style:{color:R},title:"Delete",children:n.jsx(Jn,{className:"w-4 h-4"})})]})})]},ke._id))})]})}),v&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Rr,{className:"w-8 h-8 mx-auto animate-spin mb-4",style:{color:R}}),n.jsx("p",{className:"text-lg font-medium",children:"Loading books..."})]}),!v&&se.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No books found"}),n.jsx("p",{className:"text-gray-500",children:I?"Try adjusting your search or class filter, or add your first book":"Please set your school ID to view books"})]}),!v&&y.length>0&&n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center px-6 py-4 border-t border-gray-200",children:[n.jsxs("div",{className:"text-sm text-gray-600 mb-2 sm:mb-0",children:["Showing ",se.length," of ",re," books",(e||r||s)&&n.jsx("span",{className:"ml-2 text-blue-600",children:"(filtered)"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:Se,disabled:W===1,className:"px-3 py-1 rounded-lg border border-gray-300 disabled:opacity-50 hover:bg-gray-100",children:n.jsx(Do,{})}),[...Array(X)].map((ke,Ve)=>{const ze=Ve+1;return n.jsx("button",{onClick:()=>at(ze),className:`px-3 py-1 rounded-lg border border-gray-300 ${W===ze?"bg-blue-500 text-white":"hover:bg-gray-100"}`,children:ze},ze)}),n.jsx("button",{onClick:Me,disabled:W===X,className:"px-3 py-1 rounded-lg border border-gray-300 disabled:opacity-50 hover:bg-gray-100",children:n.jsx(ro,{})})]})]})]})}),c&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:Gt("text-white p-6 rounded-t-lg shadow-lg flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:R},children:[n.jsx("h3",{className:"text-lg font-semibold text-white",children:E?"Edit Book":"Add New Book"}),n.jsx("button",{onClick:ge,className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-1",children:n.jsx(pr,{size:20})})]}),n.jsxs("div",{className:"p-6",children:[j&&n.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:[n.jsx("div",{className:"font-medium",children:"Error:"}),n.jsx("div",{className:"text-sm",children:j})]}),n.jsxs("form",{onSubmit:Je,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Book Title *"}),n.jsx("input",{type:"text",name:"title",value:ve.title,onChange:ce,required:!0,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:R,outlineColor:R},placeholder:"e.g., Mathematics Class 10"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Author *"}),n.jsx("input",{type:"text",name:"author",value:ve.author,onChange:ce,required:!0,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:R,outlineColor:R},placeholder:"e.g., NCERT"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),n.jsx("textarea",{name:"description",value:ve.description,onChange:ce,required:!0,rows:2,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:R,outlineColor:R},placeholder:"Brief description of the book"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Class *"}),n.jsxs("select",{name:"classId",value:ve.classId,onChange:ce,required:!0,disabled:ne,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50",style:{borderColor:R,outlineColor:R},children:[n.jsx("option",{value:"",children:"Select a class"}),xe.map(ke=>n.jsx("option",{value:ke._id,children:ke.displayName},ke._id))]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price () *"}),n.jsx("input",{type:"number",name:"price",value:ve.price,onChange:ce,required:!0,min:"0",step:"0.01",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:R,outlineColor:R},placeholder:"250"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock Quantity *"}),n.jsx("input",{type:"number",name:"stock",value:ve.stock,onChange:ce,required:!0,min:"0",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:R,outlineColor:R},placeholder:"10"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Book Image *"," ",E&&"(Leave empty to keep current image)"]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("input",{type:"file",accept:"image/*",onChange:J,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:R,outlineColor:R}}),U&&n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("img",{src:U||"/placeholder.svg",alt:"Preview",className:"w-20 h-20 object-cover rounded-lg border"})}),n.jsx("p",{className:"text-xs text-gray-500",children:"Upload an image file for the book cover (Max: 5MB, Formats: JPEG, PNG, GIF)"})]})]}),n.jsxs("div",{className:"flex space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:ge,disabled:v,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),n.jsxs("button",{type:"submit",disabled:v||!I||ne,className:Gt("flex-1 px-4 py-2 text-white rounded-lg flex items-center justify-center space-x-2",{"opacity-50":v||!I||ne}),style:{backgroundColor:R,":hover":{backgroundColor:rP(R,.1)}},children:[v?n.jsx(Rr,{className:"w-4 h-4 animate-spin",style:{color:"white"}}):n.jsx(hi,{className:"w-4 h-4",style:{color:"white"}}),n.jsx("span",{children:E?"Update Book":"Add Book"})]})]})]})]})]})}),d&&m&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:Gt("text-white p-6 rounded-t-lg shadow-lg flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:R},children:[n.jsx("h3",{className:"text-lg font-semibold text-white",children:"Book Details"}),n.jsx("button",{onClick:()=>A(!1),className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-1",children:n.jsx(pr,{size:20})})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx("div",{className:"flex justify-center",children:n.jsx("img",{src:`${m.image}`,alt:m.title,className:"w-32 h-32 object-cover rounded-lg border",onError:ke=>{ke.target.src="/placeholder.svg"}})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Title"}),n.jsx("p",{className:"text-base font-semibold text-gray-900",children:m.title})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Author"}),n.jsx("p",{className:"text-base text-gray-600",children:m.author})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Class"}),n.jsx("p",{className:"text-base text-gray-600",children:m.classId?`${m.classId.className} ${m.classId.section||""}`:"N/A"})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Description"}),n.jsx("p",{className:"text-base text-gray-600",children:m.description})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Price"}),n.jsx("p",{className:"text-base font-semibold text-gray-900",children:be(m.price)})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Stock"}),n.jsx("p",{className:"text-base text-gray-600",children:m.stock})]})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{onClick:()=>A(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"})})]})]})})]})})};var eS={exports:{}};function vme(e){if(Array.isArray(e))return e}function bme(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function aP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=Array(t);r<t;r++)a[r]=e[r];return a}function wme(e,t){if(e){if(typeof e=="string")return aP(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?aP(e,t):void 0}}function Nme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nP(e,t){return vme(e)||bme(e,t)||wme(e,t)||Nme()}function sP(e,t="utf8"){return new TextDecoder(t).decode(e)}const jme=new TextEncoder;function Sme(e){return jme.encode(e)}const Cme=1024*8,Eme=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),tS={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class DB{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=Cme,r={}){let a=!1;typeof t=="number"?t=new ArrayBuffer(t):(a=!0,this.lastWrittenByte=t.byteLength);const s=r.offset?r.offset>>>0:0,i=t.byteLength-s;let o=s;(ArrayBuffer.isView(t)||t instanceof DB)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+s),t=t.buffer),a?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const a=(this.offset+t)*2,s=new Uint8Array(a);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=a,this.byteLength=a,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const a=tS[r].BYTES_PER_ELEMENT*t,s=this.byteOffset+this.offset,i=this.buffer.slice(s,s+a);if(this.littleEndian===Eme&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(s,s+a));l.reverse();const c=new tS[r](l.buffer);return this.offset+=a,c.reverse(),c}const o=new tS[r](i);return this.offset+=a,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let a=0;a<t;a++)r+=this.readChar();return r}readUtf8(t=1){return sP(this.readBytes(t))}decodeText(t=1,r="utf8"){return sP(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(Sme(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Yx(e){let t=e.length;for(;--t>=0;)e[t]=0}const Bme=3,Tme=258,i$=29,Fme=256,_me=Fme+1+i$,o$=30,kme=512,Ime=new Array((_me+2)*2);Yx(Ime);const Pme=new Array(o$*2);Yx(Pme);const Lme=new Array(kme);Yx(Lme);const Ome=new Array(Tme-Bme+1);Yx(Ome);const Dme=new Array(i$);Yx(Dme);const Mme=new Array(o$);Yx(Mme);const Ume=(e,t,r,a)=>{let s=e&65535|0,i=e>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do s=s+t[a++]|0,i=i+s|0;while(--o);s%=65521,i%=65521}return s|i<<16|0};var h6=Ume;const Rme=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var a=0;a<8;a++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},Qme=new Uint32Array(Rme()),Hme=(e,t,r,a)=>{const s=Qme,i=a+r;e^=-1;for(let o=a;o<i;o++)e=e>>>8^s[(e^t[o])&255];return e^-1};var Ph=Hme,A6={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},l$={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const $me=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var zme=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const a in r)$me(r,a)&&(e[a]=r[a])}}return e},Vme=e=>{let t=0;for(let a=0,s=e.length;a<s;a++)t+=e[a].length;const r=new Uint8Array(t);for(let a=0,s=0,i=e.length;a<i;a++){let o=e[a];r.set(o,s),s+=o.length}return r},c$={assign:zme,flattenChunks:Vme};let d$=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{d$=!1}const uv=new Uint8Array(256);for(let e=0;e<256;e++)uv[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;uv[254]=uv[254]=1;var qme=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,a,s,i,o=e.length,l=0;for(s=0;s<o;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<o&&(a=e.charCodeAt(s+1),(a&64512)===56320&&(r=65536+(r-55296<<10)+(a-56320),s++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),i=0,s=0;i<l;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<o&&(a=e.charCodeAt(s+1),(a&64512)===56320&&(r=65536+(r-55296<<10)+(a-56320),s++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const Kme=(e,t)=>{if(t<65534&&e.subarray&&d$)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let a=0;a<t;a++)r+=String.fromCharCode(e[a]);return r};var Gme=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let a,s;const i=new Array(r*2);for(s=0,a=0;a<r;){let o=e[a++];if(o<128){i[s++]=o;continue}let l=uv[o];if(l>4){i[s++]=65533,a+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&a<r;)o=o<<6|e[a++]&63,l--;if(l>1){i[s++]=65533;continue}o<65536?i[s++]=o:(o-=65536,i[s++]=55296|o>>10&1023,i[s++]=56320|o&1023)}return Kme(i,s)},Wme=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+uv[e[r]]>t?r:t},m6={string2buf:qme,buf2string:Gme,utf8border:Wme};function Yme(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Xme=Yme;const Eb=16209,Jme=16191;var Zme=function(t,r){let a,s,i,o,l,c,u,d,A,m,h,y,x,v,b,j,C,E,k,D,L,F,Q,U;const P=t.state;a=t.next_in,Q=t.input,s=a+(t.avail_in-5),i=t.next_out,U=t.output,o=i-(r-t.avail_out),l=i+(t.avail_out-257),c=P.dmax,u=P.wsize,d=P.whave,A=P.wnext,m=P.window,h=P.hold,y=P.bits,x=P.lencode,v=P.distcode,b=(1<<P.lenbits)-1,j=(1<<P.distbits)-1;e:do{y<15&&(h+=Q[a++]<<y,y+=8,h+=Q[a++]<<y,y+=8),C=x[h&b];t:for(;;){if(E=C>>>24,h>>>=E,y-=E,E=C>>>16&255,E===0)U[i++]=C&65535;else if(E&16){k=C&65535,E&=15,E&&(y<E&&(h+=Q[a++]<<y,y+=8),k+=h&(1<<E)-1,h>>>=E,y-=E),y<15&&(h+=Q[a++]<<y,y+=8,h+=Q[a++]<<y,y+=8),C=v[h&j];r:for(;;){if(E=C>>>24,h>>>=E,y-=E,E=C>>>16&255,E&16){if(D=C&65535,E&=15,y<E&&(h+=Q[a++]<<y,y+=8,y<E&&(h+=Q[a++]<<y,y+=8)),D+=h&(1<<E)-1,D>c){t.msg="invalid distance too far back",P.mode=Eb;break e}if(h>>>=E,y-=E,E=i-o,D>E){if(E=D-E,E>d&&P.sane){t.msg="invalid distance too far back",P.mode=Eb;break e}if(L=0,F=m,A===0){if(L+=u-E,E<k){k-=E;do U[i++]=m[L++];while(--E);L=i-D,F=U}}else if(A<E){if(L+=u+A-E,E-=A,E<k){k-=E;do U[i++]=m[L++];while(--E);if(L=0,A<k){E=A,k-=E;do U[i++]=m[L++];while(--E);L=i-D,F=U}}}else if(L+=A-E,E<k){k-=E;do U[i++]=m[L++];while(--E);L=i-D,F=U}for(;k>2;)U[i++]=F[L++],U[i++]=F[L++],U[i++]=F[L++],k-=3;k&&(U[i++]=F[L++],k>1&&(U[i++]=F[L++]))}else{L=i-D;do U[i++]=U[L++],U[i++]=U[L++],U[i++]=U[L++],k-=3;while(k>2);k&&(U[i++]=U[L++],k>1&&(U[i++]=U[L++]))}}else if((E&64)===0){C=v[(C&65535)+(h&(1<<E)-1)];continue r}else{t.msg="invalid distance code",P.mode=Eb;break e}break}}else if((E&64)===0){C=x[(C&65535)+(h&(1<<E)-1)];continue t}else if(E&32){P.mode=Jme;break e}else{t.msg="invalid literal/length code",P.mode=Eb;break e}break}}while(a<s&&i<l);k=y>>3,a-=k,y-=k<<3,h&=(1<<y)-1,t.next_in=a,t.next_out=i,t.avail_in=a<s?5+(s-a):5-(a-s),t.avail_out=i<l?257+(l-i):257-(i-l),P.hold=h,P.bits=y};const Mg=15,iP=852,oP=592,lP=0,rS=1,cP=2,e0e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),t0e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),r0e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),a0e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),n0e=(e,t,r,a,s,i,o,l)=>{const c=l.bits;let u=0,d=0,A=0,m=0,h=0,y=0,x=0,v=0,b=0,j=0,C,E,k,D,L,F=null,Q;const U=new Uint16Array(Mg+1),P=new Uint16Array(Mg+1);let I=null,z,W,ie;for(u=0;u<=Mg;u++)U[u]=0;for(d=0;d<a;d++)U[t[r+d]]++;for(h=c,m=Mg;m>=1&&U[m]===0;m--);if(h>m&&(h=m),m===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,l.bits=1,0;for(A=1;A<m&&U[A]===0;A++);for(h<A&&(h=A),v=1,u=1;u<=Mg;u++)if(v<<=1,v-=U[u],v<0)return-1;if(v>0&&(e===lP||m!==1))return-1;for(P[1]=0,u=1;u<Mg;u++)P[u+1]=P[u]+U[u];for(d=0;d<a;d++)t[r+d]!==0&&(o[P[t[r+d]]++]=d);if(e===lP?(F=I=o,Q=20):e===rS?(F=e0e,I=t0e,Q=257):(F=r0e,I=a0e,Q=0),j=0,d=0,u=A,L=i,y=h,x=0,k=-1,b=1<<h,D=b-1,e===rS&&b>iP||e===cP&&b>oP)return 1;for(;;){z=u-x,o[d]+1<Q?(W=0,ie=o[d]):o[d]>=Q?(W=I[o[d]-Q],ie=F[o[d]-Q]):(W=96,ie=0),C=1<<u-x,E=1<<y,A=E;do E-=C,s[L+(j>>x)+E]=z<<24|W<<16|ie|0;while(E!==0);for(C=1<<u-1;j&C;)C>>=1;if(C!==0?(j&=C-1,j+=C):j=0,d++,--U[u]===0){if(u===m)break;u=t[r+o[d]]}if(u>h&&(j&D)!==k){for(x===0&&(x=h),L+=A,y=u-x,v=1<<y;y+x<m&&(v-=U[y+x],!(v<=0));)y++,v<<=1;if(b+=1<<y,e===rS&&b>iP||e===cP&&b>oP)return 1;k=j&D,s[k]=h<<24|y<<16|L-i|0}}return j!==0&&(s[L+j]=u-x<<24|64<<16|0),l.bits=h,0};var ky=n0e;const s0e=0,u$=1,f$=2,{Z_FINISH:dP,Z_BLOCK:i0e,Z_TREES:Bb,Z_OK:Vp,Z_STREAM_END:o0e,Z_NEED_DICT:l0e,Z_STREAM_ERROR:uf,Z_DATA_ERROR:h$,Z_MEM_ERROR:A$,Z_BUF_ERROR:c0e,Z_DEFLATED:uP}=l$,k5=16180,fP=16181,hP=16182,AP=16183,mP=16184,pP=16185,gP=16186,xP=16187,yP=16188,vP=16189,l4=16190,FA=16191,aS=16192,bP=16193,nS=16194,wP=16195,NP=16196,jP=16197,SP=16198,Tb=16199,Fb=16200,CP=16201,EP=16202,BP=16203,TP=16204,FP=16205,sS=16206,_P=16207,kP=16208,Ui=16209,m$=16210,p$=16211,d0e=852,u0e=592,f0e=15,h0e=f0e,IP=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function A0e(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const sg=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<k5||t.mode>p$?1:0},g$=e=>{if(sg(e))return uf;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=k5,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(d0e),t.distcode=t.distdyn=new Int32Array(u0e),t.sane=1,t.back=-1,Vp},x$=e=>{if(sg(e))return uf;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,g$(e)},y$=(e,t)=>{let r;if(sg(e))return uf;const a=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?uf:(a.window!==null&&a.wbits!==t&&(a.window=null),a.wrap=r,a.wbits=t,x$(e))},v$=(e,t)=>{if(!e)return uf;const r=new A0e;e.state=r,r.strm=e,r.window=null,r.mode=k5;const a=y$(e,t);return a!==Vp&&(e.state=null),a},m0e=e=>v$(e,h0e);let PP=!0,iS,oS;const p0e=e=>{if(PP){iS=new Int32Array(512),oS=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(ky(u$,e.lens,0,288,iS,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;ky(f$,e.lens,0,32,oS,0,e.work,{bits:5}),PP=!1}e.lencode=iS,e.lenbits=9,e.distcode=oS,e.distbits=5},b$=(e,t,r,a)=>{let s;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),a>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>a&&(s=a),i.window.set(t.subarray(r-a,r-a+s),i.wnext),a-=s,a?(i.window.set(t.subarray(r-a,r),0),i.wnext=a,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},g0e=(e,t)=>{let r,a,s,i,o,l,c,u,d,A,m,h,y,x,v=0,b,j,C,E,k,D,L,F;const Q=new Uint8Array(4);let U,P;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(sg(e)||!e.output||!e.input&&e.avail_in!==0)return uf;r=e.state,r.mode===FA&&(r.mode=aS),o=e.next_out,s=e.output,c=e.avail_out,i=e.next_in,a=e.input,l=e.avail_in,u=r.hold,d=r.bits,A=l,m=c,F=Vp;e:for(;;)switch(r.mode){case k5:if(r.wrap===0){r.mode=aS;break}for(;d<16;){if(l===0)break e;l--,u+=a[i++]<<d,d+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,Q[0]=u&255,Q[1]=u>>>8&255,r.check=Ph(r.check,Q,2,0),u=0,d=0,r.mode=fP;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=Ui;break}if((u&15)!==uP){e.msg="unknown compression method",r.mode=Ui;break}if(u>>>=4,d-=4,L=(u&15)+8,r.wbits===0&&(r.wbits=L),L>15||L>r.wbits){e.msg="invalid window size",r.mode=Ui;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=u&512?vP:FA,u=0,d=0;break;case fP:for(;d<16;){if(l===0)break e;l--,u+=a[i++]<<d,d+=8}if(r.flags=u,(r.flags&255)!==uP){e.msg="unknown compression method",r.mode=Ui;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=Ui;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(Q[0]=u&255,Q[1]=u>>>8&255,r.check=Ph(r.check,Q,2,0)),u=0,d=0,r.mode=hP;case hP:for(;d<32;){if(l===0)break e;l--,u+=a[i++]<<d,d+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(Q[0]=u&255,Q[1]=u>>>8&255,Q[2]=u>>>16&255,Q[3]=u>>>24&255,r.check=Ph(r.check,Q,4,0)),u=0,d=0,r.mode=AP;case AP:for(;d<16;){if(l===0)break e;l--,u+=a[i++]<<d,d+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(Q[0]=u&255,Q[1]=u>>>8&255,r.check=Ph(r.check,Q,2,0)),u=0,d=0,r.mode=mP;case mP:if(r.flags&1024){for(;d<16;){if(l===0)break e;l--,u+=a[i++]<<d,d+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(Q[0]=u&255,Q[1]=u>>>8&255,r.check=Ph(r.check,Q,2,0)),u=0,d=0}else r.head&&(r.head.extra=null);r.mode=pP;case pP:if(r.flags&1024&&(h=r.length,h>l&&(h=l),h&&(r.head&&(L=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(a.subarray(i,i+h),L)),r.flags&512&&r.wrap&4&&(r.check=Ph(r.check,a,h,i)),l-=h,i+=h,r.length-=h),r.length))break e;r.length=0,r.mode=gP;case gP:if(r.flags&2048){if(l===0)break e;h=0;do L=a[i+h++],r.head&&L&&r.length<65536&&(r.head.name+=String.fromCharCode(L));while(L&&h<l);if(r.flags&512&&r.wrap&4&&(r.check=Ph(r.check,a,h,i)),l-=h,i+=h,L)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=xP;case xP:if(r.flags&4096){if(l===0)break e;h=0;do L=a[i+h++],r.head&&L&&r.length<65536&&(r.head.comment+=String.fromCharCode(L));while(L&&h<l);if(r.flags&512&&r.wrap&4&&(r.check=Ph(r.check,a,h,i)),l-=h,i+=h,L)break e}else r.head&&(r.head.comment=null);r.mode=yP;case yP:if(r.flags&512){for(;d<16;){if(l===0)break e;l--,u+=a[i++]<<d,d+=8}if(r.wrap&4&&u!==(r.check&65535)){e.msg="header crc mismatch",r.mode=Ui;break}u=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=FA;break;case vP:for(;d<32;){if(l===0)break e;l--,u+=a[i++]<<d,d+=8}e.adler=r.check=IP(u),u=0,d=0,r.mode=l4;case l4:if(r.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=u,r.bits=d,l0e;e.adler=r.check=1,r.mode=FA;case FA:if(t===i0e||t===Bb)break e;case aS:if(r.last){u>>>=d&7,d-=d&7,r.mode=sS;break}for(;d<3;){if(l===0)break e;l--,u+=a[i++]<<d,d+=8}switch(r.last=u&1,u>>>=1,d-=1,u&3){case 0:r.mode=bP;break;case 1:if(p0e(r),r.mode=Tb,t===Bb){u>>>=2,d-=2;break e}break;case 2:r.mode=NP;break;case 3:e.msg="invalid block type",r.mode=Ui}u>>>=2,d-=2;break;case bP:for(u>>>=d&7,d-=d&7;d<32;){if(l===0)break e;l--,u+=a[i++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Ui;break}if(r.length=u&65535,u=0,d=0,r.mode=nS,t===Bb)break e;case nS:r.mode=wP;case wP:if(h=r.length,h){if(h>l&&(h=l),h>c&&(h=c),h===0)break e;s.set(a.subarray(i,i+h),o),l-=h,i+=h,c-=h,o+=h,r.length-=h;break}r.mode=FA;break;case NP:for(;d<14;){if(l===0)break e;l--,u+=a[i++]<<d,d+=8}if(r.nlen=(u&31)+257,u>>>=5,d-=5,r.ndist=(u&31)+1,u>>>=5,d-=5,r.ncode=(u&15)+4,u>>>=4,d-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Ui;break}r.have=0,r.mode=jP;case jP:for(;r.have<r.ncode;){for(;d<3;){if(l===0)break e;l--,u+=a[i++]<<d,d+=8}r.lens[I[r.have++]]=u&7,u>>>=3,d-=3}for(;r.have<19;)r.lens[I[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,U={bits:r.lenbits},F=ky(s0e,r.lens,0,19,r.lencode,0,r.work,U),r.lenbits=U.bits,F){e.msg="invalid code lengths set",r.mode=Ui;break}r.have=0,r.mode=SP;case SP:for(;r.have<r.nlen+r.ndist;){for(;v=r.lencode[u&(1<<r.lenbits)-1],b=v>>>24,j=v>>>16&255,C=v&65535,!(b<=d);){if(l===0)break e;l--,u+=a[i++]<<d,d+=8}if(C<16)u>>>=b,d-=b,r.lens[r.have++]=C;else{if(C===16){for(P=b+2;d<P;){if(l===0)break e;l--,u+=a[i++]<<d,d+=8}if(u>>>=b,d-=b,r.have===0){e.msg="invalid bit length repeat",r.mode=Ui;break}L=r.lens[r.have-1],h=3+(u&3),u>>>=2,d-=2}else if(C===17){for(P=b+3;d<P;){if(l===0)break e;l--,u+=a[i++]<<d,d+=8}u>>>=b,d-=b,L=0,h=3+(u&7),u>>>=3,d-=3}else{for(P=b+7;d<P;){if(l===0)break e;l--,u+=a[i++]<<d,d+=8}u>>>=b,d-=b,L=0,h=11+(u&127),u>>>=7,d-=7}if(r.have+h>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Ui;break}for(;h--;)r.lens[r.have++]=L}}if(r.mode===Ui)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=Ui;break}if(r.lenbits=9,U={bits:r.lenbits},F=ky(u$,r.lens,0,r.nlen,r.lencode,0,r.work,U),r.lenbits=U.bits,F){e.msg="invalid literal/lengths set",r.mode=Ui;break}if(r.distbits=6,r.distcode=r.distdyn,U={bits:r.distbits},F=ky(f$,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,U),r.distbits=U.bits,F){e.msg="invalid distances set",r.mode=Ui;break}if(r.mode=Tb,t===Bb)break e;case Tb:r.mode=Fb;case Fb:if(l>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=u,r.bits=d,Zme(e,m),o=e.next_out,s=e.output,c=e.avail_out,i=e.next_in,a=e.input,l=e.avail_in,u=r.hold,d=r.bits,r.mode===FA&&(r.back=-1);break}for(r.back=0;v=r.lencode[u&(1<<r.lenbits)-1],b=v>>>24,j=v>>>16&255,C=v&65535,!(b<=d);){if(l===0)break e;l--,u+=a[i++]<<d,d+=8}if(j&&(j&240)===0){for(E=b,k=j,D=C;v=r.lencode[D+((u&(1<<E+k)-1)>>E)],b=v>>>24,j=v>>>16&255,C=v&65535,!(E+b<=d);){if(l===0)break e;l--,u+=a[i++]<<d,d+=8}u>>>=E,d-=E,r.back+=E}if(u>>>=b,d-=b,r.back+=b,r.length=C,j===0){r.mode=FP;break}if(j&32){r.back=-1,r.mode=FA;break}if(j&64){e.msg="invalid literal/length code",r.mode=Ui;break}r.extra=j&15,r.mode=CP;case CP:if(r.extra){for(P=r.extra;d<P;){if(l===0)break e;l--,u+=a[i++]<<d,d+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=EP;case EP:for(;v=r.distcode[u&(1<<r.distbits)-1],b=v>>>24,j=v>>>16&255,C=v&65535,!(b<=d);){if(l===0)break e;l--,u+=a[i++]<<d,d+=8}if((j&240)===0){for(E=b,k=j,D=C;v=r.distcode[D+((u&(1<<E+k)-1)>>E)],b=v>>>24,j=v>>>16&255,C=v&65535,!(E+b<=d);){if(l===0)break e;l--,u+=a[i++]<<d,d+=8}u>>>=E,d-=E,r.back+=E}if(u>>>=b,d-=b,r.back+=b,j&64){e.msg="invalid distance code",r.mode=Ui;break}r.offset=C,r.extra=j&15,r.mode=BP;case BP:if(r.extra){for(P=r.extra;d<P;){if(l===0)break e;l--,u+=a[i++]<<d,d+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Ui;break}r.mode=TP;case TP:if(c===0)break e;if(h=m-c,r.offset>h){if(h=r.offset-h,h>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Ui;break}h>r.wnext?(h-=r.wnext,y=r.wsize-h):y=r.wnext-h,h>r.length&&(h=r.length),x=r.window}else x=s,y=o-r.offset,h=r.length;h>c&&(h=c),c-=h,r.length-=h;do s[o++]=x[y++];while(--h);r.length===0&&(r.mode=Fb);break;case FP:if(c===0)break e;s[o++]=r.length,c--,r.mode=Fb;break;case sS:if(r.wrap){for(;d<32;){if(l===0)break e;l--,u|=a[i++]<<d,d+=8}if(m-=c,e.total_out+=m,r.total+=m,r.wrap&4&&m&&(e.adler=r.check=r.flags?Ph(r.check,s,m,o-m):h6(r.check,s,m,o-m)),m=c,r.wrap&4&&(r.flags?u:IP(u))!==r.check){e.msg="incorrect data check",r.mode=Ui;break}u=0,d=0}r.mode=_P;case _P:if(r.wrap&&r.flags){for(;d<32;){if(l===0)break e;l--,u+=a[i++]<<d,d+=8}if(r.wrap&4&&u!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=Ui;break}u=0,d=0}r.mode=kP;case kP:F=o0e;break e;case Ui:F=h$;break e;case m$:return A$;case p$:default:return uf}return e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=u,r.bits=d,(r.wsize||m!==e.avail_out&&r.mode<Ui&&(r.mode<sS||t!==dP))&&b$(e,e.output,e.next_out,m-e.avail_out),A-=e.avail_in,m-=e.avail_out,e.total_in+=A,e.total_out+=m,r.total+=m,r.wrap&4&&m&&(e.adler=r.check=r.flags?Ph(r.check,s,m,e.next_out-m):h6(r.check,s,m,e.next_out-m)),e.data_type=r.bits+(r.last?64:0)+(r.mode===FA?128:0)+(r.mode===Tb||r.mode===nS?256:0),(A===0&&m===0||t===dP)&&F===Vp&&(F=c0e),F},x0e=e=>{if(sg(e))return uf;let t=e.state;return t.window&&(t.window=null),e.state=null,Vp},y0e=(e,t)=>{if(sg(e))return uf;const r=e.state;return(r.wrap&2)===0?uf:(r.head=t,t.done=!1,Vp)},v0e=(e,t)=>{const r=t.length;let a,s,i;return sg(e)||(a=e.state,a.wrap!==0&&a.mode!==l4)?uf:a.mode===l4&&(s=1,s=h6(s,t,r,0),s!==a.check)?h$:(i=b$(e,t,r,r),i?(a.mode=m$,A$):(a.havedict=1,Vp))};var b0e=x$,w0e=y$,N0e=g$,j0e=m0e,S0e=v$,C0e=g0e,E0e=x0e,B0e=y0e,T0e=v0e,F0e="pako inflate (from Nodeca project)",LA={inflateReset:b0e,inflateReset2:w0e,inflateResetKeep:N0e,inflateInit:j0e,inflateInit2:S0e,inflate:C0e,inflateEnd:E0e,inflateGetHeader:B0e,inflateSetDictionary:T0e,inflateInfo:F0e};function _0e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var k0e=_0e;const w$=Object.prototype.toString,{Z_NO_FLUSH:I0e,Z_FINISH:P0e,Z_OK:fv,Z_STREAM_END:lS,Z_NEED_DICT:cS,Z_STREAM_ERROR:L0e,Z_DATA_ERROR:LP,Z_MEM_ERROR:O0e}=l$;function Xv(e){this.options=c$.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Xme,this.strm.avail_out=0;let r=LA.inflateInit2(this.strm,t.windowBits);if(r!==fv)throw new Error(A6[r]);if(this.header=new k0e,LA.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=m6.string2buf(t.dictionary):w$.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=LA.inflateSetDictionary(this.strm,t.dictionary),r!==fv)))throw new Error(A6[r])}Xv.prototype.push=function(e,t){const r=this.strm,a=this.options.chunkSize,s=this.options.dictionary;let i,o,l;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?P0e:I0e,w$.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(a),r.next_out=0,r.avail_out=a),i=LA.inflate(r,o),i===cS&&s&&(i=LA.inflateSetDictionary(r,s),i===fv?i=LA.inflate(r,o):i===LP&&(i=cS));r.avail_in>0&&i===lS&&r.state.wrap>0&&e[r.next_in]!==0;)LA.inflateReset(r),i=LA.inflate(r,o);switch(i){case L0e:case LP:case cS:case O0e:return this.onEnd(i),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||i===lS))if(this.options.to==="string"){let c=m6.utf8border(r.output,r.next_out),u=r.next_out-c,d=m6.buf2string(r.output,c);r.next_out=u,r.avail_out=a-u,u&&r.output.set(r.output.subarray(c,c+u),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===fv&&l===0)){if(i===lS)return i=LA.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Xv.prototype.onData=function(e){this.chunks.push(e)};Xv.prototype.onEnd=function(e){e===fv&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c$.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function D0e(e,t){const r=new Xv(t);if(r.push(e),r.err)throw r.msg||A6[r.err];return r.result}var M0e=Xv,U0e=D0e,R0e={Inflate:M0e,inflate:U0e};const{Inflate:Q0e,inflate:H0e}=R0e;var OP=Q0e,$0e=H0e;const N$=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;N$[e]=t}const DP=4294967295;function z0e(e,t,r){let a=e;for(let s=0;s<r;s++)a=N$[(a^t[s])&255]^a>>>8;return a}function V0e(e,t){return(z0e(DP,e,t)^DP)>>>0}function MP(e,t,r){const a=e.readUint32(),s=V0e(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(s!==a)throw new Error(`CRC mismatch for chunk ${r}. Expected ${a}, found ${s}`)}function j$(e,t,r){for(let a=0;a<r;a++)t[a]=e[a]}function S$(e,t,r,a){let s=0;for(;s<a;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+t[s-a]&255}function C$(e,t,r,a){let s=0;if(r.length===0)for(;s<a;s++)t[s]=e[s];else for(;s<a;s++)t[s]=e[s]+r[s]&255}function E$(e,t,r,a,s){let i=0;if(r.length===0){for(;i<s;i++)t[i]=e[i];for(;i<a;i++)t[i]=e[i]+(t[i-s]>>1)&255}else{for(;i<s;i++)t[i]=e[i]+(r[i]>>1)&255;for(;i<a;i++)t[i]=e[i]+(t[i-s]+r[i]>>1)&255}}function B$(e,t,r,a,s){let i=0;if(r.length===0){for(;i<s;i++)t[i]=e[i];for(;i<a;i++)t[i]=e[i]+t[i-s]&255}else{for(;i<s;i++)t[i]=e[i]+r[i]&255;for(;i<a;i++)t[i]=e[i]+q0e(t[i-s],r[i],r[i-s])&255}}function q0e(e,t,r){const a=e+t-r,s=Math.abs(a-e),i=Math.abs(a-t),o=Math.abs(a-r);return s<=i&&s<=o?e:i<=o?t:r}function K0e(e,t,r,a,s,i){switch(e){case 0:j$(t,r,s);break;case 1:S$(t,r,s,i);break;case 2:C$(t,r,a,s);break;case 3:E$(t,r,a,s,i);break;case 4:B$(t,r,a,s,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const G0e=new Uint16Array([255]),W0e=new Uint8Array(G0e.buffer),Y0e=W0e[0]===255;function X0e(e){const{data:t,width:r,height:a,channels:s,depth:i}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*s,c=new Uint8Array(a*r*l);let u=0;for(let d=0;d<7;d++){const A=o[d],m=Math.ceil((r-A.x)/A.xStep),h=Math.ceil((a-A.y)/A.yStep);if(m<=0||h<=0)continue;const y=m*l,x=new Uint8Array(y);for(let v=0;v<h;v++){const b=t[u++],j=t.subarray(u,u+y);u+=y;const C=new Uint8Array(y);K0e(b,j,C,x,y,l),x.set(C);for(let E=0;E<m;E++){const k=A.x+E*A.xStep,D=A.y+v*A.yStep;if(!(k>=r||D>=a))for(let L=0;L<l;L++)c[(D*r+k)*l+L]=C[E*l+L]}}}if(i===16){const d=new Uint16Array(c.buffer);if(Y0e)for(let A=0;A<d.length;A++)d[A]=J0e(d[A]);return d}else return c}function J0e(e){return(e&255)<<8|e>>8&255}const Z0e=new Uint16Array([255]),epe=new Uint8Array(Z0e.buffer),tpe=epe[0]===255,rpe=new Uint8Array(0);function UP(e){const{data:t,width:r,height:a,channels:s,depth:i}=e,o=Math.ceil(i/8)*s,l=Math.ceil(i/8*s*r),c=new Uint8Array(a*l);let u=rpe,d=0,A,m;for(let h=0;h<a;h++){switch(A=t.subarray(d+1,d+1+l),m=c.subarray(h*l,(h+1)*l),t[d]){case 0:j$(A,m,l);break;case 1:S$(A,m,l,o);break;case 2:C$(A,m,u,l);break;case 3:E$(A,m,u,l,o);break;case 4:B$(A,m,u,l,o);break;default:throw new Error(`Unsupported filter: ${t[d]}`)}u=m,d+=l+1}if(i===16){const h=new Uint16Array(c.buffer);if(tpe)for(let y=0;y<h.length;y++)h[y]=ape(h[y]);return h}else return c}function ape(e){return(e&255)<<8|e>>8&255}const Aw=Uint8Array.of(137,80,78,71,13,10,26,10);function RP(e){if(!npe(e.readBytes(Aw.length)))throw new Error("wrong PNG signature")}function npe(e){if(e.length<Aw.length)return!1;for(let t=0;t<Aw.length;t++)if(e[t]!==Aw[t])return!1;return!0}const spe="tEXt",ipe=0,T$=new TextDecoder("latin1");function ope(e){if(cpe(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const lpe=/^[\u0000-\u00FF]*$/;function cpe(e){if(!lpe.test(e))throw new Error("invalid latin1 text")}function dpe(e,t,r){const a=F$(t);e[a]=upe(t,r-a.length-1)}function F$(e){for(e.mark();e.readByte()!==ipe;);const t=e.offset;e.reset();const r=T$.decode(e.readBytes(t-e.offset-1));return e.skip(1),ope(r),r}function upe(e,t){return T$.decode(e.readBytes(t))}const bu={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},dS={UNKNOWN:-1,DEFLATE:0},QP={UNKNOWN:-1,ADAPTIVE:0},uS={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},_b={NONE:0,BACKGROUND:1,PREVIOUS:2},fS={SOURCE:0,OVER:1};class fpe extends DB{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,r={}){super(t);const{checkCrc:a=!1}=r;this._checkCrc=a,this._inflator=new OP,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=dS.UNKNOWN,this._filterMethod=QP.UNKNOWN,this._interlaceMethod=uS.UNKNOWN,this._colorType=bu.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(RP(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeChunk(t,r)}return this.decodeImage(),this._png}decodeApng(){for(RP(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(t,r)}return this.decodeApngImage(),this._apng}decodeChunk(t,r){const a=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case spe:dpe(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-a!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?MP(this,t+4,r):this.skip(4)}decodeApngChunk(t,r){const a=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,r),this.offset=a+t;break}if(this.offset-a!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?MP(this,t+4,r):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=hpe(this.readUint8());const r=this.readUint8();this._colorType=r;let a;switch(r){case bu.GREYSCALE:a=1;break;case bu.TRUECOLOUR:a=3;break;case bu.INDEXED_COLOUR:a=1;break;case bu.GREYSCALE_ALPHA:a=2;break;case bu.TRUECOLOUR_ALPHA:a=4;break;case bu.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==dS.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const r=t/3;this._hasPalette=!0;const a=[];this._palette=a;for(let s=0;s<r;s++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const r=t,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let r=t,a=this.offset+this.byteOffset;if(a+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,a,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case bu.GREYSCALE:case bu.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let r=0;r<t/2;r++)this._transparency[r]=this.readUint16();break}case bu.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let r=0;for(;r<t;r++){const a=this.readByte();this._palette[r].push(a)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case bu.UNKNOWN:case bu.GREYSCALE_ALPHA:case bu.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const r=F$(this),a=this.readUint8();if(a!==dS.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const s=this.readBytes(t-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:$0e(s)}}decodepHYs(){const t=this.readUint32(),r=this.readUint32(),a=this.readByte();this._png.resolution={x:t,y:r,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const r={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(t);if(a){if(a.data=UP({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)r.data=a.data;else{const s=this._apng.frames.at(t-1);this.disposeFrame(a,s,r),this.addFrameDataToCanvas(r,a)}this._apng.frames.push(r)}}return this._apng}disposeFrame(t,r,a){switch(t.disposeOp){case _b.NONE:break;case _b.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let i=0;i<this._png.width;i++){const o=(s*t.width+i)*this._png.channels;for(let l=0;l<this._png.channels;l++)a.data[o+l]=0}break;case _b.PREVIOUS:a.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,r){const a=1<<this._png.depth,s=(i,o)=>{const l=((i+r.yOffset)*this._png.width+r.xOffset+o)*this._png.channels,c=(i*r.width+o)*this._png.channels;return{index:l,frameIndex:c}};switch(r.blendOp){case fS.SOURCE:for(let i=0;i<r.height;i++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:c}=s(i,o);for(let u=0;u<this._png.channels;u++)t.data[l+u]=r.data[c+u]}break;case fS.OVER:for(let i=0;i<r.height;i++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:c}=s(i,o);for(let u=0;u<this._png.channels;u++){const d=r.data[c+this._png.channels-1]/a,A=u%(this._png.channels-1)===0?1:r.data[c+u],m=Math.floor(d*A+(1-d)*t.data[l+u]);t.data[l+u]+=m}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==QP.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===uS.NO_INTERLACE)this._png.data=UP({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===uS.ADAM7)this._png.data=X0e({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,r=this._frames.at(-1);r?r.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:_b.NONE,blendOp:fS.SOURCE,data:t}),this._inflator=new OP,this._writingDataChunks=!1}}function hpe(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var HP;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(HP||(HP={}));function Ape(e,t){return new fpe(e,t).decode()}var Ha=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function hS(){Ha.console&&typeof Ha.console.log=="function"&&Ha.console.log.apply(Ha.console,arguments)}var Zs={log:hS,warn:function(e){Ha.console&&(typeof Ha.console.warn=="function"?Ha.console.warn.apply(Ha.console,arguments):hS.call(null,arguments))},error:function(e){Ha.console&&(typeof Ha.console.error=="function"?Ha.console.error.apply(Ha.console,arguments):hS(e))}};function AS(e,t,r){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){lp(a.response,t,r)},a.onerror=function(){Zs.error("could not download file")},a.send()}function $P(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function kb(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var lp=Ha.saveAs||((typeof window>"u"?"undefined":va(window))!=="object"||window!==Ha?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var a=Ha.URL||Ha.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?$P(s.href)?AS(e,t,r):kb(s,s.target="_blank"):kb(s)):(s.href=a.createObjectURL(e),setTimeout(function(){a.revokeObjectURL(s.href)},4e4),setTimeout(function(){kb(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if($P(e))AS(e,t,r);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout(function(){kb(a)})}else navigator.msSaveOrOpenBlob((function(s,i){return i===void 0?i={autoBom:!1}:va(i)!=="object"&&(Zs.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(e,r),t)}:function(e,t,r,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof e=="string")return AS(e,t,r);var s=e.type==="application/octet-stream",i=/constructor/i.test(Ha.HTMLElement)||Ha.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&i)&&(typeof FileReader>"u"?"undefined":va(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=d:location=d,a=null},l.readAsDataURL(e)}else{var c=Ha.URL||Ha.webkitURL,u=c.createObjectURL(e);a?a.location=u:location.href=u,a=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function _$(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],a=0;a<r.length;a++){var s=r[a].re,i=r[a].process,o=s.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}var mw=Ha.atob.bind(Ha),zP=Ha.btoa.bind(Ha);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function mS(e,t){var r=e[0],a=e[1],s=e[2],i=e[3];r=$c(r,a,s,i,t[0],7,-680876936),i=$c(i,r,a,s,t[1],12,-389564586),s=$c(s,i,r,a,t[2],17,606105819),a=$c(a,s,i,r,t[3],22,-1044525330),r=$c(r,a,s,i,t[4],7,-176418897),i=$c(i,r,a,s,t[5],12,1200080426),s=$c(s,i,r,a,t[6],17,-1473231341),a=$c(a,s,i,r,t[7],22,-45705983),r=$c(r,a,s,i,t[8],7,1770035416),i=$c(i,r,a,s,t[9],12,-1958414417),s=$c(s,i,r,a,t[10],17,-42063),a=$c(a,s,i,r,t[11],22,-1990404162),r=$c(r,a,s,i,t[12],7,1804603682),i=$c(i,r,a,s,t[13],12,-40341101),s=$c(s,i,r,a,t[14],17,-1502002290),r=zc(r,a=$c(a,s,i,r,t[15],22,1236535329),s,i,t[1],5,-165796510),i=zc(i,r,a,s,t[6],9,-1069501632),s=zc(s,i,r,a,t[11],14,643717713),a=zc(a,s,i,r,t[0],20,-373897302),r=zc(r,a,s,i,t[5],5,-701558691),i=zc(i,r,a,s,t[10],9,38016083),s=zc(s,i,r,a,t[15],14,-660478335),a=zc(a,s,i,r,t[4],20,-405537848),r=zc(r,a,s,i,t[9],5,568446438),i=zc(i,r,a,s,t[14],9,-1019803690),s=zc(s,i,r,a,t[3],14,-187363961),a=zc(a,s,i,r,t[8],20,1163531501),r=zc(r,a,s,i,t[13],5,-1444681467),i=zc(i,r,a,s,t[2],9,-51403784),s=zc(s,i,r,a,t[7],14,1735328473),r=Vc(r,a=zc(a,s,i,r,t[12],20,-1926607734),s,i,t[5],4,-378558),i=Vc(i,r,a,s,t[8],11,-2022574463),s=Vc(s,i,r,a,t[11],16,1839030562),a=Vc(a,s,i,r,t[14],23,-35309556),r=Vc(r,a,s,i,t[1],4,-1530992060),i=Vc(i,r,a,s,t[4],11,1272893353),s=Vc(s,i,r,a,t[7],16,-155497632),a=Vc(a,s,i,r,t[10],23,-1094730640),r=Vc(r,a,s,i,t[13],4,681279174),i=Vc(i,r,a,s,t[0],11,-358537222),s=Vc(s,i,r,a,t[3],16,-722521979),a=Vc(a,s,i,r,t[6],23,76029189),r=Vc(r,a,s,i,t[9],4,-640364487),i=Vc(i,r,a,s,t[12],11,-421815835),s=Vc(s,i,r,a,t[15],16,530742520),r=qc(r,a=Vc(a,s,i,r,t[2],23,-995338651),s,i,t[0],6,-198630844),i=qc(i,r,a,s,t[7],10,1126891415),s=qc(s,i,r,a,t[14],15,-1416354905),a=qc(a,s,i,r,t[5],21,-57434055),r=qc(r,a,s,i,t[12],6,1700485571),i=qc(i,r,a,s,t[3],10,-1894986606),s=qc(s,i,r,a,t[10],15,-1051523),a=qc(a,s,i,r,t[1],21,-2054922799),r=qc(r,a,s,i,t[8],6,1873313359),i=qc(i,r,a,s,t[15],10,-30611744),s=qc(s,i,r,a,t[6],15,-1560198380),a=qc(a,s,i,r,t[13],21,1309151649),r=qc(r,a,s,i,t[4],6,-145523070),i=qc(i,r,a,s,t[11],10,-1120210379),s=qc(s,i,r,a,t[2],15,718787259),a=qc(a,s,i,r,t[9],21,-343485551),e[0]=s0(r,e[0]),e[1]=s0(a,e[1]),e[2]=s0(s,e[2]),e[3]=s0(i,e[3])}function I5(e,t,r,a,s,i){return t=s0(s0(t,e),s0(a,i)),s0(t<<s|t>>>32-s,r)}function $c(e,t,r,a,s,i,o){return I5(t&r|~t&a,e,t,s,i,o)}function zc(e,t,r,a,s,i,o){return I5(t&a|r&~a,e,t,s,i,o)}function Vc(e,t,r,a,s,i,o){return I5(t^r^a,e,t,s,i,o)}function qc(e,t,r,a,s,i,o){return I5(r^(t|~a),e,t,s,i,o)}function k$(e){var t,r=e.length,a=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)mS(a,mpe(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(mS(a,s),t=0;t<16;t++)s[t]=0;return s[14]=8*r,mS(a,s),a}function mpe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var VP="0123456789abcdef".split("");function ppe(e){for(var t="",r=0;r<4;r++)t+=VP[e>>8*r+4&15]+VP[e>>8*r&15];return t}function gpe(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function p6(e){return k$(e).map(gpe).join("")}var xpe=(function(e){for(var t=0;t<e.length;t++)e[t]=ppe(e[t]);return e.join("")})(k$("hello"))!="5d41402abc4b2a76b9719d911017c592";function s0(e,t){if(xpe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function g6(e,t){var r,a,s,i;if(e!==r){for(var o=(s=e,i=1+(256/e.length|0),new Array(i+1).join(s)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+o.charCodeAt(c))%256,l[c]=l[u],l[u]=d}r=e,a=l}else l=a;var A=t.length,m=0,h=0,y="";for(c=0;c<A;c++)h=(h+(d=l[m=(m+1)%256]))%256,l[m]=l[h],l[h]=d,o=l[(l[m]+l[h])%256],y+=String.fromCharCode(t.charCodeAt(c)^o);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var qP={print:4,modify:8,copy:16,"annot-forms":32};function Wg(e,t,r,a){this.v=1,this.r=2;var s=192;e.forEach(function(l){if(qP.perm!==void 0)throw new Error("Invalid permission: "+l);s+=qP[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^s)),this.encryptionKey=p6(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=g6(this.encryptionKey,this.padding)}function Yg(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,a=0;a<r;a++){var s=e.charCodeAt(a);t+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):e[a]}return t}function KP(e){if(va(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,a,s){if(s=s||!1,typeof r!="string"||typeof a!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[a,!!s],i},this.unsubscribe=function(r){for(var a in t)if(t[a][r])return delete t[a][r],Object.keys(t[a]).length===0&&delete t[a],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var a=Array.prototype.slice.call(arguments,1),s=[];for(var i in t[r]){var o=t[r][i];try{o[0].apply(e,a)}catch(l){Ha.console&&Zs.error("jsPDF PubSub Error",l.message,l)}o[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function hv(e){if(!(this instanceof hv))return new hv(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function I$(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Jm(e,t,r,a,s){if(!(this instanceof Jm))return new Jm(e,t,r,a,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,I$.call(this,a,s)}function mp(e,t,r,a,s){if(!(this instanceof mp))return new mp(e,t,r,a,s);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,I$.call(this,a,s)}function la(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],s=arguments[2],i=arguments[3],o=[],l=1,c=16,u="S",d=null;va(e=e||{})==="object"&&(r=e.orientation,a=e.unit||a,s=e.format||s,i=e.compress||e.compressPdf||i,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),a=a||"mm",r=(""+(r||"P")).toLowerCase();var A=e.putOnlyUsedFonts||!1,m={},h={internal:{},__private__:{}};h.__private__.PubSub=KP;var y="1.3",x=h.__private__.getPdfVersion=function(){return y};h.__private__.setPdfVersion=function(ue){y=ue};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return v};var b=h.__private__.getPageFormat=function(ue){return v[ue]};s=s||"a4";var j="compat",C="advanced",E=j;function k(){this.saveGraphicsState(),J(new Fr(Le,0,0,-Le,0,ad()*Le).toString()+" cm"),this.setFontSize(this.getFontSize()/Le),u="n",E=C}function D(){this.restoreGraphicsState(),u="S",E=j}var L=h.__private__.combineFontStyleAndFontWeight=function(ue,He){if(ue=="bold"&&He=="normal"||ue=="bold"&&He==400||ue=="normal"&&He=="italic"||ue=="bold"&&He=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return He&&(ue=He==400||He==="normal"?ue==="italic"?"italic":"normal":He!=700&&He!=="bold"||ue!=="normal"?(He==700?"bold":He)+""+ue:"bold"),ue};h.advancedAPI=function(ue){var He=E===j;return He&&k.call(this),typeof ue!="function"||(ue(this),He&&D.call(this)),this},h.compatAPI=function(ue){var He=E===C;return He&&D.call(this),typeof ue!="function"||(ue(this),He&&k.call(this)),this},h.isAdvancedAPI=function(){return E===C};var F,Q=function(ue){if(E!==C)throw new Error(ue+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},U=h.roundToPrecision=h.__private__.roundToPrecision=function(ue,He){var jt=t||He;if(isNaN(ue)||isNaN(jt))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return ue.toFixed(jt).replace(/0+$/,"")};F=h.hpf=h.__private__.hpf=typeof c=="number"?function(ue){if(isNaN(ue))throw new Error("Invalid argument passed to jsPDF.hpf");return U(ue,c)}:c==="smart"?function(ue){if(isNaN(ue))throw new Error("Invalid argument passed to jsPDF.hpf");return U(ue,ue>-1&&ue<1?16:5)}:function(ue){if(isNaN(ue))throw new Error("Invalid argument passed to jsPDF.hpf");return U(ue,16)};var P=h.f2=h.__private__.f2=function(ue){if(isNaN(ue))throw new Error("Invalid argument passed to jsPDF.f2");return U(ue,2)},I=h.__private__.f3=function(ue){if(isNaN(ue))throw new Error("Invalid argument passed to jsPDF.f3");return U(ue,3)},z=h.scale=h.__private__.scale=function(ue){if(isNaN(ue))throw new Error("Invalid argument passed to jsPDF.scale");return E===j?ue*Le:E===C?ue:void 0},W=function(ue){return z((function(He){return E===j?ad()-He:E===C?He:void 0})(ue))};h.__private__.setPrecision=h.setPrecision=function(ue){typeof parseInt(ue,10)=="number"&&(t=parseInt(ue,10))};var ie,X="00000000000000000000000000000000",le=h.__private__.getFileId=function(){return X},re=h.__private__.setFileId=function(ue){return X=ue!==void 0&&/^[a-fA-F0-9]{32}$/.test(ue)?ue.toUpperCase():X.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Ba=new Wg(d.userPermissions,d.userPassword,d.ownerPassword,X)),X};h.setFileId=function(ue){return re(ue),this},h.getFileId=function(){return le()};var he=h.__private__.convertDateToPDFDate=function(ue){var He=ue.getTimezoneOffset(),jt=He<0?"+":"-",kt=Math.floor(Math.abs(He/60)),Qt=Math.abs(He%60),lr=[jt,G(kt),"'",G(Qt),"'"].join("");return["D:",ue.getFullYear(),G(ue.getMonth()+1),G(ue.getDate()),G(ue.getHours()),G(ue.getMinutes()),G(ue.getSeconds()),lr].join("")},de=h.__private__.convertPDFDateToDate=function(ue){var He=parseInt(ue.substr(2,4),10),jt=parseInt(ue.substr(6,2),10)-1,kt=parseInt(ue.substr(8,2),10),Qt=parseInt(ue.substr(10,2),10),lr=parseInt(ue.substr(12,2),10),mr=parseInt(ue.substr(14,2),10);return new Date(He,jt,kt,Qt,lr,mr,0)},ve=h.__private__.setCreationDate=function(ue){var He;if(ue===void 0&&(ue=new Date),ue instanceof Date)He=he(ue);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(ue))throw new Error("Invalid argument passed to jsPDF.setCreationDate");He=ue}return ie=He},B=h.__private__.getCreationDate=function(ue){var He=ie;return ue==="jsDate"&&(He=de(ie)),He};h.setCreationDate=function(ue){return ve(ue),this},h.getCreationDate=function(ue){return B(ue)};var R,G=h.__private__.padd2=function(ue){return("0"+parseInt(ue)).slice(-2)},ne=h.__private__.padd2Hex=function(ue){return("00"+(ue=ue.toString())).substr(ue.length)},pe=0,xe=[],Ae=[],Y=0,se=[],ee=[],be=!1,Ce=Ae;h.__private__.setCustomOutputDestination=function(ue){be=!0,Ce=ue};var ce=function(ue){be||(Ce=ue)};h.__private__.resetCustomOutputDestination=function(){be=!1,Ce=Ae};var J=h.__private__.out=function(ue){return ue=ue.toString(),Y+=ue.length+1,Ce.push(ue),Ce},ge=h.__private__.write=function(ue){return J(arguments.length===1?ue.toString():Array.prototype.join.call(arguments," "))},Je=h.__private__.getArrayBuffer=function(ue){for(var He=ue.length,jt=new ArrayBuffer(He),kt=new Uint8Array(jt);He--;)kt[He]=ue.charCodeAt(He);return jt},Ke=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return Ke};var Fe=e.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(ue){return Fe=E===C?ue/Le:ue,this};var nt,Se=h.__private__.getFontSize=h.getFontSize=function(){return E===j?Fe:Fe*Le},Me=e.R2L||!1;h.__private__.setR2L=h.setR2L=function(ue){return Me=ue,this},h.__private__.getR2L=h.getR2L=function(){return Me};var at,ke=h.__private__.setZoomMode=function(ue){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(ue))nt=ue;else if(isNaN(ue)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(ue)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+ue+'" is not recognized.');nt=ue}else nt=parseInt(ue,10)};h.__private__.getZoomMode=function(){return nt};var Ve,ze=h.__private__.setPageMode=function(ue){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(ue)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+ue+'" is not recognized.');at=ue};h.__private__.getPageMode=function(){return at};var rt=h.__private__.setLayoutMode=function(ue){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(ue)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+ue+'" is not recognized.');Ve=ue};h.__private__.getLayoutMode=function(){return Ve},h.__private__.setDisplayMode=h.setDisplayMode=function(ue,He,jt){return ke(ue),rt(He),ze(jt),this};var Ge={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(ue){if(Object.keys(Ge).indexOf(ue)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ge[ue]},h.__private__.getDocumentProperties=function(){return Ge},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(ue){for(var He in Ge)Ge.hasOwnProperty(He)&&ue[He]&&(Ge[He]=ue[He]);return this},h.__private__.setDocumentProperty=function(ue,He){if(Object.keys(Ge).indexOf(ue)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ge[ue]=He};var bt,Le,je,Ze,Te,pt={},At={},qe=[],Pe={},mt={},Qe={},st={},tt=null,Ft=0,_t=[],Dt=new KP(h),Wt=e.hotfixes||[],cr={},Dr={},Ea=[],Fr=function ue(He,jt,kt,Qt,lr,mr){if(!(this instanceof ue))return new ue(He,jt,kt,Qt,lr,mr);isNaN(He)&&(He=1),isNaN(jt)&&(jt=0),isNaN(kt)&&(kt=0),isNaN(Qt)&&(Qt=1),isNaN(lr)&&(lr=0),isNaN(mr)&&(mr=0),this._matrix=[He,jt,kt,Qt,lr,mr]};Object.defineProperty(Fr.prototype,"sx",{get:function(){return this._matrix[0]},set:function(ue){this._matrix[0]=ue}}),Object.defineProperty(Fr.prototype,"shy",{get:function(){return this._matrix[1]},set:function(ue){this._matrix[1]=ue}}),Object.defineProperty(Fr.prototype,"shx",{get:function(){return this._matrix[2]},set:function(ue){this._matrix[2]=ue}}),Object.defineProperty(Fr.prototype,"sy",{get:function(){return this._matrix[3]},set:function(ue){this._matrix[3]=ue}}),Object.defineProperty(Fr.prototype,"tx",{get:function(){return this._matrix[4]},set:function(ue){this._matrix[4]=ue}}),Object.defineProperty(Fr.prototype,"ty",{get:function(){return this._matrix[5]},set:function(ue){this._matrix[5]=ue}}),Object.defineProperty(Fr.prototype,"a",{get:function(){return this._matrix[0]},set:function(ue){this._matrix[0]=ue}}),Object.defineProperty(Fr.prototype,"b",{get:function(){return this._matrix[1]},set:function(ue){this._matrix[1]=ue}}),Object.defineProperty(Fr.prototype,"c",{get:function(){return this._matrix[2]},set:function(ue){this._matrix[2]=ue}}),Object.defineProperty(Fr.prototype,"d",{get:function(){return this._matrix[3]},set:function(ue){this._matrix[3]=ue}}),Object.defineProperty(Fr.prototype,"e",{get:function(){return this._matrix[4]},set:function(ue){this._matrix[4]=ue}}),Object.defineProperty(Fr.prototype,"f",{get:function(){return this._matrix[5]},set:function(ue){this._matrix[5]=ue}}),Object.defineProperty(Fr.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Fr.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Fr.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Fr.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Fr.prototype.join=function(ue){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(F).join(ue)},Fr.prototype.multiply=function(ue){var He=ue.sx*this.sx+ue.shy*this.shx,jt=ue.sx*this.shy+ue.shy*this.sy,kt=ue.shx*this.sx+ue.sy*this.shx,Qt=ue.shx*this.shy+ue.sy*this.sy,lr=ue.tx*this.sx+ue.ty*this.shx+this.tx,mr=ue.tx*this.shy+ue.ty*this.sy+this.ty;return new Fr(He,jt,kt,Qt,lr,mr)},Fr.prototype.decompose=function(){var ue=this.sx,He=this.shy,jt=this.shx,kt=this.sy,Qt=this.tx,lr=this.ty,mr=Math.sqrt(ue*ue+He*He),Hr=(ue/=mr)*jt+(He/=mr)*kt;jt-=ue*Hr,kt-=He*Hr;var Kr=Math.sqrt(jt*jt+kt*kt);return Hr/=Kr,ue*(kt/=Kr)<He*(jt/=Kr)&&(ue=-ue,He=-He,Hr=-Hr,mr=-mr),{scale:new Fr(mr,0,0,Kr,0,0),translate:new Fr(1,0,0,1,Qt,lr),rotate:new Fr(ue,He,-He,ue,0,0),skew:new Fr(1,0,Hr,1,0,0)}},Fr.prototype.toString=function(ue){return this.join(" ")},Fr.prototype.inversed=function(){var ue=this.sx,He=this.shy,jt=this.shx,kt=this.sy,Qt=this.tx,lr=this.ty,mr=1/(ue*kt-He*jt),Hr=kt*mr,Kr=-He*mr,fa=-jt*mr,ma=ue*mr;return new Fr(Hr,Kr,fa,ma,-Hr*Qt-fa*lr,-Kr*Qt-ma*lr)},Fr.prototype.applyToPoint=function(ue){var He=ue.x*this.sx+ue.y*this.shx+this.tx,jt=ue.x*this.shy+ue.y*this.sy+this.ty;return new bc(He,jt)},Fr.prototype.applyToRectangle=function(ue){var He=this.applyToPoint(ue),jt=this.applyToPoint(new bc(ue.x+ue.w,ue.y+ue.h));return new ts(He.x,He.y,jt.x-He.x,jt.y-He.y)},Fr.prototype.clone=function(){var ue=this.sx,He=this.shy,jt=this.shx,kt=this.sy,Qt=this.tx,lr=this.ty;return new Fr(ue,He,jt,kt,Qt,lr)},h.Matrix=Fr;var jr=h.matrixMult=function(ue,He){return He.multiply(ue)},Sr=new Fr(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Sr;var ca=function(ue,He){if(!mt[ue]){var jt=(He instanceof Jm?"Sh":"P")+(Object.keys(Pe).length+1).toString(10);He.id=jt,mt[ue]=jt,Pe[jt]=He,Dt.publish("addPattern",He)}};h.ShadingPattern=Jm,h.TilingPattern=mp,h.addShadingPattern=function(ue,He){return Q("addShadingPattern()"),ca(ue,He),this},h.beginTilingPattern=function(ue){Q("beginTilingPattern()"),qi(ue.boundingBox[0],ue.boundingBox[1],ue.boundingBox[2]-ue.boundingBox[0],ue.boundingBox[3]-ue.boundingBox[1],ue.matrix)},h.endTilingPattern=function(ue,He){Q("endTilingPattern()"),He.stream=ee[R].join(`
`),ca(ue,He),Dt.publish("endTilingPattern",He),Ea.pop().restore()};var oa,wt=h.__private__.newObject=function(){var ue=Xt();return Oe(ue,!0),ue},Xt=h.__private__.newObjectDeferred=function(){return pe++,xe[pe]=function(){return Y},pe},Oe=function(ue,He){return He=typeof He=="boolean"&&He,xe[ue]=Y,He&&J(ue+" 0 obj"),ue},ut=h.__private__.newAdditionalObject=function(){var ue={objId:Xt(),content:""};return se.push(ue),ue},ot=Xt(),dt=Xt(),Ie=h.__private__.decodeColorString=function(ue){var He=ue.split(" ");if(He.length!==2||He[1]!=="g"&&He[1]!=="G")He.length!==5||He[4]!=="k"&&He[4]!=="K"||(He=[(1-He[0])*(1-He[3]),(1-He[1])*(1-He[3]),(1-He[2])*(1-He[3]),"r"]);else{var jt=parseFloat(He[0]);He=[jt,jt,jt,"r"]}for(var kt="#",Qt=0;Qt<3;Qt++)kt+=("0"+Math.floor(255*parseFloat(He[Qt])).toString(16)).slice(-2);return kt},Ne=h.__private__.encodeColorString=function(ue){var He;typeof ue=="string"&&(ue={ch1:ue});var jt=ue.ch1,kt=ue.ch2,Qt=ue.ch3,lr=ue.ch4,mr=ue.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof jt=="string"&&jt.charAt(0)!=="#"){var Hr=new _$(jt);if(Hr.ok)jt=Hr.toHex();else if(!/^\d*\.?\d*$/.test(jt))throw new Error('Invalid color "'+jt+'" passed to jsPDF.encodeColorString.')}if(typeof jt=="string"&&/^#[0-9A-Fa-f]{3}$/.test(jt)&&(jt="#"+jt[1]+jt[1]+jt[2]+jt[2]+jt[3]+jt[3]),typeof jt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(jt)){var Kr=parseInt(jt.substr(1),16);jt=Kr>>16&255,kt=Kr>>8&255,Qt=255&Kr}if(kt===void 0||lr===void 0&&jt===kt&&kt===Qt)He=typeof jt=="string"?jt+" "+mr[0]:ue.precision===2?P(jt/255)+" "+mr[0]:I(jt/255)+" "+mr[0];else if(lr===void 0||va(lr)==="object"){if(lr&&!isNaN(lr.a)&&lr.a===0)return["1.","1.","1.",mr[1]].join(" ");He=typeof jt=="string"?[jt,kt,Qt,mr[1]].join(" "):ue.precision===2?[P(jt/255),P(kt/255),P(Qt/255),mr[1]].join(" "):[I(jt/255),I(kt/255),I(Qt/255),mr[1]].join(" ")}else He=typeof jt=="string"?[jt,kt,Qt,lr,mr[2]].join(" "):ue.precision===2?[P(jt),P(kt),P(Qt),P(lr),mr[2]].join(" "):[I(jt),I(kt),I(Qt),I(lr),mr[2]].join(" ");return He},ct=h.__private__.getFilters=function(){return o},Ye=h.__private__.putStream=function(ue){var He=(ue=ue||{}).data||"",jt=ue.filters||ct(),kt=ue.alreadyAppliedFilters||[],Qt=ue.addLength1||!1,lr=He.length,mr=ue.objectId,Hr=function(Re){return Re};if(d!==null&&mr===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Hr=Ba.encryptor(mr,0));var Kr={};jt===!0&&(jt=["FlateEncode"]);var fa=ue.additionalKeyValues||[],ma=(Kr=la.API.processDataByFilters!==void 0?la.API.processDataByFilters(He,jt):{data:He,reverseChain:[]}).reverseChain+(Array.isArray(kt)?kt.join(" "):kt.toString());if(Kr.data.length!==0&&(fa.push({key:"Length",value:Kr.data.length}),Qt===!0&&fa.push({key:"Length1",value:lr})),ma.length!=0)if(ma.split("/").length-1==1)fa.push({key:"Filter",value:ma});else{fa.push({key:"Filter",value:"["+ma+"]"});for(var nn=0;nn<fa.length;nn+=1)if(fa[nn].key==="DecodeParms"){for(var Bn=[],hs=0;hs<Kr.reverseChain.split("/").length-1;hs+=1)Bn.push("null");Bn.push(fa[nn].value),fa[nn].value="["+Bn.join(" ")+"]"}}J("<<");for(var te=0;te<fa.length;te++)J("/"+fa[te].key+" "+fa[te].value);J(">>"),Kr.data.length!==0&&(J("stream"),J(Hr(Kr.data)),J("endstream"))},Ee=h.__private__.putPage=function(ue){var He=ue.number,jt=ue.data,kt=ue.objId,Qt=ue.contentsObjId;Oe(kt,!0),J("<</Type /Page"),J("/Parent "+ue.rootDictionaryObjId+" 0 R"),J("/Resources "+ue.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(F(ue.mediaBox.bottomLeftX))+" "+parseFloat(F(ue.mediaBox.bottomLeftY))+" "+F(ue.mediaBox.topRightX)+" "+F(ue.mediaBox.topRightY)+"]"),ue.cropBox!==null&&J("/CropBox ["+F(ue.cropBox.bottomLeftX)+" "+F(ue.cropBox.bottomLeftY)+" "+F(ue.cropBox.topRightX)+" "+F(ue.cropBox.topRightY)+"]"),ue.bleedBox!==null&&J("/BleedBox ["+F(ue.bleedBox.bottomLeftX)+" "+F(ue.bleedBox.bottomLeftY)+" "+F(ue.bleedBox.topRightX)+" "+F(ue.bleedBox.topRightY)+"]"),ue.trimBox!==null&&J("/TrimBox ["+F(ue.trimBox.bottomLeftX)+" "+F(ue.trimBox.bottomLeftY)+" "+F(ue.trimBox.topRightX)+" "+F(ue.trimBox.topRightY)+"]"),ue.artBox!==null&&J("/ArtBox ["+F(ue.artBox.bottomLeftX)+" "+F(ue.artBox.bottomLeftY)+" "+F(ue.artBox.topRightX)+" "+F(ue.artBox.topRightY)+"]"),typeof ue.userUnit=="number"&&ue.userUnit!==1&&J("/UserUnit "+ue.userUnit),Dt.publish("putPage",{objId:kt,pageContext:_t[He],pageNumber:He,page:jt}),J("/Contents "+Qt+" 0 R"),J(">>"),J("endobj");var lr=jt.join(`
`);return E===C&&(lr+=`
Q`),Oe(Qt,!0),Ye({data:lr,filters:ct(),objectId:Qt}),J("endobj"),kt},it=h.__private__.putPages=function(){var ue,He,jt=[];for(ue=1;ue<=Ft;ue++)_t[ue].objId=Xt(),_t[ue].contentsObjId=Xt();for(ue=1;ue<=Ft;ue++)jt.push(Ee({number:ue,data:ee[ue],objId:_t[ue].objId,contentsObjId:_t[ue].contentsObjId,mediaBox:_t[ue].mediaBox,cropBox:_t[ue].cropBox,bleedBox:_t[ue].bleedBox,trimBox:_t[ue].trimBox,artBox:_t[ue].artBox,userUnit:_t[ue].userUnit,rootDictionaryObjId:ot,resourceDictionaryObjId:dt}));Oe(ot,!0),J("<</Type /Pages");var kt="/Kids [";for(He=0;He<Ft;He++)kt+=jt[He]+" 0 R ";J(kt+"]"),J("/Count "+Ft),J(">>"),J("endobj"),Dt.publish("postPutPages")},vt=function(ue){Dt.publish("putFont",{font:ue,out:J,newObject:wt,putStream:Ye}),ue.isAlreadyPutted!==!0&&(ue.objectNumber=wt(),J("<<"),J("/Type /Font"),J("/BaseFont /"+Yg(ue.postScriptName)),J("/Subtype /Type1"),typeof ue.encoding=="string"&&J("/Encoding /"+ue.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},It=function(ue){ue.objectNumber=wt();var He=[];He.push({key:"Type",value:"/XObject"}),He.push({key:"Subtype",value:"/Form"}),He.push({key:"BBox",value:"["+[F(ue.x),F(ue.y),F(ue.x+ue.width),F(ue.y+ue.height)].join(" ")+"]"}),He.push({key:"Matrix",value:"["+ue.matrix.toString()+"]"});var jt=ue.pages[1].join(`
`);Ye({data:jt,additionalKeyValues:He,objectId:ue.objectNumber}),J("endobj")},Mt=function(ue,He){He||(He=21);var jt=wt(),kt=(function(mr,Hr){var Kr,fa=[],ma=1/(Hr-1);for(Kr=0;Kr<1;Kr+=ma)fa.push(Kr);if(fa.push(1),mr[0].offset!=0){var nn={offset:0,color:mr[0].color};mr.unshift(nn)}if(mr[mr.length-1].offset!=1){var Bn={offset:1,color:mr[mr.length-1].color};mr.push(Bn)}for(var hs="",te=0,Re=0;Re<fa.length;Re++){for(Kr=fa[Re];Kr>mr[te+1].offset;)te++;var Nt=mr[te].offset,Bt=(Kr-Nt)/(mr[te+1].offset-Nt),Rt=mr[te].color,Zt=mr[te+1].color;hs+=ne(Math.round((1-Bt)*Rt[0]+Bt*Zt[0]).toString(16))+ne(Math.round((1-Bt)*Rt[1]+Bt*Zt[1]).toString(16))+ne(Math.round((1-Bt)*Rt[2]+Bt*Zt[2]).toString(16))}return hs.trim()})(ue.colors,He),Qt=[];Qt.push({key:"FunctionType",value:"0"}),Qt.push({key:"Domain",value:"[0.0 1.0]"}),Qt.push({key:"Size",value:"["+He+"]"}),Qt.push({key:"BitsPerSample",value:"8"}),Qt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Qt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ye({data:kt,additionalKeyValues:Qt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:jt}),J("endobj"),ue.objectNumber=wt(),J("<< /ShadingType "+ue.type),J("/ColorSpace /DeviceRGB");var lr="/Coords ["+F(parseFloat(ue.coords[0]))+" "+F(parseFloat(ue.coords[1]))+" ";ue.type===2?lr+=F(parseFloat(ue.coords[2]))+" "+F(parseFloat(ue.coords[3])):lr+=F(parseFloat(ue.coords[2]))+" "+F(parseFloat(ue.coords[3]))+" "+F(parseFloat(ue.coords[4]))+" "+F(parseFloat(ue.coords[5])),J(lr+="]"),ue.matrix&&J("/Matrix ["+ue.matrix.toString()+"]"),J("/Function "+jt+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},fr=function(ue,He){var jt=Xt(),kt=wt();He.push({resourcesOid:jt,objectOid:kt}),ue.objectNumber=kt;var Qt=[];Qt.push({key:"Type",value:"/Pattern"}),Qt.push({key:"PatternType",value:"1"}),Qt.push({key:"PaintType",value:"1"}),Qt.push({key:"TilingType",value:"1"}),Qt.push({key:"BBox",value:"["+ue.boundingBox.map(F).join(" ")+"]"}),Qt.push({key:"XStep",value:F(ue.xStep)}),Qt.push({key:"YStep",value:F(ue.yStep)}),Qt.push({key:"Resources",value:jt+" 0 R"}),ue.matrix&&Qt.push({key:"Matrix",value:"["+ue.matrix.toString()+"]"}),Ye({data:ue.stream,additionalKeyValues:Qt,objectId:ue.objectNumber}),J("endobj")},dr=function(ue){for(var He in ue.objectNumber=wt(),J("<<"),ue)switch(He){case"opacity":J("/ca "+P(ue[He]));break;case"stroke-opacity":J("/CA "+P(ue[He]))}J(">>"),J("endobj")},sr=function(ue){Oe(ue.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var He in J("/Font <<"),pt)pt.hasOwnProperty(He)&&(A===!1||A===!0&&m.hasOwnProperty(He))&&J("/"+He+" "+pt[He].objectNumber+" 0 R");J(">>")})(),(function(){if(Object.keys(Pe).length>0){for(var He in J("/Shading <<"),Pe)Pe.hasOwnProperty(He)&&Pe[He]instanceof Jm&&Pe[He].objectNumber>=0&&J("/"+He+" "+Pe[He].objectNumber+" 0 R");Dt.publish("putShadingPatternDict"),J(">>")}})(),(function(He){if(Object.keys(Pe).length>0){for(var jt in J("/Pattern <<"),Pe)Pe.hasOwnProperty(jt)&&Pe[jt]instanceof h.TilingPattern&&Pe[jt].objectNumber>=0&&Pe[jt].objectNumber<He&&J("/"+jt+" "+Pe[jt].objectNumber+" 0 R");Dt.publish("putTilingPatternDict"),J(">>")}})(ue.objectOid),(function(){if(Object.keys(Qe).length>0){var He;for(He in J("/ExtGState <<"),Qe)Qe.hasOwnProperty(He)&&Qe[He].objectNumber>=0&&J("/"+He+" "+Qe[He].objectNumber+" 0 R");Dt.publish("putGStateDict"),J(">>")}})(),(function(){for(var He in J("/XObject <<"),cr)cr.hasOwnProperty(He)&&cr[He].objectNumber>=0&&J("/"+He+" "+cr[He].objectNumber+" 0 R");Dt.publish("putXobjectDict"),J(">>")})(),J(">>"),J("endobj")},Yr=function(ue){At[ue.fontName]=At[ue.fontName]||{},At[ue.fontName][ue.fontStyle]=ue.id},Na=function(ue,He,jt,kt,Qt){var lr={id:"F"+(Object.keys(pt).length+1).toString(10),postScriptName:ue,fontName:He,fontStyle:jt,encoding:kt,isStandardFont:Qt||!1,metadata:{}};return Dt.publish("addFont",{font:lr,instance:this}),pt[lr.id]=lr,Yr(lr),lr.id},Sa=h.__private__.pdfEscape=h.pdfEscape=function(ue,He){return(function(jt,kt){var Qt,lr,mr,Hr,Kr,fa,ma,nn,Bn;if(mr=(kt=kt||{}).sourceEncoding||"Unicode",Kr=kt.outputEncoding,(kt.autoencode||Kr)&&pt[bt].metadata&&pt[bt].metadata[mr]&&pt[bt].metadata[mr].encoding&&(Hr=pt[bt].metadata[mr].encoding,!Kr&&pt[bt].encoding&&(Kr=pt[bt].encoding),!Kr&&Hr.codePages&&(Kr=Hr.codePages[0]),typeof Kr=="string"&&(Kr=Hr[Kr]),Kr)){for(ma=!1,fa=[],Qt=0,lr=jt.length;Qt<lr;Qt++)(nn=Kr[jt.charCodeAt(Qt)])?fa.push(String.fromCharCode(nn)):fa.push(jt[Qt]),fa[Qt].charCodeAt(0)>>8&&(ma=!0);jt=fa.join("")}for(Qt=jt.length;ma===void 0&&Qt!==0;)jt.charCodeAt(Qt-1)>>8&&(ma=!0),Qt--;if(!ma)return jt;for(fa=kt.noBOM?[]:[254,255],Qt=0,lr=jt.length;Qt<lr;Qt++){if((Bn=(nn=jt.charCodeAt(Qt))>>8)>>8)throw new Error("Character at position "+Qt+" of string '"+jt+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");fa.push(Bn),fa.push(nn-(Bn<<8))}return String.fromCharCode.apply(void 0,fa)})(ue,He).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},za=h.__private__.beginPage=function(ue){ee[++Ft]=[],_t[Ft]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(ue[0]),topRightY:Number(ue[1])}},Bi(Ft),ce(ee[R])},Nn=function(ue,He){var jt,kt,Qt;switch(r=He||r,typeof ue=="string"&&(jt=b(ue.toLowerCase()),Array.isArray(jt)&&(kt=jt[0],Qt=jt[1])),Array.isArray(ue)&&(kt=ue[0]*Le,Qt=ue[1]*Le),isNaN(kt)&&(kt=s[0],Qt=s[1]),(kt>14400||Qt>14400)&&(Zs.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),kt=Math.min(14400,kt),Qt=Math.min(14400,Qt)),s=[kt,Qt],r.substr(0,1)){case"l":Qt>kt&&(s=[Qt,kt]);break;case"p":kt>Qt&&(s=[Qt,kt])}za(s),iu(il),J(Nl),_i!==0&&J(_i+" J"),ol!==0&&J(ol+" j"),Dt.publish("addPage",{pageNumber:Ft})},ds=function(ue){ue>0&&ue<=Ft&&(ee.splice(ue,1),_t.splice(ue,1),Ft--,R>Ft&&(R=Ft),this.setPage(R))},Bi=function(ue){ue>0&&ue<=Ft&&(R=ue)},no=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return ee.length-1},Ti=function(ue,He,jt){var kt,Qt=void 0;return jt=jt||{},ue=ue!==void 0?ue:pt[bt].fontName,He=He!==void 0?He:pt[bt].fontStyle,kt=ue.toLowerCase(),At[kt]!==void 0&&At[kt][He]!==void 0?Qt=At[kt][He]:At[ue]!==void 0&&At[ue][He]!==void 0?Qt=At[ue][He]:jt.disableWarning===!1&&Zs.warn("Unable to look up font label for font '"+ue+"', '"+He+"'. Refer to getFontList() for available fonts."),Qt||jt.noFallback||(Qt=At.times[He])==null&&(Qt=At.times.normal),Qt},Ls=h.__private__.putInfo=function(){var ue=wt(),He=function(kt){return kt};for(var jt in d!==null&&(He=Ba.encryptor(ue,0)),J("<<"),J("/Producer ("+Sa(He("jsPDF "+la.version))+")"),Ge)Ge.hasOwnProperty(jt)&&Ge[jt]&&J("/"+jt.substr(0,1).toUpperCase()+jt.substr(1)+" ("+Sa(He(Ge[jt]))+")");J("/CreationDate ("+Sa(He(ie))+")"),J(">>"),J("endobj")},us=h.__private__.putCatalog=function(ue){var He=(ue=ue||{}).rootDictionaryObjId||ot;switch(wt(),J("<<"),J("/Type /Catalog"),J("/Pages "+He+" 0 R"),nt||(nt="fullwidth"),nt){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var jt=""+nt;jt.substr(jt.length-1)==="%"&&(nt=parseInt(nt)/100),typeof nt=="number"&&J("/OpenAction [3 0 R /XYZ null null "+P(nt)+"]")}switch(Ve||(Ve="continuous"),Ve){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}at&&J("/PageMode /"+at),Dt.publish("putCatalog"),J(">>"),J("endobj")},hn=h.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(pe+1)),J("/Root "+pe+" 0 R"),J("/Info "+(pe-1)+" 0 R"),d!==null&&J("/Encrypt "+Ba.oid+" 0 R"),J("/ID [ <"+X+"> <"+X+"> ]"),J(">>")},Ed=h.__private__.putHeader=function(){J("%PDF-"+y),J("%")},vc=h.__private__.putXRef=function(){var ue="0000000000";J("xref"),J("0 "+(pe+1)),J("0000000000 65535 f ");for(var He=1;He<=pe;He++)typeof xe[He]=="function"?J((ue+xe[He]()).slice(-10)+" 00000 n "):xe[He]!==void 0?J((ue+xe[He]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},Ai=h.__private__.buildDocument=function(){var ue;pe=0,Y=0,Ae=[],xe=[],se=[],ot=Xt(),dt=Xt(),ce(Ae),Dt.publish("buildDocument"),Ed(),it(),(function(){Dt.publish("putAdditionalObjects");for(var jt=0;jt<se.length;jt++){var kt=se[jt];Oe(kt.objId,!0),J(kt.content),J("endobj")}Dt.publish("postPutAdditionalObjects")})(),ue=[],(function(){for(var jt in pt)pt.hasOwnProperty(jt)&&(A===!1||A===!0&&m.hasOwnProperty(jt))&&vt(pt[jt])})(),(function(){var jt;for(jt in Qe)Qe.hasOwnProperty(jt)&&dr(Qe[jt])})(),(function(){for(var jt in cr)cr.hasOwnProperty(jt)&&It(cr[jt])})(),(function(jt){var kt;for(kt in Pe)Pe.hasOwnProperty(kt)&&(Pe[kt]instanceof Jm?Mt(Pe[kt]):Pe[kt]instanceof mp&&fr(Pe[kt],jt))})(ue),Dt.publish("putResources"),ue.forEach(sr),sr({resourcesOid:dt,objectOid:Number.MAX_SAFE_INTEGER}),Dt.publish("postPutResources"),d!==null&&(Ba.oid=wt(),J("<<"),J("/Filter /Standard"),J("/V "+Ba.v),J("/R "+Ba.r),J("/U <"+Ba.toHexString(Ba.U)+">"),J("/O <"+Ba.toHexString(Ba.O)+">"),J("/P "+Ba.P),J(">>"),J("endobj")),Ls(),us();var He=Y;return vc(),hn(),J("startxref"),J(""+He),J("%%EOF"),ce(ee[R]),Ae.join(`
`)},Uo=h.__private__.getBlob=function(ue){return new Blob([Je(ue)],{type:"application/pdf"})},fs=h.output=h.__private__.output=(oa=function(ue,He){switch(typeof(He=He||{})=="string"?He={filename:He}:He.filename=He.filename||"generated.pdf",ue){case void 0:return Ai();case"save":h.save(He.filename);break;case"arraybuffer":return Je(Ai());case"blob":return Uo(Ai());case"bloburi":case"bloburl":if(Ha.URL!==void 0&&typeof Ha.URL.createObjectURL=="function")return Ha.URL&&Ha.URL.createObjectURL(Uo(Ai()))||void 0;Zs.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var jt="",kt=Ai();try{jt=zP(kt)}catch{jt=zP(unescape(encodeURIComponent(kt)))}return"data:application/pdf;filename="+He.filename+";base64,"+jt;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ha)==="[object Window]"){var Qt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",lr=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';He.pdfObjectUrl&&(Qt=He.pdfObjectUrl,lr="");var mr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Qt+'"'+lr+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(He)+");<\/script></body></html>",Hr=Ha.open();return Hr!==null&&Hr.document.write(mr),Hr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ha)==="[object Window]"){var Kr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(He.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+He.filename+'" width="500px" height="400px" /></body></html>',fa=Ha.open();if(fa!==null){fa.document.write(Kr);var ma=this;fa.document.documentElement.querySelector("#pdfViewer").onload=function(){fa.document.title=He.filename,fa.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ma.output("bloburl"))}}return fa}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ha)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var nn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",He)+'"></iframe></body></html>',Bn=Ha.open();if(Bn!==null&&(Bn.document.write(nn),Bn.document.title=He.filename),Bn||typeof safari>"u")return Bn;break;case"datauri":case"dataurl":return Ha.document.location.href=this.output("datauristring",He);default:return null}},oa.foo=function(){try{return oa.apply(this,arguments)}catch(jt){var ue=jt.stack||"";~ue.indexOf(" at ")&&(ue=ue.split(" at ")[1]);var He="Error in function "+ue.split(`
`)[0].split("<")[0]+": "+jt.message;if(!Ha.console)throw new Error(He);Ha.console.error(He,jt),Ha.alert&&alert(He)}},oa.foo.bar=oa,oa.foo),es=function(ue){return Array.isArray(Wt)===!0&&Wt.indexOf(ue)>-1};switch(a){case"pt":Le=1;break;case"mm":Le=72/25.4;break;case"cm":Le=72/2.54;break;case"in":Le=72;break;case"px":Le=es("px_scaling")==1?.75:96/72;break;case"pc":case"em":Le=12;break;case"ex":Le=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);Le=a}var Ba=null;ve(),re();var ql=h.__private__.getPageInfo=h.getPageInfo=function(ue){if(isNaN(ue)||ue%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:_t[ue].objId,pageNumber:ue,pageContext:_t[ue]}},ru=h.__private__.getPageInfoByObjId=function(ue){if(isNaN(ue)||ue%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var He in _t)if(_t[He].objId===ue)break;return ql(He)},au=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:_t[R].objId,pageNumber:R,pageContext:_t[R]}};h.addPage=function(){return Nn.apply(this,arguments),this},h.setPage=function(){return Bi.apply(this,arguments),ce.call(this,ee[R]),this},h.insertPage=function(ue){return this.addPage(),this.movePage(R,ue),this},h.movePage=function(ue,He){var jt,kt;if(ue>He){jt=ee[ue],kt=_t[ue];for(var Qt=ue;Qt>He;Qt--)ee[Qt]=ee[Qt-1],_t[Qt]=_t[Qt-1];ee[He]=jt,_t[He]=kt,this.setPage(He)}else if(ue<He){jt=ee[ue],kt=_t[ue];for(var lr=ue;lr<He;lr++)ee[lr]=ee[lr+1],_t[lr]=_t[lr+1];ee[He]=jt,_t[He]=kt,this.setPage(He)}return this},h.deletePage=function(){return ds.apply(this,arguments),this},h.__private__.text=h.text=function(ue,He,jt,kt,Qt){var lr,mr,Hr,Kr,fa,ma,nn,Bn,hs,te=(kt=kt||{}).scope||this;if(typeof ue=="number"&&typeof He=="number"&&(typeof jt=="string"||Array.isArray(jt))){var Re=jt;jt=He,He=ue,ue=Re}if(arguments[3]instanceof Fr==0?(Hr=arguments[4],Kr=arguments[5],va(nn=arguments[3])==="object"&&nn!==null||(typeof Hr=="string"&&(Kr=Hr,Hr=null),typeof nn=="string"&&(Kr=nn,nn=null),typeof nn=="number"&&(Hr=nn,nn=null),kt={flags:nn,angle:Hr,align:Kr})):(Q("The transform parameter of text() with a Matrix value"),hs=Qt),isNaN(He)||isNaN(jt)||ue==null)throw new Error("Invalid arguments passed to jsPDF.text");if(ue.length===0)return te;var Nt,Bt="",Rt=typeof kt.lineHeightFactor=="number"?kt.lineHeightFactor:Ro,Zt=te.internal.scaleFactor;function yr(pa){return pa=pa.split("	").join(Array(kt.TabLen||9).join(" ")),Sa(pa,nn)}function Pr(pa){for(var $a,Qn=pa.concat(),Ja=[],jo=Qn.length;jo--;)typeof($a=Qn.shift())=="string"?Ja.push($a):Array.isArray(pa)&&($a.length===1||$a[1]===void 0&&$a[2]===void 0)?Ja.push($a[0]):Ja.push([$a[0],$a[1],$a[2]]);return Ja}function Vr(pa,$a){var Qn;if(typeof pa=="string")Qn=$a(pa)[0];else if(Array.isArray(pa)){for(var Ja,jo,Sl=pa.concat(),fl=[],Vo=Sl.length;Vo--;)typeof(Ja=Sl.shift())=="string"?fl.push($a(Ja)[0]):Array.isArray(Ja)&&typeof Ja[0]=="string"&&(jo=$a(Ja[0],Ja[1],Ja[2]),fl.push([jo[0],jo[1],jo[2]]));Qn=fl}return Qn}var da=!1,ua=!0;if(typeof ue=="string")da=!0;else if(Array.isArray(ue)){var Ma=ue.concat();mr=[];for(var An,Pa=Ma.length;Pa--;)(typeof(An=Ma.shift())!="string"||Array.isArray(An)&&typeof An[0]!="string")&&(ua=!1);da=ua}if(da===!1)throw new Error('Type of text must be string or Array. "'+ue+'" is not recognized.');typeof ue=="string"&&(ue=ue.match(/[\r?\n]/)?ue.split(/\r\n|\r|\n/g):[ue]);var ia=Fe/te.internal.scaleFactor,Rn=ia*(Rt-1);switch(kt.baseline){case"bottom":jt-=Rn;break;case"top":jt+=ia-Rn;break;case"hanging":jt+=ia-2*Rn;break;case"middle":jt+=ia/2-Rn}if((ma=kt.maxWidth||0)>0&&(typeof ue=="string"?ue=te.splitTextToSize(ue,ma):Object.prototype.toString.call(ue)==="[object Array]"&&(ue=ue.reduce(function(pa,$a){return pa.concat(te.splitTextToSize($a,ma))},[]))),lr={text:ue,x:He,y:jt,options:kt,mutex:{pdfEscape:Sa,activeFontKey:bt,fonts:pt,activeFontSize:Fe}},Dt.publish("preProcessText",lr),ue=lr.text,Hr=(kt=lr.options).angle,hs instanceof Fr==0&&Hr&&typeof Hr=="number"){Hr*=Math.PI/180,kt.rotationDirection===0&&(Hr=-Hr),E===C&&(Hr=-Hr);var As=Math.cos(Hr),co=Math.sin(Hr);hs=new Fr(As,co,-co,As,0,0)}else Hr&&Hr instanceof Fr&&(hs=Hr);E!==C||hs||(hs=Sr),(fa=kt.charSpace||zo)!==void 0&&(Bt+=F(z(fa))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Bn=kt.horizontalScale)!==void 0&&(Bt+=F(100*Bn)+` Tz
`),kt.lang;var Va=-1,Dn=kt.renderingMode!==void 0?kt.renderingMode:kt.stroke,wc=te.internal.getCurrentPageInfo().pageContext;switch(Dn){case 0:case!1:case"fill":Va=0;break;case 1:case!0:case"stroke":Va=1;break;case 2:case"fillThenStroke":Va=2;break;case 3:case"invisible":Va=3;break;case 4:case"fillAndAddForClipping":Va=4;break;case 5:case"strokeAndAddPathForClipping":Va=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Va=6;break;case 7:case"addToPathForClipping":Va=7}var xi=wc.usedRenderingMode!==void 0?wc.usedRenderingMode:-1;Va!==-1?Bt+=Va+` Tr
`:xi!==-1&&(Bt+=`0 Tr
`),Va!==-1&&(wc.usedRenderingMode=Va),Kr=kt.align||"left";var qa,dl=Fe*Rt,Mn=te.internal.pageSize.getWidth(),jl=pt[bt];fa=kt.charSpace||zo,ma=kt.maxWidth||0,nn=Object.assign({autoencode:!0,noBOM:!0},kt.flags);var Vs=[],kn=function(pa){return te.getStringUnitWidth(pa,{font:jl,charSpace:fa,fontSize:Fe,doKerning:!1})*Fe/Zt};if(Object.prototype.toString.call(ue)==="[object Array]"){var Ta;mr=Pr(ue),Kr!=="left"&&(qa=mr.map(kn));var ni,wo=0;if(Kr==="right"){He-=qa[0],ue=[],Pa=mr.length;for(var No=0;No<Pa;No++)No===0?(ni=Ho(He),Ta=Fi(jt)):(ni=z(wo-qa[No]),Ta=-dl),ue.push([mr[No],ni,Ta]),wo=qa[No]}else if(Kr==="center"){He-=qa[0]/2,ue=[],Pa=mr.length;for(var Ds=0;Ds<Pa;Ds++)Ds===0?(ni=Ho(He),Ta=Fi(jt)):(ni=z((wo-qa[Ds])/2),Ta=-dl),ue.push([mr[Ds],ni,Ta]),wo=qa[Ds]}else if(Kr==="left"){ue=[],Pa=mr.length;for(var Nc=0;Nc<Pa;Nc++)ue.push(mr[Nc])}else if(Kr==="justify"&&jl.encoding==="Identity-H"){ue=[],Pa=mr.length,ma=ma!==0?ma:Mn;for(var Zl=0,rs=0;rs<Pa;rs++)if(Ta=rs===0?Fi(jt):-dl,ni=rs===0?Ho(He):Zl,rs<Pa-1){var Vn=z((ma-qa[rs])/(mr[rs].split(" ").length-1)),mn=mr[rs].split(" ");ue.push([mn[0]+" ",ni,Ta]),Zl=0;for(var ms=1;ms<mn.length;ms++){var qn=(kn(mn[ms-1]+" "+mn[ms])-kn(mn[ms]))*Zt+Vn;ms==mn.length-1?ue.push([mn[ms],qn,0]):ue.push([mn[ms]+" ",qn,0]),Zl-=qn}}else ue.push([mr[rs],ni,Ta]);ue.push(["",Zl,0])}else{if(Kr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(ue=[],Pa=mr.length,ma=ma!==0?ma:Mn,rs=0;rs<Pa;rs++){Ta=rs===0?Fi(jt):-dl,ni=rs===0?Ho(He):0;var si=mr[rs].split(" ").length-1,ul=si>0?(ma-qa[rs])/si:0;rs<Pa-1?Vs.push(F(z(ul))):Vs.push(0),ue.push([mr[rs],ni,Ta])}}}(typeof kt.R2L=="boolean"?kt.R2L:Me)===!0&&(ue=Vr(ue,function(pa,$a,Qn){return[pa.split("").reverse().join(""),$a,Qn]})),lr={text:ue,x:He,y:jt,options:kt,mutex:{pdfEscape:Sa,activeFontKey:bt,fonts:pt,activeFontSize:Fe}},Dt.publish("postProcessText",lr),ue=lr.text,Nt=lr.mutex.isHex||!1;var ii=pt[bt].encoding;ii!=="WinAnsiEncoding"&&ii!=="StandardEncoding"||(ue=Vr(ue,function(pa,$a,Qn){return[yr(pa),$a,Qn]})),mr=Pr(ue),ue=[];for(var Kn,uo,qs,Ks=Array.isArray(mr[0])?1:0,as="",Ki=function(pa,$a,Qn){var Ja="";return Qn instanceof Fr?(Qn=typeof kt.angle=="number"?jr(Qn,new Fr(1,0,0,1,pa,$a)):jr(new Fr(1,0,0,1,pa,$a),Qn),E===C&&(Qn=jr(new Fr(1,0,0,-1,0,0),Qn)),Ja=Qn.join(" ")+` Tm
`):Ja=F(pa)+" "+F($a)+` Td
`,Ja},yn=0;yn<mr.length;yn++){switch(as="",Ks){case 1:qs=(Nt?"<":"(")+mr[yn][0]+(Nt?">":")"),Kn=parseFloat(mr[yn][1]),uo=parseFloat(mr[yn][2]);break;case 0:qs=(Nt?"<":"(")+mr[yn]+(Nt?">":")"),Kn=Ho(He),uo=Fi(jt)}Vs!==void 0&&Vs[yn]!==void 0&&(as=Vs[yn]+` Tw
`),yn===0?ue.push(as+Ki(Kn,uo,hs)+qs):Ks===0?ue.push(as+qs):Ks===1&&ue.push(as+Ki(Kn,uo,hs)+qs)}ue=Ks===0?ue.join(` Tj
T* `):ue.join(` Tj
`),ue+=` Tj
`;var Ns=`BT
/`;return Ns+=bt+" "+Fe+` Tf
`,Ns+=F(Fe*Rt)+` TL
`,Ns+=$o+`
`,Ns+=Bt,Ns+=ue,J(Ns+="ET"),m[bt]=!0,te};var Kl=h.__private__.clip=h.clip=function(ue){return J(ue==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return Kl("evenodd")},h.__private__.discardPath=h.discardPath=function(){return J("n"),this};var sl=h.__private__.isValidStyle=function(ue){var He=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(ue)!==-1&&(He=!0),He};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(ue){return sl(ue)&&(u=ue),this};var Bd=h.__private__.getStyle=h.getStyle=function(ue){var He=u;switch(ue){case"D":case"S":He="S";break;case"F":He="f";break;case"FD":case"DF":He="B";break;case"f":case"f*":case"B":case"B*":He=ue}return He},Gl=h.close=function(){return J("h"),this};h.stroke=function(){return J("S"),this},h.fill=function(ue){return vo("f",ue),this},h.fillEvenOdd=function(ue){return vo("f*",ue),this},h.fillStroke=function(ue){return vo("B",ue),this},h.fillStrokeEvenOdd=function(ue){return vo("B*",ue),this};var vo=function(ue,He){va(He)==="object"?su(He,ue):J(ue)},Td=function(ue){ue===null||E===C&&ue===void 0||(ue=Bd(ue),J(ue))};function nu(ue,He,jt,kt,Qt){var lr=new mp(He||this.boundingBox,jt||this.xStep,kt||this.yStep,this.gState,Qt||this.matrix);lr.stream=this.stream;var mr=ue+"$$"+this.cloneIndex+++"$$";return ca(mr,lr),lr}var su=function(ue,He){var jt=mt[ue.key],kt=Pe[jt];if(kt instanceof Jm)J("q"),J(Wl(He)),kt.gState&&h.setGState(kt.gState),J(ue.matrix.toString()+" cm"),J("/"+jt+" sh"),J("Q");else if(kt instanceof mp){var Qt=new Fr(1,0,0,-1,0,ad());ue.matrix&&(Qt=Qt.multiply(ue.matrix||Sr),jt=nu.call(kt,ue.key,ue.boundingBox,ue.xStep,ue.yStep,Qt).id),J("q"),J("/Pattern cs"),J("/"+jt+" scn"),kt.gState&&h.setGState(kt.gState),J(He),J("Q")}},Wl=function(ue){switch(ue){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Yl=h.moveTo=function(ue,He){return J(F(z(ue))+" "+F(W(He))+" m"),this},Vi=h.lineTo=function(ue,He){return J(F(z(ue))+" "+F(W(He))+" l"),this},mi=h.curveTo=function(ue,He,jt,kt,Qt,lr){return J([F(z(ue)),F(W(He)),F(z(jt)),F(W(kt)),F(z(Qt)),F(W(lr)),"c"].join(" ")),this};h.__private__.line=h.line=function(ue,He,jt,kt,Qt){if(isNaN(ue)||isNaN(He)||isNaN(jt)||isNaN(kt)||!sl(Qt))throw new Error("Invalid arguments passed to jsPDF.line");return E===j?this.lines([[jt-ue,kt-He]],ue,He,[1,1],Qt||"S"):this.lines([[jt-ue,kt-He]],ue,He,[1,1]).stroke()},h.__private__.lines=h.lines=function(ue,He,jt,kt,Qt,lr){var mr,Hr,Kr,fa,ma,nn,Bn,hs,te,Re,Nt,Bt;if(typeof ue=="number"&&(Bt=jt,jt=He,He=ue,ue=Bt),kt=kt||[1,1],lr=lr||!1,isNaN(He)||isNaN(jt)||!Array.isArray(ue)||!Array.isArray(kt)||!sl(Qt)||typeof lr!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Yl(He,jt),mr=kt[0],Hr=kt[1],fa=ue.length,Re=He,Nt=jt,Kr=0;Kr<fa;Kr++)(ma=ue[Kr]).length===2?(Re=ma[0]*mr+Re,Nt=ma[1]*Hr+Nt,Vi(Re,Nt)):(nn=ma[0]*mr+Re,Bn=ma[1]*Hr+Nt,hs=ma[2]*mr+Re,te=ma[3]*Hr+Nt,Re=ma[4]*mr+Re,Nt=ma[5]*Hr+Nt,mi(nn,Bn,hs,te,Re,Nt));return lr&&Gl(),Td(Qt),this},h.path=function(ue){for(var He=0;He<ue.length;He++){var jt=ue[He],kt=jt.c;switch(jt.op){case"m":Yl(kt[0],kt[1]);break;case"l":Vi(kt[0],kt[1]);break;case"c":mi.apply(this,kt);break;case"h":Gl()}}return this},h.__private__.rect=h.rect=function(ue,He,jt,kt,Qt){if(isNaN(ue)||isNaN(He)||isNaN(jt)||isNaN(kt)||!sl(Qt))throw new Error("Invalid arguments passed to jsPDF.rect");return E===j&&(kt=-kt),J([F(z(ue)),F(W(He)),F(z(jt)),F(z(kt)),"re"].join(" ")),Td(Qt),this},h.__private__.triangle=h.triangle=function(ue,He,jt,kt,Qt,lr,mr){if(isNaN(ue)||isNaN(He)||isNaN(jt)||isNaN(kt)||isNaN(Qt)||isNaN(lr)||!sl(mr))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[jt-ue,kt-He],[Qt-jt,lr-kt],[ue-Qt,He-lr]],ue,He,[1,1],mr,!0),this},h.__private__.roundedRect=h.roundedRect=function(ue,He,jt,kt,Qt,lr,mr){if(isNaN(ue)||isNaN(He)||isNaN(jt)||isNaN(kt)||isNaN(Qt)||isNaN(lr)||!sl(mr))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Hr=4/3*(Math.SQRT2-1);return Qt=Math.min(Qt,.5*jt),lr=Math.min(lr,.5*kt),this.lines([[jt-2*Qt,0],[Qt*Hr,0,Qt,lr-lr*Hr,Qt,lr],[0,kt-2*lr],[0,lr*Hr,-Qt*Hr,lr,-Qt,lr],[2*Qt-jt,0],[-Qt*Hr,0,-Qt,-lr*Hr,-Qt,-lr],[0,2*lr-kt],[0,-lr*Hr,Qt*Hr,-lr,Qt,-lr]],ue+Qt,He,[1,1],mr,!0),this},h.__private__.ellipse=h.ellipse=function(ue,He,jt,kt,Qt){if(isNaN(ue)||isNaN(He)||isNaN(jt)||isNaN(kt)||!sl(Qt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var lr=4/3*(Math.SQRT2-1)*jt,mr=4/3*(Math.SQRT2-1)*kt;return Yl(ue+jt,He),mi(ue+jt,He-mr,ue+lr,He-kt,ue,He-kt),mi(ue-lr,He-kt,ue-jt,He-mr,ue-jt,He),mi(ue-jt,He+mr,ue-lr,He+kt,ue,He+kt),mi(ue+lr,He+kt,ue+jt,He+mr,ue+jt,He),Td(Qt),this},h.__private__.circle=h.circle=function(ue,He,jt,kt){if(isNaN(ue)||isNaN(He)||isNaN(jt)||!sl(kt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(ue,He,jt,jt,kt)},h.setFont=function(ue,He,jt){return jt&&(He=L(He,jt)),bt=Ti(ue,He,{disableWarning:!1}),this};var ai=h.__private__.getFont=h.getFont=function(){return pt[Ti.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var ue,He,jt={};for(ue in At)if(At.hasOwnProperty(ue))for(He in jt[ue]=[],At[ue])At[ue].hasOwnProperty(He)&&jt[ue].push(He);return jt},h.addFont=function(ue,He,jt,kt,Qt){var lr=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&lr.indexOf(arguments[3])!==-1?Qt=arguments[3]:arguments[3]&&lr.indexOf(arguments[3])==-1&&(jt=L(jt,kt)),Na.call(this,ue,He,jt,Qt=Qt||"Identity-H")};var Ro,il=e.lineWidth||.200025,Nr=h.__private__.getLineWidth=h.getLineWidth=function(){return il},iu=h.__private__.setLineWidth=h.setLineWidth=function(ue){return il=ue,J(F(z(ue))+" w"),this};h.__private__.setLineDash=la.API.setLineDash=la.API.setLineDashPattern=function(ue,He){if(ue=ue||[],He=He||0,isNaN(He)||!Array.isArray(ue))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return ue=ue.map(function(jt){return F(z(jt))}).join(" "),He=F(z(He)),J("["+ue+"] "+He+" d"),this};var Du=h.__private__.getLineHeight=h.getLineHeight=function(){return Fe*Ro};h.__private__.getLineHeight=h.getLineHeight=function(){return Fe*Ro};var so=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(ue){return typeof(ue=ue||1.15)=="number"&&(Ro=ue),this},Qo=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return Ro};so(e.lineHeight);var Ho=h.__private__.getHorizontalCoordinate=function(ue){return z(ue)},Fi=h.__private__.getVerticalCoordinate=function(ue){return E===C?ue:_t[R].mediaBox.topRightY-_t[R].mediaBox.bottomLeftY-z(ue)},ws=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(ue){return F(Ho(ue))},Fd=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(ue){return F(Fi(ue))},Nl=e.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return Ie(Nl)},h.__private__.setStrokeColor=h.setDrawColor=function(ue,He,jt,kt){return Nl=Ne({ch1:ue,ch2:He,ch3:jt,ch4:kt,pdfColorType:"draw",precision:2}),J(Nl),this};var rd=e.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return Ie(rd)},h.__private__.setFillColor=h.setFillColor=function(ue,He,jt,kt){return rd=Ne({ch1:ue,ch2:He,ch3:jt,ch4:kt,pdfColorType:"fill",precision:2}),J(rd),this};var $o=e.textColor||"0 g",bo=h.__private__.getTextColor=h.getTextColor=function(){return Ie($o)};h.__private__.setTextColor=h.setTextColor=function(ue,He,jt,kt){return $o=Ne({ch1:ue,ch2:He,ch3:jt,ch4:kt,pdfColorType:"text",precision:3}),this};var zo=e.charSpace,pi=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(zo||0)};h.__private__.setCharSpace=h.setCharSpace=function(ue){if(isNaN(ue))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return zo=ue,this};var _i=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(ue){var He=h.CapJoinStyles[ue];if(He===void 0)throw new Error("Line cap style of '"+ue+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return _i=He,J(He+" J"),this};var ol=0;h.__private__.setLineJoin=h.setLineJoin=function(ue){var He=h.CapJoinStyles[ue];if(He===void 0)throw new Error("Line join style of '"+ue+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ol=He,J(He+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(ue){if(ue=ue||0,isNaN(ue))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(F(z(ue))+" M"),this},h.GState=hv,h.setGState=function(ue){(ue=typeof ue=="string"?Qe[st[ue]]:io(null,ue)).equals(tt)||(J("/"+ue.id+" gs"),tt=ue)};var io=function(ue,He){if(!ue||!st[ue]){var jt=!1;for(var kt in Qe)if(Qe.hasOwnProperty(kt)&&Qe[kt].equals(He)){jt=!0;break}if(jt)He=Qe[kt];else{var Qt="GS"+(Object.keys(Qe).length+1).toString(10);Qe[Qt]=He,He.id=Qt}return ue&&(st[ue]=He.id),Dt.publish("addGState",He),He}};h.addGState=function(ue,He){return io(ue,He),this},h.saveGraphicsState=function(){return J("q"),qe.push({key:bt,size:Fe,color:$o}),this},h.restoreGraphicsState=function(){J("Q");var ue=qe.pop();return bt=ue.key,Fe=ue.size,$o=ue.color,tt=null,this},h.setCurrentTransformationMatrix=function(ue){return J(ue.toString()+" cm"),this},h.comment=function(ue){return J("#"+ue),this};var bc=function(ue,He){var jt=ue||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return jt},set:function(lr){isNaN(lr)||(jt=parseFloat(lr))}});var kt=He||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return kt},set:function(lr){isNaN(lr)||(kt=parseFloat(lr))}});var Qt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Qt},set:function(lr){Qt=lr.toString()}}),this},ts=function(ue,He,jt,kt){bc.call(this,ue,He),this.type="rect";var Qt=jt||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Qt},set:function(mr){isNaN(mr)||(Qt=parseFloat(mr))}});var lr=kt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return lr},set:function(mr){isNaN(mr)||(lr=parseFloat(mr))}}),this},Xl=function(){this.page=Ft,this.currentPage=R,this.pages=ee.slice(0),this.pagesContext=_t.slice(0),this.x=je,this.y=Ze,this.matrix=Te,this.width=ll(R),this.height=oo(R),this.outputDestination=Ce,this.id="",this.objectNumber=-1};Xl.prototype.restore=function(){Ft=this.page,R=this.currentPage,_t=this.pagesContext,ee=this.pages,je=this.x,Ze=this.y,Te=this.matrix,Mu(R,this.width),Os(R,this.height),Ce=this.outputDestination};var qi=function(ue,He,jt,kt,Qt){Ea.push(new Xl),Ft=R=0,ee=[],je=ue,Ze=He,Te=Qt,za([jt,kt])};for(var gi in h.beginFormObject=function(ue,He,jt,kt,Qt){return qi(ue,He,jt,kt,Qt),this},h.endFormObject=function(ue){return(function(He){if(Dr[He])Ea.pop().restore();else{var jt=new Xl,kt="Xo"+(Object.keys(cr).length+1).toString(10);jt.id=kt,Dr[He]=kt,cr[kt]=jt,Dt.publish("addFormObject",jt),Ea.pop().restore()}})(ue),this},h.doFormObject=function(ue,He){var jt=cr[Dr[ue]];return J("q"),J(He.toString()+" cm"),J("/"+jt.id+" Do"),J("Q"),this},h.getFormObject=function(ue){var He=cr[Dr[ue]];return{x:He.x,y:He.y,width:He.width,height:He.height,matrix:He.matrix}},h.save=function(ue,He){return ue=ue||"generated.pdf",(He=He||{}).returnPromise=He.returnPromise||!1,He.returnPromise===!1?(lp(Uo(Ai()),ue),typeof lp.unload=="function"&&Ha.setTimeout&&setTimeout(lp.unload,911),this):new Promise(function(jt,kt){try{var Qt=lp(Uo(Ai()),ue);typeof lp.unload=="function"&&Ha.setTimeout&&setTimeout(lp.unload,911),jt(Qt)}catch(lr){kt(lr.message)}})},la.API)la.API.hasOwnProperty(gi)&&(gi==="events"&&la.API.events.length?(function(ue,He){var jt,kt,Qt;for(Qt=He.length-1;Qt!==-1;Qt--)jt=He[Qt][0],kt=He[Qt][1],ue.subscribe.apply(ue,[jt].concat(typeof kt=="function"?[kt]:kt))})(Dt,la.API.events):h[gi]=la.API[gi]);function ll(ue){return _t[ue].mediaBox.topRightX-_t[ue].mediaBox.bottomLeftX}function Mu(ue,He){_t[ue].mediaBox.topRightX=He+_t[ue].mediaBox.bottomLeftX}function oo(ue){return _t[ue].mediaBox.topRightY-_t[ue].mediaBox.bottomLeftY}function Os(ue,He){_t[ue].mediaBox.topRightY=He+_t[ue].mediaBox.bottomLeftY}var cl=h.getPageWidth=function(ue){return ll(ue=ue||R)/Le},Jl=h.setPageWidth=function(ue,He){Mu(ue,He*Le)},ad=h.getPageHeight=function(ue){return oo(ue=ue||R)/Le},lo=h.setPageHeight=function(ue,He){Os(ue,He*Le)};return h.internal={pdfEscape:Sa,getStyle:Bd,getFont:ai,getFontSize:Se,getCharSpace:pi,getTextColor:bo,getLineHeight:Du,getLineHeightFactor:Qo,getLineWidth:Nr,write:ge,getHorizontalCoordinate:Ho,getVerticalCoordinate:Fi,getCoordinateString:ws,getVerticalCoordinateString:Fd,collections:{},newObject:wt,newAdditionalObject:ut,newObjectDeferred:Xt,newObjectDeferredBegin:Oe,getFilters:ct,putStream:Ye,events:Dt,scaleFactor:Le,pageSize:{getWidth:function(){return cl(R)},setWidth:function(ue){Jl(R,ue)},getHeight:function(){return ad(R)},setHeight:function(ue){lo(R,ue)}},encryptionOptions:d,encryption:Ba,getEncryptor:function(ue){return d!==null?Ba.encryptor(ue,0):function(He){return He}},output:fs,getNumberOfPages:no,pages:ee,out:J,f2:P,f3:I,getPageInfo:ql,getPageInfoByObjId:ru,getCurrentPageInfo:au,getPDFVersion:x,Point:bc,Rectangle:ts,Matrix:Fr,hasHotfix:es},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return cl(R)},set:function(ue){Jl(R,ue)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return ad(R)},set:function(ue){lo(R,ue)},enumerable:!0,configurable:!0}),(function(ue){for(var He=0,jt=Ke.length;He<jt;He++){var kt=Na.call(this,ue[He][0],ue[He][1],ue[He][2],Ke[He][3],!0);A===!1&&(m[kt]=!0);var Qt=ue[He][0].split("-");Yr({id:kt,fontName:Qt[0],fontStyle:Qt[1]||""})}Dt.publish("addFonts",{fonts:pt,dictionary:At})}).call(h,Ke),bt="F1",Nn(s,r),Dt.publish("initialized"),h}Wg.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Wg.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Wg.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Wg.prototype.processOwnerPassword=function(e,t){return g6(p6(t).substr(0,5),e)},Wg.prototype.encryptor=function(e,t){var r=p6(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(a){return g6(r,a)}},hv.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||va(e)!==va(this))return!1;var a=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;a++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&a--;return a===0},la.API={events:[]},la.version="3.0.3";var po=la.API,MB=1,ig=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ug=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},tn=function(e){return e.toFixed(2)},Km=function(e){return e.toFixed(5)};po.__acroform__={};var Zd=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},GP=function(e){return e*MB},Mh=function(e){var t=new L$,r=Jr.internal.getHeight(e)||0,a=Jr.internal.getWidth(e)||0;return t.BBox=[0,0,Number(tn(a)),Number(tn(r))],t},ype=po.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},vpe=po.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},bpe=po.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},ko=po.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return bpe(e,t-1)},Io=po.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return ype(e,t-1)},Po=po.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return vpe(e,t-1)},wpe=po.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,a=t.internal.getVerticalCoordinate,s=e[0],i=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=r(s)||0,c.lowerLeft_Y=a(i+l)||0,c.upperRight_X=r(s+o)||0,c.upperRight_Y=a(i)||0,[Number(tn(c.lowerLeft_X)),Number(tn(c.lowerLeft_Y)),Number(tn(c.upperRight_X)),Number(tn(c.upperRight_Y))]},Npe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,a=x6(e,r),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+tn(a.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Mh(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},x6=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,a={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(P){return P.split(`
`)}):s.map(function(P){return[P]});var i=r,o=Jr.internal.getHeight(e)||0;o=o<0?-o:o;var l=Jr.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(P,I,z){if(P+1<s.length){var W=I+" "+s[P+1][0];return Ib(W,e,z).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var u,d,A=Ib("3",e,i).height,m=e.multiline?o-i:(o-A)/2,h=m+=2,y=0,x=0,v=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Ib(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var b="",j=0,C=0;C<s.length;C++)if(s.hasOwnProperty(C)){var E=!1;if(s[C].length!==1&&v!==s[C].length-1){if((A+2)*(j+2)+2>o)continue e;b+=s[C][v],E=!0,x=C,C--}else{b=(b+=s[C][v]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var k=parseInt(C),D=c(k,b,i),L=C>=s.length-1;if(D&&!L){b+=" ",v=0;continue}if(D||L){if(L)x=k;else if(e.multiline&&(A+2)*(j+2)+2>o)continue e}else{if(!e.multiline||(A+2)*(j+2)+2>o)continue e;x=k}}for(var F="",Q=y;Q<=x;Q++){var U=s[Q];if(e.multiline){if(Q===x){F+=U[v]+" ",v=(v+1)%U.length;continue}if(Q===y){F+=U[U.length-1]+" ";continue}}F+=U[0]+" "}switch(F=F.substr(F.length-1)==" "?F.substr(0,F.length-1):F,d=Ib(F,e,i).width,e.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;default:u=2}t+=tn(u)+" "+tn(h)+` Td
`,t+="("+ig(F)+`) Tj
`,t+=-tn(u)+` 0 Td
`,h=-(i+2),d=0,y=E?x:x+1,j++,b=""}break}return a.text=t,a.fontSize=i,a},Ib=function(e,t,r){var a=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:a,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},jpe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Spe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(a){return a.type===r.type&&a.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},Cpe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(hh.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(jpe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");MB=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new O$,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in a)if(a.hasOwnProperty(s)){var i=a[s];i.objId=void 0,i.hasAnnotation&&Spe(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(a,s){var i=!a;for(var o in a||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(o)){var l=a[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=wpe(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Jr.createDefaultAppearanceStream(l),va(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=Npe(l);c.push({key:"AP",value:"<</N "+d+">>"}),s.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var A="";for(var m in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(m)){var h=l.appearanceStreamContent[m];if(A+="/"+m+" ",A+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var o in h)if(h.hasOwnProperty(o)){var y=h[o];typeof y=="function"&&(y=y.call(s,l)),A+="/"+o+" "+y+" ",s.internal.acroformPlugin.xForms.indexOf(y)>=0||s.internal.acroformPlugin.xForms.push(y)}}else typeof(y=h)=="function"&&(y=y.call(s,l)),A+="/"+o+" "+y,s.internal.acroformPlugin.xForms.indexOf(y)>=0||s.internal.acroformPlugin.xForms.push(y);A+=">>"}c.push({key:"AP",value:`<<
`+A+">>"})}s.internal.putStream({additionalKeyValues:c,objectId:l.objId}),s.internal.out("endobj")}i&&(function(x,v){for(var b in x)if(x.hasOwnProperty(b)){var j=b,C=x[b];v.internal.newObjectDeferredBegin(C.objId,!0),va(C)==="object"&&typeof C.putStream=="function"&&C.putStream(),delete x[j]}})(s.internal.acroformPlugin.xForms,s)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},P$=po.__acroform__.arrayToPdfArray=function(e,t,r){var a=function(o){return o};if(Array.isArray(e)){for(var s="[",i=0;i<e.length;i++)switch(i!==0&&(s+=" "),va(e[i])){case"boolean":case"number":case"object":s+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(a=r.internal.getEncryptor(t)),s+="("+ig(a(e[i].toString()))+")"):s+=e[i].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},pS=function(e,t,r){var a=function(s){return s};return t!==void 0&&r&&(a=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+ig(a(e))+")"},Hh=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Hh.prototype.toString=function(){return this.objId+" 0 R"},Hh.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Hh.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var a=t[r],s=this[a];s&&(Array.isArray(s)?e.push({key:a,value:P$(s,this.objId,this.scope)}):s instanceof Hh?(s.scope=this.scope,e.push({key:a,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:a,value:s}))}return e};var L$=function(){Hh.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Zd(L$,Hh);var O$=function(){Hh.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(a){return a};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+ig(r(e))+")"}},set:function(r){e=r}})};Zd(O$,Hh);var hh=function e(){Hh.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');t=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ko(t,3)},set:function(b){b?this.F=Io(t,3):this.F=Po(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');r=b}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(b){a=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(b){a[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(b){a[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(b){a[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(b){a[3]=b}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof c4)return;i="FieldObject"+e.FieldNum++}var b=function(j){return j};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+ig(b(i))+")"},set:function(b){i=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(b){i=b}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(b){c=b}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/MB:u},set:function(b){u=b}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(b){d=b}});var A="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!A||this instanceof c4||this instanceof l0))return pS(A,this.objId,this.scope)},set:function(b){b=b.toString(),A=b}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof yl==0?pS(m,this.objId,this.scope):m},set:function(b){b=b.toString(),m=this instanceof yl==0?b.substr(0,1)==="("?Ug(b.substr(1,b.length-2)):Ug(b):b}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof yl==1?Ug(m.substr(1,m.length-1)):m},set:function(b){b=b.toString(),m=this instanceof yl==1?"/"+b:b}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof yl==0?pS(h,this.objId,this.scope):h},set:function(b){b=b.toString(),h=this instanceof yl==0?b.substr(0,1)==="("?Ug(b.substr(1,b.length-2)):Ug(b):b}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof yl==1?Ug(h.substr(1,h.length-1)):h},set:function(b){b=b.toString(),h=this instanceof yl==1?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(b){b=!!b,x=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(b){y=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ko(this.Ff,1)},set:function(b){b?this.Ff=Io(this.Ff,1):this.Ff=Po(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ko(this.Ff,2)},set:function(b){b?this.Ff=Io(this.Ff,2):this.Ff=Po(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ko(this.Ff,3)},set:function(b){b?this.Ff=Io(this.Ff,3):this.Ff=Po(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');v=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(v){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};Zd(hh,Hh);var Bp=function(){hh.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return P$(t,this.objId,this.scope)},set:function(r){var a,s;s=[],typeof(a=r)=="string"&&(s=(function(i,o,l){l||(l=1);for(var c,u=[];c=o.exec(i);)u.push(c[l]);return u})(a,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,a){for(a=a||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ko(this.Ff,18)},set:function(r){r?this.Ff=Io(this.Ff,18):this.Ff=Po(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ko(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Io(this.Ff,19):this.Ff=Po(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ko(this.Ff,20)},set:function(r){r?(this.Ff=Io(this.Ff,20),t.sort()):this.Ff=Po(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ko(this.Ff,22)},set:function(r){r?this.Ff=Io(this.Ff,22):this.Ff=Po(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ko(this.Ff,23)},set:function(r){r?this.Ff=Io(this.Ff,23):this.Ff=Po(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ko(this.Ff,27)},set:function(r){r?this.Ff=Io(this.Ff,27):this.Ff=Po(this.Ff,27)}}),this.hasAppearanceStream=!1};Zd(Bp,hh);var Tp=function(){Bp.call(this),this.fontName="helvetica",this.combo=!1};Zd(Tp,Bp);var Fp=function(){Tp.call(this),this.combo=!0};Zd(Fp,Tp);var Iy=function(){Fp.call(this),this.edit=!0};Zd(Iy,Fp);var yl=function(){hh.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ko(this.Ff,15)},set:function(r){r?this.Ff=Io(this.Ff,15):this.Ff=Po(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ko(this.Ff,16)},set:function(r){r?this.Ff=Io(this.Ff,16):this.Ff=Po(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ko(this.Ff,17)},set:function(r){r?this.Ff=Io(this.Ff,17):this.Ff=Po(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ko(this.Ff,26)},set:function(r){r?this.Ff=Io(this.Ff,26):this.Ff=Po(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var a,s=[];for(a in s.push("<<"),t)s.push("/"+a+" ("+ig(r(t[a]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){va(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Zd(yl,hh);var Py=function(){yl.call(this),this.pushButton=!0};Zd(Py,yl);var _p=function(){yl.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Zd(_p,yl);var c4=function(){var e,t;hh.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var r,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),a)o.push("/"+i+" ("+ig(s(a[i]))+")");return o.push(">>"),o.join(`
`)},set:function(s){va(s)==="object"&&(a=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(s){typeof s=="string"&&(a.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Jr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Zd(c4,hh),_p.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},_p.prototype.createOption=function(e){var t=new c4;return t.Parent=this,t.optionName=e,this.Kids.push(t),Epe.call(this.scope,t),t};var Ly=function(){yl.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Jr.CheckBox.createAppearanceStream()};Zd(Ly,yl);var l0=function(){hh.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ko(this.Ff,13)},set:function(t){t?this.Ff=Io(this.Ff,13):this.Ff=Po(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ko(this.Ff,21)},set:function(t){t?this.Ff=Io(this.Ff,21):this.Ff=Po(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ko(this.Ff,23)},set:function(t){t?this.Ff=Io(this.Ff,23):this.Ff=Po(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ko(this.Ff,24)},set:function(t){t?this.Ff=Io(this.Ff,24):this.Ff=Po(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ko(this.Ff,25)},set:function(t){t?this.Ff=Io(this.Ff,25):this.Ff=Po(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ko(this.Ff,26)},set:function(t){t?this.Ff=Io(this.Ff,26):this.Ff=Po(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Zd(l0,hh);var Oy=function(){l0.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ko(this.Ff,14)},set:function(e){e?this.Ff=Io(this.Ff,14):this.Ff=Po(this.Ff,14)}}),this.password=!0};Zd(Oy,l0);var Jr={CheckBox:{createAppearanceStream:function(){return{N:{On:Jr.CheckBox.YesNormal},D:{On:Jr.CheckBox.YesPushDown,Off:Jr.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Mh(e);t.scope=e.scope;var r=[],a=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),i=x6(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+tn(Jr.internal.getWidth(e))+" "+tn(Jr.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+a+" "+tn(i.fontSize)+" Tf "+s),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Mh(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),s=[],i=Jr.internal.getHeight(e),o=Jr.internal.getWidth(e),l=x6(e,e.caption);return s.push("1 g"),s.push("0 0 "+tn(o)+" "+tn(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+tn(o-1)+" "+tn(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+tn(l.fontSize)+" Tf "+a),s.push(l.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=Mh(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+tn(Jr.internal.getWidth(e))+" "+tn(Jr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Jr.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Jr.RadioButton.Circle.YesNormal,t.D[e]=Jr.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Mh(e);t.scope=e.scope;var r=[],a=Jr.internal.getWidth(e)<=Jr.internal.getHeight(e)?Jr.internal.getWidth(e)/4:Jr.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var s=Jr.internal.Bezier_C,i=Number((a*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Km(Jr.internal.getWidth(e)/2)+" "+Km(Jr.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Mh(e);t.scope=e.scope;var r=[],a=Jr.internal.getWidth(e)<=Jr.internal.getHeight(e)?Jr.internal.getWidth(e)/4:Jr.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var s=Number((2*a).toFixed(5)),i=Number((s*Jr.internal.Bezier_C).toFixed(5)),o=Number((a*Jr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Km(Jr.internal.getWidth(e)/2)+" "+Km(Jr.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Km(Jr.internal.getWidth(e)/2)+" "+Km(Jr.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),r.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),r.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),r.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Mh(e);t.scope=e.scope;var r=[],a=Jr.internal.getWidth(e)<=Jr.internal.getHeight(e)?Jr.internal.getWidth(e)/4:Jr.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var s=Number((2*a).toFixed(5)),i=Number((s*Jr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Km(Jr.internal.getWidth(e)/2)+" "+Km(Jr.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Jr.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Jr.RadioButton.Cross.YesNormal,t.D[e]=Jr.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Mh(e);t.scope=e.scope;var r=[],a=Jr.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+tn(Jr.internal.getWidth(e)-2)+" "+tn(Jr.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(tn(a.x1.x)+" "+tn(a.x1.y)+" m"),r.push(tn(a.x2.x)+" "+tn(a.x2.y)+" l"),r.push(tn(a.x4.x)+" "+tn(a.x4.y)+" m"),r.push(tn(a.x3.x)+" "+tn(a.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Mh(e);t.scope=e.scope;var r=Jr.internal.calculateCross(e),a=[];return a.push("0.749023 g"),a.push("0 0 "+tn(Jr.internal.getWidth(e))+" "+tn(Jr.internal.getHeight(e))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+tn(Jr.internal.getWidth(e)-2)+" "+tn(Jr.internal.getHeight(e)-2)+" re"),a.push("W"),a.push("n"),a.push(tn(r.x1.x)+" "+tn(r.x1.y)+" m"),a.push(tn(r.x2.x)+" "+tn(r.x2.y)+" l"),a.push(tn(r.x4.x)+" "+tn(r.x4.y)+" m"),a.push(tn(r.x3.x)+" "+tn(r.x3.y)+" l"),a.push("s"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Mh(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+tn(Jr.internal.getWidth(e))+" "+tn(Jr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Jr.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Jr.internal.getWidth(e),r=Jr.internal.getHeight(e),a=Math.min(t,r);return{x1:{x:(t-a)/2,y:(r-a)/2+a},x2:{x:(t-a)/2+a,y:(r-a)/2},x3:{x:(t-a)/2,y:(r-a)/2},x4:{x:(t-a)/2+a,y:(r-a)/2+a}}}},Jr.internal.getWidth=function(e){var t=0;return va(e)==="object"&&(t=GP(e.Rect[2])),t},Jr.internal.getHeight=function(e){var t=0;return va(e)==="object"&&(t=GP(e.Rect[3])),t};var Epe=po.addField=function(e){if(Cpe(this,e),!(e instanceof hh))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};po.AcroFormChoiceField=Bp,po.AcroFormListBox=Tp,po.AcroFormComboBox=Fp,po.AcroFormEditBox=Iy,po.AcroFormButton=yl,po.AcroFormPushButton=Py,po.AcroFormRadioButton=_p,po.AcroFormCheckBox=Ly,po.AcroFormTextField=l0,po.AcroFormPasswordField=Oy,po.AcroFormAppearance=Jr,po.AcroForm={ChoiceField:Bp,ListBox:Tp,ComboBox:Fp,EditBox:Iy,Button:yl,PushButton:Py,RadioButton:_p,CheckBox:Ly,TextField:l0,PasswordField:Oy,Appearance:Jr},la.AcroForm={ChoiceField:Bp,ListBox:Tp,ComboBox:Fp,EditBox:Iy,Button:yl,PushButton:Py,RadioButton:_p,CheckBox:Ly,TextField:l0,PasswordField:Oy,Appearance:Jr};var Bpe=la.AcroForm;function D$(e){return e.reduce(function(t,r,a){return t[r]=a,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",a={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(P,I){var z,W,ie,X,le,re=r;if((I=I||r)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(D(P))for(le in a)for(ie=a[le],z=0;z<ie.length;z+=1){for(X=!0,W=0;W<ie[z].length;W+=1)if(ie[z][W]!==void 0&&ie[z][W]!==P[W]){X=!1;break}if(X===!0){re=le;break}}else for(le in a)for(ie=a[le],z=0;z<ie.length;z+=1){for(X=!0,W=0;W<ie[z].length;W+=1)if(ie[z][W]!==void 0&&ie[z][W]!==P.charCodeAt(W)){X=!1;break}if(X===!0){re=le;break}}return re===r&&I!==r&&(re=I),re},i=function P(I){for(var z=this.internal.write,W=this.internal.putStream,ie=(0,this.internal.getFilters)();ie.indexOf("FlateEncode")!==-1;)ie.splice(ie.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var X=[];if(X.push({key:"Type",value:"/XObject"}),X.push({key:"Subtype",value:"/Image"}),X.push({key:"Width",value:I.width}),X.push({key:"Height",value:I.height}),I.colorSpace===b.INDEXED?X.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(X.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===b.DEVICE_CMYK&&X.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),X.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&X.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)&&I.transparency.length>0){for(var le="",re=0,he=I.transparency.length;re<he;re++)le+=I.transparency[re]+" "+I.transparency[re]+" ";X.push({key:"Mask",value:"["+le+"]"})}I.sMask!==void 0&&X.push({key:"SMask",value:I.objectId+1+" 0 R"});var de=I.filter!==void 0?["/"+I.filter]:void 0;if(W({data:I.data,additionalKeyValues:X,alreadyAppliedFilters:de,objectId:I.objectId}),z("endobj"),"sMask"in I&&I.sMask!==void 0){var ve,B=(ve=I.sMaskBitsPerComponent)!==null&&ve!==void 0?ve:I.bitsPerComponent,R={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:B,data:I.sMask};"filter"in I&&(R.decodeParameters="/Predictor ".concat(I.predictor," /Colors 1 /BitsPerComponent ").concat(B," /Columns ").concat(I.width),R.filter=I.filter),P.call(this,R)}if(I.colorSpace===b.INDEXED){var G=this.internal.newObject();W({data:F(new Uint8Array(I.palette)),objectId:G}),z("endobj")}},o=function(){var P=this.internal.collections[t+"images"];for(var I in P)i.call(this,P[I])},l=function(){var P,I=this.internal.collections[t+"images"],z=this.internal.write;for(var W in I)z("/I"+(P=I[W]).index,P.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var P=this.internal.collections[t+"images"];return c.call(this),P},d=function(){return Object.keys(this.internal.collections[t+"images"]).length},A=function(P){return typeof e["process"+P.toUpperCase()]=="function"},m=function(P){return va(P)==="object"&&P.nodeType===1},h=function(P,I){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var z=""+P.getAttribute("src");if(z.indexOf("data:image/")===0)return mw(unescape(z).split("base64,").pop());var W=e.loadFile(z,!0);if(W!==void 0)return W}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var ie;switch(I){case"PNG":ie="image/png";break;case"WEBP":ie="image/webp";break;default:ie="image/jpeg"}return mw(P.toDataURL(ie,1).split("base64,").pop())}},y=function(P){var I=this.internal.collections[t+"images"];if(I){for(var z in I)if(P===I[z].alias)return I[z]}},x=function(P,I,z){return P||I||(P=-96,I=-96),P<0&&(P=-1*z.width*72/P/this.internal.scaleFactor),I<0&&(I=-1*z.height*72/I/this.internal.scaleFactor),P===0&&(P=I*z.width/z.height),I===0&&(I=P*z.height/z.width),[P,I]},v=function(P,I,z,W,ie,X){var le=x.call(this,z,W,ie),re=this.internal.getCoordinateString,he=this.internal.getVerticalCoordinateString,de=u.call(this);if(z=le[0],W=le[1],de[ie.index]=ie,X){X*=Math.PI/180;var ve=Math.cos(X),B=Math.sin(X),R=function(ne){return ne.toFixed(4)},G=[R(ve),R(B),R(-1*B),R(ve),0,0,"cm"]}this.internal.write("q"),X?(this.internal.write([1,"0","0",1,re(P),he(I+W),"cm"].join(" ")),this.internal.write(G.join(" ")),this.internal.write([re(z),"0","0",re(W),"0","0","cm"].join(" "))):this.internal.write([re(z),"0","0",re(W),re(P),he(I+W),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ie.index+" Do"),this.internal.write("Q")},b=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var j=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},C=e.__addimage__.sHashCode=function(P){var I,z,W=0;if(typeof P=="string")for(z=P.length,I=0;I<z;I++)W=(W<<5)-W+P.charCodeAt(I),W|=0;else if(D(P))for(z=P.byteLength/2,I=0;I<z;I++)W=(W<<5)-W+P[I],W|=0;return W},E=e.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var I=!0;return P.length===0&&(I=!1),P.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(I=!1),I},k=e.__addimage__.extractImageFromDataUrl=function(P){if(P==null||!(P=P.trim()).startsWith("data:"))return null;var I=P.indexOf(",");return I<0?null:P.substring(0,I).trim().endsWith("base64")?P.substring(I+1):null};e.__addimage__.isArrayBuffer=function(P){return P instanceof ArrayBuffer};var D=e.__addimage__.isArrayBufferView=function(P){return P instanceof Int8Array||P instanceof Uint8Array||P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array},L=e.__addimage__.binaryStringToUint8Array=function(P){for(var I=P.length,z=new Uint8Array(I),W=0;W<I;W++)z[W]=P.charCodeAt(W);return z},F=e.__addimage__.arrayBufferToBinaryString=function(P){for(var I="",z=D(P)?P:new Uint8Array(P),W=0;W<z.length;W+=8192)I+=String.fromCharCode.apply(null,z.subarray(W,W+8192));return I};e.addImage=function(){var P,I,z,W,ie,X,le,re,he;if(typeof arguments[1]=="number"?(I=r,z=arguments[1],W=arguments[2],ie=arguments[3],X=arguments[4],le=arguments[5],re=arguments[6],he=arguments[7]):(I=arguments[1],z=arguments[2],W=arguments[3],ie=arguments[4],X=arguments[5],le=arguments[6],re=arguments[7],he=arguments[8]),va(P=arguments[0])==="object"&&!m(P)&&"imageData"in P){var de=P;P=de.imageData,I=de.format||I||r,z=de.x||z||0,W=de.y||W||0,ie=de.w||de.width||ie,X=de.h||de.height||X,le=de.alias||le,re=de.compression||re,he=de.rotation||de.angle||he}var ve=this.internal.getFilters();if(re===void 0&&ve.indexOf("FlateEncode")!==-1&&(re="SLOW"),isNaN(z)||isNaN(W))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var B=Q.call(this,P,I,le,re);return v.call(this,z,W,ie,X,B,he),this};var Q=function(P,I,z,W){var ie,X,le;if(typeof P=="string"&&s(P)===r){P=unescape(P);var re=U(P,!1);(re!==""||(re=e.loadFile(P,!0))!==void 0)&&(P=re)}if(m(P)&&(P=h(P,I)),I=s(P,I),!A(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((le=z)==null||le.length===0)&&(z=(function(he){return typeof he=="string"||D(he)?C(he):D(he.data)?C(he.data):null})(P)),(ie=y.call(this,z))||(P instanceof Uint8Array||I==="RGBA"||(X=P,P=L(P)),ie=this["process"+I.toUpperCase()](P,d.call(this),z,(function(he){return he&&typeof he=="string"&&(he=he.toUpperCase()),he in e.image_compression?he:j.NONE})(W),X)),!ie)throw new Error("An unknown error occurred whilst processing the image.");return ie},U=e.__addimage__.convertBase64ToBinaryString=function(P,I){I=typeof I!="boolean"||I;var z,W="";if(typeof P=="string"){var ie;z=(ie=k(P))!==null&&ie!==void 0?ie:P;try{W=mw(z)}catch(X){if(I)throw E(z)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+X.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return W};e.getImageProperties=function(P){var I,z,W="";if(m(P)&&(P=h(P)),typeof P=="string"&&s(P)===r&&((W=U(P,!1))===""&&(W=e.loadFile(P)||""),P=W),z=s(P),!A(z))throw new Error("addImage does not support files of type '"+z+"', please ensure that a plugin for '"+z+"' support is added.");if(P instanceof Uint8Array||(P=L(P)),!(I=this["process"+z.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=z,I}})(la.API),(function(e){var t=function(r){if(r!==void 0&&r!="")return!0};la.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var a,s,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,A=0;A<u.length&&!d;A++)switch((a=u[A]).type){case"link":(t(a.options.url)||t(a.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var m=0;m<u.length;m++){a=u[m];var h=this.internal.pdfEscape,y=this.internal.getEncryptor(r.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(x.objId),j=a.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(a.bounds.x)+" "+l(a.bounds.y+a.bounds.h)+" "+o(a.bounds.x+a.bounds.w)+" "+l(a.bounds.y)+"] ")+"/Contents ("+h(b(a.contents))+")",i+=" /Popup "+v.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+h(b(j))+") >>",x.content=i;var C=x.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(a.bounds.x+30)+" "+l(a.bounds.y+a.bounds.h)+" "+o(a.bounds.x+a.bounds.w+30)+" "+l(a.bounds.y)+"] ")+" /Parent "+C,a.open&&(i+=" /Open true"),i+=" >>",v.content=i,this.internal.write(x.objId,"0 R",v.objId,"0 R");break;case"freetext":s="/Rect ["+o(a.bounds.x)+" "+l(a.bounds.y)+" "+o(a.bounds.x+a.bounds.w)+" "+l(a.bounds.y+a.bounds.h)+"] ";var E=a.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+h(y(a.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+E+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(a.options.name){var k=this.annotations._nameMap[a.options.name];a.options.pageNumber=k.page,a.options.top=k.y}else a.options.top||(a.options.top=0);if(s="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",i="",a.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+h(y(a.options.url))+") >>";else if(a.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,i+=" /FitV "+a.options.left+"]";break;default:var D=l(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),i+=" /XYZ "+a.options.left+" "+D+" "+a.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var a=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":a.pageContext.annotations.push(r)}},e.link=function(r,a,s,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(a),w:c(r+s),h:u(a+i)},options:o,type:"link"})},e.textWithLink=function(r,a,s,i){var o,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var d=this.splitTextToSize(r,l).length;o=Math.ceil(u*d)}else l=c,o=u;return this.text(r,a,s,i),s+=.2*u,i.align==="center"&&(a-=c/2),i.align==="right"&&(a-=c),this.link(a,s-u,l,o,i),c},e.getTextWidth=function(r){var a=this.internal.getFontSize();return this.getStringUnitWidth(r)*a/this.internal.scaleFactor}})(la.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(x){return t[x.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},l=e.__arabicParser__.isArabicEndLetter=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(x){return o(x)&&s.indexOf(x.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length==4},A=e.__arabicParser__.resolveLigatures=function(x){var v=0,b=r,j="",C=0;for(v=0;v<x.length;v+=1)b[x.charCodeAt(v)]!==void 0?(C++,typeof(b=b[x.charCodeAt(v)])=="number"&&(j+=String.fromCharCode(b),b=r,C=0),v===x.length-1&&(b=r,j+=x.charAt(v-(C-1)),v-=C-1,C=0)):(b=r,j+=x.charAt(v-C),v-=C,C=0);return j};e.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&a[x.charCodeAt(0)]!==void 0};var m=e.__arabicParser__.getCorrectForm=function(x,v,b){return o(x)?i(x)===!1?-1:!u(x)||!o(v)&&!o(b)||!o(b)&&l(v)||l(x)&&!o(v)||l(x)&&c(v)||l(x)&&l(v)?0:d(x)&&o(v)&&!l(v)&&o(b)&&u(b)?3:l(x)||!o(b)?1:2:-1},h=function(x){var v=0,b=0,j=0,C="",E="",k="",D=(x=x||"").split("\\s+"),L=[];for(v=0;v<D.length;v+=1){for(L.push(""),b=0;b<D[v].length;b+=1)C=D[v][b],E=D[v][b-1],k=D[v][b+1],o(C)?(j=m(C,E,k),L[v]+=j!==-1?String.fromCharCode(t[C.charCodeAt(0)][j]):C):L[v]+=C;L[v]=A(L[v])}return L.join(" ")},y=e.__arabicParser__.processArabic=e.processArabic=function(){var x,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(v)){var j=0;for(b=[],j=0;j<v.length;j+=1)Array.isArray(v[j])?b.push([h(v[j][0]),v[j][1],v[j][2]]):b.push([h(v[j])]);x=b}else x=h(v);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};e.events.push(["preProcessText",y])})(la.API),la.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,a){var s;if((r=r||"2d")!=="2d")return null;for(s in a)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=a[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(la.API),(function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(x){d=x}});var A=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return A},set:function(x){A=x}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(x){m=x}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(x){y=x}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return a.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){a.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),A=u.font||this.getFont(),m=u.scaleFactor||this.internal.scaleFactor,h=0,y=0,x=0,v=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var b=u.maxWidth;b>0?typeof c=="string"?c=this.splitTextToSize(c,b):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(C,E){return C.concat(v.splitTextToSize(E,b))},[])):c=Array.isArray(c)?c:[c];for(var j=0;j<c.length;j++)h<(x=this.getStringUnitWidth(c[j],{font:A})*d)&&(h=x);return h!==0&&(y=c.length),{w:h/=m,h:Math.max((y*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/m,0)}},e.cellAddPage=function(){a.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),a.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,A=this.internal.__cell__.margins||t,m=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+A.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=A.top,h&&m&&(this.printHeaderRow(c.lineNumber,!0),c.y+=m[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,d,A,m){if(a.call(this),!d)throw new Error("No data for PDF table.");var h,y,x,v,b=[],j=[],C=[],E={},k={},D=[],L=[],F=(m=m||{}).autoSize||!1,Q=m.printHeaders!==!1,U=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,P=m.margins||Object.assign({width:this.getPageWidth()},t),I=typeof m.padding=="number"?m.padding:3,z=m.headerBackgroundColor||"#c8c8c8",W=m.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=Q,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=U,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=z,this.internal.__cell__.headerTextColor=W,this.setFontSize(U),A==null)j=b=Object.keys(d[0]),C=b.map(function(){return"left"});else if(Array.isArray(A)&&va(A[0])==="object")for(b=A.map(function(de){return de.name}),j=A.map(function(de){return de.prompt||de.name||""}),C=A.map(function(de){return de.align||"left"}),h=0;h<A.length;h+=1)k[A[h].name]=.7499990551181103*A[h].width;else Array.isArray(A)&&typeof A[0]=="string"&&(j=b=A,C=b.map(function(){return"left"}));if(F||Array.isArray(A)&&typeof A[0]=="string")for(h=0;h<b.length;h+=1){for(E[v=b[h]]=d.map(function(de){return de[v]}),this.setFont(void 0,"bold"),D.push(this.getTextDimensions(j[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=E[v],this.setFont(void 0,"normal"),x=0;x<y.length;x+=1)D.push(this.getTextDimensions(y[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);k[v]=Math.max.apply(null,D)+I+I,D=[]}if(Q){var ie={};for(h=0;h<b.length;h+=1)ie[b[h]]={},ie[b[h]].text=j[h],ie[b[h]].align=C[h];var X=l.call(this,ie,k);L=b.map(function(de){return new i(c,u,k[de],X,ie[de].text,void 0,ie[de].align)}),this.setTableHeaderRow(L),this.printHeaderRow(1,!1)}var le=A.reduce(function(de,ve){return de[ve.name]=ve.align,de},{});for(h=0;h<d.length;h+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:h,data:d[h]},this);var re=l.call(this,d[h],k);for(x=0;x<b.length;x+=1){var he=d[h][b[x]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:h,col:x,data:he},this),o.call(this,new i(c,u,k[b[x]],re,he,h+2,le[b[x]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,A=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(c).map(function(h){var y=c[h];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,u[h]-d-d)},this).map(function(h){return this.getLineHeightFactor()*h.length*A/m+d+d},this).reduce(function(h,y){return Math.max(h,y)},0)};e.setTableHeaderRow=function(c){a.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var A=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(A[0],A[1],A[2],A[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){d=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,m.push(d)),d.lineNumber=c;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(y)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),r=!1}})(la.API);var M$={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},U$=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],y6=D$(U$),R$=[100,200,300,400,500,600,700,800,900],Tpe=D$(R$);function gS(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=(function(i){return M$[i=i||"normal"]?i:"normal"})(e.style),a=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(e.weight),s=(function(i){return typeof y6[i=i||"normal"]=="number"?i:"normal"})(e.stretch);return{family:t,style:r,weight:a,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,r,a].join(" ")}}}function WP(e,t,r,a){var s;for(s=r;s>=0&&s<t.length;s+=a)if(e[t[s]])return e[t[s]];for(s=r;s>=0&&s<t.length;s-=a)if(e[t[s]])return e[t[s]]}var Fpe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},YP={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function XP(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function JP(e){return e.trimLeft()}function _pe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function kpe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Pb,ZP,e7,Rg,Lb,t7,r7,a7,xS=["times"];function n7(e,t,r,a,s){var i=4,o=i7;switch(s){case la.API.image_compression.FAST:i=1,o=s7;break;case la.API.image_compression.MEDIUM:i=6,o=o7;break;case la.API.image_compression.SLOW:i=9,o=l7}e=(function(c,u,d,A){for(var m,h=c.length/u,y=new Uint8Array(c.length+h),x=[Ipe,s7,i7,o7,l7],v=0;v<h;v+=1){var b=v*u,j=c.subarray(b,b+u);if(A)y.set(A(j,d,m),b+v);else{for(var C=x.length,E=[],k=0;k<C;k+=1)E[k]=x[k](j,d,m);var D=Lpe(E.concat());y.set(E[D],b+v)}m=j}return y})(e,t,Math.ceil(r*a/8),o);var l=Bx(e,{level:i});return la.API.__addimage__.arrayBufferToBinaryString(l)}function Ipe(e){var t=Array.apply([],e);return t.unshift(0),t}function s7(e,t){var r=e.length,a=[];a[0]=1;for(var s=0;s<r;s+=1){var i=e[s-t]||0;a[s+1]=e[s]-i+256&255}return a}function i7(e,t,r){var a=e.length,s=[];s[0]=2;for(var i=0;i<a;i+=1){var o=r&&r[i]||0;s[i+1]=e[i]-o+256&255}return s}function o7(e,t,r){var a=e.length,s=[];s[0]=3;for(var i=0;i<a;i+=1){var o=e[i-t]||0,l=r&&r[i]||0;s[i+1]=e[i]+256-(o+l>>>1)&255}return s}function l7(e,t,r){var a=e.length,s=[];s[0]=4;for(var i=0;i<a;i+=1){var o=Ppe(e[i-t]||0,r&&r[i]||0,r&&r[i-t]||0);s[i+1]=e[i]-o+256&255}return s}function Ppe(e,t,r){if(e===t&&t===r)return e;var a=Math.abs(t-r),s=Math.abs(e-r),i=Math.abs(e+t-r-r);return a<=s&&a<=i?e:s<=i?t:r}function Lpe(e){var t=e.map(function(r){return r.reduce(function(a,s){return a+Math.abs(s)},0)});return t.indexOf(Math.min.apply(null,t))}function yS(e,t,r){var a=t*r,s=Math.floor(a/8),i=16-(a-8*s+r),o=(1<<r)-1;return Q$(e,s)>>i&o}function c7(e,t,r,a){var s=r*a,i=Math.floor(s/8),o=16-(s-8*i+a),l=(1<<a)-1,c=(t&l)<<o;(function(u,d,A){if(d+1<u.byteLength)u.setUint16(d,A,!1);else{var m=A>>8&255;u.setUint8(d,m)}})(e,i,Q$(e,i)&~(l<<o)&65535|c)}function Q$(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function Ope(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,a=e[t++]|e[t++]<<8,s=e[t++],i=s>>7,o=1<<1+(7&s);e[t++],e[t++];var l=null,c=null;i&&(l=t,c=o,t+=3*o);var u=!0,d=[],A=0,m=null,h=0,y=null;for(this.width=r,this.height=a;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,y=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((P=e[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var x=e[t++];A=e[t++]|e[t++]<<8,m=e[t++],1&x||(m=null),h=x>>2&7,t++;break;case 254:for(;;){if(!((P=e[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var v=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,j=e[t++]|e[t++]<<8,C=e[t++]|e[t++]<<8,E=e[t++],k=E>>6&1,D=1<<1+(7&E),L=l,F=c,Q=!1;E>>7&&(Q=!0,L=t,F=D,t+=3*D);var U=t;for(t++;;){var P;if(!((P=e[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}d.push({x:v,y:b,width:j,height:C,has_local_palette:Q,palette_offset:L,palette_size:F,data_offset:U,data_length:t-U,transparent_index:m,interlaced:!!k,delay:A,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return y},this.frameInfo=function(I){if(I<0||I>=d.length)throw new Error("Frame index out of range.");return d[I]},this.decodeAndBlitFrameBGRA=function(I,z){var W=this.frameInfo(I),ie=W.width*W.height,X=new Uint8Array(ie);d7(e,W.data_offset,X,ie);var le=W.palette_offset,re=W.transparent_index;re===null&&(re=256);var he=W.width,de=r-he,ve=he,B=4*(W.y*r+W.x),R=4*((W.y+W.height)*r+W.x),G=B,ne=4*de;W.interlaced===!0&&(ne+=4*r*7);for(var pe=8,xe=0,Ae=X.length;xe<Ae;++xe){var Y=X[xe];if(ve===0&&(ve=he,(G+=ne)>=R&&(ne=4*de+4*r*(pe-1),G=B+(he+de)*(pe<<1),pe>>=1)),Y===re)G+=4;else{var se=e[le+3*Y],ee=e[le+3*Y+1],be=e[le+3*Y+2];z[G++]=be,z[G++]=ee,z[G++]=se,z[G++]=255}--ve}},this.decodeAndBlitFrameRGBA=function(I,z){var W=this.frameInfo(I),ie=W.width*W.height,X=new Uint8Array(ie);d7(e,W.data_offset,X,ie);var le=W.palette_offset,re=W.transparent_index;re===null&&(re=256);var he=W.width,de=r-he,ve=he,B=4*(W.y*r+W.x),R=4*((W.y+W.height)*r+W.x),G=B,ne=4*de;W.interlaced===!0&&(ne+=4*r*7);for(var pe=8,xe=0,Ae=X.length;xe<Ae;++xe){var Y=X[xe];if(ve===0&&(ve=he,(G+=ne)>=R&&(ne=4*de+4*r*(pe-1),G=B+(he+de)*(pe<<1),pe>>=1)),Y===re)G+=4;else{var se=e[le+3*Y],ee=e[le+3*Y+1],be=e[le+3*Y+2];z[G++]=se,z[G++]=ee,z[G++]=be,z[G++]=255}--ve}}}function d7(e,t,r,a){for(var s=e[t++],i=1<<s,o=i+1,l=o+1,c=s+1,u=(1<<c)-1,d=0,A=0,m=0,h=e[t++],y=new Int32Array(4096),x=null;;){for(;d<16&&h!==0;)A|=e[t++]<<d,d+=8,h===1?h=e[t++]:--h;if(d<c)break;var v=A&u;if(A>>=c,d-=c,v!==i){if(v===o)break;for(var b=v<l?v:x,j=0,C=b;C>i;)C=y[C]>>8,++j;var E=C;if(m+j+(b!==v?1:0)>a)return void Zs.log("Warning, gif stream longer than expected.");r[m++]=E;var k=m+=j;for(b!==v&&(r[m++]=E),C=b;j--;)C=y[C],r[--k]=255&C,C>>=8;x!==null&&l<4096&&(y[l++]=x<<8|E,l>=u+1&&c<12&&(++c,u=u<<1|1)),x=v}else l=o+1,u=(1<<(c=s+1))-1,x=null}return m!==a&&Zs.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function vS(e){var t,r,a,s,i,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),A=new Array(65535),m=new Array(65535),h=new Array(64),y=new Array(64),x=[],v=0,b=7,j=new Array(64),C=new Array(64),E=new Array(64),k=new Array(256),D=new Array(2048),L=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],F=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Q=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ie=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function X(B,R){for(var G=0,ne=0,pe=new Array,xe=1;xe<=16;xe++){for(var Ae=1;Ae<=B[xe];Ae++)pe[R[ne]]=[],pe[R[ne]][0]=G,pe[R[ne]][1]=xe,ne++,G++;G*=2}return pe}function le(B){for(var R=B[0],G=B[1]-1;G>=0;)R&1<<G&&(v|=1<<b),G--,--b<0&&(v==255?(re(255),re(0)):re(v),b=7,v=0)}function re(B){x.push(B)}function he(B){re(B>>8&255),re(255&B)}function de(B,R,G,ne,pe){for(var xe,Ae=pe[0],Y=pe[240],se=(function(Fe,nt){var Se,Me,at,ke,Ve,ze,rt,Ge,bt,Le,je=0;for(bt=0;bt<8;++bt){Se=Fe[je],Me=Fe[je+1],at=Fe[je+2],ke=Fe[je+3],Ve=Fe[je+4],ze=Fe[je+5],rt=Fe[je+6];var Ze=Se+(Ge=Fe[je+7]),Te=Se-Ge,pt=Me+rt,At=Me-rt,qe=at+ze,Pe=at-ze,mt=ke+Ve,Qe=ke-Ve,st=Ze+mt,tt=Ze-mt,Ft=pt+qe,_t=pt-qe;Fe[je]=st+Ft,Fe[je+4]=st-Ft;var Dt=.707106781*(_t+tt);Fe[je+2]=tt+Dt,Fe[je+6]=tt-Dt;var Wt=.382683433*((st=Qe+Pe)-(_t=At+Te)),cr=.5411961*st+Wt,Dr=1.306562965*_t+Wt,Ea=.707106781*(Ft=Pe+At),Fr=Te+Ea,jr=Te-Ea;Fe[je+5]=jr+cr,Fe[je+3]=jr-cr,Fe[je+1]=Fr+Dr,Fe[je+7]=Fr-Dr,je+=8}for(je=0,bt=0;bt<8;++bt){Se=Fe[je],Me=Fe[je+8],at=Fe[je+16],ke=Fe[je+24],Ve=Fe[je+32],ze=Fe[je+40],rt=Fe[je+48];var Sr=Se+(Ge=Fe[je+56]),ca=Se-Ge,oa=Me+rt,wt=Me-rt,Xt=at+ze,Oe=at-ze,ut=ke+Ve,ot=ke-Ve,dt=Sr+ut,Ie=Sr-ut,Ne=oa+Xt,ct=oa-Xt;Fe[je]=dt+Ne,Fe[je+32]=dt-Ne;var Ye=.707106781*(ct+Ie);Fe[je+16]=Ie+Ye,Fe[je+48]=Ie-Ye;var Ee=.382683433*((dt=ot+Oe)-(ct=wt+ca)),it=.5411961*dt+Ee,vt=1.306562965*ct+Ee,It=.707106781*(Ne=Oe+wt),Mt=ca+It,fr=ca-It;Fe[je+40]=fr+it,Fe[je+24]=fr-it,Fe[je+8]=Mt+vt,Fe[je+56]=Mt-vt,je++}for(bt=0;bt<64;++bt)Le=Fe[bt]*nt[bt],h[bt]=Le>0?Le+.5|0:Le-.5|0;return h})(B,R),ee=0;ee<64;++ee)y[L[ee]]=se[ee];var be=y[0]-G;G=y[0],be==0?le(ne[0]):(le(ne[m[xe=32767+be]]),le(A[xe]));for(var Ce=63;Ce>0&&y[Ce]==0;)Ce--;if(Ce==0)return le(Ae),G;for(var ce,J=1;J<=Ce;){for(var ge=J;y[J]==0&&J<=Ce;)++J;var Je=J-ge;if(Je>=16){ce=Je>>4;for(var Ke=1;Ke<=ce;++Ke)le(Y);Je&=15}xe=32767+y[J],le(pe[(Je<<4)+m[xe]]),le(A[xe]),J++}return Ce!=63&&le(Ae),G}function ve(B){B=Math.min(Math.max(B,1),100),i!=B&&((function(R){for(var G=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var pe=o((G[ne]*R+50)/100);pe=Math.min(Math.max(pe,1),255),l[L[ne]]=pe}for(var xe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ae=0;Ae<64;Ae++){var Y=o((xe[Ae]*R+50)/100);Y=Math.min(Math.max(Y,1),255),c[L[Ae]]=Y}for(var se=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ee=0,be=0;be<8;be++)for(var Ce=0;Ce<8;Ce++)u[ee]=1/(l[L[ee]]*se[be]*se[Ce]*8),d[ee]=1/(c[L[ee]]*se[be]*se[Ce]*8),ee++})(B<50?Math.floor(5e3/B):Math.floor(200-2*B)),i=B)}this.encode=function(B,R){R&&ve(R),x=new Array,v=0,b=7,he(65496),he(65504),he(16),re(74),re(70),re(73),re(70),re(0),re(1),re(1),re(0),he(1),he(1),re(0),re(0),(function(){he(65499),he(132),re(0);for(var Me=0;Me<64;Me++)re(l[Me]);re(1);for(var at=0;at<64;at++)re(c[at])})(),(function(Me,at){he(65472),he(17),re(8),he(at),he(Me),re(3),re(1),re(17),re(0),re(2),re(17),re(1),re(3),re(17),re(1)})(B.width,B.height),(function(){he(65476),he(418),re(0);for(var Me=0;Me<16;Me++)re(F[Me+1]);for(var at=0;at<=11;at++)re(Q[at]);re(16);for(var ke=0;ke<16;ke++)re(U[ke+1]);for(var Ve=0;Ve<=161;Ve++)re(P[Ve]);re(1);for(var ze=0;ze<16;ze++)re(I[ze+1]);for(var rt=0;rt<=11;rt++)re(z[rt]);re(17);for(var Ge=0;Ge<16;Ge++)re(W[Ge+1]);for(var bt=0;bt<=161;bt++)re(ie[bt])})(),he(65498),he(12),re(3),re(1),re(0),re(2),re(17),re(3),re(17),re(0),re(63),re(0);var G=0,ne=0,pe=0;v=0,b=7,this.encode.displayName="_encode_";for(var xe,Ae,Y,se,ee,be,Ce,ce,J,ge=B.data,Je=B.width,Ke=B.height,Fe=4*Je,nt=0;nt<Ke;){for(xe=0;xe<Fe;){for(ee=Fe*nt+xe,Ce=-1,ce=0,J=0;J<64;J++)be=ee+(ce=J>>3)*Fe+(Ce=4*(7&J)),nt+ce>=Ke&&(be-=Fe*(nt+1+ce-Ke)),xe+Ce>=Fe&&(be-=xe+Ce-Fe+4),Ae=ge[be++],Y=ge[be++],se=ge[be++],j[J]=(D[Ae]+D[Y+256|0]+D[se+512|0]>>16)-128,C[J]=(D[Ae+768|0]+D[Y+1024|0]+D[se+1280|0]>>16)-128,E[J]=(D[Ae+1280|0]+D[Y+1536|0]+D[se+1792|0]>>16)-128;G=de(j,u,G,t,a),ne=de(C,d,ne,r,s),pe=de(E,d,pe,r,s),xe+=32}nt+=8}if(b>=0){var Se=[];Se[1]=b+1,Se[0]=(1<<b+1)-1,le(Se)}return he(65497),new Uint8Array(x)},e=e||50,(function(){for(var B=String.fromCharCode,R=0;R<256;R++)k[R]=B(R)})(),t=X(F,Q),r=X(I,z),a=X(U,P),s=X(W,ie),(function(){for(var B=1,R=2,G=1;G<=15;G++){for(var ne=B;ne<R;ne++)m[32767+ne]=G,A[32767+ne]=[],A[32767+ne][1]=G,A[32767+ne][0]=ne;for(var pe=-(R-1);pe<=-B;pe++)m[32767+pe]=G,A[32767+pe]=[],A[32767+pe][1]=G,A[32767+pe][0]=R-1+pe;B<<=1,R<<=1}})(),(function(){for(var B=0;B<256;B++)D[B]=19595*B,D[B+256|0]=38470*B,D[B+512|0]=7471*B+32768,D[B+768|0]=-11059*B,D[B+1024|0]=-21709*B,D[B+1280|0]=32768*B+8421375,D[B+1536|0]=-27439*B,D[B+1792|0]=-5329*B})(),ve(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function qf(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function u7(e){function t(Q){if(!Q)throw Error("assert :P")}function r(Q,U,P){for(var I=0;4>I;I++)if(Q[U+I]!=P.charCodeAt(I))return!0;return!1}function a(Q,U,P,I,z){for(var W=0;W<z;W++)Q[U+W]=P[I+W]}function s(Q,U,P,I){for(var z=0;z<I;z++)Q[U+z]=P}function i(Q){return new Int32Array(Q)}function o(Q,U){for(var P=[],I=0;I<Q;I++)P.push(new U);return P}function l(Q,U){var P=[];return(function I(z,W,ie){for(var X=ie[W],le=0;le<X&&(z.push(ie.length>W+1?[]:new U),!(ie.length<W+1));le++)I(z[le],W+1,ie)})(P,0,Q),P}var c=function(){var Q=this;function U(g,N){for(var _=1<<N-1>>>0;g&_;)_>>>=1;return _?(g&_-1)+_:g}function P(g,N,_,H,Z){t(!(H%_));do g[N+(H-=_)]=Z;while(0<H)}function I(g,N,_,H,Z){if(t(2328>=Z),512>=Z)var oe=i(512);else if((oe=i(Z))==null)return 0;return(function(fe,me,we,Be,$e,ft){var Ue,Xe,gt=me,St=1<<we,et=i(16),ht=i(16);for(t($e!=0),t(Be!=null),t(fe!=null),t(0<we),Xe=0;Xe<$e;++Xe){if(15<Be[Xe])return 0;++et[Be[Xe]]}if(et[0]==$e)return 0;for(ht[1]=0,Ue=1;15>Ue;++Ue){if(et[Ue]>1<<Ue)return 0;ht[Ue+1]=ht[Ue]+et[Ue]}for(Xe=0;Xe<$e;++Xe)Ue=Be[Xe],0<Be[Xe]&&(ft[ht[Ue]++]=Xe);if(ht[15]==1)return(Be=new z).g=0,Be.value=ft[0],P(fe,gt,1,St,Be),St;var Ct,Pt=-1,Tt=St-1,nr=0,Jt=1,wr=1,rr=1<<we;for(Xe=0,Ue=1,$e=2;Ue<=we;++Ue,$e<<=1){if(Jt+=wr<<=1,0>(wr-=et[Ue]))return 0;for(;0<et[Ue];--et[Ue])(Be=new z).g=Ue,Be.value=ft[Xe++],P(fe,gt+nr,$e,rr,Be),nr=U(nr,Ue)}for(Ue=we+1,$e=2;15>=Ue;++Ue,$e<<=1){if(Jt+=wr<<=1,0>(wr-=et[Ue]))return 0;for(;0<et[Ue];--et[Ue]){if(Be=new z,(nr&Tt)!=Pt){for(gt+=rr,Ct=1<<(Pt=Ue)-we;15>Pt&&!(0>=(Ct-=et[Pt]));)++Pt,Ct<<=1;St+=rr=1<<(Ct=Pt-we),fe[me+(Pt=nr&Tt)].g=Ct+we,fe[me+Pt].value=gt-me-Pt}Be.g=Ue-we,Be.value=ft[Xe++],P(fe,gt+(nr>>we),$e,rr,Be),nr=U(nr,Ue)}}return Jt!=2*ht[15]-1?0:St})(g,N,_,H,Z,oe)}function z(){this.value=this.g=0}function W(){this.value=this.g=0}function ie(){this.G=o(5,z),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(kn,W)}function X(g,N,_,H){t(g!=null),t(N!=null),t(2147483648>H),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=N,g.pa=_,g.Jd=N,g.Yc=_+H,g.Zc=4<=H?_+H-4+1:_,Ae(g)}function le(g,N){for(var _=0;0<N--;)_|=se(g,128)<<N;return _}function re(g,N){var _=le(g,N);return Y(g)?-_:_}function he(g,N,_,H){var Z,oe=0;for(t(g!=null),t(N!=null),t(4294967288>H),g.Sb=H,g.Ra=0,g.u=0,g.h=0,4<H&&(H=4),Z=0;Z<H;++Z)oe+=N[_+Z]<<8*Z;g.Ra=oe,g.bb=H,g.oa=N,g.pa=_}function de(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<wo-8>>>0,++g.bb,g.u-=8;ne(g)&&(g.h=1,g.u=0)}function ve(g,N){if(t(0<=N),!g.h&&N<=ni){var _=G(g)&Ta[N];return g.u+=N,de(g),_}return g.h=1,g.u=0}function B(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function R(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function G(g){return g.Ra>>>(g.u&wo-1)>>>0}function ne(g){return t(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>wo}function pe(g,N){g.u=N,g.h=ne(g)}function xe(g){g.u>=No&&(t(g.u>=No),de(g))}function Ae(g){t(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(t(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function Y(g){return le(g,1)}function se(g,N){var _=g.Ca;0>g.b&&Ae(g);var H=g.b,Z=_*N>>>8,oe=(g.I>>>H>Z)+0;for(oe?(_-=Z,g.I-=Z+1<<H>>>0):_=Z+1,H=_,Z=0;256<=H;)Z+=8,H>>=8;return H=7^Z+Ds[H],g.b-=H,g.Ca=(_<<H)-1,oe}function ee(g,N,_){g[N+0]=_>>24&255,g[N+1]=_>>16&255,g[N+2]=_>>8&255,g[N+3]=255&_}function be(g,N){return g[N+0]|g[N+1]<<8}function Ce(g,N){return be(g,N)|g[N+2]<<16}function ce(g,N){return be(g,N)|be(g,N+2)<<16}function J(g,N){var _=1<<N;return t(g!=null),t(0<N),g.X=i(_),g.X==null?0:(g.Mb=32-N,g.Xa=N,1)}function ge(g,N){t(g!=null),t(N!=null),t(g.Xa==N.Xa),a(N.X,0,g.X,0,1<<N.Xa)}function Je(){this.X=[],this.Xa=this.Mb=0}function Ke(g,N,_,H){t(_!=null),t(H!=null);var Z=_[0],oe=H[0];return Z==0&&(Z=(g*oe+N/2)/N),oe==0&&(oe=(N*Z+g/2)/g),0>=Z||0>=oe?0:(_[0]=Z,H[0]=oe,1)}function Fe(g,N){return g+(1<<N)-1>>>N}function nt(g,N){return((4278255360&g)+(4278255360&N)>>>0&4278255360)+((16711935&g)+(16711935&N)>>>0&16711935)>>>0}function Se(g,N){Q[N]=function(_,H,Z,oe,fe,me,we){var Be;for(Be=0;Be<fe;++Be){var $e=Q[g](me[we+Be-1],Z,oe+Be);me[we+Be]=nt(_[H+Be],$e)}}}function Me(){this.ud=this.hd=this.jd=0}function at(g,N){return((4278124286&(g^N))>>>1)+(g&N)>>>0}function ke(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function Ve(g,N){return ke(g+(g-N+.5>>1))}function ze(g,N,_){return Math.abs(N-_)-Math.abs(g-_)}function rt(g,N,_,H,Z,oe,fe){for(H=oe[fe-1],_=0;_<Z;++_)oe[fe+_]=H=nt(g[N+_],H)}function Ge(g,N,_,H,Z){var oe;for(oe=0;oe<_;++oe){var fe=g[N+oe],me=fe>>8&255,we=16711935&(we=(we=16711935&fe)+((me<<16)+me));H[Z+oe]=(4278255360&fe)+we>>>0}}function bt(g,N){N.jd=255&g,N.hd=g>>8&255,N.ud=g>>16&255}function Le(g,N,_,H,Z,oe){var fe;for(fe=0;fe<H;++fe){var me=N[_+fe],we=me>>>8,Be=me,$e=255&($e=($e=me>>>16)+((g.jd<<24>>24)*(we<<24>>24)>>>5));Be=255&(Be=(Be+=(g.hd<<24>>24)*(we<<24>>24)>>>5)+((g.ud<<24>>24)*($e<<24>>24)>>>5)),Z[oe+fe]=(4278255360&me)+($e<<16)+Be}}function je(g,N,_,H,Z){Q[N]=function(oe,fe,me,we,Be,$e,ft,Ue,Xe){for(we=ft;we<Ue;++we)for(ft=0;ft<Xe;++ft)Be[$e++]=Z(me[H(oe[fe++])])},Q[g]=function(oe,fe,me,we,Be,$e,ft){var Ue=8>>oe.b,Xe=oe.Ea,gt=oe.K[0],St=oe.w;if(8>Ue)for(oe=(1<<oe.b)-1,St=(1<<Ue)-1;fe<me;++fe){var et,ht=0;for(et=0;et<Xe;++et)et&oe||(ht=H(we[Be++])),$e[ft++]=Z(gt[ht&St]),ht>>=Ue}else Q["VP8LMapColor"+_](we,Be,gt,St,$e,ft,fe,me,Xe)}}function Ze(g,N,_,H,Z){for(_=N+_;N<_;){var oe=g[N++];H[Z++]=oe>>16&255,H[Z++]=oe>>8&255,H[Z++]=255&oe}}function Te(g,N,_,H,Z){for(_=N+_;N<_;){var oe=g[N++];H[Z++]=oe>>16&255,H[Z++]=oe>>8&255,H[Z++]=255&oe,H[Z++]=oe>>24&255}}function pt(g,N,_,H,Z){for(_=N+_;N<_;){var oe=(fe=g[N++])>>16&240|fe>>12&15,fe=240&fe|fe>>28&15;H[Z++]=oe,H[Z++]=fe}}function At(g,N,_,H,Z){for(_=N+_;N<_;){var oe=(fe=g[N++])>>16&248|fe>>13&7,fe=fe>>5&224|fe>>3&31;H[Z++]=oe,H[Z++]=fe}}function qe(g,N,_,H,Z){for(_=N+_;N<_;){var oe=g[N++];H[Z++]=255&oe,H[Z++]=oe>>8&255,H[Z++]=oe>>16&255}}function Pe(g,N,_,H,Z,oe){if(oe==0)for(_=N+_;N<_;)ee(H,((oe=g[N++])[0]>>24|oe[1]>>8&65280|oe[2]<<8&16711680|oe[3]<<24)>>>0),Z+=32;else a(H,Z,g,N,_)}function mt(g,N){Q[N][0]=Q[g+"0"],Q[N][1]=Q[g+"1"],Q[N][2]=Q[g+"2"],Q[N][3]=Q[g+"3"],Q[N][4]=Q[g+"4"],Q[N][5]=Q[g+"5"],Q[N][6]=Q[g+"6"],Q[N][7]=Q[g+"7"],Q[N][8]=Q[g+"8"],Q[N][9]=Q[g+"9"],Q[N][10]=Q[g+"10"],Q[N][11]=Q[g+"11"],Q[N][12]=Q[g+"12"],Q[N][13]=Q[g+"13"],Q[N][14]=Q[g+"0"],Q[N][15]=Q[g+"0"]}function Qe(g){return g==lu||g==Bc||g==Cl||g==rc}function st(){this.eb=[],this.size=this.A=this.fb=0}function tt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ft(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new st,this.f.kb=new tt,this.sd=null}function _t(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Dt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Wt(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function cr(g,N){var _=g.T,H=N.ba.f.RGBA,Z=H.eb,oe=H.fb+g.ka*H.A,fe=In[N.ba.S],me=g.y,we=g.O,Be=g.f,$e=g.N,ft=g.ea,Ue=g.W,Xe=N.cc,gt=N.dc,St=N.Mc,et=N.Nc,ht=g.ka,Ct=g.ka+g.T,Pt=g.U,Tt=Pt+1>>1;for(ht==0?fe(me,we,null,null,Be,$e,ft,Ue,Be,$e,ft,Ue,Z,oe,null,null,Pt):(fe(N.ec,N.fc,me,we,Xe,gt,St,et,Be,$e,ft,Ue,Z,oe-H.A,Z,oe,Pt),++_);ht+2<Ct;ht+=2)Xe=Be,gt=$e,St=ft,et=Ue,$e+=g.Rc,Ue+=g.Rc,oe+=2*H.A,fe(me,(we+=2*g.fa)-g.fa,me,we,Xe,gt,St,et,Be,$e,ft,Ue,Z,oe-H.A,Z,oe,Pt);return we+=g.fa,g.j+Ct<g.o?(a(N.ec,N.fc,me,we,Pt),a(N.cc,N.dc,Be,$e,Tt),a(N.Mc,N.Nc,ft,Ue,Tt),_--):1&Ct||fe(me,we,null,null,Be,$e,ft,Ue,Be,$e,ft,Ue,Z,oe+H.A,null,null,Pt),_}function Dr(g,N,_){var H=g.F,Z=[g.J];if(H!=null){var oe=g.U,fe=N.ba.S,me=fe==Ec||fe==Cl;N=N.ba.f.RGBA;var we=[0],Be=g.ka;we[0]=g.T,g.Kb&&(Be==0?--we[0]:(--Be,Z[0]-=g.width),g.j+g.ka+g.T==g.o&&(we[0]=g.o-g.j-Be));var $e=N.eb;Be=N.fb+Be*N.A,g=Ga(H,Z[0],g.width,oe,we,$e,Be+(me?0:3),N.A),t(_==we),g&&Qe(fe)&&ki($e,Be,me,oe,we,N.A)}return 0}function Ea(g){var N=g.ma,_=N.ba.S,H=11>_,Z=_==id||_==Id||_==Ec||_==qo||_==12||Qe(_);if(N.memory=null,N.Ib=null,N.Jb=null,N.Nd=null,!Mn(N.Oa,g,Z?11:12))return 0;if(Z&&Qe(_)&&yr(),g.da)alert("todo:use_scaling");else{if(H){if(N.Ib=Wt,g.Kb){if(_=g.U+1>>1,N.memory=i(g.U+2*_),N.memory==null)return 0;N.ec=N.memory,N.fc=0,N.cc=N.ec,N.dc=N.fc+g.U,N.Mc=N.cc,N.Nc=N.dc+_,N.Ib=cr,yr()}}else alert("todo:EmitYUV");Z&&(N.Jb=Dr,H&&Rt())}if(H&&!oA){for(g=0;256>g;++g)M0[g]=89858*(g-128)+Us>>Al,yf[g]=-22014*(g-128)+Us,lA[g]=-45773*(g-128),vi[g]=113618*(g-128)+Us>>Al;for(g=So;g<Uu;++g)N=76283*(g-16)+Us>>Al,vf[g-So]=Va(N,255),cA[g-So]=Va(N+8>>4,15);oA=1}return 1}function Fr(g){var N=g.ma,_=g.U,H=g.T;return t(!(1&g.ka)),0>=_||0>=H?0:(_=N.Ib(g,N),N.Jb!=null&&N.Jb(g,N,_),N.Dc+=_,1)}function jr(g){g.ma.memory=null}function Sr(g,N,_,H){return ve(g,8)!=47?0:(N[0]=ve(g,14)+1,_[0]=ve(g,14)+1,H[0]=ve(g,1),ve(g,3)!=0?0:!g.h)}function ca(g,N){if(4>g)return g+1;var _=g-2>>1;return(2+(1&g)<<_)+ve(N,_)+1}function oa(g,N){return 120<N?N-120:1<=(_=((_=od[N-1])>>4)*g+(8-(15&_)))?_:1;var _}function wt(g,N,_){var H=G(_),Z=g[N+=255&H].g-8;return 0<Z&&(pe(_,_.u+8),H=G(_),N+=g[N].value,N+=H&(1<<Z)-1),pe(_,_.u+g[N].g),g[N].value}function Xt(g,N,_){return _.g+=g.g,_.value+=g.value<<N>>>0,t(8>=_.g),g.g}function Oe(g,N,_){var H=g.xc;return t((N=H==0?0:g.vc[g.md*(_>>H)+(N>>H)])<g.Wb),g.Ya[N]}function ut(g,N,_,H){var Z=g.ab,oe=g.c*N,fe=g.C;N=fe+N;var me=_,we=H;for(H=g.Ta,_=g.Ua;0<Z--;){var Be=g.gc[Z],$e=fe,ft=N,Ue=me,Xe=we,gt=(we=H,me=_,Be.Ea);switch(t($e<ft),t(ft<=Be.nc),Be.hc){case 2:rs(Ue,Xe,(ft-$e)*gt,we,me);break;case 0:var St=$e,et=ft,ht=we,Ct=me,Pt=(rr=Be).Ea;St==0&&(Nc(Ue,Xe,null,null,1,ht,Ct),rt(Ue,Xe+1,0,0,Pt-1,ht,Ct+1),Xe+=Pt,Ct+=Pt,++St);for(var Tt=1<<rr.b,nr=Tt-1,Jt=Fe(Pt,rr.b),wr=rr.K,rr=rr.w+(St>>rr.b)*Jt;St<et;){var $r=wr,ja=rr,kr=1;for(Zl(Ue,Xe,ht,Ct-Pt,1,ht,Ct);kr<Pt;){var $t=(kr&~nr)+Tt;$t>Pt&&($t=Pt),(0,si[$r[ja++]>>8&15])(Ue,Xe+ +kr,ht,Ct+kr-Pt,$t-kr,ht,Ct+kr),kr=$t}Xe+=Pt,Ct+=Pt,++St&nr||(rr+=Jt)}ft!=Be.nc&&a(we,me-gt,we,me+(ft-$e-1)*gt,gt);break;case 1:for(gt=Ue,et=Xe,Pt=(Ue=Be.Ea)-(Ct=Ue&~(ht=(Xe=1<<Be.b)-1)),St=Fe(Ue,Be.b),Tt=Be.K,Be=Be.w+($e>>Be.b)*St;$e<ft;){for(nr=Tt,Jt=Be,wr=new Me,rr=et+Ct,$r=et+Ue;et<rr;)bt(nr[Jt++],wr),ul(wr,gt,et,Xe,we,me),et+=Xe,me+=Xe;et<$r&&(bt(nr[Jt++],wr),ul(wr,gt,et,Pt,we,me),et+=Pt,me+=Pt),++$e&ht||(Be+=St)}break;case 3:if(Ue==we&&Xe==me&&0<Be.b){for(et=we,Ue=gt=me+(ft-$e)*gt-(Ct=(ft-$e)*Fe(Be.Ea,Be.b)),Xe=we,ht=me,St=[],Ct=(Pt=Ct)-1;0<=Ct;--Ct)St[Ct]=Xe[ht+Ct];for(Ct=Pt-1;0<=Ct;--Ct)et[Ue+Ct]=St[Ct];Vn(Be,$e,ft,we,gt,we,me)}else Vn(Be,$e,ft,Ue,Xe,we,me)}me=H,we=_}we!=_&&a(H,_,me,we,oe)}function ot(g,N){var _=g.V,H=g.Ba+g.c*g.C,Z=N-g.C;if(t(N<=g.l.o),t(16>=Z),0<Z){var oe=g.l,fe=g.Ta,me=g.Ua,we=oe.width;if(ut(g,Z,_,H),Z=me=[me],t((_=g.C)<(H=N)),t(oe.v<oe.va),H>oe.o&&(H=oe.o),_<oe.j){var Be=oe.j-_;_=oe.j,Z[0]+=Be*we}if(_>=H?_=0:(Z[0]+=4*oe.v,oe.ka=_-oe.j,oe.U=oe.va-oe.v,oe.T=H-_,_=1),_){if(me=me[0],11>(_=g.ca).S){var $e=_.f.RGBA,ft=(H=_.S,Z=oe.U,oe=oe.T,Be=$e.eb,$e.A),Ue=oe;for($e=$e.fb+g.Ma*$e.A;0<Ue--;){var Xe=fe,gt=me,St=Z,et=Be,ht=$e;switch(H){case yi:ii(Xe,gt,St,et,ht);break;case id:Kn(Xe,gt,St,et,ht);break;case lu:Kn(Xe,gt,St,et,ht),ki(et,ht,0,St,1,0);break;case fo:Ks(Xe,gt,St,et,ht);break;case Id:Pe(Xe,gt,St,et,ht,1);break;case Bc:Pe(Xe,gt,St,et,ht,1),ki(et,ht,0,St,1,0);break;case Ec:Pe(Xe,gt,St,et,ht,0);break;case Cl:Pe(Xe,gt,St,et,ht,0),ki(et,ht,1,St,1,0);break;case qo:uo(Xe,gt,St,et,ht);break;case rc:uo(Xe,gt,St,et,ht),Ka(et,ht,St,1,0);break;case pf:qs(Xe,gt,St,et,ht);break;default:t(0)}me+=we,$e+=ft}g.Ma+=oe}else alert("todo:EmitRescaledRowsYUVA");t(g.Ma<=_.height)}}g.C=N,t(g.C<=g.i)}function dt(g){var N;if(0<g.ua)return 0;for(N=0;N<g.Wb;++N){var _=g.Ya[N].G,H=g.Ya[N].H;if(0<_[1][H[1]+0].g||0<_[2][H[2]+0].g||0<_[3][H[3]+0].g)return 0}return 1}function Ie(g,N,_,H,Z,oe){if(g.Z!=0){var fe=g.qd,me=g.rd;for(t(Ii[g.Z]!=null);N<_;++N)Ii[g.Z](fe,me,H,Z,H,Z,oe),fe=H,me=Z,Z+=oe;g.qd=fe,g.rd=me}}function Ne(g,N){var _=g.l.ma,H=_.Z==0||_.Z==1?g.l.j:g.C;if(H=g.C<H?H:g.C,t(N<=g.l.o),N>H){var Z=g.l.width,oe=_.ca,fe=_.tb+Z*H,me=g.V,we=g.Ba+g.c*H,Be=g.gc;t(g.ab==1),t(Be[0].hc==3),ms(Be[0],H,N,me,we,oe,fe),Ie(_,H,N,oe,fe,Z)}g.C=g.Ma=N}function ct(g,N,_,H,Z,oe,fe){var me=g.$/H,we=g.$%H,Be=g.m,$e=g.s,ft=_+g.$,Ue=ft;Z=_+H*Z;var Xe=_+H*oe,gt=280+$e.ua,St=g.Pb?me:16777216,et=0<$e.ua?$e.Wa:null,ht=$e.wc,Ct=ft<Xe?Oe($e,we,me):null;t(g.C<oe),t(Xe<=Z);var Pt=!1;e:for(;;){for(;Pt||ft<Xe;){var Tt=0;if(me>=St){var nr=ft-_;t((St=g).Pb),St.wd=St.m,St.xd=nr,0<St.s.ua&&ge(St.s.Wa,St.s.vb),St=me+mm}if(we&ht||(Ct=Oe($e,we,me)),t(Ct!=null),Ct.Qb&&(N[ft]=Ct.qb,Pt=!0),!Pt)if(xe(Be),Ct.jc){Tt=Be,nr=N;var Jt=ft,wr=Ct.pd[G(Tt)&kn-1];t(Ct.jc),256>wr.g?(pe(Tt,Tt.u+wr.g),nr[Jt]=wr.value,Tt=0):(pe(Tt,Tt.u+wr.g-256),t(256<=wr.value),Tt=wr.value),Tt==0&&(Pt=!0)}else Tt=wt(Ct.G[0],Ct.H[0],Be);if(Be.h)break;if(Pt||256>Tt){if(!Pt)if(Ct.nd)N[ft]=(Ct.qb|Tt<<8)>>>0;else{if(xe(Be),Pt=wt(Ct.G[1],Ct.H[1],Be),xe(Be),nr=wt(Ct.G[2],Ct.H[2],Be),Jt=wt(Ct.G[3],Ct.H[3],Be),Be.h)break;N[ft]=(Jt<<24|Pt<<16|Tt<<8|nr)>>>0}if(Pt=!1,++ft,++we>=H&&(we=0,++me,fe!=null&&me<=oe&&!(me%16)&&fe(g,me),et!=null))for(;Ue<ft;)Tt=N[Ue++],et.X[(506832829*Tt&4294967295)>>>et.Mb]=Tt}else if(280>Tt){if(Tt=ca(Tt-256,Be),nr=wt(Ct.G[4],Ct.H[4],Be),xe(Be),nr=oa(H,nr=ca(nr,Be)),Be.h)break;if(ft-_<nr||Z-ft<Tt)break e;for(Jt=0;Jt<Tt;++Jt)N[ft+Jt]=N[ft+Jt-nr];for(ft+=Tt,we+=Tt;we>=H;)we-=H,++me,fe!=null&&me<=oe&&!(me%16)&&fe(g,me);if(t(ft<=Z),we&ht&&(Ct=Oe($e,we,me)),et!=null)for(;Ue<ft;)Tt=N[Ue++],et.X[(506832829*Tt&4294967295)>>>et.Mb]=Tt}else{if(!(Tt<gt))break e;for(Pt=Tt-280,t(et!=null);Ue<ft;)Tt=N[Ue++],et.X[(506832829*Tt&4294967295)>>>et.Mb]=Tt;Tt=ft,t(!(Pt>>>(nr=et).Xa)),N[Tt]=nr.X[Pt],Pt=!0}Pt||t(Be.h==ne(Be))}if(g.Pb&&Be.h&&ft<Z)t(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&ge(g.s.vb,g.s.Wa);else{if(Be.h)break e;fe?.(g,me>oe?oe:me),g.a=0,g.$=ft-_}return 1}return g.a=3,0}function Ye(g){t(g!=null),g.vc=null,g.yc=null,g.Ya=null;var N=g.Wa;N!=null&&(N.X=null),g.vb=null,t(g!=null)}function Ee(){var g=new Kr;return g==null?null:(g.a=0,g.xb=hu,mt("Predictor","VP8LPredictors"),mt("Predictor","VP8LPredictors_C"),mt("PredictorAdd","VP8LPredictorsAdd"),mt("PredictorAdd","VP8LPredictorsAdd_C"),rs=Ge,ul=Le,ii=Ze,Kn=Te,uo=pt,qs=At,Ks=qe,Q.VP8LMapColor32b=mn,Q.VP8LMapColor8b=qn,g)}function it(g,N,_,H,Z){var oe=1,fe=[g],me=[N],we=H.m,Be=H.s,$e=null,ft=0;e:for(;;){if(_)for(;oe&&ve(we,1);){var Ue=fe,Xe=me,gt=H,St=1,et=gt.m,ht=gt.gc[gt.ab],Ct=ve(et,2);if(gt.Oc&1<<Ct)oe=0;else{switch(gt.Oc|=1<<Ct,ht.hc=Ct,ht.Ea=Ue[0],ht.nc=Xe[0],ht.K=[null],++gt.ab,t(4>=gt.ab),Ct){case 0:case 1:ht.b=ve(et,3)+2,St=it(Fe(ht.Ea,ht.b),Fe(ht.nc,ht.b),0,gt,ht.K),ht.K=ht.K[0];break;case 3:var Pt,Tt=ve(et,8)+1,nr=16<Tt?0:4<Tt?1:2<Tt?2:3;if(Ue[0]=Fe(ht.Ea,nr),ht.b=nr,Pt=St=it(Tt,1,0,gt,ht.K)){var Jt,wr=Tt,rr=ht,$r=1<<(8>>rr.b),ja=i($r);if(ja==null)Pt=0;else{var kr=rr.K[0],$t=rr.w;for(ja[0]=rr.K[0][0],Jt=1;Jt<1*wr;++Jt)ja[Jt]=nt(kr[$t+Jt],ja[Jt-1]);for(;Jt<4*$r;++Jt)ja[Jt]=0;rr.K[0]=null,rr.K[0]=ja,Pt=1}}St=Pt;break;case 2:break;default:t(0)}oe=St}}if(fe=fe[0],me=me[0],oe&&ve(we,1)&&!(oe=1<=(ft=ve(we,4))&&11>=ft)){H.a=3;break e}var gr;if(gr=oe)t:{var ga,Cr,Qr,Mr=H,qr=fe,ha=me,aa=ft,vn=_,bn=Mr.m,Wa=Mr.s,Xr=[null],xa=1,ln=0,Zr=du[aa];r:for(;;){if(vn&&ve(bn,1)){var an=ve(bn,3)+2,Gs=Fe(qr,an),Fn=Fe(ha,an),oi=Gs*Fn;if(!it(Gs,Fn,0,Mr,Xr))break r;for(Xr=Xr[0],Wa.xc=an,ga=0;ga<oi;++ga){var pn=Xr[ga]>>8&65535;Xr[ga]=pn,pn>=xa&&(xa=pn+1)}}if(bn.h)break r;for(Cr=0;5>Cr;++Cr){var Ua=Ko[Cr];!Cr&&0<aa&&(Ua+=1<<aa),ln<Ua&&(ln=Ua)}var Gi=o(xa*Zr,z),Pi=xa,$n=o(Pi,ie);if($n==null)var cn=null;else t(65536>=Pi),cn=$n;var li=i(ln);if(cn==null||li==null||Gi==null){Mr.a=1;break r}var Ws=Gi;for(ga=Qr=0;ga<xa;++ga){var Ya=cn[ga],ci=Ya.G,xs=Ya.H,Fl=0,Wo=1,Cs=0;for(Cr=0;5>Cr;++Cr){Ua=Ko[Cr],ci[Cr]=Ws,xs[Cr]=Qr,!Cr&&0<aa&&(Ua+=1<<aa);n:{var Ld,Od=Ua,kc=Mr,ac=li,fA=Ws,xm=Qr,Dd=0,Li=kc.m,hA=ve(Li,1);if(s(ac,0,0,Od),hA){var AA=ve(Li,1)+1,mA=ve(Li,1),bf=ve(Li,mA==0?1:8);ac[bf]=1,AA==2&&(ac[bf=ve(Li,8)]=1);var Ic=1}else{var Ru=i(19),xh=ve(Li,4)+4;if(19<xh){kc.a=3;var Md=0;break n}for(Ld=0;Ld<xh;++Ld)Ru[Bl[Ld]]=ve(Li,3);var Qu=void 0,Ys=void 0,wf=kc,ym=Ru,_l=Od,Hu=ac,$u=0,Oi=wf.m,mu=8,yh=o(128,z);a:for(;I(yh,0,7,ym,19);){if(ve(Oi,1)){var vm=2+2*ve(Oi,3);if((Qu=2+ve(Oi,vm))>_l)break a}else Qu=_l;for(Ys=0;Ys<_l&&Qu--;){xe(Oi);var vh=yh[0+(127&G(Oi))];pe(Oi,Oi.u+vh.g);var ml=vh.value;if(16>ml)Hu[Ys++]=ml,ml!=0&&(mu=ml);else{var bm=ml==16,zu=ml-16,bh=El[zu],di=ve(Oi,ph[zu])+bh;if(Ys+di>_l)break a;for(var Vu=bm?mu:0;0<di--;)Hu[Ys++]=Vu}}$u=1;break a}$u||(wf.a=3),Ic=$u}(Ic=Ic&&!Li.h)&&(Dd=I(fA,xm,8,ac,Od)),Ic&&Dd!=0?Md=Dd:(kc.a=3,Md=0)}if(Md==0)break r;if(Wo&&cu[Cr]==1&&(Wo=Ws[Qr].g==0),Fl+=Ws[Qr].g,Qr+=Md,3>=Cr){var nc,qu=li[0];for(nc=1;nc<Ua;++nc)li[nc]>qu&&(qu=li[nc]);Cs+=qu}}if(Ya.nd=Wo,Ya.Qb=0,Wo&&(Ya.qb=(ci[3][xs[3]+0].value<<24|ci[1][xs[1]+0].value<<16|ci[2][xs[2]+0].value)>>>0,Fl==0&&256>ci[0][xs[0]+0].value&&(Ya.Qb=1,Ya.qb+=ci[0][xs[0]+0].value<<8)),Ya.jc=!Ya.Qb&&6>Cs,Ya.jc){var dd,bi=Ya;for(dd=0;dd<kn;++dd){var Wi=dd,Ao=bi.pd[Wi],Ud=bi.G[0][bi.H[0]+Wi];256<=Ud.value?(Ao.g=Ud.g+256,Ao.value=Ud.value):(Ao.g=0,Ao.value=0,Wi>>=Xt(Ud,8,Ao),Wi>>=Xt(bi.G[1][bi.H[1]+Wi],16,Ao),Wi>>=Xt(bi.G[2][bi.H[2]+Wi],0,Ao),Xt(bi.G[3][bi.H[3]+Wi],24,Ao))}}}Wa.vc=Xr,Wa.Wb=xa,Wa.Ya=cn,Wa.yc=Gi,gr=1;break t}gr=0}if(!(oe=gr)){H.a=3;break e}if(0<ft){if(Be.ua=1<<ft,!J(Be.Wa,ft)){H.a=1,oe=0;break e}}else Be.ua=0;var pu=H,wh=fe,wm=me,Nf=pu.s,jf=Nf.xc;if(pu.c=wh,pu.i=wm,Nf.md=Fe(wh,jf),Nf.wc=jf==0?-1:(1<<jf)-1,_){H.xb=gm;break e}if(($e=i(fe*me))==null){H.a=1,oe=0;break e}oe=(oe=ct(H,$e,0,fe,me,me,null))&&!we.h;break e}return oe?(Z!=null?Z[0]=$e:(t($e==null),t(_)),H.$=0,_||Ye(Be)):Ye(Be),oe}function vt(g,N){var _=g.c*g.i,H=_+N+16*N;return t(g.c<=N),g.V=i(H),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+_+N,1)}function It(g,N){var _=g.C,H=N-_,Z=g.V,oe=g.Ba+g.c*_;for(t(N<=g.l.o);0<H;){var fe=16<H?16:H,me=g.l.ma,we=g.l.width,Be=we*fe,$e=me.ca,ft=me.tb+we*_,Ue=g.Ta,Xe=g.Ua;ut(g,fe,Z,oe),Hn(Ue,Xe,$e,ft,Be),Ie(me,_,_+fe,$e,ft,we),H-=fe,Z+=fe*g.c,_+=fe}t(_==N),g.C=g.Ma=N}function Mt(){this.ub=this.yd=this.td=this.Rb=0}function fr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function dr(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function sr(){this.Yb=(function(){var g=[];return(function N(_,H,Z){for(var oe=Z[H],fe=0;fe<oe&&(_.push(Z.length>H+1?[]:0),!(Z.length<H+1));fe++)N(_[fe],H+1,Z)})(g,0,[3,11]),g})()}function Yr(){this.jb=i(3),this.Wc=l([4,8],sr),this.Xc=l([4,17],sr)}function Na(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Sa(){this.ld=this.La=this.dd=this.tc=0}function za(){this.Na=this.la=0}function Nn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ds(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Bi(){this.uc=this.M=this.Nb=0,this.wa=Array(new Sa),this.Y=0,this.ya=Array(new ds),this.aa=0,this.l=new Ls}function no(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Ti(){this.cb=this.a=0,this.sc="",this.m=new B,this.Od=new Mt,this.Kc=new fr,this.ed=new Na,this.Qa=new dr,this.Ic=this.$c=this.Aa=0,this.D=new Bi,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,B),this.ia=0,this.pb=o(4,Nn),this.Pa=new Yr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new no),this.Hd=0,this.rb=Array(new za),this.sb=0,this.wa=Array(new Sa),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ds),this.L=this.aa=0,this.gd=l([4,2],Sa),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ls(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function us(){var g=new Ti;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,Ss||(Ss=Ai)),g}function hn(g,N,_){return g.a==0&&(g.a=N,g.sc=_,g.cb=0),0}function Ed(g,N,_){return 3<=_&&g[N+0]==157&&g[N+1]==1&&g[N+2]==42}function vc(g,N){if(g==null)return 0;if(g.a=0,g.sc="OK",N==null)return hn(g,2,"null VP8Io passed to VP8GetHeaders()");var _=N.data,H=N.w,Z=N.ha;if(4>Z)return hn(g,7,"Truncated header.");var oe=_[H+0]|_[H+1]<<8|_[H+2]<<16,fe=g.Od;if(fe.Rb=!(1&oe),fe.td=oe>>1&7,fe.yd=oe>>4&1,fe.ub=oe>>5,3<fe.td)return hn(g,3,"Incorrect keyframe parameters.");if(!fe.yd)return hn(g,4,"Frame not displayable.");H+=3,Z-=3;var me=g.Kc;if(fe.Rb){if(7>Z)return hn(g,7,"cannot parse picture header");if(!Ed(_,H,Z))return hn(g,3,"Bad code word");me.c=16383&(_[H+4]<<8|_[H+3]),me.Td=_[H+4]>>6,me.i=16383&(_[H+6]<<8|_[H+5]),me.Ud=_[H+6]>>6,H+=7,Z-=7,g.za=me.c+15>>4,g.Ub=me.i+15>>4,N.width=me.c,N.height=me.i,N.Da=0,N.j=0,N.v=0,N.va=N.width,N.o=N.height,N.da=0,N.ib=N.width,N.hb=N.height,N.U=N.width,N.T=N.height,s((oe=g.Pa).jb,0,255,oe.jb.length),t((oe=g.Qa)!=null),oe.Cb=0,oe.Bb=0,oe.Fb=1,s(oe.Zb,0,0,oe.Zb.length),s(oe.Lb,0,0,oe.Lb)}if(fe.ub>Z)return hn(g,7,"bad partition length");X(oe=g.m,_,H,fe.ub),H+=fe.ub,Z-=fe.ub,fe.Rb&&(me.Ld=Y(oe),me.Kd=Y(oe)),me=g.Qa;var we,Be=g.Pa;if(t(oe!=null),t(me!=null),me.Cb=Y(oe),me.Cb){if(me.Bb=Y(oe),Y(oe)){for(me.Fb=Y(oe),we=0;4>we;++we)me.Zb[we]=Y(oe)?re(oe,7):0;for(we=0;4>we;++we)me.Lb[we]=Y(oe)?re(oe,6):0}if(me.Bb)for(we=0;3>we;++we)Be.jb[we]=Y(oe)?le(oe,8):255}else me.Bb=0;if(oe.Ka)return hn(g,3,"cannot parse segment header");if((me=g.ed).zd=Y(oe),me.Tb=le(oe,6),me.wb=le(oe,3),me.Pc=Y(oe),me.Pc&&Y(oe)){for(Be=0;4>Be;++Be)Y(oe)&&(me.vd[Be]=re(oe,6));for(Be=0;4>Be;++Be)Y(oe)&&(me.od[Be]=re(oe,6))}if(g.L=me.Tb==0?0:me.zd?1:2,oe.Ka)return hn(g,3,"cannot parse filter header");var $e=Z;if(Z=we=H,H=we+$e,me=$e,g.Xb=(1<<le(g.m,2))-1,$e<3*(Be=g.Xb))_=7;else{for(we+=3*Be,me-=3*Be,$e=0;$e<Be;++$e){var ft=_[Z+0]|_[Z+1]<<8|_[Z+2]<<16;ft>me&&(ft=me),X(g.Jc[+$e],_,we,ft),we+=ft,me-=ft,Z+=3}X(g.Jc[+Be],_,we,me),_=we<H?0:5}if(_!=0)return hn(g,_,"cannot parse partitions");for(_=le(we=g.m,7),Z=Y(we)?re(we,4):0,H=Y(we)?re(we,4):0,me=Y(we)?re(we,4):0,Be=Y(we)?re(we,4):0,we=Y(we)?re(we,4):0,$e=g.Qa,ft=0;4>ft;++ft){if($e.Cb){var Ue=$e.Zb[ft];$e.Fb||(Ue+=_)}else{if(0<ft){g.pb[ft]=g.pb[0];continue}Ue=_}var Xe=g.pb[ft];Xe.Sc[0]=uu[Va(Ue+Z,127)],Xe.Sc[1]=Tc[Va(Ue+0,127)],Xe.Eb[0]=2*uu[Va(Ue+H,127)],Xe.Eb[1]=101581*Tc[Va(Ue+me,127)]>>16,8>Xe.Eb[1]&&(Xe.Eb[1]=8),Xe.Qc[0]=uu[Va(Ue+Be,117)],Xe.Qc[1]=Tc[Va(Ue+we,127)],Xe.lc=Ue+we}if(!fe.Rb)return hn(g,4,"Not a key frame.");for(Y(oe),fe=g.Pa,_=0;4>_;++_){for(Z=0;8>Z;++Z)for(H=0;3>H;++H)for(me=0;11>me;++me)Be=se(oe,fu[_][Z][H][me])?le(oe,8):Fc[_][Z][H][me],fe.Wc[_][Z].Yb[H][me]=Be;for(Z=0;17>Z;++Z)fe.Xc[_][Z]=fe.Wc[_][pm[Z]]}return g.kc=Y(oe),g.kc&&(g.Bd=le(oe,8)),g.cb=1}function Ai(g,N,_,H,Z,oe,fe){var me=N[Z].Yb[_];for(_=0;16>Z;++Z){if(!se(g,me[_+0]))return Z;for(;!se(g,me[_+1]);)if(me=N[++Z].Yb[0],_=0,Z==16)return 16;var we=N[Z+1].Yb;if(se(g,me[_+2])){var Be=g,$e=0;if(se(Be,(Ue=me)[(ft=_)+3]))if(se(Be,Ue[ft+6])){for(me=0,ft=2*($e=se(Be,Ue[ft+8]))+(Ue=se(Be,Ue[ft+9+$e])),$e=0,Ue=Ms[ft];Ue[me];++me)$e+=$e+se(Be,Ue[me]);$e+=3+(8<<ft)}else se(Be,Ue[ft+7])?($e=7+2*se(Be,165),$e+=se(Be,145)):$e=5+se(Be,159);else $e=se(Be,Ue[ft+4])?3+se(Be,Ue[ft+5]):2;me=we[2]}else $e=1,me=we[1];we=fe+jn[Z],0>(Be=g).b&&Ae(Be);var ft,Ue=Be.b,Xe=(ft=Be.Ca>>1)-(Be.I>>Ue)>>31;--Be.b,Be.Ca+=Xe,Be.Ca|=1,Be.I-=(ft+1&Xe)<<Ue,oe[we]=(($e^Xe)-Xe)*H[(0<Z)+0]}return 16}function Uo(g){var N=g.rb[g.sb-1];N.la=0,N.Na=0,s(g.zc,0,0,g.zc.length),g.ja=0}function fs(g,N,_,H,Z){Z=g[N+_+32*H]+(Z>>3),g[N+_+32*H]=-256&Z?0>Z?0:255:Z}function es(g,N,_,H,Z,oe){fs(g,N,0,_,H+Z),fs(g,N,1,_,H+oe),fs(g,N,2,_,H-oe),fs(g,N,3,_,H-Z)}function Ba(g){return(20091*g>>16)+g}function ql(g,N,_,H){var Z,oe=0,fe=i(16);for(Z=0;4>Z;++Z){var me=g[N+0]+g[N+8],we=g[N+0]-g[N+8],Be=(35468*g[N+4]>>16)-Ba(g[N+12]),$e=Ba(g[N+4])+(35468*g[N+12]>>16);fe[oe+0]=me+$e,fe[oe+1]=we+Be,fe[oe+2]=we-Be,fe[oe+3]=me-$e,oe+=4,N++}for(Z=oe=0;4>Z;++Z)me=(g=fe[oe+0]+4)+fe[oe+8],we=g-fe[oe+8],Be=(35468*fe[oe+4]>>16)-Ba(fe[oe+12]),fs(_,H,0,0,me+($e=Ba(fe[oe+4])+(35468*fe[oe+12]>>16))),fs(_,H,1,0,we+Be),fs(_,H,2,0,we-Be),fs(_,H,3,0,me-$e),oe++,H+=32}function ru(g,N,_,H){var Z=g[N+0]+4,oe=35468*g[N+4]>>16,fe=Ba(g[N+4]),me=35468*g[N+1]>>16;es(_,H,0,Z+fe,g=Ba(g[N+1]),me),es(_,H,1,Z+oe,g,me),es(_,H,2,Z-oe,g,me),es(_,H,3,Z-fe,g,me)}function au(g,N,_,H,Z){ql(g,N,_,H),Z&&ql(g,N+16,_,H+4)}function Kl(g,N,_,H){Ki(g,N+0,_,H,1),Ki(g,N+32,_,H+128,1)}function sl(g,N,_,H){var Z;for(g=g[N+0]+4,Z=0;4>Z;++Z)for(N=0;4>N;++N)fs(_,H,N,Z,g)}function Bd(g,N,_,H){g[N+0]&&pa(g,N+0,_,H),g[N+16]&&pa(g,N+16,_,H+4),g[N+32]&&pa(g,N+32,_,H+128),g[N+48]&&pa(g,N+48,_,H+128+4)}function Gl(g,N,_,H){var Z,oe=i(16);for(Z=0;4>Z;++Z){var fe=g[N+0+Z]+g[N+12+Z],me=g[N+4+Z]+g[N+8+Z],we=g[N+4+Z]-g[N+8+Z],Be=g[N+0+Z]-g[N+12+Z];oe[0+Z]=fe+me,oe[8+Z]=fe-me,oe[4+Z]=Be+we,oe[12+Z]=Be-we}for(Z=0;4>Z;++Z)fe=(g=oe[0+4*Z]+3)+oe[3+4*Z],me=oe[1+4*Z]+oe[2+4*Z],we=oe[1+4*Z]-oe[2+4*Z],Be=g-oe[3+4*Z],_[H+0]=fe+me>>3,_[H+16]=Be+we>>3,_[H+32]=fe-me>>3,_[H+48]=Be-we>>3,H+=64}function vo(g,N,_){var H,Z=N-32,oe=Tn,fe=255-g[Z-1];for(H=0;H<_;++H){var me,we=oe,Be=fe+g[N-1];for(me=0;me<_;++me)g[N+me]=we[Be+g[Z+me]];N+=32}}function Td(g,N){vo(g,N,4)}function nu(g,N){vo(g,N,8)}function su(g,N){vo(g,N,16)}function Wl(g,N){var _;for(_=0;16>_;++_)a(g,N+32*_,g,N-32,16)}function Yl(g,N){var _;for(_=16;0<_;--_)s(g,N,g[N-1],16),N+=32}function Vi(g,N,_){var H;for(H=0;16>H;++H)s(N,_+32*H,g,16)}function mi(g,N){var _,H=16;for(_=0;16>_;++_)H+=g[N-1+32*_]+g[N+_-32];Vi(H>>5,g,N)}function ai(g,N){var _,H=8;for(_=0;16>_;++_)H+=g[N-1+32*_];Vi(H>>4,g,N)}function Ro(g,N){var _,H=8;for(_=0;16>_;++_)H+=g[N+_-32];Vi(H>>4,g,N)}function il(g,N){Vi(128,g,N)}function Nr(g,N,_){return g+2*N+_+2>>2}function iu(g,N){var _,H=N-32;for(H=new Uint8Array([Nr(g[H-1],g[H+0],g[H+1]),Nr(g[H+0],g[H+1],g[H+2]),Nr(g[H+1],g[H+2],g[H+3]),Nr(g[H+2],g[H+3],g[H+4])]),_=0;4>_;++_)a(g,N+32*_,H,0,H.length)}function Du(g,N){var _=g[N-1],H=g[N-1+32],Z=g[N-1+64],oe=g[N-1+96];ee(g,N+0,16843009*Nr(g[N-1-32],_,H)),ee(g,N+32,16843009*Nr(_,H,Z)),ee(g,N+64,16843009*Nr(H,Z,oe)),ee(g,N+96,16843009*Nr(Z,oe,oe))}function so(g,N){var _,H=4;for(_=0;4>_;++_)H+=g[N+_-32]+g[N-1+32*_];for(H>>=3,_=0;4>_;++_)s(g,N+32*_,H,4)}function Qo(g,N){var _=g[N-1+0],H=g[N-1+32],Z=g[N-1+64],oe=g[N-1-32],fe=g[N+0-32],me=g[N+1-32],we=g[N+2-32],Be=g[N+3-32];g[N+0+96]=Nr(H,Z,g[N-1+96]),g[N+1+96]=g[N+0+64]=Nr(_,H,Z),g[N+2+96]=g[N+1+64]=g[N+0+32]=Nr(oe,_,H),g[N+3+96]=g[N+2+64]=g[N+1+32]=g[N+0+0]=Nr(fe,oe,_),g[N+3+64]=g[N+2+32]=g[N+1+0]=Nr(me,fe,oe),g[N+3+32]=g[N+2+0]=Nr(we,me,fe),g[N+3+0]=Nr(Be,we,me)}function Ho(g,N){var _=g[N+1-32],H=g[N+2-32],Z=g[N+3-32],oe=g[N+4-32],fe=g[N+5-32],me=g[N+6-32],we=g[N+7-32];g[N+0+0]=Nr(g[N+0-32],_,H),g[N+1+0]=g[N+0+32]=Nr(_,H,Z),g[N+2+0]=g[N+1+32]=g[N+0+64]=Nr(H,Z,oe),g[N+3+0]=g[N+2+32]=g[N+1+64]=g[N+0+96]=Nr(Z,oe,fe),g[N+3+32]=g[N+2+64]=g[N+1+96]=Nr(oe,fe,me),g[N+3+64]=g[N+2+96]=Nr(fe,me,we),g[N+3+96]=Nr(me,we,we)}function Fi(g,N){var _=g[N-1+0],H=g[N-1+32],Z=g[N-1+64],oe=g[N-1-32],fe=g[N+0-32],me=g[N+1-32],we=g[N+2-32],Be=g[N+3-32];g[N+0+0]=g[N+1+64]=oe+fe+1>>1,g[N+1+0]=g[N+2+64]=fe+me+1>>1,g[N+2+0]=g[N+3+64]=me+we+1>>1,g[N+3+0]=we+Be+1>>1,g[N+0+96]=Nr(Z,H,_),g[N+0+64]=Nr(H,_,oe),g[N+0+32]=g[N+1+96]=Nr(_,oe,fe),g[N+1+32]=g[N+2+96]=Nr(oe,fe,me),g[N+2+32]=g[N+3+96]=Nr(fe,me,we),g[N+3+32]=Nr(me,we,Be)}function ws(g,N){var _=g[N+0-32],H=g[N+1-32],Z=g[N+2-32],oe=g[N+3-32],fe=g[N+4-32],me=g[N+5-32],we=g[N+6-32],Be=g[N+7-32];g[N+0+0]=_+H+1>>1,g[N+1+0]=g[N+0+64]=H+Z+1>>1,g[N+2+0]=g[N+1+64]=Z+oe+1>>1,g[N+3+0]=g[N+2+64]=oe+fe+1>>1,g[N+0+32]=Nr(_,H,Z),g[N+1+32]=g[N+0+96]=Nr(H,Z,oe),g[N+2+32]=g[N+1+96]=Nr(Z,oe,fe),g[N+3+32]=g[N+2+96]=Nr(oe,fe,me),g[N+3+64]=Nr(fe,me,we),g[N+3+96]=Nr(me,we,Be)}function Fd(g,N){var _=g[N-1+0],H=g[N-1+32],Z=g[N-1+64],oe=g[N-1+96];g[N+0+0]=_+H+1>>1,g[N+2+0]=g[N+0+32]=H+Z+1>>1,g[N+2+32]=g[N+0+64]=Z+oe+1>>1,g[N+1+0]=Nr(_,H,Z),g[N+3+0]=g[N+1+32]=Nr(H,Z,oe),g[N+3+32]=g[N+1+64]=Nr(Z,oe,oe),g[N+3+64]=g[N+2+64]=g[N+0+96]=g[N+1+96]=g[N+2+96]=g[N+3+96]=oe}function Nl(g,N){var _=g[N-1+0],H=g[N-1+32],Z=g[N-1+64],oe=g[N-1+96],fe=g[N-1-32],me=g[N+0-32],we=g[N+1-32],Be=g[N+2-32];g[N+0+0]=g[N+2+32]=_+fe+1>>1,g[N+0+32]=g[N+2+64]=H+_+1>>1,g[N+0+64]=g[N+2+96]=Z+H+1>>1,g[N+0+96]=oe+Z+1>>1,g[N+3+0]=Nr(me,we,Be),g[N+2+0]=Nr(fe,me,we),g[N+1+0]=g[N+3+32]=Nr(_,fe,me),g[N+1+32]=g[N+3+64]=Nr(H,_,fe),g[N+1+64]=g[N+3+96]=Nr(Z,H,_),g[N+1+96]=Nr(oe,Z,H)}function rd(g,N){var _;for(_=0;8>_;++_)a(g,N+32*_,g,N-32,8)}function $o(g,N){var _;for(_=0;8>_;++_)s(g,N,g[N-1],8),N+=32}function bo(g,N,_){var H;for(H=0;8>H;++H)s(N,_+32*H,g,8)}function zo(g,N){var _,H=8;for(_=0;8>_;++_)H+=g[N+_-32]+g[N-1+32*_];bo(H>>4,g,N)}function pi(g,N){var _,H=4;for(_=0;8>_;++_)H+=g[N+_-32];bo(H>>3,g,N)}function _i(g,N){var _,H=4;for(_=0;8>_;++_)H+=g[N-1+32*_];bo(H>>3,g,N)}function ol(g,N){bo(128,g,N)}function io(g,N,_){var H=g[N-_],Z=g[N+0],oe=3*(Z-H)+ou[1020+g[N-2*_]-g[N+_]],fe=Cc[112+(oe+4>>3)];g[N-_]=Tn[255+H+Cc[112+(oe+3>>3)]],g[N+0]=Tn[255+Z-fe]}function bc(g,N,_,H){var Z=g[N+0],oe=g[N+_];return js[255+g[N-2*_]-g[N-_]]>H||js[255+oe-Z]>H}function ts(g,N,_,H){return 4*js[255+g[N-_]-g[N+0]]+js[255+g[N-2*_]-g[N+_]]<=H}function Xl(g,N,_,H,Z){var oe=g[N-3*_],fe=g[N-2*_],me=g[N-_],we=g[N+0],Be=g[N+_],$e=g[N+2*_],ft=g[N+3*_];return 4*js[255+me-we]+js[255+fe-Be]>H?0:js[255+g[N-4*_]-oe]<=Z&&js[255+oe-fe]<=Z&&js[255+fe-me]<=Z&&js[255+ft-$e]<=Z&&js[255+$e-Be]<=Z&&js[255+Be-we]<=Z}function qi(g,N,_,H){var Z=2*H+1;for(H=0;16>H;++H)ts(g,N+H,_,Z)&&io(g,N+H,_)}function gi(g,N,_,H){var Z=2*H+1;for(H=0;16>H;++H)ts(g,N+H*_,1,Z)&&io(g,N+H*_,1)}function ll(g,N,_,H){var Z;for(Z=3;0<Z;--Z)qi(g,N+=4*_,_,H)}function Mu(g,N,_,H){var Z;for(Z=3;0<Z;--Z)gi(g,N+=4,_,H)}function oo(g,N,_,H,Z,oe,fe,me){for(oe=2*oe+1;0<Z--;){if(Xl(g,N,_,oe,fe))if(bc(g,N,_,me))io(g,N,_);else{var we=g,Be=N,$e=_,ft=we[Be-2*$e],Ue=we[Be-$e],Xe=we[Be+0],gt=we[Be+$e],St=we[Be+2*$e],et=27*(Ct=ou[1020+3*(Xe-Ue)+ou[1020+ft-gt]])+63>>7,ht=18*Ct+63>>7,Ct=9*Ct+63>>7;we[Be-3*$e]=Tn[255+we[Be-3*$e]+Ct],we[Be-2*$e]=Tn[255+ft+ht],we[Be-$e]=Tn[255+Ue+et],we[Be+0]=Tn[255+Xe-et],we[Be+$e]=Tn[255+gt-ht],we[Be+2*$e]=Tn[255+St-Ct]}N+=H}}function Os(g,N,_,H,Z,oe,fe,me){for(oe=2*oe+1;0<Z--;){if(Xl(g,N,_,oe,fe))if(bc(g,N,_,me))io(g,N,_);else{var we=g,Be=N,$e=_,ft=we[Be-$e],Ue=we[Be+0],Xe=we[Be+$e],gt=Cc[112+(4+(St=3*(Ue-ft))>>3)],St=Cc[112+(St+3>>3)],et=gt+1>>1;we[Be-2*$e]=Tn[255+we[Be-2*$e]+et],we[Be-$e]=Tn[255+ft+St],we[Be+0]=Tn[255+Ue-gt],we[Be+$e]=Tn[255+Xe-et]}N+=H}}function cl(g,N,_,H,Z,oe){oo(g,N,_,1,16,H,Z,oe)}function Jl(g,N,_,H,Z,oe){oo(g,N,1,_,16,H,Z,oe)}function ad(g,N,_,H,Z,oe){var fe;for(fe=3;0<fe;--fe)Os(g,N+=4*_,_,1,16,H,Z,oe)}function lo(g,N,_,H,Z,oe){var fe;for(fe=3;0<fe;--fe)Os(g,N+=4,1,_,16,H,Z,oe)}function ue(g,N,_,H,Z,oe,fe,me){oo(g,N,Z,1,8,oe,fe,me),oo(_,H,Z,1,8,oe,fe,me)}function He(g,N,_,H,Z,oe,fe,me){oo(g,N,1,Z,8,oe,fe,me),oo(_,H,1,Z,8,oe,fe,me)}function jt(g,N,_,H,Z,oe,fe,me){Os(g,N+4*Z,Z,1,8,oe,fe,me),Os(_,H+4*Z,Z,1,8,oe,fe,me)}function kt(g,N,_,H,Z,oe,fe,me){Os(g,N+4,1,Z,8,oe,fe,me),Os(_,H+4,1,Z,8,oe,fe,me)}function Qt(){this.ba=new Ft,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Dt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function lr(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function mr(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Hr(){this.ua=0,this.Wa=new Je,this.vb=new Je,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ie,this.yc=new z}function Kr(){this.xb=this.a=0,this.l=new Ls,this.ca=new Ft,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new R,this.Pb=0,this.wd=new R,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Hr,this.ab=0,this.gc=o(4,mr),this.Oc=0}function fa(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ls,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ma(g,N,_,H,Z,oe,fe){for(g=g==null?0:g[N+0],N=0;N<fe;++N)Z[oe+N]=g+_[H+N]&255,g=Z[oe+N]}function nn(g,N,_,H,Z,oe,fe){var me;if(g==null)ma(null,null,_,H,Z,oe,fe);else for(me=0;me<fe;++me)Z[oe+me]=g[N+me]+_[H+me]&255}function Bn(g,N,_,H,Z,oe,fe){if(g==null)ma(null,null,_,H,Z,oe,fe);else{var me,we=g[N+0],Be=we,$e=we;for(me=0;me<fe;++me)Be=$e+(we=g[N+me])-Be,$e=_[H+me]+(-256&Be?0>Be?0:255:Be)&255,Be=we,Z[oe+me]=$e}}function hs(g,N,_,H){var Z=N.width,oe=N.o;if(t(g!=null&&N!=null),0>_||0>=H||_+H>oe)return null;if(!g.Cc){if(g.ga==null){var fe;if(g.ga=new fa,(fe=g.ga==null)||(fe=N.width*N.o,t(g.Gb.length==0),g.Gb=i(fe),g.Uc=0,g.Gb==null?fe=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,fe=1),fe=!fe),!fe){fe=g.ga;var me=g.Fa,we=g.P,Be=g.qc,$e=g.mb,ft=g.nb,Ue=we+1,Xe=Be-1,gt=fe.l;if(t(me!=null&&$e!=null&&N!=null),Ii[0]=null,Ii[1]=ma,Ii[2]=nn,Ii[3]=Bn,fe.ca=$e,fe.tb=ft,fe.c=N.width,fe.i=N.height,t(0<fe.c&&0<fe.i),1>=Be)N=0;else if(fe.$a=3&me[we+0],fe.Z=me[we+0]>>2&3,fe.Lc=me[we+0]>>4&3,we=me[we+0]>>6&3,0>fe.$a||1<fe.$a||4<=fe.Z||1<fe.Lc||we)N=0;else if(gt.put=Fr,gt.ac=Ea,gt.bc=jr,gt.ma=fe,gt.width=N.width,gt.height=N.height,gt.Da=N.Da,gt.v=N.v,gt.va=N.va,gt.j=N.j,gt.o=N.o,fe.$a)e:{t(fe.$a==1),N=Ee();t:for(;;){if(N==null){N=0;break e}if(t(fe!=null),fe.mc=N,N.c=fe.c,N.i=fe.i,N.l=fe.l,N.l.ma=fe,N.l.width=fe.c,N.l.height=fe.i,N.a=0,he(N.m,me,Ue,Xe),!it(fe.c,fe.i,1,N,null)||(N.ab==1&&N.gc[0].hc==3&&dt(N.s)?(fe.ic=1,me=N.c*N.i,N.Ta=null,N.Ua=0,N.V=i(me),N.Ba=0,N.V==null?(N.a=1,N=0):N=1):(fe.ic=0,N=vt(N,fe.c)),!N))break t;N=1;break e}fe.mc=null,N=0}else N=Xe>=fe.c*fe.i;fe=!N}if(fe)return null;g.ga.Lc!=1?g.Ga=0:H=oe-_}t(g.ga!=null),t(_+H<=oe);e:{if(N=(me=g.ga).c,oe=me.l.o,me.$a==0){if(Ue=g.rc,Xe=g.Vc,gt=g.Fa,we=g.P+1+_*N,Be=g.mb,$e=g.nb+_*N,t(we<=g.P+g.qc),me.Z!=0)for(t(Ii[me.Z]!=null),fe=0;fe<H;++fe)Ii[me.Z](Ue,Xe,gt,we,Be,$e,N),Ue=Be,Xe=$e,$e+=N,we+=N;else for(fe=0;fe<H;++fe)a(Be,$e,gt,we,N),Ue=Be,Xe=$e,$e+=N,we+=N;g.rc=Ue,g.Vc=Xe}else{if(t(me.mc!=null),N=_+H,t((fe=me.mc)!=null),t(N<=fe.i),fe.C>=N)N=1;else if(me.ic||Rt(),me.ic){me=fe.V,Ue=fe.Ba,Xe=fe.c;var St=fe.i,et=(gt=1,we=fe.$/Xe,Be=fe.$%Xe,$e=fe.m,ft=fe.s,fe.$),ht=Xe*St,Ct=Xe*N,Pt=ft.wc,Tt=et<Ct?Oe(ft,Be,we):null;t(et<=ht),t(N<=St),t(dt(ft));t:for(;;){for(;!$e.h&&et<Ct;){if(Be&Pt||(Tt=Oe(ft,Be,we)),t(Tt!=null),xe($e),256>(St=wt(Tt.G[0],Tt.H[0],$e)))me[Ue+et]=St,++et,++Be>=Xe&&(Be=0,++we<=N&&!(we%16)&&Ne(fe,we));else{if(!(280>St)){gt=0;break t}St=ca(St-256,$e);var nr,Jt=wt(Tt.G[4],Tt.H[4],$e);if(xe($e),!(et>=(Jt=oa(Xe,Jt=ca(Jt,$e)))&&ht-et>=St)){gt=0;break t}for(nr=0;nr<St;++nr)me[Ue+et+nr]=me[Ue+et+nr-Jt];for(et+=St,Be+=St;Be>=Xe;)Be-=Xe,++we<=N&&!(we%16)&&Ne(fe,we);et<Ct&&Be&Pt&&(Tt=Oe(ft,Be,we))}t($e.h==ne($e))}Ne(fe,we>N?N:we);break t}!gt||$e.h&&et<ht?(gt=0,fe.a=$e.h?5:3):fe.$=et,N=gt}else N=ct(fe,fe.V,fe.Ba,fe.c,fe.i,N,It);if(!N){H=0;break e}}_+H>=oe&&(g.Cc=1),H=1}if(!H)return null;if(g.Cc&&((H=g.ga)!=null&&(H.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+_*Z}function te(g,N,_,H,Z,oe){for(;0<Z--;){var fe,me=g,we=N+(_?1:0),Be=g,$e=N+(_?0:3);for(fe=0;fe<H;++fe){var ft=Be[$e+4*fe];ft!=255&&(ft*=32897,me[we+4*fe+0]=me[we+4*fe+0]*ft>>23,me[we+4*fe+1]=me[we+4*fe+1]*ft>>23,me[we+4*fe+2]=me[we+4*fe+2]*ft>>23)}N+=oe}}function Re(g,N,_,H,Z){for(;0<H--;){var oe;for(oe=0;oe<_;++oe){var fe=g[N+2*oe+0],me=15&(Be=g[N+2*oe+1]),we=4369*me,Be=(240&Be|Be>>4)*we>>16;g[N+2*oe+0]=(240&fe|fe>>4)*we>>16&240|(15&fe|fe<<4)*we>>16>>4&15,g[N+2*oe+1]=240&Be|me}N+=Z}}function Nt(g,N,_,H,Z,oe,fe,me){var we,Be,$e=255;for(Be=0;Be<Z;++Be){for(we=0;we<H;++we){var ft=g[N+we];oe[fe+4*we]=ft,$e&=ft}N+=_,fe+=me}return $e!=255}function Bt(g,N,_,H,Z){var oe;for(oe=0;oe<Z;++oe)_[H+oe]=g[N+oe]>>8}function Rt(){ki=te,Ka=Re,Ga=Nt,Hn=Bt}function Zt(g,N,_){Q[g]=function(H,Z,oe,fe,me,we,Be,$e,ft,Ue,Xe,gt,St,et,ht,Ct,Pt){var Tt,nr=Pt-1>>1,Jt=me[we+0]|Be[$e+0]<<16,wr=ft[Ue+0]|Xe[gt+0]<<16;t(H!=null);var rr=3*Jt+wr+131074>>2;for(N(H[Z+0],255&rr,rr>>16,St,et),oe!=null&&(rr=3*wr+Jt+131074>>2,N(oe[fe+0],255&rr,rr>>16,ht,Ct)),Tt=1;Tt<=nr;++Tt){var $r=me[we+Tt]|Be[$e+Tt]<<16,ja=ft[Ue+Tt]|Xe[gt+Tt]<<16,kr=Jt+$r+wr+ja+524296,$t=kr+2*($r+wr)>>3;rr=$t+Jt>>1,Jt=(kr=kr+2*(Jt+ja)>>3)+$r>>1,N(H[Z+2*Tt-1],255&rr,rr>>16,St,et+(2*Tt-1)*_),N(H[Z+2*Tt-0],255&Jt,Jt>>16,St,et+(2*Tt-0)*_),oe!=null&&(rr=kr+wr>>1,Jt=$t+ja>>1,N(oe[fe+2*Tt-1],255&rr,rr>>16,ht,Ct+(2*Tt-1)*_),N(oe[fe+2*Tt+0],255&Jt,Jt>>16,ht,Ct+(2*Tt+0)*_)),Jt=$r,wr=ja}1&Pt||(rr=3*Jt+wr+131074>>2,N(H[Z+Pt-1],255&rr,rr>>16,St,et+(Pt-1)*_),oe!=null&&(rr=3*wr+Jt+131074>>2,N(oe[fe+Pt-1],255&rr,rr>>16,ht,Ct+(Pt-1)*_)))}}function yr(){In[yi]=cd,In[id]=Go,In[fo]=_c,In[Id]=gf,In[Ec]=xf,In[qo]=Au,In[pf]=gh,In[lu]=Go,In[Bc]=gf,In[Cl]=xf,In[rc]=Au}function Pr(g){return g&-16384?0>g?0:255:g>>D0}function Vr(g,N){return Pr((19077*g>>8)+(26149*N>>8)-14234)}function da(g,N,_){return Pr((19077*g>>8)-(6419*N>>8)-(13320*_>>8)+8708)}function ua(g,N){return Pr((19077*g>>8)+(33050*N>>8)-17685)}function Ma(g,N,_,H,Z){H[Z+0]=Vr(g,_),H[Z+1]=da(g,N,_),H[Z+2]=ua(g,N)}function An(g,N,_,H,Z){H[Z+0]=ua(g,N),H[Z+1]=da(g,N,_),H[Z+2]=Vr(g,_)}function Pa(g,N,_,H,Z){var oe=da(g,N,_);N=oe<<3&224|ua(g,N)>>3,H[Z+0]=248&Vr(g,_)|oe>>5,H[Z+1]=N}function ia(g,N,_,H,Z){var oe=240&ua(g,N)|15;H[Z+0]=240&Vr(g,_)|da(g,N,_)>>4,H[Z+1]=oe}function Rn(g,N,_,H,Z){H[Z+0]=255,Ma(g,N,_,H,Z+1)}function As(g,N,_,H,Z){An(g,N,_,H,Z),H[Z+3]=255}function co(g,N,_,H,Z){Ma(g,N,_,H,Z),H[Z+3]=255}function Va(g,N){return 0>g?0:g>N?N:g}function Dn(g,N,_){Q[g]=function(H,Z,oe,fe,me,we,Be,$e,ft){for(var Ue=$e+(-2&ft)*_;$e!=Ue;)N(H[Z+0],oe[fe+0],me[we+0],Be,$e),N(H[Z+1],oe[fe+0],me[we+0],Be,$e+_),Z+=2,++fe,++we,$e+=2*_;1&ft&&N(H[Z+0],oe[fe+0],me[we+0],Be,$e)}}function wc(g,N,_){return _==0?g==0?N==0?6:5:N==0?4:0:_}function xi(g,N,_,H,Z){switch(g>>>30){case 3:Ki(N,_,H,Z,0);break;case 2:yn(N,_,H,Z);break;case 1:pa(N,_,H,Z)}}function qa(g,N){var _,H,Z=N.M,oe=N.Nb,fe=g.oc,me=g.pc+40,we=g.oc,Be=g.pc+584,$e=g.oc,ft=g.pc+600;for(_=0;16>_;++_)fe[me+32*_-1]=129;for(_=0;8>_;++_)we[Be+32*_-1]=129,$e[ft+32*_-1]=129;for(0<Z?fe[me-1-32]=we[Be-1-32]=$e[ft-1-32]=129:(s(fe,me-32-1,127,21),s(we,Be-32-1,127,9),s($e,ft-32-1,127,9)),H=0;H<g.za;++H){var Ue=N.ya[N.aa+H];if(0<H){for(_=-1;16>_;++_)a(fe,me+32*_-4,fe,me+32*_+12,4);for(_=-1;8>_;++_)a(we,Be+32*_-4,we,Be+32*_+4,4),a($e,ft+32*_-4,$e,ft+32*_+4,4)}var Xe=g.Gd,gt=g.Hd+H,St=Ue.ad,et=Ue.Hc;if(0<Z&&(a(fe,me-32,Xe[gt].y,0,16),a(we,Be-32,Xe[gt].f,0,8),a($e,ft-32,Xe[gt].ea,0,8)),Ue.Za){var ht=fe,Ct=me-32+16;for(0<Z&&(H>=g.za-1?s(ht,Ct,Xe[gt].y[15],4):a(ht,Ct,Xe[gt+1].y,0,4)),_=0;4>_;_++)ht[Ct+128+_]=ht[Ct+256+_]=ht[Ct+384+_]=ht[Ct+0+_];for(_=0;16>_;++_,et<<=2)ht=fe,Ct=me+Pd[_],ss[Ue.Ob[_]](ht,Ct),xi(et,St,16*+_,ht,Ct)}else if(ht=wc(H,Z,Ue.Ob[0]),ho[ht](fe,me),et!=0)for(_=0;16>_;++_,et<<=2)xi(et,St,16*+_,fe,me+Pd[_]);for(_=Ue.Gc,ht=wc(H,Z,Ue.Dd),gs[ht](we,Be),gs[ht]($e,ft),et=St,ht=we,Ct=Be,255&(Ue=0|_)&&(170&Ue?Ns(et,256,ht,Ct):$a(et,256,ht,Ct)),Ue=$e,et=ft,255&(_>>=8)&&(170&_?Ns(St,320,Ue,et):$a(St,320,Ue,et)),Z<g.Ub-1&&(a(Xe[gt].y,0,fe,me+480,16),a(Xe[gt].f,0,we,Be+224,8),a(Xe[gt].ea,0,$e,ft+224,8)),_=8*oe*g.B,Xe=g.sa,gt=g.ta+16*H+16*oe*g.R,St=g.qa,Ue=g.ra+8*H+_,et=g.Ha,ht=g.Ia+8*H+_,_=0;16>_;++_)a(Xe,gt+_*g.R,fe,me+32*_,16);for(_=0;8>_;++_)a(St,Ue+_*g.B,we,Be+32*_,8),a(et,ht+_*g.B,$e,ft+32*_,8)}}function dl(g,N,_,H,Z,oe,fe,me,we){var Be=[0],$e=[0],ft=0,Ue=we!=null?we.kd:0,Xe=we??new lr;if(g==null||12>_)return 7;Xe.data=g,Xe.w=N,Xe.ha=_,N=[N],_=[_],Xe.gb=[Xe.gb];e:{var gt=N,St=_,et=Xe.gb;if(t(g!=null),t(St!=null),t(et!=null),et[0]=0,12<=St[0]&&!r(g,gt[0],"RIFF")){if(r(g,gt[0]+8,"WEBP")){et=3;break e}var ht=ce(g,gt[0]+4);if(12>ht||4294967286<ht){et=3;break e}if(Ue&&ht>St[0]-8){et=7;break e}et[0]=ht,gt[0]+=12,St[0]-=12}et=0}if(et!=0)return et;for(ht=0<Xe.gb[0],_=_[0];;){e:{var Ct=g;St=N,et=_;var Pt=Be,Tt=$e,nr=gt=[0];if((rr=ft=[ft])[0]=0,8>et[0])et=7;else{if(!r(Ct,St[0],"VP8X")){if(ce(Ct,St[0]+4)!=10){et=3;break e}if(18>et[0]){et=7;break e}var Jt=ce(Ct,St[0]+8),wr=1+Ce(Ct,St[0]+12);if(2147483648<=wr*(Ct=1+Ce(Ct,St[0]+15))){et=3;break e}nr!=null&&(nr[0]=Jt),Pt!=null&&(Pt[0]=wr),Tt!=null&&(Tt[0]=Ct),St[0]+=18,et[0]-=18,rr[0]=1}et=0}}if(ft=ft[0],gt=gt[0],et!=0)return et;if(St=!!(2&gt),!ht&&ft)return 3;if(oe!=null&&(oe[0]=!!(16&gt)),fe!=null&&(fe[0]=St),me!=null&&(me[0]=0),fe=Be[0],gt=$e[0],ft&&St&&we==null){et=0;break}if(4>_){et=7;break}if(ht&&ft||!ht&&!ft&&!r(g,N[0],"ALPH")){_=[_],Xe.na=[Xe.na],Xe.P=[Xe.P],Xe.Sa=[Xe.Sa];e:{Jt=g,et=N,ht=_;var rr=Xe.gb;Pt=Xe.na,Tt=Xe.P,nr=Xe.Sa,wr=22,t(Jt!=null),t(ht!=null),Ct=et[0];var $r=ht[0];for(t(Pt!=null),t(nr!=null),Pt[0]=null,Tt[0]=null,nr[0]=0;;){if(et[0]=Ct,ht[0]=$r,8>$r){et=7;break e}var ja=ce(Jt,Ct+4);if(4294967286<ja){et=3;break e}var kr=8+ja+1&-2;if(wr+=kr,0<rr&&wr>rr){et=3;break e}if(!r(Jt,Ct,"VP8 ")||!r(Jt,Ct,"VP8L")){et=0;break e}if($r[0]<kr){et=7;break e}r(Jt,Ct,"ALPH")||(Pt[0]=Jt,Tt[0]=Ct+8,nr[0]=ja),Ct+=kr,$r-=kr}}if(_=_[0],Xe.na=Xe.na[0],Xe.P=Xe.P[0],Xe.Sa=Xe.Sa[0],et!=0)break}_=[_],Xe.Ja=[Xe.Ja],Xe.xa=[Xe.xa];e:if(rr=g,et=N,ht=_,Pt=Xe.gb[0],Tt=Xe.Ja,nr=Xe.xa,Jt=et[0],Ct=!r(rr,Jt,"VP8 "),wr=!r(rr,Jt,"VP8L"),t(rr!=null),t(ht!=null),t(Tt!=null),t(nr!=null),8>ht[0])et=7;else{if(Ct||wr){if(rr=ce(rr,Jt+4),12<=Pt&&rr>Pt-12){et=3;break e}if(Ue&&rr>ht[0]-8){et=7;break e}Tt[0]=rr,et[0]+=8,ht[0]-=8,nr[0]=wr}else nr[0]=5<=ht[0]&&rr[Jt+0]==47&&!(rr[Jt+4]>>5),Tt[0]=ht[0];et=0}if(_=_[0],Xe.Ja=Xe.Ja[0],Xe.xa=Xe.xa[0],N=N[0],et!=0)break;if(4294967286<Xe.Ja)return 3;if(me==null||St||(me[0]=Xe.xa?2:1),fe=[fe],gt=[gt],Xe.xa){if(5>_){et=7;break}me=fe,Ue=gt,St=oe,g==null||5>_?g=0:5<=_&&g[N+0]==47&&!(g[N+4]>>5)?(ht=[0],rr=[0],Pt=[0],he(Tt=new R,g,N,_),Sr(Tt,ht,rr,Pt)?(me!=null&&(me[0]=ht[0]),Ue!=null&&(Ue[0]=rr[0]),St!=null&&(St[0]=Pt[0]),g=1):g=0):g=0}else{if(10>_){et=7;break}me=gt,g==null||10>_||!Ed(g,N+3,_-3)?g=0:(Ue=g[N+0]|g[N+1]<<8|g[N+2]<<16,St=16383&(g[N+7]<<8|g[N+6]),g=16383&(g[N+9]<<8|g[N+8]),1&Ue||3<(Ue>>1&7)||!(Ue>>4&1)||Ue>>5>=Xe.Ja||!St||!g?g=0:(fe&&(fe[0]=St),me&&(me[0]=g),g=1))}if(!g||(fe=fe[0],gt=gt[0],ft&&(Be[0]!=fe||$e[0]!=gt)))return 3;we!=null&&(we[0]=Xe,we.offset=N-we.w,t(4294967286>N-we.w),t(we.offset==we.ha-_));break}return et==0||et==7&&ft&&we==null?(oe!=null&&(oe[0]|=Xe.na!=null&&0<Xe.na.length),H!=null&&(H[0]=fe),Z!=null&&(Z[0]=gt),0):et}function Mn(g,N,_){var H=N.width,Z=N.height,oe=0,fe=0,me=H,we=Z;if(N.Da=g!=null&&0<g.Da,N.Da&&(me=g.cd,we=g.bd,oe=g.v,fe=g.j,11>_||(oe&=-2,fe&=-2),0>oe||0>fe||0>=me||0>=we||oe+me>H||fe+we>Z))return 0;if(N.v=oe,N.j=fe,N.va=oe+me,N.o=fe+we,N.U=me,N.T=we,N.da=g!=null&&0<g.da,N.da){if(!Ke(me,we,_=[g.ib],oe=[g.hb]))return 0;N.ib=_[0],N.hb=oe[0]}return N.ob=g!=null&&g.ob,N.Kb=g==null||!g.Sd,N.da&&(N.ob=N.ib<3*H/4&&N.hb<3*Z/4,N.Kb=0),1}function jl(g){if(g==null)return 2;if(11>g.S){var N=g.f.RGBA;N.fb+=(g.height-1)*N.A,N.A=-N.A}else N=g.f.kb,g=g.height,N.O+=(g-1)*N.fa,N.fa=-N.fa,N.N+=(g-1>>1)*N.Ab,N.Ab=-N.Ab,N.W+=(g-1>>1)*N.Db,N.Db=-N.Db,N.F!=null&&(N.J+=(g-1)*N.lb,N.lb=-N.lb);return 0}function Vs(g,N,_,H){if(H==null||0>=g||0>=N)return 2;if(_!=null){if(_.Da){var Z=_.cd,oe=_.bd,fe=-2&_.v,me=-2&_.j;if(0>fe||0>me||0>=Z||0>=oe||fe+Z>g||me+oe>N)return 2;g=Z,N=oe}if(_.da){if(!Ke(g,N,Z=[_.ib],oe=[_.hb]))return 2;g=Z[0],N=oe[0]}}H.width=g,H.height=N;e:{var we=H.width,Be=H.height;if(g=H.S,0>=we||0>=Be||!(g>=yi&&13>g))g=2;else{if(0>=H.Rd&&H.sd==null){fe=oe=Z=N=0;var $e=(me=we*uA[g])*Be;if(11>g||(oe=(Be+1)/2*(N=(we+1)/2),g==12&&(fe=(Z=we)*Be)),(Be=i($e+2*oe+fe))==null){g=1;break e}H.sd=Be,11>g?((we=H.f.RGBA).eb=Be,we.fb=0,we.A=me,we.size=$e):((we=H.f.kb).y=Be,we.O=0,we.fa=me,we.Fd=$e,we.f=Be,we.N=0+$e,we.Ab=N,we.Cd=oe,we.ea=Be,we.W=0+$e+oe,we.Db=N,we.Ed=oe,g==12&&(we.F=Be,we.J=0+$e+2*oe),we.Tc=fe,we.lb=Z)}if(N=1,Z=H.S,oe=H.width,fe=H.height,Z>=yi&&13>Z)if(11>Z)g=H.f.RGBA,N&=(me=Math.abs(g.A))*(fe-1)+oe<=g.size,N&=me>=oe*uA[Z],N&=g.eb!=null;else{g=H.f.kb,me=(oe+1)/2,$e=(fe+1)/2,we=Math.abs(g.fa),Be=Math.abs(g.Ab);var ft=Math.abs(g.Db),Ue=Math.abs(g.lb),Xe=Ue*(fe-1)+oe;N&=we*(fe-1)+oe<=g.Fd,N&=Be*($e-1)+me<=g.Cd,N=(N&=ft*($e-1)+me<=g.Ed)&we>=oe&Be>=me&ft>=me,N&=g.y!=null,N&=g.f!=null,N&=g.ea!=null,Z==12&&(N&=Ue>=oe,N&=Xe<=g.Tc,N&=g.F!=null)}else N=0;g=N?0:2}}return g!=0||_!=null&&_.fd&&(g=jl(H)),g}var kn=64,Ta=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ni=24,wo=32,No=8,Ds=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Se("Predictor0","PredictorAdd0"),Q.Predictor0=function(){return 4278190080},Q.Predictor1=function(g){return g},Q.Predictor2=function(g,N,_){return N[_+0]},Q.Predictor3=function(g,N,_){return N[_+1]},Q.Predictor4=function(g,N,_){return N[_-1]},Q.Predictor5=function(g,N,_){return at(at(g,N[_+1]),N[_+0])},Q.Predictor6=function(g,N,_){return at(g,N[_-1])},Q.Predictor7=function(g,N,_){return at(g,N[_+0])},Q.Predictor8=function(g,N,_){return at(N[_-1],N[_+0])},Q.Predictor9=function(g,N,_){return at(N[_+0],N[_+1])},Q.Predictor10=function(g,N,_){return at(at(g,N[_-1]),at(N[_+0],N[_+1]))},Q.Predictor11=function(g,N,_){var H=N[_+0];return 0>=ze(H>>24&255,g>>24&255,(N=N[_-1])>>24&255)+ze(H>>16&255,g>>16&255,N>>16&255)+ze(H>>8&255,g>>8&255,N>>8&255)+ze(255&H,255&g,255&N)?H:g},Q.Predictor12=function(g,N,_){var H=N[_+0];return(ke((g>>24&255)+(H>>24&255)-((N=N[_-1])>>24&255))<<24|ke((g>>16&255)+(H>>16&255)-(N>>16&255))<<16|ke((g>>8&255)+(H>>8&255)-(N>>8&255))<<8|ke((255&g)+(255&H)-(255&N)))>>>0},Q.Predictor13=function(g,N,_){var H=N[_-1];return(Ve((g=at(g,N[_+0]))>>24&255,H>>24&255)<<24|Ve(g>>16&255,H>>16&255)<<16|Ve(g>>8&255,H>>8&255)<<8|Ve(255&g,255&H))>>>0};var Nc=Q.PredictorAdd0;Q.PredictorAdd1=rt,Se("Predictor2","PredictorAdd2"),Se("Predictor3","PredictorAdd3"),Se("Predictor4","PredictorAdd4"),Se("Predictor5","PredictorAdd5"),Se("Predictor6","PredictorAdd6"),Se("Predictor7","PredictorAdd7"),Se("Predictor8","PredictorAdd8"),Se("Predictor9","PredictorAdd9"),Se("Predictor10","PredictorAdd10"),Se("Predictor11","PredictorAdd11"),Se("Predictor12","PredictorAdd12"),Se("Predictor13","PredictorAdd13");var Zl=Q.PredictorAdd2;je("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),je("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var rs,Vn=Q.ColorIndexInverseTransform,mn=Q.MapARGB,ms=Q.VP8LColorIndexInverseTransformAlpha,qn=Q.MapAlpha,si=Q.VP8LPredictorsAdd=[];si.length=16,(Q.VP8LPredictors=[]).length=16,(Q.VP8LPredictorsAdd_C=[]).length=16,(Q.VP8LPredictors_C=[]).length=16;var ul,ii,Kn,uo,qs,Ks,as,Ki,yn,Ns,pa,$a,Qn,Ja,jo,Sl,fl,Vo,_d,kd,jc,ec,nd,ps,ki,Ka,Ga,Hn,ns=i(511),hl=i(2041),sd=i(225),tc=i(767),Sc=0,ou=hl,Cc=sd,Tn=tc,js=ns,yi=0,id=1,fo=2,Id=3,Ec=4,qo=5,pf=6,lu=7,Bc=8,Cl=9,rc=10,ph=[2,3,7],El=[3,3,11],Ko=[280,256,256,256,40],cu=[0,1,1,1,0],Bl=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],od=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],du=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],mm=8,uu=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Tc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ss=null,Ms=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],jn=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ld=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Fc=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],iA=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],fu=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],pm=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ho=[],ss=[],gs=[],gm=1,hu=2,Ii=[],In=[];Zt("UpsampleRgbLinePair",Ma,3),Zt("UpsampleBgrLinePair",An,3),Zt("UpsampleRgbaLinePair",co,4),Zt("UpsampleBgraLinePair",As,4),Zt("UpsampleArgbLinePair",Rn,4),Zt("UpsampleRgba4444LinePair",ia,2),Zt("UpsampleRgb565LinePair",Pa,2);var cd=Q.UpsampleRgbLinePair,_c=Q.UpsampleBgrLinePair,Go=Q.UpsampleRgbaLinePair,gf=Q.UpsampleBgraLinePair,xf=Q.UpsampleArgbLinePair,Au=Q.UpsampleRgba4444LinePair,gh=Q.UpsampleRgb565LinePair,Al=16,Us=1<<Al-1,So=-227,Uu=482,D0=6,oA=0,M0=i(256),vi=i(256),lA=i(256),yf=i(256),vf=i(Uu-So),cA=i(Uu-So);Dn("YuvToRgbRow",Ma,3),Dn("YuvToBgrRow",An,3),Dn("YuvToRgbaRow",co,4),Dn("YuvToBgraRow",As,4),Dn("YuvToArgbRow",Rn,4),Dn("YuvToRgba4444Row",ia,2),Dn("YuvToRgb565Row",Pa,2);var Pd=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Tl=[0,2,8],U0=[8,7,6,4,4,2,2,2,1,1,1,1],dA=1;this.WebPDecodeRGBA=function(g,N,_,H,Z){var oe=id,fe=new Qt,me=new Ft;fe.ba=me,me.S=oe,me.width=[me.width],me.height=[me.height];var we=me.width,Be=me.height,$e=new _t;if($e==null||g==null)var ft=2;else t($e!=null),ft=dl(g,N,_,$e.width,$e.height,$e.Pd,$e.Qd,$e.format,null);if(ft!=0?we=0:(we!=null&&(we[0]=$e.width[0]),Be!=null&&(Be[0]=$e.height[0]),we=1),we){me.width=me.width[0],me.height=me.height[0],H!=null&&(H[0]=me.width),Z!=null&&(Z[0]=me.height);e:{if(H=new Ls,(Z=new lr).data=g,Z.w=N,Z.ha=_,Z.kd=1,N=[0],t(Z!=null),((g=dl(Z.data,Z.w,Z.ha,null,null,null,N,null,Z))==0||g==7)&&N[0]&&(g=4),(N=g)==0){if(t(fe!=null),H.data=Z.data,H.w=Z.w+Z.offset,H.ha=Z.ha-Z.offset,H.put=Fr,H.ac=Ea,H.bc=jr,H.ma=fe,Z.xa){if((g=Ee())==null){fe=1;break e}if((function(Ue,Xe){var gt=[0],St=[0],et=[0];t:for(;;){if(Ue==null)return 0;if(Xe==null)return Ue.a=2,0;if(Ue.l=Xe,Ue.a=0,he(Ue.m,Xe.data,Xe.w,Xe.ha),!Sr(Ue.m,gt,St,et)){Ue.a=3;break t}if(Ue.xb=hu,Xe.width=gt[0],Xe.height=St[0],!it(gt[0],St[0],1,Ue,null))break t;return 1}return t(Ue.a!=0),0})(g,H)){if(H=(N=Vs(H.width,H.height,fe.Oa,fe.ba))==0){t:{H=g;r:for(;;){if(H==null){H=0;break t}if(t(H.s.yc!=null),t(H.s.Ya!=null),t(0<H.s.Wb),t((_=H.l)!=null),t((Z=_.ma)!=null),H.xb!=0){if(H.ca=Z.ba,H.tb=Z.tb,t(H.ca!=null),!Mn(Z.Oa,_,Id)){H.a=2;break r}if(!vt(H,_.width)||_.da)break r;if((_.da||Qe(H.ca.S))&&Rt(),11>H.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),H.ca.f.kb.F!=null&&Rt()),H.Pb&&0<H.s.ua&&H.s.vb.X==null&&!J(H.s.vb,H.s.Wa.Xa)){H.a=1;break r}H.xb=0}if(!ct(H,H.V,H.Ba,H.c,H.i,_.o,ot))break r;Z.Dc=H.Ma,H=1;break t}t(H.a!=0),H=0}H=!H}H&&(N=g.a)}else N=g.a}else{if((g=new us)==null){fe=1;break e}if(g.Fa=Z.na,g.P=Z.P,g.qc=Z.Sa,vc(g,H)){if((N=Vs(H.width,H.height,fe.Oa,fe.ba))==0){if(g.Aa=0,_=fe.Oa,t((Z=g)!=null),_!=null){if(0<(we=0>(we=_.Md)?0:100<we?255:255*we/100)){for(Be=$e=0;4>Be;++Be)12>(ft=Z.pb[Be]).lc&&(ft.ia=we*U0[0>ft.lc?0:ft.lc]>>3),$e|=ft.ia;$e&&(alert("todo:VP8InitRandom"),Z.ia=1)}Z.Ga=_.Id,100<Z.Ga?Z.Ga=100:0>Z.Ga&&(Z.Ga=0)}(function(Ue,Xe){if(Ue==null)return 0;if(Xe==null)return hn(Ue,2,"NULL VP8Io parameter in VP8Decode().");if(!Ue.cb&&!vc(Ue,Xe))return 0;if(t(Ue.cb),Xe.ac==null||Xe.ac(Xe)){Xe.ob&&(Ue.L=0);var gt=Tl[Ue.L];if(Ue.L==2?(Ue.yb=0,Ue.zb=0):(Ue.yb=Xe.v-gt>>4,Ue.zb=Xe.j-gt>>4,0>Ue.yb&&(Ue.yb=0),0>Ue.zb&&(Ue.zb=0)),Ue.Va=Xe.o+15+gt>>4,Ue.Hb=Xe.va+15+gt>>4,Ue.Hb>Ue.za&&(Ue.Hb=Ue.za),Ue.Va>Ue.Ub&&(Ue.Va=Ue.Ub),0<Ue.L){var St=Ue.ed;for(gt=0;4>gt;++gt){var et;if(Ue.Qa.Cb){var ht=Ue.Qa.Lb[gt];Ue.Qa.Fb||(ht+=St.Tb)}else ht=St.Tb;for(et=0;1>=et;++et){var Ct=Ue.gd[gt][et],Pt=ht;if(St.Pc&&(Pt+=St.vd[0],et&&(Pt+=St.od[0])),0<(Pt=0>Pt?0:63<Pt?63:Pt)){var Tt=Pt;0<St.wb&&(Tt=4<St.wb?Tt>>2:Tt>>1)>9-St.wb&&(Tt=9-St.wb),1>Tt&&(Tt=1),Ct.dd=Tt,Ct.tc=2*Pt+Tt,Ct.ld=40<=Pt?2:15<=Pt?1:0}else Ct.tc=0;Ct.La=et}}}gt=0}else hn(Ue,6,"Frame setup failed"),gt=Ue.a;if(gt=gt==0){if(gt){Ue.$c=0,0<Ue.Aa||(Ue.Ic=dA);t:{gt=Ue.Ic,St=4*(Tt=Ue.za);var nr=32*Tt,Jt=Tt+1,wr=0<Ue.L?Tt*(0<Ue.Aa?2:1):0,rr=(Ue.Aa==2?2:1)*Tt;if((Ct=St+832+(et=3*(16*gt+Tl[Ue.L])/2*nr)+(ht=Ue.Fa!=null&&0<Ue.Fa.length?Ue.Kc.c*Ue.Kc.i:0))!=Ct)gt=0;else{if(Ct>Ue.Vb){if(Ue.Vb=0,Ue.Ec=i(Ct),Ue.Fc=0,Ue.Ec==null){gt=hn(Ue,1,"no memory during frame initialization.");break t}Ue.Vb=Ct}Ct=Ue.Ec,Pt=Ue.Fc,Ue.Ac=Ct,Ue.Bc=Pt,Pt+=St,Ue.Gd=o(nr,no),Ue.Hd=0,Ue.rb=o(Jt+1,za),Ue.sb=1,Ue.wa=wr?o(wr,Sa):null,Ue.Y=0,Ue.D.Nb=0,Ue.D.wa=Ue.wa,Ue.D.Y=Ue.Y,0<Ue.Aa&&(Ue.D.Y+=Tt),t(!0),Ue.oc=Ct,Ue.pc=Pt,Pt+=832,Ue.ya=o(rr,ds),Ue.aa=0,Ue.D.ya=Ue.ya,Ue.D.aa=Ue.aa,Ue.Aa==2&&(Ue.D.aa+=Tt),Ue.R=16*Tt,Ue.B=8*Tt,Tt=(nr=Tl[Ue.L])*Ue.R,nr=nr/2*Ue.B,Ue.sa=Ct,Ue.ta=Pt+Tt,Ue.qa=Ue.sa,Ue.ra=Ue.ta+16*gt*Ue.R+nr,Ue.Ha=Ue.qa,Ue.Ia=Ue.ra+8*gt*Ue.B+nr,Ue.$c=0,Pt+=et,Ue.mb=ht?Ct:null,Ue.nb=ht?Pt:null,t(Pt+ht<=Ue.Fc+Ue.Vb),Uo(Ue),s(Ue.Ac,Ue.Bc,0,St),gt=1}}if(gt){if(Xe.ka=0,Xe.y=Ue.sa,Xe.O=Ue.ta,Xe.f=Ue.qa,Xe.N=Ue.ra,Xe.ea=Ue.Ha,Xe.Vd=Ue.Ia,Xe.fa=Ue.R,Xe.Rc=Ue.B,Xe.F=null,Xe.J=0,!Sc){for(gt=-255;255>=gt;++gt)ns[255+gt]=0>gt?-gt:gt;for(gt=-1020;1020>=gt;++gt)hl[1020+gt]=-128>gt?-128:127<gt?127:gt;for(gt=-112;112>=gt;++gt)sd[112+gt]=-16>gt?-16:15<gt?15:gt;for(gt=-255;510>=gt;++gt)tc[255+gt]=0>gt?0:255<gt?255:gt;Sc=1}as=Gl,Ki=au,Ns=Kl,pa=sl,$a=Bd,yn=ru,Qn=cl,Ja=Jl,jo=ue,Sl=He,fl=ad,Vo=lo,_d=jt,kd=kt,jc=qi,ec=gi,nd=ll,ps=Mu,ss[0]=so,ss[1]=Td,ss[2]=iu,ss[3]=Du,ss[4]=Qo,ss[5]=Fi,ss[6]=Ho,ss[7]=ws,ss[8]=Nl,ss[9]=Fd,ho[0]=mi,ho[1]=su,ho[2]=Wl,ho[3]=Yl,ho[4]=ai,ho[5]=Ro,ho[6]=il,gs[0]=zo,gs[1]=nu,gs[2]=rd,gs[3]=$o,gs[4]=_i,gs[5]=pi,gs[6]=ol,gt=1}else gt=0}gt&&(gt=(function($r,ja){for($r.M=0;$r.M<$r.Va;++$r.M){var kr,$t=$r.Jc[$r.M&$r.Xb],gr=$r.m,ga=$r;for(kr=0;kr<ga.za;++kr){var Cr=gr,Qr=ga,Mr=Qr.Ac,qr=Qr.Bc+4*kr,ha=Qr.zc,aa=Qr.ya[Qr.aa+kr];if(Qr.Qa.Bb?aa.$b=se(Cr,Qr.Pa.jb[0])?2+se(Cr,Qr.Pa.jb[2]):se(Cr,Qr.Pa.jb[1]):aa.$b=0,Qr.kc&&(aa.Ad=se(Cr,Qr.Bd)),aa.Za=!se(Cr,145)+0,aa.Za){var vn=aa.Ob,bn=0;for(Qr=0;4>Qr;++Qr){var Wa,Xr=ha[0+Qr];for(Wa=0;4>Wa;++Wa){Xr=iA[Mr[qr+Wa]][Xr];for(var xa=ld[se(Cr,Xr[0])];0<xa;)xa=ld[2*xa+se(Cr,Xr[xa])];Xr=-xa,Mr[qr+Wa]=Xr}a(vn,bn,Mr,qr,4),bn+=4,ha[0+Qr]=Xr}}else Xr=se(Cr,156)?se(Cr,128)?1:3:se(Cr,163)?2:0,aa.Ob[0]=Xr,s(Mr,qr,Xr,4),s(ha,0,Xr,4);aa.Dd=se(Cr,142)?se(Cr,114)?se(Cr,183)?1:3:2:0}if(ga.m.Ka)return hn($r,7,"Premature end-of-partition0 encountered.");for(;$r.ja<$r.za;++$r.ja){if(ga=$t,Cr=(gr=$r).rb[gr.sb-1],Mr=gr.rb[gr.sb+gr.ja],kr=gr.ya[gr.aa+gr.ja],qr=gr.kc?kr.Ad:0)Cr.la=Mr.la=0,kr.Za||(Cr.Na=Mr.Na=0),kr.Hc=0,kr.Gc=0,kr.ia=0;else{var ln,Zr;if(Cr=Mr,Mr=ga,qr=gr.Pa.Xc,ha=gr.ya[gr.aa+gr.ja],aa=gr.pb[ha.$b],Qr=ha.ad,vn=0,bn=gr.rb[gr.sb-1],Xr=Wa=0,s(Qr,vn,0,384),ha.Za)var an=0,Gs=qr[3];else{xa=i(16);var Fn=Cr.Na+bn.Na;if(Fn=Ss(Mr,qr[1],Fn,aa.Eb,0,xa,0),Cr.Na=bn.Na=(0<Fn)+0,1<Fn)as(xa,0,Qr,vn);else{var oi=xa[0]+3>>3;for(xa=0;256>xa;xa+=16)Qr[vn+xa]=oi}an=1,Gs=qr[0]}var pn=15&Cr.la,Ua=15&bn.la;for(xa=0;4>xa;++xa){var Gi=1&Ua;for(oi=Zr=0;4>oi;++oi)pn=pn>>1|(Gi=(Fn=Ss(Mr,Gs,Fn=Gi+(1&pn),aa.Sc,an,Qr,vn))>an)<<7,Zr=Zr<<2|(3<Fn?3:1<Fn?2:Qr[vn+0]!=0),vn+=16;pn>>=4,Ua=Ua>>1|Gi<<7,Wa=(Wa<<8|Zr)>>>0}for(Gs=pn,an=Ua>>4,ln=0;4>ln;ln+=2){for(Zr=0,pn=Cr.la>>4+ln,Ua=bn.la>>4+ln,xa=0;2>xa;++xa){for(Gi=1&Ua,oi=0;2>oi;++oi)Fn=Gi+(1&pn),pn=pn>>1|(Gi=0<(Fn=Ss(Mr,qr[2],Fn,aa.Qc,0,Qr,vn)))<<3,Zr=Zr<<2|(3<Fn?3:1<Fn?2:Qr[vn+0]!=0),vn+=16;pn>>=2,Ua=Ua>>1|Gi<<5}Xr|=Zr<<4*ln,Gs|=pn<<4<<ln,an|=(240&Ua)<<ln}Cr.la=Gs,bn.la=an,ha.Hc=Wa,ha.Gc=Xr,ha.ia=43690&Xr?0:aa.ia,qr=!(Wa|Xr)}if(0<gr.L&&(gr.wa[gr.Y+gr.ja]=gr.gd[kr.$b][kr.Za],gr.wa[gr.Y+gr.ja].La|=!qr),ga.Ka)return hn($r,7,"Premature end-of-file encountered.")}if(Uo($r),gr=ja,ga=1,kr=($t=$r).D,Cr=0<$t.L&&$t.M>=$t.zb&&$t.M<=$t.Va,$t.Aa==0)t:{if(kr.M=$t.M,kr.uc=Cr,qa($t,kr),ga=1,kr=(Zr=$t.D).Nb,Cr=(Xr=Tl[$t.L])*$t.R,Mr=Xr/2*$t.B,xa=16*kr*$t.R,oi=8*kr*$t.B,qr=$t.sa,ha=$t.ta-Cr+xa,aa=$t.qa,Qr=$t.ra-Mr+oi,vn=$t.Ha,bn=$t.Ia-Mr+oi,Ua=(pn=Zr.M)==0,Wa=pn>=$t.Va-1,$t.Aa==2&&qa($t,Zr),Zr.uc)for(Gi=(Fn=$t).D.M,t(Fn.D.uc),Zr=Fn.yb;Zr<Fn.Hb;++Zr){an=Zr,Gs=Gi;var Pi=($n=(Cs=Fn).D).Nb;ln=Cs.R;var $n=$n.wa[$n.Y+an],cn=Cs.sa,li=Cs.ta+16*Pi*ln+16*an,Ws=$n.dd,Ya=$n.tc;if(Ya!=0)if(t(3<=Ya),Cs.L==1)0<an&&ec(cn,li,ln,Ya+4),$n.La&&ps(cn,li,ln,Ya),0<Gs&&jc(cn,li,ln,Ya+4),$n.La&&nd(cn,li,ln,Ya);else{var ci=Cs.B,xs=Cs.qa,Fl=Cs.ra+8*Pi*ci+8*an,Wo=Cs.Ha,Cs=Cs.Ia+8*Pi*ci+8*an;Pi=$n.ld,0<an&&(Ja(cn,li,ln,Ya+4,Ws,Pi),Sl(xs,Fl,Wo,Cs,ci,Ya+4,Ws,Pi)),$n.La&&(Vo(cn,li,ln,Ya,Ws,Pi),kd(xs,Fl,Wo,Cs,ci,Ya,Ws,Pi)),0<Gs&&(Qn(cn,li,ln,Ya+4,Ws,Pi),jo(xs,Fl,Wo,Cs,ci,Ya+4,Ws,Pi)),$n.La&&(fl(cn,li,ln,Ya,Ws,Pi),_d(xs,Fl,Wo,Cs,ci,Ya,Ws,Pi))}}if($t.ia&&alert("todo:DitherRow"),gr.put!=null){if(Zr=16*pn,pn=16*(pn+1),Ua?(gr.y=$t.sa,gr.O=$t.ta+xa,gr.f=$t.qa,gr.N=$t.ra+oi,gr.ea=$t.Ha,gr.W=$t.Ia+oi):(Zr-=Xr,gr.y=qr,gr.O=ha,gr.f=aa,gr.N=Qr,gr.ea=vn,gr.W=bn),Wa||(pn-=Xr),pn>gr.o&&(pn=gr.o),gr.F=null,gr.J=null,$t.Fa!=null&&0<$t.Fa.length&&Zr<pn&&(gr.J=hs($t,gr,Zr,pn-Zr),gr.F=$t.mb,gr.F==null&&gr.F.length==0)){ga=hn($t,3,"Could not decode alpha data.");break t}Zr<gr.j&&(Xr=gr.j-Zr,Zr=gr.j,t(!(1&Xr)),gr.O+=$t.R*Xr,gr.N+=$t.B*(Xr>>1),gr.W+=$t.B*(Xr>>1),gr.F!=null&&(gr.J+=gr.width*Xr)),Zr<pn&&(gr.O+=gr.v,gr.N+=gr.v>>1,gr.W+=gr.v>>1,gr.F!=null&&(gr.J+=gr.v),gr.ka=Zr-gr.j,gr.U=gr.va-gr.v,gr.T=pn-Zr,ga=gr.put(gr))}kr+1!=$t.Ic||Wa||(a($t.sa,$t.ta-Cr,qr,ha+16*$t.R,Cr),a($t.qa,$t.ra-Mr,aa,Qr+8*$t.B,Mr),a($t.Ha,$t.Ia-Mr,vn,bn+8*$t.B,Mr))}if(!ga)return hn($r,6,"Output aborted.")}return 1})(Ue,Xe)),Xe.bc!=null&&Xe.bc(Xe),gt&=1}return gt?(Ue.cb=0,gt):0})(g,H)||(N=g.a)}}else N=g.a}N==0&&fe.Oa!=null&&fe.Oa.fd&&(N=jl(fe.ba))}fe=N}oe=fe!=0?null:11>oe?me.f.RGBA.eb:me.f.kb.y}else oe=null;return oe};var uA=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(Q,U){for(var P="",I=0;I<4;I++)P+=String.fromCharCode(Q[U++]);return P}function d(Q,U){return Q[U+0]|Q[U+1]<<8}function A(Q,U){return(Q[U+0]|Q[U+1]<<8|Q[U+2]<<16)>>>0}function m(Q,U){return(Q[U+0]|Q[U+1]<<8|Q[U+2]<<16|Q[U+3]<<24)>>>0}new c;var h=[0],y=[0],x=[],v=new c,b=e,j=(function(Q,U){var P={},I=0,z=!1,W=0,ie=0;if(P.frames=[],!(function(B,R){for(var G=0;G<4;G++)if(B[R+G]!="RIFF".charCodeAt(G))return!0;return!1})(Q,U)){for(m(Q,U+=4),U+=8;U<Q.length;){var X=u(Q,U),le=m(Q,U+=4);U+=4;var re=le+(1&le);switch(X){case"VP8 ":case"VP8L":P.frames[I]===void 0&&(P.frames[I]={}),(ve=P.frames[I]).src_off=z?ie:U-8,ve.src_size=W+le+8,I++,z&&(z=!1,W=0,ie=0);break;case"VP8X":(ve=P.header={}).feature_flags=Q[U];var he=U+4;ve.canvas_width=1+A(Q,he),he+=3,ve.canvas_height=1+A(Q,he),he+=3;break;case"ALPH":z=!0,W=re+8,ie=U-8;break;case"ANIM":(ve=P.header).bgcolor=m(Q,U),he=U+4,ve.loop_count=d(Q,he),he+=2;break;case"ANMF":var de,ve;(ve=P.frames[I]={}).offset_x=2*A(Q,U),U+=3,ve.offset_y=2*A(Q,U),U+=3,ve.width=1+A(Q,U),U+=3,ve.height=1+A(Q,U),U+=3,ve.duration=A(Q,U),U+=3,de=Q[U++],ve.dispose=1&de,ve.blend=de>>1&1}X!="ANMF"&&(U+=re)}return P}})(b,0);j.response=b,j.rgbaoutput=!0,j.dataurl=!1;var C=j.header?j.header:null,E=j.frames?j.frames:null;if(C){C.loop_counter=C.loop_count,h=[C.canvas_height],y=[C.canvas_width];for(var k=0;k<E.length&&E[k].blend!=0;k++);}var D=E[0],L=v.WebPDecodeRGBA(b,D.src_off,D.src_size,y,h);D.rgba=L,D.imgwidth=y[0],D.imgheight=h[0];for(var F=0;F<y[0]*h[0]*4;F++)x[F]=L[F];return this.width=y,this.height=h,this.data=x,this}(function(e){var t,r,a,s,i,o,l,c,u,d=function(B){return B=B||{},this.isStrokeTransparent=B.isStrokeTransparent||!1,this.strokeOpacity=B.strokeOpacity||1,this.strokeStyle=B.strokeStyle||"#000000",this.fillStyle=B.fillStyle||"#000000",this.isFillTransparent=B.isFillTransparent||!1,this.fillOpacity=B.fillOpacity||1,this.font=B.font||"10px sans-serif",this.textBaseline=B.textBaseline||"alphabetic",this.textAlign=B.textAlign||"left",this.lineWidth=B.lineWidth||1,this.lineJoin=B.lineJoin||"miter",this.lineCap=B.lineCap||"butt",this.path=B.path||[],this.transform=B.transform!==void 0?B.transform.clone():new c,this.globalCompositeOperation=B.globalCompositeOperation||"normal",this.globalAlpha=B.globalAlpha||1,this.clip_path=B.clip_path||[],this.currentPoint=B.currentPoint||new o,this.miterLimit=B.miterLimit||10,this.lastPoint=B.lastPoint||new o,this.lineDashOffset=B.lineDashOffset||0,this.lineDash=B.lineDash||[],this.margin=B.margin||[0,0,0,0],this.prevPageLastElemOffset=B.prevPageLastElemOffset||0,this.ignoreClearRect=typeof B.ignoreClearRect!="boolean"||B.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new A(this),t=this.internal.f2,r=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var A=function(B){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var R=B;Object.defineProperty(this,"pdf",{get:function(){return R}});var G=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return G},set:function(ce){G=!!ce}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(ce){ne=!!ce}});var pe=0;Object.defineProperty(this,"posX",{get:function(){return pe},set:function(ce){isNaN(ce)||(pe=ce)}});var xe=0;Object.defineProperty(this,"posY",{get:function(){return xe},set:function(ce){isNaN(ce)||(xe=ce)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(ce){var J;typeof ce=="number"?J=[ce,ce,ce,ce]:((J=new Array(4))[0]=ce[0],J[1]=ce.length>=2?ce[1]:J[0],J[2]=ce.length>=3?ce[2]:J[0],J[3]=ce.length>=4?ce[3]:J[1]),u.margin=J}});var Ae=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ae},set:function(ce){Ae=ce}});var Y=0;Object.defineProperty(this,"lastBreak",{get:function(){return Y},set:function(ce){Y=ce}});var se=[];Object.defineProperty(this,"pageBreaks",{get:function(){return se},set:function(ce){se=ce}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(ce){ce instanceof d&&(u=ce)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(ce){u.path=ce}});var ee=[];Object.defineProperty(this,"ctxStack",{get:function(){return ee},set:function(ce){ee=ce}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ce){var J;J=m(ce),this.ctx.fillStyle=J.style,this.ctx.isFillTransparent=J.a===0,this.ctx.fillOpacity=J.a,this.pdf.setFillColor(J.r,J.g,J.b,{a:J.a}),this.pdf.setTextColor(J.r,J.g,J.b,{a:J.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ce){var J=m(ce);this.ctx.strokeStyle=J.style,this.ctx.isStrokeTransparent=J.a===0,this.ctx.strokeOpacity=J.a,J.a===0?this.pdf.setDrawColor(255,255,255):(J.a,this.pdf.setDrawColor(J.r,J.g,J.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ce){["butt","round","square"].indexOf(ce)!==-1&&(this.ctx.lineCap=ce,this.pdf.setLineCap(ce))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ce){isNaN(ce)||(this.ctx.lineWidth=ce,this.pdf.setLineWidth(ce))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ce){["bevel","round","miter"].indexOf(ce)!==-1&&(this.ctx.lineJoin=ce,this.pdf.setLineJoin(ce))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ce){isNaN(ce)||(this.ctx.miterLimit=ce,this.pdf.setMiterLimit(ce))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ce){this.ctx.textBaseline=ce}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ce){["right","end","center","left","start"].indexOf(ce)!==-1&&(this.ctx.textAlign=ce)}});var be=null,Ce=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ce},set:function(ce){be=null,Ce=ce}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ce){var J;if(this.ctx.font=ce,(J=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ce))!==null){var ge=J[1];J[2];var Je=J[3],Ke=J[4];J[5];var Fe=J[6],nt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ke)[2];Ke=Math.floor(nt==="px"?parseFloat(Ke)*this.pdf.internal.scaleFactor:nt==="em"?parseFloat(Ke)*this.pdf.getFontSize():parseFloat(Ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ke);var Se=(function(Le){var je,Ze,Te=[],pt=Le.trim();if(pt==="")return xS;if(pt in YP)return[YP[pt]];for(;pt!=="";){switch(Ze=null,je=(pt=JP(pt)).charAt(0)){case'"':case"'":Ze=_pe(pt.substring(1),je);break;default:Ze=kpe(pt)}if(Ze===null||(Te.push(Ze[0]),(pt=JP(Ze[1]))!==""&&pt.charAt(0)!==","))return xS;pt=pt.replace(/^,/,"")}return Te})(Fe);if(this.fontFaces){var Me=(function(Le,je){if(be===null){var Ze=(function(Te){var pt=[];return Object.keys(Te).forEach(function(At){Te[At].forEach(function(qe){var Pe=null;switch(qe){case"bold":Pe={family:At,weight:"bold"};break;case"italic":Pe={family:At,style:"italic"};break;case"bolditalic":Pe={family:At,weight:"bold",style:"italic"};break;case"":case"normal":Pe={family:At}}Pe!==null&&(Pe.ref={name:At,style:qe},pt.push(Pe))})}),pt})(Le.getFontList());be=(function(Te){for(var pt={},At=0;At<Te.length;++At){var qe=gS(Te[At]),Pe=qe.family,mt=qe.stretch,Qe=qe.style,st=qe.weight;pt[Pe]=pt[Pe]||{},pt[Pe][mt]=pt[Pe][mt]||{},pt[Pe][mt][Qe]=pt[Pe][mt][Qe]||{},pt[Pe][mt][Qe][st]=qe}return pt})(Ze.concat(je))}return be})(this.pdf,this.fontFaces),at=Se.map(function(Le){return{family:Le,stretch:"normal",weight:Je,style:ge}}),ke=(function(Le,je,Ze){for(var Te=(Ze=Ze||{}).defaultFontFamily||"times",pt=Object.assign({},Fpe,Ze.genericFontFamilies||{}),At=null,qe=null,Pe=0;Pe<je.length;++Pe)if(pt[(At=gS(je[Pe])).family]&&(At.family=pt[At.family]),Le.hasOwnProperty(At.family)){qe=Le[At.family];break}if(!(qe=qe||Le[Te]))throw new Error("Could not find a font-family for the rule '"+XP(At)+"' and default family '"+Te+"'.");if(qe=(function(mt,Qe){if(Qe[mt])return Qe[mt];var st=y6[mt],tt=st<=y6.normal?-1:1,Ft=WP(Qe,U$,st,tt);if(!Ft)throw new Error("Could not find a matching font-stretch value for "+mt);return Ft})(At.stretch,qe),qe=(function(mt,Qe){if(Qe[mt])return Qe[mt];for(var st=M$[mt],tt=0;tt<st.length;++tt)if(Qe[st[tt]])return Qe[st[tt]];throw new Error("Could not find a matching font-style for "+mt)})(At.style,qe),!(qe=(function(mt,Qe){if(Qe[mt])return Qe[mt];if(mt===400&&Qe[500])return Qe[500];if(mt===500&&Qe[400])return Qe[400];var st=Tpe[mt],tt=WP(Qe,R$,st,mt<400?-1:1);if(!tt)throw new Error("Could not find a matching font-weight for value "+mt);return tt})(At.weight,qe)))throw new Error("Failed to resolve a font for the rule '"+XP(At)+"'.");return qe})(Me,at);this.pdf.setFont(ke.ref.name,ke.ref.style)}else{var Ve="";(Je==="bold"||parseInt(Je,10)>=700||ge==="bold")&&(Ve="bold"),ge==="italic"&&(Ve+="italic"),Ve.length===0&&(Ve="normal");for(var ze="",rt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ge=0;Ge<Se.length;Ge++){if(this.pdf.internal.getFont(Se[Ge],Ve,{noFallback:!0,disableWarning:!0})!==void 0){ze=Se[Ge];break}if(Ve==="bolditalic"&&this.pdf.internal.getFont(Se[Ge],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ze=Se[Ge],Ve="bold";else if(this.pdf.internal.getFont(Se[Ge],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ze=Se[Ge],Ve="normal";break}}if(ze===""){for(var bt=0;bt<Se.length;bt++)if(rt[Se[bt]]){ze=rt[Se[bt]];break}}ze=ze===""?"Times":ze,this.pdf.setFont(ze,Ve)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ce){this.ctx.globalCompositeOperation=ce}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ce){this.ctx.globalAlpha=ce}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ce){this.ctx.lineDashOffset=ce,ve.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ce){this.ctx.lineDash=ce,ve.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ce){this.ctx.ignoreClearRect=!!ce}})};A.prototype.setLineDash=function(B){this.lineDash=B},A.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},A.prototype.fill=function(){E.call(this,"fill",!1)},A.prototype.stroke=function(){E.call(this,"stroke",!1)},A.prototype.beginPath=function(){this.path=[{type:"begin"}]},A.prototype.moveTo=function(B,R){if(isNaN(B)||isNaN(R))throw Zs.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var G=this.ctx.transform.applyToPoint(new o(B,R));this.path.push({type:"mt",x:G.x,y:G.y}),this.ctx.lastPoint=new o(B,R)},A.prototype.closePath=function(){var B=new o(0,0),R=0;for(R=this.path.length-1;R!==-1;R--)if(this.path[R].type==="begin"&&va(this.path[R+1])==="object"&&typeof this.path[R+1].x=="number"){B=new o(this.path[R+1].x,this.path[R+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(B.x,B.y)},A.prototype.lineTo=function(B,R){if(isNaN(B)||isNaN(R))throw Zs.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var G=this.ctx.transform.applyToPoint(new o(B,R));this.path.push({type:"lt",x:G.x,y:G.y}),this.ctx.lastPoint=new o(G.x,G.y)},A.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),E.call(this,null,!0)},A.prototype.quadraticCurveTo=function(B,R,G,ne){if(isNaN(G)||isNaN(ne)||isNaN(B)||isNaN(R))throw Zs.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var pe=this.ctx.transform.applyToPoint(new o(G,ne)),xe=this.ctx.transform.applyToPoint(new o(B,R));this.path.push({type:"qct",x1:xe.x,y1:xe.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new o(pe.x,pe.y)},A.prototype.bezierCurveTo=function(B,R,G,ne,pe,xe){if(isNaN(pe)||isNaN(xe)||isNaN(B)||isNaN(R)||isNaN(G)||isNaN(ne))throw Zs.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ae=this.ctx.transform.applyToPoint(new o(pe,xe)),Y=this.ctx.transform.applyToPoint(new o(B,R)),se=this.ctx.transform.applyToPoint(new o(G,ne));this.path.push({type:"bct",x1:Y.x,y1:Y.y,x2:se.x,y2:se.y,x:Ae.x,y:Ae.y}),this.ctx.lastPoint=new o(Ae.x,Ae.y)},A.prototype.arc=function(B,R,G,ne,pe,xe){if(isNaN(B)||isNaN(R)||isNaN(G)||isNaN(ne)||isNaN(pe))throw Zs.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(xe=!!xe,!this.ctx.transform.isIdentity){var Ae=this.ctx.transform.applyToPoint(new o(B,R));B=Ae.x,R=Ae.y;var Y=this.ctx.transform.applyToPoint(new o(0,G)),se=this.ctx.transform.applyToPoint(new o(0,0));G=Math.sqrt(Math.pow(Y.x-se.x,2)+Math.pow(Y.y-se.y,2))}Math.abs(pe-ne)>=2*Math.PI&&(ne=0,pe=2*Math.PI),this.path.push({type:"arc",x:B,y:R,radius:G,startAngle:ne,endAngle:pe,counterclockwise:xe})},A.prototype.arcTo=function(B,R,G,ne,pe){throw new Error("arcTo not implemented.")},A.prototype.rect=function(B,R,G,ne){if(isNaN(B)||isNaN(R)||isNaN(G)||isNaN(ne))throw Zs.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(B,R),this.lineTo(B+G,R),this.lineTo(B+G,R+ne),this.lineTo(B,R+ne),this.lineTo(B,R),this.lineTo(B+G,R),this.lineTo(B,R)},A.prototype.fillRect=function(B,R,G,ne){if(isNaN(B)||isNaN(R)||isNaN(G)||isNaN(ne))throw Zs.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var pe={};this.lineCap!=="butt"&&(pe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(pe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(B,R,G,ne),this.fill(),pe.hasOwnProperty("lineCap")&&(this.lineCap=pe.lineCap),pe.hasOwnProperty("lineJoin")&&(this.lineJoin=pe.lineJoin)}},A.prototype.strokeRect=function(B,R,G,ne){if(isNaN(B)||isNaN(R)||isNaN(G)||isNaN(ne))throw Zs.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(B,R,G,ne),this.stroke())},A.prototype.clearRect=function(B,R,G,ne){if(isNaN(B)||isNaN(R)||isNaN(G)||isNaN(ne))throw Zs.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(B,R,G,ne))},A.prototype.save=function(B){B=typeof B!="boolean"||B;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("q");if(this.pdf.setPage(R),B){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},A.prototype.restore=function(B){B=typeof B!="boolean"||B;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("Q");this.pdf.setPage(R),B&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},A.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(B){var R,G,ne,pe;if(B.isCanvasGradient===!0&&(B=B.getColor()),!B)return{r:0,g:0,b:0,a:0,style:B};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(B))R=0,G=0,ne=0,pe=0;else{var xe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(B);if(xe!==null)R=parseInt(xe[1]),G=parseInt(xe[2]),ne=parseInt(xe[3]),pe=1;else if((xe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(B))!==null)R=parseInt(xe[1]),G=parseInt(xe[2]),ne=parseInt(xe[3]),pe=parseFloat(xe[4]);else{if(pe=1,typeof B=="string"&&B.charAt(0)!=="#"){var Ae=new _$(B);B=Ae.ok?Ae.toHex():"#000000"}B.length===4?(R=B.substring(1,2),R+=R,G=B.substring(2,3),G+=G,ne=B.substring(3,4),ne+=ne):(R=B.substring(1,3),G=B.substring(3,5),ne=B.substring(5,7)),R=parseInt(R,16),G=parseInt(G,16),ne=parseInt(ne,16)}}return{r:R,g:G,b:ne,a:pe,style:B}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};A.prototype.fillText=function(B,R,G,ne){if(isNaN(R)||isNaN(G)||typeof B!="string")throw Zs.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!h.call(this)){var pe=re(this.ctx.transform.rotation),xe=this.ctx.transform.scaleX;I.call(this,{text:B,x:R,y:G,scale:xe,angle:pe,align:this.textAlign,maxWidth:ne})}},A.prototype.strokeText=function(B,R,G,ne){if(isNaN(R)||isNaN(G)||typeof B!="string")throw Zs.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){ne=isNaN(ne)?void 0:ne;var pe=re(this.ctx.transform.rotation),xe=this.ctx.transform.scaleX;I.call(this,{text:B,x:R,y:G,scale:xe,renderingMode:"stroke",angle:pe,align:this.textAlign,maxWidth:ne})}},A.prototype.measureText=function(B){if(typeof B!="string")throw Zs.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var R=this.pdf,G=this.pdf.internal.scaleFactor,ne=R.internal.getFontSize(),pe=R.getStringUnitWidth(B)*ne/R.internal.scaleFactor;return new function(xe){var Ae=(xe=xe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ae}}),this}({width:pe*=Math.round(96*G/72*1e4)/1e4})},A.prototype.scale=function(B,R){if(isNaN(B)||isNaN(R))throw Zs.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var G=new c(B,0,0,R,0,0);this.ctx.transform=this.ctx.transform.multiply(G)},A.prototype.rotate=function(B){if(isNaN(B))throw Zs.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var R=new c(Math.cos(B),Math.sin(B),-Math.sin(B),Math.cos(B),0,0);this.ctx.transform=this.ctx.transform.multiply(R)},A.prototype.translate=function(B,R){if(isNaN(B)||isNaN(R))throw Zs.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var G=new c(1,0,0,1,B,R);this.ctx.transform=this.ctx.transform.multiply(G)},A.prototype.transform=function(B,R,G,ne,pe,xe){if(isNaN(B)||isNaN(R)||isNaN(G)||isNaN(ne)||isNaN(pe)||isNaN(xe))throw Zs.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ae=new c(B,R,G,ne,pe,xe);this.ctx.transform=this.ctx.transform.multiply(Ae)},A.prototype.setTransform=function(B,R,G,ne,pe,xe){B=isNaN(B)?1:B,R=isNaN(R)?0:R,G=isNaN(G)?0:G,ne=isNaN(ne)?1:ne,pe=isNaN(pe)?0:pe,xe=isNaN(xe)?0:xe,this.ctx.transform=new c(B,R,G,ne,pe,xe)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};A.prototype.drawImage=function(B,R,G,ne,pe,xe,Ae,Y,se){var ee=this.pdf.getImageProperties(B),be=1,Ce=1,ce=1,J=1;ne!==void 0&&Y!==void 0&&(ce=Y/ne,J=se/pe,be=ee.width/ne*Y/ne,Ce=ee.height/pe*se/pe),xe===void 0&&(xe=R,Ae=G,R=0,G=0),ne!==void 0&&Y===void 0&&(Y=ne,se=pe),ne===void 0&&Y===void 0&&(Y=ee.width,se=ee.height);for(var ge,Je=this.ctx.transform.decompose(),Ke=re(Je.rotate.shx),Fe=new c,nt=(Fe=(Fe=(Fe=Fe.multiply(Je.translate)).multiply(Je.skew)).multiply(Je.scale)).applyToRectangle(new l(xe-R*ce,Ae-G*J,ne*be,pe*Ce)),Se=v.call(this,nt),Me=[],at=0;at<Se.length;at+=1)Me.indexOf(Se[at])===-1&&Me.push(Se[at]);if(C(Me),this.autoPaging)for(var ke=Me[0],Ve=Me[Me.length-1],ze=ke;ze<Ve+1;ze++){this.pdf.setPage(ze);var rt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ge=ze===1?this.posY+this.margin[0]:this.margin[0],bt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Le=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],je=ze===1?0:bt+(ze-2)*Le;if(this.ctx.clip_path.length!==0){var Ze=this.path;ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(ge,this.posX+this.margin[3],-je+Ge+this.ctx.prevPageLastElemOffset),k.call(this,"fill",!0),this.path=Ze}var Te=JSON.parse(JSON.stringify(nt));Te=j([Te],this.posX+this.margin[3],-je+Ge+this.ctx.prevPageLastElemOffset)[0];var pt=(ze>ke||ze<Ve)&&x.call(this);pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rt,Le,null).clip().discardPath()),this.pdf.addImage(B,"JPEG",Te.x,Te.y,Te.w,Te.h,null,null,Ke),pt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(B,"JPEG",nt.x,nt.y,nt.w,nt.h,null,null,Ke)};var v=function(B,R,G){var ne=[];R=R||this.pdf.internal.pageSize.width,G=G||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var pe=this.posY+this.ctx.prevPageLastElemOffset;switch(B.type){default:case"mt":case"lt":ne.push(Math.floor((B.y+pe)/G)+1);break;case"arc":ne.push(Math.floor((B.y+pe-B.radius)/G)+1),ne.push(Math.floor((B.y+pe+B.radius)/G)+1);break;case"qct":var xe=he(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x,B.y);ne.push(Math.floor((xe.y+pe)/G)+1),ne.push(Math.floor((xe.y+xe.h+pe)/G)+1);break;case"bct":var Ae=de(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x2,B.y2,B.x,B.y);ne.push(Math.floor((Ae.y+pe)/G)+1),ne.push(Math.floor((Ae.y+Ae.h+pe)/G)+1);break;case"rect":ne.push(Math.floor((B.y+pe)/G)+1),ne.push(Math.floor((B.y+B.h+pe)/G)+1)}for(var Y=0;Y<ne.length;Y+=1)for(;this.pdf.internal.getNumberOfPages()<ne[Y];)b.call(this);return ne},b=function(){var B=this.fillStyle,R=this.strokeStyle,G=this.font,ne=this.lineCap,pe=this.lineWidth,xe=this.lineJoin;this.pdf.addPage(),this.fillStyle=B,this.strokeStyle=R,this.font=G,this.lineCap=ne,this.lineWidth=pe,this.lineJoin=xe},j=function(B,R,G){for(var ne=0;ne<B.length;ne++)switch(B[ne].type){case"bct":B[ne].x2+=R,B[ne].y2+=G;case"qct":B[ne].x1+=R,B[ne].y1+=G;default:B[ne].x+=R,B[ne].y+=G}return B},C=function(B){return B.sort(function(R,G){return R-G})},E=function(B,R){for(var G,ne,pe=this.fillStyle,xe=this.strokeStyle,Ae=this.lineCap,Y=this.lineWidth,se=Math.abs(Y*this.ctx.transform.scaleX),ee=this.lineJoin,be=JSON.parse(JSON.stringify(this.path)),Ce=JSON.parse(JSON.stringify(this.path)),ce=[],J=0;J<Ce.length;J++)if(Ce[J].x!==void 0)for(var ge=v.call(this,Ce[J]),Je=0;Je<ge.length;Je+=1)ce.indexOf(ge[Je])===-1&&ce.push(ge[Je]);for(var Ke=0;Ke<ce.length;Ke++)for(;this.pdf.internal.getNumberOfPages()<ce[Ke];)b.call(this);if(C(ce),this.autoPaging)for(var Fe=ce[0],nt=ce[ce.length-1],Se=Fe;Se<nt+1;Se++){this.pdf.setPage(Se),this.fillStyle=pe,this.strokeStyle=xe,this.lineCap=Ae,this.lineWidth=se,this.lineJoin=ee;var Me=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],at=Se===1?this.posY+this.margin[0]:this.margin[0],ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ve=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ze=Se===1?0:ke+(Se-2)*Ve;if(this.ctx.clip_path.length!==0){var rt=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(G,this.posX+this.margin[3],-ze+at+this.ctx.prevPageLastElemOffset),k.call(this,B,!0),this.path=rt}if(ne=JSON.parse(JSON.stringify(be)),this.path=j(ne,this.posX+this.margin[3],-ze+at+this.ctx.prevPageLastElemOffset),R===!1||Se===0){var Ge=(Se>Fe||Se<nt)&&x.call(this);Ge&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Me,Ve,null).clip().discardPath()),k.call(this,B,R),Ge&&this.pdf.restoreGraphicsState()}this.lineWidth=Y}else this.lineWidth=se,k.call(this,B,R),this.lineWidth=Y;this.path=be},k=function(B,R){if((B!=="stroke"||R||!y.call(this))&&(B==="stroke"||R||!h.call(this))){for(var G,ne,pe=[],xe=this.path,Ae=0;Ae<xe.length;Ae++){var Y=xe[Ae];switch(Y.type){case"begin":pe.push({begin:!0});break;case"close":pe.push({close:!0});break;case"mt":pe.push({start:Y,deltas:[],abs:[]});break;case"lt":var se=pe.length;if(xe[Ae-1]&&!isNaN(xe[Ae-1].x)&&(G=[Y.x-xe[Ae-1].x,Y.y-xe[Ae-1].y],se>0)){for(;se>=0;se--)if(pe[se-1].close!==!0&&pe[se-1].begin!==!0){pe[se-1].deltas.push(G),pe[se-1].abs.push(Y);break}}break;case"bct":G=[Y.x1-xe[Ae-1].x,Y.y1-xe[Ae-1].y,Y.x2-xe[Ae-1].x,Y.y2-xe[Ae-1].y,Y.x-xe[Ae-1].x,Y.y-xe[Ae-1].y],pe[pe.length-1].deltas.push(G);break;case"qct":var ee=xe[Ae-1].x+2/3*(Y.x1-xe[Ae-1].x),be=xe[Ae-1].y+2/3*(Y.y1-xe[Ae-1].y),Ce=Y.x+2/3*(Y.x1-Y.x),ce=Y.y+2/3*(Y.y1-Y.y),J=Y.x,ge=Y.y;G=[ee-xe[Ae-1].x,be-xe[Ae-1].y,Ce-xe[Ae-1].x,ce-xe[Ae-1].y,J-xe[Ae-1].x,ge-xe[Ae-1].y],pe[pe.length-1].deltas.push(G);break;case"arc":pe.push({deltas:[],abs:[],arc:!0}),Array.isArray(pe[pe.length-1].abs)&&pe[pe.length-1].abs.push(Y)}}ne=R?null:B==="stroke"?"stroke":"fill";for(var Je=!1,Ke=0;Ke<pe.length;Ke++)if(pe[Ke].arc)for(var Fe=pe[Ke].abs,nt=0;nt<Fe.length;nt++){var Se=Fe[nt];Se.type==="arc"?F.call(this,Se.x,Se.y,Se.radius,Se.startAngle,Se.endAngle,Se.counterclockwise,void 0,R,!Je):z.call(this,Se.x,Se.y),Je=!0}else if(pe[Ke].close===!0)this.pdf.internal.out("h"),Je=!1;else if(pe[Ke].begin!==!0){var Me=pe[Ke].start.x,at=pe[Ke].start.y;W.call(this,pe[Ke].deltas,Me,at),Je=!0}ne&&Q.call(this,ne),R&&U.call(this)}},D=function(B){var R=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,G=R*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return B-G;case"top":return B+R-G;case"hanging":return B+R-2*G;case"middle":return B+R/2-G;default:return B}},L=function(B){return B+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};A.prototype.createLinearGradient=function(){var B=function(){};return B.colorStops=[],B.addColorStop=function(R,G){this.colorStops.push([R,G])},B.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},B.isCanvasGradient=!0,B},A.prototype.createPattern=function(){return this.createLinearGradient()},A.prototype.createRadialGradient=function(){return this.createLinearGradient()};var F=function(B,R,G,ne,pe,xe,Ae,Y,se){for(var ee=X.call(this,G,ne,pe,xe),be=0;be<ee.length;be++){var Ce=ee[be];be===0&&(se?P.call(this,Ce.x1+B,Ce.y1+R):z.call(this,Ce.x1+B,Ce.y1+R)),ie.call(this,B,R,Ce.x2,Ce.y2,Ce.x3,Ce.y3,Ce.x4,Ce.y4)}Y?U.call(this):Q.call(this,Ae)},Q=function(B){switch(B){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},U=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(B,R){this.pdf.internal.out(r(B)+" "+a(R)+" m")},I=function(B){var R;switch(B.align){case"right":case"end":R="right";break;case"center":R="center";break;default:R="left"}var G=this.pdf.getTextDimensions(B.text),ne=D.call(this,B.y),pe=L.call(this,ne)-G.h,xe=this.ctx.transform.applyToPoint(new o(B.x,ne)),Ae=this.ctx.transform.decompose(),Y=new c;Y=(Y=(Y=Y.multiply(Ae.translate)).multiply(Ae.skew)).multiply(Ae.scale);for(var se,ee,be,Ce=this.ctx.transform.applyToRectangle(new l(B.x,ne,G.w,G.h)),ce=Y.applyToRectangle(new l(B.x,pe,G.w,G.h)),J=v.call(this,ce),ge=[],Je=0;Je<J.length;Je+=1)ge.indexOf(J[Je])===-1&&ge.push(J[Je]);if(C(ge),this.autoPaging)for(var Ke=ge[0],Fe=ge[ge.length-1],nt=Ke;nt<Fe+1;nt++){this.pdf.setPage(nt);var Se=nt===1?this.posY+this.margin[0]:this.margin[0],Me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],at=this.pdf.internal.pageSize.height-this.margin[2],ke=at-this.margin[0],Ve=this.pdf.internal.pageSize.width-this.margin[1],ze=Ve-this.margin[3],rt=nt===1?0:Me+(nt-2)*ke;if(this.ctx.clip_path.length!==0){var Ge=this.path;se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(se,this.posX+this.margin[3],-1*rt+Se),k.call(this,"fill",!0),this.path=Ge}var bt=j([JSON.parse(JSON.stringify(ce))],this.posX+this.margin[3],-rt+Se+this.ctx.prevPageLastElemOffset)[0];B.scale>=.01&&(ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ee*B.scale),be=this.lineWidth,this.lineWidth=be*B.scale);var Le=this.autoPaging!=="text";if(Le||bt.y+bt.h<=at){if(Le||bt.y>=Se&&bt.x<=Ve){var je=Le?B.text:this.pdf.splitTextToSize(B.text,B.maxWidth||Ve-bt.x)[0],Ze=j([JSON.parse(JSON.stringify(Ce))],this.posX+this.margin[3],-rt+Se+this.ctx.prevPageLastElemOffset)[0],Te=Le&&(nt>Ke||nt<Fe)&&x.call(this);Te&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ze,ke,null).clip().discardPath()),this.pdf.text(je,Ze.x,Ze.y,{angle:B.angle,align:R,renderingMode:B.renderingMode}),Te&&this.pdf.restoreGraphicsState()}}else bt.y<at&&(this.ctx.prevPageLastElemOffset+=at-bt.y);B.scale>=.01&&(this.pdf.setFontSize(ee),this.lineWidth=be)}else B.scale>=.01&&(ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ee*B.scale),be=this.lineWidth,this.lineWidth=be*B.scale),this.pdf.text(B.text,xe.x+this.posX,xe.y+this.posY,{angle:B.angle,align:R,renderingMode:B.renderingMode,maxWidth:B.maxWidth}),B.scale>=.01&&(this.pdf.setFontSize(ee),this.lineWidth=be)},z=function(B,R,G,ne){G=G||0,ne=ne||0,this.pdf.internal.out(r(B+G)+" "+a(R+ne)+" l")},W=function(B,R,G){return this.pdf.lines(B,R,G,null,null)},ie=function(B,R,G,ne,pe,xe,Ae,Y){this.pdf.internal.out([t(s(G+B)),t(i(ne+R)),t(s(pe+B)),t(i(xe+R)),t(s(Ae+B)),t(i(Y+R)),"c"].join(" "))},X=function(B,R,G,ne){for(var pe=2*Math.PI,xe=Math.PI/2;R>G;)R-=pe;var Ae=Math.abs(G-R);Ae<pe&&ne&&(Ae=pe-Ae);for(var Y=[],se=ne?-1:1,ee=R;Ae>1e-5;){var be=ee+se*Math.min(Ae,xe);Y.push(le.call(this,B,ee,be)),Ae-=Math.abs(be-ee),ee=be}return Y},le=function(B,R,G){var ne=(G-R)/2,pe=B*Math.cos(ne),xe=B*Math.sin(ne),Ae=pe,Y=-xe,se=Ae*Ae+Y*Y,ee=se+Ae*pe+Y*xe,be=4/3*(Math.sqrt(2*se*ee)-ee)/(Ae*xe-Y*pe),Ce=Ae-be*Y,ce=Y+be*Ae,J=Ce,ge=-ce,Je=ne+R,Ke=Math.cos(Je),Fe=Math.sin(Je);return{x1:B*Math.cos(R),y1:B*Math.sin(R),x2:Ce*Ke-ce*Fe,y2:Ce*Fe+ce*Ke,x3:J*Ke-ge*Fe,y3:J*Fe+ge*Ke,x4:B*Math.cos(G),y4:B*Math.sin(G)}},re=function(B){return 180*B/Math.PI},he=function(B,R,G,ne,pe,xe){var Ae=B+.5*(G-B),Y=R+.5*(ne-R),se=pe+.5*(G-pe),ee=xe+.5*(ne-xe),be=Math.min(B,pe,Ae,se),Ce=Math.max(B,pe,Ae,se),ce=Math.min(R,xe,Y,ee),J=Math.max(R,xe,Y,ee);return new l(be,ce,Ce-be,J-ce)},de=function(B,R,G,ne,pe,xe,Ae,Y){var se,ee,be,Ce,ce,J,ge,Je,Ke,Fe,nt,Se,Me,at,ke=G-B,Ve=ne-R,ze=pe-G,rt=xe-ne,Ge=Ae-pe,bt=Y-xe;for(ee=0;ee<41;ee++)Ke=(ge=(be=B+(se=ee/40)*ke)+se*((ce=G+se*ze)-be))+se*(ce+se*(pe+se*Ge-ce)-ge),Fe=(Je=(Ce=R+se*Ve)+se*((J=ne+se*rt)-Ce))+se*(J+se*(xe+se*bt-J)-Je),ee==0?(nt=Ke,Se=Fe,Me=Ke,at=Fe):(nt=Math.min(nt,Ke),Se=Math.min(Se,Fe),Me=Math.max(Me,Ke),at=Math.max(at,Fe));return new l(Math.round(nt),Math.round(Se),Math.round(Me-nt),Math.round(at-Se))},ve=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var B,R,G=(B=this.ctx.lineDash,R=this.ctx.lineDashOffset,JSON.stringify({lineDash:B,lineDashOffset:R}));this.prevLineDash!==G&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=G)}}})(la.API),(function(e){var t=function(o){var l,c,u,d,A,m,h,y,x,v;for(c=[],u=0,d=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;d>u;u+=4)(A=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(m=(A=((A=((A=((A=(A-(v=A%85))/85)-(x=A%85))/85)-(y=A%85))/85)-(h=A%85))/85)%85,c.push(m+33,h+33,y+33,x+33,v+33)):c.push(122);return(function(b,j){for(var C=j;C>0;C--)b.pop()})(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var l,c,u,d,A,m=String,h="length",y=255,x="charCodeAt",v="slice",b="replace";for(o[v](-2),o=o[v](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),u=[],d=0,A=(o+=l="uuuuu"[v](o[h]%5||5))[h];A>d;d+=5)c=52200625*(o[x](d)-33)+614125*(o[x](d+1)-33)+7225*(o[x](d+2)-33)+85*(o[x](d+3)-33)+(o[x](d+4)-33),u.push(y&c>>24,y&c>>16,y&c>>8,y&c);return(function(j,C){for(var E=C;E>0;E--)j.pop()})(u,l[h]),m.fromCharCode.apply(m,u)},a=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",u=0;u<o.length;u+=2)c+=String.fromCharCode("0x"+(o[u]+o[u+1]));return c},i=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=Bx(l)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};e.processDataByFilters=function(o,l){var c=0,u=o||"",d=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=s(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=a(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}})(la.API),(function(e){e.loadFile=function(t,r,a){return(function(s,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=(function(c,u,d){var A=new XMLHttpRequest,m=0,h=function(y){var x=y.length,v=[],b=String.fromCharCode;for(m=0;m<x;m+=1)v.push(b(255&y.charCodeAt(m)));return v.join("")};if(A.open("GET",c,!u),A.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(A.onload=function(){A.status===200?d(h(this.responseText)):d(void 0)}),A.send(null),u&&A.status===200)return h(A.responseText)})(s,i,o)}catch{}return l})(t,r,a)},e.loadImageFile=e.loadFile})(la.API),(function(e){function t(){return(Ha.html2canvas?Promise.resolve(Ha.html2canvas):mx(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(Ha.DOMPurify?Promise.resolve(Ha.DOMPurify):mx(()=>import("./purify.es-aGzT-_H7.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var a=function(l){var c=va(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},s=function(l,c){var u=document.createElement(l);for(var d in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[d]=c.style[d];return u},i=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),A=c.firstChild;A;A=A.nextSibling)u!==!0&&A.nodeType===1&&A.nodeName==="SCRIPT"||d.appendChild(l(A,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},o=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),d=l.convert(Promise.resolve(),u);return(d=d.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||(function(u){switch(a(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),c){case"string":return this.then(r).then(function(u){return this.set({src:s("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=this.opt.jsPDF,d=this.opt.fontFaces,A=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:A,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var h=0;h<d.length;++h){var y=d[h],x=y.src.find(function(v){return v.format==="truetype"});x&&u.addFont(x.url,y.ref.name,y.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,u.context2d.save(!0),c(this.prop.container,m)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(a(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var u=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},o.prototype.setMargin=function(l){return this.then(function(){switch(a(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(l=l||la.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,u,d){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,u,d){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},o.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(d,A){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(m){return u.updateProgress(null,d),m}).then(d,A).then(function(m){return u.updateProgress(1),m})})},o.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then;var d=this;l&&(l=l.bind(d)),c&&(c=c.bind(d));var A=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:o.convert(Object.assign({},d),Promise.prototype),m=u.call(A,l,c);return o.convert(m,d.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,la.getPageSize=function(l,c,u){if(va(l)==="object"){var d=l;l=d.orientation,c=d.unit||c,u=d.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var A,m=(""+u).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":A=1;break;case"mm":A=72/25.4;break;case"cm":A=72/2.54;break;case"in":A=72;break;case"px":A=.75;break;case"pc":case"em":A=12;break;case"ex":A=6;break;default:throw"Invalid unit: "+c}var y,x=0,v=0;if(h.hasOwnProperty(m))x=h[m][1]/A,v=h[m][0]/A;else try{x=u[1],v=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",v>x&&(y=v,v=x,x=y);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",x>v&&(y=v,v=x,x=y)}return{width:v,height:x,unit:c,k:A,orientation:l}},e.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(gS):null;var u=new o(c);return c.worker?u:u.from(l).doCallback()}})(la.API),la.API.addJS=function(e){return e7=e,this.internal.events.subscribe("postPutResources",function(){Pb=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Pb+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),ZP=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+e7+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Pb!==void 0&&ZP!==void 0&&this.internal.out("/Names <</JavaScript "+Pb+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var r=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),i=0;i<s.length;i++){var o=s[i],l=a.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var A=r.internal.newObject();d.push(A);var m=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<d.length;i++)r.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(a,s,i){var o={title:s,options:i,children:[]};return a==null&&(a=this.root),a.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(a){a.id=r.internal.newObjectDeferred();for(var s=0;s<a.children.length;s++)this.genIds_r(a.children[s])},r.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},r.outline.renderItems=function(a){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<a.children.length;i++){var o=a.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(a)),i>0&&this.line("/Prev "+this.makeRef(a.children[i-1])),i<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var u=0;u<a.children.length;u++)this.renderItems(a.children[u])},r.outline.line=function(a){this.ctx.val+=a+`\r
`},r.outline.makeRef=function(a){return a.id+" 0 R"},r.outline.makeString=function(a){return"("+r.internal.pdfEscape(a)+")"},r.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(a,s){for(var i=0;i<s.children.length;i++)a.count++,this.count_r(a,s.children[i]);return a.count}}])})(la.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,a,s,i,o,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=(function(A){for(var m,h=256*A.charCodeAt(4)+A.charCodeAt(5),y=A.length,x={width:0,height:0,numcomponents:1},v=4;v<y;v+=2){if(v+=h,t.indexOf(A.charCodeAt(v+1))!==-1){m=256*A.charCodeAt(v+5)+A.charCodeAt(v+6),x={width:256*A.charCodeAt(v+7)+A.charCodeAt(v+8),height:m,numcomponents:A.charCodeAt(v+9)};break}h=256*A.charCodeAt(v+2)+A.charCodeAt(v+3)}return x})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:a,alias:s}}return d}})(la.API),la.API.processPNG=function(e,t,r,a){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var s,i=Ape(e,{checkCrc:!0}),o=i.width,l=i.height,c=i.channels,u=i.palette,d=i.depth;s=u&&c===1?(function(F){for(var Q=F.width,U=F.height,P=F.data,I=F.palette,z=F.depth,W=!1,ie=[],X=[],le=void 0,re=!1,he=0,de=0;de<I.length;de++){var ve=nP(I[de],4),B=ve[0],R=ve[1],G=ve[2],ne=ve[3];ie.push(B,R,G),ne!=null&&(ne===0?(he++,X.length<1&&X.push(de)):ne<255&&(re=!0))}if(re||he>1){W=!0,X=void 0;var pe=Q*U;le=new Uint8Array(pe);for(var xe=new DataView(P.buffer),Ae=0;Ae<pe;Ae++){var Y=yS(xe,Ae,z),se=nP(I[Y],4)[3];le[Ae]=se}}else he===0&&(X=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:W?8:void 0,colorBytes:P,alphaBytes:le,needSMask:W,palette:ie,mask:X}})(i):c===2||c===4?(function(F){for(var Q=F.data,U=F.width,P=F.height,I=F.channels,z=F.depth,W=I===2?"DeviceGray":"DeviceRGB",ie=I-1,X=U*P,le=ie,re=X*le,he=1*X,de=Math.ceil(re*z/8),ve=Math.ceil(he*z/8),B=new Uint8Array(de),R=new Uint8Array(ve),G=new DataView(Q.buffer),ne=new DataView(B.buffer),pe=new DataView(R.buffer),xe=!1,Ae=0;Ae<X;Ae++){for(var Y=Ae*I,se=0;se<le;se++)c7(ne,yS(G,Y+se,z),Ae*le+se,z);var ee=yS(G,Y+le,z);ee<(1<<z)-1&&(xe=!0),c7(pe,ee,1*Ae,z)}return{colorSpace:W,colorsPerPixel:ie,sMaskBitsPerComponent:xe?z:void 0,colorBytes:B,alphaBytes:R,needSMask:xe}})(i):(function(F){var Q=F.data,U=F.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:U,colorsPerPixel:U==="DeviceGray"?1:3,colorBytes:Q instanceof Uint16Array?(function(P){for(var I=P.length,z=new Uint8Array(2*I),W=new DataView(z.buffer,z.byteOffset,z.byteLength),ie=0;ie<I;ie++)W.setUint16(2*ie,P[ie],!1);return z})(Q):Q,needSMask:!1}})(i);var A,m,h,y=s,x=y.colorSpace,v=y.colorsPerPixel,b=y.sMaskBitsPerComponent,j=y.colorBytes,C=y.alphaBytes,E=y.needSMask,k=y.palette,D=y.mask,L=null;return a!==la.API.image_compression.NONE&&typeof Bx=="function"?(L=(function(F){var Q;switch(F){case la.API.image_compression.FAST:Q=11;break;case la.API.image_compression.MEDIUM:Q=13;break;case la.API.image_compression.SLOW:Q=14;break;default:Q=12}return Q})(a),A=this.decode.FLATE_DECODE,m="/Predictor ".concat(L," /Colors ").concat(v," /BitsPerComponent ").concat(d," /Columns ").concat(o),e=n7(j,Math.ceil(o*v*d/8),v,d,a),E&&(h=n7(C,Math.ceil(o*b/8),1,b,a))):(A=void 0,m=void 0,e=j,E&&(h=C)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:r,data:e,index:t,filter:A,decodeParameters:m,transparency:D,palette:k,sMask:h,predictor:L,width:o,height:l,bitsPerComponent:d,sMaskBitsPerComponent:b,colorSpace:x}}},(function(e){e.processGIF89A=function(t,r,a,s){var i=new Ope(t),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},d=new vS(100).encode(u,100);return e.processJPEG.call(this,d,r,a,s)},e.processGIF87A=e.processGIF89A})(la.API),qf.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:a,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},qf.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Zs.log("bit decode error:"+r)}},qf.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var a=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var i=this.datav.getUint8(this.pos++,!0),o=a*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},qf.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,s=0;s<e;s++){var i=this.datav.getUint8(this.pos++,!0),o=a*this.width*4+2*s*4,l=i>>4,c=15&i,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*s+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},qf.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*a;if(s<this.palette.length){var o=this.palette[s];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},qf.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,u=i>>15?255:0,d=a*this.width*4+4*s;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=u}this.pos+=e}},qf.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var s=this.bottom_up?a:this.height-1-a,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/t*255|0,d=s*this.width*4+4*i;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=e}},qf.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=a,this.data[o+3]=255}this.pos+=this.width%4}},qf.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=s,this.data[l+2]=a,this.data[l+3]=o}},qf.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,r,a,s){var i=new qf(t,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new vS(100).encode(c,100);return e.processJPEG.call(this,u,r,a,s)}})(la.API),u7.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,r,a,s){var i=new u7(t),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new vS(100).encode(c,100);return e.processJPEG.call(this,u,r,a,s)}})(la.API),la.API.processRGBA=function(e,t,r){for(var a=e.data,s=a.length,i=new Uint8Array(s/4*3),o=new Uint8Array(s/4),l=0,c=0,u=0;u<s;u+=4){var d=a[u],A=a[u+1],m=a[u+2],h=a[u+3];i[l++]=d,i[l++]=A,i[l++]=m,o[c++]=h}var y=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:y,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},la.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Rg=la.API,Lb=Rg.getCharWidthsArray=function(e,t){var r,a,s=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:s.metadata.Unicode.widths,c=l.fof?l.fof:1,u=t.kerning?t.kerning:s.metadata.Unicode.kerning,d=u.fof?u.fof:1,A=t.doKerning!==!1,m=0,h=e.length,y=0,x=l[0]||c,v=[];for(r=0;r<h;r++)a=e.charCodeAt(r),typeof s.metadata.widthOfString=="function"?v.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(a))+o*(1e3/i)||0)/1e3):(m=A&&va(u[a])==="object"&&!isNaN(parseInt(u[a][y],10))?u[a][y]/d:0,v.push((l[a]||x)/c+m)),y=a;return v},t7=Rg.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),a=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return Rg.processArabic&&(e=Rg.processArabic(e)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(e,r,s)/r:Lb.apply(this,arguments).reduce(function(i,o){return i+o},0)},r7=function(e,t,r,a){for(var s=[],i=0,o=e.length,l=0;i!==o&&l+t[i]<r;)l+=t[i],i++;s.push(e.slice(0,i));var c=i;for(l=0;i!==o;)l+t[i]>a&&(s.push(e.slice(c,i)),l=0,c=i),l+=t[i],i++;return c!==i&&s.push(e.slice(c,i)),s},a7=function(e,t,r){r||(r={});var a,s,i,o,l,c,u,d=[],A=[d],m=r.textIndent||0,h=0,y=0,x=e.split(" "),v=Lb.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?x[0].length+2:r.lineIndent||0){var b=Array(c).join(" "),j=[];x.map(function(E){(E=E.split(/\s*\n/)).length>1?j=j.concat(E.map(function(k,D){return(D&&k.length?`
`:"")+k})):j.push(E[0])}),x=j,c=t7.apply(this,[b,r])}for(i=0,o=x.length;i<o;i++){var C=0;if(a=x[i],c&&a[0]==`
`&&(a=a.substr(1),C=1),m+h+(y=(s=Lb.apply(this,[a,r])).reduce(function(E,k){return E+k},0))>t||C){if(y>t){for(l=r7.apply(this,[a,s,t-(m+h),t]),d.push(l.shift()),d=[l.pop()];l.length;)A.push([l.shift()]);y=s.slice(a.length-(d[0]?d[0].length:0)).reduce(function(E,k){return E+k},0)}else d=[a];A.push(d),m=y+c,h=v}else d.push(a),m+=h+y,h=v}return u=c?function(E,k){return(k?b:"")+E.join(" ")}:function(E){return E.join(" ")},A.map(u)},Rg.splitTextToSize=function(e,t,r){var a,s=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var A=this.internal.getFont(d.fontName,d.fontStyle),m="Unicode";return A.metadata[m]?{widths:A.metadata[m].widths||{0:1},kerning:A.metadata[m].kerning||{}}:{font:A.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);a=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=a.length;l<c;l++)u=u.concat(a7.apply(this,[a[l],o,i]));return u},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",a={},s={},i=0;i<16;i++)a[r[i]]=t[i],s[t[i]]=r[i];var o=function(m){return"0x"+parseInt(m,10).toString(16)},l=e.__fontmetrics__.compress=function(m){var h,y,x,v,b=["{"];for(var j in m){if(h=m[j],isNaN(parseInt(j,10))?y="'"+j+"'":(j=parseInt(j,10),y=(y=o(j).slice(2)).slice(0,-1)+s[y.slice(-1)]),typeof h=="number")h<0?(x=o(h).slice(3),v="-"):(x=o(h).slice(2),v=""),x=v+x.slice(0,-1)+s[x.slice(-1)];else{if(va(h)!=="object")throw new Error("Don't know what to do with value type "+va(h)+".");x=l(h)}b.push(y+x)}return b.push("}"),b.join("")},c=e.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,y,x,v,b={},j=1,C=b,E=[],k="",D="",L=m.length-1,F=1;F<L;F+=1)(v=m[F])=="'"?h?(x=h.join(""),h=void 0):h=[]:h?h.push(v):v=="{"?(E.push([C,x]),C={},x=void 0):v=="}"?((y=E.pop())[0][y[1]]=C,x=void 0,C=y[0]):v=="-"?j=-1:x===void 0?a.hasOwnProperty(v)?(k+=a[v],x=parseInt(k,16)*j,j=1,k=""):k+=v:a.hasOwnProperty(v)?(D+=a[v],C[x]=parseInt(D,16)*j,j=1,x=void 0,D=""):D+=v;return b},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},A={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(m){var h=m.font,y=A.Unicode[h.postScriptName];y&&(h.metadata.Unicode={},h.metadata.Unicode.widths=y.widths,h.metadata.Unicode.kerning=y.kerning);var x=d.Unicode[h.postScriptName];x&&(h.metadata.Unicode.encoding=x,h.encoding=x.codePages[0])}])})(la.API),(function(e){var t=function(r){for(var a=r.length,s=new Uint8Array(a),i=0;i<a;i++)s[i]=r.charCodeAt(i);return s};e.API.events.push(["addFont",function(r){var a=void 0,s=r.font,i=r.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(a=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(mw(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,a)}}])})(la),la.API.addSvgAsImage=function(e,t,r,a,s,i,o,l){if(isNaN(t)||isNaN(r))throw Zs.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(s))throw Zs.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=a,c.height=s;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},A=this;return(Ha.canvg?Promise.resolve(Ha.canvg):mx(()=>import("./index.es-bTNsPaNx.js"),[])).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(u,e,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(d)}).then(function(){A.addImage(c.toDataURL("image/jpeg",1),t,r,a,s,o,l)})},la.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var s=0;s<this.internal.pages[a].length;s++)this.internal.pages[a][s]=this.internal.pages[a][s].replace(t,r);return this},la.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var a,s,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,d=0,A=0;function m(y,x){var v,b=!1;for(v=0;v<y.length;v+=1)y[v]===x&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var h=l.length;for(A=0;A<h;A+=1)r[l[A]].value=r[l[A]].defaultValue,r[l[A]].explicitSet=!1}if(va(e)==="object"){for(s in e)if(i=e[s],m(l,s)&&i!==void 0){if(r[s].type==="boolean"&&typeof i=="boolean")r[s].value=i;else if(r[s].type==="name"&&m(r[s].valueSet,i))r[s].value=i;else if(r[s].type==="integer"&&Number.isInteger(i))r[s].value=i;else if(r[s].type==="array"){for(u=0;u<i.length;u+=1)if(a=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(a=!1);a===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}r[s].value="["+c.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,x=[];for(y in r)r[y].explicitSet===!0&&(r[y].type==="name"?x.push("/"+y+" /"+r[y].value):x.push("/"+y+" "+r[y].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(e){var t=function(){var a='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(a)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+o.length+l.length+s.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(s+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(a,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:a,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}})(la.API),(function(e){var t=e.API,r=t.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],A=0,m=i.length;A<m;++A){if(l=o.metadata.characterToGlyph(i.charCodeAt(A)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(A),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},a=function(i){var o,l,c,u,d,A,m;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],A=0,m=(l=Object.keys(i).sort(function(h,y){return h-y})).length;A<m;A++)o=l[A],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(u=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var A=l.metadata.Unicode.widths,m=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),h="",y=0;y<m.length;y++)h+=String.fromCharCode(m[y]);var x=u();d({data:h,addLength1:!0,objectId:x}),c("endobj");var v=u();d({data:a(l.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var b=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Yg(l.fontName)),c("/FontFile2 "+x+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var j=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+Yg(l.fontName)),c("/FontDescriptor "+b+" 0 R"),c("/W "+e.API.PDFObject.convert(A)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+v+" 0 R"),c("/BaseFont /"+Yg(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+j+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var A=l.metadata.rawData,m="",h=0;h<A.length;h++)m+=String.fromCharCode(A[h]);var y=u();d({data:m,addLength1:!0,objectId:y}),c("endobj");var x=u();d({data:a(l.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var v=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+y+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+Yg(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var b=0;b<l.metadata.hmtx.widths.length;b++)l.metadata.hmtx.widths[b]=parseInt(l.metadata.hmtx.widths[b]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+Yg(l.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var s=function(i){var o,l=i.text||"",c=i.x,u=i.y,d=i.options||{},A=i.mutex||{},m=A.pdfEscape,h=A.activeFontKey,y=A.fonts,x=h,v="",b=0,j="",C=y[x].encoding;if(y[x].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:A};for(j=l,x=h,Array.isArray(l)&&(j=l[0]),b=0;b<j.length;b+=1)y[x].metadata.hasOwnProperty("cmap")&&(o=y[x].metadata.cmap.unicode.codeMap[j[b].charCodeAt(0)]),o||j[b].charCodeAt(0)<256&&y[x].metadata.hasOwnProperty("Unicode")?v+=j[b]:v+="";var E="";return parseInt(x.slice(1))<14||C==="WinAnsiEncoding"?E=m(v,x).split("").map(function(k){return k.charCodeAt(0).toString(16)}).join(""):C==="Identity-H"&&(E=r(v,y[x])),A.isHex=!0,{text:E,x:c,y:u,options:d,mutex:A}};t.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([s(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(s(Object.assign({},c,{text:o[u]})).text);i.text=l}else i.text=s(Object.assign({},c,{text:o})).text}])})(la),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,a){return t.call(this),this.internal.vFS[r]=a,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(la.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(a){var s,i,o,l,c,u,d,A=t,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),j=!1,C=0;this.__bidiEngine__={};var E=function(P){var I=P.charCodeAt(),z=I>>8,W=x[z];return W!==void 0?A[256*W+(255&I)]:z===252||z===253?"AL":b.test(z)?"L":z===8?"R":"N"},k=function(P){for(var I,z=0;z<P.length;z++){if((I=E(P.charAt(z)))==="L")return!1;if(I==="R")return!0}return!1},D=function(P,I,z,W){var ie,X,le,re,he=I[W];switch(he){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":j=!1;break;case"N":case"AN":break;case"EN":j&&(he="AN");break;case"AL":j=!0,he="R";break;case"WS":case"BN":he="N";break;case"CS":W<1||W+1>=I.length||(ie=z[W-1])!=="EN"&&ie!=="AN"||(X=I[W+1])!=="EN"&&X!=="AN"?he="N":j&&(X="AN"),he=X===ie?X:"N";break;case"ES":he=(ie=W>0?z[W-1]:"B")==="EN"&&W+1<I.length&&I[W+1]==="EN"?"EN":"N";break;case"ET":if(W>0&&z[W-1]==="EN"){he="EN";break}if(j){he="N";break}for(le=W+1,re=I.length;le<re&&I[le]==="ET";)le++;he=le<re&&I[le]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(re=I.length,le=W+1;le<re&&I[le]==="NSM";)le++;if(le<re){var de=P[W],ve=de>=1425&&de<=2303||de===64286;if(ie=I[le],ve&&(ie==="R"||ie==="AL")){he="R";break}}}he=W<1||(ie=I[W-1])==="B"?"N":z[W-1];break;case"B":j=!1,s=!0,he=C;break;case"S":i=!0,he="N"}return he},L=function(P,I,z){var W=P.split("");return z&&F(W,z,{hiLevel:C}),W.reverse(),I&&I.reverse(),W.join("")},F=function(P,I,z){var W,ie,X,le,re,he=-1,de=P.length,ve=0,B=[],R=C?h:m,G=[];for(j=!1,s=!1,i=!1,ie=0;ie<de;ie++)G[ie]=E(P[ie]);for(X=0;X<de;X++){if(re=ve,B[X]=D(P,G,B,X),W=240&(ve=R[re][y[B[X]]]),ve&=15,I[X]=le=R[ve][5],W>0)if(W===16){for(ie=he;ie<X;ie++)I[ie]=1;he=-1}else he=-1;if(R[ve][6])he===-1&&(he=X);else if(he>-1){for(ie=he;ie<X;ie++)I[ie]=le;he=-1}G[X]==="B"&&(I[X]=0),z.hiLevel|=le}i&&(function(ne,pe,xe){for(var Ae=0;Ae<xe;Ae++)if(ne[Ae]==="S"){pe[Ae]=C;for(var Y=Ae-1;Y>=0&&ne[Y]==="WS";Y--)pe[Y]=C}})(G,I,de)},Q=function(P,I,z,W,ie){if(!(ie.hiLevel<P)){if(P===1&&C===1&&!s)return I.reverse(),void(z&&z.reverse());for(var X,le,re,he,de=I.length,ve=0;ve<de;){if(W[ve]>=P){for(re=ve+1;re<de&&W[re]>=P;)re++;for(he=ve,le=re-1;he<le;he++,le--)X=I[he],I[he]=I[le],I[le]=X,z&&(X=z[he],z[he]=z[le],z[le]=X);ve=re}ve++}}},U=function(P,I,z){var W=P.split(""),ie={hiLevel:C};return z||(z=[]),F(W,z,ie),(function(X,le,re){if(re.hiLevel!==0&&d)for(var he,de=0;de<X.length;de++)le[de]===1&&(he=v.indexOf(X[de]))>=0&&(X[de]=v[he+1])})(W,z,ie),Q(2,W,I,z,ie),Q(1,W,I,z,ie),W.join("")};return this.__bidiEngine__.doBidiReorder=function(P,I,z){if((function(ie,X){if(X)for(var le=0;le<ie.length;le++)X[le]=le;l===void 0&&(l=k(ie)),u===void 0&&(u=k(ie))})(P,I),o||!c||u)if(o&&c&&l^u)C=l?1:0,P=L(P,I,z);else if(!o&&c&&u)C=l?1:0,P=U(P,I,z),P=L(P,I);else if(!o||l||c||u){if(o&&!c&&l^u)P=L(P,I),l?(C=0,P=U(P,I,z)):(C=1,P=U(P,I,z),P=L(P,I));else if(o&&l&&!c&&u)C=1,P=U(P,I,z),P=L(P,I);else if(!o&&!c&&l^u){var W=d;l?(C=1,P=U(P,I,z),C=0,d=!1,P=U(P,I,z),d=W):(C=0,P=U(P,I,z),P=L(P,I),C=1,d=!1,P=U(P,I,z),d=W,P=L(P,I))}}else C=0,P=U(P,I,z);else C=l?1:0,P=U(P,I,z);return P},this.__bidiEngine__.setOptions=function(P){P&&(o=P.isInputVisual,c=P.isOutputVisual,l=P.isInputRtl,u=P.isOutputRtl,d=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(a){var s=a.text;a.x,a.y;var i=a.options||{};a.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(o=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?o.push([r.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):o.push([r.doBidiReorder(s[l])]);a.text=o}else a.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])})(la),la.API.TTFFont=(function(){function e(t){var r;if(this.rawData=t,r=this.contents=new x0(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Xpe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Dpe(this.contents),this.head=new Upe(this),this.name=new zpe(this),this.cmap=new H$(this),this.toUnicode={},this.hhea=new Rpe(this),this.maxp=new Vpe(this),this.hmtx=new qpe(this),this.post=new Hpe(this),this.os2=new Qpe(this),this.loca=new Ype(this),this.glyf=new Kpe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,a,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(a=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,a){var s,i,o,l;for(o=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)s=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(s))+a*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var a;return r==null&&(r=!1),a=r?this.lineGap:0,(this.ascender+a-this.decender)/1e3*t},e})();var Ah,x0=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,a;for(a=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)a[r]=String.fromCharCode(this.readByte());return a.join("")},e.prototype.writeString=function(t){var r,a,s;for(s=[],r=0,a=t.length;0<=a?r<a:r>a;r=0<=a?++r:--r)s.push(this.writeByte(t.charCodeAt(r)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,a,s,i,o,l,c;return t=this.readByte(),r=this.readByte(),a=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^a)+4294967296*(255^s)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*a+4294967296*s+16777216*i+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var r,a;return r=Math.floor(t/4294967296),a=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,a;for(r=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)r.push(this.readByte());return r},e.prototype.write=function(t){var r,a,s,i;for(i=[],a=0,s=t.length;a<s;a++)r=t[a],i.push(this.writeByte(r));return i},e})(),Dpe=(function(){var e;function t(r){var a,s,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)a={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[a.tag]=a}return t.prototype.encode=function(r){var a,s,i,o,l,c,u,d,A,m,h,y,x;for(x in h=Object.keys(r).length,c=Math.log(2),A=16*Math.floor(Math.log(h)/c),o=Math.floor(A/c),d=16*h-A,(s=new x0).writeInt(this.scalarType),s.writeShort(h),s.writeShort(A),s.writeShort(o),s.writeShort(d),i=16*h,u=s.pos+i,l=null,y=[],r)for(m=r[x],s.writeString(x),s.writeInt(e(m)),s.writeInt(u),s.writeInt(m.length),y=y.concat(m),x==="head"&&(l=u),u+=m.length;u%4;)y.push(0),u++;return s.write(y),a=2981146554-e(s.data),s.pos=l+8,s.writeUInt32(a),s.data},e=function(r){var a,s,i,o;for(r=$$.call(r);r.length%4;)r.push(0);for(i=new x0(r),s=0,a=0,o=r.length;a<o;a=a+=4)s+=i.readUInt32();return 4294967295&s},t})(),Mpe={}.hasOwnProperty,nA=function(e,t){for(var r in t)Mpe.call(t,r)&&(e[r]=t[r]);function a(){this.constructor=e}return a.prototype=t.prototype,e.prototype=new a,e.__super__=t.prototype,e};Ah=(function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var Upe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return nA(e,Ah),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new x0).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e})(),f7=(function(){function e(t,r){var a,s,i,o,l,c,u,d,A,m,h,y,x,v,b,j,C;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),A=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(h=t.readUInt16(),m=h/2,t.pos+=6,i=(function(){var E,k;for(k=[],c=E=0;0<=m?E<m:E>m;c=0<=m?++E:--E)k.push(t.readUInt16());return k})(),t.pos+=2,x=(function(){var E,k;for(k=[],c=E=0;0<=m?E<m:E>m;c=0<=m?++E:--E)k.push(t.readUInt16());return k})(),u=(function(){var E,k;for(k=[],c=E=0;0<=m?E<m:E>m;c=0<=m?++E:--E)k.push(t.readUInt16());return k})(),d=(function(){var E,k;for(k=[],c=E=0;0<=m?E<m:E>m;c=0<=m?++E:--E)k.push(t.readUInt16());return k})(),s=(this.length-t.pos+this.offset)/2,l=(function(){var E,k;for(k=[],c=E=0;0<=s?E<s:E>s;c=0<=s?++E:--E)k.push(t.readUInt16());return k})(),c=b=0,C=i.length;b<C;c=++b)for(v=i[c],a=j=y=x[c];y<=v?j<=v:j>=v;a=y<=v?++j:--j)d[c]===0?o=a+u[c]:(o=l[d[c]/2+(a-y)-(m-c)]||0)!==0&&(o+=u[c]),this.codeMap[a]=65535&o}t.pos=A}return e.encode=function(t,r){var a,s,i,o,l,c,u,d,A,m,h,y,x,v,b,j,C,E,k,D,L,F,Q,U,P,I,z,W,ie,X,le,re,he,de,ve,B,R,G,ne,pe,xe,Ae,Y,se,ee,be;switch(W=new x0,o=Object.keys(t).sort(function(Ce,ce){return Ce-ce}),r){case"macroman":for(x=0,v=(function(){var Ce=[];for(y=0;y<256;++y)Ce.push(0);return Ce})(),j={0:0},i={},ie=0,he=o.length;ie<he;ie++)j[Y=t[s=o[ie]]]==null&&(j[Y]=++x),i[s]={old:t[s],new:j[t[s]]},v[s]=j[t[s]];return W.writeUInt16(1),W.writeUInt16(0),W.writeUInt32(12),W.writeUInt16(0),W.writeUInt16(262),W.writeUInt16(0),W.write(v),{charMap:i,subtable:W.data,maxGlyphID:x+1};case"unicode":for(I=[],A=[],C=0,j={},a={},b=u=null,X=0,de=o.length;X<de;X++)j[k=t[s=o[X]]]==null&&(j[k]=++C),a[s]={old:k,new:j[k]},l=j[k]-s,b!=null&&l===u||(b&&A.push(b),I.push(s),u=l),b=s;for(b&&A.push(b),A.push(65535),I.push(65535),U=2*(Q=I.length),F=2*Math.pow(Math.log(Q)/Math.LN2,2),m=Math.log(F/2)/Math.LN2,L=2*Q-F,c=[],D=[],h=[],y=le=0,ve=I.length;le<ve;y=++le){if(P=I[y],d=A[y],P===65535){c.push(0),D.push(0);break}if(P-(z=a[P].new)>=32768)for(c.push(0),D.push(2*(h.length+Q-y)),s=re=P;P<=d?re<=d:re>=d;s=P<=d?++re:--re)h.push(a[s].new);else c.push(z-P),D.push(0)}for(W.writeUInt16(3),W.writeUInt16(1),W.writeUInt32(12),W.writeUInt16(4),W.writeUInt16(16+8*Q+2*h.length),W.writeUInt16(0),W.writeUInt16(U),W.writeUInt16(F),W.writeUInt16(m),W.writeUInt16(L),xe=0,B=A.length;xe<B;xe++)s=A[xe],W.writeUInt16(s);for(W.writeUInt16(0),Ae=0,R=I.length;Ae<R;Ae++)s=I[Ae],W.writeUInt16(s);for(se=0,G=c.length;se<G;se++)l=c[se],W.writeUInt16(l);for(ee=0,ne=D.length;ee<ne;ee++)E=D[ee],W.writeUInt16(E);for(be=0,pe=h.length;be<pe;be++)x=h[be],W.writeUInt16(x);return{charMap:a,subtable:W.data,maxGlyphID:C+1}}},e})(),H$=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return nA(e,Ah),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,a,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)r=new f7(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var a,s;return r==null&&(r="macroman"),a=f7.encode(t,r),(s=new x0).writeUInt16(0),s.writeUInt16(1),a.table=s.data.concat(a.subtable),a},e})(),Rpe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return nA(e,Ah),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),Qpe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return nA(e,Ah),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var r,a;for(a=[],r=0;r<10;++r)a.push(t.readByte());return a})(),this.charRange=(function(){var r,a;for(a=[],r=0;r<4;++r)a.push(t.readInt());return a})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var r,a;for(a=[],r=0;r<2;r=++r)a.push(t.readInt());return a})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),Hpe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return nA(e,Ah),e.prototype.tag="post",e.prototype.parse=function(t){var r,a,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(a=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return a=t.readUInt16(),this.offsets=t.read(a);case 262144:return this.map=(function(){var o,l,c;for(c=[],i=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;i=0<=l?++o:--o)c.push(t.readUInt32());return c}).call(this)}},e})(),$pe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},zpe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return nA(e,Ah),e.prototype.tag="name",e.prototype.parse=function(t){var r,a,s,i,o,l,c,u,d,A,m;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),a=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)a.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},i=d=0,A=a.length;d<A;i=++d)s=a[i],t.pos=s.offset,u=t.readString(s.length),o=new $pe(u,s),c[m=s.nameID]==null&&(c[m]=[]),c[s.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e})(),Vpe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return nA(e,Ah),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),qpe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return nA(e,Ah),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,a,s,i,o,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var u,d;for(d=[],r=u=0;0<=s?u<s:u>s;r=0<=s?++u:--u)d.push(t.readInt16());return d})(),this.widths=(function(){var u,d,A,m;for(m=[],u=0,d=(A=this.metrics).length;u<d;u++)i=A[u],m.push(i.advance);return m}).call(this),a=this.widths[this.widths.length-1],c=[],r=o=0;0<=s?o<s:o>s;r=0<=s?++o:--o)c.push(this.widths.push(a));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),$$=[].slice,Kpe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return nA(e,Ah),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,a,s,i,o,l,c,u,d,A;return t in this.cache?this.cache[t]:(i=this.file.loca,r=this.file.contents,a=i.indexOf(t),(s=i.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+a,o=(l=new x0(r.read(s))).readShort(),u=l.readShort(),A=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[t]=o===-1?new Wpe(l,u,A,c,d):new Gpe(l,o,u,A,c,d),this.cache[t]))},e.prototype.encode=function(t,r,a){var s,i,o,l,c;for(o=[],i=[],l=0,c=r.length;l<c;l++)s=t[r[l]],i.push(o.length),s&&(o=o.concat(s.encode(a)));return i.push(o.length),{table:o,offsets:i}},e})(),Gpe=(function(){function e(t,r,a,s,i,o){this.raw=t,this.numberOfContours=r,this.xMin=a,this.yMin=s,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),Wpe=(function(){function e(t,r,a,s,i){var o,l;for(this.raw=t,this.xMin=r,this.yMin=a,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,a;for(r=new x0($$.call(this.raw.data)),t=0,a=this.glyphIDs.length;t<a;++t)r.pos=this.glyphOffsets[t];return r.data},e})(),Ype=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return nA(e,Ah),e.prototype.tag="loca",e.prototype.parse=function(t){var r,a;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,i;for(i=[],a=0,s=this.length;a<s;a+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],a=0,s=this.length;a<s;a+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var a=new Uint32Array(this.offsets.length),s=0,i=0,o=0;o<a.length;++o)if(a[o]=s,i<r.length&&r[i]==o){++i,a[o]=s;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(s+=c)}for(var u=new Array(4*a.length),d=0;d<a.length;++d)u[4*d+3]=255&a[d],u[4*d+2]=(65280&a[d])>>8,u[4*d+1]=(16711680&a[d])>>16,u[4*d]=(4278190080&a[d])>>24;return u},e})(),Xpe=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,a,s,i;for(r in s=this.font.cmap.tables[0].codeMap,t={},i=this.subset)a=i[r],t[r]=s[a];return t},e.prototype.glyphsFor=function(t){var r,a,s,i,o,l,c;for(s={},o=0,l=t.length;o<l;o++)s[i=t[o]]=this.font.glyf.glyphFor(i);for(i in r=[],s)(a=s[i])!=null&&a.compound&&r.push.apply(r,a.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))a=c[i],s[i]=a;return s},e.prototype.encode=function(t,r){var a,s,i,o,l,c,u,d,A,m,h,y,x,v,b;for(s in a=H$.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),h={0:0},b=a.charMap)h[(c=b[s]).old]=c.new;for(y in m=a.maxGlyphID,o)y in h||(h[y]=m++);return d=(function(j){var C,E;for(C in E={},j)E[j[C]]=C;return E})(h),A=Object.keys(d).sort(function(j,C){return j-C}),x=(function(){var j,C,E;for(E=[],j=0,C=A.length;j<C;j++)l=A[j],E.push(d[l]);return E})(),i=this.font.glyf.encode(o,x,h),u=this.font.loca.encode(i.offsets,x),v={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},e})();la.API.PDFObject=(function(){var e;function t(){}return e=function(r,a){return(Array(a+1).join("0")+r).slice(-a)},t.convert=function(r){var a,s,i,o;if(Array.isArray(r))return"["+(function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)a=r[l],u.push(t.convert(a));return u})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in i=["<<"],r)o=r[s],i.push("/"+s+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+r},t})();const Jpe=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:Bpe,AcroFormAppearance:Jr,AcroFormButton:yl,AcroFormCheckBox:Ly,AcroFormChoiceField:Bp,AcroFormComboBox:Fp,AcroFormEditBox:Iy,AcroFormListBox:Tp,AcroFormPasswordField:Oy,AcroFormPushButton:Py,AcroFormRadioButton:_p,AcroFormTextField:l0,GState:hv,ShadingPattern:Jm,TilingPattern:mp,default:la,jsPDF:la},Symbol.toStringTag,{value:"Module"})),Zpe=aJ(Jpe);var pw={exports:{}};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */var ege=pw.exports,h7;function tge(){return h7||(h7=1,(function(e,t){(function(r,a){e.exports=a()})(ege,(function(){/*! *****************************************************************************
		    Copyright (c) Microsoft Corporation.

		    Permission to use, copy, modify, and/or distribute this software for any
		    purpose with or without fee is hereby granted.

		    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		    PERFORMANCE OF THIS SOFTWARE.
		    ***************************************************************************** */var r=function(M,O){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,V){q.__proto__=V}||function(q,V){for(var ye in V)Object.prototype.hasOwnProperty.call(V,ye)&&(q[ye]=V[ye])},r(M,O)};function a(M,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");r(M,O);function q(){this.constructor=M}M.prototype=O===null?Object.create(O):(q.prototype=O.prototype,new q)}var s=function(){return s=Object.assign||function(O){for(var q,V=1,ye=arguments.length;V<ye;V++){q=arguments[V];for(var _e in q)Object.prototype.hasOwnProperty.call(q,_e)&&(O[_e]=q[_e])}return O},s.apply(this,arguments)};function i(M,O,q,V){function ye(_e){return _e instanceof q?_e:new q(function(We){We(_e)})}return new(q||(q=Promise))(function(_e,We){function xt(Ut){try{Lt(V.next(Ut))}catch(zt){We(zt)}}function yt(Ut){try{Lt(V.throw(Ut))}catch(zt){We(zt)}}function Lt(Ut){Ut.done?_e(Ut.value):ye(Ut.value).then(xt,yt)}Lt((V=V.apply(M,[])).next())})}function o(M,O){var q={label:0,sent:function(){if(_e[0]&1)throw _e[1];return _e[1]},trys:[],ops:[]},V,ye,_e,We;return We={next:xt(0),throw:xt(1),return:xt(2)},typeof Symbol=="function"&&(We[Symbol.iterator]=function(){return this}),We;function xt(Lt){return function(Ut){return yt([Lt,Ut])}}function yt(Lt){if(V)throw new TypeError("Generator is already executing.");for(;q;)try{if(V=1,ye&&(_e=Lt[0]&2?ye.return:Lt[0]?ye.throw||((_e=ye.return)&&_e.call(ye),0):ye.next)&&!(_e=_e.call(ye,Lt[1])).done)return _e;switch(ye=0,_e&&(Lt=[Lt[0]&2,_e.value]),Lt[0]){case 0:case 1:_e=Lt;break;case 4:return q.label++,{value:Lt[1],done:!1};case 5:q.label++,ye=Lt[1],Lt=[0];continue;case 7:Lt=q.ops.pop(),q.trys.pop();continue;default:if(_e=q.trys,!(_e=_e.length>0&&_e[_e.length-1])&&(Lt[0]===6||Lt[0]===2)){q=0;continue}if(Lt[0]===3&&(!_e||Lt[1]>_e[0]&&Lt[1]<_e[3])){q.label=Lt[1];break}if(Lt[0]===6&&q.label<_e[1]){q.label=_e[1],_e=Lt;break}if(_e&&q.label<_e[2]){q.label=_e[2],q.ops.push(Lt);break}_e[2]&&q.ops.pop(),q.trys.pop();continue}Lt=O.call(M,q)}catch(Ut){Lt=[6,Ut],ye=0}finally{V=_e=0}if(Lt[0]&5)throw Lt[1];return{value:Lt[0]?Lt[1]:void 0,done:!0}}}function l(M,O,q){if(arguments.length===2)for(var V=0,ye=O.length,_e;V<ye;V++)(_e||!(V in O))&&(_e||(_e=Array.prototype.slice.call(O,0,V)),_e[V]=O[V]);return M.concat(_e||O)}for(var c=(function(){function M(O,q,V,ye){this.left=O,this.top=q,this.width=V,this.height=ye}return M.prototype.add=function(O,q,V,ye){return new M(this.left+O,this.top+q,this.width+V,this.height+ye)},M.fromClientRect=function(O,q){return new M(q.left+O.windowBounds.left,q.top+O.windowBounds.top,q.width,q.height)},M.fromDOMRectList=function(O,q){var V=Array.from(q).find(function(ye){return ye.width!==0});return V?new M(V.left+O.windowBounds.left,V.top+O.windowBounds.top,V.width,V.height):M.EMPTY},M.EMPTY=new M(0,0,0,0),M})(),u=function(M,O){return c.fromClientRect(M,O.getBoundingClientRect())},d=function(M){var O=M.body,q=M.documentElement;if(!O||!q)throw new Error("Unable to get document size");var V=Math.max(Math.max(O.scrollWidth,q.scrollWidth),Math.max(O.offsetWidth,q.offsetWidth),Math.max(O.clientWidth,q.clientWidth)),ye=Math.max(Math.max(O.scrollHeight,q.scrollHeight),Math.max(O.offsetHeight,q.offsetHeight),Math.max(O.clientHeight,q.clientHeight));return new c(0,0,V,ye)},A=function(M){for(var O=[],q=0,V=M.length;q<V;){var ye=M.charCodeAt(q++);if(ye>=55296&&ye<=56319&&q<V){var _e=M.charCodeAt(q++);(_e&64512)===56320?O.push(((ye&1023)<<10)+(_e&1023)+65536):(O.push(ye),q--)}else O.push(ye)}return O},m=function(){for(var M=[],O=0;O<arguments.length;O++)M[O]=arguments[O];if(String.fromCodePoint)return String.fromCodePoint.apply(String,M);var q=M.length;if(!q)return"";for(var V=[],ye=-1,_e="";++ye<q;){var We=M[ye];We<=65535?V.push(We):(We-=65536,V.push((We>>10)+55296,We%1024+56320)),(ye+1===q||V.length>16384)&&(_e+=String.fromCharCode.apply(String,V),V.length=0)}return _e},h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",y=typeof Uint8Array>"u"?[]:new Uint8Array(256),x=0;x<h.length;x++)y[h.charCodeAt(x)]=x;for(var v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=typeof Uint8Array>"u"?[]:new Uint8Array(256),j=0;j<v.length;j++)b[v.charCodeAt(j)]=j;for(var C=function(M){var O=M.length*.75,q=M.length,V,ye=0,_e,We,xt,yt;M[M.length-1]==="="&&(O--,M[M.length-2]==="="&&O--);var Lt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(O):new Array(O),Ut=Array.isArray(Lt)?Lt:new Uint8Array(Lt);for(V=0;V<q;V+=4)_e=b[M.charCodeAt(V)],We=b[M.charCodeAt(V+1)],xt=b[M.charCodeAt(V+2)],yt=b[M.charCodeAt(V+3)],Ut[ye++]=_e<<2|We>>4,Ut[ye++]=(We&15)<<4|xt>>2,Ut[ye++]=(xt&3)<<6|yt&63;return Lt},E=function(M){for(var O=M.length,q=[],V=0;V<O;V+=2)q.push(M[V+1]<<8|M[V]);return q},k=function(M){for(var O=M.length,q=[],V=0;V<O;V+=4)q.push(M[V+3]<<24|M[V+2]<<16|M[V+1]<<8|M[V]);return q},D=5,L=11,F=2,Q=L-D,U=65536>>D,P=1<<D,I=P-1,z=1024>>D,W=U+z,ie=W,X=32,le=ie+X,re=65536>>L,he=1<<Q,de=he-1,ve=function(M,O,q){return M.slice?M.slice(O,q):new Uint16Array(Array.prototype.slice.call(M,O,q))},B=function(M,O,q){return M.slice?M.slice(O,q):new Uint32Array(Array.prototype.slice.call(M,O,q))},R=function(M,O){var q=C(M),V=Array.isArray(q)?k(q):new Uint32Array(q),ye=Array.isArray(q)?E(q):new Uint16Array(q),_e=24,We=ve(ye,_e/2,V[4]/2),xt=V[5]===2?ve(ye,(_e+V[4])/2):B(V,Math.ceil((_e+V[4])/4));return new G(V[0],V[1],V[2],V[3],We,xt)},G=(function(){function M(O,q,V,ye,_e,We){this.initialValue=O,this.errorValue=q,this.highStart=V,this.highValueIndex=ye,this.index=_e,this.data=We}return M.prototype.get=function(O){var q;if(O>=0){if(O<55296||O>56319&&O<=65535)return q=this.index[O>>D],q=(q<<F)+(O&I),this.data[q];if(O<=65535)return q=this.index[U+(O-55296>>D)],q=(q<<F)+(O&I),this.data[q];if(O<this.highStart)return q=le-re+(O>>L),q=this.index[q],q+=O>>D&de,q=this.index[q],q=(q<<F)+(O&I),this.data[q];if(O<=1114111)return this.data[this.highValueIndex]}return this.errorValue},M})(),ne="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pe=typeof Uint8Array>"u"?[]:new Uint8Array(256),xe=0;xe<ne.length;xe++)pe[ne.charCodeAt(xe)]=xe;var Ae="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",Y=50,se=1,ee=2,be=3,Ce=4,ce=5,J=7,ge=8,Je=9,Ke=10,Fe=11,nt=12,Se=13,Me=14,at=15,ke=16,Ve=17,ze=18,rt=19,Ge=20,bt=21,Le=22,je=23,Ze=24,Te=25,pt=26,At=27,qe=28,Pe=29,mt=30,Qe=31,st=32,tt=33,Ft=34,_t=35,Dt=36,Wt=37,cr=38,Dr=39,Ea=40,Fr=41,jr=42,Sr=43,ca=[9001,65288],oa="!",wt="",Xt="",Oe=R(Ae),ut=[mt,Dt],ot=[se,ee,be,ce],dt=[Ke,ge],Ie=[At,pt],Ne=ot.concat(dt),ct=[cr,Dr,Ea,Ft,_t],Ye=[at,Se],Ee=function(M,O){O===void 0&&(O="strict");var q=[],V=[],ye=[];return M.forEach(function(_e,We){var xt=Oe.get(_e);if(xt>Y?(ye.push(!0),xt-=Y):ye.push(!1),["normal","auto","loose"].indexOf(O)!==-1&&[8208,8211,12316,12448].indexOf(_e)!==-1)return V.push(We),q.push(ke);if(xt===Ce||xt===Fe){if(We===0)return V.push(We),q.push(mt);var yt=q[We-1];return Ne.indexOf(yt)===-1?(V.push(V[We-1]),q.push(yt)):(V.push(We),q.push(mt))}if(V.push(We),xt===Qe)return q.push(O==="strict"?bt:Wt);if(xt===jr||xt===Pe)return q.push(mt);if(xt===Sr)return _e>=131072&&_e<=196605||_e>=196608&&_e<=262141?q.push(Wt):q.push(mt);q.push(xt)}),[V,q,ye]},it=function(M,O,q,V){var ye=V[q];if(Array.isArray(M)?M.indexOf(ye)!==-1:M===ye)for(var _e=q;_e<=V.length;){_e++;var We=V[_e];if(We===O)return!0;if(We!==Ke)break}if(ye===Ke)for(var _e=q;_e>0;){_e--;var xt=V[_e];if(Array.isArray(M)?M.indexOf(xt)!==-1:M===xt)for(var yt=q;yt<=V.length;){yt++;var We=V[yt];if(We===O)return!0;if(We!==Ke)break}if(xt!==Ke)break}return!1},vt=function(M,O){for(var q=M;q>=0;){var V=O[q];if(V===Ke)q--;else return V}return 0},It=function(M,O,q,V,ye){if(q[V]===0)return wt;var _e=V-1;if(Array.isArray(ye)&&ye[_e]===!0)return wt;var We=_e-1,xt=_e+1,yt=O[_e],Lt=We>=0?O[We]:0,Ut=O[xt];if(yt===ee&&Ut===be)return wt;if(ot.indexOf(yt)!==-1)return oa;if(ot.indexOf(Ut)!==-1||dt.indexOf(Ut)!==-1)return wt;if(vt(_e,O)===ge)return Xt;if(Oe.get(M[_e])===Fe||(yt===st||yt===tt)&&Oe.get(M[xt])===Fe||yt===J||Ut===J||yt===Je||[Ke,Se,at].indexOf(yt)===-1&&Ut===Je||[Ve,ze,rt,Ze,qe].indexOf(Ut)!==-1||vt(_e,O)===Le||it(je,Le,_e,O)||it([Ve,ze],bt,_e,O)||it(nt,nt,_e,O))return wt;if(yt===Ke)return Xt;if(yt===je||Ut===je)return wt;if(Ut===ke||yt===ke)return Xt;if([Se,at,bt].indexOf(Ut)!==-1||yt===Me||Lt===Dt&&Ye.indexOf(yt)!==-1||yt===qe&&Ut===Dt||Ut===Ge||ut.indexOf(Ut)!==-1&&yt===Te||ut.indexOf(yt)!==-1&&Ut===Te||yt===At&&[Wt,st,tt].indexOf(Ut)!==-1||[Wt,st,tt].indexOf(yt)!==-1&&Ut===pt||ut.indexOf(yt)!==-1&&Ie.indexOf(Ut)!==-1||Ie.indexOf(yt)!==-1&&ut.indexOf(Ut)!==-1||[At,pt].indexOf(yt)!==-1&&(Ut===Te||[Le,at].indexOf(Ut)!==-1&&O[xt+1]===Te)||[Le,at].indexOf(yt)!==-1&&Ut===Te||yt===Te&&[Te,qe,Ze].indexOf(Ut)!==-1)return wt;if([Te,qe,Ze,Ve,ze].indexOf(Ut)!==-1)for(var zt=_e;zt>=0;){var or=O[zt];if(or===Te)return wt;if([qe,Ze].indexOf(or)!==-1)zt--;else break}if([At,pt].indexOf(Ut)!==-1)for(var zt=[Ve,ze].indexOf(yt)!==-1?We:_e;zt>=0;){var or=O[zt];if(or===Te)return wt;if([qe,Ze].indexOf(or)!==-1)zt--;else break}if(cr===yt&&[cr,Dr,Ft,_t].indexOf(Ut)!==-1||[Dr,Ft].indexOf(yt)!==-1&&[Dr,Ea].indexOf(Ut)!==-1||[Ea,_t].indexOf(yt)!==-1&&Ut===Ea||ct.indexOf(yt)!==-1&&[Ge,pt].indexOf(Ut)!==-1||ct.indexOf(Ut)!==-1&&yt===At||ut.indexOf(yt)!==-1&&ut.indexOf(Ut)!==-1||yt===Ze&&ut.indexOf(Ut)!==-1||ut.concat(Te).indexOf(yt)!==-1&&Ut===Le&&ca.indexOf(M[xt])===-1||ut.concat(Te).indexOf(Ut)!==-1&&yt===ze)return wt;if(yt===Fr&&Ut===Fr){for(var Lr=q[_e],Br=1;Lr>0&&(Lr--,O[Lr]===Fr);)Br++;if(Br%2!==0)return wt}return yt===st&&Ut===tt?wt:Xt},Mt=function(M,O){O||(O={lineBreak:"normal",wordBreak:"normal"});var q=Ee(M,O.lineBreak),V=q[0],ye=q[1],_e=q[2];(O.wordBreak==="break-all"||O.wordBreak==="break-word")&&(ye=ye.map(function(xt){return[Te,mt,jr].indexOf(xt)!==-1?Wt:xt}));var We=O.wordBreak==="keep-all"?_e.map(function(xt,yt){return xt&&M[yt]>=19968&&M[yt]<=40959}):void 0;return[V,ye,We]},fr=(function(){function M(O,q,V,ye){this.codePoints=O,this.required=q===oa,this.start=V,this.end=ye}return M.prototype.slice=function(){return m.apply(void 0,this.codePoints.slice(this.start,this.end))},M})(),dr=function(M,O){var q=A(M),V=Mt(q,O),ye=V[0],_e=V[1],We=V[2],xt=q.length,yt=0,Lt=0;return{next:function(){if(Lt>=xt)return{done:!0,value:null};for(var Ut=wt;Lt<xt&&(Ut=It(q,_e,ye,++Lt,We))===wt;);if(Ut!==wt||Lt===xt){var zt=new fr(q,Ut,yt,Lt);return yt=Lt,{value:zt,done:!1}}return{done:!0,value:null}}}},sr=1,Yr=2,Na=4,Sa=8,za=10,Nn=47,ds=92,Bi=9,no=32,Ti=34,Ls=61,us=35,hn=36,Ed=37,vc=39,Ai=40,Uo=41,fs=95,es=45,Ba=33,ql=60,ru=62,au=64,Kl=91,sl=93,Bd=61,Gl=123,vo=63,Td=125,nu=124,su=126,Wl=128,Yl=65533,Vi=42,mi=43,ai=44,Ro=58,il=59,Nr=46,iu=0,Du=8,so=11,Qo=14,Ho=31,Fi=127,ws=-1,Fd=48,Nl=97,rd=101,$o=102,bo=117,zo=122,pi=65,_i=69,ol=70,io=85,bc=90,ts=function(M){return M>=Fd&&M<=57},Xl=function(M){return M>=55296&&M<=57343},qi=function(M){return ts(M)||M>=pi&&M<=ol||M>=Nl&&M<=$o},gi=function(M){return M>=Nl&&M<=zo},ll=function(M){return M>=pi&&M<=bc},Mu=function(M){return gi(M)||ll(M)},oo=function(M){return M>=Wl},Os=function(M){return M===za||M===Bi||M===no},cl=function(M){return Mu(M)||oo(M)||M===fs},Jl=function(M){return cl(M)||ts(M)||M===es},ad=function(M){return M>=iu&&M<=Du||M===so||M>=Qo&&M<=Ho||M===Fi},lo=function(M,O){return M!==ds?!1:O!==za},ue=function(M,O,q){return M===es?cl(O)||lo(O,q):cl(M)?!0:!!(M===ds&&lo(M,O))},He=function(M,O,q){return M===mi||M===es?ts(O)?!0:O===Nr&&ts(q):ts(M===Nr?O:M)},jt=function(M){var O=0,q=1;(M[O]===mi||M[O]===es)&&(M[O]===es&&(q=-1),O++);for(var V=[];ts(M[O]);)V.push(M[O++]);var ye=V.length?parseInt(m.apply(void 0,V),10):0;M[O]===Nr&&O++;for(var _e=[];ts(M[O]);)_e.push(M[O++]);var We=_e.length,xt=We?parseInt(m.apply(void 0,_e),10):0;(M[O]===_i||M[O]===rd)&&O++;var yt=1;(M[O]===mi||M[O]===es)&&(M[O]===es&&(yt=-1),O++);for(var Lt=[];ts(M[O]);)Lt.push(M[O++]);var Ut=Lt.length?parseInt(m.apply(void 0,Lt),10):0;return q*(ye+xt*Math.pow(10,-We))*Math.pow(10,yt*Ut)},kt={type:2},Qt={type:3},lr={type:4},mr={type:13},Hr={type:8},Kr={type:21},fa={type:9},ma={type:10},nn={type:11},Bn={type:12},hs={type:14},te={type:23},Re={type:1},Nt={type:25},Bt={type:24},Rt={type:26},Zt={type:27},yr={type:28},Pr={type:29},Vr={type:31},da={type:32},ua=(function(){function M(){this._value=[]}return M.prototype.write=function(O){this._value=this._value.concat(A(O))},M.prototype.read=function(){for(var O=[],q=this.consumeToken();q!==da;)O.push(q),q=this.consumeToken();return O},M.prototype.consumeToken=function(){var O=this.consumeCodePoint();switch(O){case Ti:return this.consumeStringToken(Ti);case us:var q=this.peekCodePoint(0),V=this.peekCodePoint(1),ye=this.peekCodePoint(2);if(Jl(q)||lo(V,ye)){var _e=ue(q,V,ye)?Yr:sr,We=this.consumeName();return{type:5,value:We,flags:_e}}break;case hn:if(this.peekCodePoint(0)===Ls)return this.consumeCodePoint(),mr;break;case vc:return this.consumeStringToken(vc);case Ai:return kt;case Uo:return Qt;case Vi:if(this.peekCodePoint(0)===Ls)return this.consumeCodePoint(),hs;break;case mi:if(He(O,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(O),this.consumeNumericToken();break;case ai:return lr;case es:var xt=O,yt=this.peekCodePoint(0),Lt=this.peekCodePoint(1);if(He(xt,yt,Lt))return this.reconsumeCodePoint(O),this.consumeNumericToken();if(ue(xt,yt,Lt))return this.reconsumeCodePoint(O),this.consumeIdentLikeToken();if(yt===es&&Lt===ru)return this.consumeCodePoint(),this.consumeCodePoint(),Bt;break;case Nr:if(He(O,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(O),this.consumeNumericToken();break;case Nn:if(this.peekCodePoint(0)===Vi)for(this.consumeCodePoint();;){var Ut=this.consumeCodePoint();if(Ut===Vi&&(Ut=this.consumeCodePoint(),Ut===Nn))return this.consumeToken();if(Ut===ws)return this.consumeToken()}break;case Ro:return Rt;case il:return Zt;case ql:if(this.peekCodePoint(0)===Ba&&this.peekCodePoint(1)===es&&this.peekCodePoint(2)===es)return this.consumeCodePoint(),this.consumeCodePoint(),Nt;break;case au:var zt=this.peekCodePoint(0),or=this.peekCodePoint(1),Lr=this.peekCodePoint(2);if(ue(zt,or,Lr)){var We=this.consumeName();return{type:7,value:We}}break;case Kl:return yr;case ds:if(lo(O,this.peekCodePoint(0)))return this.reconsumeCodePoint(O),this.consumeIdentLikeToken();break;case sl:return Pr;case Bd:if(this.peekCodePoint(0)===Ls)return this.consumeCodePoint(),Hr;break;case Gl:return nn;case Td:return Bn;case bo:case io:var Br=this.peekCodePoint(0),_r=this.peekCodePoint(1);return Br===mi&&(qi(_r)||_r===vo)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(O),this.consumeIdentLikeToken();case nu:if(this.peekCodePoint(0)===Ls)return this.consumeCodePoint(),fa;if(this.peekCodePoint(0)===nu)return this.consumeCodePoint(),Kr;break;case su:if(this.peekCodePoint(0)===Ls)return this.consumeCodePoint(),ma;break;case ws:return da}return Os(O)?(this.consumeWhiteSpace(),Vr):ts(O)?(this.reconsumeCodePoint(O),this.consumeNumericToken()):cl(O)?(this.reconsumeCodePoint(O),this.consumeIdentLikeToken()):{type:6,value:m(O)}},M.prototype.consumeCodePoint=function(){var O=this._value.shift();return typeof O>"u"?-1:O},M.prototype.reconsumeCodePoint=function(O){this._value.unshift(O)},M.prototype.peekCodePoint=function(O){return O>=this._value.length?-1:this._value[O]},M.prototype.consumeUnicodeRangeToken=function(){for(var O=[],q=this.consumeCodePoint();qi(q)&&O.length<6;)O.push(q),q=this.consumeCodePoint();for(var V=!1;q===vo&&O.length<6;)O.push(q),q=this.consumeCodePoint(),V=!0;if(V){var ye=parseInt(m.apply(void 0,O.map(function(yt){return yt===vo?Fd:yt})),16),_e=parseInt(m.apply(void 0,O.map(function(yt){return yt===vo?ol:yt})),16);return{type:30,start:ye,end:_e}}var We=parseInt(m.apply(void 0,O),16);if(this.peekCodePoint(0)===es&&qi(this.peekCodePoint(1))){this.consumeCodePoint(),q=this.consumeCodePoint();for(var xt=[];qi(q)&&xt.length<6;)xt.push(q),q=this.consumeCodePoint();var _e=parseInt(m.apply(void 0,xt),16);return{type:30,start:We,end:_e}}else return{type:30,start:We,end:We}},M.prototype.consumeIdentLikeToken=function(){var O=this.consumeName();return O.toLowerCase()==="url"&&this.peekCodePoint(0)===Ai?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Ai?(this.consumeCodePoint(),{type:19,value:O}):{type:20,value:O}},M.prototype.consumeUrlToken=function(){var O=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===ws)return{type:22,value:""};var q=this.peekCodePoint(0);if(q===vc||q===Ti){var V=this.consumeStringToken(this.consumeCodePoint());return V.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===ws||this.peekCodePoint(0)===Uo)?(this.consumeCodePoint(),{type:22,value:V.value}):(this.consumeBadUrlRemnants(),te)}for(;;){var ye=this.consumeCodePoint();if(ye===ws||ye===Uo)return{type:22,value:m.apply(void 0,O)};if(Os(ye))return this.consumeWhiteSpace(),this.peekCodePoint(0)===ws||this.peekCodePoint(0)===Uo?(this.consumeCodePoint(),{type:22,value:m.apply(void 0,O)}):(this.consumeBadUrlRemnants(),te);if(ye===Ti||ye===vc||ye===Ai||ad(ye))return this.consumeBadUrlRemnants(),te;if(ye===ds)if(lo(ye,this.peekCodePoint(0)))O.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),te;else O.push(ye)}},M.prototype.consumeWhiteSpace=function(){for(;Os(this.peekCodePoint(0));)this.consumeCodePoint()},M.prototype.consumeBadUrlRemnants=function(){for(;;){var O=this.consumeCodePoint();if(O===Uo||O===ws)return;lo(O,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},M.prototype.consumeStringSlice=function(O){for(var q=5e4,V="";O>0;){var ye=Math.min(q,O);V+=m.apply(void 0,this._value.splice(0,ye)),O-=ye}return this._value.shift(),V},M.prototype.consumeStringToken=function(O){var q="",V=0;do{var ye=this._value[V];if(ye===ws||ye===void 0||ye===O)return q+=this.consumeStringSlice(V),{type:0,value:q};if(ye===za)return this._value.splice(0,V),Re;if(ye===ds){var _e=this._value[V+1];_e!==ws&&_e!==void 0&&(_e===za?(q+=this.consumeStringSlice(V),V=-1,this._value.shift()):lo(ye,_e)&&(q+=this.consumeStringSlice(V),q+=m(this.consumeEscapedCodePoint()),V=-1))}V++}while(!0)},M.prototype.consumeNumber=function(){var O=[],q=Na,V=this.peekCodePoint(0);for((V===mi||V===es)&&O.push(this.consumeCodePoint());ts(this.peekCodePoint(0));)O.push(this.consumeCodePoint());V=this.peekCodePoint(0);var ye=this.peekCodePoint(1);if(V===Nr&&ts(ye))for(O.push(this.consumeCodePoint(),this.consumeCodePoint()),q=Sa;ts(this.peekCodePoint(0));)O.push(this.consumeCodePoint());V=this.peekCodePoint(0),ye=this.peekCodePoint(1);var _e=this.peekCodePoint(2);if((V===_i||V===rd)&&((ye===mi||ye===es)&&ts(_e)||ts(ye)))for(O.push(this.consumeCodePoint(),this.consumeCodePoint()),q=Sa;ts(this.peekCodePoint(0));)O.push(this.consumeCodePoint());return[jt(O),q]},M.prototype.consumeNumericToken=function(){var O=this.consumeNumber(),q=O[0],V=O[1],ye=this.peekCodePoint(0),_e=this.peekCodePoint(1),We=this.peekCodePoint(2);if(ue(ye,_e,We)){var xt=this.consumeName();return{type:15,number:q,flags:V,unit:xt}}return ye===Ed?(this.consumeCodePoint(),{type:16,number:q,flags:V}):{type:17,number:q,flags:V}},M.prototype.consumeEscapedCodePoint=function(){var O=this.consumeCodePoint();if(qi(O)){for(var q=m(O);qi(this.peekCodePoint(0))&&q.length<6;)q+=m(this.consumeCodePoint());Os(this.peekCodePoint(0))&&this.consumeCodePoint();var V=parseInt(q,16);return V===0||Xl(V)||V>1114111?Yl:V}return O===ws?Yl:O},M.prototype.consumeName=function(){for(var O="";;){var q=this.consumeCodePoint();if(Jl(q))O+=m(q);else if(lo(q,this.peekCodePoint(0)))O+=m(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(q),O}},M})(),Ma=(function(){function M(O){this._tokens=O}return M.create=function(O){var q=new ua;return q.write(O),new M(q.read())},M.parseValue=function(O){return M.create(O).parseComponentValue()},M.parseValues=function(O){return M.create(O).parseComponentValues()},M.prototype.parseComponentValue=function(){for(var O=this.consumeToken();O.type===31;)O=this.consumeToken();if(O.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(O);var q=this.consumeComponentValue();do O=this.consumeToken();while(O.type===31);if(O.type===32)return q;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},M.prototype.parseComponentValues=function(){for(var O=[];;){var q=this.consumeComponentValue();if(q.type===32)return O;O.push(q),O.push()}},M.prototype.consumeComponentValue=function(){var O=this.consumeToken();switch(O.type){case 11:case 28:case 2:return this.consumeSimpleBlock(O.type);case 19:return this.consumeFunction(O)}return O},M.prototype.consumeSimpleBlock=function(O){for(var q={type:O,values:[]},V=this.consumeToken();;){if(V.type===32||wc(V,O))return q;this.reconsumeToken(V),q.values.push(this.consumeComponentValue()),V=this.consumeToken()}},M.prototype.consumeFunction=function(O){for(var q={name:O.value,values:[],type:18};;){var V=this.consumeToken();if(V.type===32||V.type===3)return q;this.reconsumeToken(V),q.values.push(this.consumeComponentValue())}},M.prototype.consumeToken=function(){var O=this._tokens.shift();return typeof O>"u"?da:O},M.prototype.reconsumeToken=function(O){this._tokens.unshift(O)},M})(),An=function(M){return M.type===15},Pa=function(M){return M.type===17},ia=function(M){return M.type===20},Rn=function(M){return M.type===0},As=function(M,O){return ia(M)&&M.value===O},co=function(M){return M.type!==31},Va=function(M){return M.type!==31&&M.type!==4},Dn=function(M){var O=[],q=[];return M.forEach(function(V){if(V.type===4){if(q.length===0)throw new Error("Error parsing function args, zero tokens for arg");O.push(q),q=[];return}V.type!==31&&q.push(V)}),q.length&&O.push(q),O},wc=function(M,O){return O===11&&M.type===12||O===28&&M.type===29?!0:O===2&&M.type===3},xi=function(M){return M.type===17||M.type===15},qa=function(M){return M.type===16||xi(M)},dl=function(M){return M.length>1?[M[0],M[1]]:[M[0]]},Mn={type:17,number:0,flags:Na},jl={type:16,number:50,flags:Na},Vs={type:16,number:100,flags:Na},kn=function(M,O,q){var V=M[0],ye=M[1];return[Ta(V,O),Ta(typeof ye<"u"?ye:V,q)]},Ta=function(M,O){if(M.type===16)return M.number/100*O;if(An(M))switch(M.unit){case"rem":case"em":return 16*M.number;case"px":default:return M.number}return M.number},ni="deg",wo="grad",No="rad",Ds="turn",Nc={name:"angle",parse:function(M,O){if(O.type===15)switch(O.unit){case ni:return Math.PI*O.number/180;case wo:return Math.PI/200*O.number;case No:return O.number;case Ds:return Math.PI*2*O.number}throw new Error("Unsupported angle type")}},Zl=function(M){return M.type===15&&(M.unit===ni||M.unit===wo||M.unit===No||M.unit===Ds)},rs=function(M){var O=M.filter(ia).map(function(q){return q.value}).join(" ");switch(O){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Mn,Mn];case"to top":case"bottom":return Vn(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Mn,Vs];case"to right":case"left":return Vn(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Vs,Vs];case"to bottom":case"top":return Vn(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Vs,Mn];case"to left":case"right":return Vn(270)}return 0},Vn=function(M){return Math.PI*M/180},mn={name:"color",parse:function(M,O){if(O.type===18){var q=qs[O.name];if(typeof q>"u")throw new Error('Attempting to parse an unsupported color function "'+O.name+'"');return q(M,O.values)}if(O.type===5){if(O.value.length===3){var V=O.value.substring(0,1),ye=O.value.substring(1,2),_e=O.value.substring(2,3);return si(parseInt(V+V,16),parseInt(ye+ye,16),parseInt(_e+_e,16),1)}if(O.value.length===4){var V=O.value.substring(0,1),ye=O.value.substring(1,2),_e=O.value.substring(2,3),We=O.value.substring(3,4);return si(parseInt(V+V,16),parseInt(ye+ye,16),parseInt(_e+_e,16),parseInt(We+We,16)/255)}if(O.value.length===6){var V=O.value.substring(0,2),ye=O.value.substring(2,4),_e=O.value.substring(4,6);return si(parseInt(V,16),parseInt(ye,16),parseInt(_e,16),1)}if(O.value.length===8){var V=O.value.substring(0,2),ye=O.value.substring(2,4),_e=O.value.substring(4,6),We=O.value.substring(6,8);return si(parseInt(V,16),parseInt(ye,16),parseInt(_e,16),parseInt(We,16)/255)}}if(O.type===20){var xt=as[O.value.toUpperCase()];if(typeof xt<"u")return xt}return as.TRANSPARENT}},ms=function(M){return(255&M)===0},qn=function(M){var O=255&M,q=255&M>>8,V=255&M>>16,ye=255&M>>24;return O<255?"rgba("+ye+","+V+","+q+","+O/255+")":"rgb("+ye+","+V+","+q+")"},si=function(M,O,q,V){return(M<<24|O<<16|q<<8|Math.round(V*255)<<0)>>>0},ul=function(M,O){if(M.type===17)return M.number;if(M.type===16){var q=O===3?1:255;return O===3?M.number/100*q:Math.round(M.number/100*q)}return 0},ii=function(M,O){var q=O.filter(Va);if(q.length===3){var V=q.map(ul),ye=V[0],_e=V[1],We=V[2];return si(ye,_e,We,1)}if(q.length===4){var xt=q.map(ul),ye=xt[0],_e=xt[1],We=xt[2],yt=xt[3];return si(ye,_e,We,yt)}return 0};function Kn(M,O,q){return q<0&&(q+=1),q>=1&&(q-=1),q<1/6?(O-M)*q*6+M:q<1/2?O:q<2/3?(O-M)*6*(2/3-q)+M:M}var uo=function(M,O){var q=O.filter(Va),V=q[0],ye=q[1],_e=q[2],We=q[3],xt=(V.type===17?Vn(V.number):Nc.parse(M,V))/(Math.PI*2),yt=qa(ye)?ye.number/100:0,Lt=qa(_e)?_e.number/100:0,Ut=typeof We<"u"&&qa(We)?Ta(We,1):1;if(yt===0)return si(Lt*255,Lt*255,Lt*255,1);var zt=Lt<=.5?Lt*(yt+1):Lt+yt-Lt*yt,or=Lt*2-zt,Lr=Kn(or,zt,xt+1/3),Br=Kn(or,zt,xt),_r=Kn(or,zt,xt-1/3);return si(Lr*255,Br*255,_r*255,Ut)},qs={hsl:uo,hsla:uo,rgb:ii,rgba:ii},Ks=function(M,O){return mn.parse(M,Ma.create(O).parseComponentValue())},as={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Ki={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(M,O){return O.map(function(q){if(ia(q))switch(q.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},yn={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Ns=function(M,O){var q=mn.parse(M,O[0]),V=O[1];return V&&qa(V)?{color:q,stop:V}:{color:q,stop:null}},pa=function(M,O){var q=M[0],V=M[M.length-1];q.stop===null&&(q.stop=Mn),V.stop===null&&(V.stop=Vs);for(var ye=[],_e=0,We=0;We<M.length;We++){var xt=M[We].stop;if(xt!==null){var yt=Ta(xt,O);yt>_e?ye.push(yt):ye.push(_e),_e=yt}else ye.push(null)}for(var Lt=null,We=0;We<ye.length;We++){var Ut=ye[We];if(Ut===null)Lt===null&&(Lt=We);else if(Lt!==null){for(var zt=We-Lt,or=ye[Lt-1],Lr=(Ut-or)/(zt+1),Br=1;Br<=zt;Br++)ye[Lt+Br-1]=Lr*Br;Lt=null}}return M.map(function(_r,Za){var ea=_r.color;return{color:ea,stop:Math.max(Math.min(1,ye[Za]/O),0)}})},$a=function(M,O,q){var V=O/2,ye=q/2,_e=Ta(M[0],O)-V,We=ye-Ta(M[1],q);return(Math.atan2(We,_e)+Math.PI*2)%(Math.PI*2)},Qn=function(M,O,q){var V=typeof M=="number"?M:$a(M,O,q),ye=Math.abs(O*Math.sin(V))+Math.abs(q*Math.cos(V)),_e=O/2,We=q/2,xt=ye/2,yt=Math.sin(V-Math.PI/2)*xt,Lt=Math.cos(V-Math.PI/2)*xt;return[ye,_e-Lt,_e+Lt,We-yt,We+yt]},Ja=function(M,O){return Math.sqrt(M*M+O*O)},jo=function(M,O,q,V,ye){var _e=[[0,0],[0,O],[M,0],[M,O]];return _e.reduce(function(We,xt){var yt=xt[0],Lt=xt[1],Ut=Ja(q-yt,V-Lt);return(ye?Ut<We.optimumDistance:Ut>We.optimumDistance)?{optimumCorner:xt,optimumDistance:Ut}:We},{optimumDistance:ye?1/0:-1/0,optimumCorner:null}).optimumCorner},Sl=function(M,O,q,V,ye){var _e=0,We=0;switch(M.size){case 0:M.shape===0?_e=We=Math.min(Math.abs(O),Math.abs(O-V),Math.abs(q),Math.abs(q-ye)):M.shape===1&&(_e=Math.min(Math.abs(O),Math.abs(O-V)),We=Math.min(Math.abs(q),Math.abs(q-ye)));break;case 2:if(M.shape===0)_e=We=Math.min(Ja(O,q),Ja(O,q-ye),Ja(O-V,q),Ja(O-V,q-ye));else if(M.shape===1){var xt=Math.min(Math.abs(q),Math.abs(q-ye))/Math.min(Math.abs(O),Math.abs(O-V)),yt=jo(V,ye,O,q,!0),Lt=yt[0],Ut=yt[1];_e=Ja(Lt-O,(Ut-q)/xt),We=xt*_e}break;case 1:M.shape===0?_e=We=Math.max(Math.abs(O),Math.abs(O-V),Math.abs(q),Math.abs(q-ye)):M.shape===1&&(_e=Math.max(Math.abs(O),Math.abs(O-V)),We=Math.max(Math.abs(q),Math.abs(q-ye)));break;case 3:if(M.shape===0)_e=We=Math.max(Ja(O,q),Ja(O,q-ye),Ja(O-V,q),Ja(O-V,q-ye));else if(M.shape===1){var xt=Math.max(Math.abs(q),Math.abs(q-ye))/Math.max(Math.abs(O),Math.abs(O-V)),zt=jo(V,ye,O,q,!1),Lt=zt[0],Ut=zt[1];_e=Ja(Lt-O,(Ut-q)/xt),We=xt*_e}break}return Array.isArray(M.size)&&(_e=Ta(M.size[0],V),We=M.size.length===2?Ta(M.size[1],ye):_e),[_e,We]},fl=function(M,O){var q=Vn(180),V=[];return Dn(O).forEach(function(ye,_e){if(_e===0){var We=ye[0];if(We.type===20&&We.value==="to"){q=rs(ye);return}else if(Zl(We)){q=Nc.parse(M,We);return}}var xt=Ns(M,ye);V.push(xt)}),{angle:q,stops:V,type:1}},Vo=function(M,O){var q=Vn(180),V=[];return Dn(O).forEach(function(ye,_e){if(_e===0){var We=ye[0];if(We.type===20&&["top","left","right","bottom"].indexOf(We.value)!==-1){q=rs(ye);return}else if(Zl(We)){q=(Nc.parse(M,We)+Vn(270))%Vn(360);return}}var xt=Ns(M,ye);V.push(xt)}),{angle:q,stops:V,type:1}},_d=function(M,O){var q=Vn(180),V=[],ye=1,_e=0,We=3,xt=[];return Dn(O).forEach(function(yt,Lt){var Ut=yt[0];if(Lt===0){if(ia(Ut)&&Ut.value==="linear"){ye=1;return}else if(ia(Ut)&&Ut.value==="radial"){ye=2;return}}if(Ut.type===18){if(Ut.name==="from"){var zt=mn.parse(M,Ut.values[0]);V.push({stop:Mn,color:zt})}else if(Ut.name==="to"){var zt=mn.parse(M,Ut.values[0]);V.push({stop:Vs,color:zt})}else if(Ut.name==="color-stop"){var or=Ut.values.filter(Va);if(or.length===2){var zt=mn.parse(M,or[1]),Lr=or[0];Pa(Lr)&&V.push({stop:{type:16,number:Lr.number*100,flags:Lr.flags},color:zt})}}}}),ye===1?{angle:(q+Vn(180))%Vn(360),stops:V,type:ye}:{size:We,shape:_e,stops:V,position:xt,type:ye}},kd="closest-side",jc="farthest-side",ec="closest-corner",nd="farthest-corner",ps="circle",ki="ellipse",Ka="cover",Ga="contain",Hn=function(M,O){var q=0,V=3,ye=[],_e=[];return Dn(O).forEach(function(We,xt){var yt=!0;if(xt===0){var Lt=!1;yt=We.reduce(function(zt,or){if(Lt)if(ia(or))switch(or.value){case"center":return _e.push(jl),zt;case"top":case"left":return _e.push(Mn),zt;case"right":case"bottom":return _e.push(Vs),zt}else(qa(or)||xi(or))&&_e.push(or);else if(ia(or))switch(or.value){case ps:return q=0,!1;case ki:return q=1,!1;case"at":return Lt=!0,!1;case kd:return V=0,!1;case Ka:case jc:return V=1,!1;case Ga:case ec:return V=2,!1;case nd:return V=3,!1}else if(xi(or)||qa(or))return Array.isArray(V)||(V=[]),V.push(or),!1;return zt},yt)}if(yt){var Ut=Ns(M,We);ye.push(Ut)}}),{size:V,shape:q,stops:ye,position:_e,type:2}},ns=function(M,O){var q=0,V=3,ye=[],_e=[];return Dn(O).forEach(function(We,xt){var yt=!0;if(xt===0?yt=We.reduce(function(Ut,zt){if(ia(zt))switch(zt.value){case"center":return _e.push(jl),!1;case"top":case"left":return _e.push(Mn),!1;case"right":case"bottom":return _e.push(Vs),!1}else if(qa(zt)||xi(zt))return _e.push(zt),!1;return Ut},yt):xt===1&&(yt=We.reduce(function(Ut,zt){if(ia(zt))switch(zt.value){case ps:return q=0,!1;case ki:return q=1,!1;case Ga:case kd:return V=0,!1;case jc:return V=1,!1;case ec:return V=2,!1;case Ka:case nd:return V=3,!1}else if(xi(zt)||qa(zt))return Array.isArray(V)||(V=[]),V.push(zt),!1;return Ut},yt)),yt){var Lt=Ns(M,We);ye.push(Lt)}}),{size:V,shape:q,stops:ye,position:_e,type:2}},hl=function(M){return M.type===1},sd=function(M){return M.type===2},tc={name:"image",parse:function(M,O){if(O.type===22){var q={url:O.value,type:0};return M.cache.addImage(O.value),q}if(O.type===18){var V=ou[O.name];if(typeof V>"u")throw new Error('Attempting to parse an unsupported image function "'+O.name+'"');return V(M,O.values)}throw new Error("Unsupported image type "+O.type)}};function Sc(M){return!(M.type===20&&M.value==="none")&&(M.type!==18||!!ou[M.name])}var ou={"linear-gradient":fl,"-moz-linear-gradient":Vo,"-ms-linear-gradient":Vo,"-o-linear-gradient":Vo,"-webkit-linear-gradient":Vo,"radial-gradient":Hn,"-moz-radial-gradient":ns,"-ms-radial-gradient":ns,"-o-radial-gradient":ns,"-webkit-radial-gradient":ns,"-webkit-gradient":_d},Cc={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(M,O){if(O.length===0)return[];var q=O[0];return q.type===20&&q.value==="none"?[]:O.filter(function(V){return Va(V)&&Sc(V)}).map(function(V){return tc.parse(M,V)})}},Tn={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(M,O){return O.map(function(q){if(ia(q))switch(q.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},js={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(M,O){return Dn(O).map(function(q){return q.filter(qa)}).map(dl)}},yi={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(M,O){return Dn(O).map(function(q){return q.filter(ia).map(function(V){return V.value}).join(" ")}).map(id)}},id=function(M){switch(M){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},fo;(function(M){M.AUTO="auto",M.CONTAIN="contain",M.COVER="cover"})(fo||(fo={}));var Id={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(M,O){return Dn(O).map(function(q){return q.filter(Ec)})}},Ec=function(M){return ia(M)||qa(M)},qo=function(M){return{name:"border-"+M+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},pf=qo("top"),lu=qo("right"),Bc=qo("bottom"),Cl=qo("left"),rc=function(M){return{name:"border-radius-"+M,initialValue:"0 0",prefix:!1,type:1,parse:function(O,q){return dl(q.filter(qa))}}},ph=rc("top-left"),El=rc("top-right"),Ko=rc("bottom-right"),cu=rc("bottom-left"),Bl=function(M){return{name:"border-"+M+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(O,q){switch(q){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},od=Bl("top"),du=Bl("right"),mm=Bl("bottom"),uu=Bl("left"),Tc=function(M){return{name:"border-"+M+"-width",initialValue:"0",type:0,prefix:!1,parse:function(O,q){return An(q)?q.number:0}}},Ss=Tc("top"),Ms=Tc("right"),jn=Tc("bottom"),ld=Tc("left"),Fc={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},iA={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(M,O){switch(O){case"rtl":return 1;case"ltr":default:return 0}}},fu={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(M,O){return O.filter(ia).reduce(function(q,V){return q|pm(V.value)},0)}},pm=function(M){switch(M){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},ho={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(M,O){switch(O){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},ss={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(M,O){return O.type===20&&O.value==="normal"?0:O.type===17||O.type===15?O.number:0}},gs;(function(M){M.NORMAL="normal",M.STRICT="strict"})(gs||(gs={}));var gm={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(M,O){switch(O){case"strict":return gs.STRICT;case"normal":default:return gs.NORMAL}}},hu={name:"line-height",initialValue:"normal",prefix:!1,type:4},Ii=function(M,O){return ia(M)&&M.value==="normal"?1.2*O:M.type===17?O*M.number:qa(M)?Ta(M,O):O},In={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(M,O){return O.type===20&&O.value==="none"?null:tc.parse(M,O)}},cd={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(M,O){switch(O){case"inside":return 0;case"outside":default:return 1}}},_c={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(M,O){switch(O){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Go=function(M){return{name:"margin-"+M,initialValue:"0",prefix:!1,type:4}},gf=Go("top"),xf=Go("right"),Au=Go("bottom"),gh=Go("left"),Al={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(M,O){return O.filter(ia).map(function(q){switch(q.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Us={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(M,O){switch(O){case"break-word":return"break-word";case"normal":default:return"normal"}}},So=function(M){return{name:"padding-"+M,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Uu=So("top"),D0=So("right"),oA=So("bottom"),M0=So("left"),vi={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(M,O){switch(O){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},lA={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(M,O){switch(O){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},yf={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(M,O){return O.length===1&&As(O[0],"none")?[]:Dn(O).map(function(q){for(var V={color:as.TRANSPARENT,offsetX:Mn,offsetY:Mn,blur:Mn},ye=0,_e=0;_e<q.length;_e++){var We=q[_e];xi(We)?(ye===0?V.offsetX=We:ye===1?V.offsetY=We:V.blur=We,ye++):V.color=mn.parse(M,We)}return V})}},vf={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(M,O){switch(O){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},cA={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(M,O){if(O.type===20&&O.value==="none")return null;if(O.type===18){var q=U0[O.name];if(typeof q>"u")throw new Error('Attempting to parse an unsupported transform function "'+O.name+'"');return q(O.values)}return null}},Pd=function(M){var O=M.filter(function(q){return q.type===17}).map(function(q){return q.number});return O.length===6?O:null},Tl=function(M){var O=M.filter(function(yt){return yt.type===17}).map(function(yt){return yt.number}),q=O[0],V=O[1];O[2],O[3];var ye=O[4],_e=O[5];O[6],O[7],O[8],O[9],O[10],O[11];var We=O[12],xt=O[13];return O[14],O[15],O.length===16?[q,V,ye,_e,We,xt]:null},U0={matrix:Pd,matrix3d:Tl},dA={type:16,number:50,flags:Na},uA=[dA,dA],g={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(M,O){var q=O.filter(qa);return q.length!==2?uA:[q[0],q[1]]}},N={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(M,O){switch(O){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},_;(function(M){M.NORMAL="normal",M.BREAK_ALL="break-all",M.KEEP_ALL="keep-all"})(_||(_={}));for(var H={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(M,O){switch(O){case"break-all":return _.BREAK_ALL;case"keep-all":return _.KEEP_ALL;case"normal":default:return _.NORMAL}}},Z={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(M,O){if(O.type===20)return{auto:!0,order:0};if(Pa(O))return{auto:!1,order:O.number};throw new Error("Invalid z-index number parsed")}},oe={name:"time",parse:function(M,O){if(O.type===15)switch(O.unit.toLowerCase()){case"s":return 1e3*O.number;case"ms":return O.number}throw new Error("Unsupported time type")}},fe={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(M,O){return Pa(O)?O.number:1}},me={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},we={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(M,O){return O.filter(ia).map(function(q){switch(q.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(q){return q!==0})}},Be={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(M,O){var q=[],V=[];return O.forEach(function(ye){switch(ye.type){case 20:case 0:q.push(ye.value);break;case 17:q.push(ye.number.toString());break;case 4:V.push(q.join(" ")),q.length=0;break}}),q.length&&V.push(q.join(" ")),V.map(function(ye){return ye.indexOf(" ")===-1?ye:"'"+ye+"'"})}},$e={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},ft={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(M,O){if(Pa(O))return O.number;if(ia(O))switch(O.value){case"bold":return 700;case"normal":default:return 400}return 400}},Ue={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(M,O){return O.filter(ia).map(function(q){return q.value})}},Xe={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(M,O){switch(O){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},gt=function(M,O){return(M&O)!==0},St={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(M,O){if(O.length===0)return[];var q=O[0];return q.type===20&&q.value==="none"?[]:O}},et={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(M,O){if(O.length===0)return null;var q=O[0];if(q.type===20&&q.value==="none")return null;for(var V=[],ye=O.filter(co),_e=0;_e<ye.length;_e++){var We=ye[_e],xt=ye[_e+1];if(We.type===20){var yt=xt&&Pa(xt)?xt.number:1;V.push({counter:We.value,increment:yt})}}return V}},ht={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(M,O){if(O.length===0)return[];for(var q=[],V=O.filter(co),ye=0;ye<V.length;ye++){var _e=V[ye],We=V[ye+1];if(ia(_e)&&_e.value!=="none"){var xt=We&&Pa(We)?We.number:0;q.push({counter:_e.value,reset:xt})}}return q}},Ct={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(M,O){return O.filter(An).map(function(q){return oe.parse(M,q)})}},Pt={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(M,O){if(O.length===0)return null;var q=O[0];if(q.type===20&&q.value==="none")return null;var V=[],ye=O.filter(Rn);if(ye.length%2!==0)return null;for(var _e=0;_e<ye.length;_e+=2){var We=ye[_e].value,xt=ye[_e+1].value;V.push({open:We,close:xt})}return V}},Tt=function(M,O,q){if(!M)return"";var V=M[Math.min(O,M.length-1)];return V?q?V.open:V.close:""},nr={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(M,O){return O.length===1&&As(O[0],"none")?[]:Dn(O).map(function(q){for(var V={color:255,offsetX:Mn,offsetY:Mn,blur:Mn,spread:Mn,inset:!1},ye=0,_e=0;_e<q.length;_e++){var We=q[_e];As(We,"inset")?V.inset=!0:xi(We)?(ye===0?V.offsetX=We:ye===1?V.offsetY=We:ye===2?V.blur=We:V.spread=We,ye++):V.color=mn.parse(M,We)}return V})}},Jt={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(M,O){var q=[0,1,2],V=[];return O.filter(ia).forEach(function(ye){switch(ye.value){case"stroke":V.push(1);break;case"fill":V.push(0);break;case"markers":V.push(2);break}}),q.forEach(function(ye){V.indexOf(ye)===-1&&V.push(ye)}),V}},wr={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},rr={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(M,O){return An(O)?O.number:0}},$r=(function(){function M(O,q){var V,ye;this.animationDuration=$t(O,Ct,q.animationDuration),this.backgroundClip=$t(O,Ki,q.backgroundClip),this.backgroundColor=$t(O,yn,q.backgroundColor),this.backgroundImage=$t(O,Cc,q.backgroundImage),this.backgroundOrigin=$t(O,Tn,q.backgroundOrigin),this.backgroundPosition=$t(O,js,q.backgroundPosition),this.backgroundRepeat=$t(O,yi,q.backgroundRepeat),this.backgroundSize=$t(O,Id,q.backgroundSize),this.borderTopColor=$t(O,pf,q.borderTopColor),this.borderRightColor=$t(O,lu,q.borderRightColor),this.borderBottomColor=$t(O,Bc,q.borderBottomColor),this.borderLeftColor=$t(O,Cl,q.borderLeftColor),this.borderTopLeftRadius=$t(O,ph,q.borderTopLeftRadius),this.borderTopRightRadius=$t(O,El,q.borderTopRightRadius),this.borderBottomRightRadius=$t(O,Ko,q.borderBottomRightRadius),this.borderBottomLeftRadius=$t(O,cu,q.borderBottomLeftRadius),this.borderTopStyle=$t(O,od,q.borderTopStyle),this.borderRightStyle=$t(O,du,q.borderRightStyle),this.borderBottomStyle=$t(O,mm,q.borderBottomStyle),this.borderLeftStyle=$t(O,uu,q.borderLeftStyle),this.borderTopWidth=$t(O,Ss,q.borderTopWidth),this.borderRightWidth=$t(O,Ms,q.borderRightWidth),this.borderBottomWidth=$t(O,jn,q.borderBottomWidth),this.borderLeftWidth=$t(O,ld,q.borderLeftWidth),this.boxShadow=$t(O,nr,q.boxShadow),this.color=$t(O,Fc,q.color),this.direction=$t(O,iA,q.direction),this.display=$t(O,fu,q.display),this.float=$t(O,ho,q.cssFloat),this.fontFamily=$t(O,Be,q.fontFamily),this.fontSize=$t(O,$e,q.fontSize),this.fontStyle=$t(O,Xe,q.fontStyle),this.fontVariant=$t(O,Ue,q.fontVariant),this.fontWeight=$t(O,ft,q.fontWeight),this.letterSpacing=$t(O,ss,q.letterSpacing),this.lineBreak=$t(O,gm,q.lineBreak),this.lineHeight=$t(O,hu,q.lineHeight),this.listStyleImage=$t(O,In,q.listStyleImage),this.listStylePosition=$t(O,cd,q.listStylePosition),this.listStyleType=$t(O,_c,q.listStyleType),this.marginTop=$t(O,gf,q.marginTop),this.marginRight=$t(O,xf,q.marginRight),this.marginBottom=$t(O,Au,q.marginBottom),this.marginLeft=$t(O,gh,q.marginLeft),this.opacity=$t(O,fe,q.opacity);var _e=$t(O,Al,q.overflow);this.overflowX=_e[0],this.overflowY=_e[_e.length>1?1:0],this.overflowWrap=$t(O,Us,q.overflowWrap),this.paddingTop=$t(O,Uu,q.paddingTop),this.paddingRight=$t(O,D0,q.paddingRight),this.paddingBottom=$t(O,oA,q.paddingBottom),this.paddingLeft=$t(O,M0,q.paddingLeft),this.paintOrder=$t(O,Jt,q.paintOrder),this.position=$t(O,lA,q.position),this.textAlign=$t(O,vi,q.textAlign),this.textDecorationColor=$t(O,me,(V=q.textDecorationColor)!==null&&V!==void 0?V:q.color),this.textDecorationLine=$t(O,we,(ye=q.textDecorationLine)!==null&&ye!==void 0?ye:q.textDecoration),this.textShadow=$t(O,yf,q.textShadow),this.textTransform=$t(O,vf,q.textTransform),this.transform=$t(O,cA,q.transform),this.transformOrigin=$t(O,g,q.transformOrigin),this.visibility=$t(O,N,q.visibility),this.webkitTextStrokeColor=$t(O,wr,q.webkitTextStrokeColor),this.webkitTextStrokeWidth=$t(O,rr,q.webkitTextStrokeWidth),this.wordBreak=$t(O,H,q.wordBreak),this.zIndex=$t(O,Z,q.zIndex)}return M.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},M.prototype.isTransparent=function(){return ms(this.backgroundColor)},M.prototype.isTransformed=function(){return this.transform!==null},M.prototype.isPositioned=function(){return this.position!==0},M.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},M.prototype.isFloating=function(){return this.float!==0},M.prototype.isInlineLevel=function(){return gt(this.display,4)||gt(this.display,33554432)||gt(this.display,268435456)||gt(this.display,536870912)||gt(this.display,67108864)||gt(this.display,134217728)},M})(),ja=(function(){function M(O,q){this.content=$t(O,St,q.content),this.quotes=$t(O,Pt,q.quotes)}return M})(),kr=(function(){function M(O,q){this.counterIncrement=$t(O,et,q.counterIncrement),this.counterReset=$t(O,ht,q.counterReset)}return M})(),$t=function(M,O,q){var V=new ua,ye=q!==null&&typeof q<"u"?q.toString():O.initialValue;V.write(ye);var _e=new Ma(V.read());switch(O.type){case 2:var We=_e.parseComponentValue();return O.parse(M,ia(We)?We.value:O.initialValue);case 0:return O.parse(M,_e.parseComponentValue());case 1:return O.parse(M,_e.parseComponentValues());case 4:return _e.parseComponentValue();case 3:switch(O.format){case"angle":return Nc.parse(M,_e.parseComponentValue());case"color":return mn.parse(M,_e.parseComponentValue());case"image":return tc.parse(M,_e.parseComponentValue());case"length":var xt=_e.parseComponentValue();return xi(xt)?xt:Mn;case"length-percentage":var yt=_e.parseComponentValue();return qa(yt)?yt:Mn;case"time":return oe.parse(M,_e.parseComponentValue())}break}},gr="data-html2canvas-debug",ga=function(M){var O=M.getAttribute(gr);switch(O){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Cr=function(M,O){var q=ga(M);return q===1||O===q},Qr=(function(){function M(O,q){if(this.context=O,this.textNodes=[],this.elements=[],this.flags=0,Cr(q,3))debugger;this.styles=new $r(O,window.getComputedStyle(q,null)),Yi(q)&&(this.styles.animationDuration.some(function(V){return V>0})&&(q.style.animationDuration="0s"),this.styles.transform!==null&&(q.style.transform="none")),this.bounds=u(this.context,q),Cr(q,4)&&(this.flags|=16)}return M})(),Mr="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",qr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ha=typeof Uint8Array>"u"?[]:new Uint8Array(256),aa=0;aa<qr.length;aa++)ha[qr.charCodeAt(aa)]=aa;for(var vn=function(M){var O=M.length*.75,q=M.length,V,ye=0,_e,We,xt,yt;M[M.length-1]==="="&&(O--,M[M.length-2]==="="&&O--);var Lt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(O):new Array(O),Ut=Array.isArray(Lt)?Lt:new Uint8Array(Lt);for(V=0;V<q;V+=4)_e=ha[M.charCodeAt(V)],We=ha[M.charCodeAt(V+1)],xt=ha[M.charCodeAt(V+2)],yt=ha[M.charCodeAt(V+3)],Ut[ye++]=_e<<2|We>>4,Ut[ye++]=(We&15)<<4|xt>>2,Ut[ye++]=(xt&3)<<6|yt&63;return Lt},bn=function(M){for(var O=M.length,q=[],V=0;V<O;V+=2)q.push(M[V+1]<<8|M[V]);return q},Wa=function(M){for(var O=M.length,q=[],V=0;V<O;V+=4)q.push(M[V+3]<<24|M[V+2]<<16|M[V+1]<<8|M[V]);return q},Xr=5,xa=11,ln=2,Zr=xa-Xr,an=65536>>Xr,Gs=1<<Xr,Fn=Gs-1,oi=1024>>Xr,pn=an+oi,Ua=pn,Gi=32,Pi=Ua+Gi,$n=65536>>xa,cn=1<<Zr,li=cn-1,Ws=function(M,O,q){return M.slice?M.slice(O,q):new Uint16Array(Array.prototype.slice.call(M,O,q))},Ya=function(M,O,q){return M.slice?M.slice(O,q):new Uint32Array(Array.prototype.slice.call(M,O,q))},ci=function(M,O){var q=vn(M),V=Array.isArray(q)?Wa(q):new Uint32Array(q),ye=Array.isArray(q)?bn(q):new Uint16Array(q),_e=24,We=Ws(ye,_e/2,V[4]/2),xt=V[5]===2?Ws(ye,(_e+V[4])/2):Ya(V,Math.ceil((_e+V[4])/4));return new xs(V[0],V[1],V[2],V[3],We,xt)},xs=(function(){function M(O,q,V,ye,_e,We){this.initialValue=O,this.errorValue=q,this.highStart=V,this.highValueIndex=ye,this.index=_e,this.data=We}return M.prototype.get=function(O){var q;if(O>=0){if(O<55296||O>56319&&O<=65535)return q=this.index[O>>Xr],q=(q<<ln)+(O&Fn),this.data[q];if(O<=65535)return q=this.index[an+(O-55296>>Xr)],q=(q<<ln)+(O&Fn),this.data[q];if(O<this.highStart)return q=Pi-$n+(O>>xa),q=this.index[q],q+=O>>Xr&li,q=this.index[q],q=(q<<ln)+(O&Fn),this.data[q];if(O<=1114111)return this.data[this.highValueIndex]}return this.errorValue},M})(),Fl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Wo=typeof Uint8Array>"u"?[]:new Uint8Array(256),Cs=0;Cs<Fl.length;Cs++)Wo[Fl.charCodeAt(Cs)]=Cs;var Ld=1,Od=2,kc=3,ac=4,fA=5,xm=7,Dd=8,Li=9,hA=10,AA=11,mA=12,bf=13,Ic=14,Ru=15,xh=function(M){for(var O=[],q=0,V=M.length;q<V;){var ye=M.charCodeAt(q++);if(ye>=55296&&ye<=56319&&q<V){var _e=M.charCodeAt(q++);(_e&64512)===56320?O.push(((ye&1023)<<10)+(_e&1023)+65536):(O.push(ye),q--)}else O.push(ye)}return O},Md=function(){for(var M=[],O=0;O<arguments.length;O++)M[O]=arguments[O];if(String.fromCodePoint)return String.fromCodePoint.apply(String,M);var q=M.length;if(!q)return"";for(var V=[],ye=-1,_e="";++ye<q;){var We=M[ye];We<=65535?V.push(We):(We-=65536,V.push((We>>10)+55296,We%1024+56320)),(ye+1===q||V.length>16384)&&(_e+=String.fromCharCode.apply(String,V),V.length=0)}return _e},Qu=ci(Mr),Ys="",wf="",ym=function(M){return Qu.get(M)},_l=function(M,O,q){var V=q-2,ye=O[V],_e=O[q-1],We=O[q];if(_e===Od&&We===kc)return Ys;if(_e===Od||_e===kc||_e===ac||We===Od||We===kc||We===ac)return wf;if(_e===Dd&&[Dd,Li,AA,mA].indexOf(We)!==-1||(_e===AA||_e===Li)&&(We===Li||We===hA)||(_e===mA||_e===hA)&&We===hA||We===bf||We===fA||We===xm||_e===Ld)return Ys;if(_e===bf&&We===Ic){for(;ye===fA;)ye=O[--V];if(ye===Ic)return Ys}if(_e===Ru&&We===Ru){for(var xt=0;ye===Ru;)xt++,ye=O[--V];if(xt%2===0)return Ys}return wf},Hu=function(M){var O=xh(M),q=O.length,V=0,ye=0,_e=O.map(ym);return{next:function(){if(V>=q)return{done:!0,value:null};for(var We=Ys;V<q&&(We=_l(O,_e,++V))===Ys;);if(We!==Ys||V===q){var xt=Md.apply(null,O.slice(ye,V));return ye=V,{value:xt,done:!1}}return{done:!0,value:null}}}},$u=function(M){for(var O=Hu(M),q=[],V;!(V=O.next()).done;)V.value&&q.push(V.value.slice());return q},Oi=function(M){var O=123;if(M.createRange){var q=M.createRange();if(q.getBoundingClientRect){var V=M.createElement("boundtest");V.style.height=O+"px",V.style.display="block",M.body.appendChild(V),q.selectNode(V);var ye=q.getBoundingClientRect(),_e=Math.round(ye.height);if(M.body.removeChild(V),_e===O)return!0}}return!1},mu=function(M){var O=M.createElement("boundtest");O.style.width="50px",O.style.display="block",O.style.fontSize="12px",O.style.letterSpacing="0px",O.style.wordSpacing="0px",M.body.appendChild(O);var q=M.createRange();O.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var V=O.firstChild,ye=A(V.data).map(function(yt){return m(yt)}),_e=0,We={},xt=ye.every(function(yt,Lt){q.setStart(V,_e),q.setEnd(V,_e+yt.length);var Ut=q.getBoundingClientRect();_e+=yt.length;var zt=Ut.x>We.x||Ut.y>We.y;return We=Ut,Lt===0?!0:zt});return M.body.removeChild(O),xt},yh=function(){return typeof new Image().crossOrigin<"u"},vm=function(){return typeof new XMLHttpRequest().responseType=="string"},vh=function(M){var O=new Image,q=M.createElement("canvas"),V=q.getContext("2d");if(!V)return!1;O.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{V.drawImage(O,0,0),q.toDataURL()}catch{return!1}return!0},ml=function(M){return M[0]===0&&M[1]===255&&M[2]===0&&M[3]===255},bm=function(M){var O=M.createElement("canvas"),q=100;O.width=q,O.height=q;var V=O.getContext("2d");if(!V)return Promise.reject(!1);V.fillStyle="rgb(0, 255, 0)",V.fillRect(0,0,q,q);var ye=new Image,_e=O.toDataURL();ye.src=_e;var We=zu(q,q,0,0,ye);return V.fillStyle="red",V.fillRect(0,0,q,q),bh(We).then(function(xt){V.drawImage(xt,0,0);var yt=V.getImageData(0,0,q,q).data;V.fillStyle="red",V.fillRect(0,0,q,q);var Lt=M.createElement("div");return Lt.style.backgroundImage="url("+_e+")",Lt.style.height=q+"px",ml(yt)?bh(zu(q,q,0,0,Lt)):Promise.reject(!1)}).then(function(xt){return V.drawImage(xt,0,0),ml(V.getImageData(0,0,q,q).data)}).catch(function(){return!1})},zu=function(M,O,q,V,ye){var _e="http://www.w3.org/2000/svg",We=document.createElementNS(_e,"svg"),xt=document.createElementNS(_e,"foreignObject");return We.setAttributeNS(null,"width",M.toString()),We.setAttributeNS(null,"height",O.toString()),xt.setAttributeNS(null,"width","100%"),xt.setAttributeNS(null,"height","100%"),xt.setAttributeNS(null,"x",q.toString()),xt.setAttributeNS(null,"y",V.toString()),xt.setAttributeNS(null,"externalResourcesRequired","true"),We.appendChild(xt),xt.appendChild(ye),We},bh=function(M){return new Promise(function(O,q){var V=new Image;V.onload=function(){return O(V)},V.onerror=q,V.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(M))})},di={get SUPPORT_RANGE_BOUNDS(){var M=Oi(document);return Object.defineProperty(di,"SUPPORT_RANGE_BOUNDS",{value:M}),M},get SUPPORT_WORD_BREAKING(){var M=di.SUPPORT_RANGE_BOUNDS&&mu(document);return Object.defineProperty(di,"SUPPORT_WORD_BREAKING",{value:M}),M},get SUPPORT_SVG_DRAWING(){var M=vh(document);return Object.defineProperty(di,"SUPPORT_SVG_DRAWING",{value:M}),M},get SUPPORT_FOREIGNOBJECT_DRAWING(){var M=typeof Array.from=="function"&&typeof window.fetch=="function"?bm(document):Promise.resolve(!1);return Object.defineProperty(di,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:M}),M},get SUPPORT_CORS_IMAGES(){var M=yh();return Object.defineProperty(di,"SUPPORT_CORS_IMAGES",{value:M}),M},get SUPPORT_RESPONSE_TYPE(){var M=vm();return Object.defineProperty(di,"SUPPORT_RESPONSE_TYPE",{value:M}),M},get SUPPORT_CORS_XHR(){var M="withCredentials"in new XMLHttpRequest;return Object.defineProperty(di,"SUPPORT_CORS_XHR",{value:M}),M},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var M=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(di,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:M}),M}},Vu=(function(){function M(O,q){this.text=O,this.bounds=q}return M})(),nc=function(M,O,q,V){var ye=Ao(O,q),_e=[],We=0;return ye.forEach(function(xt){if(q.textDecorationLine.length||xt.trim().length>0)if(di.SUPPORT_RANGE_BOUNDS){var yt=dd(V,We,xt.length).getClientRects();if(yt.length>1){var Lt=bi(xt),Ut=0;Lt.forEach(function(or){_e.push(new Vu(or,c.fromDOMRectList(M,dd(V,Ut+We,or.length).getClientRects()))),Ut+=or.length})}else _e.push(new Vu(xt,c.fromDOMRectList(M,yt)))}else{var zt=V.splitText(xt.length);_e.push(new Vu(xt,qu(M,V))),V=zt}else di.SUPPORT_RANGE_BOUNDS||(V=V.splitText(xt.length));We+=xt.length}),_e},qu=function(M,O){var q=O.ownerDocument;if(q){var V=q.createElement("html2canvaswrapper");V.appendChild(O.cloneNode(!0));var ye=O.parentNode;if(ye){ye.replaceChild(V,O);var _e=u(M,V);return V.firstChild&&ye.replaceChild(V.firstChild,V),_e}}return c.EMPTY},dd=function(M,O,q){var V=M.ownerDocument;if(!V)throw new Error("Node has no owner document");var ye=V.createRange();return ye.setStart(M,O),ye.setEnd(M,O+q),ye},bi=function(M){if(di.SUPPORT_NATIVE_TEXT_SEGMENTATION){var O=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(O.segment(M)).map(function(q){return q.segment})}return $u(M)},Wi=function(M,O){if(di.SUPPORT_NATIVE_TEXT_SEGMENTATION){var q=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(q.segment(M)).map(function(V){return V.segment})}return pu(M,O)},Ao=function(M,O){return O.letterSpacing!==0?bi(M):Wi(M,O)},Ud=[32,160,4961,65792,65793,4153,4241],pu=function(M,O){for(var q=dr(M,{lineBreak:O.lineBreak,wordBreak:O.overflowWrap==="break-word"?"break-word":O.wordBreak}),V=[],ye,_e=function(){if(ye.value){var We=ye.value.slice(),xt=A(We),yt="";xt.forEach(function(Lt){Ud.indexOf(Lt)===-1?yt+=m(Lt):(yt.length&&V.push(yt),V.push(m(Lt)),yt="")}),yt.length&&V.push(yt)}};!(ye=q.next()).done;)_e();return V},wh=(function(){function M(O,q,V){this.text=wm(q.data,V.textTransform),this.textBounds=nc(O,this.text,V,q)}return M})(),wm=function(M,O){switch(O){case 1:return M.toLowerCase();case 3:return M.replace(Nf,jf);case 2:return M.toUpperCase();default:return M}},Nf=/(^|\s|:|-|\(|\))([a-z])/g,jf=function(M,O,q){return M.length>0?O+q.toUpperCase():M},f1=(function(M){a(O,M);function O(q,V){var ye=M.call(this,q,V)||this;return ye.src=V.currentSrc||V.src,ye.intrinsicWidth=V.naturalWidth,ye.intrinsicHeight=V.naturalHeight,ye.context.cache.addImage(ye.src),ye}return O})(Qr),Nm=(function(M){a(O,M);function O(q,V){var ye=M.call(this,q,V)||this;return ye.canvas=V,ye.intrinsicWidth=V.width,ye.intrinsicHeight=V.height,ye}return O})(Qr),ug=(function(M){a(O,M);function O(q,V){var ye=M.call(this,q,V)||this,_e=new XMLSerializer,We=u(q,V);return V.setAttribute("width",We.width+"px"),V.setAttribute("height",We.height+"px"),ye.svg="data:image/svg+xml,"+encodeURIComponent(_e.serializeToString(V)),ye.intrinsicWidth=V.width.baseVal.value,ye.intrinsicHeight=V.height.baseVal.value,ye.context.cache.addImage(ye.svg),ye}return O})(Qr),R0=(function(M){a(O,M);function O(q,V){var ye=M.call(this,q,V)||this;return ye.value=V.value,ye}return O})(Qr),fg=(function(M){a(O,M);function O(q,V){var ye=M.call(this,q,V)||this;return ye.start=V.start,ye.reversed=typeof V.reversed=="boolean"&&V.reversed===!0,ye}return O})(Qr),w2=[{type:15,flags:0,unit:"px",number:3}],hg=[{type:16,flags:0,number:50}],N2=function(M){return M.width>M.height?new c(M.left+(M.width-M.height)/2,M.top,M.height,M.height):M.width<M.height?new c(M.left,M.top+(M.height-M.width)/2,M.width,M.width):M},j2=function(M){var O=M.type===Q0?new Array(M.value.length+1).join(""):M.value;return O.length===0?M.placeholder||"":O},Ag="checkbox",Sf="radio",Q0="password",H0=707406591,pA=(function(M){a(O,M);function O(q,V){var ye=M.call(this,q,V)||this;switch(ye.type=V.type.toLowerCase(),ye.checked=V.checked,ye.value=j2(V),(ye.type===Ag||ye.type===Sf)&&(ye.styles.backgroundColor=3739148031,ye.styles.borderTopColor=ye.styles.borderRightColor=ye.styles.borderBottomColor=ye.styles.borderLeftColor=2779096575,ye.styles.borderTopWidth=ye.styles.borderRightWidth=ye.styles.borderBottomWidth=ye.styles.borderLeftWidth=1,ye.styles.borderTopStyle=ye.styles.borderRightStyle=ye.styles.borderBottomStyle=ye.styles.borderLeftStyle=1,ye.styles.backgroundClip=[0],ye.styles.backgroundOrigin=[0],ye.bounds=N2(ye.bounds)),ye.type){case Ag:ye.styles.borderTopRightRadius=ye.styles.borderTopLeftRadius=ye.styles.borderBottomRightRadius=ye.styles.borderBottomLeftRadius=w2;break;case Sf:ye.styles.borderTopRightRadius=ye.styles.borderTopLeftRadius=ye.styles.borderBottomRightRadius=ye.styles.borderBottomLeftRadius=hg;break}return ye}return O})(Qr),$0=(function(M){a(O,M);function O(q,V){var ye=M.call(this,q,V)||this,_e=V.options[V.selectedIndex||0];return ye.value=_e&&_e.text||"",ye}return O})(Qr),h1=(function(M){a(O,M);function O(q,V){var ye=M.call(this,q,V)||this;return ye.value=V.value,ye}return O})(Qr),A1=(function(M){a(O,M);function O(q,V){var ye=M.call(this,q,V)||this;ye.src=V.src,ye.width=parseInt(V.width,10)||0,ye.height=parseInt(V.height,10)||0,ye.backgroundColor=ye.styles.backgroundColor;try{if(V.contentWindow&&V.contentWindow.document&&V.contentWindow.document.documentElement){ye.tree=gu(q,V.contentWindow.document.documentElement);var _e=V.contentWindow.document.documentElement?Ks(q,getComputedStyle(V.contentWindow.document.documentElement).backgroundColor):as.TRANSPARENT,We=V.contentWindow.document.body?Ks(q,getComputedStyle(V.contentWindow.document.body).backgroundColor):as.TRANSPARENT;ye.backgroundColor=ms(_e)?ms(We)?ye.styles.backgroundColor:We:_e}}catch{}return ye}return O})(Qr),jm=["OL","UL","MENU"],z0=function(M,O,q,V){for(var ye=O.firstChild,_e=void 0;ye;ye=_e)if(_e=ye.nextSibling,Cf(ye)&&ye.data.trim().length>0)q.textNodes.push(new wh(M,ye,q.styles));else if(Pc(ye))if(B2(ye)&&ye.assignedNodes)ye.assignedNodes().forEach(function(xt){return z0(M,xt,q,V)});else{var We=ud(M,ye);We.styles.isVisible()&&(Nh(ye,We,V)?We.flags|=4:S2(We.styles)&&(We.flags|=2),jm.indexOf(ye.tagName)!==-1&&(We.flags|=8),q.elements.push(We),ye.slot,ye.shadowRoot?z0(M,ye.shadowRoot,We,V):!q0(ye)&&!jh(ye)&&!K0(ye)&&z0(M,ye,We,V))}},ud=function(M,O){return mg(O)?new f1(M,O):g1(O)?new Nm(M,O):jh(O)?new ug(M,O):m1(O)?new R0(M,O):p1(O)?new fg(M,O):C2(O)?new pA(M,O):K0(O)?new $0(M,O):q0(O)?new h1(M,O):V0(O)?new A1(M,O):new Qr(M,O)},gu=function(M,O){var q=ud(M,O);return q.flags|=4,z0(M,O,q,q),q},Nh=function(M,O,q){return O.styles.isPositionedWithZIndex()||O.styles.opacity<1||O.styles.isTransformed()||Sm(M)&&q.styles.isTransparent()},S2=function(M){return M.isPositioned()||M.isFloating()},Cf=function(M){return M.nodeType===Node.TEXT_NODE},Pc=function(M){return M.nodeType===Node.ELEMENT_NODE},Yi=function(M){return Pc(M)&&typeof M.style<"u"&&!gA(M)},gA=function(M){return typeof M.className=="object"},m1=function(M){return M.tagName==="LI"},p1=function(M){return M.tagName==="OL"},C2=function(M){return M.tagName==="INPUT"},E2=function(M){return M.tagName==="HTML"},jh=function(M){return M.tagName==="svg"},Sm=function(M){return M.tagName==="BODY"},g1=function(M){return M.tagName==="CANVAS"},x1=function(M){return M.tagName==="VIDEO"},mg=function(M){return M.tagName==="IMG"},V0=function(M){return M.tagName==="IFRAME"},y1=function(M){return M.tagName==="STYLE"},v1=function(M){return M.tagName==="SCRIPT"},q0=function(M){return M.tagName==="TEXTAREA"},K0=function(M){return M.tagName==="SELECT"},B2=function(M){return M.tagName==="SLOT"},b1=function(M){return M.tagName.indexOf("-")>0},Yo=(function(){function M(){this.counters={}}return M.prototype.getCounterValue=function(O){var q=this.counters[O];return q&&q.length?q[q.length-1]:1},M.prototype.getCounterValues=function(O){var q=this.counters[O];return q||[]},M.prototype.pop=function(O){var q=this;O.forEach(function(V){return q.counters[V].pop()})},M.prototype.parse=function(O){var q=this,V=O.counterIncrement,ye=O.counterReset,_e=!0;V!==null&&V.forEach(function(xt){var yt=q.counters[xt.counter];yt&&xt.increment!==0&&(_e=!1,yt.length||yt.push(1),yt[Math.max(0,yt.length-1)]+=xt.increment)});var We=[];return _e&&ye.forEach(function(xt){var yt=q.counters[xt.counter];We.push(xt.counter),yt||(yt=q.counters[xt.counter]=[]),yt.push(xt.reset)}),We},M})(),Xo={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},w1={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},T2={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},F2={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},xA=function(M,O,q,V,ye,_e){return M<O||M>q?bA(M,ye,_e.length>0):V.integers.reduce(function(We,xt,yt){for(;M>=xt;)M-=xt,We+=V.values[yt];return We},"")+_e},N1=function(M,O,q,V){var ye="";do q||M--,ye=V(M)+ye,M/=O;while(M*O>=O);return ye},ui=function(M,O,q,V,ye){var _e=q-O+1;return(M<0?"-":"")+(N1(Math.abs(M),_e,V,function(We){return m(Math.floor(We%_e)+O)})+ye)},Ef=function(M,O,q){q===void 0&&(q=". ");var V=O.length;return N1(Math.abs(M),V,!1,function(ye){return O[Math.floor(ye%V)]})+q},yA=1,Bf=2,Tf=4,vA=8,xu=function(M,O,q,V,ye,_e){if(M<-9999||M>9999)return bA(M,4,ye.length>0);var We=Math.abs(M),xt=ye;if(We===0)return O[0]+xt;for(var yt=0;We>0&&yt<=4;yt++){var Lt=We%10;Lt===0&&gt(_e,yA)&&xt!==""?xt=O[Lt]+xt:Lt>1||Lt===1&&yt===0||Lt===1&&yt===1&&gt(_e,Bf)||Lt===1&&yt===1&&gt(_e,Tf)&&M>100||Lt===1&&yt>1&&gt(_e,vA)?xt=O[Lt]+(yt>0?q[yt-1]:"")+xt:Lt===1&&yt>0&&(xt=q[yt-1]+xt),We=Math.floor(We/10)}return(M<0?V:"")+xt},pg="",j1="",gg="",Cm="",bA=function(M,O,q){var V=q?". ":"",ye=q?"":"",_e=q?", ":"",We=q?" ":"";switch(O){case 0:return""+We;case 1:return""+We;case 2:return""+We;case 5:var xt=ui(M,48,57,!0,V);return xt.length<4?"0"+xt:xt;case 4:return Ef(M,"",ye);case 6:return xA(M,1,3999,Xo,3,V).toLowerCase();case 7:return xA(M,1,3999,Xo,3,V);case 8:return ui(M,945,969,!1,V);case 9:return ui(M,97,122,!1,V);case 10:return ui(M,65,90,!1,V);case 11:return ui(M,1632,1641,!0,V);case 12:case 49:return xA(M,1,9999,w1,3,V);case 35:return xA(M,1,9999,w1,3,V).toLowerCase();case 13:return ui(M,2534,2543,!0,V);case 14:case 30:return ui(M,6112,6121,!0,V);case 15:return Ef(M,"",ye);case 16:return Ef(M,"",ye);case 17:case 48:return xu(M,"",pg,"",ye,Bf|Tf|vA);case 47:return xu(M,"",j1,"",ye,yA|Bf|Tf|vA);case 42:return xu(M,"",pg,"",ye,Bf|Tf|vA);case 41:return xu(M,"",j1,"",ye,yA|Bf|Tf|vA);case 26:return xu(M,"","",gg,ye,0);case 25:return xu(M,"","",gg,ye,yA|Bf|Tf);case 31:return xu(M,"","",Cm,_e,yA|Bf|Tf);case 33:return xu(M,"","",Cm,_e,0);case 32:return xu(M,"","",Cm,_e,yA|Bf|Tf);case 18:return ui(M,2406,2415,!0,V);case 20:return xA(M,1,19999,F2,3,V);case 21:return ui(M,2790,2799,!0,V);case 22:return ui(M,2662,2671,!0,V);case 22:return xA(M,1,10999,T2,3,V);case 23:return Ef(M,"");case 24:return Ef(M,"");case 27:return ui(M,3302,3311,!0,V);case 28:return Ef(M,"",ye);case 29:return Ef(M,"",ye);case 34:return ui(M,3792,3801,!0,V);case 37:return ui(M,6160,6169,!0,V);case 38:return ui(M,4160,4169,!0,V);case 39:return ui(M,2918,2927,!0,V);case 40:return ui(M,1776,1785,!0,V);case 43:return ui(M,3046,3055,!0,V);case 44:return ui(M,3174,3183,!0,V);case 45:return ui(M,3664,3673,!0,V);case 46:return ui(M,3872,3881,!0,V);case 3:default:return ui(M,48,57,!0,V)}},S1="data-html2canvas-ignore",xg=(function(){function M(O,q,V){if(this.context=O,this.options=V,this.scrolledElements=[],this.referenceElement=q,this.counters=new Yo,this.quoteDepth=0,!q.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(q.ownerDocument.documentElement,!1)}return M.prototype.toIFrame=function(O,q){var V=this,ye=Ff(O,q);if(!ye.contentWindow)return Promise.reject("Unable to find iframe window");var _e=O.defaultView.pageXOffset,We=O.defaultView.pageYOffset,xt=ye.contentWindow,yt=xt.document,Lt=_2(ye).then(function(){return i(V,void 0,void 0,function(){var Ut,zt;return o(this,function(or){switch(or.label){case 0:return this.scrolledElements.forEach(wi),xt&&(xt.scrollTo(q.left,q.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(xt.scrollY!==q.top||xt.scrollX!==q.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(xt.scrollX-q.left,xt.scrollY-q.top,0,0))),Ut=this.options.onclone,zt=this.clonedReferenceElement,typeof zt>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:yt.fonts&&yt.fonts.ready?[4,yt.fonts.ready]:[3,2];case 1:or.sent(),or.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,gN(yt)]:[3,4];case 3:or.sent(),or.label=4;case 4:return typeof Ut=="function"?[2,Promise.resolve().then(function(){return Ut(yt,zt)}).then(function(){return ye})]:[2,ye]}})})});return yt.open(),yt.write(vg(document.doctype)+"<html></html>"),G0(this.referenceElement.ownerDocument,_e,We),yt.replaceChild(yt.adoptNode(this.documentElement),yt.documentElement),yt.close(),Lt},M.prototype.createElementClone=function(O){if(Cr(O,2))debugger;if(g1(O))return this.createCanvasClone(O);if(x1(O))return this.createVideoClone(O);if(y1(O))return this.createStyleClone(O);var q=O.cloneNode(!1);return mg(q)&&(mg(O)&&O.currentSrc&&O.currentSrc!==O.src&&(q.src=O.currentSrc,q.srcset=""),q.loading==="lazy"&&(q.loading="eager")),b1(q)?this.createCustomElementClone(q):q},M.prototype.createCustomElementClone=function(O){var q=document.createElement("html2canvascustomelement");return yg(O.style,q),q},M.prototype.createStyleClone=function(O){try{var q=O.sheet;if(q&&q.cssRules){var V=[].slice.call(q.cssRules,0).reduce(function(_e,We){return We&&typeof We.cssText=="string"?_e+We.cssText:_e},""),ye=O.cloneNode(!1);return ye.textContent=V,ye}}catch(_e){if(this.context.logger.error("Unable to access cssRules property",_e),_e.name!=="SecurityError")throw _e}return O.cloneNode(!1)},M.prototype.createCanvasClone=function(O){var q;if(this.options.inlineImages&&O.ownerDocument){var V=O.ownerDocument.createElement("img");try{return V.src=O.toDataURL(),V}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",O)}}var ye=O.cloneNode(!1);try{ye.width=O.width,ye.height=O.height;var _e=O.getContext("2d"),We=ye.getContext("2d");if(We)if(!this.options.allowTaint&&_e)We.putImageData(_e.getImageData(0,0,O.width,O.height),0,0);else{var xt=(q=O.getContext("webgl2"))!==null&&q!==void 0?q:O.getContext("webgl");if(xt){var yt=xt.getContextAttributes();yt?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",O)}We.drawImage(O,0,0)}return ye}catch{this.context.logger.info("Unable to clone canvas as it is tainted",O)}return ye},M.prototype.createVideoClone=function(O){var q=O.ownerDocument.createElement("canvas");q.width=O.offsetWidth,q.height=O.offsetHeight;var V=q.getContext("2d");try{return V&&(V.drawImage(O,0,0,q.width,q.height),this.options.allowTaint||V.getImageData(0,0,q.width,q.height)),q}catch{this.context.logger.info("Unable to clone video as it is tainted",O)}var ye=O.ownerDocument.createElement("canvas");return ye.width=O.offsetWidth,ye.height=O.offsetHeight,ye},M.prototype.appendChildNode=function(O,q,V){(!Pc(q)||!v1(q)&&!q.hasAttribute(S1)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(q)))&&(!this.options.copyStyles||!Pc(q)||!y1(q))&&O.appendChild(this.cloneNode(q,V))},M.prototype.cloneChildNodes=function(O,q,V){for(var ye=this,_e=O.shadowRoot?O.shadowRoot.firstChild:O.firstChild;_e;_e=_e.nextSibling)if(Pc(_e)&&B2(_e)&&typeof _e.assignedNodes=="function"){var We=_e.assignedNodes();We.length&&We.forEach(function(xt){return ye.appendChildNode(q,xt,V)})}else this.appendChildNode(q,_e,V)},M.prototype.cloneNode=function(O,q){if(Cf(O))return document.createTextNode(O.data);if(!O.ownerDocument)return O.cloneNode(!1);var V=O.ownerDocument.defaultView;if(V&&Pc(O)&&(Yi(O)||gA(O))){var ye=this.createElementClone(O);ye.style.transitionProperty="none";var _e=V.getComputedStyle(O),We=V.getComputedStyle(O,":before"),xt=V.getComputedStyle(O,":after");this.referenceElement===O&&Yi(ye)&&(this.clonedReferenceElement=ye),Sm(ye)&&k2(ye);var yt=this.counters.parse(new kr(this.context,_e)),Lt=this.resolvePseudoContent(O,ye,We,Em.BEFORE);b1(O)&&(q=!0),x1(O)||this.cloneChildNodes(O,ye,q),Lt&&ye.insertBefore(Lt,ye.firstChild);var Ut=this.resolvePseudoContent(O,ye,xt,Em.AFTER);return Ut&&ye.appendChild(Ut),this.counters.pop(yt),(_e&&(this.options.copyStyles||gA(O))&&!V0(O)||q)&&yg(_e,ye),(O.scrollTop!==0||O.scrollLeft!==0)&&this.scrolledElements.push([ye,O.scrollLeft,O.scrollTop]),(q0(O)||K0(O))&&(q0(ye)||K0(ye))&&(ye.value=O.value),ye}return O.cloneNode(!1)},M.prototype.resolvePseudoContent=function(O,q,V,ye){var _e=this;if(V){var We=V.content,xt=q.ownerDocument;if(!(!xt||!We||We==="none"||We==="-moz-alt-content"||V.display==="none")){this.counters.parse(new kr(this.context,V));var yt=new ja(this.context,V),Lt=xt.createElement("html2canvaspseudoelement");yg(V,Lt),yt.content.forEach(function(zt){if(zt.type===0)Lt.appendChild(xt.createTextNode(zt.value));else if(zt.type===22){var or=xt.createElement("img");or.src=zt.value,or.style.opacity="1",Lt.appendChild(or)}else if(zt.type===18){if(zt.name==="attr"){var Lr=zt.values.filter(ia);Lr.length&&Lt.appendChild(xt.createTextNode(O.getAttribute(Lr[0].value)||""))}else if(zt.name==="counter"){var Br=zt.values.filter(Va),_r=Br[0],Za=Br[1];if(_r&&ia(_r)){var ea=_e.counters.getCounterValue(_r.value),Gr=Za&&ia(Za)?_c.parse(_e.context,Za.value):3;Lt.appendChild(xt.createTextNode(bA(ea,Gr,!1)))}}else if(zt.name==="counters"){var dn=zt.values.filter(Va),_r=dn[0],Xa=dn[1],Za=dn[2];if(_r&&ia(_r)){var Fa=_e.counters.getCounterValues(_r.value),Ur=Za&&ia(Za)?_c.parse(_e.context,Za.value):3,Sn=Xa&&Xa.type===0?Xa.value:"",Cn=Fa.map(function(Il){return bA(Il,Ur,!1)}).join(Sn);Lt.appendChild(xt.createTextNode(Cn))}}}else if(zt.type===20)switch(zt.value){case"open-quote":Lt.appendChild(xt.createTextNode(Tt(yt.quotes,_e.quoteDepth++,!0)));break;case"close-quote":Lt.appendChild(xt.createTextNode(Tt(yt.quotes,--_e.quoteDepth,!1)));break;default:Lt.appendChild(xt.createTextNode(zt.value))}}),Lt.className=bg+" "+wA;var Ut=ye===Em.BEFORE?" "+bg:" "+wA;return gA(q)?q.className.baseValue+=Ut:q.className+=Ut,Lt}}},M.destroy=function(O){return O.parentNode?(O.parentNode.removeChild(O),!0):!1},M})(),Em;(function(M){M[M.BEFORE=0]="BEFORE",M[M.AFTER=1]="AFTER"})(Em||(Em={}));var Ff=function(M,O){var q=M.createElement("iframe");return q.className="html2canvas-container",q.style.visibility="hidden",q.style.position="fixed",q.style.left="-10000px",q.style.top="0px",q.style.border="0",q.width=O.width.toString(),q.height=O.height.toString(),q.scrolling="no",q.setAttribute(S1,"true"),M.body.appendChild(q),q},C1=function(M){return new Promise(function(O){if(M.complete){O();return}if(!M.src){O();return}M.onload=O,M.onerror=O})},gN=function(M){return Promise.all([].slice.call(M.images,0).map(C1))},_2=function(M){return new Promise(function(O,q){var V=M.contentWindow;if(!V)return q("No window assigned for iframe");var ye=V.document;V.onload=M.onload=function(){V.onload=M.onload=null;var _e=setInterval(function(){ye.body.childNodes.length>0&&ye.readyState==="complete"&&(clearInterval(_e),O(M))},50)}})},_f=["all","d","content"],yg=function(M,O){for(var q=M.length-1;q>=0;q--){var V=M.item(q);_f.indexOf(V)===-1&&O.style.setProperty(V,M.getPropertyValue(V))}return O},vg=function(M){var O="";return M&&(O+="<!DOCTYPE ",M.name&&(O+=M.name),M.internalSubset&&(O+=M.internalSubset),M.publicId&&(O+='"'+M.publicId+'"'),M.systemId&&(O+='"'+M.systemId+'"'),O+=">"),O},G0=function(M,O,q){M&&M.defaultView&&(O!==M.defaultView.pageXOffset||q!==M.defaultView.pageYOffset)&&M.defaultView.scrollTo(O,q)},wi=function(M){var O=M[0],q=M[1],V=M[2];O.scrollLeft=q,O.scrollTop=V},xN=":before",yN=":after",bg="___html2canvas___pseudoelement_before",wA="___html2canvas___pseudoelement_after",kf=`{
    content: "" !important;
    display: none !important;
}`,k2=function(M){I2(M,"."+bg+xN+kf+`
         .`+wA+yN+kf)},I2=function(M,O){var q=M.ownerDocument;if(q){var V=q.createElement("style");V.textContent=O,M.appendChild(V)}},Bm=(function(){function M(){}return M.getOrigin=function(O){var q=M._link;return q?(q.href=O,q.href=q.href,q.protocol+q.hostname+q.port):"about:blank"},M.isSameOrigin=function(O){return M.getOrigin(O)===M._origin},M.setContext=function(O){M._link=O.document.createElement("a"),M._origin=M.getOrigin(O.location.href)},M._origin="about:blank",M})(),Ku=(function(){function M(O,q){this.context=O,this._options=q,this._cache={}}return M.prototype.addImage=function(O){var q=Promise.resolve();return this.has(O)||(Ng(O)||B1(O))&&(this._cache[O]=this.loadImage(O)).catch(function(){}),q},M.prototype.match=function(O){return this._cache[O]},M.prototype.loadImage=function(O){return i(this,void 0,void 0,function(){var q,V,ye,_e,We=this;return o(this,function(xt){switch(xt.label){case 0:return q=Bm.isSameOrigin(O),V=!W0(O)&&this._options.useCORS===!0&&di.SUPPORT_CORS_IMAGES&&!q,ye=!W0(O)&&!q&&!Ng(O)&&typeof this._options.proxy=="string"&&di.SUPPORT_CORS_XHR&&!V,!q&&this._options.allowTaint===!1&&!W0(O)&&!Ng(O)&&!ye&&!V?[2]:(_e=O,ye?[4,this.proxy(_e)]:[3,2]);case 1:_e=xt.sent(),xt.label=2;case 2:return this.context.logger.debug("Added image "+O.substring(0,256)),[4,new Promise(function(yt,Lt){var Ut=new Image;Ut.onload=function(){return yt(Ut)},Ut.onerror=Lt,(wg(_e)||V)&&(Ut.crossOrigin="anonymous"),Ut.src=_e,Ut.complete===!0&&setTimeout(function(){return yt(Ut)},500),We._options.imageTimeout>0&&setTimeout(function(){return Lt("Timed out ("+We._options.imageTimeout+"ms) loading image")},We._options.imageTimeout)})];case 3:return[2,xt.sent()]}})})},M.prototype.has=function(O){return typeof this._cache[O]<"u"},M.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},M.prototype.proxy=function(O){var q=this,V=this._options.proxy;if(!V)throw new Error("No proxy defined");var ye=O.substring(0,256);return new Promise(function(_e,We){var xt=di.SUPPORT_RESPONSE_TYPE?"blob":"text",yt=new XMLHttpRequest;yt.onload=function(){if(yt.status===200)if(xt==="text")_e(yt.response);else{var zt=new FileReader;zt.addEventListener("load",function(){return _e(zt.result)},!1),zt.addEventListener("error",function(or){return We(or)},!1),zt.readAsDataURL(yt.response)}else We("Failed to proxy resource "+ye+" with status code "+yt.status)},yt.onerror=We;var Lt=V.indexOf("?")>-1?"&":"?";if(yt.open("GET",""+V+Lt+"url="+encodeURIComponent(O)+"&responseType="+xt),xt!=="text"&&yt instanceof XMLHttpRequest&&(yt.responseType=xt),q._options.imageTimeout){var Ut=q._options.imageTimeout;yt.timeout=Ut,yt.ontimeout=function(){return We("Timed out ("+Ut+"ms) proxying "+ye)}}yt.send()})},M})(),P2=/^data:image\/svg\+xml/i,E1=/^data:image\/.*;base64,/i,L2=/^data:image\/.*/i,B1=function(M){return di.SUPPORT_SVG_DRAWING||!If(M)},W0=function(M){return L2.test(M)},wg=function(M){return E1.test(M)},Ng=function(M){return M.substr(0,4)==="blob"},If=function(M){return M.substr(-3).toLowerCase()==="svg"||P2.test(M)},Er=(function(){function M(O,q){this.type=0,this.x=O,this.y=q}return M.prototype.add=function(O,q){return new M(this.x+O,this.y+q)},M})(),Sh=function(M,O,q){return new Er(M.x+(O.x-M.x)*q,M.y+(O.y-M.y)*q)},Y0=(function(){function M(O,q,V,ye){this.type=1,this.start=O,this.startControl=q,this.endControl=V,this.end=ye}return M.prototype.subdivide=function(O,q){var V=Sh(this.start,this.startControl,O),ye=Sh(this.startControl,this.endControl,O),_e=Sh(this.endControl,this.end,O),We=Sh(V,ye,O),xt=Sh(ye,_e,O),yt=Sh(We,xt,O);return q?new M(this.start,V,We,yt):new M(yt,xt,_e,this.end)},M.prototype.add=function(O,q){return new M(this.start.add(O,q),this.startControl.add(O,q),this.endControl.add(O,q),this.end.add(O,q))},M.prototype.reverse=function(){return new M(this.end,this.endControl,this.startControl,this.start)},M})(),is=function(M){return M.type===1},vN=(function(){function M(O){var q=O.styles,V=O.bounds,ye=kn(q.borderTopLeftRadius,V.width,V.height),_e=ye[0],We=ye[1],xt=kn(q.borderTopRightRadius,V.width,V.height),yt=xt[0],Lt=xt[1],Ut=kn(q.borderBottomRightRadius,V.width,V.height),zt=Ut[0],or=Ut[1],Lr=kn(q.borderBottomLeftRadius,V.width,V.height),Br=Lr[0],_r=Lr[1],Za=[];Za.push((_e+yt)/V.width),Za.push((Br+zt)/V.width),Za.push((We+_r)/V.height),Za.push((Lt+or)/V.height);var ea=Math.max.apply(Math,Za);ea>1&&(_e/=ea,We/=ea,yt/=ea,Lt/=ea,zt/=ea,or/=ea,Br/=ea,_r/=ea);var Gr=V.width-yt,dn=V.height-or,Xa=V.width-zt,Fa=V.height-_r,Ur=q.borderTopWidth,Sn=q.borderRightWidth,Cn=q.borderBottomWidth,La=q.borderLeftWidth,Mi=Ta(q.paddingTop,O.bounds.width),Il=Ta(q.paddingRight,O.bounds.width),Ad=Ta(q.paddingBottom,O.bounds.width),ys=Ta(q.paddingLeft,O.bounds.width);this.topLeftBorderDoubleOuterBox=_e>0||We>0?Xs(V.left+La/3,V.top+Ur/3,_e-La/3,We-Ur/3,zn.TOP_LEFT):new Er(V.left+La/3,V.top+Ur/3),this.topRightBorderDoubleOuterBox=_e>0||We>0?Xs(V.left+Gr,V.top+Ur/3,yt-Sn/3,Lt-Ur/3,zn.TOP_RIGHT):new Er(V.left+V.width-Sn/3,V.top+Ur/3),this.bottomRightBorderDoubleOuterBox=zt>0||or>0?Xs(V.left+Xa,V.top+dn,zt-Sn/3,or-Cn/3,zn.BOTTOM_RIGHT):new Er(V.left+V.width-Sn/3,V.top+V.height-Cn/3),this.bottomLeftBorderDoubleOuterBox=Br>0||_r>0?Xs(V.left+La/3,V.top+Fa,Br-La/3,_r-Cn/3,zn.BOTTOM_LEFT):new Er(V.left+La/3,V.top+V.height-Cn/3),this.topLeftBorderDoubleInnerBox=_e>0||We>0?Xs(V.left+La*2/3,V.top+Ur*2/3,_e-La*2/3,We-Ur*2/3,zn.TOP_LEFT):new Er(V.left+La*2/3,V.top+Ur*2/3),this.topRightBorderDoubleInnerBox=_e>0||We>0?Xs(V.left+Gr,V.top+Ur*2/3,yt-Sn*2/3,Lt-Ur*2/3,zn.TOP_RIGHT):new Er(V.left+V.width-Sn*2/3,V.top+Ur*2/3),this.bottomRightBorderDoubleInnerBox=zt>0||or>0?Xs(V.left+Xa,V.top+dn,zt-Sn*2/3,or-Cn*2/3,zn.BOTTOM_RIGHT):new Er(V.left+V.width-Sn*2/3,V.top+V.height-Cn*2/3),this.bottomLeftBorderDoubleInnerBox=Br>0||_r>0?Xs(V.left+La*2/3,V.top+Fa,Br-La*2/3,_r-Cn*2/3,zn.BOTTOM_LEFT):new Er(V.left+La*2/3,V.top+V.height-Cn*2/3),this.topLeftBorderStroke=_e>0||We>0?Xs(V.left+La/2,V.top+Ur/2,_e-La/2,We-Ur/2,zn.TOP_LEFT):new Er(V.left+La/2,V.top+Ur/2),this.topRightBorderStroke=_e>0||We>0?Xs(V.left+Gr,V.top+Ur/2,yt-Sn/2,Lt-Ur/2,zn.TOP_RIGHT):new Er(V.left+V.width-Sn/2,V.top+Ur/2),this.bottomRightBorderStroke=zt>0||or>0?Xs(V.left+Xa,V.top+dn,zt-Sn/2,or-Cn/2,zn.BOTTOM_RIGHT):new Er(V.left+V.width-Sn/2,V.top+V.height-Cn/2),this.bottomLeftBorderStroke=Br>0||_r>0?Xs(V.left+La/2,V.top+Fa,Br-La/2,_r-Cn/2,zn.BOTTOM_LEFT):new Er(V.left+La/2,V.top+V.height-Cn/2),this.topLeftBorderBox=_e>0||We>0?Xs(V.left,V.top,_e,We,zn.TOP_LEFT):new Er(V.left,V.top),this.topRightBorderBox=yt>0||Lt>0?Xs(V.left+Gr,V.top,yt,Lt,zn.TOP_RIGHT):new Er(V.left+V.width,V.top),this.bottomRightBorderBox=zt>0||or>0?Xs(V.left+Xa,V.top+dn,zt,or,zn.BOTTOM_RIGHT):new Er(V.left+V.width,V.top+V.height),this.bottomLeftBorderBox=Br>0||_r>0?Xs(V.left,V.top+Fa,Br,_r,zn.BOTTOM_LEFT):new Er(V.left,V.top+V.height),this.topLeftPaddingBox=_e>0||We>0?Xs(V.left+La,V.top+Ur,Math.max(0,_e-La),Math.max(0,We-Ur),zn.TOP_LEFT):new Er(V.left+La,V.top+Ur),this.topRightPaddingBox=yt>0||Lt>0?Xs(V.left+Math.min(Gr,V.width-Sn),V.top+Ur,Gr>V.width+Sn?0:Math.max(0,yt-Sn),Math.max(0,Lt-Ur),zn.TOP_RIGHT):new Er(V.left+V.width-Sn,V.top+Ur),this.bottomRightPaddingBox=zt>0||or>0?Xs(V.left+Math.min(Xa,V.width-La),V.top+Math.min(dn,V.height-Cn),Math.max(0,zt-Sn),Math.max(0,or-Cn),zn.BOTTOM_RIGHT):new Er(V.left+V.width-Sn,V.top+V.height-Cn),this.bottomLeftPaddingBox=Br>0||_r>0?Xs(V.left+La,V.top+Math.min(Fa,V.height-Cn),Math.max(0,Br-La),Math.max(0,_r-Cn),zn.BOTTOM_LEFT):new Er(V.left+La,V.top+V.height-Cn),this.topLeftContentBox=_e>0||We>0?Xs(V.left+La+ys,V.top+Ur+Mi,Math.max(0,_e-(La+ys)),Math.max(0,We-(Ur+Mi)),zn.TOP_LEFT):new Er(V.left+La+ys,V.top+Ur+Mi),this.topRightContentBox=yt>0||Lt>0?Xs(V.left+Math.min(Gr,V.width+La+ys),V.top+Ur+Mi,Gr>V.width+La+ys?0:yt-La+ys,Lt-(Ur+Mi),zn.TOP_RIGHT):new Er(V.left+V.width-(Sn+Il),V.top+Ur+Mi),this.bottomRightContentBox=zt>0||or>0?Xs(V.left+Math.min(Xa,V.width-(La+ys)),V.top+Math.min(dn,V.height+Ur+Mi),Math.max(0,zt-(Sn+Il)),or-(Cn+Ad),zn.BOTTOM_RIGHT):new Er(V.left+V.width-(Sn+Il),V.top+V.height-(Cn+Ad)),this.bottomLeftContentBox=Br>0||_r>0?Xs(V.left+La+ys,V.top+Fa,Math.max(0,Br-(La+ys)),_r-(Cn+Ad),zn.BOTTOM_LEFT):new Er(V.left+La+ys,V.top+V.height-(Cn+Ad))}return M})(),zn;(function(M){M[M.TOP_LEFT=0]="TOP_LEFT",M[M.TOP_RIGHT=1]="TOP_RIGHT",M[M.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",M[M.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(zn||(zn={}));var Xs=function(M,O,q,V,ye){var _e=4*((Math.sqrt(2)-1)/3),We=q*_e,xt=V*_e,yt=M+q,Lt=O+V;switch(ye){case zn.TOP_LEFT:return new Y0(new Er(M,Lt),new Er(M,Lt-xt),new Er(yt-We,O),new Er(yt,O));case zn.TOP_RIGHT:return new Y0(new Er(M,O),new Er(M+We,O),new Er(yt,Lt-xt),new Er(yt,Lt));case zn.BOTTOM_RIGHT:return new Y0(new Er(yt,O),new Er(yt,O+xt),new Er(M+We,Lt),new Er(M,Lt));case zn.BOTTOM_LEFT:default:return new Y0(new Er(yt,Lt),new Er(yt-We,Lt),new Er(M,O+xt),new Er(M,O))}},Es=function(M){return[M.topLeftBorderBox,M.topRightBorderBox,M.bottomRightBorderBox,M.bottomLeftBorderBox]},Lc=function(M){return[M.topLeftContentBox,M.topRightContentBox,M.bottomRightContentBox,M.bottomLeftContentBox]},Rd=function(M){return[M.topLeftPaddingBox,M.topRightPaddingBox,M.bottomRightPaddingBox,M.bottomLeftPaddingBox]},O2=(function(){function M(O,q,V){this.offsetX=O,this.offsetY=q,this.matrix=V,this.type=0,this.target=6}return M})(),X0=(function(){function M(O,q){this.path=O,this.target=q,this.type=1}return M})(),bN=(function(){function M(O){this.opacity=O,this.type=2,this.target=6}return M})(),T1=function(M){return M.type===0},Oc=function(M){return M.type===1},yu=function(M){return M.type===2},F1=function(M,O){return M.length===O.length?M.some(function(q,V){return q===O[V]}):!1},fd=function(M,O,q,V,ye){return M.map(function(_e,We){switch(We){case 0:return _e.add(O,q);case 1:return _e.add(O+V,q);case 2:return _e.add(O+V,q+ye);case 3:return _e.add(O,q+ye)}return _e})},_1=(function(){function M(O){this.element=O,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return M})(),Pf=(function(){function M(O,q){if(this.container=O,this.parent=q,this.effects=[],this.curves=new vN(this.container),this.container.styles.opacity<1&&this.effects.push(new bN(this.container.styles.opacity)),this.container.styles.transform!==null){var V=this.container.bounds.left+this.container.styles.transformOrigin[0].number,ye=this.container.bounds.top+this.container.styles.transformOrigin[1].number,_e=this.container.styles.transform;this.effects.push(new O2(V,ye,_e))}if(this.container.styles.overflowX!==0){var We=Es(this.curves),xt=Rd(this.curves);F1(We,xt)?this.effects.push(new X0(We,6)):(this.effects.push(new X0(We,2)),this.effects.push(new X0(xt,4)))}}return M.prototype.getEffects=function(O){for(var q=[2,3].indexOf(this.container.styles.position)===-1,V=this.parent,ye=this.effects.slice(0);V;){var _e=V.effects.filter(function(yt){return!Oc(yt)});if(q||V.container.styles.position!==0||!V.parent){if(ye.unshift.apply(ye,_e),q=[2,3].indexOf(V.container.styles.position)===-1,V.container.styles.overflowX!==0){var We=Es(V.curves),xt=Rd(V.curves);F1(We,xt)||ye.unshift(new X0(xt,6))}}else ye.unshift.apply(ye,_e);V=V.parent}return ye.filter(function(yt){return gt(yt.target,O)})},M})(),Lf=function(M,O,q,V){M.container.elements.forEach(function(ye){var _e=gt(ye.flags,4),We=gt(ye.flags,2),xt=new Pf(ye,M);gt(ye.styles.display,2048)&&V.push(xt);var yt=gt(ye.flags,8)?[]:V;if(_e||We){var Lt=_e||ye.styles.isPositioned()?q:O,Ut=new _1(xt);if(ye.styles.isPositioned()||ye.styles.opacity<1||ye.styles.isTransformed()){var zt=ye.styles.zIndex.order;if(zt<0){var or=0;Lt.negativeZIndex.some(function(Br,_r){return zt>Br.element.container.styles.zIndex.order?(or=_r,!1):or>0}),Lt.negativeZIndex.splice(or,0,Ut)}else if(zt>0){var Lr=0;Lt.positiveZIndex.some(function(Br,_r){return zt>=Br.element.container.styles.zIndex.order?(Lr=_r+1,!1):Lr>0}),Lt.positiveZIndex.splice(Lr,0,Ut)}else Lt.zeroOrAutoZIndexOrTransformedOrOpacity.push(Ut)}else ye.styles.isFloating()?Lt.nonPositionedFloats.push(Ut):Lt.nonPositionedInlineLevel.push(Ut);Lf(xt,Ut,_e?Ut:q,yt)}else ye.styles.isInlineLevel()?O.inlineLevel.push(xt):O.nonInlineLevel.push(xt),Lf(xt,O,q,yt);gt(ye.flags,8)&&Of(ye,yt)})},Of=function(M,O){for(var q=M instanceof fg?M.start:1,V=M instanceof fg?M.reversed:!1,ye=0;ye<O.length;ye++){var _e=O[ye];_e.container instanceof R0&&typeof _e.container.value=="number"&&_e.container.value!==0&&(q=_e.container.value),_e.listValue=bA(q,_e.container.styles.listStyleType,!0),q+=V?-1:1}},k1=function(M){var O=new Pf(M,null),q=new _1(O),V=[];return Lf(O,q,q,V),Of(O.container,V),q},jg=function(M,O){switch(O){case 0:return kl(M.topLeftBorderBox,M.topLeftPaddingBox,M.topRightBorderBox,M.topRightPaddingBox);case 1:return kl(M.topRightBorderBox,M.topRightPaddingBox,M.bottomRightBorderBox,M.bottomRightPaddingBox);case 2:return kl(M.bottomRightBorderBox,M.bottomRightPaddingBox,M.bottomLeftBorderBox,M.bottomLeftPaddingBox);case 3:default:return kl(M.bottomLeftBorderBox,M.bottomLeftPaddingBox,M.topLeftBorderBox,M.topLeftPaddingBox)}},Gu=function(M,O){switch(O){case 0:return kl(M.topLeftBorderBox,M.topLeftBorderDoubleOuterBox,M.topRightBorderBox,M.topRightBorderDoubleOuterBox);case 1:return kl(M.topRightBorderBox,M.topRightBorderDoubleOuterBox,M.bottomRightBorderBox,M.bottomRightBorderDoubleOuterBox);case 2:return kl(M.bottomRightBorderBox,M.bottomRightBorderDoubleOuterBox,M.bottomLeftBorderBox,M.bottomLeftBorderDoubleOuterBox);case 3:default:return kl(M.bottomLeftBorderBox,M.bottomLeftBorderDoubleOuterBox,M.topLeftBorderBox,M.topLeftBorderDoubleOuterBox)}},D2=function(M,O){switch(O){case 0:return kl(M.topLeftBorderDoubleInnerBox,M.topLeftPaddingBox,M.topRightBorderDoubleInnerBox,M.topRightPaddingBox);case 1:return kl(M.topRightBorderDoubleInnerBox,M.topRightPaddingBox,M.bottomRightBorderDoubleInnerBox,M.bottomRightPaddingBox);case 2:return kl(M.bottomRightBorderDoubleInnerBox,M.bottomRightPaddingBox,M.bottomLeftBorderDoubleInnerBox,M.bottomLeftPaddingBox);case 3:default:return kl(M.bottomLeftBorderDoubleInnerBox,M.bottomLeftPaddingBox,M.topLeftBorderDoubleInnerBox,M.topLeftPaddingBox)}},Tm=function(M,O){switch(O){case 0:return Ch(M.topLeftBorderStroke,M.topRightBorderStroke);case 1:return Ch(M.topRightBorderStroke,M.bottomRightBorderStroke);case 2:return Ch(M.bottomRightBorderStroke,M.bottomLeftBorderStroke);case 3:default:return Ch(M.bottomLeftBorderStroke,M.topLeftBorderStroke)}},Ch=function(M,O){var q=[];return is(M)?q.push(M.subdivide(.5,!1)):q.push(M),is(O)?q.push(O.subdivide(.5,!0)):q.push(O),q},kl=function(M,O,q,V){var ye=[];return is(M)?ye.push(M.subdivide(.5,!1)):ye.push(M),is(q)?ye.push(q.subdivide(.5,!0)):ye.push(q),is(V)?ye.push(V.subdivide(.5,!0).reverse()):ye.push(V),is(O)?ye.push(O.subdivide(.5,!1).reverse()):ye.push(O),ye},NA=function(M){var O=M.bounds,q=M.styles;return O.add(q.borderLeftWidth,q.borderTopWidth,-(q.borderRightWidth+q.borderLeftWidth),-(q.borderTopWidth+q.borderBottomWidth))},J0=function(M){var O=M.styles,q=M.bounds,V=Ta(O.paddingLeft,q.width),ye=Ta(O.paddingRight,q.width),_e=Ta(O.paddingTop,q.width),We=Ta(O.paddingBottom,q.width);return q.add(V+O.borderLeftWidth,_e+O.borderTopWidth,-(O.borderRightWidth+O.borderLeftWidth+V+ye),-(O.borderTopWidth+O.borderBottomWidth+_e+We))},M2=function(M,O){return M===0?O.bounds:M===2?J0(O):NA(O)},Z0=function(M,O){return M===0?O.bounds:M===2?J0(O):NA(O)},Sg=function(M,O,q){var V=M2(Fm(M.styles.backgroundOrigin,O),M),ye=Z0(Fm(M.styles.backgroundClip,O),M),_e=wN(Fm(M.styles.backgroundSize,O),q,V),We=_e[0],xt=_e[1],yt=kn(Fm(M.styles.backgroundPosition,O),V.width-We,V.height-xt),Lt=os(Fm(M.styles.backgroundRepeat,O),yt,_e,V,ye),Ut=Math.round(V.left+yt[0]),zt=Math.round(V.top+yt[1]);return[Lt,Ut,zt,We,xt]},Df=function(M){return ia(M)&&M.value===fo.AUTO},ep=function(M){return typeof M=="number"},wN=function(M,O,q){var V=O[0],ye=O[1],_e=O[2],We=M[0],xt=M[1];if(!We)return[0,0];if(qa(We)&&xt&&qa(xt))return[Ta(We,q.width),Ta(xt,q.height)];var yt=ep(_e);if(ia(We)&&(We.value===fo.CONTAIN||We.value===fo.COVER)){if(ep(_e)){var Lt=q.width/q.height;return Lt<_e!=(We.value===fo.COVER)?[q.width,q.width/_e]:[q.height*_e,q.height]}return[q.width,q.height]}var Ut=ep(V),zt=ep(ye),or=Ut||zt;if(Df(We)&&(!xt||Df(xt))){if(Ut&&zt)return[V,ye];if(!yt&&!or)return[q.width,q.height];if(or&&yt){var Lr=Ut?V:ye*_e,Br=zt?ye:V/_e;return[Lr,Br]}var _r=Ut?V:q.width,Za=zt?ye:q.height;return[_r,Za]}if(yt){var ea=0,Gr=0;return qa(We)?ea=Ta(We,q.width):qa(xt)&&(Gr=Ta(xt,q.height)),Df(We)?ea=Gr*_e:(!xt||Df(xt))&&(Gr=ea/_e),[ea,Gr]}var dn=null,Xa=null;if(qa(We)?dn=Ta(We,q.width):xt&&qa(xt)&&(Xa=Ta(xt,q.height)),dn!==null&&(!xt||Df(xt))&&(Xa=Ut&&zt?dn/V*ye:q.height),Xa!==null&&Df(We)&&(dn=Ut&&zt?Xa/ye*V:q.width),dn!==null&&Xa!==null)return[dn,Xa];throw new Error("Unable to calculate background-size for element")},Fm=function(M,O){var q=M[O];return typeof q>"u"?M[0]:q},os=function(M,O,q,V,ye){var _e=O[0],We=O[1],xt=q[0],yt=q[1];switch(M){case 2:return[new Er(Math.round(V.left),Math.round(V.top+We)),new Er(Math.round(V.left+V.width),Math.round(V.top+We)),new Er(Math.round(V.left+V.width),Math.round(yt+V.top+We)),new Er(Math.round(V.left),Math.round(yt+V.top+We))];case 3:return[new Er(Math.round(V.left+_e),Math.round(V.top)),new Er(Math.round(V.left+_e+xt),Math.round(V.top)),new Er(Math.round(V.left+_e+xt),Math.round(V.height+V.top)),new Er(Math.round(V.left+_e),Math.round(V.height+V.top))];case 1:return[new Er(Math.round(V.left+_e),Math.round(V.top+We)),new Er(Math.round(V.left+_e+xt),Math.round(V.top+We)),new Er(Math.round(V.left+_e+xt),Math.round(V.top+We+yt)),new Er(Math.round(V.left+_e),Math.round(V.top+We+yt))];default:return[new Er(Math.round(ye.left),Math.round(ye.top)),new Er(Math.round(ye.left+ye.width),Math.round(ye.top)),new Er(Math.round(ye.left+ye.width),Math.round(ye.height+ye.top)),new Er(Math.round(ye.left),Math.round(ye.height+ye.top))]}},Rs="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",gn="Hidden Text",_n=(function(){function M(O){this._data={},this._document=O}return M.prototype.parseMetrics=function(O,q){var V=this._document.createElement("div"),ye=this._document.createElement("img"),_e=this._document.createElement("span"),We=this._document.body;V.style.visibility="hidden",V.style.fontFamily=O,V.style.fontSize=q,V.style.margin="0",V.style.padding="0",V.style.whiteSpace="nowrap",We.appendChild(V),ye.src=Rs,ye.width=1,ye.height=1,ye.style.margin="0",ye.style.padding="0",ye.style.verticalAlign="baseline",_e.style.fontFamily=O,_e.style.fontSize=q,_e.style.margin="0",_e.style.padding="0",_e.appendChild(this._document.createTextNode(gn)),V.appendChild(_e),V.appendChild(ye);var xt=ye.offsetTop-_e.offsetTop+2;V.removeChild(_e),V.appendChild(this._document.createTextNode(gn)),V.style.lineHeight="normal",ye.style.verticalAlign="super";var yt=ye.offsetTop-V.offsetTop+2;return We.removeChild(V),{baseline:xt,middle:yt}},M.prototype.getMetrics=function(O,q){var V=O+" "+q;return typeof this._data[V]>"u"&&(this._data[V]=this.parseMetrics(O,q)),this._data[V]},M})(),Gn=(function(){function M(O,q){this.context=O,this.options=q}return M})(),hd=1e4,Eh=(function(M){a(O,M);function O(q,V){var ye=M.call(this,q,V)||this;return ye._activeEffects=[],ye.canvas=V.canvas?V.canvas:document.createElement("canvas"),ye.ctx=ye.canvas.getContext("2d"),V.canvas||(ye.canvas.width=Math.floor(V.width*V.scale),ye.canvas.height=Math.floor(V.height*V.scale),ye.canvas.style.width=V.width+"px",ye.canvas.style.height=V.height+"px"),ye.fontMetrics=new _n(document),ye.ctx.scale(ye.options.scale,ye.options.scale),ye.ctx.translate(-V.x,-V.y),ye.ctx.textBaseline="bottom",ye._activeEffects=[],ye.context.logger.debug("Canvas renderer initialized ("+V.width+"x"+V.height+") with scale "+V.scale),ye}return O.prototype.applyEffects=function(q){for(var V=this;this._activeEffects.length;)this.popEffect();q.forEach(function(ye){return V.applyEffect(ye)})},O.prototype.applyEffect=function(q){this.ctx.save(),yu(q)&&(this.ctx.globalAlpha=q.opacity),T1(q)&&(this.ctx.translate(q.offsetX,q.offsetY),this.ctx.transform(q.matrix[0],q.matrix[1],q.matrix[2],q.matrix[3],q.matrix[4],q.matrix[5]),this.ctx.translate(-q.offsetX,-q.offsetY)),Oc(q)&&(this.path(q.path),this.ctx.clip()),this._activeEffects.push(q)},O.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},O.prototype.renderStack=function(q){return i(this,void 0,void 0,function(){var V;return o(this,function(ye){switch(ye.label){case 0:return V=q.element.container.styles,V.isVisible()?[4,this.renderStackContent(q)]:[3,2];case 1:ye.sent(),ye.label=2;case 2:return[2]}})})},O.prototype.renderNode=function(q){return i(this,void 0,void 0,function(){return o(this,function(V){switch(V.label){case 0:if(gt(q.container.flags,16))debugger;return q.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(q)]:[3,3];case 1:return V.sent(),[4,this.renderNodeContent(q)];case 2:V.sent(),V.label=3;case 3:return[2]}})})},O.prototype.renderTextWithLetterSpacing=function(q,V,ye){var _e=this;if(V===0)this.ctx.fillText(q.text,q.bounds.left,q.bounds.top+ye);else{var We=bi(q.text);We.reduce(function(xt,yt){return _e.ctx.fillText(yt,xt,q.bounds.top+ye),xt+_e.ctx.measureText(yt).width},q.bounds.left)}},O.prototype.createFontStyle=function(q){var V=q.fontVariant.filter(function(We){return We==="normal"||We==="small-caps"}).join(""),ye=Bh(q.fontFamily).join(", "),_e=An(q.fontSize)?""+q.fontSize.number+q.fontSize.unit:q.fontSize.number+"px";return[[q.fontStyle,V,q.fontWeight,_e,ye].join(" "),ye,_e]},O.prototype.renderTextNode=function(q,V){return i(this,void 0,void 0,function(){var ye,_e,We,xt,yt,Lt,Ut,zt,or=this;return o(this,function(Lr){return ye=this.createFontStyle(V),_e=ye[0],We=ye[1],xt=ye[2],this.ctx.font=_e,this.ctx.direction=V.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",yt=this.fontMetrics.getMetrics(We,xt),Lt=yt.baseline,Ut=yt.middle,zt=V.paintOrder,q.textBounds.forEach(function(Br){zt.forEach(function(_r){switch(_r){case 0:or.ctx.fillStyle=qn(V.color),or.renderTextWithLetterSpacing(Br,V.letterSpacing,Lt);var Za=V.textShadow;Za.length&&Br.text.trim().length&&(Za.slice(0).reverse().forEach(function(ea){or.ctx.shadowColor=qn(ea.color),or.ctx.shadowOffsetX=ea.offsetX.number*or.options.scale,or.ctx.shadowOffsetY=ea.offsetY.number*or.options.scale,or.ctx.shadowBlur=ea.blur.number,or.renderTextWithLetterSpacing(Br,V.letterSpacing,Lt)}),or.ctx.shadowColor="",or.ctx.shadowOffsetX=0,or.ctx.shadowOffsetY=0,or.ctx.shadowBlur=0),V.textDecorationLine.length&&(or.ctx.fillStyle=qn(V.textDecorationColor||V.color),V.textDecorationLine.forEach(function(ea){switch(ea){case 1:or.ctx.fillRect(Br.bounds.left,Math.round(Br.bounds.top+Lt),Br.bounds.width,1);break;case 2:or.ctx.fillRect(Br.bounds.left,Math.round(Br.bounds.top),Br.bounds.width,1);break;case 3:or.ctx.fillRect(Br.bounds.left,Math.ceil(Br.bounds.top+Ut),Br.bounds.width,1);break}}));break;case 1:V.webkitTextStrokeWidth&&Br.text.trim().length&&(or.ctx.strokeStyle=qn(V.webkitTextStrokeColor),or.ctx.lineWidth=V.webkitTextStrokeWidth,or.ctx.lineJoin=window.chrome?"miter":"round",or.ctx.strokeText(Br.text,Br.bounds.left,Br.bounds.top+Lt)),or.ctx.strokeStyle="",or.ctx.lineWidth=0,or.ctx.lineJoin="miter";break}})}),[2]})})},O.prototype.renderReplacedElement=function(q,V,ye){if(ye&&q.intrinsicWidth>0&&q.intrinsicHeight>0){var _e=J0(q),We=Rd(V);this.path(We),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(ye,0,0,q.intrinsicWidth,q.intrinsicHeight,_e.left,_e.top,_e.width,_e.height),this.ctx.restore()}},O.prototype.renderNodeContent=function(q){return i(this,void 0,void 0,function(){var V,ye,_e,We,xt,yt,Gr,Gr,Lt,Ut,zt,or,Xa,Lr,Br,Fa,_r,Za,ea,Gr,dn,Xa,Fa;return o(this,function(Ur){switch(Ur.label){case 0:this.applyEffects(q.getEffects(4)),V=q.container,ye=q.curves,_e=V.styles,We=0,xt=V.textNodes,Ur.label=1;case 1:return We<xt.length?(yt=xt[We],[4,this.renderTextNode(yt,_e)]):[3,4];case 2:Ur.sent(),Ur.label=3;case 3:return We++,[3,1];case 4:if(!(V instanceof f1))return[3,8];Ur.label=5;case 5:return Ur.trys.push([5,7,,8]),[4,this.context.cache.match(V.src)];case 6:return Gr=Ur.sent(),this.renderReplacedElement(V,ye,Gr),[3,8];case 7:return Ur.sent(),this.context.logger.error("Error loading image "+V.src),[3,8];case 8:if(V instanceof Nm&&this.renderReplacedElement(V,ye,V.canvas),!(V instanceof ug))return[3,12];Ur.label=9;case 9:return Ur.trys.push([9,11,,12]),[4,this.context.cache.match(V.svg)];case 10:return Gr=Ur.sent(),this.renderReplacedElement(V,ye,Gr),[3,12];case 11:return Ur.sent(),this.context.logger.error("Error loading svg "+V.svg.substring(0,255)),[3,12];case 12:return V instanceof A1&&V.tree?(Lt=new O(this.context,{scale:this.options.scale,backgroundColor:V.backgroundColor,x:0,y:0,width:V.width,height:V.height}),[4,Lt.render(V.tree)]):[3,14];case 13:Ut=Ur.sent(),V.width&&V.height&&this.ctx.drawImage(Ut,0,0,V.width,V.height,V.bounds.left,V.bounds.top,V.bounds.width,V.bounds.height),Ur.label=14;case 14:if(V instanceof pA&&(zt=Math.min(V.bounds.width,V.bounds.height),V.type===Ag?V.checked&&(this.ctx.save(),this.path([new Er(V.bounds.left+zt*.39363,V.bounds.top+zt*.79),new Er(V.bounds.left+zt*.16,V.bounds.top+zt*.5549),new Er(V.bounds.left+zt*.27347,V.bounds.top+zt*.44071),new Er(V.bounds.left+zt*.39694,V.bounds.top+zt*.5649),new Er(V.bounds.left+zt*.72983,V.bounds.top+zt*.23),new Er(V.bounds.left+zt*.84,V.bounds.top+zt*.34085),new Er(V.bounds.left+zt*.39363,V.bounds.top+zt*.79)]),this.ctx.fillStyle=qn(H0),this.ctx.fill(),this.ctx.restore()):V.type===Sf&&V.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(V.bounds.left+zt/2,V.bounds.top+zt/2,zt/4,0,Math.PI*2,!0),this.ctx.fillStyle=qn(H0),this.ctx.fill(),this.ctx.restore())),_m(V)&&V.value.length){switch(or=this.createFontStyle(_e),Xa=or[0],Lr=or[1],Br=this.fontMetrics.getMetrics(Xa,Lr).baseline,this.ctx.font=Xa,this.ctx.fillStyle=qn(_e.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Mf(V.styles.textAlign),Fa=J0(V),_r=0,V.styles.textAlign){case 1:_r+=Fa.width/2;break;case 2:_r+=Fa.width;break}Za=Fa.add(_r,0,0,-Fa.height/2+1),this.ctx.save(),this.path([new Er(Fa.left,Fa.top),new Er(Fa.left+Fa.width,Fa.top),new Er(Fa.left+Fa.width,Fa.top+Fa.height),new Er(Fa.left,Fa.top+Fa.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Vu(V.value,Za),_e.letterSpacing,Br),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!gt(V.styles.display,2048))return[3,20];if(V.styles.listStyleImage===null)return[3,19];if(ea=V.styles.listStyleImage,ea.type!==0)return[3,18];Gr=void 0,dn=ea.url,Ur.label=15;case 15:return Ur.trys.push([15,17,,18]),[4,this.context.cache.match(dn)];case 16:return Gr=Ur.sent(),this.ctx.drawImage(Gr,V.bounds.left-(Gr.width+10),V.bounds.top),[3,18];case 17:return Ur.sent(),this.context.logger.error("Error loading list-style-image "+dn),[3,18];case 18:return[3,20];case 19:q.listValue&&V.styles.listStyleType!==-1&&(Xa=this.createFontStyle(_e)[0],this.ctx.font=Xa,this.ctx.fillStyle=qn(_e.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",Fa=new c(V.bounds.left,V.bounds.top+Ta(V.styles.paddingTop,V.bounds.width),V.bounds.width,Ii(_e.lineHeight,_e.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Vu(q.listValue,Fa),_e.letterSpacing,Ii(_e.lineHeight,_e.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),Ur.label=20;case 20:return[2]}})})},O.prototype.renderStackContent=function(q){return i(this,void 0,void 0,function(){var V,ye,ea,_e,We,ea,xt,yt,ea,Lt,Ut,ea,zt,or,ea,Lr,Br,ea,_r,Za,ea;return o(this,function(Gr){switch(Gr.label){case 0:if(gt(q.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(q.element)];case 1:Gr.sent(),V=0,ye=q.negativeZIndex,Gr.label=2;case 2:return V<ye.length?(ea=ye[V],[4,this.renderStack(ea)]):[3,5];case 3:Gr.sent(),Gr.label=4;case 4:return V++,[3,2];case 5:return[4,this.renderNodeContent(q.element)];case 6:Gr.sent(),_e=0,We=q.nonInlineLevel,Gr.label=7;case 7:return _e<We.length?(ea=We[_e],[4,this.renderNode(ea)]):[3,10];case 8:Gr.sent(),Gr.label=9;case 9:return _e++,[3,7];case 10:xt=0,yt=q.nonPositionedFloats,Gr.label=11;case 11:return xt<yt.length?(ea=yt[xt],[4,this.renderStack(ea)]):[3,14];case 12:Gr.sent(),Gr.label=13;case 13:return xt++,[3,11];case 14:Lt=0,Ut=q.nonPositionedInlineLevel,Gr.label=15;case 15:return Lt<Ut.length?(ea=Ut[Lt],[4,this.renderStack(ea)]):[3,18];case 16:Gr.sent(),Gr.label=17;case 17:return Lt++,[3,15];case 18:zt=0,or=q.inlineLevel,Gr.label=19;case 19:return zt<or.length?(ea=or[zt],[4,this.renderNode(ea)]):[3,22];case 20:Gr.sent(),Gr.label=21;case 21:return zt++,[3,19];case 22:Lr=0,Br=q.zeroOrAutoZIndexOrTransformedOrOpacity,Gr.label=23;case 23:return Lr<Br.length?(ea=Br[Lr],[4,this.renderStack(ea)]):[3,26];case 24:Gr.sent(),Gr.label=25;case 25:return Lr++,[3,23];case 26:_r=0,Za=q.positiveZIndex,Gr.label=27;case 27:return _r<Za.length?(ea=Za[_r],[4,this.renderStack(ea)]):[3,30];case 28:Gr.sent(),Gr.label=29;case 29:return _r++,[3,27];case 30:return[2]}})})},O.prototype.mask=function(q){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(q.slice(0).reverse()),this.ctx.closePath()},O.prototype.path=function(q){this.ctx.beginPath(),this.formatPath(q),this.ctx.closePath()},O.prototype.formatPath=function(q){var V=this;q.forEach(function(ye,_e){var We=is(ye)?ye.start:ye;_e===0?V.ctx.moveTo(We.x,We.y):V.ctx.lineTo(We.x,We.y),is(ye)&&V.ctx.bezierCurveTo(ye.startControl.x,ye.startControl.y,ye.endControl.x,ye.endControl.y,ye.end.x,ye.end.y)})},O.prototype.renderRepeat=function(q,V,ye,_e){this.path(q),this.ctx.fillStyle=V,this.ctx.translate(ye,_e),this.ctx.fill(),this.ctx.translate(-ye,-_e)},O.prototype.resizeImage=function(q,V,ye){var _e;if(q.width===V&&q.height===ye)return q;var We=(_e=this.canvas.ownerDocument)!==null&&_e!==void 0?_e:document,xt=We.createElement("canvas");xt.width=Math.max(1,V),xt.height=Math.max(1,ye);var yt=xt.getContext("2d");return yt.drawImage(q,0,0,q.width,q.height,0,0,V,ye),xt},O.prototype.renderBackgroundImage=function(q){return i(this,void 0,void 0,function(){var V,ye,_e,We,xt,yt;return o(this,function(Lt){switch(Lt.label){case 0:V=q.styles.backgroundImage.length-1,ye=function(Ut){var zt,or,Lr,Mi,sc,Co,ys,pl,Cn,Br,Mi,sc,Co,ys,pl,_r,Za,ea,Gr,dn,Xa,Fa,Ur,Sn,Cn,La,Mi,Il,Ad,ys,pl,Uf,sc,Co,Wu,vu,Rf,Th,Fh,Yu,_h,Hd;return o(this,function(SA){switch(SA.label){case 0:if(Ut.type!==0)return[3,5];zt=void 0,or=Ut.url,SA.label=1;case 1:return SA.trys.push([1,3,,4]),[4,_e.context.cache.match(or)];case 2:return zt=SA.sent(),[3,4];case 3:return SA.sent(),_e.context.logger.error("Error loading background-image "+or),[3,4];case 4:return zt&&(Lr=Sg(q,V,[zt.width,zt.height,zt.width/zt.height]),Mi=Lr[0],sc=Lr[1],Co=Lr[2],ys=Lr[3],pl=Lr[4],Cn=_e.ctx.createPattern(_e.resizeImage(zt,ys,pl),"repeat"),_e.renderRepeat(Mi,Cn,sc,Co)),[3,6];case 5:hl(Ut)?(Br=Sg(q,V,[null,null,null]),Mi=Br[0],sc=Br[1],Co=Br[2],ys=Br[3],pl=Br[4],_r=Qn(Ut.angle,ys,pl),Za=_r[0],ea=_r[1],Gr=_r[2],dn=_r[3],Xa=_r[4],Fa=document.createElement("canvas"),Fa.width=ys,Fa.height=pl,Ur=Fa.getContext("2d"),Sn=Ur.createLinearGradient(ea,dn,Gr,Xa),pa(Ut.stops,Za).forEach(function(Im){return Sn.addColorStop(Im.stop,qn(Im.color))}),Ur.fillStyle=Sn,Ur.fillRect(0,0,ys,pl),ys>0&&pl>0&&(Cn=_e.ctx.createPattern(Fa,"repeat"),_e.renderRepeat(Mi,Cn,sc,Co))):sd(Ut)&&(La=Sg(q,V,[null,null,null]),Mi=La[0],Il=La[1],Ad=La[2],ys=La[3],pl=La[4],Uf=Ut.position.length===0?[jl]:Ut.position,sc=Ta(Uf[0],ys),Co=Ta(Uf[Uf.length-1],pl),Wu=Sl(Ut,sc,Co,ys,pl),vu=Wu[0],Rf=Wu[1],vu>0&&Rf>0&&(Th=_e.ctx.createRadialGradient(Il+sc,Ad+Co,0,Il+sc,Ad+Co,vu),pa(Ut.stops,vu*2).forEach(function(Im){return Th.addColorStop(Im.stop,qn(Im.color))}),_e.path(Mi),_e.ctx.fillStyle=Th,vu!==Rf?(Fh=q.bounds.left+.5*q.bounds.width,Yu=q.bounds.top+.5*q.bounds.height,_h=Rf/vu,Hd=1/_h,_e.ctx.save(),_e.ctx.translate(Fh,Yu),_e.ctx.transform(1,0,0,_h,0,0),_e.ctx.translate(-Fh,-Yu),_e.ctx.fillRect(Il,Hd*(Ad-Yu)+Yu,ys,pl*Hd),_e.ctx.restore()):_e.ctx.fill())),SA.label=6;case 6:return V--,[2]}})},_e=this,We=0,xt=q.styles.backgroundImage.slice(0).reverse(),Lt.label=1;case 1:return We<xt.length?(yt=xt[We],[5,ye(yt)]):[3,4];case 2:Lt.sent(),Lt.label=3;case 3:return We++,[3,1];case 4:return[2]}})})},O.prototype.renderSolidBorder=function(q,V,ye){return i(this,void 0,void 0,function(){return o(this,function(_e){return this.path(jg(ye,V)),this.ctx.fillStyle=qn(q),this.ctx.fill(),[2]})})},O.prototype.renderDoubleBorder=function(q,V,ye,_e){return i(this,void 0,void 0,function(){var We,xt;return o(this,function(yt){switch(yt.label){case 0:return V<3?[4,this.renderSolidBorder(q,ye,_e)]:[3,2];case 1:return yt.sent(),[2];case 2:return We=Gu(_e,ye),this.path(We),this.ctx.fillStyle=qn(q),this.ctx.fill(),xt=D2(_e,ye),this.path(xt),this.ctx.fill(),[2]}})})},O.prototype.renderNodeBackgroundAndBorders=function(q){return i(this,void 0,void 0,function(){var V,ye,_e,We,xt,yt,Lt,Ut,zt=this;return o(this,function(or){switch(or.label){case 0:return this.applyEffects(q.getEffects(2)),V=q.container.styles,ye=!ms(V.backgroundColor)||V.backgroundImage.length,_e=[{style:V.borderTopStyle,color:V.borderTopColor,width:V.borderTopWidth},{style:V.borderRightStyle,color:V.borderRightColor,width:V.borderRightWidth},{style:V.borderBottomStyle,color:V.borderBottomColor,width:V.borderBottomWidth},{style:V.borderLeftStyle,color:V.borderLeftColor,width:V.borderLeftWidth}],We=I1(Fm(V.backgroundClip,0),q.curves),ye||V.boxShadow.length?(this.ctx.save(),this.path(We),this.ctx.clip(),ms(V.backgroundColor)||(this.ctx.fillStyle=qn(V.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(q.container)]):[3,2];case 1:or.sent(),this.ctx.restore(),V.boxShadow.slice(0).reverse().forEach(function(Lr){zt.ctx.save();var Br=Es(q.curves),_r=Lr.inset?0:hd,Za=fd(Br,-_r+(Lr.inset?1:-1)*Lr.spread.number,(Lr.inset?1:-1)*Lr.spread.number,Lr.spread.number*(Lr.inset?-2:2),Lr.spread.number*(Lr.inset?-2:2));Lr.inset?(zt.path(Br),zt.ctx.clip(),zt.mask(Za)):(zt.mask(Br),zt.ctx.clip(),zt.path(Za)),zt.ctx.shadowOffsetX=Lr.offsetX.number+_r,zt.ctx.shadowOffsetY=Lr.offsetY.number,zt.ctx.shadowColor=qn(Lr.color),zt.ctx.shadowBlur=Lr.blur.number,zt.ctx.fillStyle=Lr.inset?qn(Lr.color):"rgba(0,0,0,1)",zt.ctx.fill(),zt.ctx.restore()}),or.label=2;case 2:xt=0,yt=0,Lt=_e,or.label=3;case 3:return yt<Lt.length?(Ut=Lt[yt],Ut.style!==0&&!ms(Ut.color)&&Ut.width>0?Ut.style!==2?[3,5]:[4,this.renderDashedDottedBorder(Ut.color,Ut.width,xt,q.curves,2)]:[3,11]):[3,13];case 4:return or.sent(),[3,11];case 5:return Ut.style!==3?[3,7]:[4,this.renderDashedDottedBorder(Ut.color,Ut.width,xt,q.curves,3)];case 6:return or.sent(),[3,11];case 7:return Ut.style!==4?[3,9]:[4,this.renderDoubleBorder(Ut.color,Ut.width,xt,q.curves)];case 8:return or.sent(),[3,11];case 9:return[4,this.renderSolidBorder(Ut.color,xt,q.curves)];case 10:or.sent(),or.label=11;case 11:xt++,or.label=12;case 12:return yt++,[3,3];case 13:return[2]}})})},O.prototype.renderDashedDottedBorder=function(q,V,ye,_e,We){return i(this,void 0,void 0,function(){var xt,yt,Lt,Ut,zt,or,Lr,Br,_r,Za,ea,Gr,dn,Xa,Fa,Ur,Fa,Ur;return o(this,function(Sn){return this.ctx.save(),xt=Tm(_e,ye),yt=jg(_e,ye),We===2&&(this.path(yt),this.ctx.clip()),is(yt[0])?(Lt=yt[0].start.x,Ut=yt[0].start.y):(Lt=yt[0].x,Ut=yt[0].y),is(yt[1])?(zt=yt[1].end.x,or=yt[1].end.y):(zt=yt[1].x,or=yt[1].y),ye===0||ye===2?Lr=Math.abs(Lt-zt):Lr=Math.abs(Ut-or),this.ctx.beginPath(),We===3?this.formatPath(xt):this.formatPath(yt.slice(0,2)),Br=V<3?V*3:V*2,_r=V<3?V*2:V,We===3&&(Br=V,_r=V),Za=!0,Lr<=Br*2?Za=!1:Lr<=Br*2+_r?(ea=Lr/(2*Br+_r),Br*=ea,_r*=ea):(Gr=Math.floor((Lr+_r)/(Br+_r)),dn=(Lr-Gr*Br)/(Gr-1),Xa=(Lr-(Gr+1)*Br)/Gr,_r=Xa<=0||Math.abs(_r-dn)<Math.abs(_r-Xa)?dn:Xa),Za&&(We===3?this.ctx.setLineDash([0,Br+_r]):this.ctx.setLineDash([Br,_r])),We===3?(this.ctx.lineCap="round",this.ctx.lineWidth=V):this.ctx.lineWidth=V*2+1.1,this.ctx.strokeStyle=qn(q),this.ctx.stroke(),this.ctx.setLineDash([]),We===2&&(is(yt[0])&&(Fa=yt[3],Ur=yt[0],this.ctx.beginPath(),this.formatPath([new Er(Fa.end.x,Fa.end.y),new Er(Ur.start.x,Ur.start.y)]),this.ctx.stroke()),is(yt[1])&&(Fa=yt[1],Ur=yt[2],this.ctx.beginPath(),this.formatPath([new Er(Fa.end.x,Fa.end.y),new Er(Ur.start.x,Ur.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},O.prototype.render=function(q){return i(this,void 0,void 0,function(){var V;return o(this,function(ye){switch(ye.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=qn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),V=k1(q),[4,this.renderStack(V)];case 1:return ye.sent(),this.applyEffects([]),[2,this.canvas]}})})},O})(Gn),_m=function(M){return M instanceof h1||M instanceof $0?!0:M instanceof pA&&M.type!==Sf&&M.type!==Ag},I1=function(M,O){switch(M){case 0:return Es(O);case 2:return Lc(O);case 1:default:return Rd(O)}},Mf=function(M){switch(M){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Di=["-apple-system","system-ui"],Bh=function(M){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?M.filter(function(O){return Di.indexOf(O)===-1}):M},jA=(function(M){a(O,M);function O(q,V){var ye=M.call(this,q,V)||this;return ye.canvas=V.canvas?V.canvas:document.createElement("canvas"),ye.ctx=ye.canvas.getContext("2d"),ye.options=V,ye.canvas.width=Math.floor(V.width*V.scale),ye.canvas.height=Math.floor(V.height*V.scale),ye.canvas.style.width=V.width+"px",ye.canvas.style.height=V.height+"px",ye.ctx.scale(ye.options.scale,ye.options.scale),ye.ctx.translate(-V.x,-V.y),ye.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+V.width+"x"+V.height+" at "+V.x+","+V.y+") with scale "+V.scale),ye}return O.prototype.render=function(q){return i(this,void 0,void 0,function(){var V,ye;return o(this,function(_e){switch(_e.label){case 0:return V=zu(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,q),[4,P1(V)];case 1:return ye=_e.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=qn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(ye,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},O})(Gn),P1=function(M){return new Promise(function(O,q){var V=new Image;V.onload=function(){O(V)},V.onerror=q,V.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(M))})},Qd=(function(){function M(O){var q=O.id,V=O.enabled;this.id=q,this.enabled=V,this.start=Date.now()}return M.prototype.debug=function(){for(var O=[],q=0;q<arguments.length;q++)O[q]=arguments[q];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,l([this.id,this.getTime()+"ms"],O)):this.info.apply(this,O))},M.prototype.getTime=function(){return Date.now()-this.start},M.prototype.info=function(){for(var O=[],q=0;q<arguments.length;q++)O[q]=arguments[q];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,l([this.id,this.getTime()+"ms"],O))},M.prototype.warn=function(){for(var O=[],q=0;q<arguments.length;q++)O[q]=arguments[q];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,l([this.id,this.getTime()+"ms"],O)):this.info.apply(this,O))},M.prototype.error=function(){for(var O=[],q=0;q<arguments.length;q++)O[q]=arguments[q];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,l([this.id,this.getTime()+"ms"],O)):this.info.apply(this,O))},M.instances={},M})(),km=(function(){function M(O,q){var V;this.windowBounds=q,this.instanceName="#"+M.instanceCount++,this.logger=new Qd({id:this.instanceName,enabled:O.logging}),this.cache=(V=O.cache)!==null&&V!==void 0?V:new Ku(this,O)}return M.instanceCount=1,M})(),tp=function(M,O){return O===void 0&&(O={}),Dc(M,O)};typeof window<"u"&&Bm.setContext(window);var Dc=function(M,O){return i(void 0,void 0,void 0,function(){var q,V,ye,_e,We,xt,yt,Lt,Ut,zt,or,Lr,Br,_r,Za,ea,Gr,dn,Xa,Fa,Sn,Ur,Sn,Cn,La,Mi,Il,Ad,ys,pl,Uf,sc,Co,Wu,vu,Rf,Th,Fh,Yu,_h;return o(this,function(Hd){switch(Hd.label){case 0:if(!M||typeof M!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(q=M.ownerDocument,!q)throw new Error("Element is not attached to a Document");if(V=q.defaultView,!V)throw new Error("Document is not attached to a Window");return ye={allowTaint:(Cn=O.allowTaint)!==null&&Cn!==void 0?Cn:!1,imageTimeout:(La=O.imageTimeout)!==null&&La!==void 0?La:15e3,proxy:O.proxy,useCORS:(Mi=O.useCORS)!==null&&Mi!==void 0?Mi:!1},_e=s({logging:(Il=O.logging)!==null&&Il!==void 0?Il:!0,cache:O.cache},ye),We={windowWidth:(Ad=O.windowWidth)!==null&&Ad!==void 0?Ad:V.innerWidth,windowHeight:(ys=O.windowHeight)!==null&&ys!==void 0?ys:V.innerHeight,scrollX:(pl=O.scrollX)!==null&&pl!==void 0?pl:V.pageXOffset,scrollY:(Uf=O.scrollY)!==null&&Uf!==void 0?Uf:V.pageYOffset},xt=new c(We.scrollX,We.scrollY,We.windowWidth,We.windowHeight),yt=new km(_e,xt),Lt=(sc=O.foreignObjectRendering)!==null&&sc!==void 0?sc:!1,Ut={allowTaint:(Co=O.allowTaint)!==null&&Co!==void 0?Co:!1,onclone:O.onclone,ignoreElements:O.ignoreElements,inlineImages:Lt,copyStyles:Lt},yt.logger.debug("Starting document clone with size "+xt.width+"x"+xt.height+" scrolled to "+-xt.left+","+-xt.top),zt=new xg(yt,M,Ut),or=zt.clonedReferenceElement,or?[4,zt.toIFrame(q,xt)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return Lr=Hd.sent(),Br=Sm(or)||E2(or)?d(or.ownerDocument):u(yt,or),_r=Br.width,Za=Br.height,ea=Br.left,Gr=Br.top,dn=L1(yt,or,O.backgroundColor),Xa={canvas:O.canvas,backgroundColor:dn,scale:(vu=(Wu=O.scale)!==null&&Wu!==void 0?Wu:V.devicePixelRatio)!==null&&vu!==void 0?vu:1,x:((Rf=O.x)!==null&&Rf!==void 0?Rf:0)+ea,y:((Th=O.y)!==null&&Th!==void 0?Th:0)+Gr,width:(Fh=O.width)!==null&&Fh!==void 0?Fh:Math.ceil(_r),height:(Yu=O.height)!==null&&Yu!==void 0?Yu:Math.ceil(Za)},Lt?(yt.logger.debug("Document cloned, using foreign object rendering"),Sn=new jA(yt,Xa),[4,Sn.render(or)]):[3,3];case 2:return Fa=Hd.sent(),[3,5];case 3:return yt.logger.debug("Document cloned, element located at "+ea+","+Gr+" with size "+_r+"x"+Za+" using computed rendering"),yt.logger.debug("Starting DOM parsing"),Ur=gu(yt,or),dn===Ur.styles.backgroundColor&&(Ur.styles.backgroundColor=as.TRANSPARENT),yt.logger.debug("Starting renderer for element at "+Xa.x+","+Xa.y+" with size "+Xa.width+"x"+Xa.height),Sn=new Eh(yt,Xa),[4,Sn.render(Ur)];case 4:Fa=Hd.sent(),Hd.label=5;case 5:return(!((_h=O.removeContainer)!==null&&_h!==void 0)||_h)&&(xg.destroy(Lr)||yt.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),yt.logger.debug("Finished rendering"),[2,Fa]}})})},L1=function(M,O,q){var V=O.ownerDocument,ye=V.documentElement?Ks(M,getComputedStyle(V.documentElement).backgroundColor):as.TRANSPARENT,_e=V.body?Ks(M,getComputedStyle(V.body).backgroundColor):as.TRANSPARENT,We=typeof q=="string"?Ks(M,q):q===null?as.TRANSPARENT:4294967295;return O===V.documentElement?ms(ye)?ms(_e)?We:_e:ye:We};return tp}))})(pw)),pw.exports}/*!
 * html2pdf.js v0.10.3
 * Copyright (c) 2025 Erik Koopmans
 * Released under the MIT License.
 */var A7;function rge(){return A7||(A7=1,(function(e,t){(function(a,s){e.exports=s(Zpe,tge())})(self,function(r,a){return(function(){var s={"./src/plugin/hyperlinks.js":(function(c,u,d){d.r(u),d("./node_modules/core-js/modules/web.dom-collections.for-each.js"),d("./node_modules/core-js/modules/es.string.link.js");var A=d("./src/worker.js"),m=d("./src/utils.js"),h=[],y={toContainer:A.default.prototype.toContainer,toPdf:A.default.prototype.toPdf};A.default.prototype.toContainer=function(){return y.toContainer.call(this).then(function(){if(this.opt.enableLinks){var b=this.prop.container,j=b.querySelectorAll("a"),C=(0,m.unitConvert)(b.getBoundingClientRect(),this.prop.pageSize.k);h=[],Array.prototype.forEach.call(j,function(E){for(var k=E.getClientRects(),D=0;D<k.length;D++){var L=(0,m.unitConvert)(k[D],this.prop.pageSize.k);L.left-=C.left,L.top-=C.top;var F=Math.floor(L.top/this.prop.pageSize.inner.height)+1,Q=this.opt.margin[0]+L.top%this.prop.pageSize.inner.height,U=this.opt.margin[1]+L.left;h.push({page:F,top:Q,left:U,clientRect:L,link:E})}},this)}})},A.default.prototype.toPdf=function(){return y.toPdf.call(this).then(function(){if(this.opt.enableLinks){h.forEach(function(j){this.prop.pdf.setPage(j.page),this.prop.pdf.link(j.left,j.top,j.clientRect.width,j.clientRect.height,{url:j.link.href})},this);var b=this.prop.pdf.internal.getNumberOfPages();this.prop.pdf.setPage(b)}})}}),"./src/plugin/jspdf-plugin.js":(function(c,u,d){d.r(u),d("./node_modules/core-js/modules/es.symbol.js"),d("./node_modules/core-js/modules/es.symbol.description.js"),d("./node_modules/core-js/modules/es.object.to-string.js"),d("./node_modules/core-js/modules/es.symbol.iterator.js"),d("./node_modules/core-js/modules/es.array.iterator.js"),d("./node_modules/core-js/modules/es.string.iterator.js"),d("./node_modules/core-js/modules/web.dom-collections.iterator.js");var A=d("jspdf");function m(h){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?m=function(x){return typeof x}:m=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},m(h)}A.jsPDF.getPageSize=function(h,y,x){if(m(h)==="object"){var v=h;h=v.orientation,y=v.unit||y,x=v.format||x}y=y||"mm",x=x||"a4",h=(""+(h||"P")).toLowerCase();var b=(""+x).toLowerCase(),j={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(y){case"pt":var C=1;break;case"mm":var C=72/25.4;break;case"cm":var C=72/2.54;break;case"in":var C=72;break;case"px":var C=72/96;break;case"pc":var C=12;break;case"em":var C=12;break;case"ex":var C=6;break;default:throw"Invalid unit: "+y}if(j.hasOwnProperty(b))var E=j[b][1]/C,k=j[b][0]/C;else try{var E=x[1],k=x[0]}catch{throw new Error("Invalid format: "+x)}if(h==="p"||h==="portrait"){if(h="p",k>E){var D=k;k=E,E=D}}else if(h==="l"||h==="landscape"){if(h="l",E>k){var D=k;k=E,E=D}}else throw"Invalid orientation: "+h;var L={width:k,height:E,unit:y,k:C};return L},u.default=A.jsPDF}),"./src/plugin/pagebreaks.js":(function(c,u,d){d.r(u),d("./node_modules/core-js/modules/es.array.concat.js"),d("./node_modules/core-js/modules/es.array.slice.js"),d("./node_modules/core-js/modules/es.array.join.js"),d("./node_modules/core-js/modules/web.dom-collections.for-each.js"),d("./node_modules/core-js/modules/es.object.keys.js");var A=d("./src/worker.js"),m=d("./src/utils.js"),h={toContainer:A.default.prototype.toContainer};A.default.template.opt.pagebreak={mode:["css","legacy"],before:[],after:[],avoid:[]},A.default.prototype.toContainer=function(){return h.toContainer.call(this).then(function(){var v=this.prop.container,b=this.prop.pageSize.inner.px.height,j=[].concat(this.opt.pagebreak.mode),C={avoidAll:j.indexOf("avoid-all")!==-1,css:j.indexOf("css")!==-1,legacy:j.indexOf("legacy")!==-1},E={},k=this;["before","after","avoid"].forEach(function(F){var Q=C.avoidAll&&F==="avoid";E[F]=Q?[]:[].concat(k.opt.pagebreak[F]||[]),E[F].length>0&&(E[F]=Array.prototype.slice.call(v.querySelectorAll(E[F].join(", "))))});var D=v.querySelectorAll(".html2pdf__page-break");D=Array.prototype.slice.call(D);var L=v.querySelectorAll("*");Array.prototype.forEach.call(L,function(Q){var U={before:!1,after:C.legacy&&D.indexOf(Q)!==-1,avoid:C.avoidAll};if(C.css){var P=window.getComputedStyle(Q),I=["always","page","left","right"],z=["avoid","avoid-page"];U={before:U.before||I.indexOf(P.breakBefore||P.pageBreakBefore)!==-1,after:U.after||I.indexOf(P.breakAfter||P.pageBreakAfter)!==-1,avoid:U.avoid||z.indexOf(P.breakInside||P.pageBreakInside)!==-1}}Object.keys(U).forEach(function(he){U[he]=U[he]||E[he].indexOf(Q)!==-1});var W=Q.getBoundingClientRect();if(U.avoid&&!U.before){var ie=Math.floor(W.top/b),X=Math.floor(W.bottom/b),le=Math.abs(W.bottom-W.top)/b;X!==ie&&le<=1&&(U.before=!0)}if(U.before){var re=(0,m.createElement)("div",{style:{display:"block",height:b-W.top%b+"px"}});Q.parentNode.insertBefore(re,Q)}if(U.after){var re=(0,m.createElement)("div",{style:{display:"block",height:b-W.bottom%b+"px"}});Q.parentNode.insertBefore(re,Q.nextSibling)}})})}}),"./src/utils.js":(function(c,u,d){d.r(u),d.d(u,{objType:function(){return m},createElement:function(){return h},cloneNode:function(){return y},unitConvert:function(){return x},toPx:function(){return v}}),d("./node_modules/core-js/modules/es.number.constructor.js"),d("./node_modules/core-js/modules/es.symbol.js"),d("./node_modules/core-js/modules/es.symbol.description.js"),d("./node_modules/core-js/modules/es.object.to-string.js"),d("./node_modules/core-js/modules/es.symbol.iterator.js"),d("./node_modules/core-js/modules/es.array.iterator.js"),d("./node_modules/core-js/modules/es.string.iterator.js"),d("./node_modules/core-js/modules/web.dom-collections.iterator.js");function A(b){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?A=function(C){return typeof C}:A=function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},A(b)}var m=function(j){var C=A(j);return C==="undefined"?"undefined":C==="string"||j instanceof String?"string":C==="number"||j instanceof Number?"number":C==="function"||j instanceof Function?"function":j&&j.constructor===Array?"array":j&&j.nodeType===1?"element":C==="object"?"object":"unknown"},h=function(j,C){var E=document.createElement(j);if(C.className&&(E.className=C.className),C.innerHTML){E.innerHTML=C.innerHTML;for(var k=E.getElementsByTagName("script"),D=k.length;D-- >0;null)k[D].parentNode.removeChild(k[D])}for(var L in C.style)E.style[L]=C.style[L];return E},y=function b(j,C){for(var E=j.nodeType===3?document.createTextNode(j.nodeValue):j.cloneNode(!1),k=j.firstChild;k;k=k.nextSibling)(C===!0||k.nodeType!==1||k.nodeName!=="SCRIPT")&&E.appendChild(b(k,C));return j.nodeType===1&&(j.nodeName==="CANVAS"?(E.width=j.width,E.height=j.height,E.getContext("2d").drawImage(j,0,0)):(j.nodeName==="TEXTAREA"||j.nodeName==="SELECT")&&(E.value=j.value),E.addEventListener("load",function(){E.scrollTop=j.scrollTop,E.scrollLeft=j.scrollLeft},!0)),E},x=function(j,C){if(m(j)==="number")return j*72/96/C;var E={};for(var k in j)E[k]=j[k]*72/96/C;return E},v=function(j,C){return Math.floor(j*C/72*96)}}),"./src/worker.js":(function(c,u,d){d.r(u),d("./node_modules/core-js/modules/es.object.assign.js"),d("./node_modules/core-js/modules/es.array.map.js"),d("./node_modules/core-js/modules/es.object.keys.js"),d("./node_modules/core-js/modules/es.array.concat.js"),d("./node_modules/core-js/modules/es.object.to-string.js"),d("./node_modules/core-js/modules/es.regexp.to-string.js"),d("./node_modules/core-js/modules/es.function.name.js"),d("./node_modules/core-js/modules/web.dom-collections.for-each.js");var A=d("jspdf"),m=d("html2canvas"),h=d("./src/utils.js"),y=d("./node_modules/es6-promise/dist/es6-promise.js"),x=d.n(y),v=x().Promise,b=function j(C){var E=Object.assign(j.convert(v.resolve()),JSON.parse(JSON.stringify(j.template))),k=j.convert(v.resolve(),E);return k=k.setProgress(1,j,1,[j]),k=k.set(C),k};b.prototype=Object.create(v.prototype),b.prototype.constructor=b,b.convert=function(C,E){return C.__proto__=E||b.prototype,C},b.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],image:{type:"jpeg",quality:.95},enableLinks:!0,html2canvas:{},jsPDF:{}}},b.prototype.from=function(C,E){function k(D){switch((0,h.objType)(D)){case"string":return"string";case"element":return D.nodeName.toLowerCase&&D.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}return this.then(function(){switch(E=E||k(C),E){case"string":return this.set({src:(0,h.createElement)("div",{innerHTML:C})});case"element":return this.set({src:C});case"canvas":return this.set({canvas:C});case"img":return this.set({img:C});default:return this.error("Unknown source type.")}})},b.prototype.to=function(C){switch(C){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},b.prototype.toContainer=function(){var C=[function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(C).then(function(){var k={position:"fixed",overflow:"hidden",zIndex:1e3,left:0,right:0,bottom:0,top:0,backgroundColor:"rgba(0,0,0,0.8)"},D={position:"absolute",width:this.prop.pageSize.inner.width+this.prop.pageSize.unit,left:0,right:0,top:0,height:"auto",margin:"auto",backgroundColor:"white"};k.opacity=0;var L=(0,h.cloneNode)(this.prop.src,this.opt.html2canvas.javascriptEnabled);this.prop.overlay=(0,h.createElement)("div",{className:"html2pdf__overlay",style:k}),this.prop.container=(0,h.createElement)("div",{className:"html2pdf__container",style:D}),this.prop.container.appendChild(L),this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay)})},b.prototype.toCanvas=function(){var C=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(C).then(function(){var k=Object.assign({},this.opt.html2canvas);return delete k.onrendered,m(this.prop.container,k)}).then(function(k){var D=this.opt.html2canvas.onrendered||function(){};D(k),this.prop.canvas=k,document.body.removeChild(this.prop.overlay)})},b.prototype.toImg=function(){var C=[function(){return this.prop.canvas||this.toCanvas()}];return this.thenList(C).then(function(){var k=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=k})},b.prototype.toPdf=function(){var C=[function(){return this.prop.canvas||this.toCanvas()},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(C).then(function(){var k=this.prop.canvas,D=this.opt,L=k.height,F=Math.floor(k.width*this.prop.pageSize.inner.ratio),Q=Math.ceil(L/F),U=this.prop.pageSize.inner.height,P=document.createElement("canvas"),I=P.getContext("2d");P.width=k.width,P.height=F,this.prop.pdf=this.prop.pdf||new A.jsPDF(D.jsPDF);for(var z=0;z<Q;z++){z===Q-1&&L%F!==0&&(P.height=L%F,U=P.height*this.prop.pageSize.inner.width/P.width);var W=P.width,ie=P.height;I.fillStyle="white",I.fillRect(0,0,W,ie),I.drawImage(k,0,z*F,W,ie,0,0,W,ie),z&&this.prop.pdf.addPage();var X=P.toDataURL("image/"+D.image.type,D.image.quality);this.prop.pdf.addImage(X,D.image.type,D.margin[1],D.margin[0],this.prop.pageSize.inner.width,U)}})},b.prototype.output=function(C,E,k){return k=k||"pdf",k.toLowerCase()==="img"||k.toLowerCase()==="image"?this.outputImg(C,E):this.outputPdf(C,E)},b.prototype.outputPdf=function(C,E){var k=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(k).then(function(){return this.prop.pdf.output(C,E)})},b.prototype.outputImg=function(C,E){var k=[function(){return this.prop.img||this.toImg()}];return this.thenList(k).then(function(){switch(C){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+C+'" is not supported.'}})},b.prototype.save=function(C){var E=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(E).set(C?{filename:C}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},b.prototype.set=function(C){if((0,h.objType)(C)!=="object")return this;var E=Object.keys(C||{}).map(function(k){switch(k){case"margin":return this.setMargin.bind(this,C.margin);case"jsPDF":return function(){return this.opt.jsPDF=C.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,C.pageSize);default:return k in b.template.prop?function(){this.prop[k]=C[k]}:function(){this.opt[k]=C[k]}}},this);return this.then(function(){return this.thenList(E)})},b.prototype.get=function(C,E){return this.then(function(){var D=C in b.template.prop?this.prop[C]:this.opt[C];return E?E(D):D})},b.prototype.setMargin=function(C){return this.then(function(){switch((0,h.objType)(C)){case"number":C=[C,C,C,C];case"array":if(C.length===2&&(C=[C[0],C[1],C[0],C[1]]),C.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=C}).then(this.setPageSize)},b.prototype.setPageSize=function(C){return this.then(function(){C=C||A.jsPDF.getPageSize(this.opt.jsPDF),C.hasOwnProperty("inner")||(C.inner={width:C.width-this.opt.margin[1]-this.opt.margin[3],height:C.height-this.opt.margin[0]-this.opt.margin[2]},C.inner.px={width:(0,h.toPx)(C.inner.width,C.k),height:(0,h.toPx)(C.inner.height,C.k)},C.inner.ratio=C.inner.height/C.inner.width),this.prop.pageSize=C})},b.prototype.setProgress=function(C,E,k,D){return C!=null&&(this.progress.val=C),E!=null&&(this.progress.state=E),k!=null&&(this.progress.n=k),D!=null&&(this.progress.stack=D),this.progress.ratio=this.progress.val/this.progress.state,this},b.prototype.updateProgress=function(C,E,k,D){return this.setProgress(C?this.progress.val+C:null,E||null,k?this.progress.n+k:null,D?this.progress.stack.concat(D):null)},b.prototype.then=function(C,E){var k=this;return this.thenCore(C,E,function(L,F){return k.updateProgress(null,null,1,[L]),v.prototype.then.call(this,function(U){return k.updateProgress(null,L),U}).then(L,F).then(function(U){return k.updateProgress(1),U})})},b.prototype.thenCore=function(C,E,k){k=k||v.prototype.then;var D=this;C&&(C=C.bind(D)),E&&(E=E.bind(D));var L=v.toString().indexOf("[native code]")!==-1&&v.name==="Promise",F=L?D:b.convert(Object.assign({},D),v.prototype),Q=k.call(F,C,E);return b.convert(Q,D.__proto__)},b.prototype.thenExternal=function(C,E){return v.prototype.then.call(this,C,E)},b.prototype.thenList=function(C){var E=this;return C.forEach(function(D){E=E.thenCore(D)}),E},b.prototype.catch=function(j){j&&(j=j.bind(this));var C=v.prototype.catch.call(this,j);return b.convert(C,this)},b.prototype.catchExternal=function(C){return v.prototype.catch.call(this,C)},b.prototype.error=function(C){return this.then(function(){throw new Error(C)})},b.prototype.using=b.prototype.set,b.prototype.saveAs=b.prototype.save,b.prototype.export=b.prototype.output,b.prototype.run=b.prototype.then,u.default=b}),"./node_modules/core-js/internals/a-function.js":(function(c){c.exports=function(u){if(typeof u!="function")throw TypeError(String(u)+" is not a function");return u}}),"./node_modules/core-js/internals/a-possible-prototype.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/is-object.js");c.exports=function(m){if(!A(m)&&m!==null)throw TypeError("Can't set "+String(m)+" as a prototype");return m}}),"./node_modules/core-js/internals/add-to-unscopables.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/well-known-symbol.js"),m=d("./node_modules/core-js/internals/object-create.js"),h=d("./node_modules/core-js/internals/object-define-property.js"),y=A("unscopables"),x=Array.prototype;x[y]==null&&h.f(x,y,{configurable:!0,value:m(null)}),c.exports=function(v){x[y][v]=!0}}),"./node_modules/core-js/internals/an-object.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/is-object.js");c.exports=function(m){if(!A(m))throw TypeError(String(m)+" is not an object");return m}}),"./node_modules/core-js/internals/array-for-each.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/array-iteration.js").forEach,m=d("./node_modules/core-js/internals/array-method-is-strict.js"),h=m("forEach");c.exports=h?[].forEach:function(x){return A(this,x,arguments.length>1?arguments[1]:void 0)}}),"./node_modules/core-js/internals/array-includes.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/to-indexed-object.js"),m=d("./node_modules/core-js/internals/to-length.js"),h=d("./node_modules/core-js/internals/to-absolute-index.js"),y=function(x){return function(v,b,j){var C=A(v),E=m(C.length),k=h(j,E),D;if(x&&b!=b){for(;E>k;)if(D=C[k++],D!=D)return!0}else for(;E>k;k++)if((x||k in C)&&C[k]===b)return x||k||0;return!x&&-1}};c.exports={includes:y(!0),indexOf:y(!1)}}),"./node_modules/core-js/internals/array-iteration.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/function-bind-context.js"),m=d("./node_modules/core-js/internals/indexed-object.js"),h=d("./node_modules/core-js/internals/to-object.js"),y=d("./node_modules/core-js/internals/to-length.js"),x=d("./node_modules/core-js/internals/array-species-create.js"),v=[].push,b=function(j){var C=j==1,E=j==2,k=j==3,D=j==4,L=j==6,F=j==7,Q=j==5||L;return function(U,P,I,z){for(var W=h(U),ie=m(W),X=A(P,I,3),le=y(ie.length),re=0,he=z||x,de=C?he(U,le):E||F?he(U,0):void 0,ve,B;le>re;re++)if((Q||re in ie)&&(ve=ie[re],B=X(ve,re,W),j))if(C)de[re]=B;else if(B)switch(j){case 3:return!0;case 5:return ve;case 6:return re;case 2:v.call(de,ve)}else switch(j){case 4:return!1;case 7:v.call(de,ve)}return L?-1:k||D?D:de}};c.exports={forEach:b(0),map:b(1),filter:b(2),some:b(3),every:b(4),find:b(5),findIndex:b(6),filterReject:b(7)}}),"./node_modules/core-js/internals/array-method-has-species-support.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/fails.js"),m=d("./node_modules/core-js/internals/well-known-symbol.js"),h=d("./node_modules/core-js/internals/engine-v8-version.js"),y=m("species");c.exports=function(x){return h>=51||!A(function(){var v=[],b=v.constructor={};return b[y]=function(){return{foo:1}},v[x](Boolean).foo!==1})}}),"./node_modules/core-js/internals/array-method-is-strict.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/fails.js");c.exports=function(m,h){var y=[][m];return!!y&&A(function(){y.call(null,h||function(){throw 1},1)})}}),"./node_modules/core-js/internals/array-species-constructor.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/is-object.js"),m=d("./node_modules/core-js/internals/is-array.js"),h=d("./node_modules/core-js/internals/well-known-symbol.js"),y=h("species");c.exports=function(x){var v;return m(x)&&(v=x.constructor,typeof v=="function"&&(v===Array||m(v.prototype))?v=void 0:A(v)&&(v=v[y],v===null&&(v=void 0))),v===void 0?Array:v}}),"./node_modules/core-js/internals/array-species-create.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/array-species-constructor.js");c.exports=function(m,h){return new(A(m))(h===0?0:h)}}),"./node_modules/core-js/internals/classof-raw.js":(function(c){var u={}.toString;c.exports=function(d){return u.call(d).slice(8,-1)}}),"./node_modules/core-js/internals/classof.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/to-string-tag-support.js"),m=d("./node_modules/core-js/internals/classof-raw.js"),h=d("./node_modules/core-js/internals/well-known-symbol.js"),y=h("toStringTag"),x=m((function(){return arguments})())=="Arguments",v=function(b,j){try{return b[j]}catch{}};c.exports=A?m:function(b){var j,C,E;return b===void 0?"Undefined":b===null?"Null":typeof(C=v(j=Object(b),y))=="string"?C:x?m(j):(E=m(j))=="Object"&&typeof j.callee=="function"?"Arguments":E}}),"./node_modules/core-js/internals/copy-constructor-properties.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/has.js"),m=d("./node_modules/core-js/internals/own-keys.js"),h=d("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),y=d("./node_modules/core-js/internals/object-define-property.js");c.exports=function(x,v){for(var b=m(v),j=y.f,C=h.f,E=0;E<b.length;E++){var k=b[E];A(x,k)||j(x,k,C(v,k))}}}),"./node_modules/core-js/internals/correct-prototype-getter.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/fails.js");c.exports=!A(function(){function m(){}return m.prototype.constructor=null,Object.getPrototypeOf(new m)!==m.prototype})}),"./node_modules/core-js/internals/create-html.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/require-object-coercible.js"),m=d("./node_modules/core-js/internals/to-string.js"),h=/"/g;c.exports=function(y,x,v,b){var j=m(A(y)),C="<"+x;return v!==""&&(C+=" "+v+'="'+m(b).replace(h,"&quot;")+'"'),C+">"+j+"</"+x+">"}}),"./node_modules/core-js/internals/create-iterator-constructor.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,m=d("./node_modules/core-js/internals/object-create.js"),h=d("./node_modules/core-js/internals/create-property-descriptor.js"),y=d("./node_modules/core-js/internals/set-to-string-tag.js"),x=d("./node_modules/core-js/internals/iterators.js"),v=function(){return this};c.exports=function(b,j,C){var E=j+" Iterator";return b.prototype=m(A,{next:h(1,C)}),y(b,E,!1,!0),x[E]=v,b}}),"./node_modules/core-js/internals/create-non-enumerable-property.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/descriptors.js"),m=d("./node_modules/core-js/internals/object-define-property.js"),h=d("./node_modules/core-js/internals/create-property-descriptor.js");c.exports=A?function(y,x,v){return m.f(y,x,h(1,v))}:function(y,x,v){return y[x]=v,y}}),"./node_modules/core-js/internals/create-property-descriptor.js":(function(c){c.exports=function(u,d){return{enumerable:!(u&1),configurable:!(u&2),writable:!(u&4),value:d}}}),"./node_modules/core-js/internals/create-property.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/to-property-key.js"),m=d("./node_modules/core-js/internals/object-define-property.js"),h=d("./node_modules/core-js/internals/create-property-descriptor.js");c.exports=function(y,x,v){var b=A(x);b in y?m.f(y,b,h(0,v)):y[b]=v}}),"./node_modules/core-js/internals/define-iterator.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/export.js"),m=d("./node_modules/core-js/internals/create-iterator-constructor.js"),h=d("./node_modules/core-js/internals/object-get-prototype-of.js"),y=d("./node_modules/core-js/internals/object-set-prototype-of.js"),x=d("./node_modules/core-js/internals/set-to-string-tag.js"),v=d("./node_modules/core-js/internals/create-non-enumerable-property.js"),b=d("./node_modules/core-js/internals/redefine.js"),j=d("./node_modules/core-js/internals/well-known-symbol.js"),C=d("./node_modules/core-js/internals/is-pure.js"),E=d("./node_modules/core-js/internals/iterators.js"),k=d("./node_modules/core-js/internals/iterators-core.js"),D=k.IteratorPrototype,L=k.BUGGY_SAFARI_ITERATORS,F=j("iterator"),Q="keys",U="values",P="entries",I=function(){return this};c.exports=function(z,W,ie,X,le,re,he){m(ie,W,X);var de=function(se){if(se===le&&ne)return ne;if(!L&&se in R)return R[se];switch(se){case Q:return function(){return new ie(this,se)};case U:return function(){return new ie(this,se)};case P:return function(){return new ie(this,se)}}return function(){return new ie(this)}},ve=W+" Iterator",B=!1,R=z.prototype,G=R[F]||R["@@iterator"]||le&&R[le],ne=!L&&G||de(le),pe=W=="Array"&&R.entries||G,xe,Ae,Y;if(pe&&(xe=h(pe.call(new z)),D!==Object.prototype&&xe.next&&(!C&&h(xe)!==D&&(y?y(xe,D):typeof xe[F]!="function"&&v(xe,F,I)),x(xe,ve,!0,!0),C&&(E[ve]=I))),le==U&&G&&G.name!==U&&(B=!0,ne=function(){return G.call(this)}),(!C||he)&&R[F]!==ne&&v(R,F,ne),E[W]=ne,le)if(Ae={values:de(U),keys:re?ne:de(Q),entries:de(P)},he)for(Y in Ae)(L||B||!(Y in R))&&b(R,Y,Ae[Y]);else A({target:W,proto:!0,forced:L||B},Ae);return Ae}}),"./node_modules/core-js/internals/define-well-known-symbol.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/path.js"),m=d("./node_modules/core-js/internals/has.js"),h=d("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),y=d("./node_modules/core-js/internals/object-define-property.js").f;c.exports=function(x){var v=A.Symbol||(A.Symbol={});m(v,x)||y(v,x,{value:h.f(x)})}}),"./node_modules/core-js/internals/descriptors.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/fails.js");c.exports=!A(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})}),"./node_modules/core-js/internals/document-create-element.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/global.js"),m=d("./node_modules/core-js/internals/is-object.js"),h=A.document,y=m(h)&&m(h.createElement);c.exports=function(x){return y?h.createElement(x):{}}}),"./node_modules/core-js/internals/dom-iterables.js":(function(c){c.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}),"./node_modules/core-js/internals/engine-user-agent.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/get-built-in.js");c.exports=A("navigator","userAgent")||""}),"./node_modules/core-js/internals/engine-v8-version.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/global.js"),m=d("./node_modules/core-js/internals/engine-user-agent.js"),h=A.process,y=A.Deno,x=h&&h.versions||y&&y.version,v=x&&x.v8,b,j;v?(b=v.split("."),j=b[0]<4?1:b[0]+b[1]):m&&(b=m.match(/Edge\/(\d+)/),(!b||b[1]>=74)&&(b=m.match(/Chrome\/(\d+)/),b&&(j=b[1]))),c.exports=j&&+j}),"./node_modules/core-js/internals/enum-bug-keys.js":(function(c){c.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]}),"./node_modules/core-js/internals/export.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/global.js"),m=d("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,h=d("./node_modules/core-js/internals/create-non-enumerable-property.js"),y=d("./node_modules/core-js/internals/redefine.js"),x=d("./node_modules/core-js/internals/set-global.js"),v=d("./node_modules/core-js/internals/copy-constructor-properties.js"),b=d("./node_modules/core-js/internals/is-forced.js");c.exports=function(j,C){var E=j.target,k=j.global,D=j.stat,L,F,Q,U,P,I;if(k?F=A:D?F=A[E]||x(E,{}):F=(A[E]||{}).prototype,F)for(Q in C){if(P=C[Q],j.noTargetGet?(I=m(F,Q),U=I&&I.value):U=F[Q],L=b(k?Q:E+(D?".":"#")+Q,j.forced),!L&&U!==void 0){if(typeof P==typeof U)continue;v(P,U)}(j.sham||U&&U.sham)&&h(P,"sham",!0),y(F,Q,P,j)}}}),"./node_modules/core-js/internals/fails.js":(function(c){c.exports=function(u){try{return!!u()}catch{return!0}}}),"./node_modules/core-js/internals/function-bind-context.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/a-function.js");c.exports=function(m,h,y){if(A(m),h===void 0)return m;switch(y){case 0:return function(){return m.call(h)};case 1:return function(x){return m.call(h,x)};case 2:return function(x,v){return m.call(h,x,v)};case 3:return function(x,v,b){return m.call(h,x,v,b)}}return function(){return m.apply(h,arguments)}}}),"./node_modules/core-js/internals/get-built-in.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/global.js"),m=function(h){return typeof h=="function"?h:void 0};c.exports=function(h,y){return arguments.length<2?m(A[h]):A[h]&&A[h][y]}}),"./node_modules/core-js/internals/global.js":(function(c){var u=function(d){return d&&d.Math==Math&&d};c.exports=u(typeof globalThis=="object"&&globalThis)||u(typeof window=="object"&&window)||u(typeof self=="object"&&self)||u(typeof e0=="object"&&e0)||(function(){return this})()||Function("return this")()}),"./node_modules/core-js/internals/has.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/to-object.js"),m={}.hasOwnProperty;c.exports=Object.hasOwn||function(y,x){return m.call(A(y),x)}}),"./node_modules/core-js/internals/hidden-keys.js":(function(c){c.exports={}}),"./node_modules/core-js/internals/html.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/get-built-in.js");c.exports=A("document","documentElement")}),"./node_modules/core-js/internals/ie8-dom-define.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/descriptors.js"),m=d("./node_modules/core-js/internals/fails.js"),h=d("./node_modules/core-js/internals/document-create-element.js");c.exports=!A&&!m(function(){return Object.defineProperty(h("div"),"a",{get:function(){return 7}}).a!=7})}),"./node_modules/core-js/internals/indexed-object.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/fails.js"),m=d("./node_modules/core-js/internals/classof-raw.js"),h="".split;c.exports=A(function(){return!Object("z").propertyIsEnumerable(0)})?function(y){return m(y)=="String"?h.call(y,""):Object(y)}:Object}),"./node_modules/core-js/internals/inherit-if-required.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/is-object.js"),m=d("./node_modules/core-js/internals/object-set-prototype-of.js");c.exports=function(h,y,x){var v,b;return m&&typeof(v=y.constructor)=="function"&&v!==x&&A(b=v.prototype)&&b!==x.prototype&&m(h,b),h}}),"./node_modules/core-js/internals/inspect-source.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/shared-store.js"),m=Function.toString;typeof A.inspectSource!="function"&&(A.inspectSource=function(h){return m.call(h)}),c.exports=A.inspectSource}),"./node_modules/core-js/internals/internal-state.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/native-weak-map.js"),m=d("./node_modules/core-js/internals/global.js"),h=d("./node_modules/core-js/internals/is-object.js"),y=d("./node_modules/core-js/internals/create-non-enumerable-property.js"),x=d("./node_modules/core-js/internals/has.js"),v=d("./node_modules/core-js/internals/shared-store.js"),b=d("./node_modules/core-js/internals/shared-key.js"),j=d("./node_modules/core-js/internals/hidden-keys.js"),C="Object already initialized",E=m.WeakMap,k,D,L,F=function(ie){return L(ie)?D(ie):k(ie,{})},Q=function(ie){return function(X){var le;if(!h(X)||(le=D(X)).type!==ie)throw TypeError("Incompatible receiver, "+ie+" required");return le}};if(A||v.state){var U=v.state||(v.state=new E),P=U.get,I=U.has,z=U.set;k=function(ie,X){if(I.call(U,ie))throw new TypeError(C);return X.facade=ie,z.call(U,ie,X),X},D=function(ie){return P.call(U,ie)||{}},L=function(ie){return I.call(U,ie)}}else{var W=b("state");j[W]=!0,k=function(ie,X){if(x(ie,W))throw new TypeError(C);return X.facade=ie,y(ie,W,X),X},D=function(ie){return x(ie,W)?ie[W]:{}},L=function(ie){return x(ie,W)}}c.exports={set:k,get:D,has:L,enforce:F,getterFor:Q}}),"./node_modules/core-js/internals/is-array.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/classof-raw.js");c.exports=Array.isArray||function(h){return A(h)=="Array"}}),"./node_modules/core-js/internals/is-forced.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/fails.js"),m=/#|\.prototype\./,h=function(j,C){var E=x[y(j)];return E==b?!0:E==v?!1:typeof C=="function"?A(C):!!C},y=h.normalize=function(j){return String(j).replace(m,".").toLowerCase()},x=h.data={},v=h.NATIVE="N",b=h.POLYFILL="P";c.exports=h}),"./node_modules/core-js/internals/is-object.js":(function(c){c.exports=function(u){return typeof u=="object"?u!==null:typeof u=="function"}}),"./node_modules/core-js/internals/is-pure.js":(function(c){c.exports=!1}),"./node_modules/core-js/internals/is-symbol.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/get-built-in.js"),m=d("./node_modules/core-js/internals/use-symbol-as-uid.js");c.exports=m?function(h){return typeof h=="symbol"}:function(h){var y=A("Symbol");return typeof y=="function"&&Object(h)instanceof y}}),"./node_modules/core-js/internals/iterators-core.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/fails.js"),m=d("./node_modules/core-js/internals/object-get-prototype-of.js"),h=d("./node_modules/core-js/internals/create-non-enumerable-property.js"),y=d("./node_modules/core-js/internals/has.js"),x=d("./node_modules/core-js/internals/well-known-symbol.js"),v=d("./node_modules/core-js/internals/is-pure.js"),b=x("iterator"),j=!1,C=function(){return this},E,k,D;[].keys&&(D=[].keys(),"next"in D?(k=m(m(D)),k!==Object.prototype&&(E=k)):j=!0);var L=E==null||A(function(){var F={};return E[b].call(F)!==F});L&&(E={}),(!v||L)&&!y(E,b)&&h(E,b,C),c.exports={IteratorPrototype:E,BUGGY_SAFARI_ITERATORS:j}}),"./node_modules/core-js/internals/iterators.js":(function(c){c.exports={}}),"./node_modules/core-js/internals/native-symbol.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/engine-v8-version.js"),m=d("./node_modules/core-js/internals/fails.js");c.exports=!!Object.getOwnPropertySymbols&&!m(function(){var h=Symbol();return!String(h)||!(Object(h)instanceof Symbol)||!Symbol.sham&&A&&A<41})}),"./node_modules/core-js/internals/native-weak-map.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/global.js"),m=d("./node_modules/core-js/internals/inspect-source.js"),h=A.WeakMap;c.exports=typeof h=="function"&&/native code/.test(m(h))}),"./node_modules/core-js/internals/object-assign.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/descriptors.js"),m=d("./node_modules/core-js/internals/fails.js"),h=d("./node_modules/core-js/internals/object-keys.js"),y=d("./node_modules/core-js/internals/object-get-own-property-symbols.js"),x=d("./node_modules/core-js/internals/object-property-is-enumerable.js"),v=d("./node_modules/core-js/internals/to-object.js"),b=d("./node_modules/core-js/internals/indexed-object.js"),j=Object.assign,C=Object.defineProperty;c.exports=!j||m(function(){if(A&&j({b:1},j(C({},"a",{enumerable:!0,get:function(){C(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var E={},k={},D=Symbol(),L="abcdefghijklmnopqrst";return E[D]=7,L.split("").forEach(function(F){k[F]=F}),j({},E)[D]!=7||h(j({},k)).join("")!=L})?function(k,D){for(var L=v(k),F=arguments.length,Q=1,U=y.f,P=x.f;F>Q;)for(var I=b(arguments[Q++]),z=U?h(I).concat(U(I)):h(I),W=z.length,ie=0,X;W>ie;)X=z[ie++],(!A||P.call(I,X))&&(L[X]=I[X]);return L}:j}),"./node_modules/core-js/internals/object-create.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/an-object.js"),m=d("./node_modules/core-js/internals/object-define-properties.js"),h=d("./node_modules/core-js/internals/enum-bug-keys.js"),y=d("./node_modules/core-js/internals/hidden-keys.js"),x=d("./node_modules/core-js/internals/html.js"),v=d("./node_modules/core-js/internals/document-create-element.js"),b=d("./node_modules/core-js/internals/shared-key.js"),j=">",C="<",E="prototype",k="script",D=b("IE_PROTO"),L=function(){},F=function(z){return C+k+j+z+C+"/"+k+j},Q=function(z){z.write(F("")),z.close();var W=z.parentWindow.Object;return z=null,W},U=function(){var z=v("iframe"),W="java"+k+":",ie;if(z.style)return z.style.display="none",x.appendChild(z),z.src=String(W),ie=z.contentWindow.document,ie.open(),ie.write(F("document.F=Object")),ie.close(),ie.F},P,I=function(){try{P=new ActiveXObject("htmlfile")}catch{}I=document.domain&&P?Q(P):U()||Q(P);for(var z=h.length;z--;)delete I[E][h[z]];return I()};y[D]=!0,c.exports=Object.create||function(W,ie){var X;return W!==null?(L[E]=A(W),X=new L,L[E]=null,X[D]=W):X=I(),ie===void 0?X:m(X,ie)}}),"./node_modules/core-js/internals/object-define-properties.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/descriptors.js"),m=d("./node_modules/core-js/internals/object-define-property.js"),h=d("./node_modules/core-js/internals/an-object.js"),y=d("./node_modules/core-js/internals/object-keys.js");c.exports=A?Object.defineProperties:function(v,b){h(v);for(var j=y(b),C=j.length,E=0,k;C>E;)m.f(v,k=j[E++],b[k]);return v}}),"./node_modules/core-js/internals/object-define-property.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/descriptors.js"),m=d("./node_modules/core-js/internals/ie8-dom-define.js"),h=d("./node_modules/core-js/internals/an-object.js"),y=d("./node_modules/core-js/internals/to-property-key.js"),x=Object.defineProperty;u.f=A?x:function(b,j,C){if(h(b),j=y(j),h(C),m)try{return x(b,j,C)}catch{}if("get"in C||"set"in C)throw TypeError("Accessors not supported");return"value"in C&&(b[j]=C.value),b}}),"./node_modules/core-js/internals/object-get-own-property-descriptor.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/descriptors.js"),m=d("./node_modules/core-js/internals/object-property-is-enumerable.js"),h=d("./node_modules/core-js/internals/create-property-descriptor.js"),y=d("./node_modules/core-js/internals/to-indexed-object.js"),x=d("./node_modules/core-js/internals/to-property-key.js"),v=d("./node_modules/core-js/internals/has.js"),b=d("./node_modules/core-js/internals/ie8-dom-define.js"),j=Object.getOwnPropertyDescriptor;u.f=A?j:function(E,k){if(E=y(E),k=x(k),b)try{return j(E,k)}catch{}if(v(E,k))return h(!m.f.call(E,k),E[k])}}),"./node_modules/core-js/internals/object-get-own-property-names-external.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/to-indexed-object.js"),m=d("./node_modules/core-js/internals/object-get-own-property-names.js").f,h={}.toString,y=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],x=function(v){try{return m(v)}catch{return y.slice()}};c.exports.f=function(b){return y&&h.call(b)=="[object Window]"?x(b):m(A(b))}}),"./node_modules/core-js/internals/object-get-own-property-names.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/object-keys-internal.js"),m=d("./node_modules/core-js/internals/enum-bug-keys.js"),h=m.concat("length","prototype");u.f=Object.getOwnPropertyNames||function(x){return A(x,h)}}),"./node_modules/core-js/internals/object-get-own-property-symbols.js":(function(c,u){u.f=Object.getOwnPropertySymbols}),"./node_modules/core-js/internals/object-get-prototype-of.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/has.js"),m=d("./node_modules/core-js/internals/to-object.js"),h=d("./node_modules/core-js/internals/shared-key.js"),y=d("./node_modules/core-js/internals/correct-prototype-getter.js"),x=h("IE_PROTO"),v=Object.prototype;c.exports=y?Object.getPrototypeOf:function(b){return b=m(b),A(b,x)?b[x]:typeof b.constructor=="function"&&b instanceof b.constructor?b.constructor.prototype:b instanceof Object?v:null}}),"./node_modules/core-js/internals/object-keys-internal.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/has.js"),m=d("./node_modules/core-js/internals/to-indexed-object.js"),h=d("./node_modules/core-js/internals/array-includes.js").indexOf,y=d("./node_modules/core-js/internals/hidden-keys.js");c.exports=function(x,v){var b=m(x),j=0,C=[],E;for(E in b)!A(y,E)&&A(b,E)&&C.push(E);for(;v.length>j;)A(b,E=v[j++])&&(~h(C,E)||C.push(E));return C}}),"./node_modules/core-js/internals/object-keys.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/object-keys-internal.js"),m=d("./node_modules/core-js/internals/enum-bug-keys.js");c.exports=Object.keys||function(y){return A(y,m)}}),"./node_modules/core-js/internals/object-property-is-enumerable.js":(function(c,u){var d={}.propertyIsEnumerable,A=Object.getOwnPropertyDescriptor,m=A&&!d.call({1:2},1);u.f=m?function(y){var x=A(this,y);return!!x&&x.enumerable}:d}),"./node_modules/core-js/internals/object-set-prototype-of.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/an-object.js"),m=d("./node_modules/core-js/internals/a-possible-prototype.js");c.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var h=!1,y={},x;try{x=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,x.call(y,[]),h=y instanceof Array}catch{}return function(b,j){return A(b),m(j),h?x.call(b,j):b.__proto__=j,b}})():void 0)}),"./node_modules/core-js/internals/object-to-string.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/to-string-tag-support.js"),m=d("./node_modules/core-js/internals/classof.js");c.exports=A?{}.toString:function(){return"[object "+m(this)+"]"}}),"./node_modules/core-js/internals/ordinary-to-primitive.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/is-object.js");c.exports=function(m,h){var y,x;if(h==="string"&&typeof(y=m.toString)=="function"&&!A(x=y.call(m))||typeof(y=m.valueOf)=="function"&&!A(x=y.call(m))||h!=="string"&&typeof(y=m.toString)=="function"&&!A(x=y.call(m)))return x;throw TypeError("Can't convert object to primitive value")}}),"./node_modules/core-js/internals/own-keys.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/get-built-in.js"),m=d("./node_modules/core-js/internals/object-get-own-property-names.js"),h=d("./node_modules/core-js/internals/object-get-own-property-symbols.js"),y=d("./node_modules/core-js/internals/an-object.js");c.exports=A("Reflect","ownKeys")||function(v){var b=m.f(y(v)),j=h.f;return j?b.concat(j(v)):b}}),"./node_modules/core-js/internals/path.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/global.js");c.exports=A}),"./node_modules/core-js/internals/redefine.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/global.js"),m=d("./node_modules/core-js/internals/create-non-enumerable-property.js"),h=d("./node_modules/core-js/internals/has.js"),y=d("./node_modules/core-js/internals/set-global.js"),x=d("./node_modules/core-js/internals/inspect-source.js"),v=d("./node_modules/core-js/internals/internal-state.js"),b=v.get,j=v.enforce,C=String(String).split("String");(c.exports=function(E,k,D,L){var F=L?!!L.unsafe:!1,Q=L?!!L.enumerable:!1,U=L?!!L.noTargetGet:!1,P;if(typeof D=="function"&&(typeof k=="string"&&!h(D,"name")&&m(D,"name",k),P=j(D),P.source||(P.source=C.join(typeof k=="string"?k:""))),E===A){Q?E[k]=D:y(k,D);return}else F?!U&&E[k]&&(Q=!0):delete E[k];Q?E[k]=D:m(E,k,D)})(Function.prototype,"toString",function(){return typeof this=="function"&&b(this).source||x(this)})}),"./node_modules/core-js/internals/regexp-flags.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/an-object.js");c.exports=function(){var m=A(this),h="";return m.global&&(h+="g"),m.ignoreCase&&(h+="i"),m.multiline&&(h+="m"),m.dotAll&&(h+="s"),m.unicode&&(h+="u"),m.sticky&&(h+="y"),h}}),"./node_modules/core-js/internals/require-object-coercible.js":(function(c){c.exports=function(u){if(u==null)throw TypeError("Can't call method on "+u);return u}}),"./node_modules/core-js/internals/set-global.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/global.js");c.exports=function(m,h){try{Object.defineProperty(A,m,{value:h,configurable:!0,writable:!0})}catch{A[m]=h}return h}}),"./node_modules/core-js/internals/set-to-string-tag.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/object-define-property.js").f,m=d("./node_modules/core-js/internals/has.js"),h=d("./node_modules/core-js/internals/well-known-symbol.js"),y=h("toStringTag");c.exports=function(x,v,b){x&&!m(x=b?x:x.prototype,y)&&A(x,y,{configurable:!0,value:v})}}),"./node_modules/core-js/internals/shared-key.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/shared.js"),m=d("./node_modules/core-js/internals/uid.js"),h=A("keys");c.exports=function(y){return h[y]||(h[y]=m(y))}}),"./node_modules/core-js/internals/shared-store.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/global.js"),m=d("./node_modules/core-js/internals/set-global.js"),h="__core-js_shared__",y=A[h]||m(h,{});c.exports=y}),"./node_modules/core-js/internals/shared.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/is-pure.js"),m=d("./node_modules/core-js/internals/shared-store.js");(c.exports=function(h,y){return m[h]||(m[h]=y!==void 0?y:{})})("versions",[]).push({version:"3.16.0",mode:A?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})}),"./node_modules/core-js/internals/string-html-forced.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/fails.js");c.exports=function(m){return A(function(){var h=""[m]('"');return h!==h.toLowerCase()||h.split('"').length>3})}}),"./node_modules/core-js/internals/string-multibyte.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/to-integer.js"),m=d("./node_modules/core-js/internals/to-string.js"),h=d("./node_modules/core-js/internals/require-object-coercible.js"),y=function(x){return function(v,b){var j=m(h(v)),C=A(b),E=j.length,k,D;return C<0||C>=E?x?"":void 0:(k=j.charCodeAt(C),k<55296||k>56319||C+1===E||(D=j.charCodeAt(C+1))<56320||D>57343?x?j.charAt(C):k:x?j.slice(C,C+2):(k-55296<<10)+(D-56320)+65536)}};c.exports={codeAt:y(!1),charAt:y(!0)}}),"./node_modules/core-js/internals/string-trim.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/require-object-coercible.js"),m=d("./node_modules/core-js/internals/to-string.js"),h=d("./node_modules/core-js/internals/whitespaces.js"),y="["+h+"]",x=RegExp("^"+y+y+"*"),v=RegExp(y+y+"*$"),b=function(j){return function(C){var E=m(A(C));return j&1&&(E=E.replace(x,"")),j&2&&(E=E.replace(v,"")),E}};c.exports={start:b(1),end:b(2),trim:b(3)}}),"./node_modules/core-js/internals/to-absolute-index.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/to-integer.js"),m=Math.max,h=Math.min;c.exports=function(y,x){var v=A(y);return v<0?m(v+x,0):h(v,x)}}),"./node_modules/core-js/internals/to-indexed-object.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/indexed-object.js"),m=d("./node_modules/core-js/internals/require-object-coercible.js");c.exports=function(h){return A(m(h))}}),"./node_modules/core-js/internals/to-integer.js":(function(c){var u=Math.ceil,d=Math.floor;c.exports=function(A){return isNaN(A=+A)?0:(A>0?d:u)(A)}}),"./node_modules/core-js/internals/to-length.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/to-integer.js"),m=Math.min;c.exports=function(h){return h>0?m(A(h),9007199254740991):0}}),"./node_modules/core-js/internals/to-object.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/require-object-coercible.js");c.exports=function(m){return Object(A(m))}}),"./node_modules/core-js/internals/to-primitive.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/is-object.js"),m=d("./node_modules/core-js/internals/is-symbol.js"),h=d("./node_modules/core-js/internals/ordinary-to-primitive.js"),y=d("./node_modules/core-js/internals/well-known-symbol.js"),x=y("toPrimitive");c.exports=function(v,b){if(!A(v)||m(v))return v;var j=v[x],C;if(j!==void 0){if(b===void 0&&(b="default"),C=j.call(v,b),!A(C)||m(C))return C;throw TypeError("Can't convert object to primitive value")}return b===void 0&&(b="number"),h(v,b)}}),"./node_modules/core-js/internals/to-property-key.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/to-primitive.js"),m=d("./node_modules/core-js/internals/is-symbol.js");c.exports=function(h){var y=A(h,"string");return m(y)?y:String(y)}}),"./node_modules/core-js/internals/to-string-tag-support.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/well-known-symbol.js"),m=A("toStringTag"),h={};h[m]="z",c.exports=String(h)==="[object z]"}),"./node_modules/core-js/internals/to-string.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/is-symbol.js");c.exports=function(m){if(A(m))throw TypeError("Cannot convert a Symbol value to a string");return String(m)}}),"./node_modules/core-js/internals/uid.js":(function(c){var u=0,d=Math.random();c.exports=function(A){return"Symbol("+String(A===void 0?"":A)+")_"+(++u+d).toString(36)}}),"./node_modules/core-js/internals/use-symbol-as-uid.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/native-symbol.js");c.exports=A&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}),"./node_modules/core-js/internals/well-known-symbol-wrapped.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/well-known-symbol.js");u.f=A}),"./node_modules/core-js/internals/well-known-symbol.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/global.js"),m=d("./node_modules/core-js/internals/shared.js"),h=d("./node_modules/core-js/internals/has.js"),y=d("./node_modules/core-js/internals/uid.js"),x=d("./node_modules/core-js/internals/native-symbol.js"),v=d("./node_modules/core-js/internals/use-symbol-as-uid.js"),b=m("wks"),j=A.Symbol,C=v?j:j&&j.withoutSetter||y;c.exports=function(E){return(!h(b,E)||!(x||typeof b[E]=="string"))&&(x&&h(j,E)?b[E]=j[E]:b[E]=C("Symbol."+E)),b[E]}}),"./node_modules/core-js/internals/whitespaces.js":(function(c){c.exports=`	
\v\f\r \u2028\u2029\uFEFF`}),"./node_modules/core-js/modules/es.array.concat.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/export.js"),m=d("./node_modules/core-js/internals/fails.js"),h=d("./node_modules/core-js/internals/is-array.js"),y=d("./node_modules/core-js/internals/is-object.js"),x=d("./node_modules/core-js/internals/to-object.js"),v=d("./node_modules/core-js/internals/to-length.js"),b=d("./node_modules/core-js/internals/create-property.js"),j=d("./node_modules/core-js/internals/array-species-create.js"),C=d("./node_modules/core-js/internals/array-method-has-species-support.js"),E=d("./node_modules/core-js/internals/well-known-symbol.js"),k=d("./node_modules/core-js/internals/engine-v8-version.js"),D=E("isConcatSpreadable"),L=9007199254740991,F="Maximum allowed index exceeded",Q=k>=51||!m(function(){var z=[];return z[D]=!1,z.concat()[0]!==z}),U=C("concat"),P=function(z){if(!y(z))return!1;var W=z[D];return W!==void 0?!!W:h(z)},I=!Q||!U;A({target:"Array",proto:!0,forced:I},{concat:function(W){var ie=x(this),X=j(ie,0),le=0,re,he,de,ve,B;for(re=-1,de=arguments.length;re<de;re++)if(B=re===-1?ie:arguments[re],P(B)){if(ve=v(B.length),le+ve>L)throw TypeError(F);for(he=0;he<ve;he++,le++)he in B&&b(X,le,B[he])}else{if(le>=L)throw TypeError(F);b(X,le++,B)}return X.length=le,X}})}),"./node_modules/core-js/modules/es.array.iterator.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/to-indexed-object.js"),m=d("./node_modules/core-js/internals/add-to-unscopables.js"),h=d("./node_modules/core-js/internals/iterators.js"),y=d("./node_modules/core-js/internals/internal-state.js"),x=d("./node_modules/core-js/internals/define-iterator.js"),v="Array Iterator",b=y.set,j=y.getterFor(v);c.exports=x(Array,"Array",function(C,E){b(this,{type:v,target:A(C),index:0,kind:E})},function(){var C=j(this),E=C.target,k=C.kind,D=C.index++;return!E||D>=E.length?(C.target=void 0,{value:void 0,done:!0}):k=="keys"?{value:D,done:!1}:k=="values"?{value:E[D],done:!1}:{value:[D,E[D]],done:!1}},"values"),h.Arguments=h.Array,m("keys"),m("values"),m("entries")}),"./node_modules/core-js/modules/es.array.join.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/export.js"),m=d("./node_modules/core-js/internals/indexed-object.js"),h=d("./node_modules/core-js/internals/to-indexed-object.js"),y=d("./node_modules/core-js/internals/array-method-is-strict.js"),x=[].join,v=m!=Object,b=y("join",",");A({target:"Array",proto:!0,forced:v||!b},{join:function(C){return x.call(h(this),C===void 0?",":C)}})}),"./node_modules/core-js/modules/es.array.map.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/export.js"),m=d("./node_modules/core-js/internals/array-iteration.js").map,h=d("./node_modules/core-js/internals/array-method-has-species-support.js"),y=h("map");A({target:"Array",proto:!0,forced:!y},{map:function(v){return m(this,v,arguments.length>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.array.slice.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/export.js"),m=d("./node_modules/core-js/internals/is-object.js"),h=d("./node_modules/core-js/internals/is-array.js"),y=d("./node_modules/core-js/internals/to-absolute-index.js"),x=d("./node_modules/core-js/internals/to-length.js"),v=d("./node_modules/core-js/internals/to-indexed-object.js"),b=d("./node_modules/core-js/internals/create-property.js"),j=d("./node_modules/core-js/internals/well-known-symbol.js"),C=d("./node_modules/core-js/internals/array-method-has-species-support.js"),E=C("slice"),k=j("species"),D=[].slice,L=Math.max;A({target:"Array",proto:!0,forced:!E},{slice:function(Q,U){var P=v(this),I=x(P.length),z=y(Q,I),W=y(U===void 0?I:U,I),ie,X,le;if(h(P)&&(ie=P.constructor,typeof ie=="function"&&(ie===Array||h(ie.prototype))?ie=void 0:m(ie)&&(ie=ie[k],ie===null&&(ie=void 0)),ie===Array||ie===void 0))return D.call(P,z,W);for(X=new(ie===void 0?Array:ie)(L(W-z,0)),le=0;z<W;z++,le++)z in P&&b(X,le,P[z]);return X.length=le,X}})}),"./node_modules/core-js/modules/es.function.name.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/descriptors.js"),m=d("./node_modules/core-js/internals/object-define-property.js").f,h=Function.prototype,y=h.toString,x=/^\s*function ([^ (]*)/,v="name";A&&!(v in h)&&m(h,v,{configurable:!0,get:function(){try{return y.call(this).match(x)[1]}catch{return""}}})}),"./node_modules/core-js/modules/es.number.constructor.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/descriptors.js"),m=d("./node_modules/core-js/internals/global.js"),h=d("./node_modules/core-js/internals/is-forced.js"),y=d("./node_modules/core-js/internals/redefine.js"),x=d("./node_modules/core-js/internals/has.js"),v=d("./node_modules/core-js/internals/classof-raw.js"),b=d("./node_modules/core-js/internals/inherit-if-required.js"),j=d("./node_modules/core-js/internals/is-symbol.js"),C=d("./node_modules/core-js/internals/to-primitive.js"),E=d("./node_modules/core-js/internals/fails.js"),k=d("./node_modules/core-js/internals/object-create.js"),D=d("./node_modules/core-js/internals/object-get-own-property-names.js").f,L=d("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,F=d("./node_modules/core-js/internals/object-define-property.js").f,Q=d("./node_modules/core-js/internals/string-trim.js").trim,U="Number",P=m[U],I=P.prototype,z=v(k(I))==U,W=function(he){if(j(he))throw TypeError("Cannot convert a Symbol value to a number");var de=C(he,"number"),ve,B,R,G,ne,pe,xe,Ae;if(typeof de=="string"&&de.length>2){if(de=Q(de),ve=de.charCodeAt(0),ve===43||ve===45){if(B=de.charCodeAt(2),B===88||B===120)return NaN}else if(ve===48){switch(de.charCodeAt(1)){case 66:case 98:R=2,G=49;break;case 79:case 111:R=8,G=55;break;default:return+de}for(ne=de.slice(2),pe=ne.length,xe=0;xe<pe;xe++)if(Ae=ne.charCodeAt(xe),Ae<48||Ae>G)return NaN;return parseInt(ne,R)}}return+de};if(h(U,!P(" 0o1")||!P("0b1")||P("+0x1"))){for(var ie=function(de){var ve=arguments.length<1?0:de,B=this;return B instanceof ie&&(z?E(function(){I.valueOf.call(B)}):v(B)!=U)?b(new P(W(ve)),B,ie):W(ve)},X=A?D(P):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),le=0,re;X.length>le;le++)x(P,re=X[le])&&!x(ie,re)&&F(ie,re,L(P,re));ie.prototype=I,I.constructor=ie,y(m,U,ie)}}),"./node_modules/core-js/modules/es.object.assign.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/export.js"),m=d("./node_modules/core-js/internals/object-assign.js");A({target:"Object",stat:!0,forced:Object.assign!==m},{assign:m})}),"./node_modules/core-js/modules/es.object.keys.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/export.js"),m=d("./node_modules/core-js/internals/to-object.js"),h=d("./node_modules/core-js/internals/object-keys.js"),y=d("./node_modules/core-js/internals/fails.js"),x=y(function(){h(1)});A({target:"Object",stat:!0,forced:x},{keys:function(b){return h(m(b))}})}),"./node_modules/core-js/modules/es.object.to-string.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/to-string-tag-support.js"),m=d("./node_modules/core-js/internals/redefine.js"),h=d("./node_modules/core-js/internals/object-to-string.js");A||m(Object.prototype,"toString",h,{unsafe:!0})}),"./node_modules/core-js/modules/es.regexp.to-string.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/redefine.js"),m=d("./node_modules/core-js/internals/an-object.js"),h=d("./node_modules/core-js/internals/to-string.js"),y=d("./node_modules/core-js/internals/fails.js"),x=d("./node_modules/core-js/internals/regexp-flags.js"),v="toString",b=RegExp.prototype,j=b[v],C=y(function(){return j.call({source:"a",flags:"b"})!="/a/b"}),E=j.name!=v;(C||E)&&A(RegExp.prototype,v,function(){var D=m(this),L=h(D.source),F=D.flags,Q=h(F===void 0&&D instanceof RegExp&&!("flags"in b)?x.call(D):F);return"/"+L+"/"+Q},{unsafe:!0})}),"./node_modules/core-js/modules/es.string.iterator.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/string-multibyte.js").charAt,m=d("./node_modules/core-js/internals/to-string.js"),h=d("./node_modules/core-js/internals/internal-state.js"),y=d("./node_modules/core-js/internals/define-iterator.js"),x="String Iterator",v=h.set,b=h.getterFor(x);y(String,"String",function(j){v(this,{type:x,string:m(j),index:0})},function(){var C=b(this),E=C.string,k=C.index,D;return k>=E.length?{value:void 0,done:!0}:(D=A(E,k),C.index+=D.length,{value:D,done:!1})})}),"./node_modules/core-js/modules/es.string.link.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/export.js"),m=d("./node_modules/core-js/internals/create-html.js"),h=d("./node_modules/core-js/internals/string-html-forced.js");A({target:"String",proto:!0,forced:h("link")},{link:function(x){return m(this,"a","href",x)}})}),"./node_modules/core-js/modules/es.symbol.description.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/export.js"),m=d("./node_modules/core-js/internals/descriptors.js"),h=d("./node_modules/core-js/internals/global.js"),y=d("./node_modules/core-js/internals/has.js"),x=d("./node_modules/core-js/internals/is-object.js"),v=d("./node_modules/core-js/internals/object-define-property.js").f,b=d("./node_modules/core-js/internals/copy-constructor-properties.js"),j=h.Symbol;if(m&&typeof j=="function"&&(!("description"in j.prototype)||j().description!==void 0)){var C={},E=function(){var U=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),P=this instanceof E?new j(U):U===void 0?j():j(U);return U===""&&(C[P]=!0),P};b(E,j);var k=E.prototype=j.prototype;k.constructor=E;var D=k.toString,L=String(j("test"))=="Symbol(test)",F=/^Symbol\((.*)\)[^)]+$/;v(k,"description",{configurable:!0,get:function(){var U=x(this)?this.valueOf():this,P=D.call(U);if(y(C,U))return"";var I=L?P.slice(7,-1):P.replace(F,"$1");return I===""?void 0:I}}),A({global:!0,forced:!0},{Symbol:E})}}),"./node_modules/core-js/modules/es.symbol.iterator.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/define-well-known-symbol.js");A("iterator")}),"./node_modules/core-js/modules/es.symbol.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/export.js"),m=d("./node_modules/core-js/internals/global.js"),h=d("./node_modules/core-js/internals/get-built-in.js"),y=d("./node_modules/core-js/internals/is-pure.js"),x=d("./node_modules/core-js/internals/descriptors.js"),v=d("./node_modules/core-js/internals/native-symbol.js"),b=d("./node_modules/core-js/internals/fails.js"),j=d("./node_modules/core-js/internals/has.js"),C=d("./node_modules/core-js/internals/is-array.js"),E=d("./node_modules/core-js/internals/is-object.js"),k=d("./node_modules/core-js/internals/is-symbol.js"),D=d("./node_modules/core-js/internals/an-object.js"),L=d("./node_modules/core-js/internals/to-object.js"),F=d("./node_modules/core-js/internals/to-indexed-object.js"),Q=d("./node_modules/core-js/internals/to-property-key.js"),U=d("./node_modules/core-js/internals/to-string.js"),P=d("./node_modules/core-js/internals/create-property-descriptor.js"),I=d("./node_modules/core-js/internals/object-create.js"),z=d("./node_modules/core-js/internals/object-keys.js"),W=d("./node_modules/core-js/internals/object-get-own-property-names.js"),ie=d("./node_modules/core-js/internals/object-get-own-property-names-external.js"),X=d("./node_modules/core-js/internals/object-get-own-property-symbols.js"),le=d("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),re=d("./node_modules/core-js/internals/object-define-property.js"),he=d("./node_modules/core-js/internals/object-property-is-enumerable.js"),de=d("./node_modules/core-js/internals/create-non-enumerable-property.js"),ve=d("./node_modules/core-js/internals/redefine.js"),B=d("./node_modules/core-js/internals/shared.js"),R=d("./node_modules/core-js/internals/shared-key.js"),G=d("./node_modules/core-js/internals/hidden-keys.js"),ne=d("./node_modules/core-js/internals/uid.js"),pe=d("./node_modules/core-js/internals/well-known-symbol.js"),xe=d("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),Ae=d("./node_modules/core-js/internals/define-well-known-symbol.js"),Y=d("./node_modules/core-js/internals/set-to-string-tag.js"),se=d("./node_modules/core-js/internals/internal-state.js"),ee=d("./node_modules/core-js/internals/array-iteration.js").forEach,be=R("hidden"),Ce="Symbol",ce="prototype",J=pe("toPrimitive"),ge=se.set,Je=se.getterFor(Ce),Ke=Object[ce],Fe=m.Symbol,nt=h("JSON","stringify"),Se=le.f,Me=re.f,at=ie.f,ke=he.f,Ve=B("symbols"),ze=B("op-symbols"),rt=B("string-to-symbol-registry"),Ge=B("symbol-to-string-registry"),bt=B("wks"),Le=m.QObject,je=!Le||!Le[ce]||!Le[ce].findChild,Ze=x&&b(function(){return I(Me({},"a",{get:function(){return Me(this,"a",{value:7}).a}})).a!=7})?function(Ft,_t,Dt){var Wt=Se(Ke,_t);Wt&&delete Ke[_t],Me(Ft,_t,Dt),Wt&&Ft!==Ke&&Me(Ke,_t,Wt)}:Me,Te=function(Ft,_t){var Dt=Ve[Ft]=I(Fe[ce]);return ge(Dt,{type:Ce,tag:Ft,description:_t}),x||(Dt.description=_t),Dt},pt=function(_t,Dt,Wt){_t===Ke&&pt(ze,Dt,Wt),D(_t);var cr=Q(Dt);return D(Wt),j(Ve,cr)?(Wt.enumerable?(j(_t,be)&&_t[be][cr]&&(_t[be][cr]=!1),Wt=I(Wt,{enumerable:P(0,!1)})):(j(_t,be)||Me(_t,be,P(1,{})),_t[be][cr]=!0),Ze(_t,cr,Wt)):Me(_t,cr,Wt)},At=function(_t,Dt){D(_t);var Wt=F(Dt),cr=z(Wt).concat(st(Wt));return ee(cr,function(Dr){(!x||Pe.call(Wt,Dr))&&pt(_t,Dr,Wt[Dr])}),_t},qe=function(_t,Dt){return Dt===void 0?I(_t):At(I(_t),Dt)},Pe=function(_t){var Dt=Q(_t),Wt=ke.call(this,Dt);return this===Ke&&j(Ve,Dt)&&!j(ze,Dt)?!1:Wt||!j(this,Dt)||!j(Ve,Dt)||j(this,be)&&this[be][Dt]?Wt:!0},mt=function(_t,Dt){var Wt=F(_t),cr=Q(Dt);if(!(Wt===Ke&&j(Ve,cr)&&!j(ze,cr))){var Dr=Se(Wt,cr);return Dr&&j(Ve,cr)&&!(j(Wt,be)&&Wt[be][cr])&&(Dr.enumerable=!0),Dr}},Qe=function(_t){var Dt=at(F(_t)),Wt=[];return ee(Dt,function(cr){!j(Ve,cr)&&!j(G,cr)&&Wt.push(cr)}),Wt},st=function(_t){var Dt=_t===Ke,Wt=at(Dt?ze:F(_t)),cr=[];return ee(Wt,function(Dr){j(Ve,Dr)&&(!Dt||j(Ke,Dr))&&cr.push(Ve[Dr])}),cr};if(v||(Fe=function(){if(this instanceof Fe)throw TypeError("Symbol is not a constructor");var _t=!arguments.length||arguments[0]===void 0?void 0:U(arguments[0]),Dt=ne(_t),Wt=function(cr){this===Ke&&Wt.call(ze,cr),j(this,be)&&j(this[be],Dt)&&(this[be][Dt]=!1),Ze(this,Dt,P(1,cr))};return x&&je&&Ze(Ke,Dt,{configurable:!0,set:Wt}),Te(Dt,_t)},ve(Fe[ce],"toString",function(){return Je(this).tag}),ve(Fe,"withoutSetter",function(Ft){return Te(ne(Ft),Ft)}),he.f=Pe,re.f=pt,le.f=mt,W.f=ie.f=Qe,X.f=st,xe.f=function(Ft){return Te(pe(Ft),Ft)},x&&(Me(Fe[ce],"description",{configurable:!0,get:function(){return Je(this).description}}),y||ve(Ke,"propertyIsEnumerable",Pe,{unsafe:!0}))),A({global:!0,wrap:!0,forced:!v,sham:!v},{Symbol:Fe}),ee(z(bt),function(Ft){Ae(Ft)}),A({target:Ce,stat:!0,forced:!v},{for:function(Ft){var _t=U(Ft);if(j(rt,_t))return rt[_t];var Dt=Fe(_t);return rt[_t]=Dt,Ge[Dt]=_t,Dt},keyFor:function(_t){if(!k(_t))throw TypeError(_t+" is not a symbol");if(j(Ge,_t))return Ge[_t]},useSetter:function(){je=!0},useSimple:function(){je=!1}}),A({target:"Object",stat:!0,forced:!v,sham:!x},{create:qe,defineProperty:pt,defineProperties:At,getOwnPropertyDescriptor:mt}),A({target:"Object",stat:!0,forced:!v},{getOwnPropertyNames:Qe,getOwnPropertySymbols:st}),A({target:"Object",stat:!0,forced:b(function(){X.f(1)})},{getOwnPropertySymbols:function(_t){return X.f(L(_t))}}),nt){var tt=!v||b(function(){var Ft=Fe();return nt([Ft])!="[null]"||nt({a:Ft})!="{}"||nt(Object(Ft))!="{}"});A({target:"JSON",stat:!0,forced:tt},{stringify:function(_t,Dt,Wt){for(var cr=[_t],Dr=1,Ea;arguments.length>Dr;)cr.push(arguments[Dr++]);if(Ea=Dt,!(!E(Dt)&&_t===void 0||k(_t)))return C(Dt)||(Dt=function(Fr,jr){if(typeof Ea=="function"&&(jr=Ea.call(this,Fr,jr)),!k(jr))return jr}),cr[1]=Dt,nt.apply(null,cr)}})}Fe[ce][J]||de(Fe[ce],J,Fe[ce].valueOf),Y(Fe,Ce),G[be]=!0}),"./node_modules/core-js/modules/web.dom-collections.for-each.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/global.js"),m=d("./node_modules/core-js/internals/dom-iterables.js"),h=d("./node_modules/core-js/internals/array-for-each.js"),y=d("./node_modules/core-js/internals/create-non-enumerable-property.js");for(var x in m){var v=A[x],b=v&&v.prototype;if(b&&b.forEach!==h)try{y(b,"forEach",h)}catch{b.forEach=h}}}),"./node_modules/core-js/modules/web.dom-collections.iterator.js":(function(c,u,d){var A=d("./node_modules/core-js/internals/global.js"),m=d("./node_modules/core-js/internals/dom-iterables.js"),h=d("./node_modules/core-js/modules/es.array.iterator.js"),y=d("./node_modules/core-js/internals/create-non-enumerable-property.js"),x=d("./node_modules/core-js/internals/well-known-symbol.js"),v=x("iterator"),b=x("toStringTag"),j=h.values;for(var C in m){var E=A[C],k=E&&E.prototype;if(k){if(k[v]!==j)try{y(k,v,j)}catch{k[v]=j}if(k[b]||y(k,b,C),m[C]){for(var D in h)if(k[D]!==h[D])try{y(k,D,h[D])}catch{k[D]=h[D]}}}}}),"./node_modules/es6-promise/dist/es6-promise.js":(function(c){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(u,d){c.exports=d()})(this,(function(){function u(Le){var je=typeof Le;return Le!==null&&(je==="object"||je==="function")}function d(Le){return typeof Le=="function"}var A=void 0;Array.isArray?A=Array.isArray:A=function(Le){return Object.prototype.toString.call(Le)==="[object Array]"};var m=A,h=0,y=void 0,x=void 0,v=function(je,Ze){z[h]=je,z[h+1]=Ze,h+=2,h===2&&(x?x(W):X())};function b(Le){x=Le}function j(Le){v=Le}var C=typeof window<"u"?window:void 0,E=C||{},k=E.MutationObserver||E.WebKitMutationObserver,D=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",L=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function F(){return function(){return process.nextTick(W)}}function Q(){return typeof y<"u"?function(){y(W)}:I()}function U(){var Le=0,je=new k(W),Ze=document.createTextNode("");return je.observe(Ze,{characterData:!0}),function(){Ze.data=Le=++Le%2}}function P(){var Le=new MessageChannel;return Le.port1.onmessage=W,function(){return Le.port2.postMessage(0)}}function I(){var Le=setTimeout;return function(){return Le(W,1)}}var z=new Array(1e3);function W(){for(var Le=0;Le<h;Le+=2){var je=z[Le],Ze=z[Le+1];je(Ze),z[Le]=void 0,z[Le+1]=void 0}h=0}function ie(){try{var Le=Function("return this")().require("vertx");return y=Le.runOnLoop||Le.runOnContext,Q()}catch{return I()}}var X=void 0;D?X=F():k?X=U():L?X=P():C===void 0?X=ie():X=I();function le(Le,je){var Ze=this,Te=new this.constructor(de);Te[he]===void 0&&nt(Te);var pt=Ze._state;if(pt){var At=arguments[pt-1];v(function(){return ge(pt,Te,At,Ze._result)})}else ce(Ze,Te,Le,je);return Te}function re(Le){var je=this;if(Le&&typeof Le=="object"&&Le.constructor===je)return Le;var Ze=new je(de);return se(Ze,Le),Ze}var he=Math.random().toString(36).substring(2);function de(){}var ve=void 0,B=1,R=2;function G(){return new TypeError("You cannot resolve a promise with itself")}function ne(){return new TypeError("A promises callback cannot return that same promise.")}function pe(Le,je,Ze,Te){try{Le.call(je,Ze,Te)}catch(pt){return pt}}function xe(Le,je,Ze){v(function(Te){var pt=!1,At=pe(Ze,je,function(qe){pt||(pt=!0,je!==qe?se(Te,qe):be(Te,qe))},function(qe){pt||(pt=!0,Ce(Te,qe))},"Settle: "+(Te._label||" unknown promise"));!pt&&At&&(pt=!0,Ce(Te,At))},Le)}function Ae(Le,je){je._state===B?be(Le,je._result):je._state===R?Ce(Le,je._result):ce(je,void 0,function(Ze){return se(Le,Ze)},function(Ze){return Ce(Le,Ze)})}function Y(Le,je,Ze){je.constructor===Le.constructor&&Ze===le&&je.constructor.resolve===re?Ae(Le,je):Ze===void 0?be(Le,je):d(Ze)?xe(Le,je,Ze):be(Le,je)}function se(Le,je){if(Le===je)Ce(Le,G());else if(u(je)){var Ze=void 0;try{Ze=je.then}catch(Te){Ce(Le,Te);return}Y(Le,je,Ze)}else be(Le,je)}function ee(Le){Le._onerror&&Le._onerror(Le._result),J(Le)}function be(Le,je){Le._state===ve&&(Le._result=je,Le._state=B,Le._subscribers.length!==0&&v(J,Le))}function Ce(Le,je){Le._state===ve&&(Le._state=R,Le._result=je,v(ee,Le))}function ce(Le,je,Ze,Te){var pt=Le._subscribers,At=pt.length;Le._onerror=null,pt[At]=je,pt[At+B]=Ze,pt[At+R]=Te,At===0&&Le._state&&v(J,Le)}function J(Le){var je=Le._subscribers,Ze=Le._state;if(je.length!==0){for(var Te=void 0,pt=void 0,At=Le._result,qe=0;qe<je.length;qe+=3)Te=je[qe],pt=je[qe+Ze],Te?ge(Ze,Te,pt,At):pt(At);Le._subscribers.length=0}}function ge(Le,je,Ze,Te){var pt=d(Ze),At=void 0,qe=void 0,Pe=!0;if(pt){try{At=Ze(Te)}catch(mt){Pe=!1,qe=mt}if(je===At){Ce(je,ne());return}}else At=Te;je._state!==ve||(pt&&Pe?se(je,At):Pe===!1?Ce(je,qe):Le===B?be(je,At):Le===R&&Ce(je,At))}function Je(Le,je){try{je(function(Te){se(Le,Te)},function(Te){Ce(Le,Te)})}catch(Ze){Ce(Le,Ze)}}var Ke=0;function Fe(){return Ke++}function nt(Le){Le[he]=Ke++,Le._state=void 0,Le._result=void 0,Le._subscribers=[]}function Se(){return new Error("Array Methods must be provided an Array")}var Me=(function(){function Le(je,Ze){this._instanceConstructor=je,this.promise=new je(de),this.promise[he]||nt(this.promise),m(Ze)?(this.length=Ze.length,this._remaining=Ze.length,this._result=new Array(this.length),this.length===0?be(this.promise,this._result):(this.length=this.length||0,this._enumerate(Ze),this._remaining===0&&be(this.promise,this._result))):Ce(this.promise,Se())}return Le.prototype._enumerate=function(Ze){for(var Te=0;this._state===ve&&Te<Ze.length;Te++)this._eachEntry(Ze[Te],Te)},Le.prototype._eachEntry=function(Ze,Te){var pt=this._instanceConstructor,At=pt.resolve;if(At===re){var qe=void 0,Pe=void 0,mt=!1;try{qe=Ze.then}catch(st){mt=!0,Pe=st}if(qe===le&&Ze._state!==ve)this._settledAt(Ze._state,Te,Ze._result);else if(typeof qe!="function")this._remaining--,this._result[Te]=Ze;else if(pt===Ge){var Qe=new pt(de);mt?Ce(Qe,Pe):Y(Qe,Ze,qe),this._willSettleAt(Qe,Te)}else this._willSettleAt(new pt(function(st){return st(Ze)}),Te)}else this._willSettleAt(At(Ze),Te)},Le.prototype._settledAt=function(Ze,Te,pt){var At=this.promise;At._state===ve&&(this._remaining--,Ze===R?Ce(At,pt):this._result[Te]=pt),this._remaining===0&&be(At,this._result)},Le.prototype._willSettleAt=function(Ze,Te){var pt=this;ce(Ze,void 0,function(At){return pt._settledAt(B,Te,At)},function(At){return pt._settledAt(R,Te,At)})},Le})();function at(Le){return new Me(this,Le).promise}function ke(Le){var je=this;return m(Le)?new je(function(Ze,Te){for(var pt=Le.length,At=0;At<pt;At++)je.resolve(Le[At]).then(Ze,Te)}):new je(function(Ze,Te){return Te(new TypeError("You must pass an array to race."))})}function Ve(Le){var je=this,Ze=new je(de);return Ce(Ze,Le),Ze}function ze(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function rt(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var Ge=(function(){function Le(je){this[he]=Fe(),this._result=this._state=void 0,this._subscribers=[],de!==je&&(typeof je!="function"&&ze(),this instanceof Le?Je(this,je):rt())}return Le.prototype.catch=function(Ze){return this.then(null,Ze)},Le.prototype.finally=function(Ze){var Te=this,pt=Te.constructor;return d(Ze)?Te.then(function(At){return pt.resolve(Ze()).then(function(){return At})},function(At){return pt.resolve(Ze()).then(function(){throw At})}):Te.then(Ze,Ze)},Le})();Ge.prototype.then=le,Ge.all=at,Ge.race=ke,Ge.resolve=re,Ge.reject=Ve,Ge._setScheduler=b,Ge._setAsap=j,Ge._asap=v;function bt(){var Le=void 0;if(typeof e0<"u")Le=e0;else if(typeof self<"u")Le=self;else try{Le=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var je=Le.Promise;if(je){var Ze=null;try{Ze=Object.prototype.toString.call(je.resolve())}catch{}if(Ze==="[object Promise]"&&!je.cast)return}Le.Promise=Ge}return Ge.polyfill=bt,Ge.Promise=Ge,Ge}))}),html2canvas:(function(c){c.exports=a}),jspdf:(function(c){c.exports=r})},i={};function o(c){var u=i[c];if(u!==void 0)return u.exports;var d=i[c]={exports:{}};return s[c].call(d.exports,d,d.exports,o),d.exports}(function(){o.n=function(c){var u=c&&c.__esModule?function(){return c.default}:function(){return c};return o.d(u,{a:u}),u}})(),(function(){o.d=function(c,u){for(var d in u)o.o(u,d)&&!o.o(c,d)&&Object.defineProperty(c,d,{enumerable:!0,get:u[d]})}})(),(function(){o.o=function(c,u){return Object.prototype.hasOwnProperty.call(c,u)}})(),(function(){o.r=function(c){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})}})();var l={};return(function(){/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/o.r(l);var c=o("./src/worker.js");o("./src/plugin/jspdf-plugin.js"),o("./src/plugin/pagebreaks.js"),o("./src/plugin/hyperlinks.js");var u=function d(A,m){var h=new d.Worker(m);return A?h.from(A).save():h};u.Worker=c.default,l.default=u})(),l=l.default,l})()})})(eS)),eS.exports}var age=rge();const nge=hf(age),Qg="http://localhost:5000/api",sge=()=>{const[e,t]=S.useState(!1),[r,a]=S.useState(""),[s,i]=S.useState(!1),[o,l]=S.useState(!1),[c,u]=S.useState(null),[d,A]=S.useState([]),[m,h]=S.useState(""),[y,x]=S.useState("All"),[v,b]=S.useState(""),[j,C]=S.useState(null),[E,k]=S.useState(null),[D,L]=S.useState("#6B46C1"),[F,Q]=S.useState(!1),[U,P]=S.useState(null),[I,z]=S.useState(!1),W=S.useRef(null);S.useEffect(()=>{if(typeof window<"u"){L(localStorage.getItem("color")||"#6B46C1");const ee=localStorage.getItem("schoolId");C(ee),ee||(a("School ID is missing. Please set your school ID."),b(" School ID not found in localStorage"))}},[]);const ie=async ee=>{if(!ee)return null;try{console.log("Fetching school details for ID:",ee);const be=[`${Qg}/school/${ee}`,`${Qg}/schools/${ee}`,`${Qg}/school?id=${ee}`];let Ce=null,ce=null;for(const ge of be)try{if(console.log("Trying endpoint:",ge),Ce=await de(ge),Ce.ok){ce=await Ce.json(),console.log("School API Response:",ce);break}}catch(Je){console.log(`Endpoint ${ge} failed:`,Je.message);continue}if(ce){let ge=null;if(ce.success&&ce.data||ce.data?ge=ce.data:(ce._id||ce.name)&&(ge=ce),ge){const Je={name:ge.name||"School Name Not Available",address:ge.address||"Address Not Available",phone:ge.phone||"Phone Not Available",email:ge.email||"Email Not Available",logo:ge.logoUrl?`http://localhost:5000${ge.logoUrl}`:"/placeholder.svg?height=100&width=100&text=School+Logo",schoolCode:ge.schoolCode||"N/A",adminName:ge.adminName||"N/A",adminEmail:ge.adminEmail||"N/A",adminContact:ge.adminContact||"N/A"};return console.log("Processed school details:",Je),k(Je),Je}}console.warn("Could not fetch school details, using fallback");const J={name:"School Name Not Available",address:"Address Not Available",phone:"Phone Not Available",email:"Email Not Available",logo:"/placeholder.svg?height=100&width=100&text=School+Logo",schoolCode:ee,adminName:"N/A",adminEmail:"N/A",adminContact:"N/A"};return k(J),J}catch(be){console.error("Error fetching school details:",be);const Ce={name:"School Name Not Available",address:"Address Not Available",phone:"Phone Not Available",email:"Email Not Available",logo:"/placeholder.svg?height=100&width=100&text=School+Logo",schoolCode:ee,adminName:"N/A",adminEmail:"N/A",adminContact:"N/A"};return k(Ce),Ce}};S.useEffect(()=>{j&&!E&&ie(j)},[j,E]);const X=ee=>`${Number(ee||0).toLocaleString()}`,le=ee=>{if(!ee)return"N/A";try{return new Date(ee).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Invalid Date"}},re=ee=>({Delivered:"bg-green-100 text-green-800",Processing:"bg-yellow-100 text-yellow-800",Shipped:"bg-blue-100 text-blue-800",Cancelled:"bg-red-100 text-red-800",Pending:"bg-gray-100 text-gray-800",Paid:"bg-green-100 text-green-800"})[ee]||"bg-gray-100 text-gray-800",he=ee=>ee==="UNIFORM"||ee==="uniform"?n.jsx(yd,{className:"w-4 h-4"}):n.jsx(Un,{className:"w-4 h-4"}),de=async(ee,be=1e4)=>{const Ce=new AbortController,ce=setTimeout(()=>Ce.abort(),be);try{const J=await fetch(ee,{signal:Ce.signal,headers:{"Content-Type":"application/json",Accept:"application/json"}});return clearTimeout(ce),J}catch(J){throw clearTimeout(ce),J}},ve=async()=>{if(!j){a("School ID is required to fetch orders."),b(ee=>ee+`
 Cannot fetch orders: School ID is missing`);return}t(!0),a(""),b(""),E||await ie(j);try{const ee=[];let be=[],Ce=[],ce=[];ee.push(" Testing API connectivity..."),ee.push(` Using School ID: ${j}`),ee.push(" Fetching uniform orders...");try{const ge=await de(`${Qg}/uniform/orders?schoolId=${j}`);if(ee.push(` Uniform API Response: ${ge.status} ${ge.statusText}`),ge.ok){const Je=await ge.json(),Ke=Je.data||Je||[];Array.isArray(Ke)&&(be=Ke.map((Fe,nt)=>{try{return{id:Fe._id||Fe.id||`uniform-${nt}`,type:"UNIFORM",orderType:"uniform",date:Fe.createdAt||Fe.date||new Date().toISOString(),status:Fe.status||"Pending",items:Fe.items?.map(Se=>`${Se.uniformItem?.name||Se.name||"Unknown"} ${Se.size?`(${Se.size})`:""} x ${Se.quantity||1}`)||[`Order #${nt+1}`],total:Number(Fe.totalAmount||Fe.total||0),customer:Fe.user?.name||Fe.customerName||"N/A",class:Fe.user?.class||Fe.class||"N/A",rawOrder:Fe}}catch(Se){return ee.push(` Error processing uniform order ${nt}: ${Se.message}`),null}}).filter(Boolean)),ee.push(` Processed Uniform Orders: ${be.length}`)}}catch(ge){ee.push(` Uniform Fetch Error: ${ge.message}`)}ee.push(" Fetching book orders...");try{const ge=await de(`${Qg}/orders?schoolId=${j}`);if(ee.push(` Book API Response: ${ge.status} ${ge.statusText}`),ge.ok){const Je=await ge.json(),Ke=Array.isArray(Je)?Je:Je.data||Je.orders||[];Array.isArray(Ke)&&(Ce=Ke.map((Fe,nt)=>{try{return{id:Fe._id||Fe.id||`book-${nt}`,type:"BOOKS",orderType:"book",date:Fe.createdAt||Fe.date||new Date().toISOString(),status:Fe.status||"Pending",items:Fe.items?.map(Se=>`${Se.book?.title||Se.title||Se.name||"Unknown"} x ${Se.quantity||1}`)||[`Order #${nt+1}`],total:Number(Fe.totalAmount||Fe.total||0),customer:Fe.studentDetails?.name||Fe.student?.name||Fe.customerName||"N/A",class:Fe.studentDetails?.class||Fe.student?.class||Fe.class||"N/A",rawOrder:Fe}}catch(Se){return ee.push(` Error processing book order ${nt}: ${Se.message}`),null}}).filter(Boolean)),ee.push(` Processed Book Orders: ${Ce.length}`)}}catch(ge){ee.push(` Book Fetch Error: ${ge.message}`)}ee.push(" Fetching fee orders...");try{const ge=await de(`${Qg}/fee?schoolId=${j}`);ee.push(` Fee API Response: ${ge.status} ${ge.statusText}`),ge.ok&&(ce=((await ge.json())?.data||[]).map((Fe,nt)=>{try{return{id:Fe._id||`fee-${nt}`,type:"FEE",orderType:"fee",date:Fe.createdAt,status:Fe.status,items:[`${Fe.term||"Fee"} Fee`],total:Fe.totalAmount,customer:Fe.student?.name||"N/A",class:Fe.student?.class||"N/A",rawOrder:Fe,feeId:Fe._id,installments:Fe.installments}}catch(Se){return ee.push(` Error processing fee order ${nt}: ${Se.message}`),null}}).filter(Boolean),ee.push(` Processed Fee Orders: ${ce.length}`))}catch(ge){ee.push(` Fee Fetch Error: ${ge.message}`)}const J=[...be,...Ce,...ce].sort((ge,Je)=>new Date(Je.date)-new Date(ge.date));ee.push(` Total Combined Orders: ${J.length}`),A(J),b(ee.join(`
`))}catch(ee){const be=`Failed to fetch orders: ${ee.message}`;a(be),b(Ce=>Ce+`
 General Error: ${be}`)}finally{t(!1)}};S.useEffect(()=>{j&&ve()},[j]),console.log("Debug Orders:",v);const B=["All","Uniform","Books","Delivered","Processing","Shipped","Cancelled","Pending","Paid"],R=S.useMemo(()=>{let ee=d;return y==="Uniform"?ee=ee.filter(be=>be.type==="UNIFORM"):y==="Books"?ee=ee.filter(be=>be.type==="BOOKS"):y==="Fee"?ee=ee.filter(be=>be.type==="FEE"):y!=="All"&&(ee=ee.filter(be=>be.status===y)),ee},[y,d]),G=S.useMemo(()=>{const ee=m.toLowerCase();return R.filter(be=>be.customer.toLowerCase().includes(ee)||be.id.toLowerCase().includes(ee)||be.items.some(Ce=>Ce.toLowerCase().includes(ee)))},[m,R]),ne=S.useMemo(()=>{const ee=d.length,be=d.filter(J=>J.status==="Delivered"||J.status==="Paid").length,Ce=d.filter(J=>J.status==="Processing").length,ce=d.filter(J=>J.status==="Delivered"||J.status==="Paid").reduce((J,ge)=>J+ge.total,0);return{total:ee,delivered:be,processing:Ce,totalRevenue:ce}},[d]),pe=ee=>{u(ee),i(!0)},xe=async ee=>{z(!0),u(ee);try{let be,Ce=null,ce=E;!ce&&j&&(console.log("School data not available, fetching..."),ce=await ie(j)),ee.orderType==="uniform"?Ce=ee.rawOrder.user:ee.orderType==="book"?Ce=ee.rawOrder.studentDetails||ee.rawOrder.student:ee.orderType==="fee"&&(Ce=ee.rawOrder.student),Ce||(Ce={name:ee.customer,studentId:"N/A",phone:"N/A",email:"N/A",class:ee.class}),ee.orderType==="fee"?be={fee:ee.rawOrder,installment:ee.installments?.[0]||{},student:Ce,school:ce}:be={order:ee.rawOrder,student:Ce,school:ce},console.log("Invoice data prepared:",be),P(be),l(!0)}catch(be){console.error("Error loading invoice data:",be),alert("Failed to load invoice data. Please check console for details.")}finally{z(!1)}},Ae=(ee,be)=>{if(!ee||!be)return"";const Ce=new Date().toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"});let ce,J,ge,Je,Ke,Fe,nt,Se=be.student,Me=be.school;if(console.log("Generating invoice HTML with school data:",Me),ee.orderType==="fee"){const at=be.fee,ke=be.installment;nt="Fee Receipt",ce=ke.receiptNumber||"N/A",J=le(ke.paidDate||at.createdAt),Ke=ke.paymentMethod||"N/A",Fe=ke.status||"Pending",Je=ke.paid,ge=`
        <div class="fee-details-section">
          <h3 class="section-title">Fee Installment Details</h3>
          <div class="detail-row">
            <span class="detail-label">Installment Title:</span>
            <span class="detail-value">Installment 1 (Term: ${at.term||"N/A"})</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Installment Value:</span>
            <span class="detail-value">${ke.amount?.toFixed(2)||"0.00"}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Amount Paid:</span>
            <span class="detail-value">${ke.paid?.toFixed(2)||"0.00"}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Paid Date:</span>
            <span class="detail-value">${le(ke.paidDate)}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Receipt Number:</span>
            <span class="detail-value">${ke.receiptNumber||"N/A"}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Payment Method:</span>
            <span class="detail-value">${ke.paymentMethod||"N/A"}</span>
          </div>
        </div>
      `}else{const at=be.order;nt="Invoice",ce=ee.id?.slice(-8)||"N/A",J=le(ee.date),Ke=at.paymentMethod||"N/A",Fe=ee.status||"Pending",Je=ee.total,ge=`
        <div class="items-section">
          <h3 class="section-title">Order Items</h3>
          <table class="items-table">
            <thead>
              <tr>
                <th>Description</th>
                <th>Quantity</th>
                <th>Unit Price</th>
                <th>Amount</th>
              </tr>
            </thead>
            <tbody>
              ${at.items.map((ke,Ve)=>{const ze=ee.orderType==="book"?ke.book?.title:ke.uniformItem?.name,rt=ee.orderType==="book"?ke.price:ke.priceAtOrder,Ge=ke.quantity,bt=ee.orderType==="uniform"?` (Size: ${ke.size})`:"",Le=(Ge*rt).toFixed(2);return`
                  <tr style="border-bottom: 1px solid #eee;">
                    <td style="padding: 12px 8px; text-align: left; border-right: 1px solid #eee;">
                      <div style="font-weight: 500; color: #333; margin-bottom: 2px;">${ze}</div>
                      ${bt?`<div style="font-size: 11px; color: #666;">${bt}</div>`:""}
                    </td>
                    <td style="padding: 12px 8px; text-align: center; border-right: 1px solid #eee; font-weight: 500;">${Ge}</td>
                    <td style="padding: 12px 8px; text-align: right; border-right: 1px solid #eee;">${rt?.toFixed(2)||"0.00"}</td>
                    <td style="padding: 12px 8px; text-align: right; font-weight: 600; color: #333;">${Le}</td>
                  </tr>
                `}).join("")}
            </tbody>
          </table>
        </div>
      `}return`
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>${nt} #${ce}</title>
      <style>
        * {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
        }

        body {
          font-family: 'Helvetica Neue', Arial, sans-serif;
          line-height: 1.6;
          color: #333;
          background: #f8f9fa;
          padding: 20px;
        }

        .invoice-container {
          max-width: 800px;
          margin: 0 auto;
          background: white;
          border-radius: 10px;
          overflow: hidden;
          box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .invoice-header {
          color: #333;
          padding: 40px;
          text-align: center;
        }

        .invoice-title {
          font-size: 32px;
          font-weight: bold;
          margin-bottom: 10px;
          text-transform: uppercase;
          letter-spacing: 2px;
        }

        .invoice-body {
          padding: 40px;
        }

        .school-info {
          display: flex;
          align-items: center;
          margin-bottom: 40px;
          padding-bottom: 30px;
          border-bottom: 3px solid #f0f0f0;
        }

        .school-logo {
          width: 80px;
          height: 80px;
          border-radius: 10px;
          margin-right: 30px;
          object-fit: contain;
          border: 2px solid #eee;
        }

        .school-details h2 {
          font-size: 24px;
          color: #333;
          margin-bottom: 8px;
          font-weight: bold;
        }

        .school-details p {
          color: #666;
          margin-bottom: 4px;
          font-size: 14px;
        }

        .invoice-meta {
          display: flex;
          justify-content: space-between;
          margin-bottom: 40px;
          gap: 40px;
        }

        .invoice-details, .billing-details {
          flex: 1;
          background: #f8f9fa;
          padding: 25px;
          border-radius: 8px;
          border-left: 4px solid ${D};
        }

        .invoice-details h3, .billing-details h3 {
          font-size: 18px;
          color: #333;
          margin-bottom: 15px;
          font-weight: bold;
        }

        .detail-row {
          display: flex;
          justify-content: space-between;
          margin-bottom: 8px;
          padding: 5px 0;
        }

        .detail-label {
          font-weight: 600;
          color: #555;
        }

        .detail-value {
          color: #333;
          font-weight: 500;
        }

        .items-section {
          margin: 40px 0;
        }

        .section-title {
          font-size: 20px;
          color: #333;
          margin-bottom: 20px;
          font-weight: bold;
          text-transform: uppercase;
          letter-spacing: 1px;
        }

        .items-table {
          width: 100%;
          border-collapse: collapse;
          border: 1px solid #ddd;
          border-radius: 8px;
          overflow: hidden;
          box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .items-table thead {
          background: linear-gradient(135deg, ${D} 0%, ${D} 100%);
          color: white;
        }

        .items-table th {
          padding: 15px 10px;
          text-align: left;
          font-weight: bold;
          text-transform: uppercase;
          letter-spacing: 0.5px;
          font-size: 12px;
        }

        .items-table th:nth-child(2) {
          text-align: center;
        }

        .items-table th:nth-child(3),
        .items-table th:nth-child(4) {
          text-align: right;
        }

        .items-table tbody tr:nth-child(even) {
          background: #f9f9f9;
        }

        .items-table tbody tr:hover {
          background: #f0f0f0;
        }

        .fee-details-section {
          margin: 40px 0;
          background: #f8f9fa;
          padding: 25px;
          border-radius: 8px;
          border: 1px solid #eee;
          box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        }

        .fee-details-section .section-title {
          font-size: 20px;
          color: #333;
          margin-bottom: 20px;
          font-weight: bold;
          text-transform: uppercase;
          letter-spacing: 1px;
          border-bottom: 2px solid ${D};
          padding-bottom: 10px;
        }

        .fee-details-section .detail-row {
          display: flex;
          justify-content: space-between;
          margin-bottom: 10px;
          padding: 8px 0;
          border-bottom: 1px dashed #e0e0e0;
        }

        .fee-details-section .detail-row:last-child {
          border-bottom: none;
          margin-bottom: 0;
        }

        .fee-details-section .detail-label {
          font-weight: 600;
          color: #555;
          flex: 1;
        }

        .fee-details-section .detail-value {
          color: #333;
          font-weight: 500;
          text-align: right;
          flex: 1;
        }

        .summary-section {
          margin-top: 40px;
          border-top: 3px solid #f0f0f0;
          padding-top: 30px;
        }

        .summary-rows {
          max-width: 400px;
          margin-left: auto;
        }

        .summary-row {
          display: flex;
          justify-content: space-between;
          padding: 10px 0;
          border-bottom: 1px solid #eee;
        }

        .summary-row:last-child {
          border-bottom: none;
        }

        .summary-label {
          font-weight: 600;
          color: #555;
        }

        .summary-value {
          font-weight: 600;
          color: #333;
        }

        .total-row {
          background: linear-gradient(135deg, ${D} 0%, ${D} 100%);
          color: white;
          padding: 15px 20px;
          border-radius: 8px;
          margin-top: 15px;
        }

        .total-row .summary-label,
        .total-row .summary-value {
          color: white;
          font-size: 18px;
          font-weight: bold;
        }

        .payment-status {
          display: inline-block;
          padding: 6px 12px;
          border-radius: 20px;
          font-size: 12px;
          font-weight: bold;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }

        .status-paid {
          background: #d4edda;
          color: #155724;
          border: 1px solid #c3e6cb;
        }

        .status-pending {
          background: #fff3cd;
          color: #856404;
          border: 1px solid #ffeaa7;
        }

        .status-delivered {
          background: #d4edda;
          color: #155724;
          border: 1px solid #c3e6cb;
        }

        .status-processing {
          background: #fff3cd;
          color: #856404;
          border: 1px solid #ffeaa7;
        }

        .status-shipped {
          background: #d1ecf1;
          color: #0c5460;
          border: 1px solid #bee5eb;
        }

        .status-cancelled {
          background: #f8d7da;
          color: #721c24;
          border: 1px solid #f5c6cb;
        }

        .footer {
          margin-top: 50px;
          text-align: center;
          padding: 30px;
          background: #f8f9fa;
          border-radius: 8px;
        }

        .thank-you {
          font-size: 18px;
          color: #333;
          font-weight: 600;
          margin-bottom: 10px;
        }

        .footer-note {
          font-size: 14px;
          color: #666;
          font-style: italic;
        }

        .watermark {
          position: fixed;
          bottom: 20px;
          right: 20px;
          font-size: 10px;
          color: #ccc;
          opacity: 0.7;
        }

        @media print {
          body {
            background: white;
            padding: 0;
          }

          .invoice-container {
            box-shadow: none;
            border-radius: 0;
          }
        }
      </style>
    </head>
    <body>
      <div class="invoice-container">
        <div class="invoice-header">
          <div class="invoice-title">${nt}</div>
        </div>

        <div class="invoice-body">
          <div class="school-info">
            <img src="${Me?.logo||"/placeholder.svg?height=100&width=100&text=School+Logo"}" alt="School Logo" class="school-logo" />
            <div class="school-details">
              <h2>${Me?.name||"School Name Not Available"}</h2>
              <p><strong>Address:</strong> ${Me?.address||"Address Not Available"}</p>
              <p><strong>Phone:</strong> ${Me?.phone||"Phone Not Available"}</p>
              <p><strong>Email:</strong> ${Me?.email||"Email Not Available"}</p>
              ${Me?.schoolCode?`<p><strong>School Code:</strong> ${Me.schoolCode}</p>`:""}
            </div>
          </div>

          <div class="invoice-meta">
            <div class="invoice-details">
              <h3>${nt} Details</h3>
              <div class="detail-row">
                <span class="detail-label">${nt} Number:</span>
                <span class="detail-value">#${ce}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Date:</span>
                <span class="detail-value">${J}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Generated Date:</span>
                <span class="detail-value">${Ce}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Type:</span>
                <span class="detail-value">${ee.type}</span>
              </div>
            </div>

            <div class="billing-details">
              <h3>Billed To</h3>
              <div class="detail-row">
                <span class="detail-label">Student Name:</span>
                <span class="detail-value">${Se?.name||"N/A"}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Student ID:</span>
                <span class="detail-value">${Se?.studentId||Se?.rollNumber||Se?._id||"N/A"}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Phone:</span>
                <span class="detail-value">${Se?.phone||"N/A"}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Email:</span>
                <span class="detail-value">${Se?.email||"N/A"}</span>
              </div>
            </div>
          </div>

          ${ge}

          <div class="summary-section">
            <div class="summary-rows">
              <div class="summary-row">
                <span class="summary-label">Payment Method:</span>
                <span class="summary-value">${Ke}</span>
              </div>
              <div class="summary-row">
                <span class="summary-label">Status:</span>
                <span class="summary-value">
                  <span class="payment-status status-${Fe?.toLowerCase()}">
                    ${Fe||"Pending"}
                  </span>
                </span>
              </div>
              <div class="summary-row total-row">
                <span class="summary-label">${ee.orderType==="fee"?"Total Amount Paid:":"Total Amount:"}</span>
                <span class="summary-value">${Je?.toFixed(2)||"0.00"}</span>
              </div>
            </div>
          </div>

          <div class="footer">
            <div class="thank-you">Thank you for your ${ee.orderType==="fee"?"payment":"purchase"}!</div>
            <div class="footer-note">
              This is a computer-generated ${ee.orderType==="fee"?"receipt":"invoice"} and does not require a signature.
              <br>
              For any queries, please contact the school administration.
            </div>
          </div>
        </div>
      </div>

      <div class="watermark">
        Generated on ${Ce} | ${Me?.name||"School Name"}
      </div>
    </body>
    </html>
    `},Y=async(ee,be=null)=>{if(!ee||!be){alert("Error: Order data not available for PDF generation.");return}Q(!0);try{const Ce=Ae(ee,be),ce={filename:`${ee.orderType==="fee"?"fee_receipt":"invoice"}_${ee.id.slice(-8)}_${Date.now()}.pdf`,margin:20,image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"pt",format:"a4",orientation:"portrait"}};await nge().from(Ce).set(ce).save(),alert(`${ee.orderType==="fee"?"Fee Receipt":"Invoice"} PDF downloaded successfully!`)}catch(Ce){console.error("PDF generation error:",Ce),alert("Failed to generate PDF. Please try again.")}finally{Q(!1)}},se=ee=>{const be=E?.name||"School Name";let Ce;ee.orderType==="fee"?Ce=`FEE RECEIPT #${ee.id.slice(-8)}
${be}
Date: ${le(ee.date)}

Billed to: ${ee.customer}
Fee Details:
${ee.items.join(`
`)}

TOTAL: ${X(ee.total)}
Status: ${ee.status}`:Ce=`INVOICE #${ee.id.slice(-8)}
${be}
Date: ${le(ee.date)}

Billed to: ${ee.customer}
Class: ${ee.class}

ITEMS:
${ee.items.join(`
`)}

TOTAL: ${X(ee.total)}
Payment: ${ee.rawOrder?.paymentMethod||"N/A"}
Status: ${ee.status}`,navigator.share?navigator.share({title:ee.orderType==="fee"?"Fee Receipt Details":"Invoice Details",text:Ce}):(navigator.clipboard.writeText(Ce),alert("Invoice details copied to clipboard!"))};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r&&n.jsxs("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 bg-red-100 border border-red-400 text-red-800 px-4 py-3 rounded-lg shadow-lg flex items-center gap-2 z-50",children:[n.jsx(Da,{className:"w-5 h-5"}),n.jsx("span",{children:r}),n.jsx("button",{onClick:()=>a(""),className:"ml-2 hover:text-red-900",children:n.jsx(pr,{className:"w-4 h-4"})})]}),n.jsx("div",{className:"text-white p-6 rounded-b-3xl shadow-lg",style:{backgroundColor:D},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ia,{className:"w-6 h-6"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Order History"}),n.jsx("p",{className:"text-white/80 mt-1",children:"Track and manage all orders efficiently"}),E&&n.jsxs("p",{className:"text-white/60 text-sm mt-1",children:[E.name," | School ID: ",j]})]})]}),n.jsxs("button",{onClick:ve,disabled:e||!j,className:"bg-white/20 hover:bg-white/30 text-white border border-white/30 px-4 py-2 rounded-lg flex items-center gap-2 transition-colors disabled:opacity-50",children:[e?n.jsx(Rr,{className:"w-4 h-4 animate-spin"}):n.jsx(ih,{className:"w-4 h-4"}),"Refresh"]})]})}),n.jsx("div",{className:"p-6",children:n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex flex-col lg:flex-row justify-between gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(on,{className:"absolute left-3 top-5 -translate-y-1/2 text-gray-400 w-4 h-4"}),n.jsx("input",{type:"text",placeholder:"Search orders...",value:m,onChange:ee=>h(ee.target.value),className:"pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 w-full lg:w-64"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Hl,{className:"text-gray-500 w-4 h-4"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:B.map(ee=>n.jsx("button",{onClick:()=>x(ee),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${y===ee?"text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,style:y===ee?{backgroundColor:D}:{},children:ee},ee))})]})]})})}),n.jsxs("div",{className:"p-6 grid grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border",children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:ne.total}),n.jsx("div",{className:"text-sm text-gray-600",children:"Total Orders"})]}),n.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:ne.delivered}),n.jsx("div",{className:"text-sm text-gray-600",children:"Delivered/Paid"})]}),n.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border",children:[n.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:ne.processing}),n.jsx("div",{className:"text-sm text-gray-600",children:"Processing"})]}),n.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border",children:[n.jsx("div",{className:"text-2xl font-bold",style:{color:D},children:X(ne.totalRevenue)}),n.jsx("div",{className:"text-sm text-gray-600",children:"Revenue"})]})]}),n.jsx("div",{className:"px-6 pb-6",children:n.jsx("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 border-b",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:e?n.jsx("tr",{children:n.jsxs("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-500",children:[n.jsx(Rr,{className:"w-8 h-8 mx-auto animate-spin mb-4",style:{color:D}}),n.jsx("p",{className:"text-lg font-medium",children:"Loading orders..."}),n.jsx("p",{className:"text-sm",children:"This may take a few moments"})]})}):G.length===0?n.jsx("tr",{children:n.jsxs("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-500",children:[n.jsx(Ia,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-lg font-medium",children:"No orders found"}),n.jsx("p",{className:"text-sm",children:d.length===0?"Check if your backend is running and accessible or verify your school ID":"Try adjusting your search or filter"}),d.length===0&&n.jsxs("button",{onClick:ve,disabled:!j,className:"mt-4 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 mx-auto disabled:opacity-50",children:[n.jsx(ih,{className:"w-4 h-4"}),"Retry"]})]})}):G.map(ee=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`p-2 rounded-lg ${ee.type==="UNIFORM"?"bg-purple-100 text-purple-600":ee.type==="FEE"?"bg-green-100 text-green-600":"bg-blue-100 text-blue-600"}`,children:ee.type==="FEE"?"":he(ee.type)}),n.jsxs("div",{children:[n.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["#",ee.id.slice(-8)]}),n.jsx("div",{className:"text-sm text-gray-500",children:le(ee.date)}),n.jsx("div",{className:`text-xs font-medium ${ee.type==="UNIFORM"?"text-purple-600":ee.type==="FEE"?"text-green-600":"text-blue-600"}`,children:ee.type})]})]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:ee.customer}),ee.class!=="N/A"&&n.jsx("div",{className:"text-sm text-gray-500",children:ee.class})]}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"max-w-xs",children:[ee.items.slice(0,2).map((be,Ce)=>n.jsx("div",{className:"text-sm text-gray-900 truncate",children:be},Ce)),ee.items.length>2&&n.jsxs("div",{className:"text-xs text-gray-500",children:["+",ee.items.length-2," more"]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-bold text-gray-900",children:X(ee.total)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex px-2.5 py-0.5 rounded-full text-xs font-medium ${re(ee.status)}`,children:ee.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>pe(ee),className:"p-2 rounded-full hover:bg-opacity-80 transition text-white",style:{backgroundColor:D},title:"View Details",children:n.jsx(cs,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>xe(ee),disabled:I,className:"p-2 rounded-full hover:bg-opacity-80 transition text-white",style:{backgroundColor:D},title:"View Invoice",children:I?n.jsx(Rr,{className:"w-4 h-4 animate-spin"}):n.jsx(Ln,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>se(ee),className:"p-2 rounded-full hover:bg-opacity-80 transition text-white",style:{backgroundColor:D},title:"Share as Text",children:n.jsx(X_,{className:"w-4 h-4"})})]})})]},ee.id))})]})})})}),s&&c&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto shadow-2xl",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[n.jsxs("h2",{className:"text-xl font-bold text-gray-800",children:["Order Details #",c.id.slice(-8)]}),n.jsx("button",{onClick:()=>i(!1),className:"text-gray-500 hover:text-gray-700",children:n.jsx(pr,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700",children:"Order Type:"}),n.jsx("p",{className:"text-gray-900",children:c.type})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700",children:"Date:"}),n.jsx("p",{className:"text-gray-900",children:le(c.date)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700",children:"Status:"}),n.jsx("span",{className:`inline-flex px-2.5 py-0.5 rounded-full text-xs font-medium ${re(c.status)}`,children:c.status})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700",children:"Total Amount:"}),n.jsx("p",{className:"text-gray-900 font-bold",children:X(c.total)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700",children:"Customer:"}),n.jsx("p",{className:"text-gray-900",children:c.customer})]}),c.class!=="N/A"&&n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700",children:"Class:"}),n.jsx("p",{className:"text-gray-900",children:c.class})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Items Ordered"}),n.jsx("div",{className:"space-y-3 border-t pt-4",children:c.rawOrder.items?.map((ee,be)=>{const Ce=c.type==="UNIFORM"?ee.uniformItem:ee.book;return Ce?n.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[n.jsx("img",{src:Ce.image||"/placeholder.svg?height=48&width=48",alt:c.type==="UNIFORM"?Ce.name:Ce.title,className:"w-12 h-12 object-cover rounded-md"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:c.type==="UNIFORM"?Ce.name:Ce.title}),n.jsxs("p",{className:"text-xs text-gray-600",children:["Quantity: ",ee.quantity,c.type==="UNIFORM"&&ee.size&&`, Size: ${ee.size}`]})]}),n.jsx("span",{className:"text-sm font-bold text-gray-900",children:X((ee.priceAtOrder||ee.price||0)*ee.quantity)})]},be):n.jsxs("div",{className:"flex items-center space-x-3 text-red-600 p-3 bg-red-50 rounded-lg",children:[n.jsx(Da,{className:"w-5 h-5"}),n.jsx("span",{children:"Item not found"})]},be)})})]})]})]})}),o&&c&&U&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b",style:{backgroundColor:D},children:[n.jsxs("div",{className:"flex items-center gap-3 text-white",children:[n.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:n.jsx(Xp,{className:"w-5 h-5"})}),n.jsx("h2",{className:"text-xl font-bold",children:c.orderType==="fee"?"Fee Receipt":"Invoice"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>Y(c,U),disabled:F,className:"bg-white/20 hover:bg-white/30 text-white border border-white/30 px-4 py-2 rounded-lg flex items-center gap-2 transition-colors disabled:opacity-50",children:[F?n.jsx(Rr,{className:"w-4 h-4 animate-spin"}):n.jsx(Ln,{className:"w-4 h-4"}),"PDF"]}),n.jsxs("button",{onClick:()=>se(c),className:"bg-white/20 hover:bg-white/30 text-white border border-white/30 px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[n.jsx(X_,{className:"w-4 h-4"}),"Share"]})]})]}),n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border max-w-2xl mx-auto",children:[n.jsxs("div",{className:"flex items-center p-6 border-b",children:[n.jsx("img",{src:U.school?.logo||"/placeholder.svg?height=80&width=80&text=School+Logo",alt:"School Logo",className:"w-16 h-16 object-contain rounded-lg border mr-4"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:U.school?.name||"School Name Not Available"}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Address:"," ",U.school?.address||"Address Not Available"]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Phone:"," ",U.school?.phone||"Phone Not Available"]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Email:"," ",U.school?.email||"Email Not Available"]}),U.school?.schoolCode&&n.jsxs("p",{className:"text-sm text-gray-600",children:["School Code: ",U.school.schoolCode]})]})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-gray-700 mb-3",children:c.orderType==="fee"?"Receipt Details":"Invoice Details"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:c.orderType==="fee"?"Receipt #:":"Invoice #:"}),n.jsxs("span",{className:"font-medium",children:["#",c.orderType==="fee"?U.installment?.receiptNumber||"N/A":c.id.slice(-8)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Date:"}),n.jsx("span",{className:"font-medium",children:le(c.orderType==="fee"&&U.installment?.paidDate||c.date)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Type:"}),n.jsx("span",{className:"font-medium",children:c.type})]})]})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-gray-700 mb-3",children:"Billed To"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Student Name:"}),n.jsx("span",{className:"font-medium",children:U.student?.name||"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Student ID:"}),n.jsx("span",{className:"font-medium",children:U.student?.studentId||"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Phone:"}),n.jsx("span",{className:"font-medium",children:U.student?.phone||"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Email:"}),n.jsx("span",{className:"font-medium",children:U.student?.email||"N/A"})]})]})]})]}),c.orderType==="fee"?n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-gray-700 mb-3",children:"Fee Installment Details"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[n.jsx("span",{className:"text-gray-600",children:"Installment Title:"}),n.jsxs("span",{className:"font-medium",children:["Installment 1 (Term:"," ",U.fee?.term||"N/A",")"]})]}),n.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[n.jsx("span",{className:"text-gray-600",children:"Installment Value:"}),n.jsxs("span",{className:"font-medium",children:["",U.installment?.amount?.toFixed(2)||"0.00"]})]}),n.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[n.jsx("span",{className:"text-gray-600",children:"Amount Paid:"}),n.jsxs("span",{className:"font-medium",children:["",U.installment?.paid?.toFixed(2)||"0.00"]})]}),n.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[n.jsx("span",{className:"text-gray-600",children:"Paid Date:"}),n.jsx("span",{className:"font-medium",children:le(U.installment?.paidDate)})]}),n.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[n.jsx("span",{className:"text-gray-600",children:"Receipt Number:"}),n.jsx("span",{className:"font-medium",children:U.installment?.receiptNumber||"N/A"})]}),n.jsxs("div",{className:"flex justify-between py-2",children:[n.jsx("span",{className:"text-gray-600",children:"Payment Method:"}),n.jsx("span",{className:"font-medium",children:U.installment?.paymentMethod||"N/A"})]})]})]}):n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-700 mb-3",children:"Order Items"}),n.jsx("div",{className:"border rounded-lg overflow-hidden",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Description"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Qty"}),n.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Unit Price"}),n.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Amount"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:c.rawOrder.items?.map((ee,be)=>{const Ce=c.orderType==="book"?ee.book?.title:ee.uniformItem?.name,ce=c.orderType==="book"?ee.price:ee.priceAtOrder,J=ee.quantity,ge=c.orderType==="uniform"?` (Size: ${ee.size})`:"",Je=(J*ce).toFixed(2);return n.jsxs("tr",{children:[n.jsxs("td",{className:"px-4 py-3",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:Ce}),ge&&n.jsx("div",{className:"text-xs text-gray-500",children:ge})]}),n.jsx("td",{className:"px-4 py-3 text-center text-sm text-gray-900",children:J}),n.jsxs("td",{className:"px-4 py-3 text-right text-sm text-gray-900",children:["",ce?.toFixed(2)||"0.00"]}),n.jsxs("td",{className:"px-4 py-3 text-right text-sm font-medium text-gray-900",children:["",Je]})]},be)})})]})})]}),n.jsx("div",{className:"border-t pt-4",children:n.jsxs("div",{className:"space-y-2 max-w-sm ml-auto",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Payment Method:"}),n.jsx("span",{className:"font-medium",children:c.orderType==="fee"?U.installment?.paymentMethod||"N/A":c.rawOrder?.paymentMethod||"N/A"})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Status:"}),n.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${re(c.status)}`,children:c.status})]}),n.jsxs("div",{className:"flex justify-between text-lg font-bold pt-2 border-t",style:{color:D},children:[n.jsx("span",{children:c.orderType==="fee"?"Total Amount Paid:":"Total Amount:"}),n.jsxs("span",{children:["",c.total?.toFixed(2)||"0.00"]})]})]})}),n.jsxs("div",{className:"text-center pt-6 border-t",children:[n.jsxs("p",{className:"text-lg font-medium text-gray-700 mb-2",children:["Thank you for your"," ",c.orderType==="fee"?"payment":"purchase","!"]}),n.jsxs("p",{className:"text-sm text-gray-500",children:["This is a computer-generated"," ",c.orderType==="fee"?"receipt":"invoice"," ","and does not require a signature.",n.jsx("br",{}),"For any queries, please contact the school administration."]})]})]})]})})]})}),c&&U&&n.jsx("div",{style:{display:"none"},ref:W,children:n.jsx("div",{dangerouslySetInnerHTML:{__html:Ae(c,U)}})})]})};var bS={},wS={},m7;function ige(){return m7||(m7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(wS)),wS}var NS={},p7;function z$(){return p7||(p7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(NS)),NS}var jS={},g7;function V$(){return g7||(g7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(jS)),jS}var SS={},x7;function UB(){return x7||(x7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const a=[],s=r.length;if(s===0)return a;let i=0,o="",l="",c=!1;for(r.charCodeAt(0)===46&&(a.push(""),i++);i<s;){const u=r[i];l?u==="\\"&&i+1<s?(i++,o+=r[i]):u===l?l="":o+=u:c?u==='"'||u==="'"?l=u:u==="]"?(c=!1,a.push(o),o=""):o+=u:u==="["?(c=!0,o&&(a.push(o),o="")):u==="."?o&&(a.push(o),o=""):o+=u,i++}return o&&a.push(o),a}e.toPath=t})(SS)),SS}var y7;function RB(){return y7||(y7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ige(),r=z$(),a=V$(),s=UB();function i(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?r.isDeepKey(c)?i(l,s.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=a.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return o(l,c,u);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function o(l,c,u){if(c.length===0)return u;let d=l;for(let A=0;A<c.length;A++){if(d==null||t.isUnsafeProperty(c[A]))return u;d=d[c[A]]}return d===void 0?u:d}e.get=i})(bS)),bS}var CS,v7;function oge(){return v7||(v7=1,CS=RB().get),CS}var lge=oge();const qp=hf(lge);var ES={exports:{}},$s={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b7;function cge(){if(b7)return $s;b7=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),m=Symbol.for("react.view_transition"),h=Symbol.for("react.client.reference");function y(x){if(typeof x=="object"&&x!==null){var v=x.$$typeof;switch(v){case e:switch(x=x.type,x){case r:case s:case a:case c:case u:case m:return x;default:switch(x=x&&x.$$typeof,x){case o:case l:case A:case d:return x;case i:return x;default:return v}}case t:return v}}}return $s.ContextConsumer=i,$s.ContextProvider=o,$s.Element=e,$s.ForwardRef=l,$s.Fragment=r,$s.Lazy=A,$s.Memo=d,$s.Portal=t,$s.Profiler=s,$s.StrictMode=a,$s.Suspense=c,$s.SuspenseList=u,$s.isContextConsumer=function(x){return y(x)===i},$s.isContextProvider=function(x){return y(x)===o},$s.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===e},$s.isForwardRef=function(x){return y(x)===l},$s.isFragment=function(x){return y(x)===r},$s.isLazy=function(x){return y(x)===A},$s.isMemo=function(x){return y(x)===d},$s.isPortal=function(x){return y(x)===t},$s.isProfiler=function(x){return y(x)===s},$s.isStrictMode=function(x){return y(x)===a},$s.isSuspense=function(x){return y(x)===c},$s.isSuspenseList=function(x){return y(x)===u},$s.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===r||x===s||x===a||x===c||x===u||typeof x=="object"&&x!==null&&(x.$$typeof===A||x.$$typeof===d||x.$$typeof===o||x.$$typeof===i||x.$$typeof===l||x.$$typeof===h||x.getModuleId!==void 0)},$s.typeOf=y,$s}var w7;function dge(){return w7||(w7=1,ES.exports=cge()),ES.exports}var uge=dge(),Rl=e=>e===0?0:e>0?1:-1,Xd=e=>typeof e=="number"&&e!=+e,pp=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,na=e=>(typeof e=="number"||e instanceof Number)&&!Xd(e),eA=e=>na(e)||typeof e=="string",fge=0,Av=e=>{var t=++fge;return"".concat(e||"").concat(t)},ed=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!na(t)&&typeof t!="string")return a;var i;if(pp(t)){if(r==null)return a;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Xd(i)&&(i=a),s&&r!=null&&i>r&&(i=r),i},q$=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},a=0;a<t;a++)if(!r[e[a]])r[e[a]]=!0;else return!0;return!1};function Ji(e,t,r){return na(e)&&na(t)?e+r*(t-e):t}function K$(e,t,r){if(!(!e||!e.length))return e.find(a=>a&&(typeof t=="function"?t(a):qp(a,t))===r)}var to=e=>e===null||typeof e>"u",Jv=e=>to(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),hge=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function QB(e){if(typeof e!="string")return!1;var t=hge;return t.includes(e)}var Age=["viewBox","children"],N7=["points","pathLength"],BS={svg:Age,polygon:N7,polyline:N7},HB=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(S.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var a={};return Object.keys(r).forEach(s=>{QB(s)&&(a[s]=(i=>r[s](r,i)))}),a},mge=(e,t,r)=>a=>(e(t,r,a),null),Zv=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var a=null;return Object.keys(e).forEach(s=>{var i=e[s];QB(s)&&typeof i=="function"&&(a||(a={}),a[s]=mge(i,t,r))}),a},pge=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function G$(e){if(typeof e!="string")return!1;var t=pge;return t.includes(e)}function sA(e){var t=Object.entries(e).filter(r=>{var[a]=r;return G$(a)});return Object.fromEntries(t)}var j7=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",S7=null,TS=null,W$=e=>{if(e===S7&&Array.isArray(TS))return TS;var t=[];return S.Children.forEach(e,r=>{to(r)||(uge.isFragment(r)?t=t.concat(W$(r.props.children)):t.push(r))}),TS=t,S7=e,t};function $B(e,t){var r=[],a=[];return Array.isArray(t)?a=t.map(s=>j7(s)):a=[j7(t)],W$(e).forEach(s=>{var i=qp(s,"type.displayName")||qp(s,"type.name");a.indexOf(i)!==-1&&r.push(s)}),r}var Y$=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,gge=(e,t,r,a)=>{var s;if(typeof t=="symbol"||typeof t=="number")return!0;var i=(s=a&&BS?.[a])!==null&&s!==void 0?s:[],o=t.startsWith("data-"),l=typeof e!="function"&&(!!a&&i.includes(t)||G$(t)),c=!!r&&QB(t);return o||l||c},eo=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(S.isValidElement(e)&&(a=e.props),typeof a!="object"&&typeof a!="function")return null;var s={};return Object.keys(a).forEach(i=>{var o;gge((o=a)===null||o===void 0?void 0:o[i],i,t,r)&&(s[i]=a[i])}),s},xge=["children","width","height","viewBox","className","style","title","desc"];function v6(){return v6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},v6.apply(null,arguments)}function yge(e,t){if(e==null)return{};var r,a,s=vge(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function vge(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var zB=S.forwardRef((e,t)=>{var{children:r,width:a,height:s,viewBox:i,className:o,style:l,title:c,desc:u}=e,d=yge(e,xge),A=i||{width:a,height:s,x:0,y:0},m=Gt("recharts-surface",o);return S.createElement("svg",v6({},eo(d,!0,"svg"),{className:m,width:a,height:s,style:l,viewBox:"".concat(A.x," ").concat(A.y," ").concat(A.width," ").concat(A.height),ref:t}),S.createElement("title",null,c),S.createElement("desc",null,u),r)}),bge=["children","className"];function b6(){return b6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},b6.apply(null,arguments)}function wge(e,t){if(e==null)return{};var r,a,s=Nge(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Nge(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var al=S.forwardRef((e,t)=>{var{children:r,className:a}=e,s=wge(e,bge),i=Gt("recharts-layer",a);return S.createElement("g",b6({className:i},eo(s,!0),{ref:t}),r)}),X$=S.createContext(null),jge=()=>S.useContext(X$);function fi(e){return function(){return e}}const J$=Math.cos,d4=Math.sin,mh=Math.sqrt,u4=Math.PI,P5=2*u4,w6=Math.PI,N6=2*w6,cp=1e-6,Sge=N6-cp;function Z$(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Cge(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Z$;const r=10**t;return function(a){this._+=a[0];for(let s=1,i=a.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+a[s]}}class Ege{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Z$:Cge(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,a,s){this._append`Q${+t},${+r},${this._x1=+a},${this._y1=+s}`}bezierCurveTo(t,r,a,s,i,o){this._append`C${+t},${+r},${+a},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,a,s,i){if(t=+t,r=+r,a=+a,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=a-t,u=s-r,d=o-t,A=l-r,m=d*d+A*A;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>cp)if(!(Math.abs(A*c-u*d)>cp)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let h=a-o,y=s-l,x=c*c+u*u,v=h*h+y*y,b=Math.sqrt(x),j=Math.sqrt(m),C=i*Math.tan((w6-Math.acos((x+m-v)/(2*b*j)))/2),E=C/j,k=C/b;Math.abs(E-1)>cp&&this._append`L${t+E*d},${r+E*A}`,this._append`A${i},${i},0,0,${+(A*h>d*y)},${this._x1=t+k*c},${this._y1=r+k*u}`}}arc(t,r,a,s,i,o){if(t=+t,r=+r,a=+a,o=!!o,a<0)throw new Error(`negative radius: ${a}`);let l=a*Math.cos(s),c=a*Math.sin(s),u=t+l,d=r+c,A=1^o,m=o?s-i:i-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>cp||Math.abs(this._y1-d)>cp)&&this._append`L${u},${d}`,a&&(m<0&&(m=m%N6+N6),m>Sge?this._append`A${a},${a},0,1,${A},${t-l},${r-c}A${a},${a},0,1,${A},${this._x1=u},${this._y1=d}`:m>cp&&this._append`A${a},${a},0,${+(m>=w6)},${A},${this._x1=t+a*Math.cos(i)},${this._y1=r+a*Math.sin(i)}`)}rect(t,r,a,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${a=+a}v${+s}h${-a}Z`}toString(){return this._}}function VB(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const a=Math.floor(r);if(!(a>=0))throw new RangeError(`invalid digits: ${r}`);t=a}return e},()=>new Ege(t)}function qB(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ez(e){this._context=e}ez.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function L5(e){return new ez(e)}function tz(e){return e[0]}function rz(e){return e[1]}function az(e,t){var r=fi(!0),a=null,s=L5,i=null,o=VB(l);e=typeof e=="function"?e:e===void 0?tz:fi(e),t=typeof t=="function"?t:t===void 0?rz:fi(t);function l(c){var u,d=(c=qB(c)).length,A,m=!1,h;for(a==null&&(i=s(h=o())),u=0;u<=d;++u)!(u<d&&r(A=c[u],u,c))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+e(A,u,c),+t(A,u,c));if(h)return i=null,h+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:fi(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:fi(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:fi(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,a!=null&&(i=s(a)),l):s},l.context=function(c){return arguments.length?(c==null?a=i=null:i=s(a=c),l):a},l}function Ob(e,t,r){var a=null,s=fi(!0),i=null,o=L5,l=null,c=VB(u);e=typeof e=="function"?e:e===void 0?tz:fi(+e),t=typeof t=="function"?t:fi(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?rz:fi(+r);function u(A){var m,h,y,x=(A=qB(A)).length,v,b=!1,j,C=new Array(x),E=new Array(x);for(i==null&&(l=o(j=c())),m=0;m<=x;++m){if(!(m<x&&s(v=A[m],m,A))===b)if(b=!b)h=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=m-1;y>=h;--y)l.point(C[y],E[y]);l.lineEnd(),l.areaEnd()}b&&(C[m]=+e(v,m,A),E[m]=+t(v,m,A),l.point(a?+a(v,m,A):C[m],r?+r(v,m,A):E[m]))}if(j)return l=null,j+""||null}function d(){return az().defined(s).curve(o).context(i)}return u.x=function(A){return arguments.length?(e=typeof A=="function"?A:fi(+A),a=null,u):e},u.x0=function(A){return arguments.length?(e=typeof A=="function"?A:fi(+A),u):e},u.x1=function(A){return arguments.length?(a=A==null?null:typeof A=="function"?A:fi(+A),u):a},u.y=function(A){return arguments.length?(t=typeof A=="function"?A:fi(+A),r=null,u):t},u.y0=function(A){return arguments.length?(t=typeof A=="function"?A:fi(+A),u):t},u.y1=function(A){return arguments.length?(r=A==null?null:typeof A=="function"?A:fi(+A),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(a).y(t)},u.defined=function(A){return arguments.length?(s=typeof A=="function"?A:fi(!!A),u):s},u.curve=function(A){return arguments.length?(o=A,i!=null&&(l=o(i)),u):o},u.context=function(A){return arguments.length?(A==null?i=l=null:l=o(i=A),u):i},u}class nz{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Bge(e){return new nz(e,!0)}function Tge(e){return new nz(e,!1)}const KB={draw(e,t){const r=mh(t/u4);e.moveTo(r,0),e.arc(0,0,r,0,P5)}},Fge={draw(e,t){const r=mh(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},sz=mh(1/3),_ge=sz*2,kge={draw(e,t){const r=mh(t/_ge),a=r*sz;e.moveTo(0,-r),e.lineTo(a,0),e.lineTo(0,r),e.lineTo(-a,0),e.closePath()}},Ige={draw(e,t){const r=mh(t),a=-r/2;e.rect(a,a,r,r)}},Pge=.8908130915292852,iz=d4(u4/10)/d4(7*u4/10),Lge=d4(P5/10)*iz,Oge=-J$(P5/10)*iz,Dge={draw(e,t){const r=mh(t*Pge),a=Lge*r,s=Oge*r;e.moveTo(0,-r),e.lineTo(a,s);for(let i=1;i<5;++i){const o=P5*i/5,l=J$(o),c=d4(o);e.lineTo(c*r,-l*r),e.lineTo(l*a-c*s,c*a+l*s)}e.closePath()}},FS=mh(3),Mge={draw(e,t){const r=-mh(t/(FS*3));e.moveTo(0,r*2),e.lineTo(-FS*r,-r),e.lineTo(FS*r,-r),e.closePath()}},Zu=-.5,ef=mh(3)/2,j6=1/mh(12),Uge=(j6/2+1)*3,Rge={draw(e,t){const r=mh(t/Uge),a=r/2,s=r*j6,i=a,o=r*j6+r,l=-i,c=o;e.moveTo(a,s),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Zu*a-ef*s,ef*a+Zu*s),e.lineTo(Zu*i-ef*o,ef*i+Zu*o),e.lineTo(Zu*l-ef*c,ef*l+Zu*c),e.lineTo(Zu*a+ef*s,Zu*s-ef*a),e.lineTo(Zu*i+ef*o,Zu*o-ef*i),e.lineTo(Zu*l+ef*c,Zu*c-ef*l),e.closePath()}};function Qge(e,t){let r=null,a=VB(s);e=typeof e=="function"?e:fi(e||KB),t=typeof t=="function"?t:fi(t===void 0?64:+t);function s(){let i;if(r||(r=i=a()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:fi(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:fi(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function f4(){}function h4(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function oz(e){this._context=e}oz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:h4(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:h4(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Hge(e){return new oz(e)}function lz(e){this._context=e}lz.prototype={areaStart:f4,areaEnd:f4,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:h4(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $ge(e){return new lz(e)}function cz(e){this._context=e}cz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break;case 3:this._point=4;default:h4(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function zge(e){return new cz(e)}function dz(e){this._context=e}dz.prototype={areaStart:f4,areaEnd:f4,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Vge(e){return new dz(e)}function C7(e){return e<0?-1:1}function E7(e,t,r){var a=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(a||s<0&&-0),o=(r-e._y1)/(s||a<0&&-0),l=(i*s+o*a)/(a+s);return(C7(i)+C7(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function B7(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function _S(e,t,r){var a=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-a)/3;e._context.bezierCurveTo(a+l,s+l*t,i-l,o-l*r,i,o)}function A4(e){this._context=e}A4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:_S(this,this._t0,B7(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,_S(this,B7(this,r=E7(this,e,t)),r);break;default:_S(this,this._t0,r=E7(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function uz(e){this._context=new fz(e)}(uz.prototype=Object.create(A4.prototype)).point=function(e,t){A4.prototype.point.call(this,t,e)};function fz(e){this._context=e}fz.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,a,s,i){this._context.bezierCurveTo(t,e,a,r,i,s)}};function qge(e){return new A4(e)}function Kge(e){return new uz(e)}function hz(e){this._context=e}hz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var a=T7(e),s=T7(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(a[0][i],s[0][i],a[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function T7(e){var t,r=e.length-1,a,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)a=s[t]/i[t-1],i[t]-=a,o[t]-=a*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function Gge(e){return new hz(e)}function O5(e,t){this._context=e,this._t=t}O5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Wge(e){return new O5(e,.5)}function Yge(e){return new O5(e,0)}function Xge(e){return new O5(e,1)}function Tx(e,t){if((o=e.length)>1)for(var r=1,a,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],a=0;a<l;++a)i[a][1]+=i[a][0]=isNaN(s[a][1])?s[a][0]:s[a][1]}function S6(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Jge(e,t){return e[t]}function Zge(e){const t=[];return t.key=e,t}function exe(){var e=fi([]),t=S6,r=Tx,a=Jge;function s(i){var o=Array.from(e.apply(this,arguments),Zge),l,c=o.length,u=-1,d;for(const A of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+a(A,o[l].key,u,i)]).data=A;for(l=0,d=qB(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:fi(Array.from(i)),s):e},s.value=function(i){return arguments.length?(a=typeof i=="function"?i:fi(+i),s):a},s.order=function(i){return arguments.length?(t=i==null?S6:typeof i=="function"?i:fi(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??Tx,s):r},s}function txe(e,t){if((a=e.length)>0){for(var r,a,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<a;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<a;++r)e[r][s][1]/=o}Tx(e,t)}}function rxe(e,t){if((s=e.length)>0){for(var r=0,a=e[t[0]],s,i=a.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;a[r][1]+=a[r][0]=-l/2}Tx(e,t)}}function axe(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,a=1,s,i,o;a<i;++a){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],A=d[a][1]||0,m=d[a-1][1]||0,h=(A-m)/2,y=0;y<l;++y){var x=e[t[y]],v=x[a][1]||0,b=x[a-1][1]||0;h+=v-b}c+=A,u+=h*A}s[a-1][1]+=s[a-1][0]=r,c&&(r-=u/c)}s[a-1][1]+=s[a-1][0]=r,Tx(e,t)}}var nxe=["type","size","sizeType"];function C6(){return C6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},C6.apply(null,arguments)}function F7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function _7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F7(Object(r),!0).forEach(function(a){sxe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F7(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function sxe(e,t,r){return(t=ixe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ixe(e){var t=oxe(e,"string");return typeof t=="symbol"?t:t+""}function oxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lxe(e,t){if(e==null)return{};var r,a,s=cxe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function cxe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Az={symbolCircle:KB,symbolCross:Fge,symbolDiamond:kge,symbolSquare:Ige,symbolStar:Dge,symbolTriangle:Mge,symbolWye:Rge},dxe=Math.PI/180,uxe=e=>{var t="symbol".concat(Jv(e));return Az[t]||KB},fxe=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*dxe;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.tan(a)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},hxe=(e,t)=>{Az["symbol".concat(Jv(e))]=t},GB=e=>{var{type:t="circle",size:r=64,sizeType:a="area"}=e,s=lxe(e,nxe),i=_7(_7({},s),{},{type:t,size:r,sizeType:a}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var m=uxe(o),h=Qge().type(m).size(fxe(r,a,o));return h()},{className:c,cx:u,cy:d}=i,A=eo(i,!0);return u===+u&&d===+d&&r===+r?S.createElement("path",C6({},A,{className:Gt("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:l()})):null};GB.registerSymbol=hxe;function E6(){return E6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},E6.apply(null,arguments)}function k7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Axe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k7(Object(r),!0).forEach(function(a){WB(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k7(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function WB(e,t,r){return(t=mxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mxe(e){var t=pxe(e,"string");return typeof t=="symbol"?t:t+""}function pxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tf=32;class YB extends S.PureComponent{renderIcon(t,r){var{inactiveColor:a}=this.props,s=tf/2,i=tf/6,o=tf/3,l=t.inactive?a:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline")return S.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:s,x2:tf,y2:s,className:"recharts-legend-icon"});if(c==="line")return S.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(tf,"M").concat(2*o,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(c==="rect")return S.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(tf/8,"h").concat(tf,"v").concat(tf*3/4,"h").concat(-tf,"z"),className:"recharts-legend-icon"});if(S.isValidElement(t.legendIcon)){var u=Axe({},t);return delete u.legendIcon,S.cloneElement(t.legendIcon,u)}return S.createElement(GB,{fill:l,cx:s,cy:s,size:tf,sizeType:"diameter",type:c})}renderItems(){var{payload:t,iconSize:r,layout:a,formatter:s,inactiveColor:i,iconType:o}=this.props,l={x:0,y:0,width:tf,height:tf},c={display:a==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,A)=>{var m=d.formatter||s,h=Gt({"recharts-legend-item":!0,["legend-item-".concat(A)]:!0,inactive:d.inactive});if(d.type==="none")return null;var y=d.inactive?i:d.color,x=m?m(d.value,d,A):d.value;return S.createElement("li",E6({className:h,style:c,key:"legend-item-".concat(A)},Zv(this.props,d,A)),S.createElement(zB,{width:r,height:r,viewBox:l,style:u,"aria-label":"".concat(x," legend icon")},this.renderIcon(d,o)),S.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},x))})}render(){var{payload:t,layout:r,align:a}=this.props;if(!t||!t.length)return null;var s={padding:0,margin:0,textAlign:r==="horizontal"?a:"left"};return S.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}WB(YB,"displayName","Legend");WB(YB,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var kS={},IS={},I7;function gxe(){return I7||(I7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a){const s=new Map;for(let i=0;i<r.length;i++){const o=r[i],l=a(o);s.has(l)||s.set(l,o)}return Array.from(s.values())}e.uniqBy=t})(IS)),IS}var PS={},P7;function mz(){return P7||(P7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(PS)),PS}var LS={},OS={},DS={},L7;function xxe(){return L7||(L7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(DS)),DS}var O7;function XB(){return O7||(O7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xxe();function r(a){return a!=null&&typeof a!="function"&&t.isLength(a.length)}e.isArrayLike=r})(OS)),OS}var MS={},D7;function yxe(){return D7||(D7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(MS)),MS}var M7;function vxe(){return M7||(M7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XB(),r=yxe();function a(s){return r.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=a})(LS)),LS}var US={},RS={},U7;function bxe(){return U7||(U7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RB();function r(a){return function(s){return t.get(s,a)}}e.property=r})(RS)),RS}var QS={},HS={},$S={},zS={},R7;function pz(){return R7||(R7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(zS)),zS}var VS={},Q7;function gz(){return Q7||(Q7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(VS)),VS}var qS={},H7;function xz(){return H7||(H7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a){return r===a||Number.isNaN(r)&&Number.isNaN(a)}e.eq=t})(qS)),qS}var $7;function wxe(){return $7||($7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JB(),r=pz(),a=gz(),s=xz();function i(A,m,h){return typeof h!="function"?t.isMatch(A,m):o(A,m,function y(x,v,b,j,C,E){const k=h(x,v,b,j,C,E);return k!==void 0?!!k:o(x,v,y,E)},new Map)}function o(A,m,h,y){if(m===A)return!0;switch(typeof m){case"object":return l(A,m,h,y);case"function":return Object.keys(m).length>0?o(A,{...m},h,y):s.eq(A,m);default:return r.isObject(A)?typeof m=="string"?m==="":!0:s.eq(A,m)}}function l(A,m,h,y){if(m==null)return!0;if(Array.isArray(m))return u(A,m,h,y);if(m instanceof Map)return c(A,m,h,y);if(m instanceof Set)return d(A,m,h,y);const x=Object.keys(m);if(A==null)return x.length===0;if(x.length===0)return!0;if(y&&y.has(m))return y.get(m)===A;y&&y.set(m,A);try{for(let v=0;v<x.length;v++){const b=x[v];if(!a.isPrimitive(A)&&!(b in A)||m[b]===void 0&&A[b]!==void 0||m[b]===null&&A[b]!==null||!h(A[b],m[b],b,A,m,y))return!1}return!0}finally{y&&y.delete(m)}}function c(A,m,h,y){if(m.size===0)return!0;if(!(A instanceof Map))return!1;for(const[x,v]of m.entries()){const b=A.get(x);if(h(b,v,x,A,m,y)===!1)return!1}return!0}function u(A,m,h,y){if(m.length===0)return!0;if(!Array.isArray(A))return!1;const x=new Set;for(let v=0;v<m.length;v++){const b=m[v];let j=!1;for(let C=0;C<A.length;C++){if(x.has(C))continue;const E=A[C];let k=!1;if(h(E,b,v,A,m,y)&&(k=!0),k){x.add(C),j=!0;break}}if(!j)return!1}return!0}function d(A,m,h,y){return m.size===0?!0:A instanceof Set?u([...A],[...m],h,y):!1}e.isMatchWith=i,e.isSetMatch=d})($S)),$S}var z7;function JB(){return z7||(z7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wxe();function r(a,s){return t.isMatchWith(a,s,()=>{})}e.isMatch=r})(HS)),HS}var KS={},GS={},WS={},V7;function Nxe(){return V7||(V7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(a=>Object.prototype.propertyIsEnumerable.call(r,a))}e.getSymbols=t})(WS)),WS}var YS={},q7;function yz(){return q7||(q7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(YS)),YS}var XS={},K7;function vz(){return K7||(K7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",a="[object Number]",s="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",A="[object Function]",m="[object ArrayBuffer]",h="[object Object]",y="[object Error]",x="[object DataView]",v="[object Uint8Array]",b="[object Uint8ClampedArray]",j="[object Uint16Array]",C="[object Uint32Array]",E="[object BigUint64Array]",k="[object Int8Array]",D="[object Int16Array]",L="[object Int32Array]",F="[object BigInt64Array]",Q="[object Float32Array]",U="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=m,e.arrayTag=d,e.bigInt64ArrayTag=F,e.bigUint64ArrayTag=E,e.booleanTag=s,e.dataViewTag=x,e.dateTag=l,e.errorTag=y,e.float32ArrayTag=Q,e.float64ArrayTag=U,e.functionTag=A,e.int16ArrayTag=D,e.int32ArrayTag=L,e.int8ArrayTag=k,e.mapTag=c,e.numberTag=a,e.objectTag=h,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=j,e.uint32ArrayTag=C,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=b})(XS)),XS}var JS={},G7;function jxe(){return G7||(G7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(JS)),JS}var W7;function bz(){return W7||(W7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nxe(),r=yz(),a=vz(),s=gz(),i=jxe();function o(d,A){return l(d,void 0,d,new Map,A)}function l(d,A,m,h=new Map,y=void 0){const x=y?.(d,A,m,h);if(x!==void 0)return x;if(s.isPrimitive(d))return d;if(h.has(d))return h.get(d);if(Array.isArray(d)){const v=new Array(d.length);h.set(d,v);for(let b=0;b<d.length;b++)v[b]=l(d[b],b,m,h,y);return Object.hasOwn(d,"index")&&(v.index=d.index),Object.hasOwn(d,"input")&&(v.input=d.input),v}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const v=new RegExp(d.source,d.flags);return v.lastIndex=d.lastIndex,v}if(d instanceof Map){const v=new Map;h.set(d,v);for(const[b,j]of d)v.set(b,l(j,b,m,h,y));return v}if(d instanceof Set){const v=new Set;h.set(d,v);for(const b of d)v.add(l(b,void 0,m,h,y));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const v=new(Object.getPrototypeOf(d)).constructor(d.length);h.set(d,v);for(let b=0;b<d.length;b++)v[b]=l(d[b],b,m,h,y);return v}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const v=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return h.set(d,v),c(v,d,m,h,y),v}if(typeof File<"u"&&d instanceof File){const v=new File([d],d.name,{type:d.type});return h.set(d,v),c(v,d,m,h,y),v}if(d instanceof Blob){const v=new Blob([d],{type:d.type});return h.set(d,v),c(v,d,m,h,y),v}if(d instanceof Error){const v=new d.constructor;return h.set(d,v),v.message=d.message,v.name=d.name,v.stack=d.stack,v.cause=d.cause,c(v,d,m,h,y),v}if(typeof d=="object"&&u(d)){const v=Object.create(Object.getPrototypeOf(d));return h.set(d,v),c(v,d,m,h,y),v}return d}function c(d,A,m=d,h,y){const x=[...Object.keys(A),...t.getSymbols(A)];for(let v=0;v<x.length;v++){const b=x[v],j=Object.getOwnPropertyDescriptor(d,b);(j==null||j.writable)&&(d[b]=l(A[b],b,m,h,y))}}function u(d){switch(r.getTag(d)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=c})(GS)),GS}var Y7;function Sxe(){return Y7||(Y7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bz();function r(a){return t.cloneDeepWithImpl(a,void 0,a,new Map,void 0)}e.cloneDeep=r})(KS)),KS}var X7;function Cxe(){return X7||(X7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JB(),r=Sxe();function a(s){return s=r.cloneDeep(s),i=>t.isMatch(i,s)}e.matches=a})(QS)),QS}var ZS={},e3={},t3={},J7;function Exe(){return J7||(J7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bz(),r=vz();function a(s,i){return t.cloneDeepWith(s,(o,l,c,u)=>{const d=i?.(o,l,c,u);if(d!==void 0)return d;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const A=new s.constructor(s?.valueOf());return t.copyProperties(A,s),A}case r.argumentsTag:{const A={};return t.copyProperties(A,s),A.length=s.length,A[Symbol.iterator]=s[Symbol.iterator],A}default:return}})}e.cloneDeepWith=a})(t3)),t3}var Z7;function Bxe(){return Z7||(Z7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Exe();function r(a){return t.cloneDeepWith(a)}e.cloneDeep=r})(e3)),e3}var r3={},a3={},eL;function wz(){return eL||(eL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(a,s=Number.MAX_SAFE_INTEGER){switch(typeof a){case"number":return Number.isInteger(a)&&a>=0&&a<s;case"symbol":return!1;case"string":return t.test(a)}}e.isIndex=r})(a3)),a3}var n3={},tL;function Txe(){return tL||(tL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yz();function r(a){return a!==null&&typeof a=="object"&&t.getTag(a)==="[object Arguments]"}e.isArguments=r})(n3)),n3}var rL;function Fxe(){return rL||(rL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z$(),r=wz(),a=Txe(),s=UB();function i(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&o?.[l]==null?c=s.toPath(l):c=[l],c.length===0)return!1;let u=o;for(let d=0;d<c.length;d++){const A=c[d];if((u==null||!Object.hasOwn(u,A))&&!((Array.isArray(u)||a.isArguments(u))&&r.isIndex(A)&&A<u.length))return!1;u=u[A]}return!0}e.has=i})(r3)),r3}var aL;function _xe(){return aL||(aL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JB(),r=V$(),a=Bxe(),s=RB(),i=Fxe();function o(l,c){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=a.cloneDeep(c),function(u){const d=s.get(u,l);return d===void 0?i.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=o})(ZS)),ZS}var nL;function kxe(){return nL||(nL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mz(),r=bxe(),a=Cxe(),s=_xe();function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?s.matchesProperty(o[0],o[1]):a.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(US)),US}var sL;function Ixe(){return sL||(sL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gxe(),r=mz(),a=vxe(),s=kxe();function i(o,l=r.identity){return a.isArrayLikeObject(o)?t.uniqBy(Array.from(o),s.iteratee(l)):[]}e.uniqBy=i})(kS)),kS}var s3,iL;function Pxe(){return iL||(iL=1,s3=Ixe().uniqBy),s3}var Lxe=Pxe();const oL=hf(Lxe);function Nz(e,t,r){return t===!0?oL(e,r):typeof t=="function"?oL(e,t):e}var i3={exports:{}},o3={},l3={exports:{}},c3={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lL;function Oxe(){if(lL)return c3;lL=1;var e=Ux();function t(A,m){return A===m&&(A!==0||1/A===1/m)||A!==A&&m!==m}var r=typeof Object.is=="function"?Object.is:t,a=e.useState,s=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function l(A,m){var h=m(),y=a({inst:{value:h,getSnapshot:m}}),x=y[0].inst,v=y[1];return i(function(){x.value=h,x.getSnapshot=m,c(x)&&v({inst:x})},[A,h,m]),s(function(){return c(x)&&v({inst:x}),A(function(){c(x)&&v({inst:x})})},[A]),o(h),h}function c(A){var m=A.getSnapshot;A=A.value;try{var h=m();return!r(A,h)}catch{return!0}}function u(A,m){return m()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return c3.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,c3}var cL;function Dxe(){return cL||(cL=1,l3.exports=Oxe()),l3.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dL;function Mxe(){if(dL)return o3;dL=1;var e=Ux(),t=Dxe();function r(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var a=typeof Object.is=="function"?Object.is:r,s=t.useSyncExternalStore,i=e.useRef,o=e.useEffect,l=e.useMemo,c=e.useDebugValue;return o3.useSyncExternalStoreWithSelector=function(u,d,A,m,h){var y=i(null);if(y.current===null){var x={hasValue:!1,value:null};y.current=x}else x=y.current;y=l(function(){function b(D){if(!j){if(j=!0,C=D,D=m(D),h!==void 0&&x.hasValue){var L=x.value;if(h(L,D))return E=L}return E=D}if(L=E,a(C,D))return L;var F=m(D);return h!==void 0&&h(L,F)?(C=D,L):(C=D,E=F)}var j=!1,C,E,k=A===void 0?null:A;return[function(){return b(d())},k===null?void 0:function(){return b(k())}]},[d,A,m,h]);var v=s(u,y[0],y[1]);return o(function(){x.hasValue=!0,x.value=v},[v]),c(v),v},o3}var uL;function Uxe(){return uL||(uL=1,i3.exports=Mxe()),i3.exports}var Rxe=Uxe(),ZB=S.createContext(null),Qxe=e=>e,ao=()=>{var e=S.useContext(ZB);return e?e.store.dispatch:Qxe},gw=()=>{},Hxe=()=>gw,$xe=(e,t)=>e===t;function sa(e){var t=S.useContext(ZB);return Rxe.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Hxe,t?t.store.getState:gw,t?t.store.getState:gw,t?e:gw,$xe)}var d3={},u3={},f3={},fL;function zxe(){return fL||(fL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="symbol"?1:a===null?2:a===void 0?3:a!==a?4:0}const r=(a,s,i)=>{if(a!==s){const o=t(a),l=t(s);if(o===l&&o===0){if(a<s)return i==="desc"?1:-1;if(a>s)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=r})(f3)),f3}var h3={},A3={},hL;function jz(){return hL||(hL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(A3)),A3}var AL;function Vxe(){return AL||(AL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jz(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function s(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(a.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=s})(h3)),h3}var mL;function qxe(){return mL||(mL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zxe(),r=Vxe(),a=UB();function s(i,o,l,c){if(i==null)return[];l=c?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(h=>String(h));const u=(h,y)=>{let x=h;for(let v=0;v<y.length&&x!=null;++v)x=x[y[v]];return x},d=(h,y)=>y==null||h==null?y:typeof h=="object"&&"key"in h?Object.hasOwn(y,h.key)?y[h.key]:u(y,h.path):typeof h=="function"?h(y):Array.isArray(h)?u(y,h):typeof y=="object"?y[h]:y,A=o.map(h=>(Array.isArray(h)&&h.length===1&&(h=h[0]),h==null||typeof h=="function"||Array.isArray(h)||r.isKey(h)?h:{key:h,path:a.toPath(h)}));return i.map(h=>({original:h,criteria:A.map(y=>d(y,h))})).slice().sort((h,y)=>{for(let x=0;x<A.length;x++){const v=t.compareValues(h.criteria[x],y.criteria[x],l[x]);if(v!==0)return v}return 0}).map(h=>h.original)}e.orderBy=s})(u3)),u3}var m3={},pL;function Kxe(){return pL||(pL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a=1){const s=[],i=Math.floor(a),o=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<i?o(d,c+1):s.push(d)}};return o(r,0),s}e.flatten=t})(m3)),m3}var p3={},gL;function Sz(){return gL||(gL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wz(),r=XB(),a=pz(),s=xz();function i(o,l,c){return a.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?s.eq(c[l],o):!1}e.isIterateeCall=i})(p3)),p3}var xL;function Gxe(){return xL||(xL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qxe(),r=Kxe(),a=Sz();function s(i,...o){const l=o.length;return l>1&&a.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&a.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=s})(d3)),d3}var g3,yL;function Wxe(){return yL||(yL=1,g3=Gxe().sortBy),g3}var Yxe=Wxe();const D5=hf(Yxe);var Cz=e=>e.legend.settings,Xxe=e=>e.legend.size,Jxe=e=>e.legend.payload,Zxe=tr([Jxe,Cz],(e,t)=>{var{itemSorter:r}=t,a=e.flat(1);return r?D5(a,r):a});function e1e(){return sa(Zxe)}var Db=1;function Ez(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=S.useState({height:0,left:0,top:0,width:0}),a=S.useCallback(s=>{if(s!=null){var i=s.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>Db||Math.abs(o.left-t.left)>Db||Math.abs(o.top-t.top)>Db||Math.abs(o.width-t.width)>Db)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,a]}var t1e={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Bz=td({name:"chartLayout",initialState:t1e,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,a,s,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(a=t.payload.right)!==null&&a!==void 0?a:0,e.margin.bottom=(s=t.payload.bottom)!==null&&s!==void 0?s:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:r1e,setLayout:a1e,setChartSize:n1e,setScale:s1e}=Bz.actions,i1e=Bz.reducer;function vL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function bL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vL(Object(r),!0).forEach(function(a){o1e(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vL(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function o1e(e,t,r){return(t=l1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l1e(e){var t=c1e(e,"string");return typeof t=="symbol"?t:t+""}function c1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m4=Math.PI/180,d1e=e=>e*180/Math.PI,el=(e,t,r,a)=>({x:e+Math.cos(-m4*a)*r,y:t+Math.sin(-m4*a)*r}),Tz=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(a.left||0)-(a.right||0)),Math.abs(r-(a.top||0)-(a.bottom||0)))/2},u1e=(e,t)=>{var{x:r,y:a}=e,{x:s,y:i}=t;return Math.sqrt((r-s)**2+(a-i)**2)},f1e=(e,t)=>{var{x:r,y:a}=e,{cx:s,cy:i}=t,o=u1e({x:r,y:a},{x:s,y:i});if(o<=0)return{radius:o,angle:0};var l=(r-s)/o,c=Math.acos(l);return a>i&&(c=2*Math.PI-c),{radius:o,angle:d1e(c),angleInRadian:c}},h1e=e=>{var{startAngle:t,endAngle:r}=e,a=Math.floor(t/360),s=Math.floor(r/360),i=Math.min(a,s);return{startAngle:t-i*360,endAngle:r-i*360}},A1e=(e,t)=>{var{startAngle:r,endAngle:a}=t,s=Math.floor(r/360),i=Math.floor(a/360),o=Math.min(s,i);return e+o*360},m1e=(e,t)=>{var{x:r,y:a}=e,{radius:s,angle:i}=f1e({x:r,y:a},t),{innerRadius:o,outerRadius:l}=t;if(s<o||s>l||s===0)return null;var{startAngle:c,endAngle:u}=h1e(t),d=i,A;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;A=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;A=d>=u&&d<=c}return A?bL(bL({},t),{},{radius:s,angle:A1e(d,t)}):null};function Fz(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function wL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function lf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wL(Object(r),!0).forEach(function(a){p1e(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wL(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function p1e(e,t,r){return(t=g1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g1e(e){var t=x1e(e,"string");return typeof t=="symbol"?t:t+""}function x1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ti(e,t,r){return to(e)||to(t)?r:eA(t)?qp(e,t,r):typeof t=="function"?t(e):r}var y1e=(e,t,r,a,s)=>{var i,o=-1,l=(i=t?.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(a==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?r[c-1].coordinate:r[l-1].coordinate,d=r[c].coordinate,A=c>=l-1?r[0].coordinate:r[c+1].coordinate,m=void 0;if(Rl(d-u)!==Rl(A-d)){var h=[];if(Rl(A-d)===Rl(s[1]-s[0])){m=A;var y=d+s[1]-s[0];h[0]=Math.min(y,(y+u)/2),h[1]=Math.max(y,(y+u)/2)}else{m=u;var x=A+s[1]-s[0];h[0]=Math.min(d,(x+d)/2),h[1]=Math.max(d,(x+d)/2)}var v=[Math.min(d,(m+d)/2),Math.max(d,(m+d)/2)];if(e>v[0]&&e<=v[1]||e>=h[0]&&e<=h[1]){({index:o}=r[c]);break}}else{var b=Math.min(u,A),j=Math.max(u,A);if(e>(b+d)/2&&e<=(j+d)/2){({index:o}=r[c]);break}}}else if(t){for(var C=0;C<l;C++)if(C===0&&e<=(t[C].coordinate+t[C+1].coordinate)/2||C>0&&C<l-1&&e>(t[C].coordinate+t[C-1].coordinate)/2&&e<=(t[C].coordinate+t[C+1].coordinate)/2||C===l-1&&e>(t[C].coordinate+t[C-1].coordinate)/2){({index:o}=t[C]);break}}return o},v1e=(e,t,r)=>{if(t&&r){var{width:a,height:s}=r,{align:i,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&na(e[i]))return lf(lf({},e),{},{[i]:e[i]+(a||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&na(e[o]))return lf(lf({},e),{},{[o]:e[o]+(s||0)})}return e},cm=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",_z=(e,t,r,a)=>{if(a)return e.map(l=>l.coordinate);var s,i,o=e.map(l=>(l.coordinate===t&&(s=!0),l.coordinate===r&&(i=!0),l.coordinate));return s||o.push(t),i||o.push(r),o},kz=(e,t,r)=>{if(!e)return null;var{duplicateDomain:a,type:s,range:i,scale:o,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:A,niceTicks:m,axisType:h}=e;if(!o)return null;var y=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,x=s==="category"&&o.bandwidth?o.bandwidth()/y:0;if(x=h==="angleAxis"&&i&&i.length>=2?Rl(i[0]-i[1])*2*x:x,A||m){var v=(A||m||[]).map((b,j)=>{var C=a?a.indexOf(b):b;return{coordinate:o(C)+x,value:b,offset:x,index:j}});return v.filter(b=>!Xd(b.coordinate))}return c&&u?u.map((b,j)=>({coordinate:o(b)+x,value:b,index:j,offset:x})):o.ticks&&d!=null?o.ticks(d).map((b,j)=>({coordinate:o(b)+x,value:b,offset:x,index:j})):o.domain().map((b,j)=>({coordinate:o(b)+x,value:a?a[b]:b,index:j,offset:x}))},NL=1e-4,b1e=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,a=e.range(),s=Math.min(a[0],a[1])-NL,i=Math.max(a[0],a[1])+NL,o=e(t[0]),l=e(t[r-1]);(o<s||o>i||l<s||l>i)&&e.domain([t[0],t[r-1]])}},w1e=(e,t)=>{if(!t||t.length!==2||!na(t[0])||!na(t[1]))return e;var r=Math.min(t[0],t[1]),a=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!na(e[0])||e[0]<r)&&(s[0]=r),(!na(e[1])||e[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<r&&(s[1]=r),s},N1e=e=>{var t=e.length;if(!(t<=0))for(var r=0,a=e[0].length;r<a;++r)for(var s=0,i=0,o=0;o<t;++o){var l=Xd(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+l,i=e[o][r][1])}},j1e=e=>{var t=e.length;if(!(t<=0))for(var r=0,a=e[0].length;r<a;++r)for(var s=0,i=0;i<t;++i){var o=Xd(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=s,e[i][r][1]=s+o,s=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},S1e={sign:N1e,expand:txe,none:Tx,silhouette:rxe,wiggle:axe,positive:j1e},C1e=(e,t,r)=>{var a=S1e[r],s=exe().keys(t).value((i,o)=>+ti(i,o,0)).order(S6).offset(a);return s(e)};function Iz(e){return e==null?void 0:String(e)}function jL(e){var{axis:t,ticks:r,bandSize:a,entry:s,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!to(s[t.dataKey])){var l=K$(r,"value",s[t.dataKey]);if(l)return l.coordinate+a/2}return r[i]?r[i].coordinate+a/2:null}var c=ti(s,to(o)?t.dataKey:o);return to(c)?null:t.scale(c)}var SL=e=>{var{axis:t,ticks:r,offset:a,bandSize:s,entry:i,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+a:null;var l=ti(i,t.dataKey,t.scale.domain()[o]);return to(l)?null:t.scale(l)-s/2+a},E1e=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var a=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return a<=0&&s>=0?0:s<0?s:a}return r[0]},B1e=e=>{var t=e.flat(2).filter(na);return[Math.min(...t),Math.max(...t)]},T1e=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],F1e=(e,t,r)=>{if(e!=null)return T1e(Object.keys(e).reduce((a,s)=>{var i=e[s],{stackedData:o}=i,l=o.reduce((c,u)=>{var d=Fz(u,t,r),A=B1e(d);return[Math.min(c[0],A[0]),Math.max(c[1],A[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]))},CL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,EL=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mv=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!r||a>0)return a}if(e&&t&&t.length>=2){for(var s=D5(t,d=>d.coordinate),i=1/0,o=1,l=s.length;o<l;o++){var c=s[o],u=s[o-1];i=Math.min((c.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function BL(e){var{tooltipEntrySettings:t,dataKey:r,payload:a,value:s,name:i}=e;return lf(lf({},t),{},{dataKey:r,payload:a,value:s,name:i})}function Xx(e,t){if(e)return String(e);if(typeof t=="string")return t}function _1e(e,t,r,a,s){if(r==="horizontal"||r==="vertical"){var i=e>=s.left&&e<=s.left+s.width&&t>=s.top&&t<=s.top+s.height;return i?{x:e,y:t}:null}return a?m1e({x:e,y:t},a):null}var k1e=(e,t,r,a)=>{var s=t.find(u=>u&&u.index===r);if(s){if(e==="horizontal")return{x:s.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:s.coordinate};if(e==="centric"){var i=s.coordinate,{radius:o}=a;return lf(lf(lf({},a),el(a.cx,a.cy,o,i)),{},{angle:i,radius:o})}var l=s.coordinate,{angle:c}=a;return lf(lf(lf({},a),el(a.cx,a.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},I1e=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,dm=e=>e.layout.width,um=e=>e.layout.height,P1e=e=>e.layout.scale,Pz=e=>e.layout.margin,M5=tr(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),U5=tr(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Lz="data-recharts-item-index",Oz="data-recharts-item-data-key",e2=60;function TL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Mb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TL(Object(r),!0).forEach(function(a){L1e(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TL(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function L1e(e,t,r){return(t=O1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O1e(e){var t=D1e(e,"string");return typeof t=="symbol"?t:t+""}function D1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var M1e=e=>e.brush.height;function U1e(e){var t=U5(e);return t.reduce((r,a)=>{if(a.orientation==="left"&&!a.mirror&&!a.hide){var s=typeof a.width=="number"?a.width:e2;return r+s}return r},0)}function R1e(e){var t=U5(e);return t.reduce((r,a)=>{if(a.orientation==="right"&&!a.mirror&&!a.hide){var s=typeof a.width=="number"?a.width:e2;return r+s}return r},0)}function Q1e(e){var t=M5(e);return t.reduce((r,a)=>a.orientation==="top"&&!a.mirror&&!a.hide?r+a.height:r,0)}function H1e(e){var t=M5(e);return t.reduce((r,a)=>a.orientation==="bottom"&&!a.mirror&&!a.hide?r+a.height:r,0)}var vl=tr([dm,um,Pz,M1e,U1e,R1e,Q1e,H1e,Cz,Xxe],(e,t,r,a,s,i,o,l,c,u)=>{var d={left:(r.left||0)+s,right:(r.right||0)+i},A={top:(r.top||0)+o,bottom:(r.bottom||0)+l},m=Mb(Mb({},A),d),h=m.bottom;m.bottom+=a,m=v1e(m,c,u);var y=e-m.left-m.right,x=t-m.top-m.bottom;return Mb(Mb({brushBottom:h},m),{},{width:Math.max(y,0),height:Math.max(x,0)})}),$1e=tr(vl,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),eT=tr(dm,um,(e,t)=>({x:0,y:0,width:e,height:t})),z1e=S.createContext(null),eu=()=>S.useContext(z1e)!=null,R5=e=>e.brush,Q5=tr([R5,vl,Pz],(e,t,r)=>({height:e.height,x:na(e.x)?e.x:t.left,y:na(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:na(e.width)?e.width:t.width})),tT=()=>{var e,t=eu(),r=sa($1e),a=sa(Q5),s=(e=sa(R5))===null||e===void 0?void 0:e.padding;return!t||!a||!s?r:{width:a.width-s.left-s.right,height:a.height-s.top-s.bottom,x:s.left,y:s.top}},V1e={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Dz=()=>{var e;return(e=sa(vl))!==null&&e!==void 0?e:V1e},rT=()=>sa(dm),aT=()=>sa(um),q1e=()=>sa(e=>e.layout.margin),On=e=>e.layout.layoutType,H5=()=>sa(On),K1e={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Mz=td({name:"legend",initialState:K1e,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=qA(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:FL,setLegendSettings:G1e,addLegendPayload:Uz,removeLegendPayload:Rz}=Mz.actions,W1e=Mz.reducer,Y1e=["contextPayload"];function B6(){return B6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},B6.apply(null,arguments)}function _L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Fx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_L(Object(r),!0).forEach(function(a){nT(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_L(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function nT(e,t,r){return(t=X1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X1e(e){var t=J1e(e,"string");return typeof t=="symbol"?t:t+""}function J1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z1e(e,t){if(e==null)return{};var r,a,s=eye(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function eye(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function tye(e){return e.value}function rye(e){var{contextPayload:t}=e,r=Z1e(e,Y1e),a=Nz(t,e.payloadUniqBy,tye),s=Fx(Fx({},r),{},{payload:a});return S.isValidElement(e.content)?S.cloneElement(e.content,s):typeof e.content=="function"?S.createElement(e.content,s):S.createElement(YB,s)}function aye(e,t,r,a,s,i){var{layout:o,align:l,verticalAlign:c}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&o==="vertical"?u={left:((a||0)-i.width)/2}:u=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?d={top:((s||0)-i.height)/2}:d=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Fx(Fx({},u),d)}function nye(e){var t=ao();return S.useEffect(()=>{t(G1e(e))},[t,e]),null}function sye(e){var t=ao();return S.useEffect(()=>(t(FL(e)),()=>{t(FL({width:0,height:0}))}),[t,e]),null}function iye(e){var t=e1e(),r=jge(),a=q1e(),{width:s,height:i,wrapperStyle:o,portal:l}=e,[c,u]=Ez([t]),d=rT(),A=aT();if(d==null||A==null)return null;var m=d-(a.left||0)-(a.right||0),h=kp.getWidthOrHeight(e.layout,i,s,m),y=l?o:Fx(Fx({position:"absolute",width:h?.width||s||"auto",height:h?.height||i||"auto"},aye(o,e,a,d,A,c)),o),x=l??r;if(x==null)return null;var v=S.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:u},S.createElement(nye,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),S.createElement(sye,{width:c.width,height:c.height}),S.createElement(rye,B6({},e,h,{margin:a,chartWidth:d,chartHeight:A,contextPayload:t})));return yR.createPortal(v,x)}class kp extends S.PureComponent{static getWidthOrHeight(t,r,a,s){return t==="vertical"&&na(r)?{height:r}:t==="horizontal"?{width:a||s}:null}render(){return S.createElement(iye,this.props)}}nT(kp,"displayName","Legend");nT(kp,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function T6(){return T6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},T6.apply(null,arguments)}function kL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function x3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kL(Object(r),!0).forEach(function(a){oye(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kL(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function oye(e,t,r){return(t=lye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lye(e){var t=cye(e,"string");return typeof t=="symbol"?t:t+""}function cye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dye(e){return Array.isArray(e)&&eA(e[0])&&eA(e[1])?e.join(" ~ "):e}var uye=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:a={},labelStyle:s={},payload:i,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:A,accessibilityLayer:m=!1}=e,h=()=>{if(i&&i.length){var k={padding:0,margin:0},D=(l?D5(i,l):i).map((L,F)=>{if(L.type==="none")return null;var Q=L.formatter||o||dye,{value:U,name:P}=L,I=U,z=P;if(Q){var W=Q(U,P,L,F,i);if(Array.isArray(W))[I,z]=W;else if(W!=null)I=W;else return null}var ie=x3({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},a);return S.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:ie},eA(z)?S.createElement("span",{className:"recharts-tooltip-item-name"},z):null,eA(z)?S.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,S.createElement("span",{className:"recharts-tooltip-item-value"},I),S.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return S.createElement("ul",{className:"recharts-tooltip-item-list",style:k},D)}return null},y=x3({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),x=x3({margin:0},s),v=!to(d),b=v?d:"",j=Gt("recharts-default-tooltip",c),C=Gt("recharts-tooltip-label",u);v&&A&&i!==void 0&&i!==null&&(b=A(d,i));var E=m?{role:"status","aria-live":"assertive"}:{};return S.createElement("div",T6({className:j,style:y},E),S.createElement("p",{className:C,style:x},S.isValidElement(b)?b:"".concat(b)),h())},ny="recharts-tooltip-wrapper",fye={visibility:"hidden"};function hye(e){var{coordinate:t,translateX:r,translateY:a}=e;return Gt(ny,{["".concat(ny,"-right")]:na(r)&&t&&na(t.x)&&r>=t.x,["".concat(ny,"-left")]:na(r)&&t&&na(t.x)&&r<t.x,["".concat(ny,"-bottom")]:na(a)&&t&&na(t.y)&&a>=t.y,["".concat(ny,"-top")]:na(a)&&t&&na(t.y)&&a<t.y})}function IL(e){var{allowEscapeViewBox:t,coordinate:r,key:a,offsetTopLeft:s,position:i,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(i&&na(i[a]))return i[a];var d=r[a]-l-(s>0?s:0),A=r[a]+s;if(t[a])return o[a]?d:A;var m=c[a];if(m==null)return 0;if(o[a]){var h=d,y=m;return h<y?Math.max(A,m):Math.max(d,m)}if(u==null)return 0;var x=A+l,v=m+u;return x>v?Math.max(d,m):Math.max(A,m)}function Aye(e){var{translateX:t,translateY:r,useTranslate3d:a}=e;return{transform:a?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function mye(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:a,position:s,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:c}=e,u,d,A;return o.height>0&&o.width>0&&r?(d=IL({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),A=IL({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Aye({translateX:d,translateY:A,useTranslate3d:l})):u=fye,{cssProperties:u,cssClasses:hye({translateX:d,translateY:A,coordinate:r})}}function PL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ub(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PL(Object(r),!0).forEach(function(a){F6(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PL(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function F6(e,t,r){return(t=pye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pye(e){var t=gye(e,"string");return typeof t=="symbol"?t:t+""}function gye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class xye extends S.PureComponent{constructor(){super(...arguments),F6(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),F6(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,a,s,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==null&&r!==void 0?r:0,y:(s=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:a,animationEasing:s,children:i,coordinate:o,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:A,useTranslate3d:m,viewBox:h,wrapperStyle:y,lastBoundingBox:x,innerRef:v,hasPortalFromProps:b}=this.props,{cssClasses:j,cssProperties:C}=mye({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:u,position:d,reverseDirection:A,tooltipBox:{height:x.height,width:x.width},useTranslate3d:m,viewBox:h}),E=b?{}:Ub(Ub({transition:c&&t?"transform ".concat(a,"ms ").concat(s):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),k=Ub(Ub({},E),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},y);return S.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:j,style:k,ref:v},i)}}var yye=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),og={isSsr:yye()},Qz=()=>sa(e=>e.rootProps.accessibilityLayer);function gc(e){return Number.isFinite(e)}function _x(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function _6(){return _6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_6.apply(null,arguments)}function LL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function OL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LL(Object(r),!0).forEach(function(a){vye(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LL(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function vye(e,t,r){return(t=bye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bye(e){var t=wye(e,"string");return typeof t=="symbol"?t:t+""}function wye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DL={curveBasisClosed:$ge,curveBasisOpen:zge,curveBasis:Hge,curveBumpX:Bge,curveBumpY:Tge,curveLinearClosed:Vge,curveLinear:L5,curveMonotoneX:qge,curveMonotoneY:Kge,curveNatural:Gge,curveStep:Wge,curveStepAfter:Xge,curveStepBefore:Yge},Rb=e=>gc(e.x)&&gc(e.y),sy=e=>e.x,iy=e=>e.y,Nye=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Jv(e));return(r==="curveMonotone"||r==="curveBump")&&t?DL["".concat(r).concat(t==="vertical"?"Y":"X")]:DL[r]||L5},jye=e=>{var{type:t="linear",points:r=[],baseLine:a,layout:s,connectNulls:i=!1}=e,o=Nye(t,s),l=i?r.filter(Rb):r,c;if(Array.isArray(a)){var u=i?a.filter(A=>Rb(A)):a,d=l.map((A,m)=>OL(OL({},A),{},{base:u[m]}));return s==="vertical"?c=Ob().y(iy).x1(sy).x0(A=>A.base.x):c=Ob().x(sy).y1(iy).y0(A=>A.base.y),c.defined(Rb).curve(o),c(d)}return s==="vertical"&&na(a)?c=Ob().y(iy).x1(sy).x0(a):na(a)?c=Ob().x(sy).y1(iy).y0(a):c=az().x(sy).y(iy),c.defined(Rb).curve(o),c(l)},Dy=e=>{var{className:t,points:r,path:a,pathRef:s}=e;if((!r||!r.length)&&!a)return null;var i=r&&r.length?jye(e):a;return S.createElement("path",_6({},sA(e),HB(e),{className:Gt("recharts-curve",t),d:i===null?void 0:i,ref:s}))},Sye=["x","y","top","left","width","height","className"];function k6(){return k6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},k6.apply(null,arguments)}function ML(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Cye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ML(Object(r),!0).forEach(function(a){Eye(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ML(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Eye(e,t,r){return(t=Bye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bye(e){var t=Tye(e,"string");return typeof t=="symbol"?t:t+""}function Tye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fye(e,t){if(e==null)return{};var r,a,s=_ye(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function _ye(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var kye=(e,t,r,a,s,i)=>"M".concat(e,",").concat(s,"v").concat(a,"M").concat(i,",").concat(t,"h").concat(r),Iye=e=>{var{x:t=0,y:r=0,top:a=0,left:s=0,width:i=0,height:o=0,className:l}=e,c=Fye(e,Sye),u=Cye({x:t,y:r,top:a,left:s,width:i,height:o},c);return!na(t)||!na(r)||!na(i)||!na(o)||!na(a)||!na(s)?null:S.createElement("path",k6({},eo(u,!0),{className:Gt("recharts-cross",l),d:kye(t,r,i,o,a,s)}))};function Pye(e,t,r,a){var s=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?a:r.width-1,height:e==="horizontal"?r.height-1:a}}function UL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Lye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UL(Object(r),!0).forEach(function(a){Oye(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UL(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Oye(e,t,r){return(t=Dye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dye(e){var t=Mye(e,"string");return typeof t=="symbol"?t:t+""}function Mye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tu(e,t){var r=Lye({},e),a=t,s=Object.keys(t),i=s.reduce((o,l)=>(o[l]===void 0&&a[l]!==void 0&&(o[l]=a[l]),o),r);return i}function Uye(){}function RL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function QL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RL(Object(r),!0).forEach(function(a){Rye(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RL(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Rye(e,t,r){return(t=Qye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qye(e){var t=Hye(e,"string");return typeof t=="symbol"?t:t+""}function Hye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $ye=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Hz=(e,t,r)=>e.map(a=>"".concat($ye(a)," ").concat(t,"ms ").concat(r)).join(","),zye=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,a)=>r.filter(s=>a.includes(s))),pv=(e,t)=>Object.keys(t).reduce((r,a)=>QL(QL({},r),{},{[a]:e(a,t[a])}),{});function HL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function uc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HL(Object(r),!0).forEach(function(a){Vye(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HL(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Vye(e,t,r){return(t=qye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qye(e){var t=Kye(e,"string");return typeof t=="symbol"?t:t+""}function Kye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p4=(e,t,r)=>e+(t-e)*r,I6=e=>{var{from:t,to:r}=e;return t!==r},$z=(e,t,r)=>{var a=pv((s,i)=>{if(I6(i)){var[o,l]=e(i.from,i.to,i.velocity);return uc(uc({},i),{},{from:o,velocity:l})}return i},t);return r<1?pv((s,i)=>I6(i)?uc(uc({},i),{},{velocity:p4(i.velocity,a[s].velocity,r),from:p4(i.from,a[s].from,r)}):i,t):$z(e,a,r-1)};function Gye(e,t,r,a,s,i){var o,l=a.reduce((m,h)=>uc(uc({},m),{},{[h]:{from:e[h],velocity:0,to:t[h]}}),{}),c=()=>pv((m,h)=>h.from,l),u=()=>!Object.values(l).filter(I6).length,d=null,A=m=>{o||(o=m);var h=m-o,y=h/r.dt;l=$z(r,l,y),s(uc(uc(uc({},e),t),c())),o=m,u()||(d=i.setTimeout(A))};return()=>(d=i.setTimeout(A),()=>{d()})}function Wye(e,t,r,a,s,i,o){var l=null,c=s.reduce((A,m)=>uc(uc({},A),{},{[m]:[e[m],t[m]]}),{}),u,d=A=>{u||(u=A);var m=(A-u)/a,h=pv((x,v)=>p4(...v,r(m)),c);if(i(uc(uc(uc({},e),t),h)),m<1)l=o.setTimeout(d);else{var y=pv((x,v)=>p4(...v,r(1)),c);i(uc(uc(uc({},e),t),y))}};return()=>(l=o.setTimeout(d),()=>{l()})}const Yye=(e,t,r,a,s,i)=>{var o=zye(e,t);return r.isStepper===!0?Gye(e,t,r,o,s,i):Wye(e,t,r,a,o,s,i)};var g4=1e-4,zz=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],Vz=(e,t)=>e.map((r,a)=>r*t**a).reduce((r,a)=>r+a),$L=(e,t)=>r=>{var a=zz(e,t);return Vz(a,r)},Xye=(e,t)=>r=>{var a=zz(e,t),s=[...a.map((i,o)=>i*o).slice(1),0];return Vz(s,r)},zL=function(){for(var t,r,a,s,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];if(o.length===1)switch(o[0]){case"linear":[t,a,r,s]=[0,0,1,1];break;case"ease":[t,a,r,s]=[.25,.1,.25,1];break;case"ease-in":[t,a,r,s]=[.42,0,1,1];break;case"ease-out":[t,a,r,s]=[.42,0,.58,1];break;case"ease-in-out":[t,a,r,s]=[0,0,.58,1];break;default:{var c=o[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,a,r,s]=c[1].split(")")[0].split(",").map(y=>parseFloat(y)))}}else o.length===4&&([t,a,r,s]=o);var u=$L(t,r),d=$L(a,s),A=Xye(t,r),m=y=>y>1?1:y<0?0:y,h=y=>{for(var x=y>1?1:y,v=x,b=0;b<8;++b){var j=u(v)-x,C=A(v);if(Math.abs(j-x)<g4||C<g4)return d(v);v=m(v-j/C)}return d(v)};return h.isStepper=!1,h},Jye=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:a=8,dt:s=17}=t,i=(o,l,c)=>{var u=-(o-l)*r,d=c*a,A=c+(u-d)*s/1e3,m=c*s/1e3+o;return Math.abs(m-l)<g4&&Math.abs(A)<g4?[l,0]:[m,A]};return i.isStepper=!0,i.dt=s,i},Zye=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return zL(e);case"spring":return Jye();default:if(e.split("(")[0]==="cubic-bezier")return zL(e)}return typeof e=="function"?e:null};function eve(e){var t,r=()=>null,a=!1,s=null,i=o=>{if(!a){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...u]=l;if(typeof c=="number"){s=e.setTimeout(i.bind(null,u),c);return}i(c),s=e.setTimeout(i.bind(null,u));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{a=!0},start:o=>{a=!1,s&&(s(),s=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class tve{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=performance.now(),s=null,i=o=>{o-a>=r?t(o):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(i))};return s=requestAnimationFrame(i),()=>{cancelAnimationFrame(s)}}}function rve(){return eve(new tve)}var ave=S.createContext(rve);function nve(e,t){var r=S.useContext(ave);return S.useMemo(()=>t??r(e),[e,t,r])}var sve={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},VL={t:0},y3={t:1};function t2(e){var t=tu(e,sve),{isActive:r,canBegin:a,duration:s,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=nve(t.animationId,t.animationManager),[A,m]=S.useState(r?VL:y3),h=S.useRef(null);return S.useEffect(()=>{r||m(y3)},[r]),S.useEffect(()=>{if(!r||!a)return Uye;var y=Yye(VL,y3,Zye(i),s,m,d.getTimeoutController()),x=()=>{h.current=y()};return d.start([c,o,x,s,l]),()=>{d.stop(),h.current&&h.current(),l()}},[r,a,s,i,o,c,l,d]),u(A.t)}function r2(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=S.useRef(Av(t)),a=S.useRef(e);return a.current!==e&&(r.current=Av(t),a.current=e),r.current}function qL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function KL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qL(Object(r),!0).forEach(function(a){ive(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qL(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ive(e,t,r){return(t=ove(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ove(e){var t=lve(e,"string");return typeof t=="symbol"?t:t+""}function lve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x4(){return x4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},x4.apply(null,arguments)}var GL=(e,t,r,a,s)=>{var i=Math.min(Math.abs(r)/2,Math.abs(a)/2),o=a>=0?1:-1,l=r>=0?1:-1,c=a>=0&&r>=0||a<0&&r<0?1:0,u;if(i>0&&s instanceof Array){for(var d=[0,0,0,0],A=0,m=4;A<m;A++)d[A]=s[A]>i?i:s[A];u="M".concat(e,",").concat(t+o*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),u+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+o*d[1])),u+="L ".concat(e+r,",").concat(t+a-o*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(t+a)),u+="L ".concat(e+l*d[3],",").concat(t+a),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+a-o*d[3])),u+="Z"}else if(i>0&&s===+s&&s>0){var h=Math.min(i,s);u="M ".concat(e,",").concat(t+o*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,`
            L `).concat(e+r-l*h,",").concat(t,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r,",").concat(t+o*h,`
            L `).concat(e+r,",").concat(t+a-o*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r-l*h,",").concat(t+a,`
            L `).concat(e+l*h,",").concat(t+a,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+a-o*h," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(a," h ").concat(-r," Z");return u},cve={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qz=e=>{var t=tu(e,cve),r=S.useRef(null),[a,s]=S.useState(-1);S.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var W=r.current.getTotalLength();W&&s(W)}catch{}},[]);var{x:i,y:o,width:l,height:c,radius:u,className:d}=t,{animationEasing:A,animationDuration:m,animationBegin:h,isAnimationActive:y,isUpdateAnimationActive:x}=t,v=S.useRef(l),b=S.useRef(c),j=S.useRef(i),C=S.useRef(o),E=S.useMemo(()=>({x:i,y:o,width:l,height:c,radius:u}),[i,o,l,c,u]),k=r2(E,"rectangle-");if(i!==+i||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var D=Gt("recharts-rectangle",d);if(!x)return S.createElement("path",x4({},eo(t,!0),{className:D,d:GL(i,o,l,c,u)}));var L=v.current,F=b.current,Q=j.current,U=C.current,P="0px ".concat(a===-1?1:a,"px"),I="".concat(a,"px 0px"),z=Hz(["strokeDasharray"],m,typeof A=="string"?A:void 0);return S.createElement(t2,{animationId:k,key:k,canBegin:a>0,duration:m,easing:A,isActive:x,begin:h},W=>{var ie=Ji(L,l,W),X=Ji(F,c,W),le=Ji(Q,i,W),re=Ji(U,o,W);r.current&&(v.current=ie,b.current=X,j.current=le,C.current=re);var he;return y?W>0?he={transition:z,strokeDasharray:I}:he={strokeDasharray:P}:he={strokeDasharray:I},S.createElement("path",x4({},eo(t,!0),{className:D,d:GL(le,re,ie,X,u),ref:r,style:KL(KL({},he),t.style)}))})};function Kz(e){var{cx:t,cy:r,radius:a,startAngle:s,endAngle:i}=e,o=el(t,r,a,s),l=el(t,r,a,i);return{points:[o,l],cx:t,cy:r,radius:a,startAngle:s,endAngle:i}}function P6(){return P6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},P6.apply(null,arguments)}var dve=(e,t)=>{var r=Rl(t-e),a=Math.min(Math.abs(t-e),359.999);return r*a},Qb=e=>{var{cx:t,cy:r,radius:a,angle:s,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:c}=e,u=l*(o?1:-1)+a,d=Math.asin(l/u)/m4,A=c?s:s+i*d,m=el(t,r,u,A),h=el(t,r,a,A),y=c?s-i*d:s,x=el(t,r,u*Math.cos(d*m4),y);return{center:m,circleTangency:h,lineTangency:x,theta:d}},Gz=e=>{var{cx:t,cy:r,innerRadius:a,outerRadius:s,startAngle:i,endAngle:o}=e,l=dve(i,o),c=i+l,u=el(t,r,s,i),d=el(t,r,s,c),A="M ".concat(u.x,",").concat(u.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(a>0){var m=el(t,r,a,i),h=el(t,r,a,c);A+="L ".concat(h.x,",").concat(h.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(m.x,",").concat(m.y," Z")}else A+="L ".concat(t,",").concat(r," Z");return A},uve=e=>{var{cx:t,cy:r,innerRadius:a,outerRadius:s,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=Rl(u-c),{circleTangency:A,lineTangency:m,theta:h}=Qb({cx:t,cy:r,radius:s,angle:c,sign:d,cornerRadius:i,cornerIsExternal:l}),{circleTangency:y,lineTangency:x,theta:v}=Qb({cx:t,cy:r,radius:s,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:l}),b=l?Math.abs(c-u):Math.abs(c-u)-h-v;if(b<0)return o?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):Gz({cx:t,cy:r,innerRadius:a,outerRadius:s,startAngle:c,endAngle:u});var j="M ".concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(A.x,",").concat(A.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(b>180),",").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(a>0){var{circleTangency:C,lineTangency:E,theta:k}=Qb({cx:t,cy:r,radius:a,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:D,lineTangency:L,theta:F}=Qb({cx:t,cy:r,radius:a,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),Q=l?Math.abs(c-u):Math.abs(c-u)-k-F;if(Q<0&&i===0)return"".concat(j,"L").concat(t,",").concat(r,"Z");j+="L".concat(L.x,",").concat(L.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(Q>180),",").concat(+(d>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(E.x,",").concat(E.y,"Z")}else j+="L".concat(t,",").concat(r,"Z");return j},fve={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Wz=e=>{var t=tu(e,fve),{cx:r,cy:a,innerRadius:s,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:A}=t;if(i<s||u===d)return null;var m=Gt("recharts-sector",A),h=i-s,y=ed(o,h,0,!0),x;return y>0&&Math.abs(u-d)<360?x=uve({cx:r,cy:a,innerRadius:s,outerRadius:i,cornerRadius:Math.min(y,h/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):x=Gz({cx:r,cy:a,innerRadius:s,outerRadius:i,startAngle:u,endAngle:d}),S.createElement("path",P6({},eo(t,!0),{className:m,d:x}))};function hve(e,t,r){var a,s,i,o;if(e==="horizontal")a=t.x,i=a,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,a=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:c,innerRadius:u,outerRadius:d,angle:A}=t,m=el(l,c,u,A),h=el(l,c,d,A);a=m.x,s=m.y,i=h.x,o=h.y}else return Kz(t);return[{x:a,y:s},{x:i,y:o}]}var v3={},b3={},w3={},WL;function Ave(){return WL||(WL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jz();function r(a){return t.isSymbol(a)?NaN:Number(a)}e.toNumber=r})(w3)),w3}var YL;function mve(){return YL||(YL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ave();function r(a){return a?(a=t.toNumber(a),a===1/0||a===-1/0?(a<0?-1:1)*Number.MAX_VALUE:a===a?a:0):a===0?a:0}e.toFinite=r})(b3)),b3}var XL;function pve(){return XL||(XL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sz(),r=mve();function a(s,i,o){o&&typeof o!="number"&&t.isIterateeCall(s,i,o)&&(i=o=void 0),s=r.toFinite(s),i===void 0?(i=s,s=0):i=r.toFinite(i),o=o===void 0?s<i?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((i-s)/(o||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=s,s+=o;return c}e.range=a})(v3)),v3}var N3,JL;function gve(){return JL||(JL=1,N3=pve().range),N3}var xve=gve();const Yz=hf(xve);function c0(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function yve(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function sT(e){let t,r,a;e.length!==2?(t=c0,r=(l,c)=>c0(e(l),c),a=(l,c)=>e(l)-c):(t=e===c0||e===yve?e:vve,r=e,a=e);function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const A=u+d>>>1;r(l[A],c)<0?u=A+1:d=A}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const A=u+d>>>1;r(l[A],c)<=0?u=A+1:d=A}while(u<d)}return u}function o(l,c,u=0,d=l.length){const A=s(l,c,u,d-1);return A>u&&a(l[A-1],c)>-a(l[A],c)?A-1:A}return{left:s,center:o,right:i}}function vve(){return 0}function Xz(e){return e===null?NaN:+e}function*bve(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const wve=sT(c0),a2=wve.right;sT(Xz).center;class ZL extends Map{constructor(t,r=Sve){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[a,s]of t)this.set(a,s)}get(t){return super.get(eO(this,t))}has(t){return super.has(eO(this,t))}set(t,r){return super.set(Nve(this,t),r)}delete(t){return super.delete(jve(this,t))}}function eO({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):r}function Nve({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):(e.set(a,r),r)}function jve({_intern:e,_key:t},r){const a=t(r);return e.has(a)&&(r=e.get(a),e.delete(a)),r}function Sve(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Cve(e=c0){if(e===c0)return Jz;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const a=e(t,r);return a||a===0?a:(e(r,r)===0)-(e(t,t)===0)}}function Jz(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Eve=Math.sqrt(50),Bve=Math.sqrt(10),Tve=Math.sqrt(2);function y4(e,t,r){const a=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(a)),i=a/Math.pow(10,s),o=i>=Eve?10:i>=Bve?5:i>=Tve?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?y4(e,t,r*2):[l,c,u]}function L6(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const a=t<e,[s,i,o]=a?y4(t,e,r):y4(e,t,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(a)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function O6(e,t,r){return t=+t,e=+e,r=+r,y4(e,t,r)[2]}function D6(e,t,r){t=+t,e=+e,r=+r;const a=t<e,s=a?O6(t,e,r):O6(e,t,r);return(a?-1:1)*(s<0?1/-s:s)}function tO(e,t){let r;for(const a of e)a!=null&&(r<a||r===void 0&&a>=a)&&(r=a);return r}function rO(e,t){let r;for(const a of e)a!=null&&(r>a||r===void 0&&a>=a)&&(r=a);return r}function Zz(e,t,r=0,a=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),a=Math.floor(Math.min(e.length-1,a)),!(r<=t&&t<=a))return e;for(s=s===void 0?Jz:Cve(s);a>r;){if(a-r>600){const c=a-r+1,u=t-r+1,d=Math.log(c),A=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*A*(c-A)/c)*(u-c/2<0?-1:1),h=Math.max(r,Math.floor(t-u*A/c+m)),y=Math.min(a,Math.floor(t+(c-u)*A/c+m));Zz(e,t,h,y,s)}const i=e[t];let o=r,l=a;for(oy(e,r,t),s(e[a],i)>0&&oy(e,r,a);o<l;){for(oy(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?oy(e,r,l):(++l,oy(e,l,a)),l<=t&&(r=l+1),t<=l&&(a=l-1)}return e}function oy(e,t,r){const a=e[t];e[t]=e[r],e[r]=a}function Fve(e,t,r){if(e=Float64Array.from(bve(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return rO(e);if(t>=1)return tO(e);var a,s=(a-1)*t,i=Math.floor(s),o=tO(Zz(e,i).subarray(0,i+1)),l=rO(e.subarray(i+1));return o+(l-o)*(s-i)}}function _ve(e,t,r=Xz){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+r(e[0],0,e);if(t>=1)return+r(e[a-1],a-1,e);var a,s=(a-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function kve(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var a=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++a<s;)i[a]=e+a*r;return i}function mf(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function fm(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const M6=Symbol("implicit");function iT(){var e=new ZL,t=[],r=[],a=M6;function s(i){let o=e.get(i);if(o===void 0){if(a!==M6)return a;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new ZL;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return iT(t,r).unknown(a)},mf.apply(s,arguments),s}function oT(){var e=iT().unknown(void 0),t=e.domain,r=e.range,a=0,s=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function A(){var m=t().length,h=s<a,y=h?s:a,x=h?a:s;i=(x-y)/Math.max(1,m-c+u*2),l&&(i=Math.floor(i)),y+=(x-y-i*(m-c))*d,o=i*(1-c),l&&(y=Math.round(y),o=Math.round(o));var v=kve(m).map(function(b){return y+i*b});return r(h?v.reverse():v)}return e.domain=function(m){return arguments.length?(t(m),A()):t()},e.range=function(m){return arguments.length?([a,s]=m,a=+a,s=+s,A()):[a,s]},e.rangeRound=function(m){return[a,s]=m,a=+a,s=+s,l=!0,A()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(m){return arguments.length?(l=!!m,A()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),A()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),A()):c},e.paddingOuter=function(m){return arguments.length?(u=+m,A()):u},e.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),A()):d},e.copy=function(){return oT(t(),[a,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},mf.apply(A(),arguments)}function eV(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return eV(t())},e}function Ive(){return eV(oT.apply(null,arguments).paddingInner(1))}function lT(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function tV(e,t){var r=Object.create(e.prototype);for(var a in t)r[a]=t[a];return r}function n2(){}var gv=.7,v4=1/gv,bx="\\s*([+-]?\\d+)\\s*",xv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Gh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pve=/^#([0-9a-f]{3,8})$/,Lve=new RegExp(`^rgb\\(${bx},${bx},${bx}\\)$`),Ove=new RegExp(`^rgb\\(${Gh},${Gh},${Gh}\\)$`),Dve=new RegExp(`^rgba\\(${bx},${bx},${bx},${xv}\\)$`),Mve=new RegExp(`^rgba\\(${Gh},${Gh},${Gh},${xv}\\)$`),Uve=new RegExp(`^hsl\\(${xv},${Gh},${Gh}\\)$`),Rve=new RegExp(`^hsla\\(${xv},${Gh},${Gh},${xv}\\)$`),aO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};lT(n2,yv,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:nO,formatHex:nO,formatHex8:Qve,formatHsl:Hve,formatRgb:sO,toString:sO});function nO(){return this.rgb().formatHex()}function Qve(){return this.rgb().formatHex8()}function Hve(){return rV(this).formatHsl()}function sO(){return this.rgb().formatRgb()}function yv(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Pve.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?iO(t):r===3?new zd(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Hb(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Hb(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Lve.exec(e))?new zd(t[1],t[2],t[3],1):(t=Ove.exec(e))?new zd(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Dve.exec(e))?Hb(t[1],t[2],t[3],t[4]):(t=Mve.exec(e))?Hb(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Uve.exec(e))?cO(t[1],t[2]/100,t[3]/100,1):(t=Rve.exec(e))?cO(t[1],t[2]/100,t[3]/100,t[4]):aO.hasOwnProperty(e)?iO(aO[e]):e==="transparent"?new zd(NaN,NaN,NaN,0):null}function iO(e){return new zd(e>>16&255,e>>8&255,e&255,1)}function Hb(e,t,r,a){return a<=0&&(e=t=r=NaN),new zd(e,t,r,a)}function $ve(e){return e instanceof n2||(e=yv(e)),e?(e=e.rgb(),new zd(e.r,e.g,e.b,e.opacity)):new zd}function U6(e,t,r,a){return arguments.length===1?$ve(e):new zd(e,t,r,a??1)}function zd(e,t,r,a){this.r=+e,this.g=+t,this.b=+r,this.opacity=+a}lT(zd,U6,tV(n2,{brighter(e){return e=e==null?v4:Math.pow(v4,e),new zd(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?gv:Math.pow(gv,e),new zd(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new zd(Ip(this.r),Ip(this.g),Ip(this.b),b4(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oO,formatHex:oO,formatHex8:zve,formatRgb:lO,toString:lO}));function oO(){return`#${gp(this.r)}${gp(this.g)}${gp(this.b)}`}function zve(){return`#${gp(this.r)}${gp(this.g)}${gp(this.b)}${gp((isNaN(this.opacity)?1:this.opacity)*255)}`}function lO(){const e=b4(this.opacity);return`${e===1?"rgb(":"rgba("}${Ip(this.r)}, ${Ip(this.g)}, ${Ip(this.b)}${e===1?")":`, ${e})`}`}function b4(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ip(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function gp(e){return e=Ip(e),(e<16?"0":"")+e.toString(16)}function cO(e,t,r,a){return a<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Jf(e,t,r,a)}function rV(e){if(e instanceof Jf)return new Jf(e.h,e.s,e.l,e.opacity);if(e instanceof n2||(e=yv(e)),!e)return new Jf;if(e instanceof Jf)return e;e=e.rgb();var t=e.r/255,r=e.g/255,a=e.b/255,s=Math.min(t,r,a),i=Math.max(t,r,a),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(r-a)/l+(r<a)*6:r===i?o=(a-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new Jf(o,l,c,e.opacity)}function Vve(e,t,r,a){return arguments.length===1?rV(e):new Jf(e,t,r,a??1)}function Jf(e,t,r,a){this.h=+e,this.s=+t,this.l=+r,this.opacity=+a}lT(Jf,Vve,tV(n2,{brighter(e){return e=e==null?v4:Math.pow(v4,e),new Jf(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?gv:Math.pow(gv,e),new Jf(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*t,s=2*r-a;return new zd(j3(e>=240?e-240:e+120,s,a),j3(e,s,a),j3(e<120?e+240:e-120,s,a),this.opacity)},clamp(){return new Jf(dO(this.h),$b(this.s),$b(this.l),b4(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=b4(this.opacity);return`${e===1?"hsl(":"hsla("}${dO(this.h)}, ${$b(this.s)*100}%, ${$b(this.l)*100}%${e===1?")":`, ${e})`}`}}));function dO(e){return e=(e||0)%360,e<0?e+360:e}function $b(e){return Math.max(0,Math.min(1,e||0))}function j3(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const cT=e=>()=>e;function qve(e,t){return function(r){return e+r*t}}function Kve(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(a){return Math.pow(e+a*t,r)}}function Gve(e){return(e=+e)==1?aV:function(t,r){return r-t?Kve(t,r,e):cT(isNaN(t)?r:t)}}function aV(e,t){var r=t-e;return r?qve(e,r):cT(isNaN(e)?t:e)}const uO=(function e(t){var r=Gve(t);function a(s,i){var o=r((s=U6(s)).r,(i=U6(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),u=aV(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return a.gamma=e,a})(1);function Wve(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,a=t.slice(),s;return function(i){for(s=0;s<r;++s)a[s]=e[s]*(1-i)+t[s]*i;return a}}function Yve(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Xve(e,t){var r=t?t.length:0,a=e?Math.min(r,e.length):0,s=new Array(a),i=new Array(r),o;for(o=0;o<a;++o)s[o]=Jx(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<a;++o)i[o]=s[o](l);return i}}function Jve(e,t){var r=new Date;return e=+e,t=+t,function(a){return r.setTime(e*(1-a)+t*a),r}}function w4(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Zve(e,t){var r={},a={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Jx(e[s],t[s]):a[s]=t[s];return function(i){for(s in r)a[s]=r[s](i);return a}}var R6=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,S3=new RegExp(R6.source,"g");function e2e(e){return function(){return e}}function t2e(e){return function(t){return e(t)+""}}function r2e(e,t){var r=R6.lastIndex=S3.lastIndex=0,a,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(a=R6.exec(e))&&(s=S3.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(a=a[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:w4(a,s)})),r=S3.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?t2e(c[0].x):e2e(t):(t=c.length,function(u){for(var d=0,A;d<t;++d)l[(A=c[d]).i]=A.x(u);return l.join("")})}function Jx(e,t){var r=typeof t,a;return t==null||r==="boolean"?cT(t):(r==="number"?w4:r==="string"?(a=yv(t))?(t=a,uO):r2e:t instanceof yv?uO:t instanceof Date?Jve:Yve(t)?Wve:Array.isArray(t)?Xve:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Zve:w4)(e,t)}function dT(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function a2e(e,t){t===void 0&&(t=e,e=Jx);for(var r=0,a=t.length-1,s=t[0],i=new Array(a<0?0:a);r<a;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(a-1,Math.floor(o*=a)));return i[l](o-l)}}function n2e(e){return function(){return e}}function N4(e){return+e}var fO=[0,1];function bd(e){return e}function Q6(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:n2e(isNaN(t)?NaN:.5)}function s2e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(a){return Math.max(e,Math.min(t,a))}}function i2e(e,t,r){var a=e[0],s=e[1],i=t[0],o=t[1];return s<a?(a=Q6(s,a),i=r(o,i)):(a=Q6(a,s),i=r(i,o)),function(l){return i(a(l))}}function o2e(e,t,r){var a=Math.min(e.length,t.length)-1,s=new Array(a),i=new Array(a),o=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<a;)s[o]=Q6(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=a2(e,l,1,a)-1;return i[c](s[c](l))}}function s2(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function $5(){var e=fO,t=fO,r=Jx,a,s,i,o=bd,l,c,u;function d(){var m=Math.min(e.length,t.length);return o!==bd&&(o=s2e(e[0],e[m-1])),l=m>2?o2e:i2e,c=u=null,A}function A(m){return m==null||isNaN(m=+m)?i:(c||(c=l(e.map(a),t,r)))(a(o(m)))}return A.invert=function(m){return o(s((u||(u=l(t,e.map(a),w4)))(m)))},A.domain=function(m){return arguments.length?(e=Array.from(m,N4),d()):e.slice()},A.range=function(m){return arguments.length?(t=Array.from(m),d()):t.slice()},A.rangeRound=function(m){return t=Array.from(m),r=dT,d()},A.clamp=function(m){return arguments.length?(o=m?!0:bd,d()):o!==bd},A.interpolate=function(m){return arguments.length?(r=m,d()):r},A.unknown=function(m){return arguments.length?(i=m,A):i},function(m,h){return a=m,s=h,d()}}function uT(){return $5()(bd,bd)}function l2e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function j4(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,a=e.slice(0,r);return[a.length>1?a[0]+a.slice(2):a,+e.slice(r+1)]}function kx(e){return e=j4(Math.abs(e)),e?e[1]:NaN}function c2e(e,t){return function(r,a){for(var s=r.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>a&&(l=Math.max(1,a-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>a));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function d2e(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var u2e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function vv(e){if(!(t=u2e.exec(e)))throw new Error("invalid format: "+e);var t;return new fT({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}vv.prototype=fT.prototype;function fT(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}fT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function f2e(e){e:for(var t=e.length,r=1,a=-1,s;r<t;++r)switch(e[r]){case".":a=s=r;break;case"0":a===0&&(a=r),s=r;break;default:if(!+e[r])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(s+1):e}var nV;function h2e(e,t){var r=j4(e,t);if(!r)return e+"";var a=r[0],s=r[1],i=s-(nV=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=a.length;return i===o?a:i>o?a+new Array(i-o+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+j4(e,Math.max(0,t+i-1))[0]}function hO(e,t){var r=j4(e,t);if(!r)return e+"";var a=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+a:a.length>s+1?a.slice(0,s+1)+"."+a.slice(s+1):a+new Array(s-a.length+2).join("0")}const AO={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:l2e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>hO(e*100,t),r:hO,s:h2e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function mO(e){return e}var pO=Array.prototype.map,gO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function A2e(e){var t=e.grouping===void 0||e.thousands===void 0?mO:c2e(pO.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?mO:d2e(pO.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(A){A=vv(A);var m=A.fill,h=A.align,y=A.sign,x=A.symbol,v=A.zero,b=A.width,j=A.comma,C=A.precision,E=A.trim,k=A.type;k==="n"?(j=!0,k="g"):AO[k]||(C===void 0&&(C=12),E=!0,k="g"),(v||m==="0"&&h==="=")&&(v=!0,m="0",h="=");var D=x==="$"?r:x==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",L=x==="$"?a:/[%p]/.test(k)?o:"",F=AO[k],Q=/[defgprs%]/.test(k);C=C===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function U(P){var I=D,z=L,W,ie,X;if(k==="c")z=F(P)+z,P="";else{P=+P;var le=P<0||1/P<0;if(P=isNaN(P)?c:F(Math.abs(P),C),E&&(P=f2e(P)),le&&+P==0&&y!=="+"&&(le=!1),I=(le?y==="("?y:l:y==="-"||y==="("?"":y)+I,z=(k==="s"?gO[8+nV/3]:"")+z+(le&&y==="("?")":""),Q){for(W=-1,ie=P.length;++W<ie;)if(X=P.charCodeAt(W),48>X||X>57){z=(X===46?s+P.slice(W+1):P.slice(W))+z,P=P.slice(0,W);break}}}j&&!v&&(P=t(P,1/0));var re=I.length+P.length+z.length,he=re<b?new Array(b-re+1).join(m):"";switch(j&&v&&(P=t(he+P,he.length?b-z.length:1/0),he=""),h){case"<":P=I+P+z+he;break;case"=":P=I+he+P+z;break;case"^":P=he.slice(0,re=he.length>>1)+I+P+z+he.slice(re);break;default:P=he+I+P+z;break}return i(P)}return U.toString=function(){return A+""},U}function d(A,m){var h=u((A=vv(A),A.type="f",A)),y=Math.max(-8,Math.min(8,Math.floor(kx(m)/3)))*3,x=Math.pow(10,-y),v=gO[8+y/3];return function(b){return h(x*b)+v}}return{format:u,formatPrefix:d}}var zb,hT,sV;m2e({thousands:",",grouping:[3],currency:["$",""]});function m2e(e){return zb=A2e(e),hT=zb.format,sV=zb.formatPrefix,zb}function p2e(e){return Math.max(0,-kx(Math.abs(e)))}function g2e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(kx(t)/3)))*3-kx(Math.abs(e)))}function x2e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,kx(t)-kx(e))+1}function iV(e,t,r,a){var s=D6(e,t,r),i;switch(a=vv(a??",f"),a.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(i=g2e(s,o))&&(a.precision=i),sV(a,o)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=x2e(s,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=p2e(s))&&(a.precision=i-(a.type==="%")*2);break}}return hT(a)}function F0(e){var t=e.domain;return e.ticks=function(r){var a=t();return L6(a[0],a[a.length-1],r??10)},e.tickFormat=function(r,a){var s=t();return iV(s[0],s[s.length-1],r??10,a)},e.nice=function(r){r==null&&(r=10);var a=t(),s=0,i=a.length-1,o=a[s],l=a[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=s,s=i,i=u);d-- >0;){if(u=O6(o,l,r),u===c)return a[s]=o,a[i]=l,t(a);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function oV(){var e=uT();return e.copy=function(){return s2(e,oV())},mf.apply(e,arguments),F0(e)}function lV(e){var t;function r(a){return a==null||isNaN(a=+a)?t:a}return r.invert=r,r.domain=r.range=function(a){return arguments.length?(e=Array.from(a,N4),r):e.slice()},r.unknown=function(a){return arguments.length?(t=a,r):t},r.copy=function(){return lV(e).unknown(t)},e=arguments.length?Array.from(e,N4):[0,1],F0(r)}function cV(e,t){e=e.slice();var r=0,a=e.length-1,s=e[r],i=e[a],o;return i<s&&(o=r,r=a,a=o,o=s,s=i,i=o),e[r]=t.floor(s),e[a]=t.ceil(i),e}function xO(e){return Math.log(e)}function yO(e){return Math.exp(e)}function y2e(e){return-Math.log(-e)}function v2e(e){return-Math.exp(-e)}function b2e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function w2e(e){return e===10?b2e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function N2e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function vO(e){return(t,r)=>-e(-t,r)}function AT(e){const t=e(xO,yO),r=t.domain;let a=10,s,i;function o(){return s=N2e(a),i=w2e(a),r()[0]<0?(s=vO(s),i=vO(i),e(y2e,v2e)):e(xO,yO),t}return t.base=function(l){return arguments.length?(a=+l,o()):a},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const A=d<u;A&&([u,d]=[d,u]);let m=s(u),h=s(d),y,x;const v=l==null?10:+l;let b=[];if(!(a%1)&&h-m<v){if(m=Math.floor(m),h=Math.ceil(h),u>0){for(;m<=h;++m)for(y=1;y<a;++y)if(x=m<0?y/i(-m):y*i(m),!(x<u)){if(x>d)break;b.push(x)}}else for(;m<=h;++m)for(y=a-1;y>=1;--y)if(x=m>0?y/i(-m):y*i(m),!(x<u)){if(x>d)break;b.push(x)}b.length*2<v&&(b=L6(u,d,v))}else b=L6(m,h,Math.min(h-m,v)).map(i);return A?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=a===10?"s":","),typeof c!="function"&&(!(a%1)&&(c=vv(c)).precision==null&&(c.trim=!0),c=hT(c)),l===1/0)return c;const u=Math.max(1,a*l/t.ticks().length);return d=>{let A=d/i(Math.round(s(d)));return A*a<a-.5&&(A*=a),A<=u?c(d):""}},t.nice=()=>r(cV(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function dV(){const e=AT($5()).domain([1,10]);return e.copy=()=>s2(e,dV()).base(e.base()),mf.apply(e,arguments),e}function bO(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function wO(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function mT(e){var t=1,r=e(bO(t),wO(t));return r.constant=function(a){return arguments.length?e(bO(t=+a),wO(t)):t},F0(r)}function uV(){var e=mT($5());return e.copy=function(){return s2(e,uV()).constant(e.constant())},mf.apply(e,arguments)}function NO(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function j2e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function S2e(e){return e<0?-e*e:e*e}function pT(e){var t=e(bd,bd),r=1;function a(){return r===1?e(bd,bd):r===.5?e(j2e,S2e):e(NO(r),NO(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,a()):r},F0(t)}function gT(){var e=pT($5());return e.copy=function(){return s2(e,gT()).exponent(e.exponent())},mf.apply(e,arguments),e}function C2e(){return gT.apply(null,arguments).exponent(.5)}function jO(e){return Math.sign(e)*e*e}function E2e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function fV(){var e=uT(),t=[0,1],r=!1,a;function s(i){var o=E2e(e(i));return isNaN(o)?a:r?Math.round(o):o}return s.invert=function(i){return e.invert(jO(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,N4)).map(jO)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return fV(e.domain(),t).round(r).clamp(e.clamp()).unknown(a)},mf.apply(s,arguments),F0(s)}function hV(){var e=[],t=[],r=[],a;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=_ve(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?a:t[a2(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(c0),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(a=o,i):a},i.quantiles=function(){return r.slice()},i.copy=function(){return hV().domain(e).range(t).unknown(a)},mf.apply(i,arguments)}function AV(){var e=0,t=1,r=1,a=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[a2(a,c,0,r)]:i}function l(){var c=-1;for(a=new Array(r);++c<r;)a[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,a[0]]:u>=r?[a[r-1],t]:[a[u-1],a[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return a.slice()},o.copy=function(){return AV().domain([e,t]).range(s).unknown(i)},mf.apply(F0(o),arguments)}function mV(){var e=[.5],t=[0,1],r,a=1;function s(i){return i!=null&&i<=i?t[a2(e,i,0,a)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),a=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),a=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return mV().domain(e).range(t).unknown(r)},mf.apply(s,arguments)}const C3=new Date,E3=new Date;function bl(e,t,r,a){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},s.filter=i=>bl(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(C3.setTime(+i),E3.setTime(+o),e(C3),e(E3),Math.floor(r(C3,E3))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(a?o=>a(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const S4=bl(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);S4.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?bl(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):S4);S4.range;const UA=1e3,cf=UA*60,RA=cf*60,tm=RA*24,xT=tm*7,SO=tm*30,B3=tm*365,xp=bl(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*UA)},(e,t)=>(t-e)/UA,e=>e.getUTCSeconds());xp.range;const yT=bl(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*UA)},(e,t)=>{e.setTime(+e+t*cf)},(e,t)=>(t-e)/cf,e=>e.getMinutes());yT.range;const vT=bl(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*cf)},(e,t)=>(t-e)/cf,e=>e.getUTCMinutes());vT.range;const bT=bl(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*UA-e.getMinutes()*cf)},(e,t)=>{e.setTime(+e+t*RA)},(e,t)=>(t-e)/RA,e=>e.getHours());bT.range;const wT=bl(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*RA)},(e,t)=>(t-e)/RA,e=>e.getUTCHours());wT.range;const i2=bl(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*cf)/tm,e=>e.getDate()-1);i2.range;const z5=bl(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/tm,e=>e.getUTCDate()-1);z5.range;const pV=bl(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/tm,e=>Math.floor(e/tm));pV.range;function lg(e){return bl(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*cf)/xT)}const V5=lg(0),C4=lg(1),B2e=lg(2),T2e=lg(3),Ix=lg(4),F2e=lg(5),_2e=lg(6);V5.range;C4.range;B2e.range;T2e.range;Ix.range;F2e.range;_2e.range;function cg(e){return bl(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/xT)}const q5=cg(0),E4=cg(1),k2e=cg(2),I2e=cg(3),Px=cg(4),P2e=cg(5),L2e=cg(6);q5.range;E4.range;k2e.range;I2e.range;Px.range;P2e.range;L2e.range;const NT=bl(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());NT.range;const jT=bl(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());jT.range;const rm=bl(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());rm.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:bl(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});rm.range;const am=bl(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());am.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:bl(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});am.range;function gV(e,t,r,a,s,i){const o=[[xp,1,UA],[xp,5,5*UA],[xp,15,15*UA],[xp,30,30*UA],[i,1,cf],[i,5,5*cf],[i,15,15*cf],[i,30,30*cf],[s,1,RA],[s,3,3*RA],[s,6,6*RA],[s,12,12*RA],[a,1,tm],[a,2,2*tm],[r,1,xT],[t,1,SO],[t,3,3*SO],[e,1,B3]];function l(u,d,A){const m=d<u;m&&([u,d]=[d,u]);const h=A&&typeof A.range=="function"?A:c(u,d,A),y=h?h.range(u,+d+1):[];return m?y.reverse():y}function c(u,d,A){const m=Math.abs(d-u)/A,h=sT(([,,v])=>v).right(o,m);if(h===o.length)return e.every(D6(u/B3,d/B3,A));if(h===0)return S4.every(Math.max(D6(u,d,A),1));const[y,x]=o[m/o[h-1][2]<o[h][2]/m?h-1:h];return y.every(x)}return[l,c]}const[O2e,D2e]=gV(am,jT,q5,pV,wT,vT),[M2e,U2e]=gV(rm,NT,V5,i2,bT,yT);function T3(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function F3(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ly(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function R2e(e){var t=e.dateTime,r=e.date,a=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=cy(s),d=dy(s),A=cy(i),m=dy(i),h=cy(o),y=dy(o),x=cy(l),v=dy(l),b=cy(c),j=dy(c),C={a:le,A:re,b:he,B:de,c:null,d:_O,e:_O,f:cbe,g:ybe,G:bbe,H:ibe,I:obe,j:lbe,L:xV,m:dbe,M:ube,p:ve,q:B,Q:PO,s:LO,S:fbe,u:hbe,U:Abe,V:mbe,w:pbe,W:gbe,x:null,X:null,y:xbe,Y:vbe,Z:wbe,"%":IO},E={a:R,A:G,b:ne,B:pe,c:null,d:kO,e:kO,f:Cbe,g:Obe,G:Mbe,H:Nbe,I:jbe,j:Sbe,L:vV,m:Ebe,M:Bbe,p:xe,q:Ae,Q:PO,s:LO,S:Tbe,u:Fbe,U:_be,V:kbe,w:Ibe,W:Pbe,x:null,X:null,y:Lbe,Y:Dbe,Z:Ube,"%":IO},k={a:U,A:P,b:I,B:z,c:W,d:TO,e:TO,f:rbe,g:BO,G:EO,H:FO,I:FO,j:J2e,L:tbe,m:X2e,M:Z2e,p:Q,q:Y2e,Q:nbe,s:sbe,S:ebe,u:V2e,U:q2e,V:K2e,w:z2e,W:G2e,x:ie,X,y:BO,Y:EO,Z:W2e,"%":abe};C.x=D(r,C),C.X=D(a,C),C.c=D(t,C),E.x=D(r,E),E.X=D(a,E),E.c=D(t,E);function D(Y,se){return function(ee){var be=[],Ce=-1,ce=0,J=Y.length,ge,Je,Ke;for(ee instanceof Date||(ee=new Date(+ee));++Ce<J;)Y.charCodeAt(Ce)===37&&(be.push(Y.slice(ce,Ce)),(Je=CO[ge=Y.charAt(++Ce)])!=null?ge=Y.charAt(++Ce):Je=ge==="e"?" ":"0",(Ke=se[ge])&&(ge=Ke(ee,Je)),be.push(ge),ce=Ce+1);return be.push(Y.slice(ce,Ce)),be.join("")}}function L(Y,se){return function(ee){var be=ly(1900,void 0,1),Ce=F(be,Y,ee+="",0),ce,J;if(Ce!=ee.length)return null;if("Q"in be)return new Date(be.Q);if("s"in be)return new Date(be.s*1e3+("L"in be?be.L:0));if(se&&!("Z"in be)&&(be.Z=0),"p"in be&&(be.H=be.H%12+be.p*12),be.m===void 0&&(be.m="q"in be?be.q:0),"V"in be){if(be.V<1||be.V>53)return null;"w"in be||(be.w=1),"Z"in be?(ce=F3(ly(be.y,0,1)),J=ce.getUTCDay(),ce=J>4||J===0?E4.ceil(ce):E4(ce),ce=z5.offset(ce,(be.V-1)*7),be.y=ce.getUTCFullYear(),be.m=ce.getUTCMonth(),be.d=ce.getUTCDate()+(be.w+6)%7):(ce=T3(ly(be.y,0,1)),J=ce.getDay(),ce=J>4||J===0?C4.ceil(ce):C4(ce),ce=i2.offset(ce,(be.V-1)*7),be.y=ce.getFullYear(),be.m=ce.getMonth(),be.d=ce.getDate()+(be.w+6)%7)}else("W"in be||"U"in be)&&("w"in be||(be.w="u"in be?be.u%7:"W"in be?1:0),J="Z"in be?F3(ly(be.y,0,1)).getUTCDay():T3(ly(be.y,0,1)).getDay(),be.m=0,be.d="W"in be?(be.w+6)%7+be.W*7-(J+5)%7:be.w+be.U*7-(J+6)%7);return"Z"in be?(be.H+=be.Z/100|0,be.M+=be.Z%100,F3(be)):T3(be)}}function F(Y,se,ee,be){for(var Ce=0,ce=se.length,J=ee.length,ge,Je;Ce<ce;){if(be>=J)return-1;if(ge=se.charCodeAt(Ce++),ge===37){if(ge=se.charAt(Ce++),Je=k[ge in CO?se.charAt(Ce++):ge],!Je||(be=Je(Y,ee,be))<0)return-1}else if(ge!=ee.charCodeAt(be++))return-1}return be}function Q(Y,se,ee){var be=u.exec(se.slice(ee));return be?(Y.p=d.get(be[0].toLowerCase()),ee+be[0].length):-1}function U(Y,se,ee){var be=h.exec(se.slice(ee));return be?(Y.w=y.get(be[0].toLowerCase()),ee+be[0].length):-1}function P(Y,se,ee){var be=A.exec(se.slice(ee));return be?(Y.w=m.get(be[0].toLowerCase()),ee+be[0].length):-1}function I(Y,se,ee){var be=b.exec(se.slice(ee));return be?(Y.m=j.get(be[0].toLowerCase()),ee+be[0].length):-1}function z(Y,se,ee){var be=x.exec(se.slice(ee));return be?(Y.m=v.get(be[0].toLowerCase()),ee+be[0].length):-1}function W(Y,se,ee){return F(Y,t,se,ee)}function ie(Y,se,ee){return F(Y,r,se,ee)}function X(Y,se,ee){return F(Y,a,se,ee)}function le(Y){return o[Y.getDay()]}function re(Y){return i[Y.getDay()]}function he(Y){return c[Y.getMonth()]}function de(Y){return l[Y.getMonth()]}function ve(Y){return s[+(Y.getHours()>=12)]}function B(Y){return 1+~~(Y.getMonth()/3)}function R(Y){return o[Y.getUTCDay()]}function G(Y){return i[Y.getUTCDay()]}function ne(Y){return c[Y.getUTCMonth()]}function pe(Y){return l[Y.getUTCMonth()]}function xe(Y){return s[+(Y.getUTCHours()>=12)]}function Ae(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var se=D(Y+="",C);return se.toString=function(){return Y},se},parse:function(Y){var se=L(Y+="",!1);return se.toString=function(){return Y},se},utcFormat:function(Y){var se=D(Y+="",E);return se.toString=function(){return Y},se},utcParse:function(Y){var se=L(Y+="",!0);return se.toString=function(){return Y},se}}}var CO={"-":"",_:" ",0:"0"},zl=/^\s*\d+/,Q2e=/^%/,H2e=/[\\^$*+?|[\]().{}]/g;function Zn(e,t,r){var a=e<0?"-":"",s=(a?-e:e)+"",i=s.length;return a+(i<r?new Array(r-i+1).join(t)+s:s)}function $2e(e){return e.replace(H2e,"\\$&")}function cy(e){return new RegExp("^(?:"+e.map($2e).join("|")+")","i")}function dy(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function z2e(e,t,r){var a=zl.exec(t.slice(r,r+1));return a?(e.w=+a[0],r+a[0].length):-1}function V2e(e,t,r){var a=zl.exec(t.slice(r,r+1));return a?(e.u=+a[0],r+a[0].length):-1}function q2e(e,t,r){var a=zl.exec(t.slice(r,r+2));return a?(e.U=+a[0],r+a[0].length):-1}function K2e(e,t,r){var a=zl.exec(t.slice(r,r+2));return a?(e.V=+a[0],r+a[0].length):-1}function G2e(e,t,r){var a=zl.exec(t.slice(r,r+2));return a?(e.W=+a[0],r+a[0].length):-1}function EO(e,t,r){var a=zl.exec(t.slice(r,r+4));return a?(e.y=+a[0],r+a[0].length):-1}function BO(e,t,r){var a=zl.exec(t.slice(r,r+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function W2e(e,t,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function Y2e(e,t,r){var a=zl.exec(t.slice(r,r+1));return a?(e.q=a[0]*3-3,r+a[0].length):-1}function X2e(e,t,r){var a=zl.exec(t.slice(r,r+2));return a?(e.m=a[0]-1,r+a[0].length):-1}function TO(e,t,r){var a=zl.exec(t.slice(r,r+2));return a?(e.d=+a[0],r+a[0].length):-1}function J2e(e,t,r){var a=zl.exec(t.slice(r,r+3));return a?(e.m=0,e.d=+a[0],r+a[0].length):-1}function FO(e,t,r){var a=zl.exec(t.slice(r,r+2));return a?(e.H=+a[0],r+a[0].length):-1}function Z2e(e,t,r){var a=zl.exec(t.slice(r,r+2));return a?(e.M=+a[0],r+a[0].length):-1}function ebe(e,t,r){var a=zl.exec(t.slice(r,r+2));return a?(e.S=+a[0],r+a[0].length):-1}function tbe(e,t,r){var a=zl.exec(t.slice(r,r+3));return a?(e.L=+a[0],r+a[0].length):-1}function rbe(e,t,r){var a=zl.exec(t.slice(r,r+6));return a?(e.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function abe(e,t,r){var a=Q2e.exec(t.slice(r,r+1));return a?r+a[0].length:-1}function nbe(e,t,r){var a=zl.exec(t.slice(r));return a?(e.Q=+a[0],r+a[0].length):-1}function sbe(e,t,r){var a=zl.exec(t.slice(r));return a?(e.s=+a[0],r+a[0].length):-1}function _O(e,t){return Zn(e.getDate(),t,2)}function ibe(e,t){return Zn(e.getHours(),t,2)}function obe(e,t){return Zn(e.getHours()%12||12,t,2)}function lbe(e,t){return Zn(1+i2.count(rm(e),e),t,3)}function xV(e,t){return Zn(e.getMilliseconds(),t,3)}function cbe(e,t){return xV(e,t)+"000"}function dbe(e,t){return Zn(e.getMonth()+1,t,2)}function ube(e,t){return Zn(e.getMinutes(),t,2)}function fbe(e,t){return Zn(e.getSeconds(),t,2)}function hbe(e){var t=e.getDay();return t===0?7:t}function Abe(e,t){return Zn(V5.count(rm(e)-1,e),t,2)}function yV(e){var t=e.getDay();return t>=4||t===0?Ix(e):Ix.ceil(e)}function mbe(e,t){return e=yV(e),Zn(Ix.count(rm(e),e)+(rm(e).getDay()===4),t,2)}function pbe(e){return e.getDay()}function gbe(e,t){return Zn(C4.count(rm(e)-1,e),t,2)}function xbe(e,t){return Zn(e.getFullYear()%100,t,2)}function ybe(e,t){return e=yV(e),Zn(e.getFullYear()%100,t,2)}function vbe(e,t){return Zn(e.getFullYear()%1e4,t,4)}function bbe(e,t){var r=e.getDay();return e=r>=4||r===0?Ix(e):Ix.ceil(e),Zn(e.getFullYear()%1e4,t,4)}function wbe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Zn(t/60|0,"0",2)+Zn(t%60,"0",2)}function kO(e,t){return Zn(e.getUTCDate(),t,2)}function Nbe(e,t){return Zn(e.getUTCHours(),t,2)}function jbe(e,t){return Zn(e.getUTCHours()%12||12,t,2)}function Sbe(e,t){return Zn(1+z5.count(am(e),e),t,3)}function vV(e,t){return Zn(e.getUTCMilliseconds(),t,3)}function Cbe(e,t){return vV(e,t)+"000"}function Ebe(e,t){return Zn(e.getUTCMonth()+1,t,2)}function Bbe(e,t){return Zn(e.getUTCMinutes(),t,2)}function Tbe(e,t){return Zn(e.getUTCSeconds(),t,2)}function Fbe(e){var t=e.getUTCDay();return t===0?7:t}function _be(e,t){return Zn(q5.count(am(e)-1,e),t,2)}function bV(e){var t=e.getUTCDay();return t>=4||t===0?Px(e):Px.ceil(e)}function kbe(e,t){return e=bV(e),Zn(Px.count(am(e),e)+(am(e).getUTCDay()===4),t,2)}function Ibe(e){return e.getUTCDay()}function Pbe(e,t){return Zn(E4.count(am(e)-1,e),t,2)}function Lbe(e,t){return Zn(e.getUTCFullYear()%100,t,2)}function Obe(e,t){return e=bV(e),Zn(e.getUTCFullYear()%100,t,2)}function Dbe(e,t){return Zn(e.getUTCFullYear()%1e4,t,4)}function Mbe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Px(e):Px.ceil(e),Zn(e.getUTCFullYear()%1e4,t,4)}function Ube(){return"+0000"}function IO(){return"%"}function PO(e){return+e}function LO(e){return Math.floor(+e/1e3)}var Hg,wV,NV;Rbe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Rbe(e){return Hg=R2e(e),wV=Hg.format,Hg.parse,NV=Hg.utcFormat,Hg.utcParse,Hg}function Qbe(e){return new Date(e)}function Hbe(e){return e instanceof Date?+e:+new Date(+e)}function ST(e,t,r,a,s,i,o,l,c,u){var d=uT(),A=d.invert,m=d.domain,h=u(".%L"),y=u(":%S"),x=u("%I:%M"),v=u("%I %p"),b=u("%a %d"),j=u("%b %d"),C=u("%B"),E=u("%Y");function k(D){return(c(D)<D?h:l(D)<D?y:o(D)<D?x:i(D)<D?v:a(D)<D?s(D)<D?b:j:r(D)<D?C:E)(D)}return d.invert=function(D){return new Date(A(D))},d.domain=function(D){return arguments.length?m(Array.from(D,Hbe)):m().map(Qbe)},d.ticks=function(D){var L=m();return e(L[0],L[L.length-1],D??10)},d.tickFormat=function(D,L){return L==null?k:u(L)},d.nice=function(D){var L=m();return(!D||typeof D.range!="function")&&(D=t(L[0],L[L.length-1],D??10)),D?m(cV(L,D)):d},d.copy=function(){return s2(d,ST(e,t,r,a,s,i,o,l,c,u))},d}function $be(){return mf.apply(ST(M2e,U2e,rm,NT,V5,i2,bT,yT,xp,wV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function zbe(){return mf.apply(ST(O2e,D2e,am,jT,q5,z5,wT,vT,xp,NV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function K5(){var e=0,t=1,r,a,s,i,o=bd,l=!1,c;function u(A){return A==null||isNaN(A=+A)?c:o(s===0?.5:(A=(i(A)-r)*s,l?Math.max(0,Math.min(1,A)):A))}u.domain=function(A){return arguments.length?([e,t]=A,r=i(e=+e),a=i(t=+t),s=r===a?0:1/(a-r),u):[e,t]},u.clamp=function(A){return arguments.length?(l=!!A,u):l},u.interpolator=function(A){return arguments.length?(o=A,u):o};function d(A){return function(m){var h,y;return arguments.length?([h,y]=m,o=A(h,y),u):[o(0),o(1)]}}return u.range=d(Jx),u.rangeRound=d(dT),u.unknown=function(A){return arguments.length?(c=A,u):c},function(A){return i=A,r=A(e),a=A(t),s=r===a?0:1/(a-r),u}}function _0(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function jV(){var e=F0(K5()(bd));return e.copy=function(){return _0(e,jV())},fm.apply(e,arguments)}function SV(){var e=AT(K5()).domain([1,10]);return e.copy=function(){return _0(e,SV()).base(e.base())},fm.apply(e,arguments)}function CV(){var e=mT(K5());return e.copy=function(){return _0(e,CV()).constant(e.constant())},fm.apply(e,arguments)}function CT(){var e=pT(K5());return e.copy=function(){return _0(e,CT()).exponent(e.exponent())},fm.apply(e,arguments)}function Vbe(){return CT.apply(null,arguments).exponent(.5)}function EV(){var e=[],t=bd;function r(a){if(a!=null&&!isNaN(a=+a))return t((a2(e,a,1)-1)/(e.length-1))}return r.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(c0),r},r.interpolator=function(a){return arguments.length?(t=a,r):t},r.range=function(){return e.map((a,s)=>t(s/(e.length-1)))},r.quantiles=function(a){return Array.from({length:a+1},(s,i)=>Fve(e,i/a))},r.copy=function(){return EV(t).domain(e)},fm.apply(r,arguments)}function G5(){var e=0,t=.5,r=1,a=1,s,i,o,l,c,u=bd,d,A=!1,m;function h(x){return isNaN(x=+x)?m:(x=.5+((x=+d(x))-i)*(a*x<a*i?l:c),u(A?Math.max(0,Math.min(1,x)):x))}h.domain=function(x){return arguments.length?([e,t,r]=x,s=d(e=+e),i=d(t=+t),o=d(r=+r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),a=i<s?-1:1,h):[e,t,r]},h.clamp=function(x){return arguments.length?(A=!!x,h):A},h.interpolator=function(x){return arguments.length?(u=x,h):u};function y(x){return function(v){var b,j,C;return arguments.length?([b,j,C]=v,u=a2e(x,[b,j,C]),h):[u(0),u(.5),u(1)]}}return h.range=y(Jx),h.rangeRound=y(dT),h.unknown=function(x){return arguments.length?(m=x,h):m},function(x){return d=x,s=x(e),i=x(t),o=x(r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),a=i<s?-1:1,h}}function BV(){var e=F0(G5()(bd));return e.copy=function(){return _0(e,BV())},fm.apply(e,arguments)}function TV(){var e=AT(G5()).domain([.1,1,10]);return e.copy=function(){return _0(e,TV()).base(e.base())},fm.apply(e,arguments)}function FV(){var e=mT(G5());return e.copy=function(){return _0(e,FV()).constant(e.constant())},fm.apply(e,arguments)}function ET(){var e=pT(G5());return e.copy=function(){return _0(e,ET()).exponent(e.exponent())},fm.apply(e,arguments)}function qbe(){return ET.apply(null,arguments).exponent(.5)}const xy=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:oT,scaleDiverging:BV,scaleDivergingLog:TV,scaleDivergingPow:ET,scaleDivergingSqrt:qbe,scaleDivergingSymlog:FV,scaleIdentity:lV,scaleImplicit:M6,scaleLinear:oV,scaleLog:dV,scaleOrdinal:iT,scalePoint:Ive,scalePow:gT,scaleQuantile:hV,scaleQuantize:AV,scaleRadial:fV,scaleSequential:jV,scaleSequentialLog:SV,scaleSequentialPow:CT,scaleSequentialQuantile:EV,scaleSequentialSqrt:Vbe,scaleSequentialSymlog:CV,scaleSqrt:C2e,scaleSymlog:uV,scaleThreshold:mV,scaleTime:$be,scaleUtc:zbe,tickFormat:iV},Symbol.toStringTag,{value:"Module"}));var k0=e=>e.chartData,BT=tr([k0],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),W5=(e,t,r,a)=>a?BT(e):k0(e);function Lx(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(gc(t)&&gc(r))return!0}return!1}function OO(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Kbe(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,a]=e,s,i;if(gc(r))s=r;else if(typeof r=="function")return;if(gc(a))i=a;else if(typeof a=="function")return;var o=[s,i];if(Lx(o))return o}}function Gbe(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var a=e(t,r);if(Lx(a))return OO(a,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[s,i]=e,o,l;if(s==="auto")t!=null&&(o=Math.min(...t));else if(na(s))o=s;else if(typeof s=="function")try{t!=null&&(o=s(t?.[0]))}catch{}else if(typeof s=="string"&&CL.test(s)){var c=CL.exec(s);if(c==null||t==null)o=void 0;else{var u=+c[1];o=t[0]-u}}else o=t?.[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(na(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t?.[1]))}catch{}else if(typeof i=="string"&&EL.test(i)){var d=EL.exec(i);if(d==null||t==null)l=void 0;else{var A=+d[1];l=t[1]+A}}else l=t?.[1];var m=[o,l];if(Lx(m))return t==null?m:OO(m,t,r)}}}var Zx=1e9,Wbe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},FT,Qi=!0,ff="[DecimalError] ",Pp=ff+"Invalid argument: ",TT=ff+"Exponent out of range: ",e1=Math.floor,dp=Math.pow,Ybe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,_u,Ll=1e7,ji=7,_V=9007199254740991,B4=e1(_V/ji),Wr={};Wr.absoluteValue=Wr.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Wr.comparedTo=Wr.cmp=function(e){var t,r,a,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(a=i.d.length,s=e.d.length,t=0,r=a<s?a:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return a===s?0:a>s^i.s<0?1:-1};Wr.decimalPlaces=Wr.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*ji;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Wr.dividedBy=Wr.div=function(e){return KA(this,new this.constructor(e))};Wr.dividedToIntegerBy=Wr.idiv=function(e){var t=this,r=t.constructor;return ri(KA(t,new r(e),0,1),r.precision)};Wr.equals=Wr.eq=function(e){return!this.cmp(e)};Wr.exponent=function(){return rl(this)};Wr.greaterThan=Wr.gt=function(e){return this.cmp(e)>0};Wr.greaterThanOrEqualTo=Wr.gte=function(e){return this.cmp(e)>=0};Wr.isInteger=Wr.isint=function(){return this.e>this.d.length-2};Wr.isNegative=Wr.isneg=function(){return this.s<0};Wr.isPositive=Wr.ispos=function(){return this.s>0};Wr.isZero=function(){return this.s===0};Wr.lessThan=Wr.lt=function(e){return this.cmp(e)<0};Wr.lessThanOrEqualTo=Wr.lte=function(e){return this.cmp(e)<1};Wr.logarithm=Wr.log=function(e){var t,r=this,a=r.constructor,s=a.precision,i=s+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(_u))throw Error(ff+"NaN");if(r.s<1)throw Error(ff+(r.s?"NaN":"-Infinity"));return r.eq(_u)?new a(0):(Qi=!1,t=KA(bv(r,i),bv(e,i),i),Qi=!0,ri(t,s))};Wr.minus=Wr.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?PV(t,e):kV(t,(e.s=-e.s,e))};Wr.modulo=Wr.mod=function(e){var t,r=this,a=r.constructor,s=a.precision;if(e=new a(e),!e.s)throw Error(ff+"NaN");return r.s?(Qi=!1,t=KA(r,e,0,1).times(e),Qi=!0,r.minus(t)):ri(new a(r),s)};Wr.naturalExponential=Wr.exp=function(){return IV(this)};Wr.naturalLogarithm=Wr.ln=function(){return bv(this)};Wr.negated=Wr.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Wr.plus=Wr.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?kV(t,e):PV(t,(e.s=-e.s,e))};Wr.precision=Wr.sd=function(e){var t,r,a,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Pp+e);if(t=rl(s)+1,a=s.d.length-1,r=a*ji+1,a=s.d[a],a){for(;a%10==0;a/=10)r--;for(a=s.d[0];a>=10;a/=10)r++}return e&&t>r?t:r};Wr.squareRoot=Wr.sqrt=function(){var e,t,r,a,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ff+"NaN")}for(e=rl(l),Qi=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=$h(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=e1((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new c(t)):a=new c(s.toString()),r=c.precision,s=o=r+3;;)if(i=a,a=i.plus(KA(l,i,o+2)).times(.5),$h(i.d).slice(0,o)===(t=$h(a.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(ri(i,r+1,0),i.times(i).eq(l)){a=i;break}}else if(t!="9999")break;o+=4}return Qi=!0,ri(a,r)};Wr.times=Wr.mul=function(e){var t,r,a,s,i,o,l,c,u,d=this,A=d.constructor,m=d.d,h=(e=new A(e)).d;if(!d.s||!e.s)return new A(0);for(e.s*=d.s,r=d.e+e.e,c=m.length,u=h.length,c<u&&(i=m,m=h,h=i,o=c,c=u,u=o),i=[],o=c+u,a=o;a--;)i.push(0);for(a=u;--a>=0;){for(t=0,s=c+a;s>a;)l=i[s]+h[a]*m[s-a-1]+t,i[s--]=l%Ll|0,t=l/Ll|0;i[s]=(i[s]+t)%Ll|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Qi?ri(e,A.precision):e};Wr.toDecimalPlaces=Wr.todp=function(e,t){var r=this,a=r.constructor;return r=new a(r),e===void 0?r:(tA(e,0,Zx),t===void 0?t=a.rounding:tA(t,0,8),ri(r,e+rl(r)+1,t))};Wr.toExponential=function(e,t){var r,a=this,s=a.constructor;return e===void 0?r=Kp(a,!0):(tA(e,0,Zx),t===void 0?t=s.rounding:tA(t,0,8),a=ri(new s(a),e+1,t),r=Kp(a,!0,e+1)),r};Wr.toFixed=function(e,t){var r,a,s=this,i=s.constructor;return e===void 0?Kp(s):(tA(e,0,Zx),t===void 0?t=i.rounding:tA(t,0,8),a=ri(new i(s),e+rl(s)+1,t),r=Kp(a.abs(),!1,e+rl(a)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Wr.toInteger=Wr.toint=function(){var e=this,t=e.constructor;return ri(new t(e),rl(e)+1,t.rounding)};Wr.toNumber=function(){return+this};Wr.toPower=Wr.pow=function(e){var t,r,a,s,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(_u);if(l=new c(l),!l.s){if(e.s<1)throw Error(ff+"Infinity");return l}if(l.eq(_u))return l;if(a=c.precision,e.eq(_u))return ri(l,a);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=_V){for(s=new c(_u),t=Math.ceil(a/ji+4),Qi=!1;r%2&&(s=s.times(l),MO(s.d,t)),r=e1(r/2),r!==0;)l=l.times(l),MO(l.d,t);return Qi=!0,e.s<0?new c(_u).div(s):ri(s,a)}}else if(i<0)throw Error(ff+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Qi=!1,s=e.times(bv(l,a+u)),Qi=!0,s=IV(s),s.s=i,s};Wr.toPrecision=function(e,t){var r,a,s=this,i=s.constructor;return e===void 0?(r=rl(s),a=Kp(s,r<=i.toExpNeg||r>=i.toExpPos)):(tA(e,1,Zx),t===void 0?t=i.rounding:tA(t,0,8),s=ri(new i(s),e,t),r=rl(s),a=Kp(s,e<=r||r<=i.toExpNeg,e)),a};Wr.toSignificantDigits=Wr.tosd=function(e,t){var r=this,a=r.constructor;return e===void 0?(e=a.precision,t=a.rounding):(tA(e,1,Zx),t===void 0?t=a.rounding:tA(t,0,8)),ri(new a(r),e,t)};Wr.toString=Wr.valueOf=Wr.val=Wr.toJSON=Wr[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=rl(e),r=e.constructor;return Kp(e,t<=r.toExpNeg||t>=r.toExpPos)};function kV(e,t){var r,a,s,i,o,l,c,u,d=e.constructor,A=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Qi?ri(t,A):t;if(c=e.d,u=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(a=c,i=-i,l=u.length):(a=u,s=o,l=c.length),o=Math.ceil(A/ji),l=o>l?o+1:l+1,i>l&&(i=l,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,a=u,u=c,c=a),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Ll|0,c[i]%=Ll;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,Qi?ri(t,A):t}function tA(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Pp+e)}function $h(e){var t,r,a,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)a=e[t]+"",r=ji-a.length,r&&(i+=Wm(r)),i+=a;o=e[t],a=o+"",r=ji-a.length,r&&(i+=Wm(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var KA=(function(){function e(a,s){var i,o=0,l=a.length;for(a=a.slice();l--;)i=a[l]*s+o,a[l]=i%Ll|0,o=i/Ll|0;return o&&a.unshift(o),a}function t(a,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(a[l]!=s[l]){c=a[l]>s[l]?1:-1;break}return c}function r(a,s,i){for(var o=0;i--;)a[i]-=o,o=a[i]<s[i]?1:0,a[i]=o*Ll+a[i]-s[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,s,i,o){var l,c,u,d,A,m,h,y,x,v,b,j,C,E,k,D,L,F,Q=a.constructor,U=a.s==s.s?1:-1,P=a.d,I=s.d;if(!a.s)return new Q(a);if(!s.s)throw Error(ff+"Division by zero");for(c=a.e-s.e,L=I.length,k=P.length,h=new Q(U),y=h.d=[],u=0;I[u]==(P[u]||0);)++u;if(I[u]>(P[u]||0)&&--c,i==null?j=i=Q.precision:o?j=i+(rl(a)-rl(s))+1:j=i,j<0)return new Q(0);if(j=j/ji+2|0,u=0,L==1)for(d=0,I=I[0],j++;(u<k||d)&&j--;u++)C=d*Ll+(P[u]||0),y[u]=C/I|0,d=C%I|0;else{for(d=Ll/(I[0]+1)|0,d>1&&(I=e(I,d),P=e(P,d),L=I.length,k=P.length),E=L,x=P.slice(0,L),v=x.length;v<L;)x[v++]=0;F=I.slice(),F.unshift(0),D=I[0],I[1]>=Ll/2&&++D;do d=0,l=t(I,x,L,v),l<0?(b=x[0],L!=v&&(b=b*Ll+(x[1]||0)),d=b/D|0,d>1?(d>=Ll&&(d=Ll-1),A=e(I,d),m=A.length,v=x.length,l=t(A,x,m,v),l==1&&(d--,r(A,L<m?F:I,m))):(d==0&&(l=d=1),A=I.slice()),m=A.length,m<v&&A.unshift(0),r(x,A,v),l==-1&&(v=x.length,l=t(I,x,L,v),l<1&&(d++,r(x,L<v?F:I,v))),v=x.length):l===0&&(d++,x=[0]),y[u++]=d,l&&x[0]?x[v++]=P[E]||0:(x=[P[E]],v=1);while((E++<k||x[0]!==void 0)&&j--)}return y[0]||y.shift(),h.e=c,ri(h,o?i+rl(h)+1:i)}})();function IV(e,t){var r,a,s,i,o,l,c=0,u=0,d=e.constructor,A=d.precision;if(rl(e)>16)throw Error(TT+rl(e));if(!e.s)return new d(_u);for(Qi=!1,l=A,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(a=Math.log(dp(2,u))/Math.LN10*2+5|0,l+=a,r=s=i=new d(_u),d.precision=l;;){if(s=ri(s.times(e),l),r=r.times(++c),o=i.plus(KA(s,r,l)),$h(o.d).slice(0,l)===$h(i.d).slice(0,l)){for(;u--;)i=ri(i.times(i),l);return d.precision=A,t==null?(Qi=!0,ri(i,A)):i}i=o}}function rl(e){for(var t=e.e*ji,r=e.d[0];r>=10;r/=10)t++;return t}function _3(e,t,r){if(t>e.LN10.sd())throw Qi=!0,r&&(e.precision=r),Error(ff+"LN10 precision limit exceeded");return ri(new e(e.LN10),t)}function Wm(e){for(var t="";e--;)t+="0";return t}function bv(e,t){var r,a,s,i,o,l,c,u,d,A=1,m=10,h=e,y=h.d,x=h.constructor,v=x.precision;if(h.s<1)throw Error(ff+(h.s?"NaN":"-Infinity"));if(h.eq(_u))return new x(0);if(t==null?(Qi=!1,u=v):u=t,h.eq(10))return t==null&&(Qi=!0),_3(x,u);if(u+=m,x.precision=u,r=$h(y),a=r.charAt(0),i=rl(h),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&r.charAt(1)>3;)h=h.times(e),r=$h(h.d),a=r.charAt(0),A++;i=rl(h),a>1?(h=new x("0."+r),i++):h=new x(a+"."+r.slice(1))}else return c=_3(x,u+2,v).times(i+""),h=bv(new x(a+"."+r.slice(1)),u-m).plus(c),x.precision=v,t==null?(Qi=!0,ri(h,v)):h;for(l=o=h=KA(h.minus(_u),h.plus(_u),u),d=ri(h.times(h),u),s=3;;){if(o=ri(o.times(d),u),c=l.plus(KA(o,new x(s),u)),$h(c.d).slice(0,u)===$h(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(_3(x,u+2,v).times(i+""))),l=KA(l,new x(A),u),x.precision=v,t==null?(Qi=!0,ri(l,v)):l;l=c,s+=2}}function DO(e,t){var r,a,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(r<0&&(r=a),r+=+t.slice(a+1),t=t.substring(0,a)):r<0&&(r=t.length),a=0;t.charCodeAt(a)===48;)++a;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(a,s),t){if(s-=a,r=r-a-1,e.e=e1(r/ji),e.d=[],a=(r+1)%ji,r<0&&(a+=ji),a<s){for(a&&e.d.push(+t.slice(0,a)),s-=ji;a<s;)e.d.push(+t.slice(a,a+=ji));t=t.slice(a),a=ji-t.length}else a-=s;for(;a--;)t+="0";if(e.d.push(+t),Qi&&(e.e>B4||e.e<-B4))throw Error(TT+r)}else e.s=0,e.e=0,e.d=[0];return e}function ri(e,t,r){var a,s,i,o,l,c,u,d,A=e.d;for(o=1,i=A[0];i>=10;i/=10)o++;if(a=t-o,a<0)a+=ji,s=t,u=A[d=0];else{if(d=Math.ceil((a+1)/ji),i=A.length,d>=i)return e;for(u=i=A[d],o=1;i>=10;i/=10)o++;a%=ji,s=a-ji+o}if(r!==void 0&&(i=dp(10,o-s-1),l=u/i%10|0,c=t<0||A[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(a>0?s>0?u/dp(10,o-s):0:A[d-1])%10&1||r==(e.s<0?8:7))),t<1||!A[0])return c?(i=rl(e),A.length=1,t=t-i-1,A[0]=dp(10,(ji-t%ji)%ji),e.e=e1(-t/ji)||0):(A.length=1,A[0]=e.e=e.s=0),e;if(a==0?(A.length=d,i=1,d--):(A.length=d+1,i=dp(10,ji-a),A[d]=s>0?(u/dp(10,o-s)%dp(10,s)|0)*i:0),c)for(;;)if(d==0){(A[0]+=i)==Ll&&(A[0]=1,++e.e);break}else{if(A[d]+=i,A[d]!=Ll)break;A[d--]=0,i=1}for(a=A.length;A[--a]===0;)A.pop();if(Qi&&(e.e>B4||e.e<-B4))throw Error(TT+rl(e));return e}function PV(e,t){var r,a,s,i,o,l,c,u,d,A,m=e.constructor,h=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),Qi?ri(t,h):t;if(c=e.d,A=t.d,a=t.e,u=e.e,c=c.slice(),o=u-a,o){for(d=o<0,d?(r=c,o=-o,l=A.length):(r=A,a=u,l=c.length),s=Math.max(Math.ceil(h/ji),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=A.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=A[s]){d=c[s]<A[s];break}o=0}for(d&&(r=c,c=A,A=r,t.s=-t.s),l=c.length,s=A.length-l;s>0;--s)c[l++]=0;for(s=A.length;s>o;){if(c[--s]<A[s]){for(i=s;i&&c[--i]===0;)c[i]=Ll-1;--c[i],c[s]+=Ll}c[s]-=A[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--a;return c[0]?(t.d=c,t.e=a,Qi?ri(t,h):t):new m(0)}function Kp(e,t,r){var a,s=rl(e),i=$h(e.d),o=i.length;return t?(r&&(a=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Wm(a):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Wm(-s-1)+i,r&&(a=r-o)>0&&(i+=Wm(a))):s>=o?(i+=Wm(s+1-o),r&&(a=r-s-1)>0&&(i=i+"."+Wm(a))):((a=s+1)<o&&(i=i.slice(0,a)+"."+i.slice(a)),r&&(a=r-o)>0&&(s+1===o&&(i+="."),i+=Wm(a))),e.s<0?"-"+i:i}function MO(e,t){if(e.length>t)return e.length=t,!0}function LV(e){var t,r,a;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Pp+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return DO(o,i.toString())}else if(typeof i!="string")throw Error(Pp+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Ybe.test(i))DO(o,i);else throw Error(Pp+i)}if(s.prototype=Wr,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=LV,s.config=s.set=Xbe,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(r=a[t++])||(e[r]=this[r]);return s.config(e),s}function Xbe(e){if(!e||typeof e!="object")throw Error(ff+"Object expected");var t,r,a,s=["precision",1,Zx,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((a=e[r=s[t]])!==void 0)if(e1(a)===a&&a>=s[t+1]&&a<=s[t+2])this[r]=a;else throw Error(Pp+r+": "+a);if((a=e[r="LN10"])!==void 0)if(a==Math.LN10)this[r]=new this(a);else throw Error(Pp+r+": "+a);return this}var FT=LV(Wbe);_u=new FT(1);const _s=FT;var Jbe=e=>e,OV={},DV=e=>e===OV,UO=e=>function t(){return arguments.length===0||arguments.length===1&&DV(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},MV=(e,t)=>e===1?t:UO(function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];var i=a.filter(o=>o!==OV).length;return i>=e?t(...a):MV(e-i,UO(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=a.map(d=>DV(d)?l.shift():d);return t(...u,...l)}))}),Y5=e=>MV(e.length,e),H6=(e,t)=>{for(var r=[],a=e;a<t;++a)r[a-e]=a;return r},Zbe=Y5((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),ewe=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];if(!r.length)return Jbe;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce((l,c)=>c(l),i(...arguments))}},$6=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),UV=e=>{var t=null,r=null;return function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return t&&s.every((o,l)=>{var c;return o===((c=t)===null||c===void 0?void 0:c[l])})||(t=s,r=e(...s)),r}};function RV(e){var t;return e===0?t=1:t=Math.floor(new _s(e).abs().log(10).toNumber())+1,t}function QV(e,t,r){for(var a=new _s(e),s=0,i=[];a.lt(t)&&s<1e5;)i.push(a.toNumber()),a=a.add(r),s++;return i}Y5((e,t,r)=>{var a=+e,s=+t;return a+r*(s-a)});Y5((e,t,r)=>{var a=t-+e;return a=a||1/0,(r-e)/a});Y5((e,t,r)=>{var a=t-+e;return a=a||1/0,Math.max(0,Math.min(1,(r-e)/a))});var HV=e=>{var[t,r]=e,[a,s]=[t,r];return t>r&&([a,s]=[r,t]),[a,s]},$V=(e,t,r)=>{if(e.lte(0))return new _s(0);var a=RV(e.toNumber()),s=new _s(10).pow(a),i=e.div(s),o=a!==1?.05:.1,l=new _s(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return t?new _s(c.toNumber()):new _s(Math.ceil(c.toNumber()))},twe=(e,t,r)=>{var a=new _s(1),s=new _s(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(a=new _s(10).pow(RV(e)-1),s=new _s(Math.floor(s.div(a).toNumber())).mul(a)):i>1&&(s=new _s(Math.floor(e)))}else e===0?s=new _s(Math.floor((t-1)/2)):r||(s=new _s(Math.floor(e)));var o=Math.floor((t-1)/2),l=ewe(Zbe(c=>s.add(new _s(c-o).mul(a)).toNumber()),H6);return l(0,t)},zV=function(t,r,a,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(a-1)))return{step:new _s(0),tickMin:new _s(0),tickMax:new _s(0)};var o=$V(new _s(r).sub(t).div(a-1),s,i),l;t<=0&&r>=0?l=new _s(0):(l=new _s(t).add(r).div(2),l=l.sub(new _s(l).mod(o)));var c=Math.ceil(l.sub(t).div(o).toNumber()),u=Math.ceil(new _s(r).sub(l).div(o).toNumber()),d=c+u+1;return d>a?zV(t,r,a,s,i+1):(d<a&&(u=r>0?u+(a-d):u,c=r>0?c:c+(a-d)),{step:o,tickMin:l.sub(new _s(c).mul(o)),tickMax:l.add(new _s(u).mul(o))})};function rwe(e){var[t,r]=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),[o,l]=HV([t,r]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...H6(0,a-1).map(()=>1/0)]:[...H6(0,a-1).map(()=>-1/0),l];return t>r?$6(c):c}if(o===l)return twe(o,a,s);var{step:u,tickMin:d,tickMax:A}=zV(o,l,i,s,0),m=QV(d,A.add(new _s(.1).mul(u)),u);return t>r?$6(m):m}function awe(e,t){var[r,a]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=HV([r,a]);if(i===-1/0||o===1/0)return[r,a];if(i===o)return[i];var l=Math.max(t,2),c=$V(new _s(o).sub(i).div(l-1),s,0),u=[...QV(new _s(i),new _s(o),c),o];return s===!1&&(u=u.map(d=>Math.round(d))),r>a?$6(u):u}var nwe=UV(rwe),swe=UV(awe),VV=e=>e.rootProps.maxBarSize,iwe=e=>e.rootProps.barGap,qV=e=>e.rootProps.barCategoryGap,owe=e=>e.rootProps.barSize,o2=e=>e.rootProps.stackOffset,_T=e=>e.options.chartName,kT=e=>e.rootProps.syncId,KV=e=>e.rootProps.syncMethod,IT=e=>e.options.eventEmitter,OA={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Cu={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},X5=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},lwe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:OA.angleAxisId,includeHidden:!1,name:void 0,reversed:OA.reversed,scale:OA.scale,tick:OA.tick,tickCount:void 0,ticks:void 0,type:OA.type,unit:void 0},cwe={allowDataOverflow:Cu.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Cu.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Cu.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Cu.scale,tick:Cu.tick,tickCount:Cu.tickCount,ticks:void 0,type:Cu.type,unit:void 0},dwe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:OA.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:OA.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:OA.scale,tick:OA.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},uwe={allowDataOverflow:Cu.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Cu.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Cu.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Cu.scale,tick:Cu.tick,tickCount:Cu.tickCount,ticks:void 0,type:"category",unit:void 0},PT=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?dwe:lwe,LT=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?uwe:cwe,J5=e=>e.polarOptions,OT=tr([dm,um,vl],Tz),GV=tr([J5,OT],(e,t)=>{if(e!=null)return ed(e.innerRadius,t,0)}),WV=tr([J5,OT],(e,t)=>{if(e!=null)return ed(e.outerRadius,t,t*.8)}),fwe=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},YV=tr([J5],fwe);tr([PT,YV],X5);var XV=tr([OT,GV,WV],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});tr([LT,XV],X5);var JV=tr([On,J5,GV,WV,dm,um],(e,t,r,a,s,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||a==null)){var{cx:o,cy:l,startAngle:c,endAngle:u}=t;return{cx:ed(o,s,s/2),cy:ed(l,i,i/2),innerRadius:r,outerRadius:a,startAngle:c,endAngle:u,clockWise:!1}}}),zi=(e,t)=>t,l2=(e,t,r)=>r;function Z5(e){return e?.id}var wl=e=>{var t=On(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},t1=e=>e.tooltip.settings.axisId,Vl=e=>{var t=wl(e),r=t1(e);return c2(e,t,r)},ZV=tr([Vl],e=>e?.dataKey);function eq(e,t,r){var{chartData:a=[]}=t,{allowDuplicatedCategory:s,dataKey:i}=r,o=new Map;return e.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:a;if(!(u==null||u.length===0)){var d=Z5(l);u.forEach((A,m)=>{var h=i==null||s?m:String(ti(A,i,null)),y=ti(A,l.dataKey,0),x;o.has(h)?x=o.get(h):x={},Object.assign(x,{[d]:y}),o.set(h,x)})}}),Array.from(o.values())}function eN(e){return e.stackId!=null&&e.dataKey!=null}function RO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function T4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RO(Object(r),!0).forEach(function(a){hwe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function hwe(e,t,r){return(t=Awe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Awe(e){var t=mwe(e,"string");return typeof t=="symbol"?t:t+""}function mwe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var z6=[0,"auto"],wu={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},tq=(e,t)=>e.cartesianAxis.xAxis[t],I0=(e,t)=>{var r=tq(e,t);return r??wu},Nu={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:z6,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:e2},rq=(e,t)=>e.cartesianAxis.yAxis[t],P0=(e,t)=>{var r=rq(e,t);return r??Nu},pwe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},DT=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??pwe},Mo=(e,t,r)=>{switch(t){case"xAxis":return I0(e,r);case"yAxis":return P0(e,r);case"zAxis":return DT(e,r);case"angleAxis":return PT(e,r);case"radiusAxis":return LT(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},gwe=(e,t,r)=>{switch(t){case"xAxis":return I0(e,r);case"yAxis":return P0(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},c2=(e,t,r)=>{switch(t){case"xAxis":return I0(e,r);case"yAxis":return P0(e,r);case"angleAxis":return PT(e,r);case"radiusAxis":return LT(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},aq=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function MT(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var tN=e=>e.graphicalItems.cartesianItems,xwe=tr([zi,l2],MT),UT=(e,t,r)=>e.filter(r).filter(a=>t?.includeHidden===!0?!0:!a.hide),d2=tr([tN,Mo,xwe],UT),nq=tr([d2],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(eN)),sq=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),iq=tr([d2],sq),RT=e=>e.map(t=>t.data).filter(Boolean).flat(1),ywe=tr([d2],RT),QT=(e,t)=>{var{chartData:r=[],dataStartIndex:a,dataEndIndex:s}=t;return e.length>0?e:r.slice(a,s+1)},HT=tr([ywe,W5],QT),$T=(e,t,r)=>t?.dataKey!=null?e.map(a=>({value:ti(a,t.dataKey)})):r.length>0?r.map(a=>a.dataKey).flatMap(a=>e.map(s=>({value:ti(s,a)}))):e.map(a=>({value:a})),rN=tr([HT,Mo,d2],$T);function oq(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function dg(e){return e.filter(t=>eA(t)||t instanceof Date).map(Number).filter(t=>Xd(t)===!1)}function vwe(e,t,r){return!r||typeof t!="number"||Xd(t)?[]:r.length?dg(r.flatMap(a=>{var s=ti(e,a.dataKey),i,o;if(Array.isArray(s)?[i,o]=s:i=o=s,!(!gc(i)||!gc(o)))return[t-i,t+o]})):[]}var bwe=tr([nq,W5,Vl],eq),lq=(e,t,r)=>{var a={},s=t.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),a);return Object.fromEntries(Object.entries(s).map(i=>{var[o,l]=i,c=l.map(Z5);return[o,{stackedData:C1e(e,c,r),graphicalItems:l}]}))},wv=tr([bwe,nq,o2],lq),cq=(e,t,r)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(r!=="zAxis"){var i=F1e(e,a,s);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},wwe=tr([wv,k0,zi],cq),dq=(e,t,r,a,s)=>r.length>0?e.flatMap(i=>r.flatMap(o=>{var l,c,u=(l=a[o.id])===null||l===void 0?void 0:l.filter(A=>oq(s,A)),d=ti(i,(c=t.dataKey)!==null&&c!==void 0?c:o.dataKey);return{value:d,errorDomain:vwe(i,d,u)}})).filter(Boolean):t?.dataKey!=null?e.map(i=>({value:ti(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),aN=e=>e.errorBars,uq=(e,t,r)=>e.flatMap(a=>t[a.id]).filter(Boolean).filter(a=>oq(r,a));tr([iq,aN,zi],uq);var Nwe=tr([HT,Mo,iq,aN,zi],dq);function jwe(e){var{value:t}=e;if(eA(t)||t instanceof Date)return t}var QO=e=>{var t=e.flatMap(a=>[a.value,a.errorDomain]).flat(1),r=dg(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Swe=(e,t,r)=>{var a=e.map(jwe).filter(s=>s!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&q$(a))?Yz(0,e.length):t.allowDuplicatedCategory?a:Array.from(new Set(a))},zT=e=>{var t;if(e==null||!("domain"in e))return z6;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=dg(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:z6},F4=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var s=r.filter(Boolean);if(s.length!==0){var i=s.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},fq=e=>e.referenceElements.dots,r1=(e,t,r)=>e.filter(a=>a.ifOverflow==="extendDomain").filter(a=>t==="xAxis"?a.xAxisId===r:a.yAxisId===r),Cwe=tr([fq,zi,l2],r1),hq=e=>e.referenceElements.areas,Ewe=tr([hq,zi,l2],r1),Aq=e=>e.referenceElements.lines,Bwe=tr([Aq,zi,l2],r1),mq=(e,t)=>{var r=dg(e.map(a=>t==="xAxis"?a.x:a.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Twe=tr(Cwe,zi,mq),pq=(e,t)=>{var r=dg(e.flatMap(a=>[t==="xAxis"?a.x1:a.y1,t==="xAxis"?a.x2:a.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Fwe=tr([Ewe,zi],pq),gq=(e,t)=>{var r=dg(e.map(a=>t==="xAxis"?a.x:a.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},_we=tr(Bwe,zi,gq),kwe=tr(Twe,_we,Fwe,(e,t,r)=>F4(e,r,t)),xq=tr([Mo],zT),VT=(e,t,r,a,s,i,o)=>{var l=Kbe(t,e.allowDataOverflow);if(l!=null)return l;var c=i==="vertical"&&o==="xAxis"||i==="horizontal"&&o==="yAxis",u=c?F4(r,s,QO(a)):F4(s,QO(a));return Gbe(t,u,e.allowDataOverflow)},Iwe=tr([Mo,xq,wwe,Nwe,kwe,On,zi],VT),Pwe=[0,1],qT=(e,t,r,a,s,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:c}=e,u=cm(t,i);return u&&l==null?Yz(0,r.length):c==="category"?Swe(a,e,u):s==="expand"?Pwe:o}},KT=tr([Mo,On,HT,rN,o2,zi,Iwe],qT),yq=(e,t,r,a,s)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":o==="category"&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(Jv(i));return l in xy?l:"point"}}},a1=tr([Mo,On,aq,_T,zi],yq);function Lwe(e){if(e!=null){if(e in xy)return xy[e]();var t="scale".concat(Jv(e));if(t in xy)return xy[t]()}}function GT(e,t,r,a){if(!(r==null||a==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(a);var s=Lwe(t);if(s!=null){var i=s.domain(r).range(a);return b1e(i),i}}}var WT=(e,t,r)=>{var a=zT(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(a)&&(a[0]==="auto"||a[1]==="auto")&&Lx(e))return nwe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Lx(e))return swe(e,t.tickCount,t.allowDecimals)}},YT=tr([KT,c2,a1],WT),XT=(e,t,r,a)=>{if(a!=="angleAxis"&&e?.type==="number"&&Lx(t)&&Array.isArray(r)&&r.length>0){var s=t[0],i=r[0],o=t[1],l=r[r.length-1];return[Math.min(s,i),Math.max(o,l)]}return t},Owe=tr([Mo,KT,YT,zi],XT),Dwe=tr(rN,Mo,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,a=Array.from(dg(e.map(l=>l.value))).sort((l,c)=>l-c);if(a.length<2)return 1/0;var s=a[a.length-1]-a[0];if(s===0)return 1/0;for(var i=0;i<a.length-1;i++){var o=a[i+1]-a[i];r=Math.min(r,o)}return r/s}}),vq=tr(Dwe,On,qV,vl,(e,t,r,a)=>a,(e,t,r,a,s)=>{if(!gc(e))return 0;var i=t==="vertical"?a.height:a.width;if(s==="gap")return e*i/2;if(s==="no-gap"){var o=ed(r,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),Mwe=(e,t)=>{var r=I0(e,t);return r==null||typeof r.padding!="string"?0:vq(e,"xAxis",t,r.padding)},Uwe=(e,t)=>{var r=P0(e,t);return r==null||typeof r.padding!="string"?0:vq(e,"yAxis",t,r.padding)},Rwe=tr(I0,Mwe,(e,t)=>{var r,a;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((r=s.left)!==null&&r!==void 0?r:0)+t,right:((a=s.right)!==null&&a!==void 0?a:0)+t}}),Qwe=tr(P0,Uwe,(e,t)=>{var r,a;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((r=s.top)!==null&&r!==void 0?r:0)+t,bottom:((a=s.bottom)!==null&&a!==void 0?a:0)+t}}),Hwe=tr([vl,Rwe,Q5,R5,(e,t,r)=>r],(e,t,r,a,s)=>{var{padding:i}=a;return s?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),$we=tr([vl,On,Qwe,Q5,R5,(e,t,r)=>r],(e,t,r,a,s,i)=>{var{padding:o}=s;return i?[a.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),u2=(e,t,r,a)=>{var s;switch(t){case"xAxis":return Hwe(e,r,a);case"yAxis":return $we(e,r,a);case"zAxis":return(s=DT(e,r))===null||s===void 0?void 0:s.range;case"angleAxis":return YV(e);case"radiusAxis":return XV(e,r);default:return}},bq=tr([Mo,u2],X5),n1=tr([Mo,a1,Owe,bq],GT);tr([d2,aN,zi],uq);function wq(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var nN=(e,t)=>t,sN=(e,t,r)=>r,zwe=tr(M5,nN,sN,(e,t,r)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===r).sort(wq)),Vwe=tr(U5,nN,sN,(e,t,r)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===r).sort(wq)),Nq=(e,t)=>({width:e.width,height:t.height}),qwe=(e,t)=>{var r=typeof t.width=="number"?t.width:e2;return{width:r,height:e.height}},jq=tr(vl,I0,Nq),Kwe=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},Gwe=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},Wwe=tr(um,vl,zwe,nN,sN,(e,t,r,a,s)=>{var i={},o;return r.forEach(l=>{var c=Nq(t,l);o==null&&(o=Kwe(t,a,e));var u=a==="top"&&!s||a==="bottom"&&s;i[l.id]=o-Number(u)*c.height,o+=(u?-1:1)*c.height}),i}),Ywe=tr(dm,vl,Vwe,nN,sN,(e,t,r,a,s)=>{var i={},o;return r.forEach(l=>{var c=qwe(t,l);o==null&&(o=Gwe(t,a,e));var u=a==="left"&&!s||a==="right"&&s;i[l.id]=o-Number(u)*c.width,o+=(u?-1:1)*c.width}),i}),Xwe=(e,t)=>{var r=vl(e),a=I0(e,t);if(a!=null){var s=Wwe(e,a.orientation,a.mirror),i=s[t];return i==null?{x:r.left,y:0}:{x:r.left,y:i}}},Jwe=(e,t)=>{var r=vl(e),a=P0(e,t);if(a!=null){var s=Ywe(e,a.orientation,a.mirror),i=s[t];return i==null?{x:0,y:r.top}:{x:i,y:r.top}}},Sq=tr(vl,P0,(e,t)=>{var r=typeof t.width=="number"?t.width:e2;return{width:r,height:e.height}}),HO=(e,t,r)=>{switch(t){case"xAxis":return jq(e,r).width;case"yAxis":return Sq(e,r).height;default:return}},Cq=(e,t,r,a)=>{if(r!=null){var{allowDuplicatedCategory:s,type:i,dataKey:o}=r,l=cm(e,a),c=t.map(u=>u.value);if(o&&l&&i==="category"&&s&&q$(c))return c}},JT=tr([On,rN,Mo,zi],Cq),Eq=(e,t,r,a)=>{if(!(r==null||r.dataKey==null)){var{type:s,scale:i}=r,o=cm(e,a);if(o&&(s==="number"||i!=="auto"))return t.map(l=>l.value)}},ZT=tr([On,rN,c2,zi],Eq),$O=tr([On,gwe,a1,n1,JT,ZT,u2,YT,zi],(e,t,r,a,s,i,o,l,c)=>{if(t==null)return null;var u=cm(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:s,isCategorical:u,niceTicks:l,range:o,realScaleType:r,scale:a}}),Zwe=(e,t,r,a,s,i,o,l,c)=>{if(!(t==null||a==null)){var u=cm(e,c),{type:d,ticks:A,tickCount:m}=t,h=r==="scaleBand"&&typeof a.bandwidth=="function"?a.bandwidth()/2:2,y=d==="category"&&a.bandwidth?a.bandwidth()/h:0;y=c==="angleAxis"&&i!=null&&i.length>=2?Rl(i[0]-i[1])*2*y:y;var x=A||s;if(x){var v=x.map((b,j)=>{var C=o?o.indexOf(b):b;return{index:j,coordinate:a(C)+y,value:b,offset:y}});return v.filter(b=>!Xd(b.coordinate))}return u&&l?l.map((b,j)=>({coordinate:a(b)+y,value:b,index:j,offset:y})):a.ticks?a.ticks(m).map(b=>({coordinate:a(b)+y,value:b,offset:y})):a.domain().map((b,j)=>({coordinate:a(b)+y,value:o?o[b]:b,index:j,offset:y}))}},Bq=tr([On,c2,a1,n1,YT,u2,JT,ZT,zi],Zwe),e4e=(e,t,r,a,s,i,o)=>{if(!(t==null||r==null||a==null||a[0]===a[1])){var l=cm(e,o),{tickCount:c}=t,u=0;return u=o==="angleAxis"&&a?.length>=2?Rl(a[0]-a[1])*2*u:u,l&&i?i.map((d,A)=>({coordinate:r(d)+u,value:d,index:A,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,A)=>({coordinate:r(d)+u,value:s?s[d]:d,index:A,offset:u}))}},y0=tr([On,c2,n1,u2,JT,ZT,zi],e4e),v0=tr(Mo,n1,(e,t)=>{if(!(e==null||t==null))return T4(T4({},e),{},{scale:t})}),t4e=tr([Mo,a1,KT,bq],GT);tr((e,t,r)=>DT(e,r),t4e,(e,t)=>{if(!(e==null||t==null))return T4(T4({},e),{},{scale:t})});var r4e=tr([On,M5,U5],(e,t,r)=>{switch(e){case"horizontal":return t.some(a=>a.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(a=>a.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Tq=e=>e.options.defaultTooltipEventType,Fq=e=>e.options.validateTooltipEventTypes;function _q(e,t,r){if(e==null)return t;var a=e?"axis":"item";return r==null?t:r.includes(a)?a:t}function e8(e,t){var r=Tq(e),a=Fq(e);return _q(t,r,a)}function a4e(e){return sa(t=>e8(t,e))}var kq=(e,t)=>{var r,a=Number(t);if(!(Xd(a)||t==null))return a>=0?e==null||(r=e[a])===null||r===void 0?void 0:r.value:void 0},n4e=e=>e.tooltip.settings,Zm={active:!1,index:null,dataKey:void 0,coordinate:void 0},s4e={itemInteraction:{click:Zm,hover:Zm},axisInteraction:{click:Zm,hover:Zm},keyboardInteraction:Zm,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Iq=td({name:"tooltip",initialState:s4e,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=qA(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:i4e,removeTooltipEntrySettings:o4e,setTooltipSettingsState:l4e,setActiveMouseOverItemIndex:Pq,mouseLeaveItem:c4e,mouseLeaveChart:Lq,setActiveClickItemIndex:d4e,setMouseOverAxisIndex:Oq,setMouseClickAxisIndex:u4e,setSyncInteraction:V6,setKeyboardInteraction:q6}=Iq.actions,f4e=Iq.reducer;function zO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Vb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zO(Object(r),!0).forEach(function(a){h4e(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function h4e(e,t,r){return(t=A4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A4e(e){var t=m4e(e,"string");return typeof t=="symbol"?t:t+""}function m4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p4e(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function g4e(e){return e.index!=null}var Dq=(e,t,r,a)=>{if(t==null)return Zm;var s=p4e(e,t,r);if(s==null)return Zm;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(g4e(s)){if(i)return Vb(Vb({},s),{},{active:!0})}else if(a!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:a};return Vb(Vb({},Zm),{},{coordinate:s.coordinate})},t8=(e,t)=>{var r=e?.index;if(r==null)return null;var a=Number(r);if(!gc(a))return r;var s=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(s,Math.min(a,i)))},Mq=(e,t,r,a,s,i,o,l)=>{if(!(i==null||l==null)){var c=o[0],u=c==null?void 0:l(c.positions,i);if(u!=null)return u;var d=s?.[Number(i)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(a.top+t)/2};default:return{x:(a.left+e)/2,y:d.coordinate}}}},Uq=(e,t,r,a)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return r==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&a!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===s})},f2=e=>e.options.tooltipPayloadSearcher,s1=e=>e.tooltip;function VO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function qO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VO(Object(r),!0).forEach(function(a){x4e(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function x4e(e,t,r){return(t=y4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y4e(e){var t=v4e(e,"string");return typeof t=="symbol"?t:t+""}function v4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b4e(e,t){return e??t}var Rq=(e,t,r,a,s,i,o)=>{if(!(t==null||i==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,A=[];return e.reduce((m,h)=>{var y,{dataDefinedOnItem:x,settings:v}=h,b=b4e(x,l),j=Array.isArray(b)?Fz(b,u,d):b,C=(y=v?.dataKey)!==null&&y!==void 0?y:a,E=v?.nameKey,k;if(a&&Array.isArray(j)&&!Array.isArray(j[0])&&o==="axis"?k=K$(j,a,s):k=i(j,t,c,E),Array.isArray(k))k.forEach(L=>{var F=qO(qO({},v),{},{name:L.name,unit:L.unit,color:void 0,fill:void 0});m.push(BL({tooltipEntrySettings:F,dataKey:L.dataKey,payload:L.payload,value:ti(L.payload,L.dataKey),name:L.name}))});else{var D;m.push(BL({tooltipEntrySettings:v,dataKey:C,payload:k,value:ti(k,C),name:(D=ti(k,E))!==null&&D!==void 0?D:v?.name}))}return m},A)}},r8=tr([Vl,On,aq,_T,wl],yq),w4e=tr([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),N4e=tr([wl,t1],MT),h2=tr([w4e,Vl,N4e],UT),j4e=tr([h2],e=>e.filter(eN)),S4e=tr([h2],RT),i1=tr([S4e,k0],QT),C4e=tr([j4e,k0,Vl],eq),a8=tr([i1,Vl,h2],$T),E4e=tr([Vl],zT),B4e=tr([h2],e=>e.filter(eN)),T4e=tr([C4e,B4e,o2],lq),F4e=tr([T4e,k0,wl],cq),_4e=tr([h2],sq),k4e=tr([i1,Vl,_4e,aN,wl],dq),I4e=tr([fq,wl,t1],r1),P4e=tr([I4e,wl],mq),L4e=tr([hq,wl,t1],r1),O4e=tr([L4e,wl],pq),D4e=tr([Aq,wl,t1],r1),M4e=tr([D4e,wl],gq),U4e=tr([P4e,M4e,O4e],F4),R4e=tr([Vl,E4e,F4e,k4e,U4e,On,wl],VT),Qq=tr([Vl,On,i1,a8,o2,wl,R4e],qT),Q4e=tr([Qq,Vl,r8],WT),H4e=tr([Vl,Qq,Q4e,wl],XT),Hq=e=>{var t=wl(e),r=t1(e),a=!1;return u2(e,t,r,a)},$q=tr([Vl,Hq],X5),zq=tr([Vl,r8,H4e,$q],GT),$4e=tr([On,a8,Vl,wl],Cq),z4e=tr([On,a8,Vl,wl],Eq),V4e=(e,t,r,a,s,i,o,l)=>{if(t){var{type:c}=t,u=cm(e,l);if(a){var d=r==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,A=c==="category"&&a.bandwidth?a.bandwidth()/d:0;return A=l==="angleAxis"&&s!=null&&s?.length>=2?Rl(s[0]-s[1])*2*A:A,u&&o?o.map((m,h)=>({coordinate:a(m)+A,value:m,index:h,offset:A})):a.domain().map((m,h)=>({coordinate:a(m)+A,value:i?i[m]:m,index:h,offset:A}))}}},hm=tr([On,Vl,r8,zq,Hq,$4e,z4e,wl],V4e),n8=tr([Tq,Fq,n4e],(e,t,r)=>_q(r.shared,e,t)),Vq=e=>e.tooltip.settings.trigger,s8=e=>e.tooltip.settings.defaultIndex,iN=tr([s1,n8,Vq,s8],Dq),b0=tr([iN,i1],t8),qq=tr([hm,b0],kq),Kq=tr([iN],e=>{if(e)return e.dataKey}),Gq=tr([s1,n8,Vq,s8],Uq),q4e=tr([dm,um,On,vl,hm,s8,Gq,f2],Mq),K4e=tr([iN,q4e],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),G4e=tr([iN],e=>e.active),W4e=tr([Gq,b0,k0,ZV,qq,f2,n8],Rq),Y4e=tr([W4e],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function KO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function GO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KO(Object(r),!0).forEach(function(a){X4e(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function X4e(e,t,r){return(t=J4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J4e(e){var t=Z4e(e,"string");return typeof t=="symbol"?t:t+""}function Z4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var e5e=()=>sa(Vl),t5e=()=>{var e=e5e(),t=sa(hm),r=sa(zq);return mv(GO(GO({},e),{},{scale:r}),t)},Wq=()=>sa(_T),i8=(e,t)=>t,Yq=(e,t,r)=>r,o8=(e,t,r,a)=>a,r5e=tr(hm,e=>D5(e,t=>t.coordinate)),l8=tr([s1,i8,Yq,o8],Dq),Xq=tr([l8,i1],t8),a5e=(e,t,r)=>{if(t!=null){var a=s1(e);return t==="axis"?r==="hover"?a.axisInteraction.hover.dataKey:a.axisInteraction.click.dataKey:r==="hover"?a.itemInteraction.hover.dataKey:a.itemInteraction.click.dataKey}},Jq=tr([s1,i8,Yq,o8],Uq),_4=tr([dm,um,On,vl,hm,o8,Jq,f2],Mq),n5e=tr([l8,_4],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),Zq=tr(hm,Xq,kq),s5e=tr([Jq,Xq,k0,ZV,Zq,f2,i8],Rq),i5e=tr([l8],e=>({isActive:e.active,activeIndex:e.index})),o5e=(e,t,r,a,s,i,o,l)=>{if(!(!e||!t||!a||!s||!i)){var c=_1e(e.chartX,e.chartY,t,r,l);if(c){var u=I1e(c,t),d=y1e(u,o,i,a,s),A=k1e(t,i,d,c);return{activeIndex:String(d),activeCoordinate:A}}}};function K6(){return K6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},K6.apply(null,arguments)}function WO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function qb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WO(Object(r),!0).forEach(function(a){l5e(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function l5e(e,t,r){return(t=c5e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c5e(e){var t=d5e(e,"string");return typeof t=="symbol"?t:t+""}function d5e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u5e(e){var{coordinate:t,payload:r,index:a,offset:s,tooltipAxisBandSize:i,layout:o,cursor:l,tooltipEventType:c,chartName:u}=e,d=t,A=r,m=a;if(!l||!d||u!=="ScatterChart"&&c!=="axis")return null;var h,y;if(u==="ScatterChart")h=d,y=Iye;else if(u==="BarChart")h=Pye(o,d,s,i),y=qz;else if(o==="radial"){var{cx:x,cy:v,radius:b,startAngle:j,endAngle:C}=Kz(d);h={cx:x,cy:v,startAngle:j,endAngle:C,innerRadius:b,outerRadius:b},y=Wz}else h={points:hve(o,d,s)},y=Dy;var E=typeof l=="object"&&"className"in l?l.className:void 0,k=qb(qb(qb(qb({stroke:"#ccc",pointerEvents:"none"},s),h),eo(l,!1)),{},{payload:A,payloadIndex:m,className:Gt("recharts-tooltip-cursor",E)});return S.isValidElement(l)?S.cloneElement(l,k):S.createElement(y,k)}function f5e(e){var t=t5e(),r=Dz(),a=H5(),s=Wq();return S.createElement(u5e,K6({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:a,tooltipAxisBandSize:t,chartName:s}))}var eK=S.createContext(null),h5e=()=>S.useContext(eK),k3={exports:{}},YO;function A5e(){return YO||(YO=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,A,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new s(d,A||c,m),y=r?r+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],h]:c._events[y].push(h):(c._events[y]=h,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new a:delete c._events[u]}function l(){this._events=new a,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,A;if(this._eventsCount===0)return u;for(A in d=this._events)t.call(d,A)&&u.push(r?A.slice(1):A);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,A=this._events[d];if(!A)return[];if(A.fn)return[A.fn];for(var m=0,h=A.length,y=new Array(h);m<h;m++)y[m]=A[m].fn;return y},l.prototype.listenerCount=function(u){var d=r?r+u:u,A=this._events[d];return A?A.fn?1:A.length:0},l.prototype.emit=function(u,d,A,m,h,y){var x=r?r+u:u;if(!this._events[x])return!1;var v=this._events[x],b=arguments.length,j,C;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,A),!0;case 4:return v.fn.call(v.context,d,A,m),!0;case 5:return v.fn.call(v.context,d,A,m,h),!0;case 6:return v.fn.call(v.context,d,A,m,h,y),!0}for(C=1,j=new Array(b-1);C<b;C++)j[C-1]=arguments[C];v.fn.apply(v.context,j)}else{var E=v.length,k;for(C=0;C<E;C++)switch(v[C].once&&this.removeListener(u,v[C].fn,void 0,!0),b){case 1:v[C].fn.call(v[C].context);break;case 2:v[C].fn.call(v[C].context,d);break;case 3:v[C].fn.call(v[C].context,d,A);break;case 4:v[C].fn.call(v[C].context,d,A,m);break;default:if(!j)for(k=1,j=new Array(b-1);k<b;k++)j[k-1]=arguments[k];v[C].fn.apply(v[C].context,j)}}return!0},l.prototype.on=function(u,d,A){return i(this,u,d,A,!1)},l.prototype.once=function(u,d,A){return i(this,u,d,A,!0)},l.prototype.removeListener=function(u,d,A,m){var h=r?r+u:u;if(!this._events[h])return this;if(!d)return o(this,h),this;var y=this._events[h];if(y.fn)y.fn===d&&(!m||y.once)&&(!A||y.context===A)&&o(this,h);else{for(var x=0,v=[],b=y.length;x<b;x++)(y[x].fn!==d||m&&!y[x].once||A&&y[x].context!==A)&&v.push(y[x]);v.length?this._events[h]=v.length===1?v[0]:v:o(this,h)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(k3)),k3.exports}var m5e=A5e();const p5e=hf(m5e);var Nv=new p5e,G6="recharts.syncEvent.tooltip",XO="recharts.syncEvent.brush";function c8(e,t){if(t){var r=Number.parseInt(t,10);if(!Xd(r))return e?.[r]}}var g5e={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},tK=td({name:"options",initialState:g5e,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),x5e=tK.reducer,{createEventEmitter:y5e}=tK.actions;function v5e(e){return e.tooltip.syncInteraction}var b5e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},rK=td({name:"chartData",initialState:b5e,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:a}=t.payload;r!=null&&(e.dataStartIndex=r),a!=null&&(e.dataEndIndex=a)}}}),{setChartData:JO,setDataStartEndIndexes:w5e,setComputedData:cDe}=rK.actions,N5e=rK.reducer,j5e=["x","y"];function ZO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ap(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZO(Object(r),!0).forEach(function(a){S5e(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function S5e(e,t,r){return(t=C5e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C5e(e){var t=E5e(e,"string");return typeof t=="symbol"?t:t+""}function E5e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B5e(e,t){if(e==null)return{};var r,a,s=T5e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function T5e(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var aK=()=>{};function F5e(){var e=sa(kT),t=sa(IT),r=ao(),a=sa(KV),s=sa(hm),i=H5(),o=tT(),l=sa(c=>c.rootProps.className);S.useEffect(()=>{if(e==null)return aK;var c=(u,d,A)=>{if(t!==A&&e===u){if(a==="index"){var m;if(o&&d!==null&&d!==void 0&&(m=d.payload)!==null&&m!==void 0&&m.coordinate){var h=d.payload.coordinate,{x:y,y:x}=h,v=B5e(h,j5e),b=ap(ap(ap({},v),typeof y=="number"&&{x:Math.max(o.x,Math.min(y,o.x+o.width))}),typeof x=="number"&&{y:Math.max(o.y,Math.min(x,o.y+o.height))}),j=ap(ap({},d),{},{payload:ap(ap({},d.payload),{},{coordinate:b})});r(j)}else r(d);return}if(s!=null){var C;if(typeof a=="function"){var E={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},k=a(s,E);C=s[k]}else a==="value"&&(C=s.find(z=>String(z.value)===d.payload.label));var{coordinate:D}=d.payload;if(C==null||d.payload.active===!1||D==null||o==null){r(V6({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:L,y:F}=D,Q=Math.min(L,o.x+o.width),U=Math.min(F,o.y+o.height),P={x:i==="horizontal"?C.coordinate:Q,y:i==="horizontal"?U:C.coordinate},I=V6({active:d.payload.active,coordinate:P,dataKey:d.payload.dataKey,index:String(C.index),label:d.payload.label});r(I)}}};return Nv.on(G6,c),()=>{Nv.off(G6,c)}},[l,r,t,e,a,s,i,o])}function _5e(){var e=sa(kT),t=sa(IT),r=ao();S.useEffect(()=>{if(e==null)return aK;var a=(s,i,o)=>{t!==o&&e===s&&r(w5e(i))};return Nv.on(XO,a),()=>{Nv.off(XO,a)}},[r,t,e])}function k5e(){var e=ao();S.useEffect(()=>{e(y5e())},[e]),F5e(),_5e()}function I5e(e,t,r,a,s,i){var o=sa(m=>a5e(m,e,t)),l=sa(IT),c=sa(kT),u=sa(KV),d=sa(v5e),A=d?.active;S.useEffect(()=>{if(!A&&c!=null&&l!=null){var m=V6({active:i,coordinate:r,dataKey:o,index:s,label:typeof a=="number"?String(a):a});Nv.emit(G6,c,m,l)}},[A,r,o,s,a,l,c,u,i])}function eD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function tD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eD(Object(r),!0).forEach(function(a){P5e(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function P5e(e,t,r){return(t=L5e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L5e(e){var t=O5e(e,"string");return typeof t=="symbol"?t:t+""}function O5e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D5e(e){return e.dataKey}function M5e(e,t){return S.isValidElement(e)?S.cloneElement(e,t):typeof e=="function"?S.createElement(e,t):S.createElement(uye,t)}var rD=[],U5e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!og.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function My(e){var t=tu(e,U5e),{active:r,allowEscapeViewBox:a,animationDuration:s,animationEasing:i,content:o,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:A,reverseDirection:m,useTranslate3d:h,wrapperStyle:y,cursor:x,shared:v,trigger:b,defaultIndex:j,portal:C,axisId:E}=t,k=ao(),D=typeof j=="number"?String(j):j;S.useEffect(()=>{k(l4e({shared:v,trigger:b,axisId:E,active:r,defaultIndex:D}))},[k,v,b,E,r,D]);var L=tT(),F=Qz(),Q=a4e(v),{activeIndex:U,isActive:P}=sa(ne=>i5e(ne,Q,b,D)),I=sa(ne=>s5e(ne,Q,b,D)),z=sa(ne=>Zq(ne,Q,b,D)),W=sa(ne=>n5e(ne,Q,b,D)),ie=I,X=h5e(),le=r??P,[re,he]=Ez([ie,le]),de=Q==="axis"?z:void 0;I5e(Q,b,W,de,U,le);var ve=C??X;if(ve==null)return null;var B=ie??rD;le||(B=rD),l&&B.length&&(B=Nz(ie.filter(ne=>ne.value!=null&&(ne.hide!==!0||t.includeHidden)),d,D5e));var R=B.length>0,G=S.createElement(xye,{allowEscapeViewBox:a,animationDuration:s,animationEasing:i,isAnimationActive:c,active:le,coordinate:W,hasPayload:R,offset:u,position:A,reverseDirection:m,useTranslate3d:h,viewBox:L,wrapperStyle:y,lastBoundingBox:re,innerRef:he,hasPortalFromProps:!!C},M5e(o,tD(tD({},t),{},{payload:B,label:de,active:le,coordinate:W,accessibilityLayer:F})));return S.createElement(S.Fragment,null,yR.createPortal(G,ve),le&&S.createElement(f5e,{cursor:x,tooltipEventType:Q,coordinate:W,payload:ie,index:U}))}var I3={},P3={},L3={},aD;function R5e(){return aD||(aD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a,{signal:s,edges:i}={}){let o,l=null;const c=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},A=()=>{u&&d(),x()};let m=null;const h=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,A()},a)},y=()=>{m!==null&&(clearTimeout(m),m=null)},x=()=>{y(),o=void 0,l=null},v=()=>{d()},b=function(...j){if(s?.aborted)return;o=this,l=j;const C=m==null;h(),c&&C&&d()};return b.schedule=h,b.cancel=x,b.flush=v,s?.addEventListener("abort",x,{once:!0}),b}e.debounce=t})(L3)),L3}var nD;function Q5e(){return nD||(nD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R5e();function r(a,s=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:c}=i,u=Array(2);o&&(u[0]="leading"),l&&(u[1]="trailing");let d,A=null;const m=t.debounce(function(...x){d=a.apply(this,x),A=null},s,{edges:u}),h=function(...x){return c!=null&&(A===null&&(A=Date.now()),Date.now()-A>=c)?(d=a.apply(this,x),A=Date.now(),m.cancel(),m.schedule(),d):(m.apply(this,x),d)},y=()=>(m.flush(),d);return h.cancel=m.cancel,h.flush=y,h}e.debounce=r})(P3)),P3}var sD;function H5e(){return sD||(sD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q5e();function r(a,s=0,i={}){const{leading:o=!0,trailing:l=!0}=i;return t.debounce(a,s,{leading:o,maxWait:s,trailing:l})}e.throttle=r})(I3)),I3}var O3,iD;function $5e(){return iD||(iD=1,O3=H5e().throttle),O3}var z5e=$5e();const V5e=hf(z5e);var Uy=function(t,r){for(var a=arguments.length,s=new Array(a>2?a-2:0),i=2;i<a;i++)s[i-2]=arguments[i]};function oD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function D3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oD(Object(r),!0).forEach(function(a){q5e(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function q5e(e,t,r){return(t=K5e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K5e(e){var t=G5e(e,"string");return typeof t=="symbol"?t:t+""}function G5e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ry=S.forwardRef((e,t)=>{var{aspect:r,initialDimension:a={width:-1,height:-1},width:s="100%",height:i="100%",minWidth:o=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:A,className:m,onResize:h,style:y={}}=e,x=S.useRef(null),v=S.useRef();v.current=h,S.useImperativeHandle(t,()=>x.current);var[b,j]=S.useState({containerWidth:a.width,containerHeight:a.height}),C=S.useCallback((k,D)=>{j(L=>{var F=Math.round(k),Q=Math.round(D);return L.containerWidth===F&&L.containerHeight===Q?L:{containerWidth:F,containerHeight:Q}})},[]);S.useEffect(()=>{var k=Q=>{var U,{width:P,height:I}=Q[0].contentRect;C(P,I),(U=v.current)===null||U===void 0||U.call(v,P,I)};d>0&&(k=V5e(k,d,{trailing:!0,leading:!1}));var D=new ResizeObserver(k),{width:L,height:F}=x.current.getBoundingClientRect();return C(L,F),D.observe(x.current),()=>{D.disconnect()}},[C,d]);var E=S.useMemo(()=>{var{containerWidth:k,containerHeight:D}=b;if(k<0||D<0)return null;Uy(pp(s)||pp(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,i),Uy(!r||r>0,"The aspect(%s) must be greater than zero.",r);var L=pp(s)?k:s,F=pp(i)?D:i;return r&&r>0&&(L?F=L/r:F&&(L=F*r),c&&F>c&&(F=c)),Uy(L>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,F,s,i,o,l,r),S.Children.map(u,Q=>S.cloneElement(Q,{width:L,height:F,style:D3({width:L,height:F},Q.props.style)}))},[r,u,i,c,l,o,b,s]);return S.createElement("div",{id:A?"".concat(A):void 0,className:Gt("recharts-responsive-container",m),style:D3(D3({},y),{},{width:s,height:i,minWidth:o,minHeight:l,maxHeight:c}),ref:x},S.createElement("div",{style:{width:0,height:0,overflow:"visible"}},E))}),o1=e=>null;o1.displayName="Cell";function W5e(e,t,r){return(t=Y5e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y5e(e){var t=X5e(e,"string");return typeof t=="symbol"?t:t+""}function X5e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class J5e{constructor(t){W5e(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var a=this.cache.keys().next().value;this.cache.delete(a)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function lD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Z5e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lD(Object(r),!0).forEach(function(a){eNe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function eNe(e,t,r){return(t=tNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tNe(e){var t=rNe(e,"string");return typeof t=="symbol"?t:t+""}function rNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aNe={cacheSize:2e3,enableCache:!0},nK=Z5e({},aNe),cD=new J5e(nK.cacheSize),nNe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},dD="recharts_measurement_span";function sNe(e,t){var r=t.fontSize||"",a=t.fontFamily||"",s=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(a,"|").concat(s,"|").concat(i,"|").concat(o,"|").concat(l)}var uD=(e,t)=>{try{var r=document.getElementById(dD);r||(r=document.createElement("span"),r.setAttribute("id",dD),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,nNe,t),r.textContent="".concat(e);var a=r.getBoundingClientRect();return{width:a.width,height:a.height}}catch{return{width:0,height:0}}},Qy=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||og.isSsr)return{width:0,height:0};if(!nK.enableCache)return uD(t,r);var a=sNe(t,r),s=cD.get(a);if(s)return s;var i=uD(t,r);return cD.set(a,i),i},fD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,iNe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,oNe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,sK={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},lNe=Object.keys(sK),Zg="NaN";function cNe(e,t){return e*sK[t]}class $d{static parse(t){var r,[,a,s]=(r=oNe.exec(t))!==null&&r!==void 0?r:[];return new $d(parseFloat(a),s??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Xd(t)&&(this.unit=""),r!==""&&!iNe.test(r)&&(this.num=NaN,this.unit=""),lNe.includes(r)&&(this.num=cNe(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new $d(NaN,""):new $d(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new $d(NaN,""):new $d(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new $d(NaN,""):new $d(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new $d(NaN,""):new $d(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Xd(this.num)}}function iK(e){if(e.includes(Zg))return Zg;for(var t=e;t.includes("*")||t.includes("/");){var r,[,a,s,i]=(r=fD.exec(t))!==null&&r!==void 0?r:[],o=$d.parse(a??""),l=$d.parse(i??""),c=s==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return Zg;t=t.replace(fD,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,A,m]=(u=hD.exec(t))!==null&&u!==void 0?u:[],h=$d.parse(d??""),y=$d.parse(m??""),x=A==="+"?h.add(y):h.subtract(y);if(x.isNaN())return Zg;t=t.replace(hD,x.toString())}return t}var AD=/\(([^()]*)\)/;function dNe(e){for(var t=e,r;(r=AD.exec(t))!=null;){var[,a]=r;t=t.replace(AD,iK(a))}return t}function uNe(e){var t=e.replace(/\s+/g,"");return t=dNe(t),t=iK(t),t}function fNe(e){try{return uNe(e)}catch{return Zg}}function M3(e){var t=fNe(e.slice(5,-1));return t===Zg?"":t}var hNe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],ANe=["dx","dy","angle","className","breakAll"];function W6(){return W6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},W6.apply(null,arguments)}function mD(e,t){if(e==null)return{};var r,a,s=mNe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function mNe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var oK=/[ \f\n\r\t\v\u2028\u2029]+/,lK=e=>{var{children:t,breakAll:r,style:a}=e;try{var s=[];to(t)||(r?s=t.toString().split(""):s=t.toString().split(oK));var i=s.map(l=>({word:l,width:Qy(l,a).width})),o=r?0:Qy("",a).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},pNe=(e,t,r,a,s)=>{var{maxLines:i,children:o,style:l,breakAll:c}=e,u=na(i),d=o,A=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return P.reduce((I,z)=>{var{word:W,width:ie}=z,X=I[I.length-1];if(X&&(a==null||s||X.width+ie+r<Number(a)))X.words.push(W),X.width+=ie+r;else{var le={words:[W],width:ie};I.push(le)}return I},[])},m=A(t),h=U=>U.reduce((P,I)=>P.width>I.width?P:I);if(!u||s)return m;var y=m.length>i||h(m).width>Number(a);if(!y)return m;for(var x="",v=U=>{var P=d.slice(0,U),I=lK({breakAll:c,style:l,children:P+x}).wordsWithComputedWidth,z=A(I),W=z.length>i||h(z).width>Number(a);return[W,z]},b=0,j=d.length-1,C=0,E;b<=j&&C<=d.length-1;){var k=Math.floor((b+j)/2),D=k-1,[L,F]=v(D),[Q]=v(k);if(!L&&!Q&&(b=k+1),L&&Q&&(j=k-1),!L&&Q){E=F;break}C++}return E||m},pD=e=>{var t=to(e)?[]:e.toString().split(oK);return[{words:t}]},gNe=e=>{var{width:t,scaleToFit:r,children:a,style:s,breakAll:i,maxLines:o}=e;if((t||r)&&!og.isSsr){var l,c,u=lK({breakAll:i,children:a,style:s});if(u){var{wordsWithComputedWidth:d,spaceWidth:A}=u;l=d,c=A}else return pD(a);return pNe({breakAll:i,children:a,maxLines:o,style:s},l,c,t,r)}return pD(a)},gD="#808080",oN=S.forwardRef((e,t)=>{var{x:r=0,y:a=0,lineHeight:s="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=gD}=e,d=mD(e,hNe),A=S.useMemo(()=>gNe({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:o,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,o,d.style,d.width]),{dx:m,dy:h,angle:y,className:x,breakAll:v}=d,b=mD(d,ANe);if(!eA(r)||!eA(a)||A.length===0)return null;var j=r+(na(m)?m:0),C=a+(na(h)?h:0),E;switch(c){case"start":E=M3("calc(".concat(i,")"));break;case"middle":E=M3("calc(".concat((A.length-1)/2," * -").concat(s," + (").concat(i," / 2))"));break;default:E=M3("calc(".concat(A.length-1," * -").concat(s,")"));break}var k=[];if(o){var D=A[0].width,{width:L}=d;k.push("scale(".concat(na(L)?L/D:1,")"))}return y&&k.push("rotate(".concat(y,", ").concat(j,", ").concat(C,")")),k.length&&(b.transform=k.join(" ")),S.createElement("text",W6({},eo(b,!0),{ref:t,x:j,y:C,className:Gt("recharts-text",x),textAnchor:l,fill:u.includes("url")?gD:u}),A.map((F,Q)=>{var U=F.words.join(v?"":" ");return S.createElement("tspan",{x:j,dy:Q===0?E:s,key:"".concat(U,"-").concat(Q)},U)}))});oN.displayName="Text";var xNe=["labelRef"];function yNe(e,t){if(e==null)return{};var r,a,s=vNe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function vNe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function xD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Eo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xD(Object(r),!0).forEach(function(a){bNe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function bNe(e,t,r){return(t=wNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wNe(e){var t=NNe(e,"string");return typeof t=="symbol"?t:t+""}function NNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DA(){return DA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},DA.apply(null,arguments)}var cK=S.createContext(null),jNe=e=>{var{x:t,y:r,width:a,height:s,children:i}=e,o=S.useMemo(()=>({x:t,y:r,width:a,height:s}),[t,r,a,s]);return S.createElement(cK.Provider,{value:o},i)},dK=()=>{var e=S.useContext(cK),t=tT();return e||t},SNe=S.createContext(null),CNe=()=>{var e=S.useContext(SNe),t=sa(JV);return e||t},ENe=e=>{var{value:t,formatter:r}=e,a=to(e.children)?t:e.children;return typeof r=="function"?r(a):a},d8=e=>e!=null&&typeof e=="function",BNe=(e,t)=>{var r=Rl(t-e),a=Math.min(Math.abs(t-e),360);return r*a},TNe=(e,t,r,a,s)=>{var{offset:i,className:o}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:A,endAngle:m,clockWise:h}=s,y=(u+d)/2,x=BNe(A,m),v=x>=0?1:-1,b,j;switch(t){case"insideStart":b=A+v*i,j=h;break;case"insideEnd":b=m-v*i,j=!h;break;case"end":b=m+v*i,j=h;break;default:throw new Error("Unsupported position ".concat(t))}j=x<=0?j:!j;var C=el(l,c,y,b),E=el(l,c,y,b+(j?1:-1)*359),k="M".concat(C.x,",").concat(C.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(j?0:1,`,
    `).concat(E.x,",").concat(E.y),D=to(e.id)?Av("recharts-radial-line-"):e.id;return S.createElement("text",DA({},a,{dominantBaseline:"central",className:Gt("recharts-radial-bar-label",o)}),S.createElement("defs",null,S.createElement("path",{id:D,d:k})),S.createElement("textPath",{xlinkHref:"#".concat(D)},r))},FNe=(e,t,r)=>{var{cx:a,cy:s,innerRadius:i,outerRadius:o,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(r==="outside"){var{x:d,y:A}=el(a,s,o+t,u);return{x:d,y:A,textAnchor:d>=a?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var m=(i+o)/2,{x:h,y}=el(a,s,m,u);return{x:h,y,textAnchor:"middle",verticalAnchor:"middle"}},uK=e=>"cx"in e&&na(e.cx),_Ne=(e,t)=>{var{parentViewBox:r,offset:a,position:s}=e,i;r!=null&&!uK(r)&&(i=r);var{x:o,y:l,width:c,height:u}=t,d=u>=0?1:-1,A=d*a,m=d>0?"end":"start",h=d>0?"start":"end",y=c>=0?1:-1,x=y*a,v=y>0?"end":"start",b=y>0?"start":"end";if(s==="top"){var j={x:o+c/2,y:l-d*a,textAnchor:"middle",verticalAnchor:m};return Eo(Eo({},j),i?{height:Math.max(l-i.y,0),width:c}:{})}if(s==="bottom"){var C={x:o+c/2,y:l+u+A,textAnchor:"middle",verticalAnchor:h};return Eo(Eo({},C),i?{height:Math.max(i.y+i.height-(l+u),0),width:c}:{})}if(s==="left"){var E={x:o-x,y:l+u/2,textAnchor:v,verticalAnchor:"middle"};return Eo(Eo({},E),i?{width:Math.max(E.x-i.x,0),height:u}:{})}if(s==="right"){var k={x:o+c+x,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return Eo(Eo({},k),i?{width:Math.max(i.x+i.width-k.x,0),height:u}:{})}var D=i?{width:c,height:u}:{};return s==="insideLeft"?Eo({x:o+x,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},D):s==="insideRight"?Eo({x:o+c-x,y:l+u/2,textAnchor:v,verticalAnchor:"middle"},D):s==="insideTop"?Eo({x:o+c/2,y:l+A,textAnchor:"middle",verticalAnchor:h},D):s==="insideBottom"?Eo({x:o+c/2,y:l+u-A,textAnchor:"middle",verticalAnchor:m},D):s==="insideTopLeft"?Eo({x:o+x,y:l+A,textAnchor:b,verticalAnchor:h},D):s==="insideTopRight"?Eo({x:o+c-x,y:l+A,textAnchor:v,verticalAnchor:h},D):s==="insideBottomLeft"?Eo({x:o+x,y:l+u-A,textAnchor:b,verticalAnchor:m},D):s==="insideBottomRight"?Eo({x:o+c-x,y:l+u-A,textAnchor:v,verticalAnchor:m},D):s&&typeof s=="object"&&(na(s.x)||pp(s.x))&&(na(s.y)||pp(s.y))?Eo({x:o+ed(s.x,c),y:l+ed(s.y,u),textAnchor:"end",verticalAnchor:"end"},D):Eo({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},D)},kNe={offset:5};function Ym(e){var t=tu(e,kNe),{viewBox:r,position:a,value:s,children:i,content:o,className:l="",textBreakAll:c,labelRef:u}=t,d=CNe(),A=dK(),m=a==="center"?A:d??A,h=r||m;if(!h||to(s)&&to(i)&&!S.isValidElement(o)&&typeof o!="function")return null;var y=Eo(Eo({},t),{},{viewBox:h});if(S.isValidElement(o)){var{labelRef:x}=y,v=yNe(y,xNe);return S.cloneElement(o,v)}var b;if(typeof o=="function"){if(b=S.createElement(o,y),S.isValidElement(b))return b}else b=ENe(t);var j=uK(h),C=eo(t,!0);if(j&&(a==="insideStart"||a==="insideEnd"||a==="end"))return TNe(t,a,b,C,h);var E=j?FNe(h,t.offset,t.position):_Ne(t,h);return S.createElement(oN,DA({ref:u,className:Gt("recharts-label",l)},C,E,{breakAll:c}),b)}Ym.displayName="Label";var INe=(e,t,r)=>{if(!e)return null;var a={viewBox:t,labelRef:r};return e===!0?S.createElement(Ym,DA({key:"label-implicit"},a)):eA(e)?S.createElement(Ym,DA({key:"label-implicit",value:e},a)):S.isValidElement(e)?e.type===Ym?S.cloneElement(e,Eo({key:"label-implicit"},a)):S.createElement(Ym,DA({key:"label-implicit",content:e},a)):d8(e)?S.createElement(Ym,DA({key:"label-implicit",content:e},a)):e&&typeof e=="object"?S.createElement(Ym,DA({},e,{key:"label-implicit"},a)):null};function PNe(e){var{label:t}=e,r=dK();return INe(t,r)||null}var U3={},R3={},yD;function LNe(){return yD||(yD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(R3)),R3}var Q3={},vD;function ONe(){return vD||(vD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(Q3)),Q3}var bD;function DNe(){return bD||(bD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LNe(),r=ONe(),a=XB();function s(i){if(a.isArrayLike(i))return t.last(r.toArray(i))}e.last=s})(U3)),U3}var H3,wD;function MNe(){return wD||(wD=1,H3=DNe().last),H3}var UNe=MNe();const RNe=hf(UNe);var QNe=["valueAccessor"],HNe=["dataKey","clockWise","id","textBreakAll"];function k4(){return k4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},k4.apply(null,arguments)}function ND(e,t){if(e==null)return{};var r,a,s=$Ne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function $Ne(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var zNe=e=>Array.isArray(e.value)?RNe(e.value):e.value,fK=S.createContext(void 0),hK=fK.Provider,AK=S.createContext(void 0),VNe=AK.Provider;function qNe(){return S.useContext(fK)}function KNe(){return S.useContext(AK)}function xw(e){var{valueAccessor:t=zNe}=e,r=ND(e,QNe),{dataKey:a,clockWise:s,id:i,textBreakAll:o}=r,l=ND(r,HNe),c=qNe(),u=KNe(),d=c||u;return!d||!d.length?null:S.createElement(al,{className:"recharts-label-list"},d.map((A,m)=>{var h,y=to(a)?t(A,m):ti(A&&A.payload,a),x=to(i)?{}:{id:"".concat(i,"-").concat(m)};return S.createElement(Ym,k4({},eo(A,!0),l,x,{fill:(h=r.fill)!==null&&h!==void 0?h:A.fill,parentViewBox:A.parentViewBox,value:y,textBreakAll:o,viewBox:A.viewBox,key:"label-".concat(m),index:m}))}))}xw.displayName="LabelList";function u8(e){var{label:t}=e;return t?t===!0?S.createElement(xw,{key:"labelList-implicit"}):S.isValidElement(t)||d8(t)?S.createElement(xw,{key:"labelList-implicit",content:t}):typeof t=="object"?S.createElement(xw,k4({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Y6(){return Y6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Y6.apply(null,arguments)}var mK=e=>{var{cx:t,cy:r,r:a,className:s}=e,i=Gt("recharts-dot",s);return t===+t&&r===+r&&a===+a?S.createElement("circle",Y6({},sA(e),HB(e),{className:i,cx:t,cy:r,r:a})):null},pK=e=>e.graphicalItems.polarItems,GNe=tr([zi,l2],MT),f8=tr([pK,Mo,GNe],UT),WNe=tr([f8],RT),h8=tr([WNe,BT],QT),YNe=tr([h8,Mo,f8],$T),XNe=tr([h8,Mo,f8],(e,t,r)=>r.length>0?e.flatMap(a=>r.flatMap(s=>{var i,o=ti(a,(i=t.dataKey)!==null&&i!==void 0?i:s.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(a=>({value:ti(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]}))),jD=()=>{},JNe=tr([Mo,xq,jD,XNe,jD,On,zi],VT),gK=tr([Mo,On,h8,YNe,o2,zi,JNe],qT),ZNe=tr([gK,Mo,a1],WT);tr([Mo,gK,ZNe,zi],XT);var eje={radiusAxis:{},angleAxis:{}},xK=td({name:"polarAxis",initialState:eje,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:dDe,removeRadiusAxis:uDe,addAngleAxis:fDe,removeAngleAxis:hDe}=xK.actions,tje=xK.reducer;function SD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function CD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SD(Object(r),!0).forEach(function(a){rje(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function rje(e,t,r){return(t=aje(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aje(e){var t=nje(e,"string");return typeof t=="symbol"?t:t+""}function nje(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sje=(e,t)=>t,A8=tr([pK,sje],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),ije=[],m8=(e,t,r)=>r?.length===0?ije:r,yK=tr([BT,A8,m8],(e,t,r)=>{var{chartData:a}=e;if(t!=null){var s;if(t?.data!=null&&t.data.length>0?s=t.data:s=a,(!s||!s.length)&&r!=null&&(s=r.map(i=>CD(CD({},t.presentationProps),i.props))),s!=null)return s}}),oje=tr([yK,A8,m8],(e,t,r)=>{if(!(e==null||t==null))return e.map((a,s)=>{var i,o=ti(a,t.nameKey,t.name),l;return r!=null&&(i=r[s])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?l=r[s].props.fill:typeof a=="object"&&a!=null&&"fill"in a?l=a.fill:l=t.fill,{value:Xx(o,t.dataKey),color:l,payload:a,type:t.legendType}})}),lje=tr([yK,A8,m8,vl],(e,t,r,a)=>{if(!(t==null||e==null))return sSe({offset:a,pieSettings:t,displayedData:e,cells:r})}),$3={},ED;function cje(){return ED||(ED=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${s}]`}let a=r;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(r)===a}e.isPlainObject=t})($3)),$3}var z3,BD;function dje(){return BD||(BD=1,z3=cje().isPlainObject),z3}var uje=dje();const fje=hf(uje);function TD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function FD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TD(Object(r),!0).forEach(function(a){hje(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function hje(e,t,r){return(t=Aje(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aje(e){var t=mje(e,"string");return typeof t=="symbol"?t:t+""}function mje(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function I4(){return I4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},I4.apply(null,arguments)}var _D=(e,t,r,a,s)=>{var i=r-a,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-i/2,",").concat(t+s),o+="L ".concat(e+r-i/2-a,",").concat(t+s),o+="L ".concat(e,",").concat(t," Z"),o},pje={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gje=e=>{var t=tu(e,pje),{x:r,y:a,upperWidth:s,lowerWidth:i,height:o,className:l}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:A}=t,m=S.useRef(),[h,y]=S.useState(-1),x=S.useRef(s),v=S.useRef(i),b=S.useRef(o),j=S.useRef(r),C=S.useRef(a),E=r2(e,"trapezoid-");if(S.useEffect(()=>{if(m.current&&m.current.getTotalLength)try{var W=m.current.getTotalLength();W&&y(W)}catch{}},[]),r!==+r||a!==+a||s!==+s||i!==+i||o!==+o||s===0&&i===0||o===0)return null;var k=Gt("recharts-trapezoid",l);if(!A)return S.createElement("g",null,S.createElement("path",I4({},eo(t,!0),{className:k,d:_D(r,a,s,i,o)})));var D=x.current,L=v.current,F=b.current,Q=j.current,U=C.current,P="0px ".concat(h===-1?1:h,"px"),I="".concat(h,"px 0px"),z=Hz(["strokeDasharray"],u,c);return S.createElement(t2,{animationId:E,key:E,canBegin:h>0,duration:u,easing:c,isActive:A,begin:d},W=>{var ie=Ji(D,s,W),X=Ji(L,i,W),le=Ji(F,o,W),re=Ji(Q,r,W),he=Ji(U,a,W);m.current&&(x.current=ie,v.current=X,b.current=le,j.current=re,C.current=he);var de=W>0?{transition:z,strokeDasharray:I}:{strokeDasharray:P};return S.createElement("path",I4({},eo(t,!0),{className:k,d:_D(re,he,ie,X,le),ref:m,style:FD(FD({},de),t.style)}))})},xje=["option","shapeType","propTransformer","activeClassName","isActive"];function yje(e,t){if(e==null)return{};var r,a,s=vje(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function vje(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function kD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function P4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kD(Object(r),!0).forEach(function(a){bje(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function bje(e,t,r){return(t=wje(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wje(e){var t=Nje(e,"string");return typeof t=="symbol"?t:t+""}function Nje(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jje(e,t){return P4(P4({},t),e)}function Sje(e,t){return e==="symbols"}function ID(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return S.createElement(qz,r);case"trapezoid":return S.createElement(gje,r);case"sector":return S.createElement(Wz,r);case"symbols":if(Sje(t))return S.createElement(GB,r);break;default:return null}}function Cje(e){return S.isValidElement(e)?e.props:e}function vK(e){var{option:t,shapeType:r,propTransformer:a=jje,activeClassName:s="recharts-active-shape",isActive:i}=e,o=yje(e,xje),l;if(S.isValidElement(t))l=S.cloneElement(t,P4(P4({},o),Cje(t)));else if(typeof t=="function")l=t(o);else if(fje(t)&&typeof t!="boolean"){var c=a(t,o);l=S.createElement(ID,{shapeType:r,elementProps:c})}else{var u=o;l=S.createElement(ID,{shapeType:r,elementProps:u})}return i?S.createElement(al,{className:s},l):l}var p8=(e,t)=>{var r=ao();return(a,s)=>i=>{e?.(a,s,i),r(Pq({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition}))}},g8=e=>{var t=ao();return(r,a)=>s=>{e?.(r,a,s),t(c4e())}},x8=(e,t)=>{var r=ao();return(a,s)=>i=>{e?.(a,s,i),r(d4e({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition}))}};function y8(e){var{fn:t,args:r}=e,a=ao(),s=eu();return S.useEffect(()=>{if(!s){var i=t(r);return a(i4e(i)),()=>{a(o4e(i))}}},[t,r,a,s]),null}var bK=()=>{};function wK(e){var{legendPayload:t}=e,r=ao(),a=eu();return S.useEffect(()=>a?bK:(r(Uz(t)),()=>{r(Rz(t))}),[r,a,t]),null}function Eje(e){var{legendPayload:t}=e,r=ao(),a=sa(On);return S.useEffect(()=>a!=="centric"&&a!=="radial"?bK:(r(Uz(t)),()=>{r(Rz(t))}),[r,a,t]),null}var V3,Bje=()=>{var[e]=S.useState(()=>Av("uid-"));return e},Tje=(V3=oJ.useId)!==null&&V3!==void 0?V3:Bje;function Fje(e,t){var r=Tje();return t||(e?"".concat(e,"-").concat(r):r)}var _je=S.createContext(void 0),v8=e=>{var{id:t,type:r,children:a}=e,s=Fje("recharts-".concat(r),t);return S.createElement(_je.Provider,{value:s},a(s))},kje={cartesianItems:[],polarItems:[]},NK=td({name:"graphicalItems",initialState:kje,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:a}=t.payload,s=qA(e).cartesianItems.indexOf(r);s>-1&&(e.cartesianItems[s]=a)},removeCartesianGraphicalItem(e,t){var r=qA(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=qA(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:Ije,replaceCartesianGraphicalItem:Pje,removeCartesianGraphicalItem:Lje,addPolarGraphicalItem:Oje,removePolarGraphicalItem:Dje}=NK.actions,Mje=NK.reducer;function jK(e){var t=ao(),r=S.useRef(null);return S.useEffect(()=>{r.current===null?t(Ije(e)):r.current!==e&&t(Pje({prev:r.current,next:e})),r.current=e},[t,e]),S.useEffect(()=>()=>{r.current&&(t(Lje(r.current)),r.current=null)},[t]),null}function Uje(e){var t=ao();return S.useEffect(()=>(t(Oje(e)),()=>{t(Dje(e))}),[t,e]),null}var Rje=["onMouseEnter","onClick","onMouseLeave"],Qje=["id"],Hje=["id"];function b8(e,t){if(e==null)return{};var r,a,s=$je(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function $je(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function PD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ri(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PD(Object(r),!0).forEach(function(a){zje(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function zje(e,t,r){return(t=Vje(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vje(e){var t=qje(e,"string");return typeof t=="symbol"?t:t+""}function qje(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w0(){return w0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},w0.apply(null,arguments)}function Kje(e){var t=S.useMemo(()=>$B(e.children,o1),[e.children]),r=sa(a=>oje(a,e.id,t));return r==null?null:S.createElement(Eje,{legendPayload:r})}function Gje(e){var{dataKey:t,nameKey:r,sectors:a,stroke:s,strokeWidth:i,fill:o,name:l,hide:c,tooltipType:u}=e;return{dataDefinedOnItem:a.map(d=>d.tooltipPayload),positions:a.map(d=>d.tooltipPosition),settings:{stroke:s,strokeWidth:i,fill:o,dataKey:t,nameKey:r,name:Xx(l,t),hide:c,type:u,color:o,unit:""}}}var Wje=(e,t)=>e>t?"start":e<t?"end":"middle",Yje=(e,t,r)=>ed(typeof t=="function"?t(e):t,r,r*.8),Xje=(e,t,r)=>{var{top:a,left:s,width:i,height:o}=t,l=Tz(i,o),c=s+ed(e.cx,i,i/2),u=a+ed(e.cy,o,o/2),d=ed(e.innerRadius,l,0),A=Yje(r,e.outerRadius,l),m=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:A,maxRadius:m}},Jje=(e,t)=>{var r=Rl(t-e),a=Math.min(Math.abs(t-e),360);return r*a};function Zje(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var eSe=(e,t)=>{if(S.isValidElement(e))return S.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Gt("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return S.createElement(Dy,w0({},t,{type:"linear",className:r}))},tSe=(e,t,r)=>{if(S.isValidElement(e))return S.cloneElement(e,t);var a=r;if(typeof e=="function"&&(a=e(t),S.isValidElement(a)))return a;var s=Gt("recharts-pie-label-text",Zje(e));return S.createElement(oN,w0({},t,{alignmentBaseline:"middle",className:s}),a)};function rSe(e){var{sectors:t,props:r,showLabels:a}=e,{label:s,labelLine:i,dataKey:o}=r;if(!a||!s||!t)return null;var l=sA(r),c=eo(s,!1),u=eo(i,!1),d=typeof s=="object"&&"offsetRadius"in s&&typeof s.offsetRadius=="number"&&s.offsetRadius||20,A=t.map((m,h)=>{var y=(m.startAngle+m.endAngle)/2,x=el(m.cx,m.cy,m.outerRadius+d,y),v=Ri(Ri(Ri(Ri({},l),m),{},{stroke:"none"},c),{},{index:h,textAnchor:Wje(x.x,m.cx)},x),b=Ri(Ri(Ri(Ri({},l),m),{},{fill:"none",stroke:m.fill},u),{},{index:h,points:[el(m.cx,m.cy,m.outerRadius,y),x],key:"line"});return S.createElement(al,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(h)},i&&eSe(i,b),tSe(s,v,ti(m,o)))});return S.createElement(al,{className:"recharts-pie-labels"},A)}function aSe(e){var{sectors:t,props:r,showLabels:a}=e,{label:s}=r;return typeof s=="object"&&s!=null&&"position"in s?S.createElement(u8,{label:r.label}):S.createElement(rSe,{sectors:t,props:r,showLabels:a})}function nSe(e){var{sectors:t,activeShape:r,inactiveShape:a,allOtherPieProps:s}=e,i=sa(b0),{onMouseEnter:o,onClick:l,onMouseLeave:c}=s,u=b8(s,Rje),d=p8(o,s.dataKey),A=g8(c),m=x8(l,s.dataKey);return t==null||t.length===0?null:S.createElement(S.Fragment,null,t.map((h,y)=>{if(h?.startAngle===0&&h?.endAngle===0&&t.length!==1)return null;var x=r&&String(y)===i,v=i?a:null,b=x?r:v,j=Ri(Ri({},h),{},{stroke:h.stroke,tabIndex:-1,[Lz]:y,[Oz]:s.dataKey});return S.createElement(al,w0({tabIndex:-1,className:"recharts-pie-sector"},Zv(u,h,y),{onMouseEnter:d(h,y),onMouseLeave:A(h,y),onClick:m(h,y),key:"sector-".concat(h?.startAngle,"-").concat(h?.endAngle,"-").concat(h.midAngle,"-").concat(y)}),S.createElement(vK,w0({option:b,isActive:x,shapeType:"sector"},j)))}))}function sSe(e){var t,{pieSettings:r,displayedData:a,cells:s,offset:i}=e,{cornerRadius:o,startAngle:l,endAngle:c,dataKey:u,nameKey:d,tooltipType:A}=r,m=Math.abs(r.minAngle),h=Jje(l,c),y=Math.abs(h),x=a.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,v=a.filter(D=>ti(D,u,0)!==0).length,b=(y>=360?v:v-1)*x,j=y-v*m-b,C=a.reduce((D,L)=>{var F=ti(L,u,0);return D+(na(F)?F:0)},0),E;if(C>0){var k;E=a.map((D,L)=>{var F=ti(D,u,0),Q=ti(D,d,L),U=Xje(r,i,D),P=(na(F)?F:0)/C,I,z=Ri(Ri({},D),s&&s[L]&&s[L].props);L?I=k.endAngle+Rl(h)*x*(F!==0?1:0):I=l;var W=I+Rl(h)*((F!==0?m:0)+P*j),ie=(I+W)/2,X=(U.innerRadius+U.outerRadius)/2,le=[{name:Q,value:F,payload:z,dataKey:u,type:A}],re=el(U.cx,U.cy,X,ie);return k=Ri(Ri(Ri(Ri({},r.presentationProps),{},{percent:P,cornerRadius:o,name:Q,tooltipPayload:le,midAngle:ie,middleRadius:X,tooltipPosition:re},z),U),{},{value:ti(D,u),startAngle:I,endAngle:W,payload:z,paddingAngle:Rl(h)*x}),k})}return E}function iSe(e){var{showLabels:t,sectors:r,children:a}=e,s=S.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return S.createElement(VNe,{value:t?s:void 0},a)}function oSe(e){var{props:t,previousSectorsRef:r}=e,{sectors:a,isAnimationActive:s,animationBegin:i,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:A}=t,m=r2(t,"recharts-pie-"),h=r.current,[y,x]=S.useState(!1),v=S.useCallback(()=>{typeof A=="function"&&A(),x(!1)},[A]),b=S.useCallback(()=>{typeof d=="function"&&d(),x(!0)},[d]);return S.createElement(iSe,{showLabels:!y,sectors:a},S.createElement(t2,{animationId:m,begin:i,duration:o,isActive:s,easing:l,onAnimationStart:b,onAnimationEnd:v,key:m},j=>{var C=[],E=a&&a[0],k=E?.startAngle;return a?.forEach((D,L)=>{var F=h&&h[L],Q=L>0?qp(D,"paddingAngle",0):0;if(F){var U=Ji(F.endAngle-F.startAngle,D.endAngle-D.startAngle,j),P=Ri(Ri({},D),{},{startAngle:k+Q,endAngle:k+U+Q});C.push(P),k=P.endAngle}else{var{endAngle:I,startAngle:z}=D,W=Ji(0,I-z,j),ie=Ri(Ri({},D),{},{startAngle:k+Q,endAngle:k+W+Q});C.push(ie),k=ie.endAngle}}),r.current=C,S.createElement(al,null,S.createElement(nSe,{sectors:C,activeShape:c,inactiveShape:u,allOtherPieProps:t}))}),S.createElement(aSe,{showLabels:!y,sectors:a,props:t}),t.children)}var lSe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!og.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function cSe(e){var{id:t}=e,r=b8(e,Qje),{hide:a,className:s,rootTabIndex:i}=e,o=S.useMemo(()=>$B(e.children,o1),[e.children]),l=sa(d=>lje(d,t,o)),c=S.useRef(null),u=Gt("recharts-pie",s);return a||l==null?(c.current=null,S.createElement(al,{tabIndex:i,className:u})):S.createElement(S.Fragment,null,S.createElement(y8,{fn:Gje,args:Ri(Ri({},e),{},{sectors:l})}),S.createElement(al,{tabIndex:i,className:u},S.createElement(oSe,{props:Ri(Ri({},r),{},{sectors:l}),previousSectorsRef:c})))}function w8(e){var t=tu(e,lSe),{id:r}=t,a=b8(t,Hje),s=sA(a);return S.createElement(v8,{id:r,type:"pie"},i=>S.createElement(S.Fragment,null,S.createElement(Uje,{type:"pie",id:i,data:a.data,dataKey:a.dataKey,hide:a.hide,angleAxisId:0,radiusAxisId:0,name:a.name,nameKey:a.nameKey,tooltipType:a.tooltipType,legendType:a.legendType,fill:a.fill,cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,paddingAngle:a.paddingAngle,minAngle:a.minAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius,cornerRadius:a.cornerRadius,presentationProps:s}),S.createElement(Kje,w0({},a,{id:i})),S.createElement(cSe,w0({},a,{id:i}))))}w8.displayName="Pie";function LD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function OD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LD(Object(r),!0).forEach(function(a){dSe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function dSe(e,t,r){return(t=uSe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uSe(e){var t=fSe(e,"string");return typeof t=="symbol"?t:t+""}function fSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hSe={xAxis:{},yAxis:{},zAxis:{}},SK=td({name:"cartesianAxis",initialState:hSe,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:a}=t.payload;e.yAxis[r]&&(e.yAxis[r]=OD(OD({},e.yAxis[r]),{},{width:a}))}}}),{addXAxis:ASe,removeXAxis:mSe,addYAxis:pSe,removeYAxis:gSe,addZAxis:ADe,removeZAxis:mDe,updateYAxisWidth:xSe}=SK.actions,ySe=SK.reducer,vSe=tr([vl],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),bSe=tr([vSe,dm,um],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),N8=()=>sa(bSe),wSe=()=>sa(Y4e);function DD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function MD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DD(Object(r),!0).forEach(function(a){NSe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function NSe(e,t,r){return(t=jSe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jSe(e){var t=SSe(e,"string");return typeof t=="symbol"?t:t+""}function SSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CSe=e=>{var{point:t,childIndex:r,mainColor:a,activeDot:s,dataKey:i}=e;if(s===!1||t.x==null||t.y==null)return null;var o=MD(MD({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:a??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},eo(s,!1)),HB(s)),l;return S.isValidElement(s)?l=S.cloneElement(s,o):typeof s=="function"?l=s(o):l=S.createElement(mK,o),S.createElement(al,{className:"recharts-active-dot"},l)};function UD(e){var{points:t,mainColor:r,activeDot:a,itemDataKey:s}=e,i=sa(b0),o=wSe();if(t==null||o==null)return null;var l=t.find(c=>o.includes(c.payload));return to(l)?null:CSe({point:l,childIndex:Number(i),mainColor:r,dataKey:s,activeDot:a})}var ESe="Invariant failed";function BSe(e,t){throw new Error(ESe)}var TSe=["x","y"];function X6(){return X6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},X6.apply(null,arguments)}function RD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function uy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RD(Object(r),!0).forEach(function(a){FSe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function FSe(e,t,r){return(t=_Se(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Se(e){var t=kSe(e,"string");return typeof t=="symbol"?t:t+""}function kSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ISe(e,t){if(e==null)return{};var r,a,s=PSe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function PSe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function LSe(e,t){var{x:r,y:a}=e,s=ISe(e,TSe),i="".concat(r),o=parseInt(i,10),l="".concat(a),c=parseInt(l,10),u="".concat(t.height||s.height),d=parseInt(u,10),A="".concat(t.width||s.width),m=parseInt(A,10);return uy(uy(uy(uy(uy({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:m,name:t.name,radius:t.radius})}function j8(e){return S.createElement(vK,X6({shapeType:"rectangle",propTransformer:LSe,activeClassName:"recharts-active-bar"},e))}var OSe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(a,s)=>{if(na(t))return t;var i=na(a)||to(a);return i?t(a,s):(i||BSe(),r)}},DSe={},CK=td({name:"errorBars",initialState:DSe,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:a}=t.payload;e[r]||(e[r]=[]),e[r].push(a)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:a,next:s}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===a.dataKey&&i.direction===a.direction?s:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:a}=t.payload;e[r]&&(e[r]=e[r].filter(s=>s.dataKey!==a.dataKey||s.direction!==a.direction))}}}),{addErrorBar:pDe,replaceErrorBar:gDe,removeErrorBar:xDe}=CK.actions,MSe=CK.reducer,USe=["children"];function RSe(e,t){if(e==null)return{};var r,a,s=QSe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function QSe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var HSe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},$Se=S.createContext(HSe);function zSe(e){var{children:t}=e,r=RSe(e,USe);return S.createElement($Se.Provider,{value:r},t)}function S8(e,t){var r,a,s=sa(u=>I0(u,e)),i=sa(u=>P0(u,t)),o=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:wu.allowDataOverflow,l=(a=i?.allowDataOverflow)!==null&&a!==void 0?a:Nu.allowDataOverflow,c=o||l;return{needClip:c,needClipX:o,needClipY:l}}function EK(e){var{xAxisId:t,yAxisId:r,clipPathId:a}=e,s=N8(),{needClipX:i,needClipY:o,needClip:l}=S8(t,r);if(!l)return null;var{x:c,y:u,width:d,height:A}=s;return S.createElement("clipPath",{id:"clipPath-".concat(a)},S.createElement("rect",{x:i?c:c-d/2,y:o?u:u-A/2,width:i?d:d*2,height:o?A:A*2}))}var VSe=["onMouseEnter","onMouseLeave","onClick"],qSe=["value","background","tooltipPosition"],KSe=["id"],GSe=["onMouseEnter","onClick","onMouseLeave"];function N0(){return N0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},N0.apply(null,arguments)}function QD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function xd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QD(Object(r),!0).forEach(function(a){WSe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function WSe(e,t,r){return(t=YSe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YSe(e){var t=XSe(e,"string");return typeof t=="symbol"?t:t+""}function XSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function L4(e,t){if(e==null)return{};var r,a,s=JSe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function JSe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var ZSe=e=>{var{dataKey:t,name:r,fill:a,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:a,value:Xx(r,t),payload:e}]};function e3e(e){var{dataKey:t,stroke:r,strokeWidth:a,fill:s,name:i,hide:o,unit:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:Xx(i,t),hide:o,type:e.tooltipType,color:e.fill,unit:l}}}function t3e(e){var t=sa(b0),{data:r,dataKey:a,background:s,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:l,onClick:c}=i,u=L4(i,VSe),d=p8(o,a),A=g8(l),m=x8(c,a);if(!s||r==null)return null;var h=eo(s,!1);return S.createElement(S.Fragment,null,r.map((y,x)=>{var{value:v,background:b,tooltipPosition:j}=y,C=L4(y,qSe);if(!b)return null;var E=d(y,x),k=A(y,x),D=m(y,x),L=xd(xd(xd(xd(xd({option:s,isActive:String(x)===t},C),{},{fill:"#eee"},b),h),Zv(u,y,x)),{},{onMouseEnter:E,onMouseLeave:k,onClick:D,dataKey:a,index:x,className:"recharts-bar-background-rectangle"});return S.createElement(j8,N0({key:"background-bar-".concat(x)},L))}))}function r3e(e){var{showLabels:t,children:r,rects:a}=e,s=a?.map(i=>{var o={x:i.x,y:i.y,width:i.width,height:i.height};return xd(xd({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return S.createElement(hK,{value:t?s:void 0},r)}function a3e(e){var{shape:t,activeBar:r,baseProps:a,entry:s,index:i,dataKey:o}=e,l=sa(b0),c=sa(Kq),u=r&&String(i)===l&&(c==null||o===c),d=u?r:t;return S.createElement(j8,N0({},a,s,{isActive:u,option:d,index:i,dataKey:o}))}function n3e(e){var{shape:t,baseProps:r,entry:a,index:s,dataKey:i}=e;return S.createElement(j8,N0({},r,a,{isActive:!1,option:t,index:s,dataKey:i}))}function s3e(e){var{data:t,props:r}=e,a=sA(r),{id:s}=a,i=L4(a,KSe),{shape:o,dataKey:l,activeBar:c}=r,{onMouseEnter:u,onClick:d,onMouseLeave:A}=r,m=L4(r,GSe),h=p8(u,l),y=g8(A),x=x8(d,l);return t?S.createElement(S.Fragment,null,t.map((v,b)=>S.createElement(al,N0({className:"recharts-bar-rectangle"},Zv(m,v,b),{onMouseEnter:h(v,b),onMouseLeave:y(v,b),onClick:x(v,b),key:"rectangle-".concat(v?.x,"-").concat(v?.y,"-").concat(v?.value,"-").concat(b)}),c?S.createElement(a3e,{shape:o,activeBar:c,baseProps:i,entry:v,index:b,dataKey:l}):S.createElement(n3e,{shape:o,baseProps:i,entry:v,index:b,dataKey:l})))):null}function i3e(e){var{props:t,previousRectanglesRef:r}=e,{data:a,layout:s,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,A=r.current,m=r2(t,"recharts-bar-"),[h,y]=S.useState(!1),x=!h,v=S.useCallback(()=>{typeof u=="function"&&u(),y(!1)},[u]),b=S.useCallback(()=>{typeof d=="function"&&d(),y(!0)},[d]);return S.createElement(r3e,{showLabels:x,rects:a},S.createElement(t2,{animationId:m,begin:o,duration:l,isActive:i,easing:c,onAnimationEnd:v,onAnimationStart:b,key:m},j=>{var C=j===1?a:a?.map((E,k)=>{var D=A&&A[k];if(D)return xd(xd({},E),{},{x:Ji(D.x,E.x,j),y:Ji(D.y,E.y,j),width:Ji(D.width,E.width,j),height:Ji(D.height,E.height,j)});if(s==="horizontal"){var L=Ji(0,E.height,j);return xd(xd({},E),{},{y:E.y+E.height-L,height:L})}var F=Ji(0,E.width,j);return xd(xd({},E),{},{width:F})});return j>0&&(r.current=C??null),C==null?null:S.createElement(al,null,S.createElement(s3e,{props:t,data:C}))}),S.createElement(u8,{label:t.label}),t.children)}function o3e(e){var t=S.useRef(null);return S.createElement(i3e,{previousRectanglesRef:t,props:e})}var BK=0,l3e=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:ti(e,t)}};class c3e extends S.PureComponent{render(){var{hide:t,data:r,dataKey:a,className:s,xAxisId:i,yAxisId:o,needClip:l,background:c,id:u}=this.props;if(t||r==null)return null;var d=Gt("recharts-bar",s),A=u;return S.createElement(al,{className:d,id:u},l&&S.createElement("defs",null,S.createElement(EK,{clipPathId:A,xAxisId:i,yAxisId:o})),S.createElement(al,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(A,")"):void 0},S.createElement(t3e,{data:r,dataKey:a,background:c,allOtherBarProps:this.props}),S.createElement(o3e,this.props)))}}var d3e={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!og.isSsr,legendType:"rect",minPointSize:BK,xAxisId:0,yAxisId:0};function u3e(e){var{xAxisId:t,yAxisId:r,hide:a,legendType:s,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:A}=S8(t,r),m=H5(),h=eu(),y=$B(e.children,o1),x=sa(j=>M3e(j,t,r,h,e.id,y));if(m!=="vertical"&&m!=="horizontal")return null;var v,b=x?.[0];return b==null||b.height==null||b.width==null?v=0:v=m==="vertical"?b.height/2:b.width/2,S.createElement(zSe,{xAxisId:t,yAxisId:r,data:x,dataPointFormatter:l3e,errorBarOffset:v},S.createElement(c3e,N0({},e,{layout:m,needClip:A,data:x,xAxisId:t,yAxisId:r,hide:a,legendType:s,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function f3e(e){var{layout:t,barSettings:{dataKey:r,minPointSize:a},pos:s,bandSize:i,xAxis:o,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:A,offset:m,cells:h,parentViewBox:y}=e,x=t==="horizontal"?l:o,v=d?x.scale.domain():null,b=E1e({numericAxis:x});return A.map((j,C)=>{var E,k,D,L,F,Q;d?E=w1e(d[C],v):(E=ti(j,r),Array.isArray(E)||(E=[b,E]));var U=OSe(a,BK)(E[1],C);if(t==="horizontal"){var P,[I,z]=[l.scale(E[0]),l.scale(E[1])];k=SL({axis:o,ticks:c,bandSize:i,offset:s.offset,entry:j,index:C}),D=(P=z??I)!==null&&P!==void 0?P:void 0,L=s.size;var W=I-z;if(F=Xd(W)?0:W,Q={x:k,y:m.top,width:L,height:m.height},Math.abs(U)>0&&Math.abs(F)<Math.abs(U)){var ie=Rl(F||U)*(Math.abs(U)-Math.abs(F));D-=ie,F+=ie}}else{var[X,le]=[o.scale(E[0]),o.scale(E[1])];if(k=X,D=SL({axis:l,ticks:u,bandSize:i,offset:s.offset,entry:j,index:C}),L=le-X,F=s.size,Q={x:m.left,y:D,width:m.width,height:F},Math.abs(U)>0&&Math.abs(L)<Math.abs(U)){var re=Rl(L||U)*(Math.abs(U)-Math.abs(L));L+=re}}if(k==null||D==null||L==null||F==null)return null;var he=xd(xd({},j),{},{x:k,y:D,width:L,height:F,value:d?E:E[1],payload:j,background:Q,tooltipPosition:{x:k+L/2,y:D+F/2},parentViewBox:y},h&&h[C]&&h[C].props);return he}).filter(Boolean)}function J6(e){var t=tu(e,d3e),r=eu();return S.createElement(v8,{id:t.id,type:"bar"},a=>S.createElement(S.Fragment,null,S.createElement(wK,{legendPayload:ZSe(t)}),S.createElement(y8,{fn:e3e,args:t}),S.createElement(jK,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:Iz(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),S.createElement(u3e,N0({},t,{id:a}))))}J6.displayName="Bar";function HD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Kb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HD(Object(r),!0).forEach(function(a){h3e(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function h3e(e,t,r){return(t=A3e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A3e(e){var t=m3e(e,"string");return typeof t=="symbol"?t:t+""}function m3e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p3e=(e,t)=>t,g3e=(e,t,r)=>r,x3e=(e,t,r,a)=>a,y3e=(e,t,r,a,s)=>s,A2=tr([tN,y3e],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),v3e=tr([A2],e=>e?.maxBarSize),b3e=(e,t,r,a,s,i)=>i,$D=(e,t,r)=>{var a=r??e;if(!to(a))return ed(a,t,0)},w3e=tr([On,tN,p3e,g3e,x3e],(e,t,r,a,s)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===a).filter(i=>i.isPanorama===s).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),N3e=(e,t,r,a)=>{var s=On(e);return s==="horizontal"?wv(e,"yAxis",r,a):wv(e,"xAxis",t,a)},j3e=(e,t,r)=>{var a=On(e);return a==="horizontal"?HO(e,"xAxis",t):HO(e,"yAxis",r)},S3e=(e,t,r)=>{var a={},s=e.filter(eN),i=e.filter(u=>u.stackId==null),o=s.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),a),l=Object.entries(o).map(u=>{var[d,A]=u,m=A.map(y=>y.dataKey),h=$D(t,r,A[0].barSize);return{stackId:d,dataKeys:m,barSize:h}}),c=i.map(u=>{var d=[u.dataKey].filter(m=>m!=null),A=$D(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:A}});return[...l,...c]},C3e=tr([w3e,owe,j3e],S3e),E3e=(e,t,r,a,s)=>{var i,o,l=A2(e,t,r,a,s);if(l!=null){var c=On(e),u=VV(e),{maxBarSize:d}=l,A=to(d)?u:d,m,h;return c==="horizontal"?(m=v0(e,"xAxis",t,a),h=y0(e,"xAxis",t,a)):(m=v0(e,"yAxis",r,a),h=y0(e,"yAxis",r,a)),(i=(o=mv(m,h,!0))!==null&&o!==void 0?o:A)!==null&&i!==void 0?i:0}},TK=(e,t,r,a)=>{var s=On(e),i,o;return s==="horizontal"?(i=v0(e,"xAxis",t,a),o=y0(e,"xAxis",t,a)):(i=v0(e,"yAxis",r,a),o=y0(e,"yAxis",r,a)),mv(i,o)};function B3e(e,t,r,a,s){var i=a.length;if(!(i<1)){var o=ed(e,r,0,!0),l,c=[];if(gc(a[0].barSize)){var u=!1,d=r/i,A=a.reduce((b,j)=>b+(j.barSize||0),0);A+=(i-1)*o,A>=r&&(A-=(i-1)*o,o=0),A>=r&&d>0&&(u=!0,d*=.9,A=i*d);var m=(r-A)/2>>0,h={offset:m-o,size:0};l=a.reduce((b,j)=>{var C,E={stackId:j.stackId,dataKeys:j.dataKeys,position:{offset:h.offset+h.size+o,size:u?d:(C=j.barSize)!==null&&C!==void 0?C:0}},k=[...b,E];return h=k[k.length-1].position,k},c)}else{var y=ed(t,r,0,!0);r-2*y-(i-1)*o<=0&&(o=0);var x=(r-2*y-(i-1)*o)/i;x>1&&(x>>=0);var v=gc(s)?Math.min(x,s):x;l=a.reduce((b,j,C)=>[...b,{stackId:j.stackId,dataKeys:j.dataKeys,position:{offset:y+(x+o)*C+(x-v)/2,size:v}}],c)}return l}}var T3e=(e,t,r,a,s,i,o)=>{var l=to(o)?t:o,c=B3e(r,a,s!==i?s:i,e,l);return s!==i&&c!=null&&(c=c.map(u=>Kb(Kb({},u),{},{position:Kb(Kb({},u.position),{},{offset:u.position.offset-s/2})}))),c},F3e=tr([C3e,VV,iwe,qV,E3e,TK,v3e],T3e),_3e=(e,t,r,a)=>v0(e,"xAxis",t,a),k3e=(e,t,r,a)=>v0(e,"yAxis",r,a),I3e=(e,t,r,a)=>y0(e,"xAxis",t,a),P3e=(e,t,r,a)=>y0(e,"yAxis",r,a),L3e=tr([F3e,A2],(e,t)=>{if(!(e==null||t==null)){var r=e.find(a=>a.stackId===t.stackId&&t.dataKey!=null&&a.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),O3e=(e,t)=>{var r=Z5(t);if(!(!e||r==null||t==null)){var{stackId:a}=t;if(a!=null){var s=e[a];if(s){var{stackedData:i}=s;if(i)return i.find(o=>o.key===r)}}}},D3e=tr([N3e,A2],O3e),M3e=tr([vl,eT,_3e,k3e,I3e,P3e,L3e,On,W5,TK,D3e,A2,b3e],(e,t,r,a,s,i,o,l,c,u,d,A,m)=>{var{chartData:h,dataStartIndex:y,dataEndIndex:x}=c;if(!(A==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||a==null||s==null||i==null||u==null)){var{data:v}=A,b;if(v!=null&&v.length>0?b=v:b=h?.slice(y,x+1),b!=null)return f3e({layout:l,barSettings:A,pos:o,parentViewBox:t,bandSize:u,xAxis:r,yAxis:a,xAxisTicks:s,yAxisTicks:i,stackedData:d,displayedData:b,offset:e,cells:m})}}),FK=e=>{var{chartData:t}=e,r=ao(),a=eu();return S.useEffect(()=>a?()=>{}:(r(JO(t)),()=>{r(JO(void 0))}),[t,r,a]),null},zD={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},_K=td({name:"brush",initialState:zD,reducers:{setBrushSettings(e,t){return t.payload==null?zD:t.payload}}}),{setBrushSettings:yDe}=_K.actions,U3e=_K.reducer;function R3e(e,t,r){return(t=Q3e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q3e(e){var t=H3e(e,"string");return typeof t=="symbol"?t:t+""}function H3e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class C8{static create(t){return new C8(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(a)switch(a){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),a=r[0],s=r[r.length-1];return a<=s?t>=a&&t<=s:t>=s&&t<=a}}R3e(C8,"EPS",1e-4);function $3e(e){return(e%180+180)%180}var z3e=function(t){var{width:r,height:a}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=$3e(s),o=i*Math.PI/180,l=Math.atan(a/r),c=o>l&&o<Math.PI-l?a/Math.sin(o):r/Math.cos(o);return Math.abs(c)},V3e={dots:[],areas:[],lines:[]},kK=td({name:"referenceElements",initialState:V3e,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=qA(e).dots.findIndex(a=>a===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=qA(e).areas.findIndex(a=>a===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=qA(e).lines.findIndex(a=>a===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:vDe,removeDot:bDe,addArea:wDe,removeArea:NDe,addLine:jDe,removeLine:SDe}=kK.actions,q3e=kK.reducer,K3e=S.createContext(void 0),G3e=e=>{var{children:t}=e,[r]=S.useState("".concat(Av("recharts"),"-clip")),a=N8();if(a==null)return null;var{x:s,y:i,width:o,height:l}=a;return S.createElement(K3e.Provider,{value:r},S.createElement("defs",null,S.createElement("clipPath",{id:r},S.createElement("rect",{x:s,y:i,height:l,width:o}))),t)};function q3(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var a in t)if({}.hasOwnProperty.call(t,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function IK(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var a=[],s=0;s<e.length;s+=t)a.push(e[s]);return a}function W3e(e,t,r){var a={width:e.width+t.width,height:e.height+t.height};return z3e(a,r)}function Y3e(e,t,r){var a=r==="width",{x:s,y:i,width:o,height:l}=e;return t===1?{start:a?s:i,end:a?s+o:i+l}:{start:a?s+o:i+l,end:a?s:i}}function O4(e,t,r,a,s){if(e*t<e*a||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-a)>=0&&e*(t+e*i/2-s)<=0}function X3e(e,t){return IK(e,t+1)}function J3e(e,t,r,a,s){for(var i=(a||[]).slice(),{start:o,end:l}=t,c=0,u=1,d=o,A=function(){var y=a?.[c];if(y===void 0)return{v:IK(a,u)};var x=c,v,b=()=>(v===void 0&&(v=r(y,x)),v),j=y.coordinate,C=c===0||O4(e,j,b,d,l);C||(c=0,d=o,u+=1),C&&(d=j+e*(b()/2+s),c+=u)},m;u<=i.length;)if(m=A(),m)return m.v;return[]}function VD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Kc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VD(Object(r),!0).forEach(function(a){Z3e(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Z3e(e,t,r){return(t=eCe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eCe(e){var t=tCe(e,"string");return typeof t=="symbol"?t:t+""}function tCe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rCe(e,t,r,a,s){for(var i=(a||[]).slice(),o=i.length,{start:l}=t,{end:c}=t,u=function(m){var h=i[m],y,x=()=>(y===void 0&&(y=r(h,m)),y);if(m===o-1){var v=e*(h.coordinate+e*x()/2-c);i[m]=h=Kc(Kc({},h),{},{tickCoord:v>0?h.coordinate-v*e:h.coordinate})}else i[m]=h=Kc(Kc({},h),{},{tickCoord:h.coordinate});var b=O4(e,h.tickCoord,x,l,c);b&&(c=h.tickCoord-e*(x()/2+s),i[m]=Kc(Kc({},h),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function aCe(e,t,r,a,s,i){var o=(a||[]).slice(),l=o.length,{start:c,end:u}=t;if(i){var d=a[l-1],A=r(d,l-1),m=e*(d.coordinate+e*A/2-u);o[l-1]=d=Kc(Kc({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate});var h=O4(e,d.tickCoord,()=>A,c,u);h&&(u=d.tickCoord-e*(A/2+s),o[l-1]=Kc(Kc({},d),{},{isShow:!0}))}for(var y=i?l-1:l,x=function(j){var C=o[j],E,k=()=>(E===void 0&&(E=r(C,j)),E);if(j===0){var D=e*(C.coordinate-e*k()/2-c);o[j]=C=Kc(Kc({},C),{},{tickCoord:D<0?C.coordinate-D*e:C.coordinate})}else o[j]=C=Kc(Kc({},C),{},{tickCoord:C.coordinate});var L=O4(e,C.tickCoord,k,c,u);L&&(c=C.tickCoord+e*(k()/2+s),o[j]=Kc(Kc({},C),{},{isShow:!0}))},v=0;v<y;v++)x(v);return o}function E8(e,t,r){var{tick:a,ticks:s,viewBox:i,minTickGap:o,orientation:l,interval:c,tickFormatter:u,unit:d,angle:A}=e;if(!s||!s.length||!a)return[];if(na(c)||og.isSsr){var m;return(m=X3e(s,na(c)?c:0))!==null&&m!==void 0?m:[]}var h=[],y=l==="top"||l==="bottom"?"width":"height",x=d&&y==="width"?Qy(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=(C,E)=>{var k=typeof u=="function"?u(C.value,E):C.value;return y==="width"?W3e(Qy(k,{fontSize:t,letterSpacing:r}),x,A):Qy(k,{fontSize:t,letterSpacing:r})[y]},b=s.length>=2?Rl(s[1].coordinate-s[0].coordinate):1,j=Y3e(i,b,y);return c==="equidistantPreserveStart"?J3e(b,j,v,s,o):(c==="preserveStart"||c==="preserveStartEnd"?h=aCe(b,j,v,s,o,c==="preserveStartEnd"):h=rCe(b,j,v,s,o),h.filter(C=>C.isShow))}var nCe=["viewBox"],sCe=["viewBox"];function ex(){return ex=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ex.apply(null,arguments)}function qD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function gl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qD(Object(r),!0).forEach(function(a){B8(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function KD(e,t){if(e==null)return{};var r,a,s=iCe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function iCe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function B8(e,t,r){return(t=oCe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oCe(e){var t=lCe(e,"string");return typeof t=="symbol"?t:t+""}function lCe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class L0 extends S.Component{constructor(t){super(t),this.tickRefs=S.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,r){var{viewBox:a}=t,s=KD(t,nCe),i=this.props,{viewBox:o}=i,l=KD(i,sCe);return!q3(a,o)||!q3(s,l)||!q3(r,this.state)}getTickLineCoord(t){var{x:r,y:a,width:s,height:i,orientation:o,tickSize:l,mirror:c,tickMargin:u}=this.props,d,A,m,h,y,x,v=c?-1:1,b=t.tickSize||l,j=na(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":d=A=t.coordinate,h=a+ +!c*i,m=h-v*b,x=m-v*u,y=j;break;case"left":m=h=t.coordinate,A=r+ +!c*s,d=A-v*b,y=d-v*u,x=j;break;case"right":m=h=t.coordinate,A=r+ +c*s,d=A+v*b,y=d+v*u,x=j;break;default:d=A=t.coordinate,h=a+ +c*i,m=h+v*b,x=m+v*u,y=j;break}return{line:{x1:d,y1:m,x2:A,y2:h},tick:{x:y,y:x}}}getTickTextAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":return r?"start":"end";case"right":return r?"end":"start";default:return"middle"}}getTickVerticalAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:t,y:r,width:a,height:s,orientation:i,mirror:o,axisLine:l}=this.props,c=gl(gl(gl({},eo(this.props,!1)),eo(l,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var u=+(i==="top"&&!o||i==="bottom"&&o);c=gl(gl({},c),{},{x1:t,y1:r+u*s,x2:t+a,y2:r+u*s})}else{var d=+(i==="left"&&!o||i==="right"&&o);c=gl(gl({},c),{},{x1:t+d*a,y1:r,x2:t+d*a,y2:r+s})}return S.createElement("line",ex({},c,{className:Gt("recharts-cartesian-axis-line",qp(l,"className"))}))}static renderTickItem(t,r,a){var s,i=Gt(r.className,"recharts-cartesian-axis-tick-value");if(S.isValidElement(t))s=S.cloneElement(t,gl(gl({},r),{},{className:i}));else if(typeof t=="function")s=t(gl(gl({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Gt(o,t.className)),s=S.createElement(oN,ex({},r,{className:o}),a)}return s}renderTicks(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:s,stroke:i,tick:o,tickFormatter:l,unit:c,padding:u,tickTextProps:d}=this.props,A=E8(gl(gl({},this.props),{},{ticks:a}),t,r),m=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),y=sA(this.props),x=eo(o,!1),v=gl(gl({},y),{},{fill:"none"},eo(s,!1)),b=A.map((j,C)=>{var{line:E,tick:k}=this.getTickLineCoord(j),D=gl(gl(gl(gl({textAnchor:m,verticalAnchor:h},y),{},{stroke:"none",fill:i},x),k),{},{index:C,payload:j,visibleTicksCount:A.length,tickFormatter:l,padding:u},d);return S.createElement(al,ex({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},Zv(this.props,j,C)),s&&S.createElement("line",ex({},v,E,{className:Gt("recharts-cartesian-axis-tick-line",qp(s,"className"))})),o&&L0.renderTickItem(o,D,"".concat(typeof l=="function"?l(j.value,C):j.value).concat(c||"")))});return b.length>0?S.createElement("g",{className:"recharts-cartesian-axis-ticks"},b):null}render(){var{axisLine:t,width:r,height:a,className:s,hide:i}=this.props;if(i)return null;var{ticks:o}=this.props;return r!=null&&r<=0||a!=null&&a<=0?null:S.createElement(al,{className:Gt("recharts-cartesian-axis",s),ref:l=>{if(l){var c=l.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(c);var u=c[0];if(u){var d=window.getComputedStyle(u).fontSize,A=window.getComputedStyle(u).letterSpacing;(d!==this.state.fontSize||A!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(u).fontSize,letterSpacing:window.getComputedStyle(u).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,o),S.createElement(jNe,{x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height},S.createElement(PNe,{label:this.props.label}),this.props.children))}}B8(L0,"displayName","CartesianAxis");B8(L0,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var cCe=["x1","y1","x2","y2","key"],dCe=["offset"],uCe=["xAxisId","yAxisId"],fCe=["xAxisId","yAxisId"];function GD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Gc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GD(Object(r),!0).forEach(function(a){hCe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function hCe(e,t,r){return(t=ACe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ACe(e){var t=mCe(e,"string");return typeof t=="symbol"?t:t+""}function mCe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yp(){return yp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},yp.apply(null,arguments)}function D4(e,t){if(e==null)return{};var r,a,s=pCe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function pCe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var gCe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:a,y:s,width:i,height:o,ry:l}=e;return S.createElement("rect",{x:a,y:s,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function PK(e,t){var r;if(S.isValidElement(e))r=S.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:a,y1:s,x2:i,y2:o,key:l}=t,c=D4(t,cCe),u=sA(c),{offset:d}=u,A=D4(u,dCe);r=S.createElement("line",yp({},A,{x1:a,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function xCe(e){var{x:t,width:r,horizontal:a=!0,horizontalPoints:s}=e;if(!a||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,l=D4(e,uCe),c=s.map((u,d)=>{var A=Gc(Gc({},l),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return PK(a,A)});return S.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function yCe(e){var{y:t,height:r,vertical:a=!0,verticalPoints:s}=e;if(!a||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,l=D4(e,fCe),c=s.map((u,d)=>{var A=Gc(Gc({},l),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return PK(a,A)});return S.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function vCe(e){var{horizontalFill:t,fillOpacity:r,x:a,y:s,width:i,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=l.map(A=>Math.round(A+s-s)).sort((A,m)=>A-m);s!==u[0]&&u.unshift(0);var d=u.map((A,m)=>{var h=!u[m+1],y=h?s+o-A:u[m+1]-A;if(y<=0)return null;var x=m%t.length;return S.createElement("rect",{key:"react-".concat(m),y:A,x:a,height:y,width:i,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function bCe(e){var{vertical:t=!0,verticalFill:r,fillOpacity:a,x:s,y:i,width:o,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(A=>Math.round(A+s-s)).sort((A,m)=>A-m);s!==u[0]&&u.unshift(0);var d=u.map((A,m)=>{var h=!u[m+1],y=h?s+o-A:u[m+1]-A;if(y<=0)return null;var x=m%r.length;return S.createElement("rect",{key:"react-".concat(m),x:A,y:i,width:y,height:l,stroke:"none",fill:r[x],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var wCe=(e,t)=>{var{xAxis:r,width:a,height:s,offset:i}=e;return _z(E8(Gc(Gc(Gc({},L0.defaultProps),r),{},{ticks:kz(r),viewBox:{x:0,y:0,width:a,height:s}})),i.left,i.left+i.width,t)},NCe=(e,t)=>{var{yAxis:r,width:a,height:s,offset:i}=e;return _z(E8(Gc(Gc(Gc({},L0.defaultProps),r),{},{ticks:kz(r),viewBox:{x:0,y:0,width:a,height:s}})),i.top,i.top+i.height,t)},jCe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function M4(e){var t=rT(),r=aT(),a=Dz(),s=Gc(Gc({},tu(e,jCe)),{},{x:na(e.x)?e.x:a.left,y:na(e.y)?e.y:a.top,width:na(e.width)?e.width:a.width,height:na(e.height)?e.height:a.height}),{xAxisId:i,yAxisId:o,x:l,y:c,width:u,height:d,syncWithTicks:A,horizontalValues:m,verticalValues:h}=s,y=eu(),x=sa(Q=>$O(Q,"xAxis",i,y)),v=sa(Q=>$O(Q,"yAxis",o,y));if(!na(u)||u<=0||!na(d)||d<=0||!na(l)||l!==+l||!na(c)||c!==+c)return null;var b=s.verticalCoordinatesGenerator||wCe,j=s.horizontalCoordinatesGenerator||NCe,{horizontalPoints:C,verticalPoints:E}=s;if((!C||!C.length)&&typeof j=="function"){var k=m&&m.length,D=j({yAxis:v?Gc(Gc({},v),{},{ticks:k?m:v.ticks}):void 0,width:t,height:r,offset:a},k?!0:A);Uy(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(C=D)}if((!E||!E.length)&&typeof b=="function"){var L=h&&h.length,F=b({xAxis:x?Gc(Gc({},x),{},{ticks:L?h:x.ticks}):void 0,width:t,height:r,offset:a},L?!0:A);Uy(Array.isArray(F),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof F,"]")),Array.isArray(F)&&(E=F)}return S.createElement("g",{className:"recharts-cartesian-grid"},S.createElement(gCe,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),S.createElement(vCe,yp({},s,{horizontalPoints:C})),S.createElement(bCe,yp({},s,{verticalPoints:E})),S.createElement(xCe,yp({},s,{offset:a,horizontalPoints:C,xAxis:x,yAxis:v})),S.createElement(yCe,yp({},s,{offset:a,verticalPoints:E,xAxis:x,yAxis:v})))}M4.displayName="CartesianGrid";var LK=(e,t,r,a)=>v0(e,"xAxis",t,a),OK=(e,t,r,a)=>y0(e,"xAxis",t,a),DK=(e,t,r,a)=>v0(e,"yAxis",r,a),MK=(e,t,r,a)=>y0(e,"yAxis",r,a),SCe=tr([On,LK,DK,OK,MK],(e,t,r,a,s)=>cm(e,"xAxis")?mv(t,a,!1):mv(r,s,!1)),CCe=(e,t,r,a,s)=>s,UK=tr([tN,CCe],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),ECe=(e,t,r,a,s)=>{var i,o=UK(e,t,r,a,s);if(o!=null){var l=On(e),c=cm(l,"xAxis"),u;if(c?u=wv(e,"yAxis",r,a):u=wv(e,"xAxis",t,a),u!=null){var{stackId:d}=o,A=Z5(o);if(!(d==null||A==null)){var m=(i=u[d])===null||i===void 0?void 0:i.stackedData;return m?.find(h=>h.key===A)}}}},BCe=tr([On,LK,DK,OK,MK,ECe,W5,SCe,UK],(e,t,r,a,s,i,o,l,c)=>{var{chartData:u,dataStartIndex:d,dataEndIndex:A}=o;if(!(c==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||a==null||s==null||a.length===0||s.length===0||l==null)){var{data:m}=c,h;if(m&&m.length>0?h=m:h=u?.slice(d,A+1),h!=null){var y=void 0;return WCe({layout:e,xAxis:t,yAxis:r,xAxisTicks:a,yAxisTicks:s,dataStartIndex:d,areaSettings:c,stackedData:i,displayedData:h,chartBaseValue:y,bandSize:l})}}}),TCe=["id"],FCe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function RK(e,t){if(e==null)return{};var r,a,s=_Ce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function _Ce(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function WD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function QA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WD(Object(r),!0).forEach(function(a){kCe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function kCe(e,t,r){return(t=ICe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ICe(e){var t=PCe(e,"string");return typeof t=="symbol"?t:t+""}function PCe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GA(){return GA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},GA.apply(null,arguments)}function U4(e,t){return e&&e!=="none"?e:t}var LCe=e=>{var{dataKey:t,name:r,stroke:a,fill:s,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:U4(a,s),value:Xx(r,t),payload:e}]};function OCe(e){var{dataKey:t,data:r,stroke:a,strokeWidth:s,fill:i,name:o,hide:l,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:a,strokeWidth:s,fill:i,dataKey:t,nameKey:void 0,name:Xx(o,t),hide:l,type:e.tooltipType,color:U4(a,i),unit:c}}}var DCe=(e,t)=>{var r;if(S.isValidElement(e))r=S.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var a=Gt("recharts-area-dot",typeof e!="boolean"?e.className:"");r=S.createElement(mK,GA({},t,{className:a}))}return r};function MCe(e,t){return e==null?!1:t?!0:e.length===1}function UCe(e){var{clipPathId:t,points:r,props:a}=e,{needClip:s,dot:i,dataKey:o}=a;if(!MCe(r,i))return null;var l=Y$(i),c=sA(a),u=eo(i,!0),d=r.map((m,h)=>{var y=QA(QA(QA({key:"dot-".concat(h),r:3},c),u),{},{index:h,cx:m.x,cy:m.y,dataKey:o,value:m.value,payload:m.payload,points:r});return DCe(i,y)}),A={clipPath:s?"url(#clipPath-".concat(l?"":"dots-").concat(t,")"):void 0};return S.createElement(al,GA({className:"recharts-area-dots"},A),d)}function RCe(e){var{showLabels:t,children:r,points:a}=e,s=a.map(i=>{var o={x:i.x,y:i.y,width:0,height:0};return QA(QA({},o),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:o,fill:void 0})});return S.createElement(hK,{value:t?s:null},r)}function YD(e){var{points:t,baseLine:r,needClip:a,clipPathId:s,props:i}=e,{layout:o,type:l,stroke:c,connectNulls:u,isRange:d}=i,{id:A}=i,m=RK(i,TCe),h=sA(m);return S.createElement(S.Fragment,null,t?.length>1&&S.createElement(al,{clipPath:a?"url(#clipPath-".concat(s,")"):void 0},S.createElement(Dy,GA({},h,{id:A,points:t,connectNulls:u,type:l,baseLine:r,layout:o,stroke:"none",className:"recharts-area-area"})),c!=="none"&&S.createElement(Dy,GA({},h,{className:"recharts-area-curve",layout:o,type:l,connectNulls:u,fill:"none",points:t})),c!=="none"&&d&&S.createElement(Dy,GA({},h,{className:"recharts-area-curve",layout:o,type:l,connectNulls:u,fill:"none",points:r}))),S.createElement(UCe,{points:t,props:m,clipPathId:s}))}function QCe(e){var{alpha:t,baseLine:r,points:a,strokeWidth:s}=e,i=a[0].y,o=a[a.length-1].y;if(!gc(i)||!gc(o))return null;var l=t*Math.abs(i-o),c=Math.max(...a.map(u=>u.x||0));return na(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(u=>u.x||0),c)),na(c)?S.createElement("rect",{x:0,y:i<o?i:i-l,width:c+(s?parseInt("".concat(s),10):1),height:Math.floor(l)}):null}function HCe(e){var{alpha:t,baseLine:r,points:a,strokeWidth:s}=e,i=a[0].x,o=a[a.length-1].x;if(!gc(i)||!gc(o))return null;var l=t*Math.abs(i-o),c=Math.max(...a.map(u=>u.y||0));return na(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(u=>u.y||0),c)),na(c)?S.createElement("rect",{x:i<o?i:i-l,y:0,width:l,height:Math.floor(c+(s?parseInt("".concat(s),10):1))}):null}function $Ce(e){var{alpha:t,layout:r,points:a,baseLine:s,strokeWidth:i}=e;return r==="vertical"?S.createElement(QCe,{alpha:t,points:a,baseLine:s,strokeWidth:i}):S.createElement(HCe,{alpha:t,points:a,baseLine:s,strokeWidth:i})}function zCe(e){var{needClip:t,clipPathId:r,props:a,previousPointsRef:s,previousBaselineRef:i}=e,{points:o,baseLine:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:A,onAnimationStart:m,onAnimationEnd:h}=a,y=r2(a,"recharts-area-"),[x,v]=S.useState(!1),b=!x,j=S.useCallback(()=>{typeof h=="function"&&h(),v(!1)},[h]),C=S.useCallback(()=>{typeof m=="function"&&m(),v(!0)},[m]),E=s.current,k=i.current;return S.createElement(RCe,{showLabels:b,points:o},a.children,S.createElement(t2,{animationId:y,begin:u,duration:d,isActive:c,easing:A,onAnimationEnd:j,onAnimationStart:C,key:y},D=>{if(E){var L=E.length/o.length,F=D===1?o:o.map((U,P)=>{var I=Math.floor(P*L);if(E[I]){var z=E[I];return QA(QA({},U),{},{x:Ji(z.x,U.x,D),y:Ji(z.y,U.y,D)})}return U}),Q;return na(l)?Q=Ji(k,l,D):to(l)||Xd(l)?Q=Ji(k,0,D):Q=l.map((U,P)=>{var I=Math.floor(P*L);if(Array.isArray(k)&&k[I]){var z=k[I];return QA(QA({},U),{},{x:Ji(z.x,U.x,D),y:Ji(z.y,U.y,D)})}return U}),D>0&&(s.current=F,i.current=Q),S.createElement(YD,{points:F,baseLine:Q,needClip:t,clipPathId:r,props:a})}return D>0&&(s.current=o,i.current=l),S.createElement(al,null,c&&S.createElement("defs",null,S.createElement("clipPath",{id:"animationClipPath-".concat(r)},S.createElement($Ce,{alpha:D,points:o,baseLine:l,layout:a.layout,strokeWidth:a.strokeWidth}))),S.createElement(al,{clipPath:"url(#animationClipPath-".concat(r,")")},S.createElement(YD,{points:o,baseLine:l,needClip:t,clipPathId:r,props:a})))}),S.createElement(u8,{label:a.label}))}function VCe(e){var{needClip:t,clipPathId:r,props:a}=e,s=S.useRef(null),i=S.useRef();return S.createElement(zCe,{needClip:t,clipPathId:r,props:a,previousPointsRef:s,previousBaselineRef:i})}class qCe extends S.PureComponent{render(){var t,{hide:r,dot:a,points:s,className:i,top:o,left:l,needClip:c,xAxisId:u,yAxisId:d,width:A,height:m,id:h,baseLine:y}=this.props;if(r)return null;var x=Gt("recharts-area",i),v=h,{r:b=3,strokeWidth:j=2}=(t=eo(a,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},C=Y$(a),E=b*2+j;return S.createElement(S.Fragment,null,S.createElement(al,{className:x},c&&S.createElement("defs",null,S.createElement(EK,{clipPathId:v,xAxisId:u,yAxisId:d}),!C&&S.createElement("clipPath",{id:"clipPath-dots-".concat(v)},S.createElement("rect",{x:l-E/2,y:o-E/2,width:A+E,height:m+E}))),S.createElement(VCe,{needClip:c,clipPathId:v,props:this.props})),S.createElement(UD,{points:s,mainColor:U4(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(y)&&S.createElement(UD,{points:y,mainColor:U4(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var QK={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!og.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function KCe(e){var t,r=tu(e,QK),{activeDot:a,animationBegin:s,animationDuration:i,animationEasing:o,connectNulls:l,dot:c,fill:u,fillOpacity:d,hide:A,isAnimationActive:m,legendType:h,stroke:y,xAxisId:x,yAxisId:v}=r,b=RK(r,FCe),j=H5(),C=Wq(),{needClip:E}=S8(x,v),k=eu(),{points:D,isRange:L,baseLine:F}=(t=sa(W=>BCe(W,x,v,k,e.id)))!==null&&t!==void 0?t:{},Q=N8();if(j!=="horizontal"&&j!=="vertical"||Q==null||C!=="AreaChart"&&C!=="ComposedChart")return null;var{height:U,width:P,x:I,y:z}=Q;return!D||!D.length?null:S.createElement(qCe,GA({},b,{activeDot:a,animationBegin:s,animationDuration:i,animationEasing:o,baseLine:F,connectNulls:l,dot:c,fill:u,fillOpacity:d,height:U,hide:A,layout:j,isAnimationActive:m,isRange:L,legendType:h,needClip:E,points:D,stroke:y,width:P,left:I,top:z,xAxisId:x,yAxisId:v}))}var GCe=(e,t,r,a,s)=>{var i=r??t;if(na(i))return i;var o=e==="horizontal"?s:a,l=o.scale.domain();if(o.type==="number"){var c=Math.max(l[0],l[1]),u=Math.min(l[0],l[1]);return i==="dataMin"?u:i==="dataMax"||c<0?c:Math.max(Math.min(l[0],l[1]),0)}return i==="dataMin"?l[0]:i==="dataMax"?l[1]:l[0]};function WCe(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:a},stackedData:s,layout:i,chartBaseValue:o,xAxis:l,yAxis:c,displayedData:u,dataStartIndex:d,xAxisTicks:A,yAxisTicks:m,bandSize:h}=e,y=s&&s.length,x=GCe(i,o,r,l,c),v=i==="horizontal",b=!1,j=u.map((E,k)=>{var D;y?D=s[d+k]:(D=ti(E,a),Array.isArray(D)?b=!0:D=[x,D]);var L=D[1]==null||y&&!t&&ti(E,a)==null;return v?{x:jL({axis:l,ticks:A,bandSize:h,entry:E,index:k}),y:L?null:c.scale(D[1]),value:D,payload:E}:{x:L?null:l.scale(D[1]),y:jL({axis:c,ticks:m,bandSize:h,entry:E,index:k}),value:D,payload:E}}),C;return y||b?C=j.map(E=>{var k=Array.isArray(E.value)?E.value[0]:null;return v?{x:E.x,y:k!=null&&E.y!=null?c.scale(k):null,payload:E.payload}:{x:k!=null?l.scale(k):null,y:E.y,payload:E.payload}}):C=v?c.scale(x):l.scale(x),{points:j,baseLine:C,isRange:b}}function R4(e){var t=tu(e,QK),r=eu();return S.createElement(v8,{id:t.id,type:"area"},a=>S.createElement(S.Fragment,null,S.createElement(wK,{legendPayload:LCe(t)}),S.createElement(y8,{fn:OCe,args:t}),S.createElement(jK,{type:"area",id:a,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:Iz(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),S.createElement(KCe,GA({},t,{id:a}))))}R4.displayName="Area";var YCe=["children"],XCe=["dangerouslySetInnerHTML","ticks"],JCe=["id"];function HK(e,t,r){return(t=ZCe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZCe(e){var t=e6e(e,"string");return typeof t=="symbol"?t:t+""}function e6e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z6(){return Z6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Z6.apply(null,arguments)}function eE(e,t){if(e==null)return{};var r,a,s=t6e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function t6e(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function r6e(e){var t=ao(),r=S.useMemo(()=>{var{children:a}=e,s=eE(e,YCe);return s},[e]);return S.useEffect(()=>(t(ASe(r)),()=>{t(mSe(r))}),[r,t]),e.children}var a6e=e=>{var{xAxisId:t,className:r}=e,a=sa(eT),s=eu(),i="xAxis",o=sa(v=>n1(v,i,t,s)),l=sa(v=>Bq(v,i,t,s)),c=sa(v=>jq(v,t)),u=sa(v=>Xwe(v,t)),d=sa(v=>tq(v,t));if(c==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:A,ticks:m}=e,h=eE(e,XCe),{id:y}=d,x=eE(d,JCe);return S.createElement(L0,Z6({},h,x,{scale:o,x:u.x,y:u.y,width:c.width,height:c.height,className:Gt("recharts-".concat(i," ").concat(i),r),viewBox:a,ticks:l}))},n6e=e=>{var t,r,a,s,i;return S.createElement(r6e,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(a=e.angle)!==null&&a!==void 0?a:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter},S.createElement(a6e,e))};class jv extends S.Component{render(){return S.createElement(n6e,this.props)}}HK(jv,"displayName","XAxis");HK(jv,"defaultProps",{allowDataOverflow:wu.allowDataOverflow,allowDecimals:wu.allowDecimals,allowDuplicatedCategory:wu.allowDuplicatedCategory,height:wu.height,hide:!1,mirror:wu.mirror,orientation:wu.orientation,padding:wu.padding,reversed:wu.reversed,scale:wu.scale,tickCount:wu.tickCount,type:wu.type,xAxisId:0});var s6e=e=>{var{ticks:t,label:r,labelGapWithTick:a=5,tickSize:s=0,tickMargin:i=0}=e,o=0;if(t){t.forEach(d=>{if(d){var A=d.getBoundingClientRect();A.width>o&&(o=A.width)}});var l=r?r.getBoundingClientRect().width:0,c=s+i,u=o+c+l+(r?a:0);return Math.round(u)}return 0},i6e=["dangerouslySetInnerHTML","ticks"],o6e=["id"];function $K(e,t,r){return(t=l6e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l6e(e){var t=c6e(e,"string");return typeof t=="symbol"?t:t+""}function c6e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tE(){return tE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},tE.apply(null,arguments)}function XD(e,t){if(e==null)return{};var r,a,s=d6e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function d6e(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function u6e(e){var t=ao();return S.useEffect(()=>(t(pSe(e)),()=>{t(gSe(e))}),[e,t]),null}var f6e=e=>{var t,{yAxisId:r,className:a,width:s,label:i}=e,o=S.useRef(null),l=S.useRef(null),c=sa(eT),u=eu(),d=ao(),A="yAxis",m=sa(D=>n1(D,A,r,u)),h=sa(D=>Sq(D,r)),y=sa(D=>Jwe(D,r)),x=sa(D=>Bq(D,A,r,u)),v=sa(D=>rq(D,r));if(S.useLayoutEffect(()=>{var D;if(!(s!=="auto"||!h||d8(i)||S.isValidElement(i)||v==null)){var L=o.current,F=L==null||(D=L.tickRefs)===null||D===void 0?void 0:D.current,{tickSize:Q,tickMargin:U}=L.props,P=s6e({ticks:F,label:l.current,labelGapWithTick:5,tickSize:Q,tickMargin:U});Math.round(h.width)!==Math.round(P)&&d(xSe({id:r,width:P}))}},[o,o==null||(t=o.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,h?.width,h,d,i,r,s]),h==null||y==null||v==null)return null;var{dangerouslySetInnerHTML:b,ticks:j}=e,C=XD(e,i6e),{id:E}=v,k=XD(v,o6e);return S.createElement(L0,tE({},C,k,{ref:o,labelRef:l,scale:m,x:y.x,y:y.y,tickTextProps:s==="auto"?{width:void 0}:{width:s},width:h.width,height:h.height,className:Gt("recharts-".concat(A," ").concat(A),a),viewBox:c,ticks:x}))},h6e=e=>{var t,r,a,s,i;return S.createElement(S.Fragment,null,S.createElement(u6e,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(a=e.angle)!==null&&a!==void 0?a:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter}),S.createElement(f6e,e))},A6e={allowDataOverflow:Nu.allowDataOverflow,allowDecimals:Nu.allowDecimals,allowDuplicatedCategory:Nu.allowDuplicatedCategory,hide:!1,mirror:Nu.mirror,orientation:Nu.orientation,padding:Nu.padding,reversed:Nu.reversed,scale:Nu.scale,tickCount:Nu.tickCount,type:Nu.type,width:Nu.width,yAxisId:0};class Sv extends S.Component{render(){return S.createElement(h6e,this.props)}}$K(Sv,"displayName","YAxis");$K(Sv,"defaultProps",A6e);var m6e=(e,t)=>t,T8=tr([m6e,On,JV,wl,$q,hm,r5e,vl],o5e),F8=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,a=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/a)}},zK=jd("mouseClick"),VK=Yv();VK.startListening({actionCreator:zK,effect:(e,t)=>{var r=e.payload,a=T8(t.getState(),F8(r));a?.activeIndex!=null&&t.dispatch(u4e({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}});var rE=jd("mouseMove"),qK=Yv();qK.startListening({actionCreator:rE,effect:(e,t)=>{var r=e.payload,a=t.getState(),s=e8(a,a.tooltip.settings.shared),i=T8(a,F8(r));s==="axis"&&(i?.activeIndex!=null?t.dispatch(Oq({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(Lq()))}});function p6e(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var JD={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},KK=td({name:"rootProps",initialState:JD,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:JD.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),g6e=KK.reducer,{updateOptions:x6e}=KK.actions,GK=td({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:y6e}=GK.actions,v6e=GK.reducer,WK=jd("keyDown"),YK=jd("focus"),_8=Yv();_8.startListening({actionCreator:WK,effect:(e,t)=>{var r=t.getState(),a=r.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:s}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Number(t8(s,i1(r))),l=hm(r);if(i==="Enter"){var c=_4(r,"axis","hover",String(s.index));t.dispatch(q6({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:c}));return}var u=r4e(r),d=u==="left-to-right"?1:-1,A=i==="ArrowRight"?1:-1,m=o+A*d;if(!(l==null||m>=l.length||m<0)){var h=_4(r,"axis","hover",String(m));t.dispatch(q6({active:!0,activeIndex:m.toString(),activeDataKey:void 0,activeCoordinate:h}))}}}}});_8.startListening({actionCreator:YK,effect:(e,t)=>{var r=t.getState(),a=r.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:s}=r.tooltip;if(!s.active&&s.index==null){var i="0",o=_4(r,"axis","hover",String(i));t.dispatch(q6({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var nf=jd("externalEvent"),XK=Yv();XK.startListening({actionCreator:nf,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),a={activeCoordinate:K4e(r),activeDataKey:Kq(r),activeIndex:b0(r),activeLabel:qq(r),activeTooltipIndex:b0(r),isTooltipActive:G4e(r)};e.payload.handler(a,e.payload.reactEvent)}}});var b6e=tr([s1],e=>e.tooltipItemPayloads),w6e=tr([b6e,f2,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,a)=>{var s=e.find(l=>l.settings.dataKey===a);if(s!=null){var{positions:i}=s;if(i!=null){var o=t(i,r);return o}}}),JK=jd("touchMove"),ZK=Yv();ZK.startListening({actionCreator:JK,effect:(e,t)=>{var r=e.payload,a=t.getState(),s=e8(a,a.tooltip.settings.shared);if(s==="axis"){var i=T8(a,F8({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));i?.activeIndex!=null&&t.dispatch(Oq({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(s==="item"){var o,l=r.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(Lz),d=(o=c.getAttribute(Oz))!==null&&o!==void 0?o:void 0,A=w6e(t.getState(),u,d);t.dispatch(Pq({activeDataKey:d,activeIndex:u,activeCoordinate:A}))}}});var N6e=VQ({brush:U3e,cartesianAxis:ySe,chartData:N5e,errorBars:MSe,graphicalItems:Mje,layout:i1e,legend:W1e,options:x5e,polarAxis:tje,polarOptions:v6e,referenceElements:q3e,rootProps:g6e,tooltip:f4e}),j6e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return aH({reducer:N6e,preloadedState:t,middleware:a=>a({serializableCheck:!1}).concat([VK.middleware,qK.middleware,_8.middleware,XK.middleware,ZK.middleware]),devTools:!!window.RECHARTS_DEV_TOOLS_ENABLED&&{serialize:{replacer:p6e},name:"recharts-".concat(r)}})};function eG(e){var{preloadedState:t,children:r,reduxStoreName:a}=e,s=eu(),i=S.useRef(null);if(s)return r;i.current==null&&(i.current=j6e(t,a));var o=ZB;return S.createElement(RQ,{context:o,store:i.current},r)}function tG(e){var{layout:t,width:r,height:a,margin:s}=e,i=ao(),o=eu();return S.useEffect(()=>{o||(i(a1e(t)),i(n1e({width:r,height:a})),i(r1e(s)))},[i,o,t,r,a,s]),null}function rG(e){var t=ao();return S.useEffect(()=>{t(x6e(e))},[t,e]),null}var S6e=["children"];function C6e(e,t){if(e==null)return{};var r,a,s=E6e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function E6e(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Q4(){return Q4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Q4.apply(null,arguments)}var B6e={width:"100%",height:"100%"},T6e=S.forwardRef((e,t)=>{var r=rT(),a=aT(),s=Qz();if(!_x(r)||!_x(a))return null;var{children:i,otherAttributes:o,title:l,desc:c}=e,u,d;return typeof o.tabIndex=="number"?u=o.tabIndex:u=s?0:void 0,typeof o.role=="string"?d=o.role:d=s?"application":void 0,S.createElement(zB,Q4({},o,{title:l,desc:c,role:d,tabIndex:u,width:r,height:a,style:B6e,ref:t}),i)}),F6e=e=>{var{children:t}=e,r=sa(Q5);if(!r)return null;var{width:a,height:s,y:i,x:o}=r;return S.createElement(zB,{width:a,height:s,x:o,y:i},t)},ZD=S.forwardRef((e,t)=>{var{children:r}=e,a=C6e(e,S6e),s=eu();return s?S.createElement(F6e,null,r):S.createElement(T6e,Q4({ref:t},a),r)});function _6e(){var e=ao(),[t,r]=S.useState(null),a=sa(P1e);return S.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),i=s.width/t.offsetWidth;gc(i)&&i!==a&&e(s1e(i))}},[t,e,a]),r}function eM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function k6e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eM(Object(r),!0).forEach(function(a){I6e(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eM(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function I6e(e,t,r){return(t=P6e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P6e(e){var t=L6e(e,"string");return typeof t=="symbol"?t:t+""}function L6e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var O6e=S.forwardRef((e,t)=>{var{children:r,className:a,height:s,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:A,onMouseUp:m,onTouchEnd:h,onTouchMove:y,onTouchStart:x,style:v,width:b}=e,j=ao(),[C,E]=S.useState(null),[k,D]=S.useState(null);k5e();var L=_6e(),F=S.useCallback(B=>{L(B),typeof t=="function"&&t(B),E(B),D(B)},[L,t,E,D]),Q=S.useCallback(B=>{j(zK(B)),j(nf({handler:i,reactEvent:B}))},[j,i]),U=S.useCallback(B=>{j(rE(B)),j(nf({handler:u,reactEvent:B}))},[j,u]),P=S.useCallback(B=>{j(Lq()),j(nf({handler:d,reactEvent:B}))},[j,d]),I=S.useCallback(B=>{j(rE(B)),j(nf({handler:A,reactEvent:B}))},[j,A]),z=S.useCallback(()=>{j(YK())},[j]),W=S.useCallback(B=>{j(WK(B.key))},[j]),ie=S.useCallback(B=>{j(nf({handler:o,reactEvent:B}))},[j,o]),X=S.useCallback(B=>{j(nf({handler:l,reactEvent:B}))},[j,l]),le=S.useCallback(B=>{j(nf({handler:c,reactEvent:B}))},[j,c]),re=S.useCallback(B=>{j(nf({handler:m,reactEvent:B}))},[j,m]),he=S.useCallback(B=>{j(nf({handler:x,reactEvent:B}))},[j,x]),de=S.useCallback(B=>{j(JK(B)),j(nf({handler:y,reactEvent:B}))},[j,y]),ve=S.useCallback(B=>{j(nf({handler:h,reactEvent:B}))},[j,h]);return S.createElement(eK.Provider,{value:C},S.createElement(X$.Provider,{value:k},S.createElement("div",{className:Gt("recharts-wrapper",a),style:k6e({position:"relative",cursor:"default",width:b,height:s},v),onClick:Q,onContextMenu:ie,onDoubleClick:X,onFocus:z,onKeyDown:W,onMouseDown:le,onMouseEnter:U,onMouseLeave:P,onMouseMove:I,onMouseUp:re,onTouchEnd:ve,onTouchMove:de,onTouchStart:he,ref:F},r)))}),D6e=["children","className","width","height","style","compact","title","desc"];function M6e(e,t){if(e==null)return{};var r,a,s=U6e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function U6e(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var aG=S.forwardRef((e,t)=>{var{children:r,className:a,width:s,height:i,style:o,compact:l,title:c,desc:u}=e,d=M6e(e,D6e),A=sA(d);return l?S.createElement(ZD,{otherAttributes:A,title:c,desc:u},r):S.createElement(O6e,{className:a,style:o,width:s,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},S.createElement(ZD,{otherAttributes:A,title:c,desc:u,ref:t},S.createElement(G3e,null,r)))}),R6e=["width","height"];function aE(){return aE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},aE.apply(null,arguments)}function Q6e(e,t){if(e==null)return{};var r,a,s=H6e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function H6e(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var $6e={top:5,right:5,bottom:5,left:5},z6e={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:$6e,reverseStackOrder:!1,syncMethod:"index"},nG=S.forwardRef(function(t,r){var a,s=tu(t.categoricalChartProps,z6e),{width:i,height:o}=s,l=Q6e(s,R6e);if(!_x(i)||!_x(o))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:A,categoricalChartProps:m}=t,h={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:A,eventEmitter:void 0};return S.createElement(eG,{preloadedState:{options:h},reduxStoreName:(a=m.id)!==null&&a!==void 0?a:c},S.createElement(FK,{chartData:m.data}),S.createElement(tG,{width:i,height:o,layout:s.layout,margin:s.margin}),S.createElement(rG,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),S.createElement(aG,aE({},l,{width:i,height:o,ref:r})))}),V6e=["axis","item"],q6e=S.forwardRef((e,t)=>S.createElement(nG,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:V6e,tooltipPayloadSearcher:c8,categoricalChartProps:e,ref:t}));function K6e(e){var t=ao();return S.useEffect(()=>{t(y6e(e))},[t,e]),null}var G6e=["width","height","layout"];function nE(){return nE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},nE.apply(null,arguments)}function W6e(e,t){if(e==null)return{};var r,a,s=Y6e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Y6e(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var X6e={top:5,right:5,bottom:5,left:5},J6e={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:X6e,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},Z6e=S.forwardRef(function(t,r){var a,s=tu(t.categoricalChartProps,J6e),{width:i,height:o,layout:l}=s,c=W6e(s,G6e);if(!_x(i)||!_x(o))return null;var{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:A,tooltipPayloadSearcher:m}=t,h={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:A,tooltipPayloadSearcher:m,eventEmitter:void 0};return S.createElement(eG,{preloadedState:{options:h},reduxStoreName:(a=s.id)!==null&&a!==void 0?a:u},S.createElement(FK,{chartData:s.data}),S.createElement(tG,{width:i,height:o,layout:l,margin:s.margin}),S.createElement(rG,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),S.createElement(K6e,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),S.createElement(aG,nE({width:i,height:o},c,{ref:r})))}),eEe=["item"],tEe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},sG=S.forwardRef((e,t)=>{var r=tu(e,tEe);return S.createElement(Z6e,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:eEe,tooltipPayloadSearcher:c8,categoricalChartProps:r,ref:t})}),rEe=["axis"],iG=S.forwardRef((e,t)=>S.createElement(nG,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:rEe,tooltipPayloadSearcher:c8,categoricalChartProps:e,ref:t}));const fy="http://localhost:5000/api",aEe=()=>{const[e,t]=S.useState(!0),[r,a]=S.useState(null),[s,i]=S.useState(!1),[o,l]=S.useState({stats:{totalStudents:0,totalAssignments:0,totalTeachers:0},monthlyData:[],classDistribution:[],subjectPerformance:[],recentActivities:[]}),c=C=>{switch(C){case"student":return n.jsx(rn,{className:"w-4 h-4 text-blue-600"});case"assignment":return n.jsx(qh,{className:"w-4 h-4 text-green-600"});case"teacher":return n.jsx(ks,{className:"w-4 h-4 text-red-600"});default:return n.jsx(Ia,{className:"w-4 h-4 text-gray-600"})}},u=async(C=!1)=>{C?i(!0):t(!0),a(null);const E=localStorage.getItem("adminToken")||localStorage.getItem("token"),k=localStorage.getItem("schoolId");console.log("Dashboard fetch - Token:",!!E,"SchoolId:",k);const D=E?{Authorization:`Bearer ${E}`}:{};try{const L=k?`${fy}/students/school/${k}`:`${fy}/students/${k}`,F=k?`http://localhost:5000/api/teacher/${k}`:`${fy}/teachers`;console.log("Fetching from URLs:",{studentsUrl:L,teachersUrl:F});const[Q,U]=await Promise.all([Vt.get(L,{headers:D}),Vt.get(F,{headers:D})]);console.log("API Responses:",{students:Q.data,teachers:U.data});const P=Q.data,I=U.data,z=P?.data||P||[],W=I?.data||I||[];console.log(`Loaded ${z.length} students and ${W.length} teachers`);const ie=[];for(const Ae of z)try{const Y=k?`${fy}/assignments/student?studentId=${Ae._id}&schoolId=${k}`:`${fy}/assignments/student?studentId=${Ae._id}`,se=await Vt.get(Y,{headers:D});if(se.data?.success&&se.data?.data){const ee=se.data.data.map(be=>{const Ce=ce=>{if(ce.classId?.className){let J=ce.classId.className;return ce.classId.section&&(J+=` ${ce.classId.section}`),J}else if(ce.className){let J=ce.className;return ce.section&&ce.section!=="N/A"&&(J+=` ${ce.section}`),J}else if(ce.class)return ce.class;return"Unknown"};return{...be,id:be._id,studentName:Ae.name,rollNo:Ae.rollNumber||Ae.rollNo,class:Ce(Ae),priority:(be.priority||"MEDIUM").toUpperCase(),dueDate:be.dueDate?be.dueDate.split("T")[0]:new Date().toISOString().split("T")[0],createdAt:be.createdAt||new Date().toISOString()}});ie.push(...ee)}}catch(Y){console.warn(`Could not fetch assignments for student ${Ae._id}:`,Y.message)}console.log(`Loaded ${ie.length} assignments`);const X=z.length,le=W.length,re=ie.length,he=new Map;for(let Ae=5;Ae>=0;Ae--){const Y=new Date;Y.setMonth(Y.getMonth()-Ae);const se=Y.toLocaleString("en-US",{month:"short",year:"numeric"});he.set(se,{month:Y.toLocaleString("en-US",{month:"short"}),students:0,assignments:0})}z.forEach(Ae=>{if(Ae.createdAt){const Y=new Date(Ae.createdAt).toLocaleString("en-US",{month:"short",year:"numeric"});he.has(Y)&&(he.get(Y).students+=1)}}),ie.forEach(Ae=>{if(Ae.createdAt){const Y=new Date(Ae.createdAt).toLocaleString("en-US",{month:"short",year:"numeric"});he.has(Y)&&(he.get(Y).assignments+=1)}});const de=Array.from(he.values()).sort((Ae,Y)=>{const se=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return se.indexOf(Ae.month)-se.indexOf(Y.month)}),ve=new Map;z.forEach(Ae=>{const Y=Ae.classId?.name||Ae.class||"Unknown Class";ve.set(Y,(ve.get(Y)||0)+1)});const B=Array.from(ve.entries()).map(([Ae,Y],se)=>({name:Ae,value:Y,color:["#3B82F6","#10B981","#F59E0B","#EF4444","#6B7280","#8B5CF6"][se%6]})),R=new Map;ie.forEach(Ae=>{const Y=Ae.subject||"Unknown Subject";R.has(Y)||R.set(Y,{subject:Y,assignments:0,completed:0,pending:0});const se=R.get(Y);se.assignments+=1,Ae.status==="submitted"||Ae.status==="graded"?se.completed+=1:se.pending+=1});const G=Array.from(R.values()),ne=[],pe=Ae=>{if(Ae.classId?.className){let Y=Ae.classId.className;return Ae.classId.section&&(Y+=` ${Ae.classId.section}`),Y}else if(Ae.className){let Y=Ae.className;return Ae.section&&Ae.section!=="N/A"&&(Y+=` ${Ae.section}`),Y}else if(Ae.class)return Ae.class;return"Unknown"};z.forEach(Ae=>{Ae.name==="Kiran"&&console.log("Student Kiran data:",{classId:Ae.classId,className:Ae.className,section:Ae.section,class:Ae.class,fullObject:Ae}),ne.push({id:Ae._id,type:"student",message:`New student ${Ae.name} enrolled in Class ${pe(Ae)}`,time:Ae.createdAt||new Date().toISOString()})}),W.forEach(Ae=>{let Y="Unknown";if(Ae.subject)Y=Ae.subject;else if(Ae.subjects&&Ae.subjects.length>0)Y=Ae.subjects.length===1?Ae.subjects[0]:`${Ae.subjects[0]} (+${Ae.subjects.length-1} more)`;else if(Ae.classSubjects&&Ae.classSubjects.length>0){const se=Ae.classSubjects.flatMap(be=>be.subjects||[]),ee=[...new Set(se)];ee.length>0&&(Y=ee.length===1?ee[0]:`${ee[0]} (+${ee.length-1} more)`)}Ae.name==="Demo Teachers"&&console.log("Teacher Demo Teachers data:",{subject:Ae.subject,subjects:Ae.subjects,classSubjects:Ae.classSubjects,calculatedDepartment:Y,fullObject:Ae}),ne.push({id:Ae._id,type:"teacher",message:`New teacher ${Ae.name} joined ${Y} department`,time:Ae.createdAt||new Date().toISOString()})}),ie.forEach(Ae=>ne.push({id:Ae._id,type:"assignment",message:`${Ae.subject||"Unknown"} assignment "${Ae.title||"Untitled"}" ${Ae.status||"created"} by ${Ae.studentName}`,time:Ae.createdAt||new Date().toISOString()}));const xe=ne.sort((Ae,Y)=>new Date(Y.time).getTime()-new Date(Ae.time).getTime()).slice(0,5);l({stats:{totalStudents:X,totalAssignments:re,totalTeachers:le},monthlyData:de,classDistribution:B,subjectPerformance:G,recentActivities:xe}),console.log("Dashboard data updated successfully")}catch(L){console.error("Failed to fetch dashboard data:",L);let F="Failed to load dashboard data.";if(Vt.isAxiosError(L))if(L.response){const Q=L.response.status,U=L.response.data?.message;Q===401?(F="Session expired. Please login again.",localStorage.removeItem("adminToken"),localStorage.removeItem("token"),localStorage.removeItem("schoolId"),setTimeout(()=>{window.location.href="/login"},2e3)):Q===403?F="Access denied. Please check your permissions.":Q===404?F="Data not found. Please contact support.":Q>=500?F="Server error. Please try again later.":F=U||`Error: ${Q}`}else L.request?F="Network error. Please check your internet connection and try again.":F=`Request error: ${L.message}`;else F=`Unexpected error: ${L.message}`;a(F)}finally{t(!1),i(!1)}},d=()=>{u(!0)},A=()=>{a(null),u()};S.useEffect(()=>{u()},[]);const{stats:m,monthlyData:h,classDistribution:y,subjectPerformance:x,recentActivities:v}=o;if(e)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Rr,{className:"w-12 h-12 text-blue-600 animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-lg text-gray-700",children:"Loading dashboard data..."}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Please wait while we fetch your school's information"})]})});if(r)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:n.jsx("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Da,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Oops! Something went wrong"}),n.jsx("p",{className:"text-gray-600 mb-6",children:r}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("button",{onClick:A,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Try Again"}),n.jsx("button",{onClick:()=>a(null),className:"w-full bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Dismiss"})]})]})})});const b=localStorage.getItem("color")||"#3B82F6",j=localStorage.getItem("schoolName")||"School";return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:Gt("text-white p-6 rounded-b-3xl shadow-lg"),style:{backgroundColor:b},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold",children:[j," Dashboard"]}),n.jsx("p",{className:"text-blue-100 mt-2",children:"Welcome back! Here's what's happening at your school today."})]}),n.jsx("div",{className:"text-right",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("button",{onClick:d,disabled:s,className:"bg-white/20 hover:bg-white/30 text-white p-2 rounded-lg transition-colors disabled:opacity-50",title:"Refresh Data",children:n.jsx(ih,{className:`w-5 h-5 ${s?"animate-spin":""}`})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-blue-100",children:"Today"}),n.jsx("p",{className:"text-xl font-semibold",children:new Date().toLocaleDateString("en-IN")})]})]})})]})}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m.totalStudents.toLocaleString()}),n.jsxs("div",{className:"flex items-center mt-2",children:[n.jsx(t0,{className:"w-4 h-4 text-green-500 mr-1"}),n.jsx("span",{className:"text-sm text-green-600",children:"Active students"})]})]}),n.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:n.jsx(rn,{className:"w-6 h-6 text-blue-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Assignments"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m.totalAssignments}),n.jsxs("div",{className:"flex items-center mt-2",children:[n.jsx(t0,{className:"w-4 h-4 text-green-500 mr-1"}),n.jsx("span",{className:"text-sm text-green-600",children:"All assignments"})]})]}),n.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:n.jsx(qh,{className:"w-6 h-6 text-green-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Teachers"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m.totalTeachers}),n.jsxs("div",{className:"flex items-center mt-2",children:[n.jsx(t0,{className:"w-4 h-4 text-green-500 mr-1"}),n.jsx("span",{className:"text-sm text-green-600",children:"Active teachers"})]})]}),n.jsx("div",{className:"p-3 bg-purple-100 rounded-xl",children:n.jsx(ks,{className:"w-6 h-6 text-purple-600"})})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-6",children:"Monthly Overview"}),h.length>0?n.jsx(Ry,{width:"100%",height:300,children:n.jsxs(iG,{data:h,margin:{top:10,right:30,left:0,bottom:0},children:[n.jsx(M4,{strokeDasharray:"3 3"}),n.jsx(jv,{dataKey:"month"}),n.jsx(Sv,{}),n.jsx(My,{}),n.jsx(kp,{}),n.jsx(R4,{type:"monotone",dataKey:"students",stroke:"#8884d8",fill:"#8884d8",name:"Students"}),n.jsx(R4,{type:"monotone",dataKey:"assignments",stroke:"#82ca9d",fill:"#82ca9d",name:"Assignments"})]})}):n.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Ia,{className:"w-12 h-12 mx-auto mb-3"}),n.jsx("p",{children:"No monthly data available"})]})})]}),n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-6",children:"Recent Activities"}),n.jsx("div",{className:"space-y-4",children:v.length>0?v.map(C=>n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"p-2 bg-gray-100 rounded-full flex-shrink-0",children:c(C.type)}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm text-gray-800",children:C.message}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(C.time).toLocaleString()})]})]},C.id)):n.jsxs("div",{className:"text-center py-10 text-gray-500",children:[n.jsx(Ia,{className:"w-10 h-10 mx-auto mb-3"}),n.jsx("p",{children:"No recent activities to display."})]})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-6",children:"Class Distribution"}),y.length>0?n.jsx(Ry,{width:"100%",height:300,children:n.jsxs(sG,{children:[n.jsx(w8,{data:y,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",nameKey:"name",children:y.map((C,E)=>n.jsx(o1,{fill:C.color},`cell-${E}`))}),n.jsx(My,{}),n.jsx(kp,{})]})}):n.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:n.jsxs("div",{className:"text-center",children:[n.jsx(rn,{className:"w-12 h-12 mx-auto mb-3"}),n.jsx("p",{children:"No class data available"})]})})]}),n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-6",children:"Assignment Progress by Subject"}),x.length>0?n.jsx(Ry,{width:"100%",height:300,children:n.jsxs(q6e,{data:x,children:[n.jsx(M4,{strokeDasharray:"3 3"}),n.jsx(jv,{dataKey:"subject"}),n.jsx(Sv,{}),n.jsx(My,{}),n.jsx(kp,{}),n.jsx(J6,{dataKey:"completed",stackId:"a",fill:"#10B981",name:"Completed"}),n.jsx(J6,{dataKey:"pending",stackId:"a",fill:"#F59E0B",name:"Pending"})]})}):n.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:n.jsxs("div",{className:"text-center",children:[n.jsx(qh,{className:"w-12 h-12 mx-auto mb-3"}),n.jsx("p",{children:"No assignment data available"})]})})]})]}),n.jsx("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[n.jsx("div",{children:n.jsxs("span",{children:["School ID: ",localStorage.getItem("schoolId")||"Not set"]})}),n.jsx("div",{children:n.jsxs("span",{children:["Last updated: ",new Date().toLocaleString("en-IN")]})})]})})]})]})},nEe="http://localhost:5000/api",sEe=()=>{const[e,t]=S.useState(!1),[r,a]=S.useState(null),[s,i]=S.useState(!1),[o,l]=S.useState(""),[c,u]=S.useState(""),[d,A]=S.useState({name:"",email:"",phone:"",paymentMethod:"card",cardNumber:"",expiryDate:"",cvv:"",nameOnCard:"",upiId:""}),m=localStorage.getItem("color")||"#4f46e5",h=[{id:"65d2e8e7a1b2c3d4e5f6a7b8",name:"Basic Plan",students:50,price:15e3,duration:"Monthly",features:["Basic Learning","Online Classes","Study Materials"],color:"blue"},{id:"65d2e8e7a1b2c3d4e5f6a7b9",name:"Premium Plan",students:100,price:25e3,duration:"Monthly",features:["Advanced Learning","Live Sessions","Personal Tutor","Assignments"],color:"purple"},{id:"65d2e8e7a1b2c3d4e5f6a7c0",name:"Enterprise Plan",students:200,price:45e3,duration:"Monthly",features:["All Features","Priority Support","Custom Content","Analytics"],color:"green"}],y=j=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(j),x=j=>{a(j),t(!0),l(""),u("")},v=()=>{t(!1),a(null),A({name:"",email:"",phone:"",paymentMethod:"card",cardNumber:"",expiryDate:"",cvv:"",nameOnCard:"",upiId:""}),l(""),u("")},b=async j=>{j.preventDefault(),i(!0),l(""),u("");const C=localStorage.getItem("schoolId")||"65d2e8e7a1b2c3d4e5f6a7b7";if(!r){l("No package selected."),i(!1);return}const E={schoolId:C,packageId:r.id,name:d.name,email:d.email,phone:d.phone,paymentMethod:d.paymentMethod,amount:r.price};d.paymentMethod==="card"?E.cardDetails={cardNumber:d.cardNumber.replace(/\s/g,""),nameOnCard:d.nameOnCard,expiryDate:d.expiryDate,cvv:d.cvv}:d.paymentMethod==="upi"&&(E.upiId=d.upiId);try{const k=await Vt.post(`${nEe}/payments`,E,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});console.log("Payment submitted successfully:",k.data),u("Payment submitted successfully!"),setTimeout(()=>{v()},2e3)}catch(k){console.error("Payment submission error:",k.response?.data||k.message),l(k.response?.data?.message||"Failed to process payment. Please try again.")}finally{i(!1)}};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsxs("div",{className:"text-white p-6 rounded-b-3xl shadow-lg",style:{background:m},children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(yd,{className:"w-6 h-6"}),n.jsx("h1",{className:"text-2xl font-bold",children:"School Packages"})]})}),n.jsx("p",{className:"opacity-80 mt-2",children:"Choose the perfect package for your needs"})]}),n.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(j=>n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border hover:shadow-lg transition-all",style:{borderColor:m},children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsx("h3",{className:"text-xl font-bold text-gray-800",children:j.name})}),n.jsx("div",{className:"text-white rounded-xl p-4 mb-4",style:{background:m},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(rn,{className:"w-5 h-5"}),n.jsxs("span",{className:"font-semibold",children:[j.students," Students"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-2xl font-bold",children:y(j.price)}),n.jsxs("div",{className:"text-sm opacity-90",children:["/",j.duration]})]})]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Features:"}),j.features.map((C,E)=>n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[n.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),n.jsx("span",{children:C})]},E))]}),n.jsx("div",{className:"mt-6 pt-4 border-t border-gray-100",children:n.jsxs("button",{onClick:()=>x(j),className:"w-full py-3 px-6 text-white rounded-xl font-semibold hover:shadow-lg transform hover:scale-105 transition-all duration-200 flex items-center justify-center space-x-2",style:{background:m},children:[n.jsx("span",{children:"Buy Now"}),n.jsx("span",{children:""})]})})]},j.id))}),e&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Wf,{className:"w-6 h-6",style:{color:m}}),n.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Complete Payment"})]}),n.jsx("button",{onClick:v,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:n.jsx(pr,{className:"w-5 h-5 text-gray-500"})})]}),r&&n.jsxs("div",{className:"p-6 bg-gray-50 border-b border-gray-200",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Package Summary"}),n.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"font-semibold text-gray-800",children:r.name}),n.jsx("span",{className:"text-2xl font-bold",style:{color:m},children:y(r.price)})]}),n.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[n.jsx(rn,{className:"w-4 h-4 mr-1"}),n.jsxs("span",{children:[r.students," Students "," ",r.duration]})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:r.features.map((j,C)=>n.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:[n.jsx(hi,{className:"w-3 h-3 mr-1"}),j]},C))})]})]}),n.jsxs("form",{onSubmit:b,className:"p-6 space-y-6",children:[o&&n.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded flex items-center space-x-2",children:[n.jsx(Da,{className:"w-5 h-5"}),n.jsx("span",{children:o})]}),c&&n.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded flex items-center space-x-2",children:[n.jsx(hi,{className:"w-5 h-5"}),n.jsx("span",{children:c})]}),n.jsxs("div",{className:"flex space-x-4 pt-6 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:v,disabled:s,className:"flex-1 py-3 px-6 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsxs("button",{type:"submit",disabled:s,className:"flex-1 py-3 px-6 text-white rounded-xl font-semibold hover:shadow-lg transform hover:scale-105 transition-all duration-200 flex items-center justify-center space-x-2",style:{background:m},children:[s?n.jsx(Rr,{className:"w-4 h-4 animate-spin"}):n.jsx(hi,{className:"w-4 h-4"}),n.jsx("span",{children:s?"Processing...":`Pay ${r&&y(r.price)}`})]})]})]})]})})]})},iEe=({setSchoolId:e})=>{const[t,r]=S.useState("admin"),a=yc(),[s,i]=S.useState(""),[o,l]=S.useState(""),[c,u]=S.useState(""),[d,A]=S.useState(""),[m,h]=S.useState(""),[y,x]=S.useState(""),[v,b]=S.useState(!1),[j,C]=S.useState(null),[E,k]=S.useState(null),D=async Q=>{Q.preventDefault(),b(!0),C(null),k(null);try{const U=await Vt.post("http://localhost:5000/api/schools/login",{email:s,password:o,schoolCode:c});console.log("Admin Login Success:",U.data),localStorage.setItem("schoolId",U.data.data.id),e(U.data.data.id),localStorage.setItem("adminToken",U.data.token),localStorage.setItem("userType","admin"),localStorage.setItem("color",U.data.data.color),localStorage.setItem("schoolLogo",U.data.data.logoUrl||"/default-logo.png"),localStorage.removeItem("superadmin_token"),localStorage.removeItem("superadmin_user"),localStorage.removeItem("teacherId"),localStorage.removeItem("teacherToken"),k("Admin login successful! Redirecting..."),setTimeout(()=>{a("/dashboard",{replace:!0})},1500)}catch(U){console.error("Admin Login Error:",U),C(U.response?.data?.message||"Admin login failed. Please check your credentials and school code.")}finally{b(!1)}},L=async Q=>{Q.preventDefault(),b(!0),C(null),k(null);try{const U=await Vt.post("http://localhost:5000/api/teacher/login",{email:d,password:m,schoolCode:y});console.log("Teacher Login Success:",U.data),localStorage.setItem("teacherId",U.data.teacher._id),localStorage.setItem("teacherToken",U.data.token),localStorage.setItem("userType","teacher"),localStorage.setItem("schoolId",U.data.teacher.schoolId),e(U.data.teacher.schoolId),localStorage.setItem("schoolLogo",U.data.teacher.schoolId.logoUrl||"/default-logo.png"),localStorage.removeItem("adminToken"),localStorage.removeItem("superadmin_token"),k("Teacher login successful! Redirecting..."),setTimeout(()=>{a("/teacher/attendance",{replace:!0})},1500)}catch(U){console.error("Teacher Login Error:",U),C(U.response?.data?.message||"Teacher login failed. Please check your credentials and school code.")}finally{b(!1)}},F=Q=>{r(Q),C(null),k(null),Q==="admin"?(A(""),h(""),x("")):(i(""),l(""),u(""))};return n.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-blue-400 to-orange-400 p-4",children:n.jsxs("div",{className:"w-full max-w-md",children:[n.jsxs("div",{className:"flex space-x-2 mb-6 bg-white rounded-lg p-1 shadow-sm",children:[n.jsx("button",{onClick:()=>F("admin"),className:`flex-1 px-6 py-3 rounded-md font-medium transition-all duration-200 ${t==="admin"?"bg-indigo-700 text-white shadow-md":"text-indigo-700 hover:bg-indigo-50"}`,children:"Admin Login"}),n.jsx("button",{onClick:()=>F("teacher"),className:`flex-1 px-6 py-3 rounded-md font-medium transition-all duration-200 ${t==="teacher"?"bg-orange-600 text-white shadow-md":"text-orange-600 hover:bg-orange-50"}`,children:"Teacher Login"})]}),E&&n.jsx("div",{className:"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded-md text-center",children:E}),j&&n.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-md text-center",children:j}),t==="admin"&&n.jsxs("form",{onSubmit:D,className:"bg-white p-6 rounded-xl shadow-lg space-y-6",children:[n.jsx("div",{children:n.jsx("img",{src:Vx,alt:"ParNets Logo",className:"h-24 text-center"})}),n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-3xl font-bold text-indigo-700 ",children:"Admin Portal"}),n.jsx("p",{className:"text-gray-600",children:"Sign in to manage your school"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),n.jsx("input",{type:"email",placeholder:"Enter your email",value:s,onChange:Q=>i(Q.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",disabled:v,required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),n.jsx("input",{type:"password",placeholder:"Enter your password",value:o,onChange:Q=>l(Q.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",disabled:v,required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"School Code"}),n.jsx("input",{type:"text",placeholder:"Enter school code",value:c,onChange:Q=>u(Q.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",disabled:v,required:!0})]})]}),n.jsx("button",{type:"submit",className:"w-full bg-indigo-700 text-white py-3 rounded-lg hover:bg-indigo-800 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",disabled:v||!s||!o||!c,children:v?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in as Admin"})]}),t==="teacher"&&n.jsxs("form",{onSubmit:L,className:"bg-white p-8 rounded-xl shadow-lg space-y-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-3xl font-bold text-orange-700 mb-2",children:"Teacher Portal"}),n.jsx("p",{className:"text-gray-600",children:"Access your teaching dashboard"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),n.jsx("input",{type:"email",placeholder:"Enter your email",value:d,onChange:Q=>A(Q.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",disabled:v,required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),n.jsx("input",{type:"password",placeholder:"Enter your password",value:m,onChange:Q=>h(Q.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",disabled:v,required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"School Code"}),n.jsx("input",{type:"text",placeholder:"Enter school code",value:y,onChange:Q=>x(Q.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",disabled:v,required:!0})]})]}),n.jsx("button",{type:"submit",className:"w-full bg-orange-600 text-white py-3 rounded-lg hover:bg-orange-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",disabled:v||!d||!m||!y,children:v?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in as Teacher"})]})]})})},tM={present:{icon:hi,color:"bg-green-500 text-white"},absent:{icon:pr,color:"bg-red-500 text-white"},late:{icon:fn,color:"bg-[#F37021] text-white"},holiday:{icon:fn,color:"bg-yellow-500 text-white"}},oEe=()=>{const[e,t]=S.useState(""),[r,a]=S.useState(""),[s,i]=S.useState(""),[o,l]=S.useState(""),[c,u]=S.useState([]),[d,A]=S.useState(null),[m,h]=S.useState(!0),[y,x]=S.useState([]),[v,b]=S.useState(""),[j,C]=S.useState(""),[E,k]=S.useState(!1),[D,L]=S.useState({start:"",end:""}),[F,Q]=S.useState(1),[U]=S.useState(10),[P,I]=S.useState(1),[z,W]=S.useState(0),[ie,X]=S.useState(!1),le=async()=>{try{console.log("[API] Fetching all schools for filter");const se=await(await fetch("http://localhost:5000/api/schools/simple",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();console.log("[API] Schools response:",se),se.success&&Array.isArray(se.data)?(x(se.data),X(!1)):(console.warn("[API] Failed to fetch schools:",se.message),x([]),X(!0))}catch(Y){console.error("[API] Error fetching schools:",Y.message),A("Failed to load school data"),x([]),X(!0)}},re=async()=>{try{h(!0),console.log(`[API] Fetching attendance for page ${F}, schoolId: ${v||"all"}`);const se=await(await fetch(`http://localhost:5000/api/attendance/all-unfiltered?page=${F}&limit=${U}${v?`&schoolId=${v}`:""}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();if(console.log("[API] Attendance API response:",se),console.log("[API] First record sample:",se.data?.[0]),se.success&&Array.isArray(se.data)){const ee=se.data.map(be=>{const Ce=be.studentId,ce=be.schoolId,J=Ce?.className||"No Class Data",ge=Ce?.section||"N/A";return{id:be._id,name:Ce?.name||"No Student Data",rollNo:Ce?.rollNumber||"N/A",studentId:Ce?.studentId||"N/A",classGrade:J,section:ge,status:be.status||"unknown",date:he(be.date),schoolId:ce?._id||be.schoolId||"",schoolName:ce?.name||"No School Data",hasValidStudent:Ce!==null,hasValidSchool:ce!==null}});console.log("[API] Normalized data sample:",ee[0]),u(ee),I(se.pagination.totalPages||1),W(se.pagination.totalRecords||0),A(null)}else A(se.message||"Failed to fetch attendance"),u([]),X(!0)}catch(Y){console.error("[API] Error fetching attendance:",Y.message),A("Error fetching attendance: "+Y.message),u([]),X(!0)}finally{h(!1)}};S.useEffect(()=>{re()},[F,v]),S.useEffect(()=>{le()},[]);const he=Y=>{if(!Y)return"N/A";if(/^\d{4}-\d{2}-\d{2}$/.test(Y))return Y;try{const se=new Date(Y);return isNaN(se)?"N/A":se.toISOString().slice(0,10)}catch{return"N/A"}},de=S.useMemo(()=>y.length>0,[y]),ve=S.useMemo(()=>{if(!v)return"All Schools";const Y=y.find(se=>se._id===v);return Y?Y.name:"Unknown School"},[v,y]),B=S.useMemo(()=>[...new Set(c.map(Y=>Y.classGrade))].filter(Y=>Y&&Y!=="Unknown Class").sort((Y,se)=>Y.localeCompare(se,void 0,{numeric:!0})),[c]),R=S.useMemo(()=>{const Y=c.filter(se=>se.section&&se.section!=="N/A").map(se=>se.section);return[...new Set(Y)].sort()},[c]),G=S.useMemo(()=>c.filter(Y=>{const se=!v||Y.schoolId===v;let ee=!0;D.start&&D.end?ee=Y.date!=="N/A"&&Y.date>=D.start&&Y.date<=D.end:e&&(ee=Y.date===e);const be=!r||Y.classGrade===r,Ce=!s||Y.section===s,ce=!o||Y.name.toLowerCase().includes(o.toLowerCase())||Y.rollNo.includes(o)||Y.studentId.toLowerCase().includes(o.toLowerCase()),J=!j||Y.status===j;return se&&ee&&be&&Ce&&ce&&J}),[c,v,e,r,s,o,j,D]),ne=()=>{l(""),C(""),L({start:"",end:""}),t(""),b(""),a(""),i(""),Q(1)},pe=()=>{if(G.length===0){alert("No data to export");return}const Y=G.map(ge=>({Date:ge.date,"Roll Number":ge.rollNo,"Student Name":ge.name,"Student ID":ge.studentId,Class:ge.classGrade,Section:ge.section,"School Name":ge.schoolName||"Unknown School","Attendance Status":ge.status.charAt(0).toUpperCase()+ge.status.slice(1)})),se=Object.keys(Y[0]),ee=[se.join(","),...Y.map(ge=>se.map(Je=>`"${ge[Je]??""}"`).join(","))].join(`
`),be=new Blob([ee],{type:"text/csv;charset=utf-8;"}),Ce=document.createElement("a"),ce=URL.createObjectURL(be);Ce.setAttribute("href",ce);let J="attendance_";v&&(J+=`${ve}_`),r&&(J+=`${r}_`),s&&(J+=`${s}_`),e?J+=`${e}_`:D.start&&D.end&&(J+=`${D.start}_to_${D.end}_`),J+=`${new Date().toISOString().split("T")[0]}.csv`,Ce.setAttribute("download",J),Ce.style.visibility="hidden",document.body.appendChild(Ce),Ce.click(),document.body.removeChild(Ce)},xe=S.useMemo(()=>[{icon:rn,value:G.length,label:"Total Students",color:"orange"},{icon:hi,value:G.filter(Y=>Y.status==="present").length,label:"Present",color:"green"},{icon:pr,value:G.filter(Y=>Y.status==="absent").length,label:"Absent",color:"red"},{icon:fn,value:G.filter(Y=>Y.status==="late").length,label:"Late",color:"orange"}],[G]),Ae=Y=>{Y>=1&&Y<=P&&Q(Y)};return n.jsxs("div",{className:"space-y-8 p-8 bg-gradient-to-b from-[#1C1444]/5 to-white min-h-screen",children:[n.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl border border-[#1C1444]/10 transition-all duration-300 hover:shadow-2xl",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-extrabold text-[#1C1444] tracking-tight",children:"Attendance Management"}),n.jsxs("p",{className:"text-[#1C1444]/80 text-lg mt-1",children:["View student attendance records",n.jsxs("span",{className:"ml-2 text-[#F37021] font-semibold",children:["(",ve,")"]})]})]}),n.jsxs("button",{onClick:pe,className:"bg-gradient-to-r from-[#F37021] to-[#d55f1c] hover:from-[#d55f1c] hover:to-[#b54e17] text-white px-6 py-3 rounded-lg shadow-md flex items-center space-x-2 transform transition-all duration-200 hover:scale-105 disabled:opacity-50",title:"Export to CSV",disabled:m,children:[n.jsx(Ln,{className:"w-5 h-5"})," ",n.jsx("span",{children:"Export CSV"})]})]}),c.length>0&&c.every(Y=>!Y.hasValidStudent)&&n.jsxs("div",{className:"mb-6 p-4 bg-yellow-100 text-yellow-800 rounded-lg text-center",children:[n.jsx("strong",{children:" Data Integrity Issue:"})," All attendance records have missing student data. This indicates that students may have been deleted or attendance records were created without proper student references.",n.jsx("br",{}),n.jsx("span",{className:"text-sm mt-2 block",children:"To fix this, you need to either delete orphaned attendance records or restore the missing student data."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-6",children:[de&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"School"}),n.jsxs("select",{value:v,onChange:Y=>{b(Y.target.value),a(""),i(""),Q(1)},className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:m||y.length===0,children:[n.jsx("option",{value:"",children:"All Schools"}),y.sort((Y,se)=>Y.name.localeCompare(se.name)).map(Y=>n.jsx("option",{value:Y._id,children:Y.name},Y._id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Class"}),n.jsxs("select",{value:r,onChange:Y=>{a(Y.target.value),i(""),Q(1)},className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:m||B.length===0,children:[n.jsx("option",{value:"",children:"All Classes"}),B.length===0?n.jsx("option",{value:"",disabled:!0,children:"No classes available"}):B.map(Y=>n.jsx("option",{value:Y,children:Y},Y))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Section"}),n.jsxs("select",{value:s,onChange:Y=>{i(Y.target.value),Q(1)},className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:m||R.length===0,children:[n.jsx("option",{value:"",children:"All Sections"}),R.length===0?n.jsx("option",{value:"",disabled:!0,children:"No sections available"}):R.map(Y=>n.jsx("option",{value:Y,children:Y},Y))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Date"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ia,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#1C1444]/60 w-5 h-5"}),n.jsx("input",{type:"date",value:e,onChange:Y=>{t(Y.target.value),L({start:"",end:""}),Q(1)},className:"w-full pl-10 pr-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:m})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Search Students"}),n.jsxs("div",{className:"relative",children:[n.jsx(on,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#1C1444]/60 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Search by name, roll no...",value:o,onChange:Y=>l(Y.target.value),className:"w-full pl-10 pr-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:m})]})]})]}),n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("span",{className:"text-sm text-[#1C1444]/80",children:["Showing ",G.length," of ",z," records"]}),n.jsxs("button",{onClick:()=>k(!E),className:"flex items-center space-x-2 px-4 py-2 border border-[#1C1444]/20 rounded-lg bg-white hover:bg-[#1C1444] hover:text-white transition-all duration-200 disabled:opacity-50",disabled:m,children:[n.jsx(Hl,{className:"w-5 h-5"}),n.jsx("span",{children:"Advanced Filters"})]})]})}),E&&n.jsx("div",{className:"border-t pt-6 mt-6 border-[#1C1444]/10 transition-all duration-300",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Date Range Start"}),n.jsx("input",{type:"date",value:D.start,onChange:Y=>{L({...D,start:Y.target.value}),t(""),Q(1)},className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:m})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Date Range End"}),n.jsx("input",{type:"date",value:D.end,onChange:Y=>{L({...D,end:Y.target.value}),t(""),Q(1)},className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:m})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Attendance Status"}),n.jsxs("select",{value:j,onChange:Y=>C(Y.target.value),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:m,children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"present",children:"Present"}),n.jsx("option",{value:"absent",children:"Absent"}),n.jsx("option",{value:"late",children:"Late"}),n.jsx("option",{value:"holiday",children:"Holiday"})]})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{onClick:ne,className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg bg-white hover:bg-[#1C1444] hover:text-white text-[#1C1444] transition-all duration-200 disabled:opacity-50",disabled:m,children:"Clear Filters"})})]})})]}),m&&n.jsx("div",{className:"p-6 bg-[#F37021]/10 text-[#F37021] rounded-2xl shadow-md text-center transition-all duration-300",children:"Loading attendance records..."}),d&&n.jsx("div",{className:"p-6 bg-red-100 text-red-700 rounded-2xl shadow-md text-center transition-all duration-300",children:d}),!m&&!d&&n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:xe.map((Y,se)=>n.jsx("div",{className:`bg-white rounded-2xl p-6 shadow-md border-l-4 border-${Y.color==="orange"?"[#F37021]":Y.color+"-500"} transition-all duration-300 hover:shadow-lg hover:-translate-y-1`,children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Y.icon,{className:`w-10 h-10 text-${Y.color==="orange"?"[#F37021]":Y.color+"-600"} transition-transform duration-200 group-hover:scale-110`}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"text-3xl font-extrabold text-[#1C1444]",children:Y.value}),n.jsx("div",{className:"text-sm text-[#1C1444]/80",children:Y.label})]})]})},se))}),!m&&!d&&n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden transition-all duration-300",children:[n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gradient-to-r from-[#1C1444]/10 to-[#F37021]/10",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Date"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Roll No"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Student Name"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Student ID"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Class"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Section"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"School"}),n.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Attendance Status"})]})}),n.jsx("tbody",{className:"divide-y divide-[#1C1444]/10",children:G.map(Y=>{const se=Y.status,ee=tM[se]?.icon||pr,be=tM[se]?.color||"bg-[#1C1444] text-white",Ce=Y.schoolName||"Unknown School";return n.jsxs("tr",{className:"hover:bg-[#F37021]/5 transition-all duration-200",children:[n.jsx("td",{className:"px-6 py-4 text-sm font-medium text-[#1C1444]",children:Y.date}),n.jsx("td",{className:"px-6 py-4 text-sm font-medium text-[#1C1444]",children:Y.rollNo}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`${Y.hasValidStudent?"bg-[#F37021]/10 text-[#F37021]":"bg-red-100 text-red-600"} text-sm font-semibold rounded-full w-8 h-8 flex items-center justify-center mr-3 transition-transform duration-200 hover:scale-110`,children:Y.hasValidStudent?Y.name.split(" ").map(ce=>ce[0]).join(""):"?"}),n.jsx("span",{className:`${Y.hasValidStudent?"text-[#1C1444]":"text-red-600 italic"}`,children:Y.name})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-[#F37021]/10 text-[#F37021] rounded-full",children:Y.studentId})}),n.jsx("td",{className:"px-6 py-4 text-sm text-[#1C1444]",children:Y.classGrade}),n.jsx("td",{className:"px-6 py-4 text-sm text-[#1C1444]",children:Y.section}),n.jsx("td",{className:"px-6 py-4 text-sm",children:n.jsx("span",{className:`${Y.hasValidSchool?"text-[#1C1444]":"text-red-600 italic"}`,title:Y.schoolId,children:Ce})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"flex justify-center",children:n.jsxs("span",{className:`px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 ${be} transition-all duration-200 hover:shadow-md`,children:[n.jsx(ee,{className:"w-4 h-4"}),n.jsx("span",{className:"capitalize",children:se})]})})})]},Y.id)})})]}),G.length===0&&c.length>0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(rn,{className:"w-12 h-12 text-[#1C1444]/60 mx-auto mb-4 transition-transform duration-200 hover:scale-110"}),n.jsx("h3",{className:"text-lg font-semibold text-[#1C1444] mb-2",children:"No records match your filters"}),n.jsx("p",{className:"text-[#1C1444]/80 mb-4",children:"Try adjusting your date, class, section, status, or search criteria"}),n.jsx("button",{onClick:ne,className:"text-[#F37021] hover:text-[#d55f1c] underline font-medium transition-colors duration-200",children:"Clear all filters"})]}),G.length===0&&c.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(rn,{className:"w-12 h-12 text-[#1C1444]/60 mx-auto mb-4 transition-transform duration-200 hover:scale-110"}),n.jsx("h3",{className:"text-lg font-semibold text-[#1C1444] mb-2",children:"No attendance records found"}),n.jsx("p",{className:"text-[#1C1444]/80",children:"No attendance data is available"})]})]}),!m&&!d&&z>0&&n.jsxs("div",{className:"mt-8 flex justify-between items-center",children:[n.jsxs("div",{className:"text-sm text-[#1C1444]/80",children:["Showing ",(F-1)*U+1," to"," ",Math.min(F*U,z)," of ",z," ","records"]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:()=>Ae(F-1),disabled:F===1,className:"px-5 py-2 bg-[#1C1444]/10 text-[#1C1444] rounded-lg disabled:opacity-50 hover:bg-[#1C1444] hover:text-white transition-all duration-200",children:"Previous"}),n.jsx("button",{onClick:()=>Ae(F+1),disabled:F===P,className:"px-5 py-2 bg-[#1C1444]/10 text-[#1C1444] rounded-lg disabled:opacity-50 hover:bg-[#1C1444] hover:text-white transition-all duration-200",children:"Next"})]})]})]})},lEe=()=>{const[e,t]=S.useState("all"),[r,a]=S.useState([]),[s,i]=S.useState([]),[o,l]=S.useState([]),[c,u]=S.useState(""),[d,A]=S.useState(""),[m,h]=S.useState(""),[y,x]=S.useState([]),[v,b]=S.useState(1),[j]=S.useState(10),[C,E]=S.useState(1),[k,D]=S.useState(!1),[L,F]=S.useState(null),[Q,U]=S.useState(!1),P=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];S.useEffect(()=>{Vt.get("http://localhost:5000/api/schools").then(X=>{X.data.success&&a(X.data.data)}).catch(()=>F("Failed to load schools"))},[]),S.useEffect(()=>{if(y.length===0){i([]),l([]),u(""),A("");return}const X=new Set,le=new Set;y.forEach(de=>{de.timetable.forEach(ve=>{const[B,R]=ve.className.split(" ");X.add(B),R&&le.add(R)})});const re=Array.from(X).map(de=>({className:de})),he=Array.from(le).map(de=>({section:de}));i(re.sort((de,ve)=>de.className.localeCompare(ve.className))),l(he.sort((de,ve)=>de.section.localeCompare(ve.section))),u(re[0]?.className||""),A(he[0]?.section||"")},[y]),S.useEffect(()=>{D(!0);const X={page:v,limit:j};e!=="all"&&(X.schoolId=e),c&&(X.className=c),d&&(X.section=d),Vt.get("http://localhost:5000/api/timetable",{params:X}).then(le=>{le.data.success?(x(le.data.data),E(le.data.totalPages),F(null)):(x([]),E(1),F("No timetables found"))}).catch(()=>F("Failed to load timetable")).finally(()=>D(!1))},[e,c,d,v,j]);const I=()=>{t("all"),u(""),A(""),h(""),b(1)},z=S.useMemo(()=>{const X={};return y.forEach(le=>{const re=r.find(he=>he._id===le.schoolId)?.name||"Unknown School";X[re]||(X[re]={}),le.timetable.filter(he=>m?he.day===m:!0).filter(he=>{if(!d)return!0;const[,de]=he.className.split(" ");return de===d}).forEach(he=>{const de=he.className.split(" ")[0];X[re][de]||(X[re][de]=[]),X[re][de].push(...he.periods.map(ve=>({id:ve._id||"unknown-id",className:he.className,day:he.day,subject:ve.subjectName||"Unknown Subject",teacher:ve.teacherName||"Unknown Teacher",startTime:W(ve.startTime),endTime:W(ve.endTime),type:ve.type||"subject"})))})}),Object.keys(X).forEach(le=>{Object.keys(X[le]).forEach(re=>{X[le][re].sort((he,de)=>he.startTime.localeCompare(de.startTime))})}),X},[y,m,d,r]);function W(X){if(!X||typeof X!="string")return"00:00";let le=X.replace(/(AM|PM|am|pm)/gi,"").trim();const[re,he="00"]=le.split(":").map(de=>de.trim());return`${re.padStart(2,"0")}:${he.padStart(2,"0")}`}const ie=X=>{switch(X){case"break":return"bg-orange-50 text-orange-700";case"lunch":return"bg-green-50 text-green-700";default:return"bg-white text-[#1C1444]"}};return n.jsx("div",{className:"min-h-screen bg-white p-4 md:p-6",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsx("header",{className:"bg-white border-b border-[#1C1444]/10 p-4 md:p-6 shadow-md sticky top-0 z-20",children:n.jsxs("div",{className:"flex flex-col gap-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(fn,{className:"w-6 h-6 text-[#F37021] animate-pulse"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-[#1C1444]",children:"Timetable Dashboard"}),n.jsx("p",{className:"text-sm text-[#1C1444]/70",children:"Manage your class schedules with ease"})]})]}),n.jsxs("button",{className:"md:hidden flex items-center px-3 py-1.5 bg-[#F37021] text-white rounded-md text-sm hover:bg-[#d55f1d] transition duration-200",onClick:()=>U(!Q),children:[n.jsx(Hl,{className:"w-4 h-4 mr-1"}),"Filters",n.jsx(Jp,{className:`w-4 h-4 ml-1 transform transition-transform duration-200 ${Q?"rotate-180":""}`})]})]}),n.jsxs("div",{className:`flex flex-wrap items-center gap-2 md:gap-3 ${Q?"block":"hidden md:flex"} transition-all duration-300`,children:[n.jsxs("div",{className:"flex items-center gap-2 bg-[#1C1444]/5 p-2 rounded-md",children:[n.jsx(Hl,{className:"w-4 h-4 text-[#1C1444]"}),n.jsxs("select",{value:e,onChange:X=>{t(X.target.value),b(1)},className:"px-3 py-1.5 bg-white border border-[#1C1444]/20 rounded-md text-[#1C1444] text-sm focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] transition duration-200 hover:bg-[#F37021]/5",children:[n.jsx("option",{value:"all",children:"All Schools"}),r.map(X=>n.jsx("option",{value:X._id,children:X.name},X._id))]})]}),n.jsxs("select",{value:c,onChange:X=>{u(X.target.value),b(1)},className:"px-3 py-1.5 bg-white border border-[#1C1444]/20 rounded-md text-[#1C1444] text-sm focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] transition duration-200 hover:bg-[#F37021]/5 disabled:opacity-50",disabled:!s.length,children:[n.jsx("option",{value:"",children:"All Classes"}),s.map(X=>n.jsx("option",{value:X.className,children:X.className},X.className))]}),n.jsxs("select",{value:d,onChange:X=>{A(X.target.value),b(1)},className:"px-3 py-1.5 bg-white border border-[#1C1444]/20 rounded-md text-[#1C1444] text-sm focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] transition duration-200 hover:bg-[#F37021]/5 disabled:opacity-50",disabled:!o.length,children:[n.jsx("option",{value:"",children:"All Sections"}),o.map(X=>n.jsx("option",{value:X.section,children:X.section},X.section))]}),n.jsxs("select",{value:m,onChange:X=>h(X.target.value),className:"px-3 py-1.5 bg-white border border-[#1C1444]/20 rounded-md text-[#1C1444] text-sm focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] transition duration-200 hover:bg-[#F37021]/5",children:[n.jsx("option",{value:"",children:"All Days"}),P.map(X=>n.jsx("option",{value:X,children:X},X))]}),n.jsxs("button",{onClick:I,className:"flex items-center px-3 py-1.5 bg-[#F37021] text-white rounded-md text-sm hover:bg-[#d55f1d] transition duration-200",children:[n.jsx(pr,{className:"w-4 h-4 mr-1"}),"Reset"]})]})]})}),n.jsxs("div",{className:"p-4 md:p-6 space-y-8",children:[k&&n.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-md",children:[n.jsx("div",{className:"inline-block w-10 h-10 border-4 border-[#F37021] border-t-transparent rounded-full animate-spin"}),n.jsx("p",{className:"text-[#1C1444] text-base font-medium mt-3",children:"Loading schedules..."})]}),L&&n.jsxs("div",{className:"p-4 bg-white border border-red-200 text-red-600 rounded-xl shadow-md",children:[n.jsx("p",{className:"font-medium",children:L}),n.jsx("p",{className:"text-sm mt-1",children:"Please ensure the backend server is running."})]}),!k&&!L&&n.jsxs("div",{className:"space-y-8",children:[Object.keys(z).length===0?n.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-md",children:[n.jsx(fn,{className:"w-10 h-10 text-[#1C1444]/30 mx-auto mb-3"}),n.jsx("p",{className:"text-[#1C1444] text-base font-medium",children:"No schedules available"})]}):Object.entries(z).map(([X,le])=>n.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[n.jsxs("div",{className:"p-4 bg-white border-b border-[#1C1444]/10 flex items-center gap-2",children:[n.jsx(Lo,{className:"w-5 h-5 text-[#F37021]"}),n.jsx("h2",{className:"text-lg font-semibold text-[#1C1444]",children:X})]}),Object.entries(le).map(([re,he])=>n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"text-base font-semibold text-[#1C1444] mb-3",children:re}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full border border-[#1C1444]/10 rounded-md",children:[n.jsx("thead",{className:"bg-[#1C1444]/5",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Day"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Time"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Subject"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Teacher"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Type"})]})}),n.jsx("tbody",{className:"divide-y divide-[#1C1444]/10",children:he.length===0?n.jsx("tr",{children:n.jsxs("td",{colSpan:"5",className:"px-4 py-3 text-center text-[#1C1444]/60",children:["No periods scheduled for"," ",m||"this day"]})}):he.map((de,ve)=>n.jsxs("tr",{className:`${ie(de.type)} ${ve%2===0?"bg-white":"bg-[#1C1444]/5"} hover:bg-[#F37021]/10 transition duration-200`,children:[n.jsx("td",{className:"px-4 py-2.5 text-sm text-[#1C1444] font-medium",children:de.day}),n.jsxs("td",{className:"px-4 py-2.5 text-sm text-[#1C1444]",children:[de.startTime," - ",de.endTime]}),n.jsx("td",{className:"px-4 py-2.5 text-sm font-semibold text-[#1C1444]",children:de.subject}),n.jsx("td",{className:"px-4 py-2.5 text-sm text-[#1C1444]",children:de.teacher}),n.jsx("td",{className:"px-4 py-2.5 text-sm capitalize text-[#1C1444]",children:de.type})]},de.id))})]})})]},re))]},X)),C>1&&n.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-xl shadow-md",children:[n.jsx("button",{onClick:()=>b(X=>Math.max(1,X-1)),disabled:v===1,className:"px-4 py-1.5 bg-[#F37021] text-white rounded-md text-sm hover:bg-[#d55f1d] disabled:opacity-50 transition duration-200 transform hover:scale-105",children:"Previous"}),n.jsxs("span",{className:"text-[#1C1444] text-sm font-medium",children:["Page ",v," of ",C]}),n.jsx("button",{onClick:()=>b(X=>Math.min(C,X+1)),disabled:v===C,className:"px-4 py-1.5 bg-[#F37021] text-white rounded-md text-sm hover:bg-[#d55f1d] disabled:opacity-50 transition duration-200 transform hover:scale-105",children:"Next"})]})]})]})]})})},cEe="http://localhost:5000/api/schools/",dEe="http://localhost:5000/api/teacher/",uEe="http://localhost:5000/api/class/",fEe=()=>{const[e,t]=S.useState("upcoming"),[r,a]=S.useState(""),[s,i]=S.useState("all"),[o,l]=S.useState([]),[c,u]=S.useState(!0),[d,A]=S.useState(null),[m,h]=S.useState(""),[y,x]=S.useState(""),[v,b]=S.useState([]),[j,C]=S.useState({}),[E,k]=S.useState({}),[D,L]=S.useState("all"),[F,Q]=S.useState(1),[U]=S.useState(10),[P,I]=S.useState(1),[z,W]=S.useState(0),[ie,X]=S.useState("date"),[le,re]=S.useState("asc"),[he]=S.useState([{id:1,subject:"English",score:85,totalMarks:100,percentage:85,grade:"A",examDate:"2023-11-15",class:"10-A",teacher:"Ms. Davis",studentsAppeared:43,passRate:89.5},{id:2,subject:"History",score:78,totalMarks:100,percentage:78,grade:"B+",examDate:"2023-11-10",class:"11-A",teacher:"Mr. Brown",studentsAppeared:36,passRate:83.3},{id:3,subject:"Biology",score:92,totalMarks:100,percentage:92,grade:"A+",examDate:"2023-11-05",class:"12-A",teacher:"Dr. Taylor",studentsAppeared:40,passRate:95}]);S.useEffect(()=>{de()},[F]);const de=async()=>{u(!0),A(null);try{const ce=await fetch(`http://localhost:5000/api/exams/all-unfiltered?page=${F}&limit=${U}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!ce.ok)throw new Error(`HTTP error! Status: ${ce.status}`);const J=await ce.json();if(!J.success)throw new Error(J.message||"Failed to fetch exams");const ge=J.data.flatMap(Ve=>{let ze=Ve.classId?.schoolId||Ve.schoolId||null;return typeof ze=="object"&&ze!==null&&ze._id&&(ze=ze._id),Ve.subjects&&Ve.subjects.length>0?Ve.subjects.map(rt=>({...Ve,subject:rt.subjectName,date:rt.date,time:rt.time,duration:rt.duration,syllabus:rt.syllabus,schoolId:ze||"",id:`${Ve._id}-${rt._id}`})):[{...Ve,subject:Ve.subject||"Unknown",date:Ve.date||"",time:Ve.time||"",duration:Ve.duration||"",syllabus:Ve.syllabus||"",schoolId:ze||"",id:Ve._id}]}),Ke=[...new Set(ge.map(Ve=>Ve.classId?._id).filter(Boolean))].map(async Ve=>{try{const rt=await(await fetch(`${uEe}${Ve}`)).json();return rt.success&&rt.data?{_id:rt.data._id,className:rt.data.className||"Unknown",section:rt.data.section||""}:{_id:Ve,className:"Unknown",section:""}}catch{return{_id:Ve,className:"Unknown",section:""}}}),Fe=await Promise.all(Ke);b(Fe.filter(Ve=>Ve._id&&Ve.className));const nt=[...new Set(ge.map(Ve=>Ve.schoolId).filter(Boolean))],Se={};await Promise.all(nt.map(async Ve=>{try{const rt=await(await fetch(`${cEe}${Ve}`)).json();rt.success&&rt.data&&rt.data.name?Se[Ve]=rt.data.name:Se[Ve]="Unknown"}catch{Se[Ve]="Unknown"}})),C(Se);const Me=[...new Set(ge.map(Ve=>Ve.classId?.classTeacher).filter(Ve=>Ve&&typeof Ve=="string"))],at={};await Promise.all(Me.map(async Ve=>{try{const rt=await(await fetch(`${dEe}${Ve}`)).json();rt.success&&rt.data&&rt.data.name?at[Ve]=rt.data.name:at[Ve]="Unknown"}catch{at[Ve]="Unknown"}})),k(at);const ke=ge.map(Ve=>{const ze=Fe.find(Ge=>Ge._id===Ve.classId?._id),rt=ze?`${ze.className}${ze.section?`-${ze.section}`:""}`:"Unknown";return{id:Ve.id,subject:Ve.subject,date:Ve.date,time:Ve.time,duration:Ve.duration,chapters:Ve.syllabus,type:Ve.examType||"Final Exam",class:rt,teacher:at[Ve.classId?.classTeacher]||"Unknown",totalStudents:40,status:Ve.status||"Scheduled",schoolId:Ve.schoolId,schoolName:Se[Ve.schoolId]||"Unknown"}});l(ke),I(J.totalPages||1),W(J.total||0)}catch(ce){A("Error fetching exams: "+ce.message)}finally{u(!1)}};S.useEffect(()=>{x("")},[m]);const ve=[...new Set(v.map(ce=>ce.className).filter(Boolean))].sort(),B=[...new Set(v.filter(ce=>ce.className===m).map(ce=>ce.section).filter(Boolean))].sort(),R=e==="upcoming"?o:he,ne=[...new Set(o.map(ce=>ce.schoolId).filter(Boolean))].map(ce=>({_id:ce,name:j[ce]||"Unknown"})),pe=D==="all"?R:R.filter(ce=>ce.schoolId===D),xe=pe.filter(ce=>{const J=s==="all"||(e==="upcoming"?ce.type.includes(s):ce.grade===s),ge=[ce.subject||"",ce.class||"",ce.teacher||""].some(Ke=>Ke.toLowerCase().includes(r.toLowerCase()));let Je=!0;if(m)if(e==="upcoming"){const Ke=v.find(Fe=>`${Fe.className}${Fe.section?`-${Fe.section}`:""}`===ce.class);Je=Ke&&Ke.className===m&&(!y||Ke.section===y)}else{const[Ke,Fe]=ce.class.split("-");Je=Ke===m&&(!y||Fe===y)}return J&&ge&&Je}),Ae=xe.reduce((ce,J)=>{const ge=J.schoolName||"Unknown",Je=J.class||"Unknown";return ce[ge]||(ce[ge]={}),ce[ge][Je]||(ce[ge][Je]=[]),ce[ge][Je].push(J),ce},{}),Y={};Object.keys(Ae).sort().forEach(ce=>{Y[ce]={},Object.keys(Ae[ce]).sort().forEach(J=>{Y[ce][J]=[...Ae[ce][J]].sort((ge,Je)=>{let Ke=ge[ie],Fe=Je[ie];return ie==="date"?(Ke=new Date(ge.date),Fe=new Date(Je.date)):typeof Ke=="string"&&(Ke=Ke.toLowerCase(),Fe=Fe.toLowerCase()),Ke<Fe?le==="asc"?-1:1:Ke>Fe?le==="asc"?1:-1:0})})});const se=ce=>{ie===ce?re(le==="asc"?"desc":"asc"):(X(ce),re("asc"))},ee=()=>{a(""),i("all"),h(""),x(""),L("all"),Q(1)},be=()=>{if(xe.length===0){alert("No data to export");return}let ce=[],J="";e==="upcoming"?(ce=xe.map(Se=>({"School Name":Se.schoolName,Subject:Se.subject,Date:Se.date,Time:Se.time,Duration:Se.duration,Class:Se.class,Type:Se.type,Chapters:Se.chapters,"Total Students":Se.totalStudents,Status:Se.status})),J=`upcoming_exams_${new Date().toISOString().split("T")[0]}.csv`):(ce=xe.map(Se=>({Subject:Se.subject,Score:Se.score,"Total Marks":Se.totalMarks,Percentage:Se.percentage,Grade:Se.grade,"Exam Date":Se.examDate,Class:Se.class,"Students Appeared":Se.studentsAppeared,"Pass Rate":Se.passRate})),J=`exam_results_${new Date().toISOString().split("T")[0]}.csv`);const ge=Object.keys(ce[0]),Je=[ge.join(","),...ce.map(Se=>ge.map(Me=>`"${Se[Me]??""}"`).join(","))].join(`
`),Ke=new Blob([Je],{type:"text/csv;charset=utf-8;"}),Fe=document.createElement("a"),nt=URL.createObjectURL(Ke);Fe.setAttribute("href",nt),Fe.setAttribute("download",J),Fe.style.visibility="hidden",document.body.appendChild(Fe),Fe.click(),document.body.removeChild(Fe)},Ce=ce=>{ce>=1&&ce<=P&&Q(ce)};return n.jsxs("div",{className:"min-h-screen bg-gray-100",children:[n.jsx("div",{className:"bg-white border-b p-4 shadow-sm",children:n.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-black",children:"School Admin Panel"}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsx("button",{onClick:()=>t("upcoming"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${e==="upcoming"?"bg-[#F37021] text-white":"bg-gray-200 text-black hover:bg-gray-300"}`,children:"Upcoming Exams"}),n.jsx("button",{onClick:()=>t("results"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${e==="results"?"bg-[#F37021] text-white":"bg-gray-200 text-black hover:bg-gray-300"}`,children:"Exam Results"})]})]})}),n.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[c&&e==="upcoming"&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ia,{className:"w-12 h-12 text-[#F37021] mx-auto mb-4 animate-pulse"}),n.jsx("p",{className:"text-black text-lg",children:"Loading exams..."})]}),d&&e==="upcoming"&&n.jsxs("div",{className:"p-4 bg-red-50 text-red-700 rounded-xl",children:[d,n.jsx("p",{className:"text-sm mt-2",children:"Please check if the backend server is running and accessible."})]}),!c&&!d&&n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-black",children:e==="upcoming"?"Upcoming Exams":"Exam Results"}),n.jsxs("button",{onClick:be,className:"bg-[#F37021] hover:bg-[#d65f1c] text-white px-4 py-2 rounded-lg shadow flex items-center space-x-2 transition-colors",title:"Export to CSV",disabled:c,children:[n.jsx(Ln,{})," ",n.jsx("span",{children:"Export CSV"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-black mb-2 flex items-center",children:[n.jsx(Lo,{className:"mr-2 text-[#F37021]"}),"Filter by School Name"]}),n.jsxs("select",{value:D,onChange:ce=>L(ce.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg text-black focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] transition-colors",disabled:c,children:[n.jsx("option",{value:"all",children:"All Schools"}),ne.map(ce=>n.jsx("option",{value:ce._id,children:ce.name},ce._id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Exam Type / Grade"}),n.jsxs("select",{value:s,onChange:ce=>i(ce.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg text-black focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] transition-colors",disabled:c,children:[n.jsx("option",{value:"all",children:e==="upcoming"?"All Exam Types":"All Grades"}),e==="upcoming"?["Midterm","Final Exam","Unit Test","Quiz","Practical"].map(ce=>n.jsx("option",{value:ce,children:ce},ce)):["A+","A","B+","B","C+","C","F"].map(ce=>n.jsxs("option",{value:ce,children:["Grade ",ce]},ce))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Class"}),n.jsxs("select",{value:m,onChange:ce=>h(ce.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg text-black focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] transition-colors",disabled:c,children:[n.jsx("option",{value:"",children:"All Classes"}),ve.map(ce=>n.jsx("option",{value:ce,children:ce},ce))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Section"}),n.jsxs("select",{value:y,onChange:ce=>x(ce.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg text-black focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] transition-colors disabled:opacity-50",disabled:c||m===""||B.length===0,children:[n.jsx("option",{value:"",children:"All Sections"}),B.map(ce=>n.jsx("option",{value:ce,children:ce},ce))]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Search"}),n.jsx(on,{className:"absolute left-3 top-10 text-[#F37021]"}),n.jsx("input",{type:"text",placeholder:"Search by subject, class, or teacher...",value:r,onChange:ce=>a(ce.target.value),className:"pl-10 pr-4 py-2 border border-gray-200 rounded-lg w-full text-black focus:outline-none focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] transition-colors",disabled:c})]})]}),n.jsx("div",{className:"flex items-center justify-between mb-6",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("span",{className:"text-sm text-black",children:["Showing ",xe.length," of ",z," records"]}),n.jsx("button",{onClick:ee,className:"px-4 py-2 border border-gray-200 rounded-lg hover:bg-gray-100 text-black transition-colors",disabled:c,children:"Clear All Filters"})]})})]}),!c&&!d&&n.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:n.jsxs("table",{className:"w-full table-auto min-w-max",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{className:"text-left text-sm font-semibold text-black",children:[n.jsxs("th",{onClick:()=>se("subject"),className:"p-4 cursor-pointer hover:bg-gray-100 transition-colors",children:["Subject"," ",ie==="subject"&&n.jsx("span",{className:"ml-1",children:le==="asc"?"":""})]}),n.jsxs("th",{onClick:()=>se("date"),className:"p-4 cursor-pointer hover:bg-gray-100 transition-colors",children:[e==="upcoming"?"Date/Time":"Score"," ",ie==="date"&&n.jsx("span",{className:"ml-1",children:le==="asc"?"":""})]}),n.jsxs("th",{onClick:()=>se("type"),className:"p-4 cursor-pointer hover:bg-gray-100 transition-colors",children:[e==="upcoming"?"Type":"Grade"," ",ie==="type"&&n.jsx("span",{className:"ml-1",children:le==="asc"?"":""})]}),n.jsx("th",{className:"p-4",children:"Details"})]})}),n.jsxs("tbody",{className:"divide-y divide-gray-200",children:[Object.keys(Y).length===0&&pe.length>0&&n.jsx("tr",{children:n.jsxs("td",{colSpan:"4",className:"p-8 text-center text-black",children:["No ",e==="upcoming"?"exams":"results"," ","match your current filters",n.jsx("div",{className:"mt-4",children:n.jsx("button",{onClick:ee,className:"text-[#F37021] hover:text-[#d65f1c] underline font-medium",children:"Clear all filters"})})]})}),Object.keys(Y).length===0&&pe.length===0&&n.jsx("tr",{children:n.jsxs("td",{colSpan:"4",className:"p-8 text-center text-black",children:["No ",e==="upcoming"?"exams":"results"," ","found"]})}),Object.keys(Y).map(ce=>n.jsxs(ya.Fragment,{children:[n.jsx("tr",{children:n.jsx("td",{colSpan:"4",className:"bg-[#F37021]/10 p-4 font-semibold text-black text-lg",children:ce})}),Object.keys(Y[ce]).map(J=>n.jsxs(ya.Fragment,{children:[n.jsx("tr",{children:n.jsx("td",{colSpan:"4",className:"bg-gray-50 p-4 font-medium text-black",children:J})}),Y[ce][J].map(ge=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"p-4 font-medium text-black",children:ge.subject}),n.jsx("td",{className:"p-4 text-black",children:e==="upcoming"?n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ia,{className:"text-[#F37021]"}),n.jsx("span",{children:ge.date}),n.jsx(fn,{className:"text-[#F37021]"}),n.jsx("span",{children:ge.time})]}):n.jsxs("span",{children:[ge.score,"/",ge.totalMarks," (",ge.percentage.toFixed(1),"%)"]})}),n.jsx("td",{className:"p-4",children:e==="upcoming"?n.jsx("span",{className:"inline-block bg-[#F37021]/10 text-[#F37021] px-3 py-1 rounded-full text-sm font-medium",children:ge.type}):n.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium text-white ${ge.grade==="A+"?"bg-green-600":ge.grade==="A"?"bg-green-500":ge.grade==="B+"?"bg-[#F37021]":"bg-yellow-500"}`,children:ge.grade})}),n.jsx("td",{className:"p-4",children:e==="upcoming"?n.jsxs("div",{className:"text-sm text-black space-y-2",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Un,{className:"mr-2 text-[#F37021]"}),ge.chapters]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(fn,{className:"mr-2 text-[#F37021]"}),"Duration: ",ge.duration]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(kw,{className:"mr-2 text-[#F37021]"}),"Students: ",ge.totalStudents]})]}):n.jsxs("div",{className:"text-sm text-black space-y-2",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ia,{className:"mr-2 text-[#F37021]"}),"Exam Date: ",ge.examDate]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(kw,{className:"mr-2 text-[#F37021]"}),"Pass Rate: ",ge.passRate.toFixed(1),"%"]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ln,{className:"mr-2 text-[#F37021]"}),"Appeared: ",ge.studentsAppeared]})]})})]},ge.id))]},`${ce}-${J}`))]},ce))]})]})}),!c&&!d&&e==="upcoming"&&z>0&&n.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[n.jsxs("div",{className:"text-sm text-black",children:["Showing ",(F-1)*U+1," to"," ",Math.min(F*U,z)," of ",z," ","records"]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>Ce(F-1),disabled:F===1,className:"px-4 py-2 bg-gray-200 text-black rounded-lg disabled:opacity-50 hover:bg-gray-300 transition-colors",children:"Previous"}),n.jsx("button",{onClick:()=>Ce(F+1),disabled:F===P,className:"px-4 py-2 bg-gray-200 text-black rounded-lg disabled:opacity-50 hover:bg-gray-300 transition-colors",children:"Next"})]})]})]})]})},hEe="http://localhost:5000/api/assignments/all-unfiltered",AEe=()=>{const[e,t]=S.useState(""),[r,a]=S.useState("All"),[s,i]=S.useState("All"),[o,l]=S.useState("All"),[c,u]=S.useState([]),[d,A]=S.useState(!0),[m,h]=S.useState(""),[y,x]=S.useState(1),[v]=S.useState(10),[b,j]=S.useState(1),[C,E]=S.useState(0),k=["Mathematics","Physics","Chemistry","English","History","Biology","Computer Science"],D=["10A","10B","9A","9B","8A","8B"];S.useEffect(()=>{(async()=>{A(!0);try{const X=localStorage.getItem("token"),le=await fetch(`${hEe}?page=${y}&limit=${v}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${X}`}});if(!le.ok)throw new Error(`HTTP error! Status: ${le.status}`);const re=await le.json();if(!re.success)throw new Error(re.message||"Failed to fetch assignments");u(re.data||[]),j(re.pagination.totalPages||1),E(re.pagination.totalRecords||0)}catch(X){h("Error fetching assignments: "+X.message),console.error("Fetch Error:",X)}finally{A(!1)}})()},[y]);const L=c.filter(ie=>{const X=ie.title.toLowerCase().includes(e.toLowerCase())||ie.subject.toLowerCase().includes(e.toLowerCase())||ie.studentName.toLowerCase().includes(e.toLowerCase())||ie.rollNo.toLowerCase().includes(e.toLowerCase())||ie.description.toLowerCase().includes(e.toLowerCase()),le=r==="All"||ie.subject===r,re=s==="All"||ie.status===s,he=o==="All"||ie.class===o;return X&&le&&re&&he}),F=ie=>{window.confirm("Are you sure you want to delete this assignment?")&&u(c.filter(X=>X.id!==ie))},Q=ie=>{switch(ie.toUpperCase()){case"HIGH":return"bg-red-100 text-red-800";case"MEDIUM":return"bg-orange-100 text-orange-800";case"LOW":return"bg-green-100 text-green-800";case"A":return"bg-green-100 text-green-800";case"B+":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},U=ie=>ie==="submitted"?n.jsx(Oo,{className:"w-4 h-4 text-green-600"}):n.jsx(fn,{className:"w-4 h-4 text-orange-600"}),P=ie=>new Date(ie).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),I=c.filter(ie=>ie.status==="pending").length,z=c.filter(ie=>ie.status==="submitted").length,W=ie=>{ie>=1&&ie<=b&&x(ie)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Student Assignment Management"}),n.jsx("p",{className:"text-gray-600",children:"Manage assignments with student details"})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Search assignments, students...",value:e,onChange:ie=>t(ie.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",disabled:d})]}),n.jsxs("select",{value:o,onChange:ie=>l(ie.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",disabled:d,children:[n.jsx("option",{value:"All",children:"All Classes"}),D.map(ie=>n.jsx("option",{value:ie,children:ie},ie))]}),n.jsxs("select",{value:r,onChange:ie=>a(ie.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",disabled:d,children:[n.jsx("option",{value:"All",children:"All Subjects"}),k.map(ie=>n.jsx("option",{value:ie,children:ie},ie))]}),n.jsxs("select",{value:s,onChange:ie=>i(ie.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",disabled:d,children:[n.jsx("option",{value:"All",children:"All Status"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"submitted",children:"Submitted"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("div",{className:"bg-blue-100 text-blue-800 px-3 py-2 rounded-lg text-sm font-medium",children:["Pending (",I,")"]}),n.jsxs("div",{className:"bg-green-100 text-green-800 px-3 py-2 rounded-lg text-sm font-medium",children:["Submitted (",z,")"]})]})]})]}),d&&n.jsxs("div",{className:"p-6 text-center",children:[n.jsx(fn,{className:"w-12 h-12 text-gray-400 mx-auto mb-4 animate-pulse"}),n.jsx("p",{className:"text-gray-500 text-lg",children:"Loading assignments..."})]}),m&&n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"bg-red-100 text-red-700 rounded-lg p-4 flex items-center",children:[n.jsx(Jn,{className:"w-5 h-5 mr-2"}),m]})}),!d&&!m&&n.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full min-w-max",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Student Info"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Roll No"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Class"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Subject"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Assignment"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Due Date"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Priority/Grade"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),n.jsxs("tbody",{className:"divide-y divide-gray-200",children:[L.map(ie=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(ks,{className:"w-5 h-5 text-gray-400 mr-2"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:ie.studentName}),n.jsx("div",{className:"text-xs text-gray-500",children:"Student"})]})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("span",{className:"text-sm font-mono text-gray-900 bg-gray-100 px-2 py-1 rounded",children:ie.rollNo})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full",children:ie.class})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Un,{className:"w-4 h-4 text-blue-600 mr-2"}),n.jsx("span",{className:"text-sm font-medium text-blue-600",children:ie.subject})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"max-w-xs",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:ie.title}),n.jsx("div",{className:"text-xs text-gray-500 mt-1 truncate",children:ie.description})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ia,{className:"w-4 h-4 text-gray-400 mr-2"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-gray-900",children:P(ie.dueDate)}),ie.submittedDate&&n.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["Submitted: ",P(ie.submittedDate)]})]})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Q(ie.priority)}`,children:ie.status==="submitted"&&ie.grade?ie.grade:ie.priority})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center",children:[U(ie.status),n.jsx("span",{className:`ml-2 text-sm font-medium capitalize ${ie.status==="submitted"?"text-green-600":"text-orange-600"}`,children:ie.status})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{className:"text-blue-600 hover:text-blue-800",children:n.jsx(mc,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>F(ie.id),className:"text-red-600 hover:text-red-800",children:n.jsx(Jn,{className:"w-5 h-5"})})]})})]},ie.id)),L.length===0&&c.length>0&&n.jsx("tr",{children:n.jsx("td",{colSpan:"9",className:"px-4 py-8 text-center text-gray-500",children:"No assignments match your current filters"})}),L.length===0&&c.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:"9",className:"px-4 py-8 text-center text-gray-500",children:"No assignments found"})})]})]})})}),!d&&!m&&C>0&&n.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(y-1)*v+1," to"," ",Math.min(y*v,C)," of ",C," ","records"]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>W(y-1),disabled:y===1,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg disabled:opacity-50 hover:bg-gray-300",children:"Previous"}),n.jsx("button",{onClick:()=>W(y+1),disabled:y===b,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg disabled:opacity-50 hover:bg-gray-300",children:"Next"})]})]})]})},mEe=()=>{const[e,t]=S.useState(!1),[r,a]=S.useState(null),[s,i]=S.useState(!1),[o,l]=S.useState(null),[c,u]=S.useState([]),[d,A]=S.useState(null),[m,h]=S.useState({name:"",students:"",price:"",duration:"Monthly",features:"",color:"blue"}),y=[{value:"blue",label:"Blue"},{value:"purple",label:"Purple"},{value:"green",label:"Green"},{value:"orange",label:"Orange"},{value:"red",label:"Red"}],x=["Monthly","Quarterly","Yearly"];S.useEffect(()=>{v()},[]);const v=async()=>{try{const P=await(await fetch("http://localhost:5000/api/packages",{method:"GET",headers:{"Content-Type":"application/json"}})).json();P.success?(u(P.data),A(null)):A("Failed to fetch packages")}catch(U){A("Error fetching packages"),console.error(U)}},b=U=>{const P={blue:"from-blue-500 to-blue-600 border-blue-200",purple:"from-purple-500 to-purple-600 border-purple-200",green:"from-green-500 to-green-600 border-green-200",orange:"from-orange-500 to-orange-600 border-orange-200",red:"from-red-500 to-red-600 border-red-200"};return P[U]||P.blue},j=U=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(U),C=(U=null)=>{a(U),h(U?{name:U.name,students:U.students,price:U.price,duration:U.duration,features:U.features.join(", "),color:U.color}:{name:"",students:"",price:"",duration:"Monthly",features:"",color:"blue"}),t(!0)},E=()=>{t(!1),a(null),A(null)},k=U=>{l(U),i(!0)},D=()=>{i(!1),l(null),A(null)},L=U=>{const{name:P,value:I}=U.target;h(z=>({...z,[P]:I}))},F=async U=>{U.preventDefault(),A(null);const P=m.features.split(",").map(z=>z.trim()).filter(z=>z),I={name:m.name,students:Number(m.students),price:Number(m.price),duration:m.duration,features:P,color:m.color};try{let z;r?z=await fetch(`http://localhost:5000/api/packages/${r._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(I)}):z=await fetch("http://localhost:5000/api/packages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(I)});const W=await z.json();W.success?(await v(),E()):A(W.message||"Failed to save package")}catch(z){A("Error saving package"),console.error(z)}},Q=async()=>{if(o)try{const P=await(await fetch(`http://localhost:5000/api/packages/${o._id}`,{method:"DELETE",headers:{"Content-Type":"application/json"}})).json();P.success?(await v(),D()):A(P.message||"Failed to delete package")}catch(U){A("Error deleting package"),console.error(U)}};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-6 rounded-b-3xl shadow-lg",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(yd,{className:"w-6 h-6"}),n.jsx("h1",{className:"text-2xl font-bold",children:"School Packages"})]}),n.jsxs("button",{onClick:()=>C(),className:"flex items-center space-x-2 bg-white bg-opacity-20 hover:bg-opacity-30 px-4 py-2 rounded-xl transition-all",children:[n.jsx(bs,{className:"w-4 h-4"}),n.jsx("span",{children:"Add Package"})]})]}),n.jsx("p",{className:"text-indigo-100 mt-2",children:"Manage school subscription packages"})]}),d&&n.jsx("div",{className:"p-4 mx-6 mt-4 bg-red-100 text-red-700 rounded-xl",children:d}),n.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(U=>n.jsxs("div",{className:`bg-white rounded-2xl p-6 shadow-sm border-2 ${b(U.color).split(" ")[2]} hover:shadow-lg transition-all`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-800",children:U.name}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>C(U),className:"p-1 text-blue-600 hover:bg-blue-50 rounded-lg",title:"Edit package",children:n.jsx(Ql,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>k(U),className:"p-1 text-red-600 hover:bg-red-50 rounded-lg",title:"Delete package",children:n.jsx(Jn,{className:"w-4 h-4"})})]})]}),n.jsx("div",{className:`bg-gradient-to-r ${b(U.color).split(" ").slice(0,2).join(" ")} text-white rounded-xl p-4 mb-4`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(rn,{className:"w-5 h-5"}),n.jsxs("span",{className:"font-semibold",children:[U.students," Students"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-2xl font-bold",children:j(U.price)}),n.jsxs("div",{className:"text-sm opacity-90",children:["/",U.duration]})]})]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Features:"}),U.features.map((P,I)=>n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[n.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),n.jsx("span",{children:P})]},I))]})]},U._id))}),e&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(yd,{className:"w-6 h-6 text-indigo-600"}),n.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:r?"Edit Package":"Add New Package"})]}),n.jsx("button",{onClick:E,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:n.jsx(pr,{className:"w-5 h-5 text-gray-500"})})]}),n.jsxs("form",{onSubmit:F,className:"p-6 space-y-6",children:[d&&n.jsx("div",{className:"p-4 bg-red-100 text-red-700 rounded-xl",children:d}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Package Name"}),n.jsx("input",{type:"text",name:"name",value:m.name,onChange:L,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",placeholder:"Enter package name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),n.jsx("select",{name:"color",value:m.color,onChange:L,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",children:y.map(U=>n.jsx("option",{value:U.value,children:U.label},U.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Students"}),n.jsx("input",{type:"number",name:"students",value:m.students,onChange:L,required:!0,min:"1",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",placeholder:"Enter max students"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price"}),n.jsx("input",{type:"number",name:"price",value:m.price,onChange:L,required:!0,min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",placeholder:"Enter price"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration"}),n.jsx("select",{name:"duration",value:m.duration,onChange:L,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",children:x.map(U=>n.jsx("option",{value:U,children:U},U))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Features (comma separated)"}),n.jsx("textarea",{name:"features",value:m.features,onChange:L,required:!0,rows:"3",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",placeholder:"Feature 1, Feature 2, Feature 3"})]}),n.jsxs("div",{className:"flex space-x-4 pt-6 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:E,className:"flex-1 py-3 px-6 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",className:"flex-1 py-3 px-6 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl font-semibold hover:shadow-lg transition-all",children:r?"Update Package":"Add Package"})]})]})]})}),s&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Confirm Deletion"}),n.jsx("button",{onClick:D,className:"p-1 hover:bg-gray-100 rounded-full",children:n.jsx(pr,{className:"w-5 h-5 text-gray-500"})})]}),n.jsxs("p",{className:"text-gray-600 mb-6",children:['Are you sure you want to delete the "',o?.name,'" package? This action cannot be undone.']}),d&&n.jsx("div",{className:"p-4 bg-red-100 text-red-700 rounded-xl mb-4",children:d}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsx("button",{onClick:D,className:"flex-1 py-3 px-6 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:Q,className:"flex-1 py-3 px-6 bg-red-600 text-white rounded-xl font-semibold hover:bg-red-700 transition-colors",children:"Delete"})]})]})})]})};/*!
 * Color Thief v2.0
 * by Lokesh Dhakar - http://www.lokeshdhakar.com
 *
 * Thanks
 * ------
 * Nick Rabinowitz - For creating quantize.js.
 * John Schulz - For clean up and optimization. @JFSIII
 * Nathan Spady - For adding drag and drop support to the demo page.
 *
 * License
 * -------
 * Copyright 2011, 2015 Lokesh Dhakar
 * Released under the MIT license
 * https://raw.githubusercontent.com/lokesh/color-thief/master/LICENSE
 *
 */var K3,rM;function pEe(){if(rM)return K3;rM=1;var e=function(s){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),document.body.appendChild(this.canvas),this.width=this.canvas.width=s.width,this.height=this.canvas.height=s.height,this.context.drawImage(s,0,0,this.width,this.height)};e.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},e.prototype.update=function(s){this.context.putImageData(s,0,0)},e.prototype.getPixelCount=function(){return this.width*this.height},e.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)},e.prototype.removeCanvas=function(){this.canvas.parentNode.removeChild(this.canvas)};var t=function(){};/*!
* quantize.js Copyright 2008 Nick Rabinowitz.
* Licensed under the MIT license: http://www.opensource.org/licenses/mit-license.php
*//*!
 * Block below copied from Protovis: http://mbostock.github.com/protovis/
 * Copyright 2010 Stanford Visualization Group
 * Licensed under the BSD License: http://www.opensource.org/licenses/bsd-license.php
 */if(t.prototype.getColor=function(s,i){var o=this.getPalette(s,5,i),l=o[0];return l},t.prototype.getPalette=function(s,i,o){typeof i>"u"&&(i=10),(typeof o>"u"||1>o)&&(o=10);for(var l,c,u,d,A,m=new e(s),h=m.getImageData(),y=h.data,x=m.getPixelCount(),v=[],b=0;x>b;b+=o)l=4*b,c=y[l+0],u=y[l+1],d=y[l+2],A=y[l+3],A>=125&&(c>250&&u>250&&d>250||v.push([c,u,d]));var j=a.quantize(v,i),C=j?j.palette():null;return m.removeCanvas(),C},!r)var r={map:function(s,i){var o={};return i?s.map(function(l,c){return o.index=c,i.call(o,l)}):s.slice()},naturalOrder:function(s,i){return i>s?-1:s>i?1:0},sum:function(s,i){var o={};return s.reduce(i?function(l,c,u){return o.index=u,l+i.call(o,c)}:function(l,c){return l+c},0)},max:function(s,i){return Math.max.apply(null,i?r.map(s,i):s)}};var a=(function(){function s(v,b,j){return(v<<2*m)+(b<<m)+j}function i(v){function b(){j.sort(v),C=!0}var j=[],C=!1;return{push:function(E){j.push(E),C=!1},peek:function(E){return C||b(),E===void 0&&(E=j.length-1),j[E]},pop:function(){return C||b(),j.pop()},size:function(){return j.length},map:function(E){return j.map(E)},debug:function(){return C||b(),j}}}function o(v,b,j,C,E,k,D){var L=this;L.r1=v,L.r2=b,L.g1=j,L.g2=C,L.b1=E,L.b2=k,L.histo=D}function l(){this.vboxes=new i(function(v,b){return r.naturalOrder(v.vbox.count()*v.vbox.volume(),b.vbox.count()*b.vbox.volume())})}function c(v){var b,j,C,E,k=1<<3*m,D=new Array(k);return v.forEach(function(L){j=L[0]>>h,C=L[1]>>h,E=L[2]>>h,b=s(j,C,E),D[b]=(D[b]||0)+1}),D}function u(v,b){var j,C,E,k=1e6,D=0,L=1e6,F=0,Q=1e6,U=0;return v.forEach(function(P){j=P[0]>>h,C=P[1]>>h,E=P[2]>>h,k>j?k=j:j>D&&(D=j),L>C?L=C:C>F&&(F=C),Q>E?Q=E:E>U&&(U=E)}),new o(k,D,L,F,Q,U,b)}function d(v,b){function j(ie){var X,le,re,he,de,ve=ie+"1",B=ie+"2",R=0;for(L=b[ve];L<=b[B];L++)if(z[L]>I/2){for(re=b.copy(),he=b.copy(),X=L-b[ve],le=b[B]-L,de=le>=X?Math.min(b[B]-1,~~(L+le/2)):Math.max(b[ve],~~(L-1-X/2));!z[de];)de++;for(R=W[de];!R&&z[de-1];)R=W[--de];return re[B]=de,he[ve]=re[B]+1,[re,he]}}if(b.count()){var C=b.r2-b.r1+1,E=b.g2-b.g1+1,k=b.b2-b.b1+1,D=r.max([C,E,k]);if(b.count()==1)return[b.copy()];var L,F,Q,U,P,I=0,z=[],W=[];if(D==C)for(L=b.r1;L<=b.r2;L++){for(U=0,F=b.g1;F<=b.g2;F++)for(Q=b.b1;Q<=b.b2;Q++)P=s(L,F,Q),U+=v[P]||0;I+=U,z[L]=I}else if(D==E)for(L=b.g1;L<=b.g2;L++){for(U=0,F=b.r1;F<=b.r2;F++)for(Q=b.b1;Q<=b.b2;Q++)P=s(F,L,Q),U+=v[P]||0;I+=U,z[L]=I}else for(L=b.b1;L<=b.b2;L++){for(U=0,F=b.r1;F<=b.r2;F++)for(Q=b.g1;Q<=b.g2;Q++)P=s(F,Q,L),U+=v[P]||0;I+=U,z[L]=I}return z.forEach(function(ie,X){W[X]=I-ie}),j(D==C?"r":D==E?"g":"b")}}function A(v,b){function j(F,Q){for(var U,P=1,I=0;y>I;)if(U=F.pop(),U.count()){var z=d(C,U),W=z[0],ie=z[1];if(!W||(F.push(W),ie&&(F.push(ie),P++),P>=Q)||I++>y)return}else F.push(U),I++}if(!v.length||2>b||b>256)return!1;var C=c(v);C.forEach(function(){});var E=u(v,C),k=new i(function(F,Q){return r.naturalOrder(F.count(),Q.count())});k.push(E),j(k,x*b);for(var D=new i(function(F,Q){return r.naturalOrder(F.count()*F.volume(),Q.count()*Q.volume())});k.size();)D.push(k.pop());j(D,b-D.size());for(var L=new l;D.size();)L.push(D.pop());return L}var m=5,h=8-m,y=1e3,x=.75;return o.prototype={volume:function(v){var b=this;return(!b._volume||v)&&(b._volume=(b.r2-b.r1+1)*(b.g2-b.g1+1)*(b.b2-b.b1+1)),b._volume},count:function(v){var b=this,j=b.histo;if(!b._count_set||v){var C,E,k,D=0;for(C=b.r1;C<=b.r2;C++)for(E=b.g1;E<=b.g2;E++)for(k=b.b1;k<=b.b2;k++)index=s(C,E,k),D+=j[index]||0;b._count=D,b._count_set=!0}return b._count},copy:function(){var v=this;return new o(v.r1,v.r2,v.g1,v.g2,v.b1,v.b2,v.histo)},avg:function(v){var b=this,j=b.histo;if(!b._avg||v){var C,E,k,D,L,F=0,Q=1<<8-m,U=0,P=0,I=0;for(E=b.r1;E<=b.r2;E++)for(k=b.g1;k<=b.g2;k++)for(D=b.b1;D<=b.b2;D++)L=s(E,k,D),C=j[L]||0,F+=C,U+=C*(E+.5)*Q,P+=C*(k+.5)*Q,I+=C*(D+.5)*Q;F?b._avg=[~~(U/F),~~(P/F),~~(I/F)]:b._avg=[~~(Q*(b.r1+b.r2+1)/2),~~(Q*(b.g1+b.g2+1)/2),~~(Q*(b.b1+b.b2+1)/2)]}return b._avg},contains:function(v){var b=this,j=v[0]>>h;return gval=v[1]>>h,bval=v[2]>>h,j>=b.r1&&j<=b.r2&&gval>=b.g1&&gval<=b.g2&&bval>=b.b1&&bval<=b.b2}},l.prototype={push:function(v){this.vboxes.push({vbox:v,color:v.avg()})},palette:function(){return this.vboxes.map(function(v){return v.color})},size:function(){return this.vboxes.size()},map:function(v){for(var b=this.vboxes,j=0;j<b.size();j++)if(b.peek(j).vbox.contains(v))return b.peek(j).color;return this.nearest(v)},nearest:function(v){for(var b,j,C,E=this.vboxes,k=0;k<E.size();k++)j=Math.sqrt(Math.pow(v[0]-E.peek(k).color[0],2)+Math.pow(v[1]-E.peek(k).color[1],2)+Math.pow(v[2]-E.peek(k).color[2],2)),(b>j||b===void 0)&&(b=j,C=E.peek(k).color);return C},forcebw:function(){var v=this.vboxes;v.sort(function(E,k){return r.naturalOrder(r.sum(E.color),r.sum(k.color))});var b=v[0].color;b[0]<5&&b[1]<5&&b[2]<5&&(v[0].color=[0,0,0]);var j=v.length-1,C=v[j].color;C[0]>251&&C[1]>251&&C[2]>251&&(v[j].color=[255,255,255])}},{quantize:A}})();return K3=t,K3}var gEe=pEe();const xEe=hf(gEe),yEe="http://localhost:5000/api/schools/pricing",vEe="http://localhost:5000/api/schools/pricing/save",G3="defaultPricingSettings",oG=()=>{const[e,t]=S.useState(0),[r,a]=S.useState(0),[s,i]=S.useState(0),[o,l]=S.useState(null),[c,u]=S.useState(""),[d,A]=S.useState(""),[m,h]=S.useState(!1);S.useEffect(()=>{(async()=>{try{h(!0);const j=await Vt.get(yEe),{perStudentPrice:C,serviceCharge:E,gstServiceCharge:k}=j.data.data||{},D={perStudentPrice:C||1e3,serviceCharge:E||5,gstServiceCharge:k||18};l(D),t(D.perStudentPrice),a(D.serviceCharge),i(D.gstServiceCharge)}catch{const C=localStorage.getItem(G3);if(C){const E=JSON.parse(C);l(E),t(E.perStudentPrice||1e3),a(E.serviceCharge||5),i(E.gstServiceCharge||18)}else l({perStudentPrice:1e3,serviceCharge:5,gstServiceCharge:18}),t(1e3),a(5),i(18);u("Failed to fetch pricing data. Using local defaults.")}finally{h(!1)}})()},[]);const y=()=>isNaN(e)||e<0?"Per Student Price must be a non-negative number.":isNaN(r)||r<0||r>100?"Service Charge must be a number between 0 and 100.":isNaN(s)||s<0||s>100?"GST Charge must be a number between 0 and 100.":"",x=async()=>{u(""),A(""),h(!0);const b=y();if(b){u(b),h(!1);return}const j={perStudentPrice:e,serviceCharge:r,gstServiceCharge:s};localStorage.setItem(G3,JSON.stringify(j));try{(await Vt.post(vEe,j)).data.success&&(l(j),A("Pricing settings saved successfully!"),setTimeout(()=>A(""),3e3))}catch(C){u(C?.response?.data?.message||"Failed to save to backend. Saved locally.")}finally{h(!1)}},v=()=>{const b={perStudentPrice:1e3,serviceCharge:5,gstServiceCharge:18};t(1e3),a(5),i(18),l(b),u(""),A("Settings reset to defaults."),setTimeout(()=>A(""),3e3),localStorage.setItem(G3,JSON.stringify(b))};return n.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans",children:[n.jsxs("div",{className:"bg-[#1C1444] text-white p-6 shadow-lg",children:[n.jsx("div",{className:"container mx-auto flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(wy,{className:"w-6 h-6 text-[#F37021]"}),n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Default Pricing Settings"})]})}),n.jsx("p",{className:"container mx-auto text-[#F37021] mt-2",children:"Configure and view default pricing for new schools"})]}),c&&n.jsx("div",{className:"container mx-auto mt-6 p-4 bg-red-50 text-red-700 rounded-lg shadow-sm",children:c}),d&&n.jsx("div",{className:"container mx-auto mt-6 p-4 bg-green-50 text-green-700 rounded-lg shadow-sm",children:d}),n.jsxs("div",{className:"container mx-auto p-6",children:[n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 mb-6",children:[n.jsxs("h2",{className:"text-lg font-semibold text-[#1C1444] mb-4 flex items-center",children:[n.jsx(wy,{className:"w-5 h-5 mr-2 text-[#F37021]"}),"Current Pricing Data"]}),m?n.jsx("p",{className:"text-[#1C1444]",children:"Loading pricing data..."}):o?n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{className:"text-sm text-[#1C1444]",children:[n.jsx(FC,{className:"inline w-4 h-4 mr-1 text-[#F37021]"}),"Per Student Price: ",o.perStudentPrice]}),n.jsxs("p",{className:"text-sm text-[#1C1444]",children:[n.jsx(ib,{className:"inline w-4 h-4 mr-1 text-[#F37021]"}),"Service Charge: ",o.serviceCharge,"%"]}),n.jsxs("p",{className:"text-sm text-[#1C1444]",children:[n.jsx(ib,{className:"inline w-4 h-4 mr-1 text-[#F37021]"}),"GST Charge: ",o.gstServiceCharge,"%"]})]}):n.jsx("p",{className:"text-sm text-[#1C1444]",children:"No pricing data available."})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("h2",{className:"text-lg font-semibold text-[#1C1444] mb-4 flex items-center",children:[n.jsx(wy,{className:"w-5 h-5 mr-2 text-[#F37021]"}),"Update Pricing Settings"]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"text-sm font-medium text-[#1C1444] flex items-center mb-2",children:[n.jsx(FC,{className:"w-5 h-5 mr-2 text-[#F37021]"}),"Per Student Price ()"]}),n.jsx("input",{type:"number",value:e,onChange:b=>t(Number(b.target.value)),placeholder:"Enter price per student (e.g., 1000)",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#F37021] text-[#1C1444] transition-colors",required:!0,min:"0",step:"1"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"text-sm font-medium text-[#1C1444] flex items-center mb-2",children:[n.jsx(ib,{className:"w-5 h-5 mr-2 text-[#F37021]"}),"Service Charge (%)"]}),n.jsx("input",{type:"number",value:r,onChange:b=>a(Number(b.target.value)),placeholder:"Enter service charge percentage (e.g., 5)",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#F37021] text-[#1C1444] transition-colors",required:!0,min:"0",max:"100",step:"0.1"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"text-sm font-medium text-[#1C1444] flex items-center mb-2",children:[n.jsx(ib,{className:"w-5 h-5 mr-2 text-[#F37021]"}),"GST Charge (%)"]}),n.jsx("input",{type:"number",value:s,onChange:b=>i(Number(b.target.value)),placeholder:"Enter GST percentage (e.g., 18)",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#F37021] text-[#1C1444] transition-colors",required:!0,min:"0",max:"100",step:"0.1"})]}),n.jsxs("div",{className:"flex space-x-4 pt-4",children:[n.jsxs("button",{type:"button",onClick:v,className:"flex-1 py-2 px-4 bg-gray-100 text-[#1C1444] rounded-lg hover:bg-gray-200 flex items-center justify-center space-x-2 transition-colors disabled:opacity-50",disabled:m,children:[n.jsx(ih,{className:"w-4 h-4 text-[#F37021]"}),n.jsx("span",{children:"Reset Defaults"})]}),n.jsxs("button",{type:"button",onClick:x,className:"flex-1 py-2 px-4 bg-[#F37021] text-white rounded-lg hover:bg-[#d65f1c] flex items-center justify-center space-x-2 transition-colors disabled:opacity-50",disabled:m,children:[n.jsx($l,{className:"w-4 h-4 text-white"}),n.jsx("span",{children:m?"Saving...":"Save Defaults"})]})]})]})]})]})]})},Xm="http://localhost:5000/api/schools",bEe="http://localhost:5000/api/schools/pricing",W3=Xm.substring(0,Xm.lastIndexOf("/")),wEe=["Online","Cash","Cheque","Bank Transfer"],NEe=()=>{const[e,t]=S.useState([]),[r,a]=S.useState(""),[s,i]=S.useState(!1),[o,l]=S.useState(!1),[c,u]=S.useState(!1),[d,A]=S.useState(!1),[m,h]=S.useState(null),[y,x]=S.useState(null),[v,b]=S.useState(""),[j,C]=S.useState(!0),[E,k]=S.useState({perStudentPrice:0,serviceCharge:0,gstServiceCharge:0}),[D,L]=S.useState(""),[F,Q]=S.useState(1),[U,P]=S.useState(1),[I,z]=S.useState(0),[W]=S.useState(10),[ie,X]=S.useState(!1),le=(Le,je)=>{let Ze;return(...Te)=>{clearTimeout(Ze),Ze=setTimeout(()=>Le.apply(null,Te),je)}};S.useCallback(le(Le=>{a(Le),Q(1)},500),[]);const[re,he]=S.useState({name:"",address:"",email:"",phone:"",password:"",color:"#000000",adminNumber:"",headDepartmentNumber:"",adminName:"",adminEmail:"",adminContact:"",perStudentPrice:"",totalStudent:1,serviceCharge:"",gstServiceCharge:"",totalPayAmount:"",managementApproved:!1,numberOfInstallments:1,installments:[]}),[de,ve]=S.useState(null),[B,R]=S.useState(null),[G,ne]=S.useState([]),[pe,xe]=S.useState("");S.useEffect(()=>{ee()},[]),S.useEffect(()=>{const Le=parseInt(re.numberOfInstallments)||1,je=parseFloat(re.totalPayAmount)||0;if(Le!==re.installments.length){const Ze=(je/Le).toFixed(2),Te=Array.from({length:Le},()=>({amount:Ze,paid:"0.00",dueDate:new Date,paidDate:null,paymentMethod:null,receiptUrl:null,remarks:""}));he(pt=>({...pt,installments:Te})),ne(new Array(Le).fill(null))}else if(re.installments.length>0){const Ze=re.installments.reduce((Te,pt)=>Te+parseFloat(pt.amount||0),0);if(Ze>0&&Math.abs(Ze-je)>.01){const Te=je/Ze,pt=re.installments.map(At=>({...At,amount:(parseFloat(At.amount||0)*Te).toFixed(2)}));he(At=>({...At,installments:pt}))}}},[re.totalPayAmount,re.numberOfInstallments]);const Ae=async(Le=1,je="")=>{try{X(!0);const Ze={page:Le,limit:W,...je&&{search:je}},Te=await Vt.get(Xm,{params:Ze});t(Te.data.data||[]),P(Te.data.totalPages||1),z(Te.data.total||0),Q(Te.data.page||1),xe("")}catch(Ze){xe(Ze?.response?.data?.message||"Failed to fetch schools"),t([]),z(0),P(1)}finally{X(!1)}};S.useEffect(()=>{Ae(F,r)},[F,r]);const Y=Le=>{Le>=1&&Le<=U&&Q(Le)},se=()=>{const Le=[];let Ze=Math.max(1,F-Math.floor(2.5)),Te=Math.min(U,Ze+5-1);Te-Ze+1<5&&(Ze=Math.max(1,Te-5+1));for(let pt=Ze;pt<=Te;pt++)Le.push(pt);return Le},ee=async()=>{try{const Le=await Vt.get(bEe),je={perStudentPrice:Le.data.data.perStudentPrice||0,serviceCharge:Le.data.data.serviceCharge||0,gstServiceCharge:Le.data.data.gstServiceCharge||0};k(je),he(Ze=>{const Te=be(je.perStudentPrice,je.serviceCharge,je.gstServiceCharge,Ze.totalStudent);return{...Ze,perStudentPrice:je.perStudentPrice.toString(),serviceCharge:je.serviceCharge.toString(),gstServiceCharge:je.gstServiceCharge.toString(),totalPayAmount:Te,numberOfInstallments:1,installments:[{amount:Te,paid:"0.00",dueDate:new Date,paidDate:null,paymentMethod:null,receiptUrl:null,remarks:""}]}})}catch(Le){xe(Le?.response?.data?.message||"Failed to fetch default pricing")}},be=(Le,je,Ze,Te)=>{const pt=parseFloat(Le)||0,At=parseFloat(je)||0,qe=parseFloat(Ze)||0,Pe=parseInt(Te)||1,mt=pt*Pe+At,Qe=mt*qe/100;return((mt+Qe)*12).toFixed(2)},Ce=Le=>{const je=Le.target.files[0];if(ve(je),je){const Ze=URL.createObjectURL(je);R(Ze);const Te=new Image;Te.crossOrigin="anonymous",Te.src=Ze,Te.onload=()=>{const pt=new xEe;try{const[At,qe,Pe]=pt.getColor(Te),mt=`rgb(${At}, ${qe}, ${Pe})`;he(Qe=>({...Qe,color:mt}))}catch(At){console.error("Color extraction failed:",At)}}}else R(null)},ce=(Le=null)=>{if(h(Le),ne([]),Le){const je=Le?.installments||[],Ze=je.reduce((Te,pt)=>Te+(parseFloat(pt.amount)||0),0).toFixed(2);he({name:Le?.name||"",address:Le?.address||"",email:Le?.email||"",phone:Le?.phone||"",password:"",color:Le?.color||"#000000",adminNumber:Le?.adminNumber||"",headDepartmentNumber:Le?.headDepartmentNumber||"",adminName:Le?.adminName||"",adminEmail:Le?.adminEmail||"",adminContact:Le?.adminContact||"",perStudentPrice:Le?.perStudentPrice?.toString()||"",totalStudent:Le?.totalStudent||1,serviceCharge:Le?.serviceCharge?.toString()||"",gstServiceCharge:Le?.gstServiceCharge?.toString()||"",totalPayAmount:Ze,managementApproved:Le?.managementApproved||!1,numberOfInstallments:je.length||1,installments:je.length?je.map(Te=>({amount:parseFloat(Te.amount||0).toFixed(2),paid:parseFloat(Te.paid||0).toFixed(2),dueDate:new Date(Te.dueDate),paidDate:Te.paidDate?new Date(Te.paidDate):null,paymentMethod:Te.paymentMethod||null,receiptUrl:Te.receiptUrl||null,remarks:Te.remarks||""})):[{amount:Ze,paid:"0.00",dueDate:new Date,paidDate:null,paymentMethod:null,receiptUrl:null,remarks:""}]}),ne(new Array(je.length).fill(null)),R(Le?.logoUrl?`${W3}${Le.logoUrl}`:null)}else{const je=E.perStudentPrice,Ze=E.serviceCharge,Te=E.gstServiceCharge,pt=1,At=be(je,Ze,Te,pt);he({name:"",address:"",email:"",phone:"",password:"",color:"#000000",adminNumber:"",headDepartmentNumber:"",adminName:"",adminEmail:"",adminContact:"",perStudentPrice:je.toString(),totalStudent:pt,serviceCharge:Ze.toString(),gstServiceCharge:Te.toString(),totalPayAmount:At,managementApproved:!1,numberOfInstallments:1,installments:[{amount:At,paid:"0.00",dueDate:new Date,paidDate:null,paymentMethod:null,receiptUrl:null,remarks:""}]}),ne([null]),R(null)}ve(null),xe(""),i(!0)},J=()=>{i(!1),h(null),ve(null),R(null),ne([]),xe("")},ge=Le=>{x(Le),ve(null),R(Le?.logoUrl?`${W3}${Le.logoUrl}`:null),xe(""),l(!0)},Je=()=>{l(!1),x(null),ve(null),R(null),xe("")},Ke=async Le=>{try{const je=JSON.parse(localStorage.getItem("schoolsExcelData")||"[]"),Ze={...Le,dateAdded:new Date().toISOString(),id:Le._id||Date.now().toString()},Te=[...je,Ze];localStorage.setItem("schoolsExcelData",JSON.stringify(Te))}catch(je){console.error("Failed to save to local storage:",je)}},Fe=(Le,je,Ze)=>{he(Te=>{const pt=[...Te.installments];return pt[Le]={...pt[Le],[je]:Ze},{...Te,installments:pt}})},nt=Le=>je=>{const Ze=je.target.files[0],Te=[...G];Te[Le]=Ze,ne(Te)},Se=Le=>{const{amount:je,paid:Ze,dueDate:Te}=Le,pt=parseFloat(je),At=parseFloat(Ze);return At>=pt?"paid":At>0&&At<pt?"partial":new Date>new Date(Te)&&At<pt?"overdue":"pending"},Me=async Le=>{Le.preventDefault(),xe("");const je=parseFloat(re.perStudentPrice)||0,Ze=parseFloat(re.serviceCharge)||0,Te=parseFloat(re.gstServiceCharge)||0,pt=parseInt(re.totalStudent,10)||1,At=parseInt(re.numberOfInstallments)||1;if(!re.name||!re.name.match(/^[a-zA-Z\s]+$/)){xe("School name is required and must contain only letters and spaces");return}if(!re.email||!re.email.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)){xe("Valid school email is required");return}if(re.phone&&!re.phone.match(/^\d{10}$/)){xe("Phone number must be exactly 10 digits");return}if(!re.adminName||!re.adminName.match(/^[a-zA-Z\s]+$/)){xe("Administrator name is required and must contain only letters and spaces");return}if(!re.adminEmail||!re.adminEmail.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)){xe("Valid administrator email is required");return}if(!re.adminNumber||!re.adminNumber.match(/^\d+$/)){xe("Administrator unique number is required and must be numeric");return}if(!re.headDepartmentNumber||!re.headDepartmentNumber.match(/^\d+$/)){xe("Head department number is required and must be numeric");return}if(!re.adminContact||!re.adminContact.match(/^\d{10}$/)){xe("Administrator contact number must be exactly 10 digits");return}if(!m&&(!re.password||re.password.length<6)){xe("Password is required and must be at least 6 characters");return}if(isNaN(je)||je<0){xe("Per student price is required and must be non-negative");return}if(isNaN(Ze)||Ze<0){xe("Service charge is required and must be non-negative");return}if(isNaN(Te)||Te<0||Te>100){xe("GST service charge is required and must be between 0 and 100");return}if(isNaN(pt)||pt<1){xe("Total students must be at least 1");return}if(!m&&!de){xe("Logo is required for new schools");return}if(re.installments.length!==At){xe("Number of installments does not match installment entries");return}const qe=re.installments.reduce((Qe,st)=>Qe+parseFloat(st.amount||0),0),Pe=parseFloat(re.totalPayAmount);if(Math.abs(qe-Pe)>.01){xe("Sum of installment amounts must equal total pay amount");return}for(let Qe=0;Qe<re.installments.length;Qe++){const st=re.installments[Qe];if(!st.amount||parseFloat(st.amount)<=0){xe(`Installment ${Qe+1} amount must be greater than 0`);return}if(!st.dueDate){xe(`Installment ${Qe+1} due date is required`);return}if(st.paid&&parseFloat(st.paid)>parseFloat(st.amount)){xe(`Installment ${Qe+1} paid amount cannot exceed the installment amount`);return}if(parseFloat(st.paid)>0&&!st.paymentMethod){xe(`Installment ${Qe+1} payment method is required if paid amount is greater than 0`);return}if(st.paymentMethod&&(st.paymentMethod==="Cheque"||st.paymentMethod==="Bank Transfer")&&parseFloat(st.paid)>0&&!st.receiptUrl&&!G[Qe]){xe(`Installment ${Qe+1} requires a receipt for Cheque or Bank Transfer payments`);return}}const mt=new FormData;mt.append("name",re.name),mt.append("address",re.address),mt.append("email",re.email),mt.append("phone",re.phone),mt.append("password",re.password||""),mt.append("color",re.color),mt.append("adminNumber",re.adminNumber),mt.append("headDepartmentNumber",re.headDepartmentNumber),mt.append("adminName",re.adminName),mt.append("adminEmail",re.adminEmail),mt.append("adminContact",re.adminContact),mt.append("perStudentPrice",je.toFixed(2)),mt.append("totalStudent",pt.toString()),mt.append("serviceCharge",Ze.toFixed(2)),mt.append("gstServiceCharge",Te.toFixed(2)),mt.append("managementApproved",re.managementApproved.toString()),mt.append("numberOfInstallments",At.toString()),mt.append("installments",JSON.stringify(re.installments.map(Qe=>({amount:Number(parseFloat(Qe.amount).toFixed(2)),paid:Number(parseFloat(Qe.paid||0).toFixed(2)),dueDate:Qe.dueDate.toISOString(),paidDate:Qe.paidDate?Qe.paidDate.toISOString():null,paymentMethod:Qe.paymentMethod,receiptUrl:Qe.receiptUrl,remarks:Qe.remarks})))),de&&mt.append("logo",de),G.forEach((Qe,st)=>{Qe&&mt.append(`receipts[${st}]`,Qe)});try{let Qe;m?Qe=await Vt.put(`${Xm}/logo/${m._id}`,mt,{headers:{"Content-Type":"multipart/form-data"}}):Qe=await Vt.post(`${Xm}/logo`,mt,{headers:{"Content-Type":"multipart/form-data"}}),await Ke(Qe.data.data),J(),Ae(F,r)}catch(Qe){xe(Qe?.response?.data?.message||"Failed to save school")}},at=async Le=>{if(Le.preventDefault(),xe(""),!de){xe("Please select a logo file");return}const je=new FormData;je.append("logo",de);try{await Vt.put(`${Xm}/logos/${y._id}`,je,{headers:{"Content-Type":"multipart/form-data"}}),Je(),Ae(F,r)}catch(Ze){xe(Ze?.response?.data?.message||"Failed to upload logo")}},ke=async()=>{if(window.confirm("Are you sure you want to delete this logo?"))try{await Vt.delete(`${Xm}/logos/${y._id}`),Je(),Ae(F,r)}catch(Le){xe(Le?.response?.data?.message||"Failed to delete logo")}},Ve=async Le=>{if(window.confirm("Are you sure you want to delete this school?"))try{await Vt.delete(`${Xm}/${Le}`),Ae(F,r)}catch(je){xe(je?.response?.data?.message||"Failed to delete school")}},ze=()=>{if(!v){xe("Password is required for export");return}if(v!=="admin123"){xe("Invalid password");return}try{const Le=Ge.map(qe=>({"School Name":qe.name,"School Code":qe.schoolCode||"N/A",Address:qe.address||"N/A",Email:qe.email,Phone:qe.phone||"N/A","Admin Number":qe.adminNumber||"N/A","Head Dept Number":qe.headDepartmentNumber||"N/A","Admin Name":qe.adminName||"N/A","Admin Email":qe.adminEmail||"N/A","Admin Contact":qe.adminContact||"N/A","Total Students":qe.totalStudent||"N/A","Per Student Price":`${qe.perStudentPrice}`,"Service Charge":`${qe.serviceCharge}`,"GST Service Charge":`${qe.gstServiceCharge}%`,"Total Pay Amount":`${qe.totalPayAmount||"N/A"}`,"Number of Installments":qe.numberOfInstallments||"N/A","Payment Status":qe.paymentStatus||"N/A","Total Paid":`${qe.paid||"0.00"}`,"Total Pending":`${qe.pending||"0.00"}`,Installments:qe.installments?qe.installments.map((Pe,mt)=>`Installment ${mt+1}: ${Pe.amount} (Paid: ${Pe.paid}, Due: ${new Date(Pe.dueDate).toLocaleDateString()}${Pe.paymentMethod?`, Method: ${Pe.paymentMethod}`:""}${Pe.remarks?`, Remarks: ${Pe.remarks}`:""})`).join("; "):"N/A","Management Approved":qe.managementApproved?"Yes":"No","Subscription Duration":qe.duration?new Date(qe.duration).toLocaleDateString():"N/A",Color:qe.color,"Date Added":new Date(qe.createdAt||Date.now()).toLocaleDateString()})),je=`schools_${new Date().toISOString().split("T")[0]}.xlsx`,Ze=Ni.json_to_sheet(Le),Te=Ni.book_new();Ni.book_append_sheet(Te,Ze,"Schools");const pt=[];Object.keys(Le[0]||{}).forEach((qe,Pe)=>{const mt=Math.max(qe.length,...Le.map(Qe=>String(Qe[qe]||"").length));pt[Pe]={width:Math.min(mt+2,50)}}),Ze["!cols"]=pt,qv(Te,je),u(!1),b(""),xe("")}catch{xe("Failed to export data")}},rt=(Le,je)=>{he(Ze=>{const Te={...Ze,[Le]:je},pt=be(Te.perStudentPrice,Te.serviceCharge,Te.gstServiceCharge,Te.totalStudent);return{...Te,totalPayAmount:pt}})},Ge=e.filter(Le=>Le.name.toLowerCase().includes(r.toLowerCase())),bt=Le=>Le?Le.startsWith("/")?`${W3}${Le}`:Le:null;return n.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#1C1444]/5 to-white",children:[n.jsxs("div",{className:"bg-[#1C1444] text-white p-6 sm:p-8 rounded-b-3xl shadow-2xl",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between max-w-5xl mx-auto",children:[n.jsxs("div",{className:"flex items-center space-x-4 mb-4 sm:mb-0",children:[n.jsx(Lo,{className:"w-8 h-8"}),n.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold tracking-tight",children:"School Management System"}),j&&n.jsxs("span",{className:"bg-[#F37021]/20 text-[#F37021] px-3 py-1 rounded-full text-sm font-semibold flex items-center",children:[n.jsx(kw,{className:"w-4 h-4 inline mr-1"}),"Super Admin"]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("button",{onClick:()=>A(!0),className:"p-3 bg-white bg-opacity-20 rounded-full hover:bg-opacity-30 transition-all duration-200",title:"Manage Default Pricing",children:n.jsx(wy,{className:"w-6 h-6"})}),n.jsx("button",{onClick:()=>u(!0),className:"p-3 bg-white bg-opacity-20 rounded-full hover:bg-opacity-30 transition-all duration-200",title:"Export Data",children:n.jsx(Ln,{className:"w-6 h-6"})}),n.jsx("button",{onClick:()=>ce(),className:"p-3 bg-white bg-opacity-20 rounded-full hover:bg-opacity-30 transition-all duration-200",title:"Add New School",children:n.jsx(bs,{className:"w-6 h-6"})})]})]}),n.jsx("p",{className:"text-white/80 mt-3 max-w-5xl mx-auto text-center sm:text-left",children:"Streamline school administration and payment processes"})]}),n.jsxs("div",{className:"p-4 sm:p-8 max-w-5xl mx-auto",children:[n.jsxs("div",{className:"mb-8 relative",children:[n.jsx(on,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-[#1C1444]/60 w-6 h-6"}),n.jsx("input",{type:"text",placeholder:"Search schools by name...",value:r,onChange:Le=>a(Le.target.value),className:"w-full sm:max-w-lg pl-12 pr-4 py-4 border border-[#1C1444]/20 rounded-xl focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200"})]}),pe&&n.jsxs("div",{className:"p-4 bg-red-50 text-red-700 rounded-xl mb-6 flex items-center shadow-sm transition-all duration-200",children:[n.jsx(pr,{className:"w-5 h-5 mr-2"}),pe]}),n.jsx("div",{className:"grid grid-cols-1 gap-6",children:ie?n.jsxs("div",{className:"text-center py-16 bg-white rounded-xl shadow-sm",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#F37021] mx-auto mb-4"}),n.jsx("p",{className:"text-[#1C1444] text-lg font-medium",children:"Loading schools..."})]}):e.length===0?n.jsxs("div",{className:"text-center py-16 bg-white rounded-xl shadow-sm",children:[n.jsx(Lo,{className:"w-20 h-20 mx-auto text-[#1C1444]/60 mb-4 transition-transform duration-200 hover:scale-110"}),n.jsx("p",{className:"text-[#1C1444] text-lg font-medium",children:r?"No schools match your search":"No schools registered"}),!r&&n.jsx("p",{className:"text-[#1C1444]/80 mt-2",children:"Add your first school to get started!"})]}):e.map(Le=>n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md hover:shadow-lg transition-all duration-300 border border-[#1C1444]/10 w-full",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-4 mb-4 sm:mb-0",children:[Le.logoUrl?n.jsx("img",{src:bt(Le.logoUrl),alt:`${Le.name} logo`,className:"w-16 h-16 object-contain rounded-full border border-[#1C1444]/20 transition-transform duration-200 hover:scale-105"}):n.jsx("div",{className:"w-16 h-16 bg-[#1C1444]/10 rounded-full flex items-center justify-center",children:n.jsx(d0,{className:"w-8 h-8 text-[#1C1444]/60"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-[#1C1444]",children:Le.name}),n.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[n.jsx("div",{className:"w-5 h-5 rounded-full border",style:{backgroundColor:Le.color}}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Le.managementApproved?"bg-green-100 text-green-800":"bg-[#F37021]/10 text-[#F37021]"}`,children:Le.managementApproved?"Approved":"Pending"}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Le.paymentStatus==="paid"?"bg-green-100 text-green-800":Le.paymentStatus==="partial"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:Le.paymentStatus.toUpperCase()})]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>ge(Le),className:"p-2 text-[#F37021] hover:bg-[#F37021]/10 rounded-lg transition-all duration-200",title:"Update Logo",children:n.jsx(XR,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>ce(Le),className:"p-2 text-[#F37021] hover:bg-[#F37021]/10 rounded-lg transition-all duration-200",title:"Edit School",children:n.jsx(Ql,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>Ve(Le._id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-all duration-200",title:"Delete School",children:n.jsx(Jn,{className:"w-5 h-5"})})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center text-[#1C1444]/80",children:[n.jsx(kte,{className:"w-5 h-5 mr-3 text-[#F37021]"}),n.jsx("span",{className:"text-sm font-semibold",children:"Code:"}),n.jsx("span",{className:"ml-2 text-sm",children:Le.schoolCode||"N/A"})]}),n.jsxs("div",{className:"flex items-center text-[#1C1444]/80",children:[n.jsx(Mp,{className:"w-5 h-5 mr-3 text-[#F37021]"}),n.jsx("span",{className:"text-sm",children:Le.address||"N/A"})]}),n.jsxs("div",{className:"flex items-center text-[#1C1444]/80",children:[n.jsx(Zf,{className:"w-5 h-5 mr-3 text-[#F37021]"}),n.jsx("span",{className:"text-sm",children:Le.email})]}),n.jsxs("div",{className:"flex items-center text-[#1C1444]/80",children:[n.jsx(ah,{className:"w-5 h-5 mr-3 text-[#F37021]"}),n.jsx("span",{className:"text-sm",children:Le.phone||"N/A"})]})]}),n.jsxs("div",{className:"mt-4 p-4 bg-[#1C1444]/5 rounded-lg",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"flex items-center text-[#1C1444]",children:[n.jsx(rn,{className:"w-5 h-5 mr-2 text-[#F37021]"}),n.jsx("span",{className:"text-sm font-medium",children:"Students:"}),n.jsx("span",{className:"ml-2 text-sm",children:Le.totalStudent||"N/A"})]}),n.jsxs("div",{className:"flex items-center text-[#1C1444]",children:[n.jsx(Bu,{className:"w-5 h-5 mr-2 text-[#F37021]"}),n.jsx("span",{className:"text-sm font-medium",children:"Per Student:"}),n.jsxs("span",{className:"ml-2 text-sm",children:["",parseFloat(Le.perStudentPrice).toFixed(2)]})]}),n.jsxs("div",{className:"flex items-center text-[#1C1444]",children:[n.jsx(Bu,{className:"w-5 h-5 mr-2 text-[#F37021]"}),n.jsx("span",{className:"text-sm font-medium",children:"Service:"}),n.jsxs("span",{className:"ml-2 text-sm",children:["",parseFloat(Le.serviceCharge).toFixed(2)]})]}),n.jsxs("div",{className:"flex items-center text-[#1C1444]",children:[n.jsx(YR,{className:"w-5 h-5 mr-2 text-[#F37021]"}),n.jsx("span",{className:"text-sm font-medium",children:"GST:"}),n.jsxs("span",{className:"ml-2 text-sm",children:[parseFloat(Le.gstServiceCharge).toFixed(2),"%"]})]}),n.jsxs("div",{className:"flex items-center text-[#1C1444]",children:[n.jsx(Bu,{className:"w-5 h-5 mr-2 text-[#F37021]"}),n.jsx("span",{className:"text-sm font-medium",children:"Total:"}),n.jsxs("span",{className:"ml-2 text-sm",children:["",parseFloat(Le.totalPayAmount).toFixed(2)]})]}),n.jsxs("div",{className:"flex items-center text-[#1C1444]",children:[n.jsx(Bu,{className:"w-5 h-5 mr-2 text-[#F37021]"}),n.jsx("span",{className:"text-sm font-medium",children:"Paid:"}),n.jsxs("span",{className:"ml-2 text-sm",children:["",parseFloat(Le.paid).toFixed(2)]})]}),n.jsxs("div",{className:"flex items-center text-[#1C1444]",children:[n.jsx(Bu,{className:"w-5 h-5 mr-2 text-[#F37021]"}),n.jsx("span",{className:"text-sm font-medium",children:"Pending:"}),n.jsxs("span",{className:"ml-2 text-sm",children:["",parseFloat(Le.pending).toFixed(2)]})]}),n.jsxs("div",{className:"flex items-center text-[#1C1444]",children:[n.jsx(Wf,{className:"w-5 h-5 mr-2 text-[#F37021]"}),n.jsx("span",{className:"text-sm font-medium",children:"Installments:"}),n.jsx("span",{className:"ml-2 text-sm",children:Le.numberOfInstallments})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("h4",{className:"text-sm font-semibold text-[#1C1444] mb-2",children:"Installments:"}),Le.installments?.map((je,Ze)=>n.jsxs("div",{className:"flex items-center text-[#1C1444]/80 text-sm mb-1",children:[n.jsxs("span",{children:["Installment ",Ze+1,": ",parseFloat(je.amount).toFixed(2)," (Paid: ",parseFloat(je.paid).toFixed(2),", Due:"," ",new Date(je.dueDate).toLocaleDateString(),je.paymentMethod?`, ${je.paymentMethod}`:"",je.remarks?`, ${je.remarks}`:"",")"]}),je.receiptUrl&&n.jsx("a",{href:bt(je.receiptUrl),target:"_blank",rel:"noopener noreferrer",className:"ml-2 text-[#F37021] hover:underline",children:"[Receipt]"})]},je._id))]})]})]},Le._id))}),U>1&&n.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"text-sm text-[#1C1444]/70",children:["Showing ",(F-1)*W+1," to"," ",Math.min(F*W,I)," of ",I," schools"]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>Y(F-1),disabled:F===1,className:`p-2 rounded-lg transition-all duration-200 ${F===1?"text-[#1C1444]/30 cursor-not-allowed":"text-[#1C1444] hover:bg-[#1C1444]/10"}`,children:n.jsx(Do,{className:"w-5 h-5"})}),se().map(Le=>n.jsx("button",{onClick:()=>Y(Le),className:`px-3 py-1 rounded-lg transition-all duration-200 ${Le===F?"bg-[#F37021] text-white":"text-[#1C1444] hover:bg-[#1C1444]/10"}`,children:Le},Le)),n.jsx("button",{onClick:()=>Y(F+1),disabled:F===U,className:`p-2 rounded-lg transition-all duration-200 ${F===U?"text-[#1C1444]/30 cursor-not-allowed":"text-[#1C1444] hover:bg-[#1C1444]/10"}`,children:n.jsx(ro,{className:"w-5 h-5"})})]})]})})]}),s&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-all duration-300",children:n.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl transform transition-all duration-300 scale-100",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 sm:p-8 border-b border-[#1C1444]/10",children:[n.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-[#1C1444] flex items-center",children:[n.jsx(Lo,{className:"w-7 h-7 mr-3 text-[#F37021]"}),m?"Edit School":"Add New School"]}),n.jsx("button",{onClick:J,className:"text-[#1C1444]/60 hover:text-[#1C1444] p-2 rounded-full hover:bg-[#1C1444]/10 transition-all duration-200",children:n.jsx(pr,{className:"w-6 h-6 sm:w-7 h-7"})})]}),n.jsxs("form",{onSubmit:Me,className:"p-6 sm:p-8 space-y-8",encType:"multipart/form-data",children:[pe&&n.jsxs("div",{className:"p-4 bg-red-50 text-red-700 rounded-xl text-sm flex items-center shadow-sm transition-all duration-200",children:[n.jsx(pr,{className:"w-5 h-5 mr-2"}),pe]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-[#1C1444] flex items-center mb-4",children:[n.jsx(Lo,{className:"w-6 h-6 mr-2 text-[#F37021]"}),"School Details"]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"School Name"}),n.jsx("input",{type:"text",placeholder:"Enter school name (letters only)",value:re.name,onChange:Le=>he({...re,name:Le.target.value}),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"School Email Address"}),n.jsx("input",{type:"email",placeholder:"Enter school email (login)",value:re.email,onChange:Le=>he({...re,email:Le.target.value}),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"School Address"}),n.jsx("textarea",{placeholder:"Enter school address",value:re.address,onChange:Le=>he({...re,address:Le.target.value}),rows:"3",className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"School Primary Contact Number"}),n.jsx("input",{type:"tel",placeholder:"Enter 10-digit contact number",value:re.phone,onChange:Le=>he({...re,phone:Le.target.value}),maxLength:10,className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Password"}),n.jsx("input",{type:"password",placeholder:"Enter password (min 6 characters)",value:re.password,onChange:Le=>he({...re,password:Le.target.value}),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!m})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-[#1C1444] flex items-center mb-4",children:[n.jsx(rn,{className:"w-6 h-6 mr-2 text-[#F37021]"}),"Administrator Details"]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Administrator Name"}),n.jsx("input",{type:"text",placeholder:"Enter admin name (letters only)",value:re.adminName,onChange:Le=>he({...re,adminName:Le.target.value}),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Administrator Email"}),n.jsx("input",{type:"email",placeholder:"Enter admin email",value:re.adminEmail,onChange:Le=>he({...re,adminEmail:Le.target.value}),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Administrator Unique Number"}),n.jsx("input",{type:"tel",placeholder:"Enter numeric admin number",value:re.adminNumber,onChange:Le=>he({...re,adminNumber:Le.target.value}),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Head Department Number"}),n.jsx("input",{type:"tel",placeholder:"Enter numeric head dept number",value:re.headDepartmentNumber,onChange:Le=>he({...re,headDepartmentNumber:Le.target.value}),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Administrator Contact Number"}),n.jsx("input",{type:"tel",placeholder:"Enter 10-digit admin contact",value:re.adminContact,onChange:Le=>he({...re,adminContact:Le.target.value}),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-[#1C1444] flex items-center mb-4",children:[n.jsx(Bu,{className:"w-6 h-6 mr-2 text-[#F37021]"}),"Pricing & Payment"]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Total Students"}),n.jsx("input",{type:"number",placeholder:"Enter number of students",value:re.totalStudent,onChange:Le=>rt("totalStudent",Le.target.value),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0,min:"1"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Per Student Price ()"}),n.jsx("input",{type:"number",step:"0.01",placeholder:"Enter per student price",value:re.perStudentPrice,onChange:Le=>rt("perStudentPrice",Le.target.value),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0,min:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Service Charge ()"}),n.jsx("input",{type:"number",step:"0.01",placeholder:"Enter service charge",value:re.serviceCharge,onChange:Le=>rt("serviceCharge",Le.target.value),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0,min:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"GST Service Charge (%)"}),n.jsx("input",{type:"number",step:"0.01",placeholder:"Enter GST percentage",value:re.gstServiceCharge,onChange:Le=>rt("gstServiceCharge",Le.target.value),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0,min:"0",max:"100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Total Pay Amount ()"}),n.jsx("input",{type:"number",step:"0.01",value:re.totalPayAmount,readOnly:!0,className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg bg-[#1C1444]/5 cursor-not-allowed"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Number of Installments"}),n.jsx("input",{type:"number",min:"1",placeholder:"Enter number of installments",value:re.numberOfInstallments,onChange:Le=>he({...re,numberOfInstallments:parseInt(Le.target.value)||1}),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"checkbox",id:"managementApproved",checked:re.managementApproved,onChange:Le=>he({...re,managementApproved:Le.target.checked}),className:"w-4 h-4 text-[#F37021] border-[#1C1444]/20 rounded focus:ring-[#F37021]"}),n.jsx("label",{htmlFor:"managementApproved",className:"text-sm font-medium text-[#1C1444]",children:"Management Approved"})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-[#1C1444] flex items-center mb-4",children:[n.jsx(Wf,{className:"w-6 h-6 mr-2 text-[#F37021]"}),"Installments"]}),re.installments.map((Le,je)=>n.jsxs("div",{className:"mb-6 p-4 border border-[#1C1444]/20 rounded-lg shadow-sm",children:[n.jsxs("h4",{className:"text-md font-medium text-[#1C1444] mb-2",children:["Installment ",je+1]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-1 block",children:"Amount ()"}),n.jsx("input",{type:"number",step:"0.01",value:Le.amount,readOnly:!0,className:"w-full px-3 py-2 border border-[#1C1444]/20 rounded-lg bg-[#1C1444]/5 cursor-not-allowed"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-1 block",children:"Due Date"}),n.jsx("input",{type:"date",value:Le.dueDate.toISOString().split("T")[0],onChange:Ze=>Fe(je,"dueDate",new Date(Ze.target.value)),className:"w-full px-3 py-2 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-1 block",children:"Paid ()"}),n.jsx("input",{type:"number",step:"0.01",placeholder:"Enter paid amount",value:Le.paid,onChange:Ze=>Fe(je,"paid",Ze.target.value),className:"w-full px-3 py-2 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent",min:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-1 block",children:"Paid Date"}),n.jsx("input",{type:"date",value:Le.paidDate?Le.paidDate.toISOString().split("T")[0]:"",onChange:Ze=>Fe(je,"paidDate",Ze.target.value?new Date(Ze.target.value):null),className:"w-full px-3 py-2 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-1 block",children:"Payment Method"}),n.jsxs("select",{value:Le.paymentMethod||"",onChange:Ze=>Fe(je,"paymentMethod",Ze.target.value||null),className:"w-full px-3 py-2 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent",children:[n.jsx("option",{value:"",children:"Select Method"}),wEe.map(Ze=>n.jsx("option",{value:Ze,children:Ze},Ze))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-1 block",children:"Remarks"}),n.jsx("input",{type:"text",placeholder:"Enter remarks",value:Le.remarks,onChange:Ze=>Fe(je,"remarks",Ze.target.value),className:"w-full px-3 py-2 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent"})]}),(Le.paymentMethod==="Cheque"||Le.paymentMethod==="Bank Transfer")&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-1 block",children:"Upload Receipt"}),n.jsx("input",{type:"file",accept:"image/*,application/pdf",onChange:nt(je),className:"w-full px-3 py-2 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent"}),Le.receiptUrl&&n.jsx("a",{href:bt(Le.receiptUrl),target:"_blank",rel:"noopener noreferrer",className:"text-sm text-[#F37021] mt-1 block",children:"View Current Receipt"})]})]}),n.jsxs("div",{className:"mt-2 text-sm text-[#1C1444]",children:["Pending: ",(parseFloat(Le.amount)-parseFloat(Le.paid)).toFixed(2),n.jsx("span",{className:`ml-4 px-2 py-1 rounded-full text-xs ${Se(Le)==="paid"?"bg-green-100 text-green-800":Se(Le)==="partial"?"bg-yellow-100 text-yellow-800":Se(Le)==="overdue"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:Se(Le).toUpperCase()})]})]},je))]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-[#1C1444] flex items-center mb-4",children:[n.jsx(d0,{className:"w-6 h-6 mr-2 text-[#F37021]"}),"School Logo & Color"]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"logo",className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"School Logo"}),n.jsx("input",{type:"file",id:"logo",accept:"image/jpeg,image/jpg,image/png",onChange:Ce,className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!m}),B&&n.jsxs("div",{className:"mt-4 flex items-center space-x-4",children:[n.jsx("img",{src:B,alt:"Logo preview",className:"w-20 h-20 object-contain rounded-lg border border-[#1C1444]/20 transition-transform duration-200 hover:scale-105"}),n.jsx("p",{className:"text-sm text-[#1C1444]/80",children:de?`Selected: ${de.name}`:"Current logo"})]}),m&&!B&&!de&&n.jsx("p",{className:"text-sm text-[#1C1444]/80 mt-2",children:"No new logo selected. Current logo will be retained."})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("label",{htmlFor:"color",className:"text-sm font-medium text-[#1C1444]",children:"School Color"}),n.jsx("input",{type:"color",id:"color",value:re.color,onChange:Le=>he({...re,color:Le.target.value}),className:"w-16 h-16 p-1 border border-[#1C1444]/20 rounded-lg cursor-pointer",required:!0})]})]})]}),n.jsxs("div",{className:"flex space-x-4 pt-6",children:[n.jsx("button",{type:"button",onClick:J,className:"flex-1 px-6 py-3 border border-[#1C1444]/20 text-[#1C1444] rounded-lg hover:bg-[#1C1444]/10 transition-all duration-200",children:"Cancel"}),n.jsxs("button",{type:"submit",className:"flex-1 px-6 py-3 bg-gradient-to-r from-[#F37021] to-[#d55f1c] text-white rounded-lg hover:shadow-lg transition-all duration-200 flex items-center justify-center space-x-2",children:[n.jsx($l,{className:"w-5 h-5"}),n.jsx("span",{children:m?"Update":"Save"})]})]})]})]})}),c&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-all duration-300",children:n.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl transform transition-all duration-300 scale-100",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-[#1C1444]/10",children:[n.jsx("h2",{className:"text-xl font-bold text-[#1C1444]",children:"Export Data"}),n.jsx("button",{onClick:()=>u(!1),className:"text-[#1C1444]/60 hover:text-[#1C1444] p-2 rounded-full hover:bg-[#1C1444]/10 transition-all duration-200",children:n.jsx(pr,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[pe&&n.jsxs("div",{className:"p-3 bg-red-50 text-red-700 rounded-xl text-sm flex items-center shadow-sm transition-all duration-200",children:[n.jsx(pr,{className:"w-5 h-5 mr-2"}),pe]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Export Type:"}),n.jsx("select",{value:"schools",disabled:!0,className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",children:n.jsx("option",{value:"schools",children:"Schools Data"})})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:[n.jsx(tB,{className:"w-4 h-4 inline mr-1"}),"Export Password:"]}),n.jsx("input",{type:"password",placeholder:"Enter password to export",value:v,onChange:Le=>b(Le.target.value),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0}),n.jsx("p",{className:"text-xs text-[#1C1444]/80 mt-1",children:"Contact admin for export password"})]}),n.jsxs("div",{className:"flex space-x-4 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>u(!1),className:"flex-1 px-6 py-3 border border-[#1C1444]/20 text-[#1C1444] rounded-lg hover:bg-[#1C1444]/10 transition-all duration-200",children:"Cancel"}),n.jsxs("button",{onClick:ze,className:"flex-1 px-6 py-3 bg-gradient-to-r from-[#F37021] to-[#d55f1c] text-white rounded-lg hover:shadow-lg transition-all duration-200 flex items-center justify-center space-x-2",children:[n.jsx(Ln,{className:"w-5 h-5"}),n.jsx("span",{children:"Export Excel"})]})]})]})]})}),o&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-all duration-300",children:n.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl transform transition-all duration-300 scale-100",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-[#1C1444]/10",children:[n.jsx("h2",{className:"text-xl font-bold text-[#1C1444]",children:"Update Logo"}),n.jsx("button",{onClick:Je,className:"text-[#1C1444]/60 hover:text-[#1C1444] p-2 rounded-full hover:bg-[#1C1444]/10 transition-all duration-200",children:n.jsx(pr,{className:"w-6 h-6"})})]}),n.jsxs("form",{onSubmit:at,className:"p-6 space-y-6",children:[pe&&n.jsxs("div",{className:"p-3 bg-red-50 text-red-700 rounded-xl text-sm flex items-center shadow-sm transition-all duration-200",children:[n.jsx(pr,{className:"w-5 h-5 mr-2"}),pe]}),B&&n.jsxs("div",{className:"text-center",children:[n.jsx("img",{src:B,alt:"Logo preview",className:"w-24 h-24 object-contain mx-auto rounded-lg border border-[#1C1444]/20 transition-transform duration-200 hover:scale-105"}),n.jsx("p",{className:"text-sm text-[#1C1444]/80 mt-2",children:de?`Selected: ${de.name}`:"Current Logo"})]}),n.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png",onChange:Le=>{const je=Le.target.files[0];ve(je),R(je?URL.createObjectURL(je):null)},className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0}),n.jsxs("div",{className:"flex space-x-4 pt-4",children:[n.jsx("button",{type:"button",onClick:Je,className:"flex-1 px-6 py-3 border border-[#1C1444]/20 text-[#1C1444] rounded-lg hover:bg-[#1C1444]/10 transition-all duration-200",children:"Cancel"}),y?.logoUrl&&n.jsx("button",{type:"button",onClick:ke,className:"flex-1 px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all duration-200",children:"Delete Logo"}),n.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-gradient-to-r from-[#F37021] to-[#d55f1c] text-white rounded-lg hover:shadow-lg transition-all duration-200",children:"Update Logo"})]})]})]})}),d&&n.jsx(oG,{onClose:()=>A(!1)})]})},jEe=()=>{const[e,t]=S.useState(""),[r,a]=S.useState("all"),[s,i]=S.useState("all"),[o,l]=S.useState("all"),[c,u]=S.useState([]),[d,A]=S.useState(!0),[m,h]=S.useState("");S.useEffect(()=>{y()},[]);const y=async()=>{try{A(!0),h("");const D=localStorage.getItem("superadmin_token");console.log("Fetching payments from http://localhost:5000/api/payments");const L=await fetch("http://localhost:5000/api/payments",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${D}`}});if(!L.ok)throw new Error(`HTTP error! Status: ${L.status}`);const F=await L.json();if(console.log("API Response:",F),!F.success)throw new Error(F.message||"Failed to fetch payments");const Q=F.data.map(U=>{const P=new Date(U.createdAt);let I;switch(U?.packageId?.duration||"Monthly"){case"Monthly":I=new Date(P.setMonth(P.getMonth()+1));break;case"Quarterly":I=new Date(P.setMonth(P.getMonth()+3));break;case"Yearly":I=new Date(P.setFullYear(P.getFullYear()+1));break;default:I=new Date(P.setMonth(P.getMonth()+1))}const z=U?.packageId?.name.toLowerCase(),ie={"basic plan":"basic","premium plan":"premium","enterprise plan":"enterprise"}[z]||"basic",X={"Basic Plan":{students:50,features:["Basic Learning","Online Classes","Study Materials"]},"Premium Plan":{students:100,features:["Advanced Learning","Live Sessions","Personal Tutor","Assignments"]},"Enterprise Plan":{students:200,features:["All Features","Priority Support","Custom Content","Analytics"]}};return{id:U._id,customerName:U.name,email:U.email,phone:U.phone,packageName:U?.packageId?.name,packageType:ie,students:X[U?.packageId?.name]?.students||50,price:U.amount,duration:U?.packageId?.duration||"Monthly",paymentMethod:U.paymentMethod,transactionId:`TXN_${U._id}`,purchaseDate:U.createdAt,status:U.status,expiryDate:I.toISOString(),features:X[U?.packageId?.name]?.features||[]}});console.log("Mapped Purchase History:",Q),u(Q),h("")}catch(D){h("Error fetching payments: "+D.message),console.error("Fetch Error:",D)}finally{A(!1)}},x=D=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(D),v=D=>new Date(D).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),b=D=>{const L={active:{color:"bg-green-100 text-green-800",icon:Oo,text:"Active"},pending:{color:"bg-yellow-100 text-yellow-800",icon:fn,text:"Pending"},expired:{color:"bg-red-100 text-red-800",icon:ox,text:"Expired"},cancelled:{color:"bg-gray-100 text-gray-800",icon:ox,text:"Cancelled"}},F=L[D]||L.pending,Q=F.icon;return n.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${F.color}`,children:[n.jsx(Q,{className:"w-3 h-3 mr-1"}),F.text]})},j=D=>{const L={basic:"text-blue-600 bg-blue-50",premium:"text-purple-600 bg-purple-50",enterprise:"text-green-600 bg-green-50"};return L[D]||L.basic},C=S.useMemo(()=>c.filter(D=>{const L=D.customerName.toLowerCase().includes(e.toLowerCase())||D.email.toLowerCase().includes(e.toLowerCase())||D.transactionId.toLowerCase().includes(e.toLowerCase()),F=r==="all"||D.status===r,Q=s==="all"||D.packageType===s,U=new Date(D.purchaseDate),P=new Date;let I=!0;if(o!=="all")if(o==="today")I=U.toDateString()===P.toDateString();else if(o==="week"){const z=new Date(P.setDate(P.getDate()-7));I=U>=z}else o==="month"?I=U.getMonth()===P.getMonth()&&U.getFullYear()===P.getFullYear():o==="year"&&(I=U.getFullYear()===P.getFullYear());return L&&F&&Q&&I}),[e,r,s,o,c]),E=()=>{console.log("Exporting data...",C),alert("Export functionality would be implemented here")},k=S.useMemo(()=>{const D=c.length,L=c.filter(U=>U.status==="active").length,F=c.filter(U=>U.status==="active").reduce((U,P)=>U+P.price,0),Q=c.filter(U=>U.status==="active").reduce((U,P)=>U+P.students,0);return{total:D,active:L,totalRevenue:F,totalStudents:Q}},[c]);return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-6 rounded-b-3xl shadow-lg",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(yd,{className:"w-6 h-6"}),n.jsx("h1",{className:"text-2xl font-bold",children:"Package Purchase History"})]}),n.jsxs("button",{onClick:E,className:"flex items-center space-x-2 bg-white bg-opacity-20 hover:bg-opacity-30 px-4 py-2 rounded-xl transition-all",disabled:d,children:[n.jsx(Ln,{className:"w-4 h-4"}),n.jsx("span",{children:"Export"})]})]}),n.jsx("p",{className:"text-indigo-100 mt-2",children:"Manage and track all package purchases"})]}),d&&n.jsxs("div",{className:"p-6 text-center",children:[n.jsx(yd,{className:"w-12 h-12 text-gray-400 mx-auto mb-4 animate-pulse"}),n.jsx("p",{className:"text-gray-500 text-lg",children:"Loading payment history..."})]}),m&&n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"bg-red-100 text-red-700 rounded-lg p-4 flex items-center",children:[n.jsx(ox,{className:"w-5 h-5 mr-2"}),m]})}),!d&&!m&&n.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Purchases"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:k.total})]}),n.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:n.jsx(yd,{className:"w-6 h-6 text-blue-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Subscriptions"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:k.active})]}),n.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:n.jsx(Oo,{className:"w-6 h-6 text-green-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),n.jsx("p",{className:"text-2xl font-bold text-purple-600",children:x(k.totalRevenue)})]}),n.jsx("div",{className:"p-3 bg-purple-100 rounded-xl",children:n.jsx(Bu,{className:"w-6 h-6 text-purple-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),n.jsx("p",{className:"text-2xl font-bold text-orange-600",children:k.totalStudents})]}),n.jsx("div",{className:"p-3 bg-orange-100 rounded-xl",children:n.jsx(rn,{className:"w-6 h-6 text-orange-600"})})]})})]}),!d&&!m&&n.jsx("div",{className:"px-6 mb-6",children:n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),n.jsx("input",{type:"text",placeholder:"Search customers, email, or transaction ID...",value:e,onChange:D=>t(D.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),n.jsxs("select",{value:r,onChange:D=>a(D.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"expired",children:"Expired"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]}),n.jsxs("select",{value:s,onChange:D=>i(D.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"All Packages"}),n.jsx("option",{value:"basic",children:"Basic Plan"}),n.jsx("option",{value:"premium",children:"Premium Plan"}),n.jsx("option",{value:"enterprise",children:"Enterprise Plan"})]}),n.jsxs("select",{value:o,onChange:D=>l(D.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"All Time"}),n.jsx("option",{value:"today",children:"Today"}),n.jsx("option",{value:"week",children:"This Week"}),n.jsx("option",{value:"month",children:"This Month"}),n.jsx("option",{value:"year",children:"This Year"})]})]})})}),!d&&!m&&n.jsx("div",{className:"px-6 pb-6",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Package"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Purchase Date"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:C.map(D=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.customerName}),n.jsx("div",{className:"text-sm text-gray-500",children:D.email}),n.jsx("div",{className:"text-sm text-gray-500",children:D.phone})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${j(D.packageType)}`,children:D.packageName}),n.jsxs("div",{className:"text-sm text-gray-500 mt-1 flex items-center",children:[n.jsx(rn,{className:"w-3 h-3 mr-1"}),D.students," Students"]})]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:x(D.price)}),n.jsx("div",{className:"text-sm text-gray-500",children:D.duration})]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm text-gray-900",children:D.paymentMethod}),n.jsx("div",{className:"text-sm text-gray-500",children:D.transactionId})]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm text-gray-900",children:v(D.purchaseDate)}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Expires: ",v(D.expiryDate)]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b(D.status)})]},D.id))})]})}),C.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(yd,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No records found"}),n.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filter criteria"})]})]})})]})},lG=S.createContext(null),SEe="http://localhost:5000/api",CEe=({children:e})=>{const[t,r]=S.useState(null),[a,s]=S.useState(null),[i,o]=S.useState(null);S.useEffect(()=>{const m=localStorage.getItem("token"),h=localStorage.getItem("schoolId"),y=localStorage.getItem("schoolCode");m&&h&&y&&(r(m),s(h),o(y))},[]);const[l,c]=S.useState([]),u=async m=>{try{const h=await fetch(`${SEe}/classes/classes?schoolId=${m}`);if(!h.ok)throw new Error("Failed to fetch classes");const y=await h.json();if(!y.success)throw new Error(y.message||"Failed to fetch classes");c(y.data||[])}catch(h){console.log(h)}},d=(m,h,y)=>{localStorage.setItem("token",m),localStorage.setItem("schoolId",h),localStorage.setItem("schoolCode",y),r(m),s(h),o(y)},A=()=>{localStorage.removeItem("token"),localStorage.removeItem("schoolId"),localStorage.removeItem("schoolCode"),r(null),s(null),o(null),console.log("Logout successful - Authentication token cleared")};return S.useEffect(()=>{u(a)},[a]),n.jsx(lG.Provider,{value:{token:t,schoolId:a,schoolCode:i,login:d,logout:A,classesD:l},children:e})},EEe=()=>{const e=S.useContext(lG);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},BEe=({children:e})=>localStorage.getItem("teacherToken")?e:n.jsx(Xy,{to:"/login",replace:!0}),TEe=({children:e})=>{const{isAuthenticated:t,loading:r}=EEe(),a=localStorage.getItem("adminToken");return r?n.jsx("div",{children:"Loading authentication..."}):a?e:n.jsx(Xy,{to:"/login",replace:!0})},FEe=()=>{const{login:e,error:t}=JR(),[r,a]=S.useState(""),[s,i]=S.useState(""),[o,l]=S.useState(""),[c,u]=S.useState(!1),d=yc(),A=async m=>{m.preventDefault(),l(""),u(!0);try{await e(r,s)?d("/admin/dashboard"):l("Invalid credentials")}catch(h){l(h.message||"Login failed")}finally{u(!1)}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:n.jsx("div",{className:"container mx-auto flex justify-center",children:n.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md ",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:Vx,alt:"Logo",className:"h-20   object-cover shadow-md"}),n.jsx("div",{className:"absolute inset-0 "})]})}),n.jsx("h2",{className:"text-2xl font-bold text-[#1C1444] mb-6 text-center",children:"Super Admin Login"}),(o||t)&&n.jsxs("div",{className:"mb-6 p-4 bg-red-50 text-red-600 rounded-lg flex items-center space-x-2",children:[n.jsx(Da,{className:"w-5 h-5 text-red-600"}),n.jsx("span",{children:o||t})]}),n.jsxs("form",{onSubmit:A,children:[n.jsxs("div",{className:"mb-5",children:[n.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-2",htmlFor:"email",children:"Email"}),n.jsxs("div",{className:"relative",children:[n.jsx(Zf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#F37021] w-5 h-5"}),n.jsx("input",{id:"email",type:"email",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent text-[#1C1444] transition-all",value:r,onChange:m=>a(m.target.value),required:!0,placeholder:"Enter your email"})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-2",htmlFor:"password",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(tB,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#F37021] w-5 h-5"}),n.jsx("input",{id:"password",type:"password",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent text-[#1C1444] transition-all",value:s,onChange:m=>i(m.target.value),required:!0,placeholder:"Enter your password"})]})]}),n.jsx("button",{type:"submit",disabled:c,className:`w-full bg-[#F37021] text-white py-3 px-4 rounded-lg hover:bg-[#d65f1c] transition-all flex items-center justify-center ${c?"opacity-50 cursor-not-allowed":""}`,children:c?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Logging in..."]}):"Login"})]})]})})})},_Ee=({children:e})=>{const{user:t,loading:r}=JR();return r?n.jsx("div",{children:"Loading..."}):t?e:n.jsx(Xy,{to:"/superadmin-login",replace:!0})},kEe=()=>{const[e,t]=S.useState("available"),[r,a]=S.useState(""),[s,i]=S.useState([]),[o,l]=S.useState(!0),[c,u]=S.useState(""),[d,A]=S.useState([]),[m,h]=S.useState(""),[y,x]=S.useState(1),[v]=S.useState(10),[b,j]=S.useState(1),[C,E]=S.useState([{id:1,title:"Advanced Mathematics",author:"R.D. Sharma",isbn:"978-8193332456",student:"John Smith",studentId:"STU001",issueDate:"2023-11-01",dueDate:"2023-12-01",status:"overdue",renewCount:0},{id:2,title:"Physics Fundamentals",author:"H.C. Verma",isbn:"978-8177091878",student:"Emma Wilson",studentId:"STU002",issueDate:"2023-11-15",dueDate:"2023-12-15",status:"active",renewCount:1},{id:3,title:"Organic Chemistry",author:"Morrison & Boyd",isbn:"978-8131704815",student:"Michael Brown",studentId:"STU003",issueDate:"2023-11-20",dueDate:"2023-12-20",status:"active",renewCount:0}]);S.useEffect(()=>{k()},[]),S.useEffect(()=>{D(y)},[y]),S.useEffect(()=>{x(1)},[r,m]);const k=async()=>{try{const z=await(await fetch("http://localhost:5000/api/schools")).json();z.success&&A(z.data)}catch{}},D=async I=>{try{l(!0),u("");const z=localStorage.getItem("token"),W=await fetch(`http://localhost:5000/api/library/all-unfiltered?page=${I}&limit=${v}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${z}`}});if(!W.ok)throw new Error(`HTTP error! Status: ${W.status}`);const ie=await W.json();if(!ie.success)throw new Error(ie.message||"Failed to fetch books");const X=ie.data.map(le=>({id:le._id,title:le.title,author:le.author,isbn:le.isbn,subject:le.category,copiesAvailable:le.availableCopies,totalCopies:le.totalCopies,publisher:"Unknown",year:2023,schoolId:le.schoolId||""}));i(X),j(ie.totalPages||1),u("")}catch(z){u("Error fetching books: "+z.message)}finally{l(!1)}},F=s.map(I=>{const z=I.schoolId&&d.length?d.find(W=>W._id===I.schoolId):null;return{...I,schoolName:z?z.name:I.schoolId?"Unknown School":"No School"}}).filter(I=>(m===""||I.schoolId===m)&&(I.title.toLowerCase().includes(r.toLowerCase())||I.author.toLowerCase().includes(r.toLowerCase())||I.subject.toLowerCase().includes(r.toLowerCase())||I.isbn.includes(r))),Q=C.filter(I=>I.title.toLowerCase().includes(r.toLowerCase())||I.author.toLowerCase().includes(r.toLowerCase())||I.student.toLowerCase().includes(r.toLowerCase())||I.studentId.toLowerCase().includes(r.toLowerCase())),U=I=>{switch(I){case"overdue":return"bg-red-100 text-red-800";case"active":return"bg-green-100 text-green-800";case"due-soon":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},P=I=>{switch(I){case"overdue":return n.jsx(Da,{className:"w-4 h-4"});case"active":return n.jsx(Oo,{className:"w-4 h-4"});case"due-soon":return n.jsx(fn,{className:"w-4 h-4"});default:return n.jsx(Un,{className:"w-4 h-4"})}};return n.jsxs("div",{className:"space-y-6 p-4 bg-gray-50 min-h-screen",children:[n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-md border border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-[#1C1444] flex items-center",children:[n.jsx(qh,{className:"mr-3 text-[#F37021] h-8 w-8"}),"Library Management"]}),n.jsx("p",{className:"text-gray-500 mt-2 text-sm",children:"Manage books, issues, and returns with ease"})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:()=>t("available"),className:`px-5 py-2.5 rounded-lg font-medium transition-all duration-200 ${e==="available"?"bg-[#F37021] hover:bg-[#d65f1c] text-white shadow-md":"bg-gray-100 text-[#1C1444] hover:bg-gray-200"}`,children:"Available Books"}),n.jsx("button",{onClick:()=>t("issued"),className:`px-5 py-2.5 rounded-lg font-medium transition-all duration-200 ${e==="issued"?"bg-[#F37021] hover:bg-[#d65f1c] text-white shadow-md":"bg-gray-100 text-[#1C1444] hover:bg-gray-200"}`,children:"Issued Books"})]})]}),c&&n.jsxs("div",{className:"mb-6 p-4 bg-red-50 text-red-700 rounded-lg flex items-center border border-red-200",children:[n.jsx(Da,{className:"w-5 h-5 mr-2 text-red-600"}),c]}),n.jsxs("div",{className:"mb-6 flex items-center gap-4",children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444]",children:"Filter by School:"}),n.jsxs("select",{value:m,onChange:I=>h(I.target.value),className:"px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white transition-all duration-200",children:[n.jsx("option",{value:"",children:"All Schools"}),d.map(I=>n.jsx("option",{value:I._id,children:I.name},I._id))]})]}),n.jsxs("div",{className:"relative",children:[n.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#F37021] w-5 h-5"}),n.jsx("input",{type:"text",placeholder:`Search ${e==="available"?"books":"issued books"}...`,value:r,onChange:I=>a(I.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] placeholder-gray-400 transition-all duration-200",disabled:o})]})]}),o&&e==="available"&&n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-md text-center border border-gray-100",children:[n.jsx(Un,{className:"w-12 h-12 text-[#F37021] mx-auto mb-4 animate-pulse"}),n.jsx("p",{className:"text-[#1C1444] text-lg font-medium",children:"Loading books..."})]}),!o&&n.jsx("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden border border-gray-100",children:e==="available"?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"p-6 border-b border-gray-100",children:n.jsx("h2",{className:"text-xl font-semibold text-[#1C1444]",children:"Available Books"})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase",children:"Book Details"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase",children:"Boock Code"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase",children:"Subject"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase",children:"School"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase",children:"Availability"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:F.map(I=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-all duration-150",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 bg-[#1C1444]/10 rounded-lg flex items-center justify-center",children:n.jsx(Un,{className:"w-5 h-5 text-[#1C1444]"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"text-sm font-medium text-[#1C1444]",children:I.title}),n.jsxs("div",{className:"text-sm text-gray-500",children:["by ",I.author]}),n.jsxs("div",{className:"text-xs text-gray-400",children:[I.publisher,"  ",I.year]})]})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center text-sm text-[#1C1444]",children:[n.jsx(Pw,{className:"w-4 h-4 mr-1 text-[#F37021]"}),I.isbn]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:"px-3 py-1 text-xs font-semibold bg-[#F37021]/10 text-[#F37021] rounded-full",children:I.subject})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:"px-3 py-1 text-xs font-medium bg-[#1C1444]/10 text-[#1C1444] rounded-full",children:I.schoolName})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"text-sm",children:[n.jsxs("div",{className:"font-medium text-[#1C1444]",children:[I.copiesAvailable,"/",I.totalCopies," ","available"]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mt-2",children:n.jsx("div",{className:"bg-[#F37021] h-2.5 rounded-full transition-all duration-300",style:{width:`${I.copiesAvailable/I.totalCopies*100}%`}})})]})})]},I.id))})]})}),F.length===0&&n.jsx("div",{className:"p-6 text-center text-gray-500",children:"No books found"}),n.jsxs("div",{className:"flex justify-between items-center p-6 border-t border-gray-100",children:[n.jsx("button",{disabled:y<=1||o,onClick:()=>x(I=>I-1),className:"px-5 py-2.5 bg-gray-100 text-[#1C1444] rounded-lg font-medium hover:bg-gray-200 disabled:opacity-50 transition-all duration-200",children:"Previous"}),n.jsxs("span",{className:"text-sm text-[#1C1444] font-medium",children:["Page ",y," of ",b]}),n.jsx("button",{disabled:y>=b||o,onClick:()=>x(I=>I+1),className:"px-5 py-2.5 bg-gray-100 text-[#1C1444] rounded-lg font-medium hover:bg-gray-200 disabled:opacity-50 transition-all duration-200",children:"Next"})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"p-6 border-b border-gray-100",children:n.jsx("h2",{className:"text-xl font-semibold text-[#1C1444]",children:"Issued Books"})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase",children:"Book Details"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase",children:"Student"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase",children:"Issue Date"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase",children:"Due Date"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase",children:"Status"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:Q.map(I=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-all duration-150",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 bg-[#F37021]/10 rounded-lg flex items-center justify-center",children:n.jsx(qh,{className:"w-5 h-5 text-[#F37021]"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"text-sm font-medium text-[#1C1444]",children:I.title}),n.jsxs("div",{className:"text-sm text-gray-500",children:["by ",I.author]}),n.jsxs("div",{className:"text-xs text-gray-400 flex items-center",children:[n.jsx(Pw,{className:"w-3 h-3 mr-1 text-[#F37021]"}),I.isbn]})]})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"text-sm",children:[n.jsx("div",{className:"font-medium text-[#1C1444]",children:I.student}),n.jsx("div",{className:"text-gray-500",children:I.studentId})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center text-sm text-[#1C1444]",children:[n.jsx(Ia,{className:"w-4 h-4 mr-1 text-[#F37021]"}),I.issueDate]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center text-sm text-[#1C1444]",children:[n.jsx(Ia,{className:"w-4 h-4 mr-1 text-[#F37021]"}),I.dueDate]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("span",{className:`px-3 py-1 text-xs font-semibold rounded-full flex items-center space-x-1 w-fit ${U(I.status)}`,children:[P(I.status),n.jsx("span",{children:I.status.toUpperCase()})]})})]},I.id))})]})}),Q.length===0&&n.jsx("div",{className:"p-6 text-center text-gray-500",children:"No issued books found"})]})})]})},IEe=()=>{const[e,t]=S.useState(""),[r,a]=S.useState([]),[s,i]=S.useState(!0),[o,l]=S.useState(null),[c,u]=S.useState(1),[d]=S.useState(10),[A,m]=S.useState(1),[h,y]=S.useState(0),[x,v]=S.useState(""),[b,j]=S.useState([]);S.useEffect(()=>{(async()=>{try{i(!0);const W=await Vt.get("http://localhost:5000/api/circulars/all-unfiltered",{params:{page:c,limit:d,schoolId:x||void 0}});if(W.data.success){const ie=W.data.data.map(he=>({id:he._id,title:he.title||"Untitled",date:he.date?new Date(he.date).toISOString().split("T")[0]:"Not specified",author:he.author||"Administration",category:he.category||"General",priority:he.priority||"Medium",status:he.read?"read":"unread",description:he.content||"No description",schoolId:he.schoolId||""}));a(ie),m(W.data.totalPages||Math.ceil(W.data.count/d)),y(W.data.count||W.data.data.length);const le=[...new Set(ie.map(he=>he.schoolId).filter(Boolean))].map(async he=>{try{const de=await Vt.get(`http://localhost:5000/api/schools/${he}`);return de.data.success?de.data.data:{_id:he,name:"Unknown School"}}catch(de){return console.error(`Error fetching school ${he}:`,de),{_id:he,name:"Unknown School"}}}),re=await Promise.all(le);j(re.filter(Boolean))}else l(W.data.message||"No circulars found")}catch(W){console.error("Error fetching circulars:",W),l("Failed to load circulars. Please try again later.")}finally{i(!1)}})()},[c,d,x]);const C=()=>{c>1&&u(c-1)},E=()=>{c<A&&u(c+1)},k=z=>{z>=1&&z<=A&&u(z)},D=b;console.log("Schools:",b),console.log("Circular School IDs:",[...new Set(r.map(z=>z.schoolId).filter(Boolean))]),console.log("Filtered Schools:",D);const L=r.filter(z=>z.title.toLowerCase().includes(e.toLowerCase())||z.category.toLowerCase().includes(e.toLowerCase())||z.description.toLowerCase().includes(e.toLowerCase())||z.author.toLowerCase().includes(e.toLowerCase())),F=()=>{t(""),v(""),u(1)},Q=()=>{if(L.length===0){alert("No data to export");return}const z=L.map(he=>({Title:he.title,Date:he.date,Author:he.author,Category:he.category,Priority:he.priority,Status:he.status.charAt(0).toUpperCase()+he.status.slice(1),Description:he.description,"School Name":b.find(de=>de._id===he.schoolId)?.name||"Unknown School"})),W=Object.keys(z[0]),ie=[W.join(","),...z.map(he=>W.map(de=>`"${he[de]||""}"`).join(","))].join(`
`),X=new Blob([ie],{type:"text/csv;charset=utf-8;"}),le=document.createElement("a"),re=URL.createObjectURL(X);le.setAttribute("href",re),le.setAttribute("download",`circulars_${new Date().toISOString().split("T")[0]}.csv`),le.style.visibility="hidden",document.body.appendChild(le),le.click(),document.body.removeChild(le)},U=z=>{switch(z){case"High":return"bg-red-100 text-red-700";case"Medium":return"bg-yellow-100 text-yellow-700";case"Low":return"bg-green-100 text-green-700";default:return"bg-gray-100 text-[#1C1444]"}},P=z=>{switch(z){case"Academic":return"bg-[#F37021]/10 text-[#F37021]";case"Events":return"bg-purple-100 text-purple-700";case"Finance":return"bg-green-100 text-green-700";case"Sports":return"bg-[#F37021]/10 text-[#F37021]";default:return"bg-gray-100 text-[#1C1444]"}},I=async z=>{try{a(r.map(W=>W.id===z?{...W,status:"read"}:W)),await Vt.patch(`http://localhost:5000/api/circulars/${z}`,{read:!0})}catch{a(r.map(ie=>ie.id===z?{...ie,status:"unread"}:ie))}};return s?n.jsx("div",{className:"flex justify-center items-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#F37021]"})}):o?n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-md border border-gray-100 text-center",children:[n.jsx("div",{className:"text-red-700 mb-4",children:o}),n.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-[#F37021] text-white rounded-lg hover:bg-[#d65f1c] transition-all duration-200",children:"Retry"})]}):n.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 p-4 bg-gray-50 min-h-screen",children:[n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-md border border-gray-100",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(o0,{className:"w-6 h-6 text-[#F37021]"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-[#1C1444]",children:"School Circulars"}),n.jsx("p",{className:"text-gray-500 mt-2 text-sm",children:"Important announcements and notices"})]})]}),n.jsxs("button",{onClick:Q,className:"bg-[#F37021] hover:bg-[#d65f1c] text-white px-4 py-2 rounded-lg shadow-md flex items-center space-x-2 transition-all duration-200",title:"Export to CSV",disabled:s,children:[n.jsx(Ln,{className:"text-white"})," ",n.jsx("span",{children:"Export CSV"})]})]}),n.jsxs("div",{className:"flex space-x-6 text-sm mt-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-[#1C1444]",children:"Total:"}),n.jsx("span",{className:"font-semibold text-[#1C1444]",children:h})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-[#1C1444]",children:"Unread:"}),n.jsx("span",{className:"font-semibold text-[#1C1444]",children:r.filter(z=>z.status==="unread").length})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-[#1C1444]",children:"Filtered:"}),n.jsx("span",{className:"font-semibold text-[#1C1444]",children:L.length})]})]})]}),n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-md border border-gray-100",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 max-w-5xl",children:[n.jsxs("div",{className:"max-w-xs",children:[n.jsxs("label",{className:"block text-sm font-medium text-[#1C1444] mb-1 flex items-center",children:[n.jsx(Lo,{className:"mr-2 text-[#F37021]"}),"School"]}),n.jsxs("select",{value:x,onChange:z=>v(z.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white transition-all duration-200 text-sm",children:[n.jsx("option",{value:"",children:"All Schools"}),D.length>0?D.map(z=>n.jsx("option",{value:z._id,children:z.name.charAt(0).toUpperCase()+z.name.slice(1)||"Unnamed School"},z._id)):n.jsx("option",{disabled:!0,children:"No schools available"})]})]}),n.jsxs("div",{className:"max-w-xs",children:[n.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Search"}),n.jsxs("div",{className:"relative",children:[n.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#F37021] w-4 h-4"}),n.jsx("input",{type:"text",placeholder:"Search by title, category, description...",value:e,onChange:z=>t(z.target.value),className:"w-full pl-9 pr-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] placeholder-gray-400 transition-all duration-200 text-sm"})]})]})]}),n.jsx("div",{className:"flex items-center justify-between mt-4",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("span",{className:"text-sm text-[#1C1444] font-medium",children:["Showing ",L.length," of ",h," circulars"]}),n.jsx("button",{onClick:F,className:"px-4 py-2 border border-gray-200 rounded-lg hover:bg-gray-50 text-[#1C1444] font-medium transition-all duration-200 text-sm",children:"Clear Filters"})]})})]}),n.jsx("div",{className:"space-y-4",children:L.map(z=>n.jsx("div",{className:`bg-white rounded-2xl p-6 shadow-md border border-gray-100 hover:shadow-lg transition-shadow duration-200 ${z.status==="unread"?"border-l-4 border-l-[#F37021]":""}`,children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx("h3",{className:"text-lg font-semibold text-[#1C1444]",children:z.title}),z.status==="unread"&&n.jsx("span",{className:"w-2 h-2 bg-[#F37021] rounded-full"})]}),n.jsxs("div",{className:"flex items-center space-x-4 mb-3 text-sm",children:[n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${U(z.priority)}`,children:z.priority}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${P(z.category)}`,children:z.category}),z.schoolId&&n.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-[#F37021]/10 text-[#F37021] flex items-center",children:[n.jsx(Lo,{className:"w-3 h-3 mr-1 text-[#F37021]"}),b.find(W=>W._id===z.schoolId)?.name||"Unknown School"]})]}),n.jsx("p",{className:"text-[#1C1444] mb-3",children:z.description}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm text-[#1C1444]",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Ia,{className:"w-4 h-4 text-[#F37021]"}),n.jsx("span",{children:z.date})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(ks,{className:"w-4 h-4 text-[#F37021]"}),n.jsx("span",{children:z.author})]})]})]}),z.status==="unread"&&n.jsxs("button",{onClick:()=>I(z.id),className:"flex items-center space-x-1 text-sm text-[#F37021] hover:text-[#d65f1c] transition-all duration-200",children:[n.jsx(cs,{className:"w-4 h-4"}),n.jsx("span",{children:"Mark as read"})]})]})},z.id))}),h>0&&n.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-md border border-gray-100 flex items-center justify-between",children:[n.jsxs("div",{className:"text-sm text-[#1C1444] font-medium",children:["Page ",c," of ",A]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:C,disabled:c===1,className:`px-3 py-2 rounded-lg font-medium ${c===1?"bg-gray-200 text-[#1C1444] cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"} transition-all duration-200`,children:n.jsx(Do,{})}),Array.from({length:A},(z,W)=>W+1).filter(z=>z===1||z===A||z>=c-2&&z<=c+2).map(z=>n.jsx("button",{onClick:()=>k(z),className:`px-3 py-1 rounded-lg font-medium ${c===z?"bg-[#F37021] text-white":"bg-gray-100 text-[#1C1444] hover:bg-gray-200"} transition-all duration-200`,children:z},z)),n.jsx("button",{onClick:E,disabled:c===A,className:`px-3 py-2 rounded-lg font-medium ${c===A?"bg-gray-200 text-[#1C1444] cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"} transition-all duration-200`,children:n.jsx(ro,{})})]})]}),L.length===0&&r.length>0&&!s&&n.jsxs("div",{className:"bg-white rounded-2xl p-12 shadow-md border border-gray-100 text-center",children:[n.jsx(o0,{className:"w-12 h-12 mx-auto text-[#F37021] mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-[#1C1444] mb-2",children:"No circulars match your filters"}),n.jsx("button",{onClick:F,className:"text-[#F37021] hover:text-[#d65f1c] underline font-medium transition-all duration-200",children:"Clear filters to see all circulars"})]}),L.length===0&&r.length===0&&!s&&n.jsxs("div",{className:"bg-white rounded-2xl p-12 shadow-md border border-gray-100 text-center",children:[n.jsx(o0,{className:"w-12 h-12 mx-auto text-[#F37021] mb-4"}),n.jsx("p",{className:"text-[#1C1444]",children:"No circulars found"})]})]})},PEe=()=>{const[e,t]=S.useState(""),[r,a]=S.useState(!1),[s,i]=S.useState(null),[o,l]=S.useState([]),[c,u]=S.useState(!0),[d,A]=S.useState(null),[m,h]=S.useState(1),[y]=S.useState(10),[x,v]=S.useState(1),[b,j]=S.useState(0),[C,E]=S.useState(""),[k,D]=S.useState(""),[L,F]=S.useState(""),[Q,U]=S.useState(""),[P,I]=S.useState([]),[z,W]=S.useState([]);S.useEffect(()=>{(async()=>{try{const se=await Vt.get("http://localhost:5000/api/schools");se.data.success&&I(se.data.data)}catch{}})()},[]),S.useEffect(()=>{const Y=async()=>{try{const se=new Set;o.forEach(Ce=>{Ce.classTeacherOf&&se.add(Ce.classTeacherOf),Array.isArray(Ce.classes)&&Ce.classes.forEach(ce=>{ce.includes("-")||se.add(ce)})});const ee=Array.from(se).map(async Ce=>{try{const J=(await Vt.get(`http://localhost:5000/api/class/${Ce}`)).data?.data||{_id:Ce,className:"Unknown Class",section:""};return{_id:J._id,className:J.className,section:J.section||""}}catch(ce){return console.error(`Failed to fetch class ${Ce}:`,ce.message),{_id:Ce,className:"Unknown Class",section:""}}}),be=await Promise.all(ee);W(be.filter(Ce=>Ce._id&&Ce.className))}catch(se){console.error("Failed to fetch classes:",se.message)}};o.length>0&&Y()},[o]),S.useEffect(()=>{(async()=>{try{u(!0);const se=await Vt.get("http://localhost:5000/api/teacher",{params:{page:m,limit:y}});if(se.data.success){const ee=se.data.data.map(be=>({id:be._id,name:be.name||"Unknown",email:be.email||"N/A",phone:be.phone||"N/A",subject:Array.isArray(be.subjects)?be.subjects.join(", "):be.subjects||"N/A",classes:Array.isArray(be.classes)?be.classes:be.classes?[be.classes]:[],joiningDate:be.createdAt?new Date(be.createdAt).toLocaleDateString():"Not specified",address:"Not specified",salary:"Not specified",status:be.classTeacherOf?"Active":"Inactive",profilePic:be.profilePic||null,schoolId:be.schoolId||"",classTeacherOf:be.classTeacherOf||""}));l(ee),v(se.data.totalPages),j(se.data.total)}else A(se.data.message||"No teachers found")}catch{A("Failed to load teachers. Please try again later.")}finally{u(!1)}})()},[m,y]);const ie=()=>{m>1&&h(m-1)},X=()=>{m<x&&h(m+1)},le=Y=>{Y>=1&&Y<=x&&h(Y)},re=[...new Set(o.flatMap(Y=>Y.subject.split(", ").filter(Boolean)).filter(Boolean))],he=[...new Set(z.map(Y=>Y.className).filter(Boolean))].sort(),de=[...new Set(z.filter(Y=>Y.className===k).map(Y=>Y.section).filter(Boolean))].sort();S.useEffect(()=>{F("")},[k]);const ve=[...new Set(o.map(Y=>Y.schoolId).filter(Boolean))],B=P.filter(Y=>ve.includes(Y._id)),R=o.filter(Y=>{const se=Y.name.toLowerCase().includes(e.toLowerCase())||Y.subject.toLowerCase().includes(e.toLowerCase())||Y.email.toLowerCase().includes(e.toLowerCase())||Y.phone.includes(e),ee=!C||Y.subject.split(", ").includes(C),be=!k||Y.classes.some(ce=>{const J=z.find(ge=>ge._id===ce||`${ge.className}-${ge.section}`===ce);return J&&J.className===k&&(!L||J.section===L)})||Y.classTeacherOf&&z.find(ce=>ce._id===Y.classTeacherOf)?.className===k&&(!L||z.find(ce=>ce._id===Y.classTeacherOf)?.section===L),Ce=!Q||Y.schoolId===Q;return se&&ee&&be&&Ce}),G=()=>{t(""),E(""),D(""),F(""),U(""),h(1)},ne=()=>{if(R.length===0){alert("No data to export");return}const Y=R.map(J=>({"Teacher Name":J.name,Email:J.email,Phone:J.phone,Subjects:J.subject,Classes:J.classes.map(ge=>{const Je=z.find(Ke=>Ke._id===ge||`${Ke.className}-${Ke.section}`===ge);return Je?`${Je.className}${Je.section?`-${Je.section}`:""}`:ge}).join(", "),Status:J.status,"Joining Date":J.joiningDate,Address:J.address,Salary:J.salary,"School Name":P.find(ge=>ge._id===J.schoolId)?.name||"N/A"})),se=Object.keys(Y[0]),ee=[se.join(","),...Y.map(J=>se.map(ge=>`"${J[ge]||""}"`).join(","))].join(`
`),be=new Blob([ee],{type:"text/csv;charset=utf-8;"}),Ce=document.createElement("a"),ce=URL.createObjectURL(be);Ce.setAttribute("href",ce),Ce.setAttribute("download",`teachers_${new Date().toISOString().split("T")[0]}.csv`),Ce.style.visibility="hidden",document.body.appendChild(Ce),Ce.click(),document.body.removeChild(Ce)},pe=Y=>{i(Y),a(!0)},xe=()=>{a(!1),i(null)},Ae=Y=>Y==="Active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800";return c?n.jsx("div",{className:"flex justify-center items-center h-64 bg-gray-50 max-w-7xl mx-auto",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#F37021]"})}):d?n.jsxs("div",{className:"max-w-7xl mx-auto bg-white rounded-2xl p-6 shadow-md border border-gray-100 text-center",children:[n.jsx("div",{className:"text-red-500 mb-4",children:d}),n.jsx("button",{onClick:()=>window.location.reload(),className:"px-5 py-2.5 bg-[#F37021] text-white rounded-lg font-medium hover:bg-[#d65f1c] transition-all duration-200",children:"Retry"})]}):n.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 p-4 bg-gray-50 min-h-screen",children:[n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-md border border-gray-100",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-[#1C1444] flex items-center",children:[n.jsx(rn,{className:"mr-3 text-[#F37021] h-8 w-8"}),"Teachers Management"]}),n.jsx("p",{className:"text-gray-500 mt-2 text-sm",children:"Manage teacher profiles and information"})]}),n.jsxs("button",{onClick:ne,className:"bg-[#F37021] hover:bg-[#d65f1c] text-white px-5 py-2.5 rounded-lg shadow-md flex items-center space-x-2 transition-all duration-200",title:"Export to CSV",disabled:c,children:[n.jsx(Ln,{})," ",n.jsx("span",{children:"Export CSV"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-5 gap-3 mt-6",children:[n.jsxs("div",{className:"max-w-[180px]",children:[n.jsxs("label",{className:"block text-sm font-medium text-[#1C1444] mb-1 flex items-center",children:[n.jsx(Lo,{className:"mr-2 text-[#F37021]"}),"School"]}),n.jsxs("select",{value:Q,onChange:Y=>U(Y.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white transition-all duration-200 text-sm",children:[n.jsx("option",{value:"",children:"All Schools"}),B.map(Y=>n.jsx("option",{value:Y._id,children:Y.name},Y._id))]})]}),n.jsxs("div",{className:"max-w-[180px]",children:[n.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Subject"}),n.jsxs("select",{value:C,onChange:Y=>E(Y.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white transition-all duration-200 text-sm",children:[n.jsx("option",{value:"",children:"All Subjects"}),re.map(Y=>n.jsx("option",{value:Y,children:Y},Y))]})]}),n.jsxs("div",{className:"max-w-[180px]",children:[n.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Class"}),n.jsxs("select",{value:k,onChange:Y=>D(Y.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white transition-all duration-200 text-sm",children:[n.jsx("option",{value:"",children:"All Classes"}),he.map(Y=>n.jsx("option",{value:Y,children:Y},Y))]})]}),n.jsxs("div",{className:"max-w-[180px]",children:[n.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Section"}),n.jsxs("select",{value:L,onChange:Y=>F(Y.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white transition-all duration-200 text-sm",disabled:k===""||de.length===0,children:[n.jsx("option",{value:"",children:"All Sections"}),de.map(Y=>n.jsx("option",{value:Y,children:Y},Y))]})]}),n.jsxs("div",{className:"max-w-[180px]",children:[n.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Search"}),n.jsxs("div",{className:"relative",children:[n.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#F37021] w-4 h-4"}),n.jsx("input",{type:"text",placeholder:"Search...",value:e,onChange:Y=>t(Y.target.value),className:"w-full pl-9 pr-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] placeholder-gray-400 transition-all duration-200 text-sm"})]})]})]}),n.jsx("div",{className:"flex items-center justify-between mt-4",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("span",{className:"text-sm text-[#1C1444] font-medium",children:["Showing ",R.length," of ",b," teachers"]}),n.jsx("button",{onClick:G,className:"px-4 py-2 border border-gray-200 rounded-lg hover:bg-gray-50 text-[#1C1444] font-medium transition-all duration-200 text-sm",children:"Clear Filters"})]})})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden border border-gray-100",children:[n.jsx("div",{className:"p-6 border-b border-gray-100",children:n.jsxs("h2",{className:"text-xl font-semibold text-[#1C1444]",children:["All Teachers (",R.length,")"]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider",children:"Teacher"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider",children:"Contact"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider",children:"Subjects"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider",children:"Classes"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider",children:"School"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:R.map(Y=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-all duration-150",children:[n.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[Y.profilePic?n.jsx("img",{src:Y.profilePic||"/placeholder.svg",alt:Y.name,className:"w-10 h-10 rounded-full object-cover"}):n.jsx("div",{className:"w-10 h-10 bg-[#1C1444]/10 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-[#1C1444] font-semibold text-base",children:Y.name.split(" ").map(se=>se[0]).join("")})}),n.jsx("div",{className:"ml-3",children:n.jsx("div",{className:"text-sm font-medium text-[#1C1444]",children:Y.name})})]})}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"text-sm text-[#1C1444]",children:[n.jsxs("div",{className:"flex items-center mb-1",children:[n.jsx(Zf,{className:"w-4 h-4 mr-2 text-[#F37021]"}),Y.email]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(ah,{className:"w-4 h-4 mr-2 text-[#F37021]"}),Y.phone]})]})}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:n.jsxs("span",{className:"px-3 py-1 inline-flex text-xs font-semibold rounded-full bg-[#F37021]/10 text-[#F37021]",children:[n.jsx(Un,{className:"w-3 h-3 mr-1"}),Y.subject]})}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:n.jsxs("span",{className:"px-3 py-1 inline-flex text-xs font-semibold rounded-full bg-[#F37021]/10 text-[#F37021]",children:[n.jsx(Un,{className:"w-3 h-3 mr-1"}),Y.classes.map(se=>{const ee=z.find(be=>be._id===se||`${be.className}-${be.section}`===se);return ee?`${ee.className}${ee.section?`-${ee.section}`:""}`:se}).join(", ")]})}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:n.jsxs("span",{className:"px-3 py-1 inline-flex text-xs font-semibold rounded-full bg-[#1C1444]/10 text-[#1C1444]",children:[n.jsx(Lo,{className:"w-3 h-3 mr-1"}),P.find(se=>se._id===Y.schoolId)?.name||"N/A"]})}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-3 py-1 inline-flex text-xs font-semibold rounded-full ${Ae(Y.status)}`,children:Y.status})}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:n.jsx("div",{className:"flex space-x-2",children:n.jsx("button",{onClick:()=>pe(Y),className:"text-[#F37021] hover:text-[#d65f1c] p-1 rounded hover:bg-[#F37021]/10 transition-all duration-200",title:"View Details",children:n.jsx(cs,{className:"w-4 h-4"})})})})]},Y.id))})]})}),R.length===0&&o.length>0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(ks,{className:"w-12 h-12 mx-auto text-[#1C1444]/20 mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-[#1C1444] mb-2",children:"No teachers match your filters"}),n.jsx("button",{onClick:G,className:"text-[#F37021] hover:text-[#d65f1c] underline font-medium transition-all duration-200",children:"Clear filters to see all teachers"})]}),R.length===0&&o.length===0&&!c&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(ks,{className:"w-12 h-12 mx-auto text-[#1C1444]/20 mb-4"}),n.jsx("p",{className:"text-gray-500",children:"No teachers found matching your search."})]}),b>0&&n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-100",children:[n.jsxs("div",{className:"text-sm text-[#1C1444] font-medium",children:["Page ",m," of ",x]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:ie,disabled:m===1,className:`px-3 py-2 rounded-lg font-medium ${m===1?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"} transition-all duration-200`,children:n.jsx(Do,{})}),Array.from({length:x},(Y,se)=>se+1).filter(Y=>Y===1||Y===x||Y>=m-2&&Y<=m+2).map(Y=>n.jsx("button",{onClick:()=>le(Y),className:`px-3 py-1 rounded-lg font-medium ${m===Y?"bg-[#F37021] text-white":"bg-gray-100 text-[#1C1444] hover:bg-gray-200"} transition-all duration-200`,children:Y},Y)),n.jsx("button",{onClick:X,disabled:m===x,className:`px-3 py-2 rounded-lg font-medium ${m===x?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"} transition-all duration-200`,children:n.jsx(ro,{})})]})]})]}),r&&s&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto border border-gray-100",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[n.jsxs("h2",{className:"text-xl font-bold text-[#1C1444] flex items-center",children:[n.jsx("div",{className:"w-8 h-8 bg-[#F37021]/10 rounded-lg flex items-center justify-center mr-3",children:n.jsx(cs,{className:"text-[#F37021]"})}),"Teacher Details"]}),n.jsx("button",{onClick:xe,className:"text-[#1C1444] hover:text-[#F37021] transition-all duration-200",children:n.jsx(pr,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[s.profilePic?n.jsx("img",{src:s.profilePic||"/placeholder.svg",alt:s.name,className:"w-16 h-16 rounded-full object-cover"}):n.jsx("div",{className:"w-16 h-16 bg-[#1C1444]/10 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-[#1C1444] font-bold text-xl",children:s.name.split(" ").map(Y=>Y[0]).join("")})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-[#1C1444]",children:s.name}),n.jsxs("p",{className:"text-gray-500 text-sm",children:["Subjects: ",s.subject]}),n.jsxs("p",{className:"text-gray-500 text-sm",children:["School:"," ",P.find(Y=>Y._id===s.schoolId)?.name||"N/A"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Zf,{className:"w-5 h-5 text-[#F37021]"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),n.jsx("p",{className:"font-medium text-[#1C1444]",children:s.email})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(ah,{className:"w-5 h-5 text-[#F37021]"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Phone"}),n.jsx("p",{className:"font-medium text-[#1C1444]",children:s.phone})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Un,{className:"w-5 h-5 text-[#F37021]"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Subjects"}),n.jsx("p",{className:"font-medium text-[#1C1444]",children:s.subject})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Classes"}),n.jsx("p",{className:"font-medium text-[#1C1444]",children:s.classes.map(Y=>{const se=z.find(ee=>ee._id===Y||`${ee.className}-${ee.section}`===Y);return se?`${se.className}${se.section?`-${se.section}`:""}`:Y}).join(", ")})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),n.jsx("p",{className:"font-medium text-[#1C1444]",children:s.status})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"School"}),n.jsx("p",{className:"font-medium text-[#1C1444]",children:P.find(Y=>Y._id===s.schoolId)?.name||"N/A"})]})]})]})]})]})})]})},LEe=()=>{const[e,t]=S.useState(""),[r,a]=S.useState(!1),[s,i]=S.useState("view"),[o,l]=S.useState(null),[c,u]=S.useState("buses"),[d,A]=S.useState([]),[m,h]=S.useState(!0),[y,x]=S.useState(null),[v,b]=S.useState([]),[j,C]=S.useState("all"),[E,k]=S.useState([]),[D,L]=S.useState("all"),[F,Q]=S.useState("all"),[U,P]=S.useState(""),[I,z]=S.useState(""),[W,ie]=S.useState(""),[X,le]=S.useState(!1),[re,he]=S.useState({min:"",max:""}),[de,ve]=S.useState(1),B=10,[R,G]=S.useState(1),[ne,pe]=S.useState(0);localStorage.getItem("schoolId"),S.useEffect(()=>{(async()=>{try{h(!0);const Me=await Vt.get(`http://localhost:5000/api/transports/all-unfiltered?page=${de}&limit=${B}`);if(Me.data.success){const at=Me.data.data;A(at),G(Me.data.totalPages||1),pe(Me.data.total||0);const ke=new Map;at.forEach(bt=>{bt.schoolId&&typeof bt.schoolId=="object"&&bt.schoolId._id&&bt.schoolId.name&&ke.set(bt.schoolId._id,bt.schoolId)});const Ve=Array.from(ke.values());b(Ve);const ze=new Set;at.forEach(bt=>{Array.isArray(bt.assignedStudents)&&bt.assignedStudents.forEach(Le=>{Le.studentId?.classId&&ze.add(Le.studentId.classId)})});const rt=Array.from(ze).map(async bt=>{try{const je=(await Vt.get(`http://localhost:5000/api/class/${bt}`)).data?.data||{_id:bt,className:"Unknown Class",section:""};return{_id:je._id,className:je.className,section:je.section||""}}catch(Le){return console.error(`Failed to fetch class ${bt}:`,Le.message),{_id:bt,className:"Unknown Class",section:""}}}),Ge=await Promise.all(rt);k(Ge.filter(bt=>bt._id&&bt.className))}else x("Failed to fetch transport data: Invalid response")}catch(Me){x("Failed to fetch transport data: "+Me.message)}finally{h(!1)}})()},[de]);const xe=S.useMemo(()=>[...new Set(d.map(Se=>Se.schoolId&&typeof Se.schoolId=="object"?Se.schoolId._id:Se.schoolId))].filter(Boolean),[d]),Ae=S.useMemo(()=>v.filter(Se=>xe.includes(Se._id)).map(Se=>({...Se,name:Se.name||"Unknown School"})),[v,xe]),Y=S.useMemo(()=>[...new Set(E.map(Se=>Se.className))].sort(),[E]),se=S.useMemo(()=>D==="all"?[]:[...new Set(E.filter(Se=>Se.className===D).map(Se=>Se.section).filter(Se=>Se))].sort(),[D,E]);S.useEffect(()=>{Q("all")},[D]);const ee=S.useMemo(()=>d.filter(Se=>{if(j!=="all"&&(Se.schoolId&&typeof Se.schoolId=="object"?Se.schoolId._id:Se.schoolId)!==j||D!=="all"&&!(Array.isArray(Se.assignedStudents)&&Se.assignedStudents.some(ke=>{const Ve=E.find(ze=>ze._id===ke.studentId?.classId);return Ve&&Ve.className===D&&(F==="all"||Ve.section===F)}))||U&&Se.route!==U||I&&Se.status!==I||W&&Se.driverName!==W)return!1;if(re.min||re.max){const at=Se.totalCapacity||Se.capacity||0;if(re.min&&at<Number(re.min)||re.max&&at>Number(re.max))return!1}const Me=e.toLowerCase();return!(e&&!((Se.busNumber||"").toLowerCase().includes(Me)||(Se.route||"").toLowerCase().includes(Me)||(Se.driverName||"").toLowerCase().includes(Me)||(Se.routeName||"").toLowerCase().includes(Me)))}),[d,j,D,F,U,I,W,re,e,E]),be=[...new Set(d.map(Se=>Se.route).filter(Boolean))],Ce=[...new Set(d.map(Se=>Se.driverName).filter(Boolean))],ce=["Active","Maintenance","Inactive"],J=()=>{t(""),P(""),z(""),ie(""),he({min:"",max:""}),C("all"),L("all"),Q("all")},ge=()=>{if(ee.length===0){alert("No data to export");return}const Se=ee.map(rt=>({"Bus Number":rt.busNumber,Route:rt.route,"Route Name":rt.routeName,Driver:rt.driverName,"Driver Phone":rt.driverPhone,Capacity:rt.totalCapacity||rt.capacity,"Current Occupancy":rt.currentOccupancy,"Available Seats":rt.availableSeats,"Pickup Time":rt.pickupTime||rt.startTime,"Dropoff Time":rt.dropoffTime||rt.endTime,Status:rt.status,School:rt.schoolId&&typeof rt.schoolId=="object"?rt.schoolId.name||"Unknown School":v.find(Ge=>Ge._id===rt.schoolId)?.name||"Unknown School",Classes:Array.isArray(rt.assignedStudents)?rt.assignedStudents.map(Ge=>{const bt=E.find(Le=>Le._id===Ge.studentId?.classId);return bt?`${bt.className}${bt.section?`-${bt.section}`:""}`:"Unknown Class"}).filter(Boolean).join(", "):""})),Me=Object.keys(Se[0]),at=[Me.join(","),...Se.map(rt=>Me.map(Ge=>`"${rt[Ge]??""}"`).join(","))].join(`
`),ke=new Blob([at],{type:"text/csv;charset=utf-8;"}),Ve=document.createElement("a"),ze=URL.createObjectURL(ke);Ve.setAttribute("href",ze),Ve.setAttribute("download",`buses_${new Date().toISOString().split("T")[0]}.csv`),Ve.style.visibility="hidden",document.body.appendChild(Ve),Ve.click(),document.body.removeChild(Ve)},Je=Se=>{i("view"),l(Se),a(!0)},Ke=()=>{a(!1),l(null)},Fe=Se=>{switch(Se){case"Active":return"bg-green-100 text-green-800 border-green-200";case"Maintenance":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Inactive":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-[#1C1444] border-gray-200"}},nt=Se=>{Se>=1&&Se<=R&&ve(Se)};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-[#1C1444] text-white p-6 shadow-lg",children:n.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(gd,{className:"w-6 h-6 text-[#F37021]"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Transport Management"}),n.jsx("p",{className:"text-[#F37021] mt-1",children:"Manage buses, routes, and drivers"})]})]}),n.jsxs("button",{onClick:ge,className:"bg-[#F37021] hover:bg-[#d65f1c] text-white px-4 py-2 rounded-lg shadow-lg flex items-center space-x-2",title:"Export to CSV",disabled:m,children:[n.jsx(Ln,{className:"w-4 h-4 text-white"}),n.jsx("span",{children:"Export CSV"})]})]})}),n.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[n.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[n.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#F37021] w-4 h-4"}),n.jsx("input",{type:"text",placeholder:"Search bus, route, driver...",value:e,onChange:Se=>t(Se.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]"})]}),n.jsxs("select",{value:j,onChange:Se=>C(Se.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444] min-w-[150px]",children:[n.jsx("option",{value:"all",children:"All Schools"}),Ae.length>0?Ae.map(Se=>n.jsx("option",{value:Se._id,children:Se.name},Se._id)):n.jsx("option",{disabled:!0,children:"No schools available"})]}),n.jsxs("select",{value:D,onChange:Se=>L(Se.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444] min-w-[150px]",children:[n.jsx("option",{value:"all",children:"All Classes"}),Y.length>0?Y.map(Se=>n.jsx("option",{value:Se,children:Se},Se)):n.jsx("option",{disabled:!0,children:"No classes available"})]}),n.jsxs("select",{value:F,onChange:Se=>Q(Se.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444] min-w-[150px]",disabled:D==="all"||se.length===0,children:[n.jsx("option",{value:"all",children:"All Sections"}),se.length>0?se.map(Se=>n.jsx("option",{value:Se,children:Se},Se)):n.jsx("option",{disabled:!0,children:"No sections available"})]}),n.jsxs("button",{onClick:()=>le(!X),className:"flex items-center space-x-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-[#1C1444]",children:[n.jsx(Hl,{className:"w-4 h-4 text-[#F37021]"}),n.jsx("span",{children:"Advanced Filters"})]})]}),X&&n.jsx("div",{className:"border-t pt-4 mt-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Route"}),n.jsxs("select",{value:U,onChange:Se=>P(Se.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:[n.jsx("option",{value:"",children:"All Routes"}),be.map(Se=>n.jsx("option",{value:Se,children:Se},Se))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Status"}),n.jsxs("select",{value:I,onChange:Se=>z(Se.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:[n.jsx("option",{value:"",children:"All Status"}),ce.map(Se=>n.jsx("option",{value:Se,children:Se},Se))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Driver"}),n.jsxs("select",{value:W,onChange:Se=>ie(Se.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:[n.jsx("option",{value:"",children:"All Drivers"}),Ce.map(Se=>n.jsx("option",{value:Se,children:Se},Se))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Min Capacity"}),n.jsx("input",{type:"number",placeholder:"Min",value:re.min,onChange:Se=>he({...re,min:Se.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]"}),n.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1 mt-2",children:"Max Capacity"}),n.jsx("input",{type:"number",placeholder:"Max",value:re.max,onChange:Se=>he({...re,max:Se.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{onClick:J,className:"w-full px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-[#1C1444]",children:"Clear Filters"})})]})})]}),m?n.jsxs("div",{className:"text-center py-12 text-[#1C1444]",children:[n.jsx(gd,{className:"w-12 h-12 mx-auto text-[#F37021] mb-4 animate-pulse"}),"Loading..."]}):y?n.jsx("div",{className:"text-center py-12 text-red-700 bg-red-50 rounded-lg p-4",children:y}):n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("h2",{className:"text-lg font-semibold text-[#1C1444]",children:["Buses (",ee.length,")"]})}),n.jsx("div",{className:"relative overflow-x-auto",children:n.jsxs("table",{className:"w-full min-w-[800px]",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider min-w-[180px]",children:"Bus Details"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider min-w-[200px]",children:"Route & Driver"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider min-w-[180px]",children:"Schedule"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider min-w-[120px]",children:"Capacity"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider whitespace-nowrap",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider min-w-[120px]",children:"School"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider whitespace-nowrap",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ee.map(Se=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-12 h-12 bg-[#F37021]/10 rounded-lg flex items-center justify-center",children:n.jsx(gd,{className:"w-6 h-6 text-[#F37021]"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"text-sm font-medium text-[#1C1444]",children:Se.busNumber}),n.jsx("div",{className:"text-sm text-[#1C1444]",children:Se.transportType||"Bus"})]})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"text-sm text-[#1C1444]",children:[n.jsxs("div",{className:"flex items-center mb-1",children:[n.jsx(Y_,{className:"w-4 h-4 mr-2 text-[#F37021]"}),Se.routeName||Se.route]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(ks,{className:"w-4 h-4 mr-2 text-[#F37021]"}),Se.driverName]})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"text-sm text-[#1C1444]",children:[n.jsxs("div",{className:"flex items-center mb-1",children:[n.jsx(fn,{className:"w-4 h-4 mr-2 text-[#F37021]"}),Se.startTime||Se.pickupTime," -"," ",Se.endTime||Se.dropoffTime]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ite,{className:"w-4 h-4 mr-2 text-[#F37021]"}),Array.isArray(Se.operatingDays)?Se.operatingDays.join(", "):""]})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"text-sm",children:[n.jsxs("div",{className:"font-medium text-[#1C1444]",children:[Se.currentOccupancy??0,"/",Se.totalCapacity??Se.capacity??0]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:n.jsx("div",{className:"bg-[#F37021] h-2 rounded-full",style:{width:`${(Se.currentOccupancy??0)/(Se.totalCapacity??Se.capacity??1)*100}%`}})})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full border ${Fe(Se.status)}`,children:Se.status})}),n.jsx("td",{className:"px-6 py-4",children:Se.schoolId&&typeof Se.schoolId=="object"?n.jsxs("span",{className:"flex items-center text-[#1C1444]",children:[n.jsx(Lo,{className:"w-4 h-4 mr-1 text-[#F37021]"}),Se.schoolId.name||"Unknown School"]}):n.jsxs("span",{className:"flex items-center text-[#1C1444]",children:[n.jsx(Lo,{className:"w-4 h-4 mr-1 text-[#F37021]"}),v.find(Me=>Me._id===Se.schoolId)?.name||"Unknown School"]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsx("div",{className:"flex space-x-2",children:n.jsx("button",{onClick:()=>Je(Se),className:"text-[#F37021] hover:text-[#d65f1c] p-1 rounded hover:bg-[#F37021]/10",title:"View Details",children:n.jsx(cs,{className:"w-4 h-4"})})})})]},Se._id))})]})}),ee.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(gd,{className:"w-12 h-12 mx-auto text-[#F37021] mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-[#1C1444] mb-2",children:"No buses match your filters"}),n.jsx("button",{onClick:J,className:"text-[#F37021] hover:text-[#d65f1c] underline",children:"Clear filters to see all buses"})]}),!m&&ne>0&&n.jsxs("div",{className:"mt-6 flex justify-between items-center p-6 border-t border-gray-200",children:[n.jsxs("div",{className:"text-sm text-[#1C1444]",children:["Showing ",(de-1)*B+1," to"," ",Math.min(de*B,ne)," of"," ",ne," records"]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>nt(de-1),disabled:de===1,className:"px-4 py-2 bg-[#F37021] text-white rounded-lg disabled:opacity-50 hover:bg-[#d65f1c] transition-colors",children:"Previous"}),n.jsx("button",{onClick:()=>nt(de+1),disabled:de===R,className:"px-4 py-2 bg-[#F37021] text-white rounded-lg disabled:opacity-50 hover:bg-[#d65f1c] transition-colors",children:"Next"})]})]})]}),r&&o&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[n.jsxs("h2",{className:"text-xl font-bold text-[#1C1444] flex items-center",children:[n.jsx("div",{className:"w-8 h-8 bg-[#F37021]/10 rounded-lg flex items-center justify-center mr-3",children:n.jsx(cs,{className:"text-[#F37021]"})}),"Bus Details"]}),n.jsx("button",{onClick:Ke,className:"text-[#1C1444] hover:text-[#F37021]",children:n.jsx(pr,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[n.jsx("div",{className:"w-20 h-20 bg-[#F37021]/10 rounded-full flex items-center justify-center",children:n.jsx(gd,{className:"w-10 h-10 text-[#F37021]"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-2xl font-bold text-[#1C1444]",children:o.busNumber}),n.jsx("p",{className:"text-[#1C1444]",children:o.routeName||o.route}),n.jsx("p",{className:"text-[#1C1444]",children:o.schoolId&&typeof o.schoolId=="object"?o.schoolId.name||"Unknown School":v.find(Se=>Se._id===o.schoolId)?.name||"Unknown School"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Y_,{className:"w-5 h-5 text-[#F37021]"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-[#1C1444]",children:"Route"}),n.jsx("p",{className:"font-medium text-[#1C1444]",children:o.routeName||o.route})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(ks,{className:"w-5 h-5 text-[#F37021]"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-[#1C1444]",children:"Driver"}),n.jsx("p",{className:"font-medium text-[#1C1444]",children:o.driverName})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(ah,{className:"w-5 h-5 text-[#F37021]"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-[#1C1444]",children:"Driver Phone"}),n.jsx("p",{className:"font-medium text-[#1C1444]",children:o.driverPhone})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(fn,{className:"w-5 h-5 text-[#F37021]"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-[#1C1444]",children:"Start Time"}),n.jsx("p",{className:"font-medium text-[#1C1444]",children:o.startTime||o.pickupTime})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(fn,{className:"w-5 h-5 text-[#F37021]"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-[#1C1444]",children:"End Time"}),n.jsx("p",{className:"font-medium text-[#1C1444]",children:o.endTime||o.dropoffTime})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(rn,{className:"w-5 h-5 text-[#F37021]"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-[#1C1444]",children:"Capacity"}),n.jsxs("p",{className:"font-medium text-[#1C1444]",children:[o.currentOccupancy??0,"/",o.totalCapacity??o.capacity??0]})]})]})]})]}),Array.isArray(o.routeStops)&&o.routeStops.length>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-semibold text-[#1C1444] mt-6 mb-2",children:"Route Stops"}),n.jsx("ul",{className:"space-y-2",children:o.routeStops.map((Se,Me)=>n.jsxs("li",{className:"flex items-center space-x-3",children:[n.jsx("span",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center font-bold text-[#F37021]",children:Se.stopOrder}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-[#1C1444]",children:Se.stopName}),n.jsxs("div",{className:"text-xs text-[#1C1444]",children:[Se.stopTime," ",Se.landmark&&` ${Se.landmark}`]})]})]},Se._id||Me))})]}),Array.isArray(o.assignedStudents)&&o.assignedStudents.length>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-semibold text-[#1C1444] mt-6 mb-2",children:"Assigned Students"}),n.jsx("ul",{className:"space-y-2",children:o.assignedStudents.map((Se,Me)=>n.jsxs("li",{className:"flex items-center space-x-3",children:[n.jsx("span",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center font-bold text-[#F37021]",children:Me+1}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-[#1C1444]",children:Se.studentId?.name||"Unknown Student"}),n.jsxs("div",{className:"text-xs text-[#1C1444]",children:["Roll: ",Se.studentId?.rollNumber||"N/A"," | Class:"," ",(()=>{const at=E.find(ke=>ke._id===Se.studentId?.classId);return at?`${at.className}${at.section?`-${at.section}`:""}`:"Unknown Class"})(),"| Payment: ",Se.paymentStatus||"N/A"]})]})]},Se._id||Me))})]})]})]})})]})]})},OEe=()=>{const[e,t]=S.useState([]),[r,a]=S.useState(!0),[s,i]=S.useState(null),[o,l]=S.useState(""),[c,u]=S.useState(""),[d,A]=S.useState(!1),[m,h]=S.useState({start:"",end:""});S.useEffect(()=>{(async()=>{try{const L=(await Vt.get("http://localhost:5000/api/diary/all-unfiltered")).data.data.map(F=>({id:F._id,title:F.title,date:F.date,content:F.content,category:F.category}));t(L)}catch(k){console.error("Failed to fetch diary entries:",k),i("Failed to load diary entries.")}finally{a(!1)}})()},[]);const y=[...new Set(e.map(E=>E.category))].filter(Boolean),x=e.filter(E=>{const k=E.title.toLowerCase().includes(o.toLowerCase())||E.content.toLowerCase().includes(o.toLowerCase())||E.category.toLowerCase().includes(o.toLowerCase()),D=!c||E.category===c;let L=!0;if(m.start&&m.end){const F=new Date(E.date).toISOString().split("T")[0];L=F>=m.start&&F<=m.end}return k&&D&&L}),v=()=>{l(""),u(""),h({start:"",end:""})},b=()=>{if(x.length===0){alert("No data to export");return}const E=x.map(U=>({Title:U.title,Date:C(U.date),Category:U.category,Content:U.content})),k=Object.keys(E[0]),D=[k.join(","),...E.map(U=>k.map(P=>`"${U[P]}"`).join(","))].join(`
`),L=new Blob([D],{type:"text/csv;charset=utf-8;"}),F=document.createElement("a"),Q=URL.createObjectURL(L);F.setAttribute("href",Q),F.setAttribute("download",`diary_entries_${new Date().toISOString().split("T")[0]}.csv`),F.style.visibility="hidden",document.body.appendChild(F),F.click(),document.body.removeChild(F)},j=E=>{switch(E){case"Academic":return"bg-blue-100 text-blue-700";case"Personal":return"bg-orange-100 text-orange-700";case"Sports":return"bg-green-100 text-green-700";case"Projects":return"bg-purple-100 text-purple-700";default:return"bg-gray-100 text-gray-700"}},C=E=>new Date(E).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"});return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 text-white p-6 rounded-b-3xl shadow-lg",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(rh,{className:"w-6 h-6"}),n.jsx("h1",{className:"text-2xl font-bold",children:"My Diary"})]}),n.jsxs("button",{onClick:b,className:"bg-white bg-opacity-20 text-white px-4 py-2 rounded-lg shadow-lg flex items-center space-x-2 hover:bg-opacity-30 transition-all",title:"Export to CSV",disabled:r,children:[n.jsx(Ln,{})," ",n.jsx("span",{children:"Export CSV"})]})]}),n.jsx("p",{className:"text-purple-100 mt-2",children:"Personal notes and thoughts"})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-6",children:[n.jsxs("div",{className:"relative mb-4",children:[n.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search diary entries by title, content, or category...",value:o,onChange:E=>l(E.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("span",{className:"text-sm text-gray-600",children:["Showing ",x.length," of ",e.length," entries"]}),n.jsxs("button",{onClick:()=>A(!d),className:"flex items-center space-x-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[n.jsx(Hl,{}),n.jsx("span",{children:"Advanced Filters"})]})]})}),d&&n.jsx("div",{className:"border-t pt-4 mt-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),n.jsxs("select",{value:c,onChange:E=>u(E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",children:[n.jsx("option",{value:"",children:"All Categories"}),y.map(E=>n.jsx("option",{value:E,children:E},E))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date From"}),n.jsx("input",{type:"date",value:m.start,onChange:E=>h({...m,start:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date To"}),n.jsx("input",{type:"date",value:m.end,onChange:E=>h({...m,end:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{onClick:v,className:"w-full px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-gray-700",children:"Clear Filters"})})]})})]}),n.jsx("div",{className:"overflow-x-auto",children:r?n.jsx("div",{className:"text-center py-12 text-gray-500",children:"Loading..."}):s?n.jsx("div",{className:"text-center py-12 text-red-500",children:s}):x.length===0&&e.length>0?n.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-sm",children:[n.jsx(rh,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),n.jsx("h3",{className:"text-lg font-medium mb-2",children:"No diary entries match your filters"}),n.jsx("button",{onClick:v,className:"text-purple-600 hover:text-purple-800 underline",children:"Clear filters to see all entries"})]}):e.length===0?n.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-sm",children:[n.jsx(rh,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),n.jsx("p",{className:"text-gray-500 text-lg",children:"No diary entries yet"}),n.jsx("p",{className:"text-gray-400",children:"Start writing your thoughts!"})]}):n.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 border-b",children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-500",children:"Title"}),n.jsx("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-500",children:"Date"}),n.jsx("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-500",children:"Content"}),n.jsx("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-500",children:"Category"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:x.map(E=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"py-4 px-4 font-medium text-gray-900",children:E.title}),n.jsx("td",{className:"py-4 px-4 text-gray-600",children:C(E.date)}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("div",{className:"line-clamp-2 max-w-prose text-gray-600",children:E.content})}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${j(E.category)}`,children:E.category})})]},E.id))})]})})})]})]})},DEe=()=>{const[e,t]=S.useState([]),[r,a]=S.useState(!0),[s,i]=S.useState(null),[o,l]=S.useState({key:"date",direction:"asc"}),[c,u]=S.useState("All"),[d,A]=S.useState(!1),[m,h]=S.useState(""),[y,x]=S.useState(!1),[v,b]=S.useState({start:"",end:""}),[j,C]=S.useState("All"),[E,k]=S.useState("All"),[D,L]=S.useState("All"),[F,Q]=S.useState(1),[U]=S.useState(10),[P,I]=S.useState(1),[z,W]=S.useState(0),ie=["All","Sports","Academics","Cultural","Meeting","Other"],X=["All","Morning","Afternoon","Evening"],le=se=>({Sports:"",Academics:"",Cultural:"",Meeting:"",Other:""})[se]||"",re=se=>{switch(se){case"Sports":return"bg-[#F37021]/10 text-[#F37021]";case"Academics":return"bg-green-100 text-green-700";case"Cultural":return"bg-purple-100 text-purple-700";case"Meeting":return"bg-yellow-100 text-yellow-700";case"Other":return"bg-gray-100 text-[#1C1444]";default:return"bg-gray-100 text-[#1C1444]"}},he=["All",...Array.from(new Map(e.filter(se=>se.schoolId&&se.schoolId._id&&se.schoolId.name).map(se=>[se.schoolId._id,se.schoolId.name])).values())],de=["All",...new Set(e.map(se=>se.location).filter(Boolean))],B=(()=>{let se=[...e];if(m){const ee=m.toLowerCase();se=se.filter(be=>be.title.toLowerCase().includes(ee)||be.description.toLowerCase().includes(ee)||be.location.toLowerCase().includes(ee))}return c!=="All"&&(se=se.filter(ee=>ee.category===c)),j!=="All"&&(se=se.filter(ee=>ee.location===j)),D!=="All"&&(se=se.filter(ee=>ee.schoolId&&(typeof ee.schoolId=="object"&&ee.schoolId.name===D||ee.schoolId===D))),v.start&&(se=se.filter(ee=>new Date(ee.date)>=new Date(v.start))),v.end&&(se=se.filter(ee=>new Date(ee.date)<=new Date(v.end))),E!=="All"&&(se=se.filter(ee=>{const be=Number.parseInt((ee.startTime||ee.time&&ee.time.split(" - ")[0]||"09:00").split(":")[0]);return E==="Morning"?be>=6&&be<12:E==="Afternoon"?be>=12&&be<17:E==="Evening"?be>=17||be<6:!0})),se})(),R=[...B].sort((se,ee)=>se[o.key]<ee[o.key]?o.direction==="asc"?-1:1:se[o.key]>ee[o.key]?o.direction==="asc"?1:-1:0),G=se=>{let ee="asc";o.key===se&&o.direction==="asc"&&(ee="desc"),l({key:se,direction:ee})},ne=()=>{const se=["Event Title","Date","Start Time","End Time","Location","Category","School","Description"],ee=R.map(ge=>[`"${ge.title}"`,`"${new Date(ge.date).toLocaleDateString()}"`,`"${ge.startTime}"`,`"${ge.endTime}"`,`"${ge.location}"`,`"${ge.category}"`,`"${ge.schoolId&&ge.schoolId.name?ge.schoolId.name:""}"`,`"${(ge.description||"").replace(/"/g,'""')}"`]),be=[se.join(","),...ee.map(ge=>ge.join(","))].join(`
`),Ce=new Blob([be],{type:"text/csv;charset=utf-8;"}),ce=document.createElement("a"),J=URL.createObjectURL(Ce);ce.setAttribute("href",J),ce.setAttribute("download",`events_${new Date().toISOString().split("T")[0]}.csv`),ce.style.visibility="hidden",document.body.appendChild(ce),ce.click(),document.body.removeChild(ce)},pe=()=>{h(""),u("All"),C("All"),k("All"),b({start:"",end:""}),L("All"),Q(1)};S.useEffect(()=>{(async()=>{try{a(!0);const ee=await Vt.get("http://localhost:5000/api/events/global",{params:{page:F,limit:U}});if(ee.data.success){const Ce=ee.data.data.map(ce=>{let J="09:00",ge="17:00";if(ce.time&&typeof ce.time=="string"){const Je=ce.time.split(" - ");J=Je[0]||"09:00",ge=Je[1]||"17:00"}else ce.startTime&&ce.endTime&&(J=ce.startTime,ge=ce.endTime);return{id:ce._id||"unknown-id",title:ce.title||"Untitled Event",date:ce.date||new Date().toISOString().split("T")[0],startTime:J,endTime:ge,location:ce.location||"Unknown Location",category:ce.category||"Other",description:ce.description||"",icon:le(ce.category||"Other"),schoolId:ce.schoolId||null}});t(Ce),I(ee.data.totalPages),W(ee.data.total),i(null)}else throw new Error(ee.data.message||"No events found")}catch{i("Failed to load events. Please check the API and try again.")}finally{a(!1)}})()},[F,U]);const xe=()=>{F>1&&Q(F-1)},Ae=()=>{F<P&&Q(F+1)},Y=se=>{se>=1&&se<=P&&Q(se)};return r?n.jsx("div",{className:"flex justify-center items-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#F37021]"})}):s?n.jsx("div",{className:"container mx-auto px-4 py-6",children:n.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[n.jsx("strong",{className:"font-bold",children:"Error!"}),n.jsxs("span",{className:"block sm:inline",children:[" ",s]})]})}):n.jsxs("div",{className:"container mx-auto px-4 py-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h1",{className:"text-3xl font-bold text-[#1C1444]",children:"All Events"}),n.jsx("div",{className:"flex space-x-4",children:n.jsxs("button",{onClick:ne,className:"bg-[#F37021] hover:bg-[#d65f1c] text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[n.jsx(Ln,{className:"w-4 h-4 text-white"}),n.jsx("span",{children:"Export CSV"})]})})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4 mb-6",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#F37021] w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Search events by title, description, or location...",value:m,onChange:se=>h(se.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]"})]}),n.jsx("select",{value:c,onChange:se=>u(se.target.value),className:"border border-gray-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:ie.map(se=>n.jsx("option",{value:se,children:se},se))}),n.jsx("select",{value:D,onChange:se=>L(se.target.value),className:"border border-gray-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:he.map((se,ee)=>se==="All"?n.jsx("option",{value:"All",children:"All Schools"},"all-schools"):n.jsx("option",{value:se,children:se},se))}),n.jsxs("button",{onClick:()=>x(!y),className:"bg-[#F37021] hover:bg-[#d65f1c] text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[n.jsx(Hl,{className:"w-4 h-4 text-white"}),n.jsx("span",{children:"Filters"})]})]}),y&&n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:[n.jsx(Mp,{className:"inline w-4 h-4 mr-1 text-[#F37021]"}),"Location"]}),n.jsx("select",{value:j,onChange:se=>C(se.target.value),className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:de.map(se=>n.jsx("option",{value:se,children:se},se))})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:[n.jsx(fn,{className:"inline w-4 h-4 mr-1 text-[#F37021]"}),"Time"]}),n.jsx("select",{value:E,onChange:se=>k(se.target.value),className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:X.map(se=>n.jsx("option",{value:se,children:se},se))})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:[n.jsx(Ia,{className:"inline w-4 h-4 mr-1 text-[#F37021]"}),"Start Date"]}),n.jsx("input",{type:"date",value:v.start,onChange:se=>b(ee=>({...ee,start:se.target.value})),className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#F37021] text-[#1C1444]"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:[n.jsx(Ia,{className:"inline w-4 h-4 mr-1 text-[#F37021]"}),"End Date"]}),n.jsx("input",{type:"date",value:v.end,onChange:se=>b(ee=>({...ee,end:se.target.value})),className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#F37021] text-[#1C1444]"})]})]}),n.jsx("div",{className:"mt-4 flex justify-end",children:n.jsxs("button",{onClick:pe,className:"text-[#1C1444] hover:text-[#F37021] px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[n.jsx(pr,{className:"w-4 h-4 text-[#F37021]"}),n.jsx("span",{children:"Clear Filters"})]})})]}),n.jsxs("div",{className:"mt-4 text-sm text-[#1C1444]",children:["Showing ",R.length," of ",z," events",(m||c!=="All"||j!=="All"||D!=="All"||E!=="All"||v.start||v.end)&&n.jsx("span",{className:"ml-2 text-[#F37021]",children:"(filtered)"})]})]}),n.jsx("div",{className:"relative overflow-x-auto",children:n.jsxs("table",{className:"w-full min-w-[640px] bg-white rounded-lg shadow-sm border",children:[n.jsx("thead",{className:"bg-gray-100",children:n.jsxs("tr",{children:[n.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider cursor-pointer",onClick:()=>G("title"),children:["Event"," ",o.key==="title"&&(o.direction==="asc"?"":"")]}),n.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider cursor-pointer",onClick:()=>G("date"),children:["Date"," ",o.key==="date"&&(o.direction==="asc"?"":"")]}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Time"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Location"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"School"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:R.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center text-[#1C1444]",children:B.length===0&&e.length>0?n.jsxs("div",{children:[n.jsx("p",{children:"No events found matching your search criteria."}),n.jsx("button",{onClick:pe,className:"mt-2 text-[#F37021] hover:text-[#d65f1c] underline",children:"Clear filters to see all events"})]}):"No events found"})}):R.map(se=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 min-w-[200px]",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:`text-xl mr-3 ${re(se.category)} rounded-full p-2`,children:se.icon}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-[#1C1444]",children:se.title}),n.jsx("div",{className:"text-[#1C1444] text-sm mt-1 line-clamp-2",children:se.description})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#1C1444]",children:new Date(se.date).toLocaleDateString()}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#1C1444]",children:[se.startTime," - ",se.endTime]}),n.jsx("td",{className:"px-6 py-4 text-sm text-[#1C1444] min-w-[120px]",children:se.location}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${re(se.category)}`,children:se.category})}),n.jsx("td",{className:"px-6 py-4 text-sm text-[#1C1444] min-w-[120px]",children:se.schoolId&&se.schoolId.name?n.jsxs("span",{className:"flex items-center",children:[n.jsx(Lo,{className:"w-4 h-4 mr-1 text-[#F37021]"}),se.schoolId.name]}):"N/A"})]},se.id))})]})}),z>0&&n.jsxs("div",{className:"mt-6 flex items-center justify-between bg-white rounded-lg shadow-sm border p-4",children:[n.jsxs("div",{className:"text-sm text-[#1C1444]",children:["Page ",F," of ",P]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:xe,disabled:F===1,className:`px-3 py-2 rounded-lg ${F===1?"bg-gray-200 text-[#1C1444] cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"}`,children:n.jsx(Do,{})}),Array.from({length:P},(se,ee)=>ee+1).filter(se=>se===1||se===P||se>=F-2&&se<=F+2).map(se=>n.jsx("button",{onClick:()=>Y(se),className:`px-3 py-1 rounded-lg ${F===se?"bg-[#F37021] text-white":"bg-gray-100 text-[#1C1444] hover:bg-gray-200"}`,children:se},se)),n.jsx("button",{onClick:Ae,disabled:F===P,className:`px-3 py-2 rounded-lg ${F===P?"bg-gray-200 text-[#1C1444] cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"}`,children:n.jsx(ro,{})})]})]})]})},MEe=()=>{const[e,t]=S.useState({upcoming:[],past:[]}),[r,a]=S.useState(""),[s,i]=S.useState("all"),[o,l]=S.useState("all"),[c,u]=S.useState(""),[d,A]=S.useState(""),[m,h]=S.useState([]),[y,x]=S.useState(!1),[v,b]=S.useState(!0),[j,C]=S.useState(null),[E,k]=S.useState({}),[D,L]=S.useState({}),[F,Q]=S.useState(1),[U]=S.useState(10),[P,I]=S.useState(0),[z,W]=S.useState(1),ie="http://localhost:5000/api/birthdays/all",X="http://localhost:5000/api/schools/",le="http://localhost:5000/api/teachers/",re="http://localhost:5000/api/class";S.useEffect(()=>{(async()=>{try{b(!0);const Fe=await Vt.get(`${ie}?page=${F}&limit=${U}`);if(!Fe.data.success)throw new Error(Fe.data.message||"Failed to fetch birthdays");if(!Array.isArray(Fe.data.data))throw new Error("Invalid data format received from server");I(Fe.data.total||0),W(Fe.data.totalPages||1);const nt=[...new Set(Fe.data.data.filter(rt=>rt.role?.toLowerCase()==="teacher").map(rt=>rt._id).filter(Boolean))],Se={};await Promise.all(nt.map(async rt=>{try{const Ge=await Vt.get(`${le}${rt}`);Ge.data.success&&Ge.data.data?.name?Se[rt]=Ge.data.data.name:Se[rt]="Unknown"}catch{Se[rt]="Unknown"}})),L(Se);const Me=[...new Set(Fe.data.data.map(rt=>typeof rt.schoolId=="object"?rt.schoolId?._id:rt.schoolId).filter(Boolean))],at={};await Promise.all(Me.map(async rt=>{try{const Ge=await Vt.get(`${X}${rt}`);Ge.data.success&&Ge.data.data?.name?at[rt]=Ge.data.data.name:at[rt]="Unknown School"}catch{at[rt]="Unknown School"}})),k(at);let ke=[];if(o==="all")await Promise.all(Me.map(async rt=>{try{const Ge=await Vt.get(`${re}?schoolId=${rt}`);if(Ge.data.success&&Array.isArray(Ge.data.data)){const bt=Ge.data.data.map(Le=>({_id:Le._id,className:Le.className||"Unknown",section:Le.section||"",schoolId:Le.schoolId||rt}));ke=[...ke,...bt]}}catch(Ge){console.error(`Failed to fetch classes for school ${rt}:`,Ge.message)}}));else{const rt=await Vt.get(`${re}?schoolId=${o}`);rt.data.success&&Array.isArray(rt.data.data)&&(ke=rt.data.data.map(Ge=>({_id:Ge._id,className:Ge.className||"Unknown",section:Ge.section||"",schoolId:Ge.schoolId||o})))}h(ke);let Ve={upcoming:[],past:[]};const ze=new Date;Ve.upcoming=Fe.data.data.filter(rt=>{const Ge=new Date(rt.date);return Ge.setFullYear(ze.getFullYear()),Ge<ze&&Ge.setFullYear(ze.getFullYear()+1),Ge>=ze}),Ve.past=Fe.data.data.filter(rt=>{const Ge=new Date(rt.date);return Ge.setFullYear(ze.getFullYear()),Ge<ze}),Ve.upcoming=Ve.upcoming.map(rt=>({...rt,_id:rt._id||"unknown-id",name:rt.role?.toLowerCase()==="teacher"?Se[rt._id]||rt.name||"Unknown":rt.name||"Unknown",role:rt.role||"Unknown",date:rt.date||new Date().toISOString().split("T")[0],type:rt.type||"upcoming",classId:rt.classId||null})),Ve.past=Ve.past.map(rt=>({...rt,_id:rt._id||"unknown-id",name:rt.role?.toLowerCase()==="teacher"?Se[rt._id]||rt.name||"Unknown":rt.name||"Unknown",role:rt.role||"Unknown",date:rt.date||new Date().toISOString().split("T")[0],type:rt.type||"past",classId:rt.classId||null})),t(Ve),C(null)}catch(Fe){C("Failed to load data: "+Fe.message)}finally{b(!1)}})()},[F,U,o]),S.useEffect(()=>{A("")},[c]);const he=[...Array.isArray(e.upcoming)?e.upcoming:[],...Array.isArray(e.past)?e.past:[]],ve=[...new Set(he.map(Ke=>typeof Ke.schoolId=="object"?Ke.schoolId?._id:Ke.schoolId).filter(Boolean))].map(Ke=>({_id:Ke,name:E[Ke]||"Unknown School"})),B=S.useMemo(()=>[...new Set(m.filter(Ke=>!o||Ke.schoolId===o).map(Ke=>Ke.className).filter(Boolean))].sort(),[m,o]),R=S.useMemo(()=>c?[...new Set(m.filter(Ke=>Ke.className===c&&(!o||Ke.schoolId===o)).map(Ke=>Ke.section).filter(Boolean))].sort():[],[m,c,o]),G=Ke=>{if(!/\d{4}/.test(Ke))return null;const Fe=new Date,nt=new Date(Ke);let Se=Fe.getFullYear()-nt.getFullYear();const Me=Fe.getMonth()-nt.getMonth();return(Me<0||Me===0&&Fe.getDate()<nt.getDate())&&Se--,Se},ne=Ke=>{const Fe=new Date,nt=new Date(Ke),Se=Fe.getFullYear(),Me=new Date(Se,nt.getMonth(),nt.getDate());return Me<Fe&&Me.setFullYear(Se+1),Math.ceil((Me-Fe)/(1e3*60*60*24))},pe=Ke=>new Date(Ke).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),xe=Ke=>{const nt={student:{color:"bg-[#F37021]/10 text-[#F37021]",icon:rn,text:"Student"},teacher:{color:"bg-green-100 text-green-800",icon:rn,text:"Teacher"},staff:{color:"bg-yellow-100 text-yellow-800",icon:rn,text:"Staff"}}[Ke?.toLowerCase()]||{color:"bg-gray-100 text-[#1C1444]",icon:rn,text:Ke||"Unknown"},Se=nt.icon;return n.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${nt.color}`,children:[n.jsx(Se,{className:"w-3 h-3 mr-1"}),nt.text]})},Ae=Ke=>Ke===0?n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[n.jsx(Uh,{className:"w-3 h-3 mr-1"}),"Today!"]}):Ke<=7?n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:[n.jsx(fn,{className:"w-3 h-3 mr-1"}),Ke," days"]}):Ke<=30?n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[n.jsx(Ia,{className:"w-3 h-3 mr-1"}),Ke," days"]}):n.jsxs("span",{className:"text-sm text-[#1C1444]",children:[Ke," days"]}),Y=S.useMemo(()=>he.filter(Ke=>{const Fe=Ke.name?.toLowerCase().includes(r.toLowerCase())||!1,nt=new Date(Ke.date).getMonth()+1,Se=s==="all"||nt.toString()===s,Me=o==="all"||(typeof Ke.schoolId=="object"?Ke.schoolId?._id===o:Ke.schoolId===o),at=!c||Ke.classId&&m.find(ke=>ke._id===Ke.classId)?.className===c&&(!d||m.find(ke=>ke._id===Ke.classId)?.section===d);return Fe&&Se&&Me&&at}),[he,r,s,o,c,d,m]),se=[{value:"1",label:"January"},{value:"2",label:"February"},{value:"3",label:"March"},{value:"4",label:"April"},{value:"5",label:"May"},{value:"6",label:"June"},{value:"7",label:"July"},{value:"8",label:"August"},{value:"9",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}],ee=S.useMemo(()=>{const Ke=he.length,Fe=he.filter(Me=>ne(Me.date)===0).length,nt=he.filter(Me=>ne(Me.date)<=7).length,Se=he.filter(Me=>ne(Me.date)<=30).length;return{total:Ke,todayBirthdays:Fe,thisWeekBirthdays:nt,thisMonthBirthdays:Se}},[he]),be=()=>{const Ke=Y.map(at=>{const ke=typeof at.schoolId=="object"?at.schoolId?._id:at.schoolId,Ve=at.classId?m.find(ze=>ze._id===at.classId):null;return{Name:at.name,Role:at.role||"Unknown","Birth Date":pe(at.date),Age:G(at.date)!==null?`${G(at.date)} years`:"N/A","Days Until Birthday":ne(at.date),Type:at.type,"Birth Month":new Date(at.date).toLocaleDateString("en-US",{month:"long"}),"Birth Day":new Date(at.date).getDate(),Class:Ve?`${Ve.className}${Ve.section?`-${Ve.section}`:""}`:"N/A",Section:Ve&&Ve.section||"N/A","School Name":ke?E[ke]||"Unknown School":"N/A"}}),Fe=[Object.keys(Ke[0]).map(at=>`"${at}"`).join(","),...Ke.map(at=>Object.values(at).map(ke=>`"${ke}"`).join(","))].join(`
`),nt=new Blob([Fe],{type:"text/csv;charset=utf-8;"}),Se=document.createElement("a"),Me=URL.createObjectURL(nt);Se.setAttribute("href",Me),Se.setAttribute("download",`birthdays_${new Date().toISOString().split("T")[0]}.csv`),Se.style.visibility="hidden",document.body.appendChild(Se),Se.click(),document.body.removeChild(Se)},Ce=()=>{a(""),i("all"),l("all"),u(""),A(""),Q(1)},ce=r||s!=="all"||o!=="all"||c||d,J=()=>{F>1&&Q(F-1)},ge=()=>{F<z&&Q(F+1)},Je=Ke=>{Q(Ke)};return v?n.jsx("div",{className:"flex justify-center items-center h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#F37021]"})}):j?n.jsx("div",{className:"container mx-auto px-4 py-6",children:n.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[n.jsx("strong",{className:"font-bold",children:"Error!"}),n.jsxs("span",{className:"block sm:inline",children:[" ",j]})]})}):n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsxs("div",{className:"bg-gradient-to-r from-[#1C1444] to-[#1C1444] text-white p-6 rounded-b-3xl shadow-lg",children:[n.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Uh,{className:"w-6 h-6 text-[#F37021]"}),n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Birthday Management"})]}),n.jsx("div",{className:"flex items-center space-x-3",children:n.jsxs("button",{onClick:be,className:"flex items-center space-x-2 bg-[#F37021] hover:bg-[#d65f1c] text-white px-4 py-2 rounded-xl transition-all",children:[n.jsx(Ln,{className:"w-4 h-4 text-white"}),n.jsx("span",{children:"Export CSV"})]})})]}),n.jsx("p",{className:"container mx-auto text-[#F37021] mt-2",children:"Track and manage birthdays for students, teachers, and staff"})]}),n.jsx("div",{className:"container mx-auto p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:"Total Records",value:ee.total,color:"blue",icon:rn},{label:"Today's Birthdays",value:ee.todayBirthdays,color:"red",icon:Uh},{label:"This Week",value:ee.thisWeekBirthdays,color:"orange",icon:fn},{label:"This Month",value:ee.thisMonthBirthdays,color:"yellow",icon:Ia}].map((Ke,Fe)=>n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-[#1C1444]",children:Ke.label}),n.jsx("p",{className:"text-2xl font-bold text-[#1C1444]",children:Ke.value})]}),n.jsx("div",{className:"p-3 bg-[#F37021]/10 rounded-xl",children:n.jsx(Ke.icon,{className:"w-6 h-6 text-[#F37021]"})})]})},Fe))}),n.jsx("div",{className:"container mx-auto px-6 mb-6",children:n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#F37021] w-4 h-4"}),n.jsx("input",{type:"text",placeholder:"Search name...",value:r,onChange:Ke=>a(Ke.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#F37021] text-[#1C1444]"})]}),n.jsxs("select",{value:o,onChange:Ke=>{l(Ke.target.value),u(""),A(""),Q(1)},className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:[n.jsx("option",{value:"all",children:"All Schools"}),ve.map(Ke=>n.jsx("option",{value:Ke._id,children:Ke.name},Ke._id))]}),n.jsxs("select",{value:c,onChange:Ke=>u(Ke.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",disabled:v||B.length===0,children:[n.jsx("option",{value:"",children:"All Classes"}),B.length===0?n.jsx("option",{value:"",disabled:!0,children:"No classes available"}):B.map(Ke=>n.jsx("option",{value:Ke,children:Ke},Ke))]}),n.jsxs("select",{value:d,onChange:Ke=>A(Ke.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",disabled:v||c===""||R.length===0,children:[n.jsx("option",{value:"",children:"All Sections"}),R.length===0?n.jsx("option",{value:"",disabled:!0,children:"No sections available"}):R.map(Ke=>n.jsx("option",{value:Ke,children:Ke},Ke))]}),n.jsxs("select",{value:s,onChange:Ke=>i(Ke.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:[n.jsx("option",{value:"all",children:"All Months"}),se.map(Ke=>n.jsx("option",{value:Ke.value,children:Ke.label},Ke.value))]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("button",{onClick:()=>x(!y),className:"flex items-center space-x-2 text-[#F37021] hover:text-[#d65f1c] font-medium",children:[n.jsx(Hl,{className:"w-4 h-4 text-[#F37021]"}),n.jsx("span",{children:"Advanced Filters"}),y?n.jsx(pr,{className:"w-4 h-4 text-[#F37021]"}):n.jsx(cs,{className:"w-4 h-4 text-[#F37021]"})]}),ce&&n.jsxs("button",{onClick:Ce,className:"flex items-center space-x-2 text-[#1C1444] hover:text-[#F37021] font-medium",children:[n.jsx(pr,{className:"w-4 h-4 text-[#F37021]"}),n.jsx("span",{children:"Clear Filters"})]})]})]})}),n.jsx("div",{className:"container mx-auto px-6 mb-4",children:n.jsxs("div",{className:"flex items-center justify-between text-sm text-[#1C1444]",children:[n.jsxs("span",{children:["Showing ",Y.length," of ",P," birthdays",ce&&n.jsx("span",{className:"text-[#F37021]",children:" (filtered)"})]}),n.jsxs("span",{children:["Page ",F," of ",z]})]})}),n.jsxs("div",{className:"container mx-auto px-6 pb-6",children:[n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full min-w-[900px]",children:[n.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Person"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Role"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Birth Date"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Age"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Next Birthday"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Class"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Section"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"School"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Type"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Y.map(Ke=>{const Fe=typeof Ke.schoolId=="object"?Ke.schoolId?._id:Ke.schoolId,nt=Ke.classId?m.find(Se=>Se._id===Ke.classId):null;return n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-medium text-[#1C1444]",children:Ke.name})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:xe(Ke.role)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-[#1C1444]",children:pe(Ke.date)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-medium text-[#1C1444]",children:G(Ke.date)!==null?`${G(Ke.date)} years`:"N/A"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Ae(ne(Ke.date))}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-[#1C1444]",children:nt?`${nt.className}${nt.section?`-${nt.section}`:""}`:"N/A"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-[#1C1444]",children:nt&&nt.section||"N/A"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Fe?n.jsxs("span",{className:"flex items-center",children:[n.jsx(Lo,{className:"w-4 h-4 mr-1 text-[#F37021]"}),E[Fe]||"Unknown School"]}):"-"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${Ke.type==="upcoming"?"bg-green-100 text-green-800":"bg-gray-100 text-[#1C1444]"}`,children:Ke.type})})]},Ke._id)})})]})}),Y.length===0&&!v&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Uh,{className:"w-12 h-12 text-[#F37021] mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-[#1C1444] mb-2",children:"No birthdays found"}),n.jsx("p",{className:"text-[#1C1444]",children:ce?"Try adjusting your search or filter criteria":"No birthday data available"}),ce&&n.jsx("button",{onClick:Ce,className:"mt-2 text-[#F37021] hover:text-[#d65f1c] font-medium",children:"Clear all filters"})]})]}),z>1&&n.jsxs("div",{className:"mt-6 flex justify-center items-center space-x-2",children:[n.jsxs("button",{onClick:J,disabled:F===1,className:`px-4 py-2 rounded-xl flex items-center space-x-2 ${F===1?"bg-gray-200 text-[#1C1444] cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"}`,children:[n.jsx(Do,{className:"w-4 h-4"}),n.jsx("span",{children:"Previous"})]}),n.jsx("div",{className:"flex space-x-1",children:Array.from({length:z},(Ke,Fe)=>Fe+1).map(Ke=>n.jsx("button",{onClick:()=>Je(Ke),className:`px-4 py-2 rounded-xl ${Ke===F?"bg-[#F37021] text-white":"bg-white text-[#1C1444] hover:bg-gray-100"}`,children:Ke},Ke))}),n.jsxs("button",{onClick:ge,disabled:F===z,className:`px-4 py-2 rounded-xl flex items-center space-x-2 ${F===z?"bg-gray-200 text-[#1C1444] cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"}`,children:[n.jsx("span",{children:"Next"}),n.jsx(ro,{className:"w-4 h-4"})]})]})]})]})},UEe=()=>{const[e,t]=S.useState([]),[r,a]=S.useState([]),[s,i]=S.useState(""),[o,l]=S.useState(!0),[c,u]=S.useState(!0),[d,A]=S.useState(null);S.useEffect(()=>{m()},[]);const m=async()=>{try{l(!0);const v=await Vt.get("http://localhost:5000/api/schools");v.data.success&&Array.isArray(v.data.data)?a(v.data.data):a([])}catch(v){console.error("Error fetching schools:",v.message),A("Failed to load schools")}finally{l(!1)}},h=S.useCallback(t$(async v=>{try{u(!0);const b=v?`http://localhost:5000/api/albums/all?schoolId=${v}`:"http://localhost:5000/api/albums/all",j=await Vt.get(b);if(j.data.success&&Array.isArray(j.data.albums)){const C=j.data.albums.map(E=>({...E,schoolName:r.find(k=>k._id===E.schoolId)?.name||"Unknown School",date:y(E.date)}));t(C),A(null)}else t([]),A("No albums found")}catch(b){console.error("Error fetching albums:",b.message),A("Failed to load albums"),t([])}finally{u(!1)}},300),[r]);S.useEffect(()=>{h(s)},[s,h]);const y=v=>{if(!v)return"No Date";if(/^\d{4}-\d{2}-\d{2}$/.test(v))return v;try{const b=new Date(v);return isNaN(b)?"Invalid Date":b.toISOString().slice(0,10)}catch{return"Invalid Date"}},x=e.filter(v=>!s||v.schoolId===s);return n.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#1C1444]/5 to-white",children:[n.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl border border-[#1C1444]/10 transition-all duration-300 hover:shadow-2xl mx-6 mt-6",children:[n.jsx("div",{className:"flex justify-between items-center mb-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(eB,{className:"w-6 h-6 text-[#F37021]"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-extrabold text-[#1C1444] tracking-tight",children:"Student Gallery"}),n.jsxs("p",{className:"text-[#1C1444]/80 text-lg mt-1",children:["School moments and memories",s&&x.length>0&&n.jsxs("span",{className:"ml-2 text-[#F37021] font-semibold",children:["(",r.find(v=>v._id===s)?.name||"Unknown School",")"]})]})]})]})}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"School"}),n.jsxs("div",{className:"relative w-full md:w-1/4",children:[n.jsxs("select",{value:s,onChange:v=>{v.preventDefault(),i(v.target.value)},className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:o||c||r.length===0,children:[n.jsx("option",{value:"",children:"All Schools"}),r.map(v=>n.jsx("option",{value:v._id,children:v.name||"Unknown School"},v._id))]}),n.jsx(Hl,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#1C1444]/60 w-5 h-5"})]})]})]}),(o||c)&&n.jsx("div",{className:"p-6 bg-[#F37021]/10 text-[#F37021] rounded-2xl shadow-md text-center transition-all duration-300 mx-6",children:o?"Loading schools...":"Loading albums..."}),d&&!o&&!c&&n.jsx("div",{className:"p-6 bg-red-100 text-red-700 rounded-2xl shadow-md text-center transition-all duration-300 mx-6",children:d}),!o&&!c&&!d&&n.jsx("div",{className:"container mx-auto p-6",children:x.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(d0,{className:"w-12 h-12 text-[#1C1444]/60 mx-auto mb-4 transition-transform duration-200 hover:scale-110"}),n.jsx("h3",{className:"text-lg font-semibold text-[#1C1444] mb-2",children:"No albums found"}),n.jsx("p",{className:"text-[#1C1444]/80",children:s?"No albums found for this school. Try selecting a different school.":"Check back later for gallery updates."})]}):n.jsx("div",{className:"space-y-8",children:x.map(v=>n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-md border border-[#1C1444]/10 transition-all duration-300 hover:shadow-lg",children:[n.jsx("h2",{className:"text-xl font-bold text-[#1C1444] mb-2",children:v.title}),n.jsxs("p",{className:"text-sm text-[#1C1444]/80 mb-4",children:["School: ",v.schoolName," | Date: ",v.date]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:v.images.map((b,j)=>n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:b.path.startsWith("http")?`http://localhost:5000/proxy-image?url=${encodeURIComponent(b.path)}`:b.path,alt:v.title,className:"w-full h-48 object-cover rounded-xl shadow-sm transition-transform duration-200 hover:scale-105"}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-[#1C1444] bg-opacity-50 text-white p-2 rounded-b-xl",children:n.jsx("p",{className:"text-sm",children:new Date(v.createdAt).toLocaleDateString()})})]},j))})]},v._id))})})]})},REe="http://localhost:5000/api/schools/",QEe="http://localhost:5000/api/uniform/items/all-unfiltered",HEe=()=>{const[e,t]=S.useState({}),[r,a]=S.useState([]),[s,i]=S.useState({}),[o,l]=S.useState(!0),[c,u]=S.useState(null),[d,A]=S.useState("#2563eb"),[m,h]=S.useState(""),[y,x]=S.useState("all"),[v,b]=S.useState("all"),[j,C]=S.useState("all"),[E,k]=S.useState("all"),[D,L]=S.useState("all"),[F,Q]=S.useState("all"),[U,P]=S.useState("all");S.useEffect(()=>{const R=localStorage.getItem("color");A(R||"#2563eb"),(async()=>{l(!0);try{const pe=(await Vt.get(QEe,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data.data,xe=Array.isArray(pe)?pe:[pe],Ae=[...new Set(xe.map(ee=>(ee.schoolId||"").trim()).filter(Boolean))],Y={};await Promise.all(Ae.map(async ee=>{try{const Ce=(await Vt.get(REe+ee,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data;Ce.success&&Ce.data&&Ce.data.name?Y[ee]=`${Ce.data.name} (${Ce.data.schoolCode})`:Y[ee]="Unknown"}catch{Y[ee]="Unknown"}})),i(Y);const se=xe.map(ee=>({...ee,sizes:ee.sizes||[],inStock:ee.stock||0,image:ee.imageUrl||"/placeholder.svg",schoolId:(ee.schoolId||"").trim()||null,className:ee.classId?`${ee.classId.className} ${ee.classId.section||""}`.trim():"N/A"}));a(se)}catch{u("Failed to load uniform items or schools.")}finally{l(!1)}})()},[]);const I=R=>`${R?.toLocaleString()}`,z=R=>R>30?{text:"In Stock",color:"bg-green-100 text-green-800"}:R>10?{text:"Low Stock",color:"bg-yellow-100 text-yellow-800"}:{text:"Out of Stock",color:"bg-red-100 text-red-800"},W=R=>R?s[R]||"Unknown":"N/A",X=[...new Set(r.map(R=>R.schoolId).filter(Boolean))].map(R=>({id:R,displayName:W(R)}));[...new Set(r.map(R=>R.category).filter(Boolean))],[...new Set(r.flatMap(R=>R.sizes||[]).filter(Boolean))];const le=[...new Set(r.filter(R=>R.classId&&R.classId.className).map(R=>R.classId.className))].sort(),re=F==="all"?[]:[...new Set(r.filter(R=>R.classId&&R.classId.className===F&&R.classId.section).map(R=>R.classId.section).filter(Boolean))].sort(),he=r.filter(R=>{const G=R.name?.toLowerCase().includes(m.toLowerCase())||R.description?.toLowerCase().includes(m.toLowerCase())||R.category?.toLowerCase().includes(m.toLowerCase())||R.className?.toLowerCase().includes(m.toLowerCase())||W(R.schoolId).toLowerCase().includes(m.toLowerCase()),ne=y==="all"||R.category===y,pe=v==="all"||v==="under-500"&&R.price<500||v==="500-1000"&&R.price>=500&&R.price<=1e3||v==="1000-2000"&&R.price>1e3&&R.price<=2e3||v==="above-2000"&&R.price>2e3,xe=j==="all"||j==="in-stock"&&R.inStock>30||j==="low-stock"&&R.inStock>0&&R.inStock<=30||j==="out-of-stock"&&R.inStock===0,Ae=E==="all"||R.sizes&&R.sizes.includes(E),Y=D==="all"||D==="N/A"&&!R.schoolId||R.schoolId===D,se=F==="all"||R.classId&&R.classId.className===F,ee=U==="all"||R.classId&&R.classId.section===U;return G&&ne&&pe&&xe&&Ae&&Y&&se&&ee}),de=()=>{h(""),x("all"),b("all"),C("all"),k("all"),L("all"),Q("all"),P("all")},ve=m||y!=="all"||v!=="all"||j!=="all"||E!=="all"||D!=="all"||F!=="all"||U!=="all",B=()=>{const R=["School Name","Item Name","Description","Category","Price ()","Class","Section","Sizes Available","Stock Quantity","Stock Status"],G=he.map(Y=>[W(Y.schoolId),Y.name||"",Y.description||"",Y.category||"",Y.price||0,Y.classId?Y.classId.className:"N/A",Y.classId&&Y.classId.section||"N/A",(Y.sizes||[]).join("; ")||"N/A",Y.inStock||0,z(Y.inStock).text]),ne=[R,...G].map(Y=>Y.map(se=>`"${se}"`).join(",")).join(`
`),pe=new Blob([ne],{type:"text/csv;charset=utf-8;"}),xe=document.createElement("a"),Ae=URL.createObjectURL(pe);xe.setAttribute("href",Ae),xe.setAttribute("download",`uniforms_${new Date().toISOString().split("T")[0]}.csv`),xe.style.visibility="hidden",document.body.appendChild(xe),xe.click(),document.body.removeChild(xe)};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsxs("div",{className:"bg-[#1C1444]  text-white p-6 rounded-b-3xl shadow-lg",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(yd,{className:"w-6 h-6"}),n.jsx("h1",{className:"text-2xl font-bold",children:"School Uniform"})]}),n.jsx("div",{className:"flex items-center space-x-3",children:n.jsxs("button",{onClick:B,className:"flex items-center space-x-2 bg-[#F37021] hover:bg-[#D95F1C] px-4 py-2 rounded-xl transition-all text-white",children:[n.jsx(Ln,{className:"w-4 h-4"}),n.jsx("span",{children:"Export CSV"})]})})]}),n.jsx("p",{className:"text-gray-200 mt-2",children:"School uniform inventory and orders"})]}),n.jsx("div",{className:"p-6 pb-0",children:n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200 mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Search & Filters"}),ve&&n.jsxs("button",{onClick:de,className:"flex items-center space-x-1 text-sm text-gray-600 hover:text-gray-800 px-3 py-1 rounded-lg hover:bg-gray-100",children:[n.jsx(pr,{className:"w-4 h-4"}),n.jsx("span",{children:"Clear Filters"})]})]}),n.jsx("div",{className:"mb-4",children:n.jsxs("div",{className:"relative",children:[n.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-black w-4 h-4"}),n.jsx("input",{type:"text",placeholder:"Search uniforms by school, name, description, class, or category...",value:m,onChange:R=>h(R.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#F37021] focus:border-transparent placeholder:text-black"})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-7 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"School"}),n.jsxs("select",{value:D,onChange:R=>{R.preventDefault(),L(R.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent",children:[n.jsx("option",{value:"all",children:"All Schools"}),X.map(R=>n.jsx("option",{value:R.id,children:R.displayName},R.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Class"}),n.jsxs("select",{value:F,onChange:R=>{R.preventDefault(),Q(R.target.value),P("all")},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent",children:[n.jsx("option",{value:"all",children:"All Classes"}),le.map(R=>n.jsx("option",{value:R,children:R},R))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section"}),n.jsxs("select",{value:U,onChange:R=>{R.preventDefault(),P(R.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent",disabled:!F||F==="all",children:[n.jsx("option",{value:"all",children:"All Sections"}),re.map(R=>n.jsx("option",{value:R,children:R},R))]})]})]})]})}),n.jsxs("div",{className:"p-6",children:[n.jsx("div",{className:"flex justify-between items-center mb-6",children:n.jsx("div",{children:n.jsxs("h2",{className:"text-xl font-semibold text-gray-800",children:["Uniform Items",n.jsxs("span",{className:"text-sm font-normal text-gray-600 ml-2",children:["(Showing ",he.length," of ",r.length," items",ve?" - filtered":"",")"]})]})})}),o?n.jsx("div",{className:"text-center text-gray-500 py-10",children:"Loading..."}):c?n.jsx("div",{className:"text-center text-red-500 py-10",children:c}):n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"School Name"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Item"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Category"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Price"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Class"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Section"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Sizes"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Stock"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:he.map(R=>{const G=z(R.inStock);return n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:W(R.schoolId)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("img",{src:`${R.image}`,alt:R.name,className:"w-12 h-12 rounded-lg object-cover border border-gray-200"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.name}),n.jsx("div",{className:"text-sm text-gray-500",children:R.description})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:R.category||"N/A"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-bold text-gray-900",children:I(R.price)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:R.classId?R.classId.className:"N/A"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:R.classId&&R.classId.section||"N/A"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex flex-wrap gap-1",children:[(R.sizes||[]).slice(0,3).map(ne=>n.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:ne},ne)),(R.sizes||[]).length>3?n.jsxs("span",{className:"text-xs text-gray-500",children:["+",(R.sizes||[]).length-3]}):(R.sizes||[]).length===0?n.jsx("span",{className:"text-xs text-gray-500",children:"N/A"}):null]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"space-y-1",children:[n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${G.color}`,children:G.text}),n.jsxs("div",{className:"text-xs text-gray-500",children:[R.inStock," units"]})]})})]},R._id)})})]})}),he.length===0&&!o&&!c&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(yd,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No uniforms found"}),n.jsx("p",{className:"text-gray-500 mb-4",children:ve?"Try adjusting your search or filter criteria":"No uniform items available"}),ve&&n.jsx("button",{onClick:de,className:"text-[#F37021] hover:text-[#D95F1C] font-medium",children:"Clear all filters"})]})]})]})]})},$Ee=e=>{switch(e){case"National Holiday":return OC;case"Festival":return Rh;case"Religious Holiday":return DC;default:return Ia}},zEe=()=>{const[e,t]=S.useState([]),[r,a]=S.useState("All"),[s,i]=S.useState(""),[o,l]=S.useState({key:null,direction:"asc"}),[c,u]=S.useState("table"),[d,A]=S.useState(!0),[m,h]=S.useState(null),[y,x]=S.useState([]),[v,b]=S.useState("all"),[j,C]=S.useState(1),E=10,[k,D]=S.useState(1),[L,F]=S.useState(0);S.useEffect(()=>{(async()=>{try{A(!0);const B=await Vt.get(`http://localhost:5000/api/holidays/all-unfiltered?page=${j}&limit=${E}`);if(B.data.success){t(B.data.data),D(B.data.totalPages||1),F(B.data.total||0);const G=[...new Set(B.data.data.map(xe=>typeof xe.schoolId=="object"?xe.schoolId._id:xe.schoolId).filter(Boolean))].map(async xe=>{try{const Ae=await Vt.get(`http://localhost:5000/api/schools/${xe}`);return Ae.data.success&&Ae.data.data?{_id:xe,name:Ae.data.data.name||"Unknown School"}:{_id:xe,name:"Unknown School"}}catch(Ae){return console.error(`Failed to fetch school ${xe}:`,Ae.message),{_id:xe,name:"Unknown School"}}});try{const xe=await Vt.get("http://localhost:5000/api/schools");xe.data.success&&G.push(...xe.data.data.map(Ae=>({_id:Ae._id,name:Ae.name||"Unknown School"})))}catch(xe){console.error("Failed to fetch all schools:",xe.message)}const ne=await Promise.all(G),pe=new Map;ne.forEach(xe=>{xe._id&&xe.name&&pe.set(xe._id,xe)}),x(Array.from(pe.values()))}else h("Failed to load holidays")}catch(B){h("Failed to load holidays: "+B.message)}finally{A(!1)}})()},[j]);const Q=S.useMemo(()=>[...new Set(e.map(ve=>typeof ve.schoolId=="object"?ve.schoolId._id:ve.schoolId))].filter(Boolean),[e]),U=S.useMemo(()=>y.filter(ve=>Q.includes(ve._id)).map(ve=>({...ve,name:ve.name||"Unknown School"})),[y,Q]),P=ve=>new Date(ve).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),I=ve=>{const B=new Date,G=new Date(ve)-B,ne=Math.ceil(G/(1e3*60*60*24));return ne<0?"Passed":ne===0?"Today":ne===1?"Tomorrow":`${ne} days`},z=(ve,B)=>({"#FF9933":"bg-[#F37021]/10 text-[#F37021] border-[#F37021]/20","#008000":"bg-green-100 text-green-800 border-green-200","#FF0000":"bg-red-100 text-red-800 border-red-200","#0000FF":"bg-blue-100 text-blue-800 border-blue-200","#800080":"bg-purple-100 text-purple-800 border-purple-200","#FFC0CB":"bg-pink-100 text-pink-800 border-pink-200","#008080":"bg-teal-100 text-teal-800 border-teal-200"})[B]||"bg-gray-100 text-[#1C1444] border-gray-200",W=ve=>{const B=I(ve);return B==="Passed"?"bg-gray-100 text-[#1C1444] border-gray-200":B==="Today"?"bg-green-100 text-green-800 border-green-200":B==="Tomorrow"?"bg-blue-100 text-blue-800 border-blue-200":"bg-[#F37021]/10 text-[#F37021] border-[#F37021]/20"},ie=S.useMemo(()=>{let ve=e;return r!=="All"&&(ve=ve.filter(B=>B.type===r)),v!=="all"&&(ve=ve.filter(B=>(typeof B.schoolId=="object"?B.schoolId._id:B.schoolId)===v)),s&&(ve=ve.filter(B=>B.name.toLowerCase().includes(s.toLowerCase())||B.type.toLowerCase().includes(s.toLowerCase())||B.description.toLowerCase().includes(s.toLowerCase()))),ve},[r,s,e,v]),X=S.useMemo(()=>o.key?[...ie].sort((ve,B)=>{let R,G;switch(o.key){case"name":R=ve.name,G=B.name;break;case"date":R=new Date(ve.date),G=new Date(B.date);break;case"type":R=ve.type,G=B.type;break;case"daysUntil":const ne=pe=>{const xe=I(pe);return xe==="Passed"?-1e3:xe==="Today"?0:xe==="Tomorrow"?1:parseInt(xe)};R=ne(ve.date),G=ne(B.date);break;default:return 0}return R<G?o.direction==="asc"?-1:1:R>G?o.direction==="asc"?1:-1:0}):ie,[ie,o]),le=ve=>{l(B=>({key:ve,direction:B.key===ve&&B.direction==="asc"?"desc":"asc"}))},re=ve=>o.key!==ve?null:o.direction==="asc"?n.jsx(c5,{className:"inline w-4 h-4 text-[#F37021]"}):n.jsx(Jp,{className:"inline w-4 h-4 text-[#F37021]"}),he=()=>{const B=[["Holiday Name","Date","Category","Days Until","Description","School Name"].join(","),...X.map(pe=>[`"${pe.name}"`,pe.date,`"${pe.type}"`,`"${I(pe.date)}"`,`"${pe.description}"`,`"${(typeof pe.schoolId=="object"?pe.schoolId.name:y.find(xe=>xe._id===pe.schoolId)?.name)||"Unknown School"}"`].join(","))].join(`
`),R=new Blob([B],{type:"text/csv"}),G=window.URL.createObjectURL(R),ne=document.createElement("a");ne.href=G,ne.download="holidays-2025.csv",ne.click(),window.URL.revokeObjectURL(G)},de=["All","National Holiday","Festival","Religious Holiday"];return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsxs("div",{className:"bg-[#1C1444] text-white p-6 shadow-lg",children:[n.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Ia,{className:"w-6 h-6 text-[#F37021]"}),n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Holiday Calendar 2025"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("button",{onClick:he,className:"flex items-center space-x-2 bg-[#F37021] hover:bg-[#d65f1c] text-white px-4 py-2 rounded-lg transition-all",children:[n.jsx(Ln,{className:"w-4 h-4 text-white"}),n.jsx("span",{children:"Export CSV"})]}),n.jsxs("button",{onClick:()=>u(c==="table"?"card":"table"),className:"flex items-center space-x-2 bg-[#F37021] hover:bg-[#d65f1c] text-white px-4 py-2 rounded-lg transition-all",children:[n.jsx(cs,{className:"w-4 h-4 text-white"}),n.jsx("span",{children:c==="table"?"Card View":"Table View"})]})]})]}),n.jsx("p",{className:"container mx-auto text-[#F37021] mt-2",children:"Professional holiday management system"})]}),n.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[d&&n.jsx("p",{className:"text-center text-[#1C1444] py-10",children:"Loading holidays..."}),m&&n.jsx("p",{className:"text-center text-red-500 py-10",children:m}),!d&&!m&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-[#1C1444]",children:L}),n.jsx("div",{className:"text-sm text-[#1C1444]",children:"Total Holidays"})]}),n.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-[#1C1444]",children:e.filter(ve=>ve.type==="National Holiday").length}),n.jsx("div",{className:"text-sm text-[#1C1444]",children:"National Holidays"})]}),n.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-[#1C1444]",children:e.filter(ve=>ve.type==="Festival").length}),n.jsx("div",{className:"text-sm text-[#1C1444]",children:"Festivals"})]}),n.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-[#1C1444]",children:e.filter(ve=>I(ve.date)!=="Passed").length}),n.jsx("div",{className:"text-sm text-[#1C1444]",children:"Upcoming"})]})]}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[n.jsxs("div",{className:"relative",children:[n.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#F37021] w-4 h-4"}),n.jsx("input",{type:"text",placeholder:"Search holidays...",value:s,onChange:ve=>i(ve.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#F37021] text-[#1C1444] w-full lg:w-64"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Hl,{className:"text-[#F37021] w-4 h-4"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:de.map(ve=>n.jsx("button",{onClick:()=>a(ve),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${r===ve?"bg-[#F37021] text-white shadow-md":"bg-gray-100 text-[#1C1444] hover:bg-gray-200"}`,children:ve},ve))}),n.jsxs("select",{value:v,onChange:ve=>b(ve.target.value),className:"ml-4 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:[n.jsx("option",{value:"all",children:"All Schools"}),U.length>0?U.map(ve=>n.jsx("option",{value:ve._id,children:ve.name},ve._id)):n.jsx("option",{disabled:!0,children:"No schools available"})]})]})]})}),!d&&!m&&n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full min-w-[900px]",children:[n.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:n.jsxs("tr",{children:[n.jsxs("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>le("name"),children:["Holiday Name ",re("name")]}),n.jsxs("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>le("date"),children:["Date ",re("date")]}),n.jsxs("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>le("type"),children:["Category ",re("type")]}),n.jsxs("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>le("daysUntil"),children:["Status ",re("daysUntil")]}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider",children:"School"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider",children:"Description"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:X.length===0?n.jsx("tr",{children:n.jsxs("td",{colSpan:"6",className:"px-6 py-12 text-center text-[#1C1444]",children:[n.jsx(Ia,{className:"w-12 h-12 text-[#F37021] mx-auto mb-4"}),n.jsx("p",{className:"text-lg font-medium text-[#1C1444]",children:"No holidays found"}),n.jsx("p",{className:"text-sm text-[#1C1444]",children:"Try adjusting your search or filters"})]})}):X.map(ve=>{const B=$Ee(ve.type);return n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(B,{className:"w-5 h-5 text-[#F37021]"}),n.jsx("span",{className:"text-sm font-medium text-[#1C1444]",children:ve.name})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"text-sm text-[#1C1444]",children:P(ve.date)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${z(ve.type,ve.color)}`,children:ve.type})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${W(ve.date)}`,children:I(ve.date)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ve.schoolId?n.jsxs("span",{className:"flex items-center text-[#1C1444]",children:[n.jsx(Lo,{className:"w-4 h-4 mr-1 text-[#F37021]"}),(typeof ve.schoolId=="object"?ve.schoolId.name:y.find(R=>R._id===ve.schoolId)?.name)||"Unknown School"]}):"-"}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:"text-sm text-[#1C1444]",children:ve.description})})]},ve._id)})})]})}),X.length>0&&n.jsx("div",{className:"bg-gray-50 px-6 py-3 border-t border-gray-200",children:n.jsxs("div",{className:"text-sm text-[#1C1444]",children:["Showing"," ",n.jsx("span",{className:"font-medium",children:X.length})," ","of ",n.jsx("span",{className:"font-medium",children:e.length})," ","holidays"]})})]}),!d&&!m&&L>0&&n.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[n.jsxs("div",{className:"text-sm text-[#1C1444]",children:["Showing ",(j-1)*E+1," to"," ",Math.min(j*E,L)," of ",L," ","records"]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>C(ve=>Math.max(ve-1,1)),disabled:j===1,className:`px-4 py-2 rounded-lg transition-colors ${j===1?"bg-gray-200 text-[#1C1444] cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"}`,children:"Previous"}),n.jsx("button",{onClick:()=>C(ve=>Math.min(ve+1,k)),disabled:j===k,className:`px-4 py-2 rounded-lg transition-colors ${j===k?"bg-gray-200 text-[#1C1444] cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"}`,children:"Next"})]})]})]})]})},VEe=()=>{const[e,t]=S.useState(""),[r,a]=S.useState("all"),[s,i]=S.useState("all"),[o,l]=S.useState("all"),[c,u]=S.useState([]),[d,A]=S.useState(!0),[m,h]=S.useState(null);S.useEffect(()=>{(async()=>{try{const D=await Vt.get("http://localhost:5000/api/classwork");u(D.data)}catch(D){console.error("Error fetching classwork:",D),h("Failed to load classwork data")}finally{A(!1)}})()},[]);const y=k=>new Date(k).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"}),x=k=>{const D={completed:{color:"bg-green-100 text-green-800",icon:Oo,text:"Completed"},"in-progress":{color:"bg-yellow-100 text-yellow-800",icon:fn,text:"In Progress"},pending:{color:"bg-red-100 text-red-800",icon:Da,text:"Pending"}},L=D[k]||D.pending,F=L.icon;return n.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${L.color}`,children:[n.jsx(F,{className:"w-3 h-3 mr-1"}),L.text]})},v=k=>({pdf:"",docx:"",pptx:"",jpg:"",zip:""})[k]||"",b=S.useMemo(()=>c.filter(k=>{const D=k.topic?.toLowerCase().includes(e.toLowerCase())||k.subject?.toLowerCase().includes(e.toLowerCase())||k.description?.toLowerCase().includes(e.toLowerCase()),L=r==="all"||k.subject===r,F=s==="all"||k.class===s,Q=o==="all"||k.status===o;return D&&L&&F&&Q}),[e,r,s,o,c]),j=S.useMemo(()=>{const k=c.length,D=c.filter(Q=>Q.status==="completed").length,L=c.filter(Q=>Q.status==="in-progress").length,F=c.reduce((Q,U)=>Q+(U.studentsCount||0),0);return{total:k,completed:D,inProgress:L,totalStudents:F}},[c]),C=[...new Set(c.map(k=>k.subject))].filter(Boolean),E=[...new Set(c.map(k=>k.class))].filter(Boolean);return d?n.jsx("div",{className:"p-6 text-center text-lg text-gray-600",children:"Loading classwork data..."}):m?n.jsx("div",{className:"p-6 text-center text-red-500",children:m}):n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-6 rounded-b-3xl shadow-lg",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Un,{className:"w-6 h-6"}),n.jsx("h1",{className:"text-2xl font-bold",children:"Classwork Management"})]})}),n.jsx("p",{className:"text-indigo-100 mt-2",children:"Track and manage daily classwork activities"})]}),n.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Classwork"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j.total})]}),n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:j.completed})]}),n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"In Progress"}),n.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:j.inProgress})]}),n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),n.jsx("p",{className:"text-2xl font-bold text-purple-600",children:j.totalStudents})]})]}),n.jsx("div",{className:"px-6 mb-6",children:n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),n.jsx("input",{type:"text",placeholder:"Search topic or subject...",value:e,onChange:k=>t(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("select",{value:r,onChange:k=>a(k.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl",children:[n.jsx("option",{value:"all",children:"All Subjects"}),C.map(k=>n.jsx("option",{children:k},k))]}),n.jsxs("select",{value:s,onChange:k=>i(k.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl",children:[n.jsx("option",{value:"all",children:"All Classes"}),E.map(k=>n.jsx("option",{children:k},k))]}),n.jsxs("select",{value:o,onChange:k=>l(k.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"in-progress",children:"In Progress"}),n.jsx("option",{value:"pending",children:"Pending"})]})]})}),n.jsx("div",{className:"px-6 pb-6",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-x-auto",children:[n.jsxs("table",{className:"w-full min-w-[800px]",children:[n.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Topic"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Subject"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Attachments"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(k=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:k.topic}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:k.subject}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:y(k.date)}),n.jsx("td",{className:"px-6 py-4",children:x(k.status||"pending")}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:(k.attachments||[]).map((D,L)=>n.jsxs("div",{className:"flex items-center space-x-1 text-xs",children:[n.jsx("span",{children:v(D.name?.split(".").pop())}),n.jsx("span",{children:D.name})]},L))})]},k._id))})]}),b.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Un,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No classwork found"}),n.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filter criteria"})]})]})})]})},qEe="http://localhost:5000/api/schools/",KEe=()=>{const[e,t]=S.useState("All"),[r,a]=S.useState(""),[s,i]=S.useState([]),[o,l]=S.useState(!0),[c,u]=S.useState(null),[d,A]=S.useState(1),[m]=S.useState(10),[h,y]=S.useState(1),[x,v]=S.useState(0),[b,j]=S.useState(!1),[C,E]=S.useState("all"),[k,D]=S.useState("all"),[L,F]=S.useState("all"),[Q,U]=S.useState("all"),[P,I]=S.useState({}),[z,W]=S.useState(null);S.useEffect(()=>{ie()},[d,Q,k,L,C]);const ie=async()=>{try{l(!0),u(null);const xe=new URLSearchParams({page:d,limit:m});Q!=="all"&&xe.append("schoolId",Q),k!=="all"&&xe.append("className",k),L!=="all"&&xe.append("section",L),C!=="all"&&xe.append("subject",C);const Ae=await fetch(`http://localhost:5000/api/books/all-unfiltered?${xe.toString()}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!Ae.ok)throw new Error(`HTTP error! Status: ${Ae.status}`);const Y=await Ae.json();if(!Y.success||!Array.isArray(Y.data))throw new Error("Invalid API response format");v(Y.total),y(Y.totalPages);const se=Y.data,ee=[...new Set(se.map(ce=>ce.schoolId).filter(Boolean))],be={};await Promise.all(ee.map(async ce=>{try{const ge=await(await fetch(qEe+ce)).json();be[ce]=ge.success&&ge.data?.name?ge.data.name:"Unknown"}catch{be[ce]="Unknown"}})),I(be);const Ce=se.map(ce=>{const J=ce.title?.toLowerCase().includes("grade"),ge=J?ce.title.replace(/Grade \d+/,"").trim().split(" ")[0]:"Literature";return{id:ce._id,title:ce.title||"Unknown Title",author:ce.author||"Unknown Author",description:ce.description||"No description available",price:ce.price||0,category:J?"Textbooks":"Novels",subject:ge,className:ce.classId?.className||"General",section:ce.classId?.section||"N/A",image:ce.image?ce.image.startsWith("http")?ce.image:`http://localhost:5000${ce.image}`:"https://images.unsplash.com/photo-1509228468518-180dd4864904?w=200&h=250&fit=crop",schoolId:ce.schoolId||"",stock:ce.stock||0}});i(Ce)}catch(xe){u(`Error fetching books: ${xe.message}`),i([])}finally{l(!1)}},X=xe=>{xe>=1&&xe<=h&&A(xe)},le=xe=>[...new Set(s.map(Y=>Y[xe]).filter(Boolean))].sort(),he=[...new Set(s.map(xe=>xe.schoolId).filter(Boolean))].map(xe=>({id:xe,displayName:P[xe]||"Unknown"})),de=s.filter(xe=>{const Ae=e==="All"||xe.category===e,Y=xe.title.toLowerCase().includes(r.toLowerCase())||xe.author.toLowerCase().includes(r.toLowerCase())||xe.subject.toLowerCase().includes(r.toLowerCase())||xe.description.toLowerCase().includes(r.toLowerCase())||(P[xe.schoolId]||"").toLowerCase().includes(r.toLowerCase()),se=C==="all"||xe.subject===C,ee=k==="all"||xe.className===k,be=L==="all"||xe.section===L,Ce=Q==="all"||xe.schoolId===Q;return Ae&&Y&&se&&ee&&be&&Ce}),ve=()=>{t("All"),a(""),E("all"),D("all"),F("all"),U("all"),j(!1),A(1)},B=()=>e!=="All"||r!==""||C!=="all"||k!=="all"||L!=="all"||Q!=="all",R=()=>{const xe=["Title","Author","Category","Subject","Class","Section","Price ()","Description","School Name","Stock"],Ae=de.map(Ce=>[`"${Ce.title.replace(/"/g,'""')}"`,`"${Ce.author.replace(/"/g,'""')}"`,`"${Ce.category}"`,`"${Ce.subject}"`,`"${Ce.className}"`,`"${Ce.section}"`,`"${Ce.price}"`,`"${Ce.description.replace(/"/g,'""')}"`,`"${P[Ce.schoolId]||""}"`,`"${Ce.stock}"`]),Y=[xe.join(","),...Ae.map(Ce=>Ce.join(","))].join(`
`),se=new Blob([Y],{type:"text/csv;charset=utf-8;"}),ee=document.createElement("a"),be=URL.createObjectURL(se);ee.setAttribute("href",be),ee.setAttribute("download",`books_${new Date().toISOString().split("T")[0]}.csv`),ee.style.visibility="hidden",document.body.appendChild(ee),ee.click(),document.body.removeChild(ee)},G=xe=>`${xe}`,ne=xe=>{W(xe)},pe=()=>{W(null)};return n.jsxs("div",{className:"min-h-screen bg-gray-100",children:[n.jsx("div",{className:"bg-[#1C1444] text-white p-4 sticky top-0 z-10",children:n.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(Xp,{className:"w-6 h-6 text-[#F37021] cursor-pointer"}),n.jsx("h1",{className:"text-xl font-semibold text-white",children:"School Books"})]}),!o&&!c&&n.jsxs("button",{onClick:R,className:"flex items-center space-x-2 bg-[#F37021] hover:bg-[#d65f1c] text-white px-4 py-2 rounded-xl transition-all",disabled:de.length===0,children:[n.jsx(Ln,{className:"w-4 h-4 text-white"}),n.jsx("span",{children:"Export CSV"})]})]})}),o&&n.jsxs("div",{className:"container mx-auto p-4 text-center",children:[n.jsx("div",{className:"text-6xl mb-4 animate-pulse",children:""}),n.jsx("p",{className:"text-[#1C1444] text-lg",children:"Loading books..."})]}),c&&n.jsxs("div",{className:"container mx-auto p-4 bg-red-100 text-red-700 rounded-xl m-4",children:[c,n.jsx("p",{className:"text-sm mt-2 text-red-600",children:"Please check if the backend server is running and accessible."})]}),!o&&!c&&n.jsx("div",{className:"container mx-auto p-4 bg-white",children:n.jsxs("div",{className:"relative",children:[n.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-[#F37021]"}),n.jsx("input",{type:"text",placeholder:"Search books, authors, subjects, school...",value:r,onChange:xe=>a(xe.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-100 rounded-xl border-0 focus:ring-2 focus:ring-[#F37021] focus:bg-white text-[#1C1444] transition-all"})]})}),!o&&!c&&n.jsxs("div",{className:"container mx-auto px-4 pb-4 bg-white border-b",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"flex items-center space-x-4",children:B()&&n.jsxs("button",{onClick:ve,className:"flex items-center space-x-2 text-[#1C1444] hover:text-[#F37021]",children:[n.jsx(pr,{className:"w-4 h-4 text-[#F37021]"}),n.jsx("span",{children:"Clear Filters"})]})}),n.jsxs("div",{className:"text-sm text-[#1C1444]",children:["Showing ",de.length," of ",x," books",B()&&n.jsx("span",{className:"text-[#F37021] ml-1",children:"(filtered)"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 p-4 bg-gray-50 rounded-xl",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-2",children:"School"}),n.jsxs("select",{value:Q,onChange:xe=>{U(xe.target.value),D("all"),F("all")},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:[n.jsx("option",{value:"all",children:"All Schools"}),he.length===0?n.jsx("option",{value:"",disabled:!0,children:o?"Loading schools...":"No schools available"}):he.map(xe=>n.jsx("option",{value:xe.id,children:xe.displayName},xe.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-2",children:"Class"}),n.jsxs("select",{value:k,onChange:xe=>{D(xe.target.value),F("all")},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:[n.jsx("option",{value:"all",children:"All Classes"}),le("className").length===0?n.jsx("option",{value:"",disabled:!0,children:o?"Loading classes...":Q!=="all"?"No classes for selected school":"No classes available"}):le("className").map(xe=>n.jsx("option",{value:xe,children:xe},xe))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-2",children:"Section"}),n.jsxs("select",{value:L,onChange:xe=>F(xe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:[n.jsx("option",{value:"all",children:"All Sections"}),le("section").length===0?n.jsx("option",{value:"",disabled:!0,children:o?"Loading sections...":k!=="all"?"No sections for selected class":"No sections available"}):le("section").map(xe=>n.jsx("option",{value:xe,children:xe},xe))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-2",children:"Subject"}),n.jsxs("select",{value:C,onChange:xe=>E(xe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:[n.jsx("option",{value:"all",children:"All Subjects"}),le("subject").map(xe=>n.jsx("option",{value:xe,children:xe},xe))]})]})]})]}),!o&&!c&&n.jsxs("div",{className:"container mx-auto p-4",children:[n.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Title"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Author"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Class"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Section"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Price"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"School"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:de.map(xe=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-[#1C1444]",children:xe.title}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#1C1444]",children:xe.author}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#1C1444]",children:xe.className}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#1C1444]",children:xe.section}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#1C1444]",children:G(xe.price)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#1C1444]",children:xe.stock}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#1C1444]",children:P[xe.schoolId]||"Unknown"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsx("button",{onClick:()=>ne(xe),className:"text-[#F37021] hover:text-[#d65f1c]",children:"View"})})]},xe.id))})]})}),h>1&&n.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[n.jsx("button",{onClick:()=>X(d-1),disabled:d===1,className:`px-4 py-2 rounded-lg transition-colors ${d===1?"bg-gray-200 text-[#1C1444] cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"}`,children:"Previous"}),n.jsxs("span",{className:"text-sm text-[#1C1444]",children:["Page ",d," of ",h]}),n.jsx("button",{onClick:()=>X(d+1),disabled:d===h,className:`px-4 py-2 rounded-lg transition-colors ${d===h?"bg-gray-200 text-[#1C1444] cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"}`,children:"Next"})]}),de.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"text-6xl mb-4 text-[#F37021]",children:""}),n.jsx("h3",{className:"text-lg font-semibold text-[#1C1444] mb-2",children:"No books found"}),n.jsx("p",{className:"text-[#1C1444]",children:"Try adjusting your search or filter criteria"}),B()&&n.jsx("button",{onClick:ve,className:"mt-4 px-4 py-2 bg-[#F37021] text-white rounded-lg hover:bg-[#d65f1c] transition-colors",children:"Clear All Filters"})]})]}),z&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-lg w-full mx-4 p-6 relative max-h-[90vh] overflow-y-auto",children:[n.jsx("button",{onClick:pe,className:"absolute top-4 right-4 text-[#1C1444] hover:text-[#F37021]",children:n.jsx(pr,{className:"w-6 h-6 text-[#F37021]"})}),n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("img",{src:z.image,alt:z.title,className:"w-32 h-48 object-cover rounded-lg shadow-md mb-4"}),n.jsx("h2",{className:"text-2xl font-bold text-[#1C1444] mb-2",children:z.title}),n.jsxs("p",{className:"text-[#1C1444] mb-4",children:["by ",z.author]}),n.jsxs("div",{className:"w-full space-y-4",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"font-medium text-[#1C1444]",children:"Category:"}),n.jsx("span",{className:"text-[#1C1444]",children:z.category})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"font-medium text-[#1C1444]",children:"Subject:"}),n.jsx("span",{className:"text-[#1C1444]",children:z.subject})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"font-medium text-[#1C1444]",children:"Class:"}),n.jsx("span",{className:"text-[#1C1444]",children:z.className})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"font-medium text-[#1C1444]",children:"Section:"}),n.jsx("span",{className:"text-[#1C1444]",children:z.section})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"font-medium text-[#1C1444]",children:"Price:"}),n.jsx("span",{className:"text-[#1C1444]",children:G(z.price)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"font-medium text-[#1C1444]",children:"Stock:"}),n.jsx("span",{className:"text-[#1C1444]",children:z.stock})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"font-medium text-[#1C1444]",children:"School:"}),n.jsx("span",{className:"text-[#1C1444]",children:P[z.schoolId]||"Unknown"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium text-[#1C1444] block mb-2",children:"Description:"}),n.jsx("p",{className:"text-[#1C1444]",children:z.description})]})]})]})]})})]})},GEe="http://localhost:5000/api";class WEe{constructor(){this.api=Vt.create({baseURL:GEe,timeout:3e4}),this.api.interceptors.request.use(t=>{const r=localStorage.getItem("superadmin_token");return r&&(t.headers.Authorization=`Bearer ${r}`),t},t=>Promise.reject(t)),this.api.interceptors.response.use(t=>t,t=>(t.response?.status===401&&(localStorage.removeItem("superadmin_token"),localStorage.removeItem("superadmin_user"),window.location.href="/superadmin-login"),Promise.reject(t)))}async getSchools(t={}){try{return(await this.api.get("/schools",{params:t})).data}catch(r){throw this.handleError(r,"Failed to fetch schools")}}async getSchoolById(t){try{return(await this.api.get(`/schools/${t}`)).data}catch(r){throw this.handleError(r,"Failed to fetch school details")}}async createSchool(t){try{return(await this.api.post("/schools",t)).data}catch(r){throw this.handleError(r,"Failed to create school")}}async updateSchool(t,r){try{return(await this.api.put(`/schools/${t}`,r)).data}catch(a){throw this.handleError(a,"Failed to update school")}}async deleteSchool(t){try{return(await this.api.delete(`/schools/${t}`)).data}catch(r){throw this.handleError(r,"Failed to delete school")}}async getStudents(t={}){try{return(await this.api.get("/students",{params:t})).data}catch(r){throw this.handleError(r,"Failed to fetch students")}}async getStudentsBySchool(t,r={}){try{return(await this.api.get(`/students/school/${t}`,{params:r})).data}catch(a){throw this.handleError(a,"Failed to fetch students by school")}}async getPackages(t={}){try{return(await this.api.get("/packages",{params:t})).data}catch(r){throw this.handleError(r,"Failed to fetch packages")}}async getPayments(t={}){try{return(await this.api.get("/payments",{params:t})).data}catch(r){throw this.handleError(r,"Failed to fetch payments")}}async getStatistics(){try{const[t,r,a]=await Promise.allSettled([this.getSchools({limit:1e3}),this.getPackages(),this.getPayments({limit:1e3})]);return{schools:t.status==="fulfilled"?t.value.data:[],packages:r.status==="fulfilled"?r.value.data:[],payments:a.status==="fulfilled"?a.value.data:[]}}catch(t){throw this.handleError(t,"Failed to fetch statistics")}}handleError(t,r){if(console.error("API Error:",t),t.response){const a=t.response.data?.message||r;return new Error(`${a} (${t.response.status})`)}else return t.request?new Error("Network error - please check your connection"):new Error(t.message||r)}createCancelToken(){return Vt.CancelToken.source()}}const YEe=new WEe,XEe=()=>{const[e,t]=S.useState("month"),[r,a]=S.useState(!1),[s,i]=S.useState([]),[o,l]=S.useState([]),[c,u]=S.useState([]),[d,A]=S.useState(!0),[m,h]=S.useState(null);S.useEffect(()=>{y()},[]);const y=async()=>{a(!0),A(!0);try{const L=await YEe.getStatistics();i(L.schools),l(L.packages),u(L.payments),h(null)}catch(L){h("Failed to fetch data: "+L.message),console.error(L)}finally{A(!1),a(!1)}},x=S.useMemo(()=>{const L=s.length,F=o.length,Q=c.length,U=c.reduce((I,z)=>I+z.amount,0),P=c.filter(I=>I.status==="active").length;return{totalSchools:L,totalPackages:F,activePurchases:P,totalPurchases:Q,totalRevenue:U}},[s,o,c]),v=L=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(L),b=L=>{const F={active:{color:"bg-green-100 text-green-800 border-green-200",icon:Oo},pending:{color:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:fn},failed:{color:"bg-red-100 text-red-800 border-red-200",icon:ox}},Q=F[L]||F.pending,U=Q.icon;return n.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${Q.color}`,children:[n.jsx(U,{className:"w-3 h-3 mr-1"}),L.charAt(0).toUpperCase()+L.slice(1)]})},j=()=>{y()},C=S.useMemo(()=>{const L=Array.from({length:12},(Q,U)=>{const P=new Date;return P.setMonth(P.getMonth()-(11-U)),P.toLocaleString("default",{month:"short"})}),F=L.map(Q=>({month:Q,revenue:0,purchases:0}));return c.reduce((Q,U)=>{const I=new Date(U.createdAt).toLocaleString("default",{month:"short"}),z=L.indexOf(I);return z!==-1&&(Q[z].revenue+=U.amount,Q[z].purchases+=1),Q},[...F])},[c,e]),E=S.useMemo(()=>{const L=o.map(F=>{const Q=c.filter(U=>U.packageId===F._id).length;return{name:F.name,sales:Q,revenue:Q*F.price,color:(F.color==="blue"||F.color==="purple"||F.color==="green"||F.color==="orange","#F37021")}}).filter(F=>F.sales>0);return L.length===0?[{name:"No Data Available",sales:1,revenue:0,color:"#9CA3AF"}]:L},[o,c]),k=S.useMemo(()=>c.sort((L,F)=>new Date(F.createdAt)-new Date(L.createdAt)).slice(0,3).map(L=>({id:L._id,school:s.find(F=>F._id===L.schoolId)?.name||"Unknown School",package:o.find(F=>F._id===L.packageId)?.name||"Unknown Package",amount:L.amount,status:L.status,date:L.createdAt})),[c,s,o]),D=S.useMemo(()=>s.map(L=>{const F=c.filter(U=>U.schoolId===L._id),Q=F.reduce((U,P)=>U+P.amount,0);return{...L,revenue:Q,purchases:F.length}}).sort((L,F)=>F.revenue-L.revenue).slice(0,3),[s,c]);return d?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(ih,{className:"w-10 h-10 text-[#F37021] animate-spin mx-auto"}),n.jsx("p",{className:"mt-4 text-[#1C1444]",children:"Loading dashboard data..."})]})}):m?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:[n.jsx("p",{children:m}),n.jsx("button",{onClick:y,className:"mt-2 bg-[#F37021] text-white px-4 py-2 rounded-lg hover:bg-[#d65f1c] transition-colors",children:"Retry"})]})}):n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-[#1C1444] text-white p-6 shadow-lg",children:n.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Lo,{className:"w-6 h-6 text-[#F37021]"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Super Admin Dashboard"}),n.jsx("p",{className:"text-[#F37021] mt-1",children:"Comprehensive school management overview"})]})]}),n.jsxs("button",{onClick:j,disabled:r,className:"flex items-center space-x-2 bg-[#F37021] hover:bg-[#d65f1c] text-white px-4 py-2 rounded-lg transition-all",children:[n.jsx(ih,{className:`w-4 h-4 text-white ${r?"animate-spin":""}`}),n.jsx("span",{children:"Refresh"})]})]})}),n.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-[#1C1444]",children:"Total Schools"}),n.jsx("p",{className:"text-2xl font-bold text-[#1C1444]",children:x.totalSchools}),n.jsxs("div",{className:"flex items-center mt-2",children:[n.jsx(t0,{className:"w-4 h-4 text-green-500 mr-1"}),n.jsxs("span",{className:"text-sm text-green-600",children:["+",Math.floor(x.totalSchools/10),"% from last month"]})]})]}),n.jsx("div",{className:"p-3 bg-[#F37021]/10 rounded-lg",children:n.jsx(Lo,{className:"w-6 h-6 text-[#F37021]"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-[#1C1444]",children:"Total Packages"}),n.jsx("p",{className:"text-2xl font-bold text-[#1C1444]",children:x.totalPackages}),n.jsxs("div",{className:"flex items-center mt-2",children:[n.jsx(t0,{className:"w-4 h-4 text-green-500 mr-1"}),n.jsxs("span",{className:"text-sm text-green-600",children:["+",Math.floor(x.totalPackages/5),"% from last month"]})]})]}),n.jsx("div",{className:"p-3 bg-[#F37021]/10 rounded-lg",children:n.jsx(yd,{className:"w-6 h-6 text-[#F37021]"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-[#1C1444]",children:"Total Purchases"}),n.jsx("p",{className:"text-2xl font-bold text-[#1C1444]",children:x.totalPurchases}),n.jsxs("div",{className:"flex items-center mt-2",children:[n.jsx(t0,{className:"w-4 h-4 text-green-500 mr-1"}),n.jsxs("span",{className:"text-sm text-green-600",children:["+",Math.floor(x.totalPurchases/10),"% from last month"]})]})]}),n.jsx("div",{className:"p-3 bg-[#F37021]/10 rounded-lg",children:n.jsx(rn,{className:"w-6 h-6 text-[#F37021]"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-[#1C1444]",children:"Total Revenue"}),n.jsx("p",{className:"text-2xl font-bold text-[#1C1444]",children:v(x.totalRevenue)}),n.jsxs("div",{className:"flex items-center mt-2",children:[n.jsx(t0,{className:"w-4 h-4 text-green-500 mr-1"}),n.jsxs("span",{className:"text-sm text-green-600",children:["+",Math.floor(x.totalRevenue/1e5),"% from last month"]})]})]}),n.jsx("div",{className:"p-3 bg-[#F37021]/10 rounded-lg",children:n.jsx(Bu,{className:"w-6 h-6 text-[#F37021]"})})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-lg font-bold text-[#1C1444]",children:"Revenue Trend"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-3 h-3 bg-[#F37021] rounded-full"}),n.jsx("span",{className:"text-sm text-[#1C1444]",children:"Monthly Revenue"})]})]}),n.jsx(Ry,{width:"100%",height:300,children:n.jsxs(iG,{data:C,children:[n.jsx(M4,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),n.jsx(jv,{dataKey:"month",stroke:"#1C1444"}),n.jsx(Sv,{tickFormatter:L=>L===0?"0":`${(L/1e5).toFixed(0)}L`,domain:[0,"auto"],stroke:"#1C1444"}),n.jsx(My,{formatter:L=>[L===0?"0":v(L),"Revenue"]}),n.jsx(R4,{type:"monotone",dataKey:"revenue",stroke:"#F37021",fill:"#F37021",fillOpacity:.1})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsx("h3",{className:"text-lg font-bold text-[#1C1444] mb-6",children:"Package Sales Distribution"}),n.jsx(Ry,{width:"100%",height:300,children:n.jsxs(sG,{children:[n.jsx(w8,{data:E,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:E.length>1?5:0,dataKey:"sales",label:({name:L,percent:F})=>`${L} ${(F*100).toFixed(0)}%`,labelLine:!1,children:E.map((L,F)=>n.jsx(o1,{fill:L.color,stroke:"#fff",strokeWidth:2},`cell-${F}`))}),n.jsx(My,{formatter:(L,F,Q)=>[L,Q.payload.name,Q.payload.revenue>0?`Revenue: ${v(Q.payload.revenue)}`:""]}),n.jsx(kp,{})]})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-lg font-bold text-[#1C1444]",children:"Top Performing Schools"}),n.jsx(Xi,{to:"/admin/school",children:n.jsx("button",{className:"text-[#F37021] hover:text-[#d65f1c] text-sm font-medium",children:"View All"})})]}),n.jsx("div",{className:"space-y-4",children:D.map((L,F)=>n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-10 h-10 bg-[#F37021]/10 rounded-full flex items-center justify-center",children:n.jsxs("span",{className:"text-[#F37021] font-bold text-sm",children:["#",F+1]})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-[#1C1444]",children:L.name}),n.jsxs("p",{className:"text-sm text-[#1C1444] flex items-center",children:[n.jsx(Mp,{className:"w-3 h-3 mr-1 text-[#F37021]"}),L.address.split(",")[0]]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"font-bold text-[#1C1444]",children:L.phone}),n.jsxs("p",{className:"text-sm text-[#1C1444]",children:[L.purchases," purchases"]})]})]},L._id))})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-lg font-bold text-[#1C1444]",children:"Recent Transactions"}),n.jsx(Xi,{to:"/admin/packagehistory",children:n.jsx("button",{className:"text-[#F37021] hover:text-[#d65f1c] text-sm font-medium",children:"View All"})})]}),n.jsx("div",{className:"space-y-4",children:k.map(L=>n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-10 h-10 bg-[#F37021]/10 rounded-full flex items-center justify-center",children:n.jsx(yd,{className:"w-5 h-5 text-[#F37021]"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-[#1C1444]",children:L.school}),n.jsx("p",{className:"text-sm text-[#1C1444]",children:L.package})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"font-bold text-[#1C1444]",children:v(L.amount)}),n.jsx("div",{className:"flex items-center space-x-2",children:b(L.status)})]})]},L.id))})]})]})]})]})},JEe="http://localhost:5000/api";function ZEe(){const[e,t]=S.useState(""),[r,a]=S.useState({name:"",email:"",password:"",phone:"",profilePic:null,classSubjects:[]}),[s,i]=S.useState(""),[o,l]=S.useState([]),[c,u]=S.useState(!1),[d,A]=S.useState(!1),[m,h]=S.useState(""),[y,x]=S.useState(!1),[v,b]=S.useState(!1),j=yc(),C=localStorage.getItem("color")||"#2563eb",E=Xn(he=>he.classes.classes?.data||[]),k=Xn(he=>he.subjects.subjects?.data||[]),D=Xn(he=>he.classes.loading),L=Xn(he=>he.subjects.loading),F=Xn(he=>he.classes.error),Q=Xn(he=>he.subjects.error);S.useEffect(()=>{const he=localStorage.getItem("schoolId");he?t(he):(h("School ID not found. Please log in as a school admin first."),x(!1))},[]),S.useEffect(()=>{F&&(h("Failed to load classes: "+F),x(!1)),Q&&(h("Failed to load subjects: "+Q),x(!1))},[F,Q]);const U=E.map(he=>({_id:he._id,className:he.className||`Class ${he.classNumber||he._id}`,section:he.section||"",displayName:`${he.className||`Class ${he.classNumber||he._id}`}${he.section?` ${he.section}`:""}`.trim()})),P=()=>k.map(he=>({_id:he._id,subjectName:he.SubjectName||he.name||he.subjectName||"Unnamed Subject"})),I=he=>{const{name:de,value:ve}=he.target;a({...r,[de]:ve})},z=he=>{const de=he.target.files[0];if(de&&!["image/jpeg","image/png"].includes(de.type)){h("Please select a valid image file (e.g., .jpg, .png)."),x(!1);return}a({...r,profilePic:de||null})},W=he=>{i(he.target.value),l([]),A(!1)},ie=he=>{l(de=>de.includes(he)?de.filter(ve=>ve!==he):[...de,he])},X=()=>{if(!s||o.length===0){h("Please select a class and at least one subject."),x(!1);return}const he=U.find(ve=>ve._id===s);if(!he){h("Invalid class selected."),x(!1);return}if(r.classSubjects.some(ve=>ve.className===he.displayName)){h(`Class "${he.displayName}" has already been added.`),x(!1);return}const de=o.map(ve=>P().find(B=>B._id===ve)?.subjectName||"Unknown Subject");a({...r,classSubjects:[...r.classSubjects,{className:he.displayName,subjects:[...de]}]}),i(""),l([]),u(!1),A(!1),h("")},le=he=>{a({...r,classSubjects:r.classSubjects.filter(de=>de.className!==he)})},re=async he=>{if(he.preventDefault(),b(!0),h(""),!r.name||!r.email||!r.password||!r.phone){h("Name, email, password, and phone are required fields."),x(!1),b(!1);return}if(r.classSubjects.length===0){h("Please add at least one class with subjects."),x(!1),b(!1);return}if(!e){h("School ID is missing. Please log in as a school admin."),x(!1),b(!1);return}try{const de=new FormData;de.append("name",r.name.trim()),de.append("email",r.email.trim()),de.append("password",r.password),de.append("phone",r.phone.trim()),de.append("classSubjects",JSON.stringify(r.classSubjects)),r.profilePic&&de.append("profilePic",r.profilePic);const ve=await Vt.post(`${JEe}/teacher/${e}/register`,de,{headers:{"Content-Type":"multipart/form-data"}});ve.data.success&&(h(ve.data.message||"Teacher registered successfully!"),x(!0),a({name:"",email:"",password:"",phone:"",profilePic:null,classSubjects:[]}),setTimeout(()=>{j("/teachers")},2e3))}catch(de){console.error("Error registering teacher:",de),h(de.response?.data?.message||"Failed to register teacher. Please try again."),x(!1)}finally{b(!1)}};return D||L?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Rr,{className:"animate-spin w-8 h-8 mx-auto mb-4",style:{color:C}}),n.jsxs("p",{className:"text-gray-600",children:["Loading ",D?"classes":"",D&&L?" and ":"",L?"subjects":"","..."]})]})}):n.jsx("div",{className:"bg-gray-50 p-6",children:n.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-xl shadow-md overflow-scroll",children:[n.jsxs("div",{className:"p-6 text-white",style:{backgroundColor:C},children:[n.jsxs("h2",{className:"text-2xl font-bold flex items-center",children:[n.jsx(ks,{className:"mr-2"}),"Register New Teacher"]}),n.jsx("p",{className:"mt-1 opacity-90",children:"Add a new teacher to your school"})]}),n.jsxs("form",{onSubmit:re,className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[n.jsx(ks,{className:"mr-1 w-4 h-4"}),"Full Name *"]}),n.jsx("input",{type:"text",name:"name",value:r.name,onChange:I,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[n.jsx(Zf,{className:"mr-1 w-4 h-4"}),"Email Address *"]}),n.jsx("input",{type:"email",name:"email",value:r.email,onChange:I,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[n.jsx(tB,{className:"mr-1 w-4 h-4"}),"Password *"]}),n.jsx("input",{type:"password",name:"password",value:r.password,onChange:I,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[n.jsx(ah,{className:"mr-1 w-4 h-4"}),"Phone Number *"]}),n.jsx("input",{type:"tel",name:"phone",value:r.phone,onChange:I,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[n.jsx(d0,{className:"mr-1 w-4 h-4"}),"Profile Picture (Optional)"]}),n.jsx("input",{type:"file",accept:"image/jpeg,image/png",onChange:z,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),r.profilePic&&n.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Selected: ",r.profilePic.name]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[n.jsx(Un,{className:"mr-1 w-4 h-4"}),"Classes and Subjects *"]}),n.jsxs("button",{type:"button",onClick:()=>u(!0),disabled:E.length===0||k.length===0,className:"flex items-center px-4 py-2 rounded-lg text-white font-medium disabled:opacity-50",style:{backgroundColor:C},children:[n.jsx(bs,{className:"mr-2"}),"Add Class and Subjects"]}),r.classSubjects.length>0&&n.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:r.classSubjects.map((he,de)=>n.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:[he.className,": ",he.subjects.join(", "),n.jsx("button",{type:"button",onClick:()=>le(he.className),className:"ml-2 rounded-full hover:bg-blue-200",children:n.jsx(pr,{className:"w-4 h-4"})})]},de))}),c&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-bold",children:"Add Class and Subjects"}),n.jsx("button",{type:"button",onClick:()=>{u(!1),i(""),l([]),A(!1)},className:"text-gray-500 hover:text-gray-700",children:n.jsx(pr,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Class *"}),n.jsx("select",{value:s,onChange:W,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",disabled:U.length===0,children:U.length===0?n.jsx("option",{value:"",children:"No classes available"}):n.jsxs(n.Fragment,{children:[n.jsx("option",{value:"",children:"Select a class"}),U.map(he=>n.jsx("option",{value:he._id,children:he.displayName},he._id))]})})]}),n.jsxs("div",{className:"relative",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subjects *"}),n.jsxs("div",{className:`border border-gray-300 rounded-lg p-3 flex justify-between items-center ${s?"cursor-pointer":"cursor-not-allowed"}`,onClick:()=>s&&A(he=>!he),children:[n.jsx("span",{children:o.length>0?`${o.length} subject(s) selected`:s?"Select subjects":"Select a class first"}),s&&(d?n.jsx(c5,{}):n.jsx(Jp,{}))]}),s&&d&&n.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:P().length===0?n.jsx("div",{className:"p-3 text-gray-500 text-center",children:"No subjects available"}):P().map(he=>n.jsxs("div",{className:"p-3 hover:bg-gray-100 cursor-pointer flex items-center",onClick:()=>ie(he._id),children:[n.jsx("input",{type:"checkbox",checked:o.includes(he._id),onChange:()=>ie(he._id),className:"mr-2 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),n.jsx("span",{className:"truncate",children:he.subjectName})]},he._id))}),o.length>0&&n.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:o.map(he=>{const de=P().find(ve=>ve._id===he);return n.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[de?.subjectName||"Unknown Subject",n.jsx("button",{type:"button",onClick:()=>ie(he),className:"ml-1 rounded-full hover:bg-blue-200",children:n.jsx(pr,{className:"w-3 h-3"})})]},he)})})]})]}),n.jsxs("div",{className:"mt-6 flex space-x-3",children:[n.jsx("button",{type:"button",onClick:()=>{u(!1),i(""),l([]),A(!1)},className:"flex-1 py-2 px-4 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{type:"button",onClick:X,disabled:!s||o.length===0,className:"flex-1 py-2 px-4 rounded-lg text-white font-medium disabled:opacity-50",style:{backgroundColor:C},children:"Add"})]})]})})]}),n.jsx("div",{className:"pt-4",children:n.jsx("button",{type:"submit",disabled:v||D||L,className:"w-full py-3 px-4 rounded-lg text-white font-medium flex items-center justify-center disabled:opacity-50",style:{backgroundColor:C},children:v?n.jsxs(n.Fragment,{children:[n.jsx(Rr,{className:"animate-spin mr-2"}),"Registering..."]}):n.jsxs(n.Fragment,{children:[n.jsx(ks,{className:"mr-2"}),"Register Teacher"]})})}),m&&n.jsxs("div",{className:`p-3 rounded-lg flex items-center ${y?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[y?n.jsx(hi,{className:"mr-2"}):n.jsx(Da,{className:"mr-2"}),m]})]})]})})}const aM=e=>{if(!e)return"";if(e.includes("-")){const[s,i,o]=e.split("-");return`${i}/${o}/${s}`}const[t,r,a]=e.split("/");return`${r}/${t}/${a}`},hy=e=>e?new Date(e).toISOString().split("T")[0]:"",eBe=()=>{const e=new Date().toISOString().split("T")[0],[t,r]=S.useState(""),[a,s]=S.useState(""),[i,o]=S.useState([]),[l,c]=S.useState({}),[u,d]=S.useState([]),[A,m]=S.useState(""),[h,y]=S.useState(!1),[x,v]=S.useState(e),[b,j]=S.useState({}),[C,E]=S.useState([]),[k,D]=S.useState([]),[L,F]=S.useState(new Map),[Q,U]=S.useState(!1),[P,I]=S.useState(null),[z,W]=S.useState(!1),[ie,X]=S.useState(null),[le,re]=S.useState([]),[he,de]=S.useState(!1),[ve,B]=S.useState(""),[R,G]=S.useState(1),[ne,pe]=S.useState(1),[xe,Ae]=S.useState(0),[Y,se]=S.useState(10),[ee,be]=S.useState(""),[Ce,ce]=S.useState(""),[J,ge]=S.useState(""),[Je,Ke]=S.useState({classes:!1,students:!1,attendance:!1,saving:!1,deleting:{},dailySaving:!1,teacher:!1}),[Fe,nt]=S.useState(!1),[Se,Me]=S.useState(""),[at,ke]=S.useState([]),[Ve,ze]=S.useState(""),[rt,Ge]=S.useState(null),[bt,Le]=S.useState(null),je=localStorage.getItem("schoolId");S.useEffect(()=>{const wt=localStorage.getItem("schoolId"),Xt=localStorage.getItem("teacherId");nt(!wt),Xt&&Ge(Xt)},[]),S.useEffect(()=>{je&&rt&&(async()=>{if(!(!je||!rt)){Ke(Xt=>({...Xt,teacher:!0}));try{const Oe=await(await fetch(`http://localhost:5000/api/teacher/${je}/${rt}`)).json();Le(Oe.data)}catch(Xt){console.error("Error fetching teacher:",Xt)}finally{Ke(Xt=>({...Xt,teacher:!1}))}}})()},[je,rt]),S.useEffect(()=>{bt&&(async()=>{if(!(!bt||!bt.classSubjects)){Ke(Xt=>({...Xt,classes:!0}));try{const Xt=bt.classSubjects.map(Oe=>{const ut=Oe.className.split(" "),ot=ut.slice(0,-1).join(" ")||Oe.className,dt=ut[ut.length-1];return{displayName:Oe.className,className:ot,section:dt,originalData:{_id:Oe._id,className:Oe.className}}});if(D(Xt),Xt.length>0&&!t){const Oe=Xt[0];r(Oe.className),s(Oe.section),Te(Oe.className,Xt)}}catch(Xt){console.error("Failed to process teacher's classes:",Xt)}finally{Ke(Xt=>({...Xt,classes:!1}))}}})()},[bt]);const Ze=()=>{Se.trim()&&(localStorage.setItem("schoolId",Se.trim()),window.location.reload())},Te=(wt,Xt=k)=>{const Oe=Xt.filter(ut=>ut.className===wt).map(ut=>ut.section).filter((ut,ot,dt)=>dt.indexOf(ut)===ot);ke(Oe),!Oe.includes(a)&&Oe.length>0&&s(Oe[0])},pt=wt=>{r(wt),Te(wt)},At=async()=>{if(!je||!t||a===void 0){o([]),E([]);return}Ke(wt=>({...wt,students:!0}));try{const wt=await Vt.get(`http://localhost:5000/api/students/class/${t}`,{params:{schoolId:je,section:a}}),Xt=wt.data.data||wt.data;o(Xt),E(Xt);const Oe={};Xt.forEach(ut=>{Oe[ut._id]="absent"}),c(Oe)}catch(wt){console.error("Failed to fetch students:",wt),alert("Failed to fetch students. Please check the server or schoolId."),o([]),E([])}finally{Ke(wt=>({...wt,students:!1}))}};S.useEffect(()=>{je&&t&&a!==void 0&&At()},[je,t,a]);const qe=async()=>{if(!je){nt(!0);return}Ke(wt=>({...wt,attendance:!0}));try{const wt={schoolId:je,page:R,limit:Y};A&&(wt.studentId=A),ee&&(wt.className=ee),Ce&&(wt.section=Ce),J&&(wt.date=aM(J));const Xt=await Vt.get("http://localhost:5000/api/attendance",{params:wt}),{data:Oe,total:ut,totalPages:ot}=Xt.data;d(Oe||[]),Ae(ut||0),pe(ot||1),Pe(Oe||[])}catch(wt){console.error("Failed to fetch attendance:",wt),alert("Failed to fetch attendance records. Please check if schoolId or studentId is correct.")}finally{Ke(wt=>({...wt,attendance:!1}))}},Pe=wt=>{const Xt=new Map;wt.forEach(Oe=>{const ut=Oe.studentId?._id||Oe.studentId,ot=hy(Oe.date),dt=`${ut}-${ot}`;Xt.set(dt,{...Oe,studentName:Oe.studentId?.name||"Unknown",rollNumber:Oe.studentId?.rollNumber||"N/A"})}),F(Xt)};S.useEffect(()=>{je&&qe()},[je,A,R,Y,ee,Ce,J]);const mt=(wt,Xt)=>{const Oe=hy(Xt),ut=`${wt}-${Oe}`;return L.get(ut)||null},Qe=()=>{const wt=[];return C.forEach(Xt=>{const Oe=mt(Xt._id,x);Oe&&wt.push({student:Xt,existing:Oe,newStatus:b[Xt._id]||"absent"})}),wt},st=async wt=>{const Xt=wt.studentId;r(wt?.className),s(wt?.section),v(hy(wt.date)),j({[Xt._id]:wt.status}),await At(),y(!0),alert(`Editing attendance for ${Xt.name} on ${new Date(wt.date).toLocaleDateString()}. Update the status and save.`)},tt=async wt=>{if(!je){nt(!0);return}if(window.confirm("Are you sure you want to delete this attendance record?")){Ke(Xt=>({...Xt,deleting:{...Xt.deleting,[wt]:!0}}));try{await Vt.delete(`http://localhost:5000/api/attendance/${wt}`,{data:{schoolId:je}}),d(Xt=>Xt.filter(Oe=>Oe._id!==wt)),alert("Attendance record deleted successfully!"),qe()}catch(Xt){console.error("Failed to delete attendance record:",Xt),alert("Failed to delete attendance record. Please try again.")}finally{Ke(Xt=>({...Xt,deleting:{...Xt.deleting,[wt]:!1}}))}}},Ft=wt=>{m(wt.target.value),G(1)},_t=(wt,Xt)=>{j(Oe=>({...Oe,[wt]:Xt}))},Dt=wt=>{const Xt={};C.forEach(Oe=>{Xt[Oe._id]=wt}),j(Xt)},Wt=async()=>{if(!je){nt(!0);return}const wt=Qe();if(wt.length>0){I({duplicates:wt,totalStudents:C.length,date:x}),U(!0);return}await Dr(!0)},cr=async wt=>{U(!1),I(null),wt==="update"?await Dr(!0):wt==="skip"&&await Dr(!1,!0)},Dr=async(wt=!0,Xt=!1)=>{Ke(Oe=>({...Oe,dailySaving:!0}));try{const Oe=Xt?C.filter(dt=>!mt(dt._id,x)):C,ut=Oe.map(dt=>{const Ie={studentId:dt._id,status:b[dt._id]||"absent",date:aM(x),schoolId:je,className:t,section:a},Ne=mt(dt._id,x);return Ne&&wt?Vt.put(`http://localhost:5000/api/attendance/${Ne._id}`,Ie):Ne?Promise.resolve():Vt.post("http://localhost:5000/api/attendance",Ie)});await Promise.all(ut.filter(dt=>dt)),alert(`Attendance ${wt?"saved/updated":Xt?"saved (skipped duplicates)":"saved"} successfully for ${Oe.length} students!`),y(!1),be(t),ce(a),qe()}catch(Oe){console.error("Failed to save daily attendance:",Oe),alert("Failed to save attendance. Please try again.")}finally{Ke(Oe=>({...Oe,dailySaving:!1}))}},Ea=async wt=>{if(!(!je||!wt)){de(!0);try{const Xt=await Vt.get(`http://localhost:5000/api/attendance/student/${wt}`,{params:{schoolId:je}});re(Xt.data.data||[])}catch(Xt){console.error("Failed to fetch student attendance history:",Xt),alert("Failed to fetch student attendance history.")}finally{de(!1)}}},Fr=async wt=>{X(wt),W(!0),await Ea(wt._id)},jr=()=>{W(!1),X(null),re([])},Sr=wt=>{wt>=1&&wt<=ne&&G(wt)},ca=wt=>{be(wt),G(1),Te(wt)},oa=u.filter(wt=>{if(!ee&&!Ce&&!J&&!Ve)return!0;const Xt=!ee||wt?.className===ee,Oe=!Ce||wt?.section===Ce,ut=!J||hy(wt.date)===hy(J),ot=!Ve||wt?.studentId?.name?.toLowerCase().includes(Ve.toLowerCase())||wt?.studentId?.rollNumber?.toString().includes(Ve)||wt?.studentId?.studentId?.toLowerCase().includes(Ve.toLowerCase());return Xt&&Oe&&ut&&ot});return Fe?n.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:n.jsxs("div",{className:"text-center p-8 bg-red-50 rounded-lg border border-red-200 max-w-md",children:[n.jsx(pr,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),n.jsx("h2",{className:"text-xl font-bold text-red-700 mb-2",children:"School ID Missing"}),n.jsx("p",{className:"text-red-600 mb-4",children:"School ID is missing from localStorage. Please enter it manually to continue."}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("input",{type:"text",value:Se,onChange:wt=>Me(wt.target.value),placeholder:"Enter School ID",className:"w-full px-3 py-2 border border-red-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:Ze,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",disabled:!Se.trim(),children:"Set School ID"}),n.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Refresh"})]})]})]})}):n.jsxs("div",{className:"space-y-6 h-screen overflow-y-auto p-4 bg-gray-50",children:[Q&&P&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx(q_,{className:"w-8 h-8 text-orange-500"}),n.jsx("h2",{className:"text-xl font-bold text-orange-700",children:"Duplicate Attendance Detected"})]}),n.jsxs("div",{className:"mb-4 p-4 bg-orange-50 rounded-lg border border-orange-200",children:[n.jsxs("p",{className:"text-orange-800 mb-2",children:[n.jsx("strong",{children:P.duplicates.length})," out of"," ",n.jsx("strong",{children:P.totalStudents})," students already have attendance marked for"," ",n.jsx("strong",{children:new Date(P.date).toLocaleDateString()}),"."]}),n.jsxs("p",{className:"text-orange-700 text-sm",children:[" ",n.jsx("strong",{children:"Warning:"})," These students already have attendance records for this date. To modify existing attendance, please use the ",n.jsx("strong",{children:"Edit button"})," in the main attendance table instead."]})]}),n.jsxs("div",{className:"mb-4 max-h-60 overflow-y-auto",children:[n.jsx("h3",{className:"font-medium mb-2",children:"Students with existing attendance:"}),n.jsx("div",{className:"space-y-2",children:P.duplicates.map(({student:wt,existing:Xt,newStatus:Oe})=>n.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded border-l-4 border-orange-400",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:wt.name}),n.jsxs("span",{className:"text-gray-500 ml-2",children:["(",wt.rollNumber,")"]})]}),n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Already marked: "}),n.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${Xt.status==="present"?"bg-green-100 text-green-800":Xt.status==="absent"?"bg-red-100 text-red-800":"bg-orange-100 text-orange-800"}`,children:Xt.status.toUpperCase()}),Xt.status!==Oe&&n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:"text-gray-600 ml-2",children:[" Trying to change to:"," "]}),n.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${Oe==="present"?"bg-green-100 text-green-800":Oe==="absent"?"bg-red-100 text-red-800":"bg-orange-100 text-orange-800"}`,children:Oe.toUpperCase()})]}),Xt.status===Oe&&n.jsx("span",{className:"text-blue-600 ml-2 text-xs",children:"(Same status - no change needed)"})]})]},wt._id))})]}),n.jsxs("div",{className:"flex gap-3 justify-end",children:[n.jsx("button",{onClick:()=>cr("cancel"),className:"px-4 py-2 bg-gray-300 hover:bg-gray-400 text-gray-700 rounded-lg transition-colors",children:"Cancel & Go Back"}),n.jsxs("button",{onClick:()=>{U(!1),I(null),y(!1),be(t),ce(a),setTimeout(()=>{const wt=document.querySelector(".attendance-table");wt&&wt.scrollIntoView({behavior:"smooth"})},100)},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[n.jsx(mc,{className:"w-4 h-4"}),"Go to Edit Records"]}),n.jsx("button",{onClick:()=>cr("update"),className:"px-4 py-2 bg-orange-600 hover:bg-orange-700 text-white rounded-lg transition-colors",children:"Override Anyway"})]})]})}),h&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[n.jsx(rn,{})," Daily Attendance Marking"]}),n.jsx("button",{onClick:()=>{y(!1),I(null),U(!1),be(t),ce(a),j({})},className:"text-gray-500 hover:text-gray-700",children:n.jsx(pr,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Date:"}),n.jsx("input",{type:"date",value:x,onChange:wt=>v(wt.target.value),className:"border px-3 py-2 rounded-lg w-full"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Class:"}),n.jsxs("select",{value:t,onChange:wt=>pt(wt.target.value),className:"border px-3 py-2 rounded-lg w-full",disabled:Je.classes,children:[n.jsx("option",{value:"",children:Je.classes?"Loading classes...":"Select Class"}),[...new Set(k.map(wt=>wt.className))].map(wt=>n.jsx("option",{value:wt,children:wt},wt))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Section:"}),n.jsxs("select",{value:a,onChange:wt=>s(wt.target.value),className:"border px-3 py-2 rounded-lg w-full",disabled:Je.classes||!t,children:[n.jsx("option",{value:"",children:"Select Section"}),at.map(wt=>n.jsx("option",{value:wt,children:wt||"No Section"},wt))]})]})]}),C.length>0?n.jsx("div",{className:"mb-4",children:(()=>{const wt=Qe();return wt.length>0?n.jsxs("div",{className:"p-3 bg-orange-50 border border-orange-200 rounded-lg flex items-center gap-2",children:[n.jsx(q_,{className:"w-5 h-5 text-orange-500"}),n.jsxs("span",{className:"text-orange-800",children:[n.jsx("strong",{children:wt.length})," students already have attendance for this date. You can update existing records below."]})]}):n.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg flex items-center gap-2",children:[n.jsx(hi,{className:"w-5 h-5 text-green-500"}),n.jsxs("span",{className:"text-green-800",children:["Ready to mark or update attendance for"," ",C.length," students"]})]})})()}):n.jsx("div",{className:"mb-4 p-3 bg-gray-100 border border-gray-200 rounded-lg flex items-center gap-2",children:n.jsx("span",{className:"text-gray-600",children:Je.students?"Loading students...":"No students found for the selected class and section"})}),n.jsxs("div",{className:"flex gap-3 mb-4",children:[n.jsxs("button",{onClick:()=>Dt("present"),className:"px-4 py-2 rounded-full text-xs font-medium transition-colors bg-green-600 hover:bg-green-700 text-white flex items-center gap-2",disabled:Je.students||C.length===0,children:[n.jsx(hi,{})," Mark All Present"]}),n.jsxs("button",{onClick:()=>Dt("absent"),className:"px-4 py-2 rounded-full text-xs font-medium transition-colors bg-red-600 hover:bg-red-700 text-white flex items-center gap-2",disabled:Je.students||C.length===0,children:[n.jsx(pr,{})," Mark All Absent"]})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[n.jsx("h3",{className:"font-medium mb-3",children:Je.students?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Rr,{className:"w-4 h-4 animate-spin mx-auto mb-2 text-gray-400"}),"Loading students..."]}):C.length===0?`No students found for Class ${t} ${a?`(${a})`:""}`:`Students in Class ${t} ${a?`(${a})`:""} (${C.length} students)`}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-h-60 overflow-y-auto",children:Je.students?n.jsxs("div",{className:"col-span-2 text-center py-8",children:[n.jsx(Rr,{className:"w-8 h-8 animate-spin mx-auto mb-2 text-gray-400"}),n.jsx("p",{className:"text-gray-500",children:"Loading students..."})]}):C.length===0?n.jsx("div",{className:"col-span-2 text-center py-8",children:n.jsx("p",{className:"text-gray-500",children:"No students found for the selected class and section."})}):C.map(wt=>{const Xt=mt(wt._id,x);return n.jsxs("div",{className:`bg-white p-3 rounded-lg border flex items-center justify-between ${Xt?"border-orange-300 bg-orange-50":"border-gray-200"}`,children:[n.jsxs("div",{children:[n.jsxs("div",{className:"font-medium flex items-center gap-2",children:[wt.name,Xt&&n.jsxs("span",{className:"text-xs bg-orange-100 text-orange-800 px-2 py-1 rounded",children:["Already marked:"," ",Xt.status.toUpperCase()]})]}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Roll: ",wt.rollNumber]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>_t(wt._id,"present"),className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${b[wt._id]==="present"?"bg-green-500 text-white":"bg-gray-200 text-gray-700 hover:bg-green-100"}`,children:"Present"}),n.jsx("button",{onClick:()=>_t(wt._id,"absent"),className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${b[wt._id]==="absent"?"bg-red-500 text-white":"bg-gray-200 text-gray-700 hover:bg-red-100"}`,children:"Absent"}),n.jsx("button",{onClick:()=>_t(wt._id,"late"),className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${b[wt._id]==="late"?"bg-orange-500 text-white":"bg-gray-200 text-gray-700 hover:bg-orange-100"}`,children:"Late"})]})]},wt._id)})})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx("button",{onClick:()=>{y(!1),I(null),U(!1),be(t),ce(a),j({})},className:"px-4 py-2 bg-gray-300 hover:bg-gray-400 rounded-lg transition-colors",disabled:Je.dailySaving,children:"Cancel"}),n.jsxs("button",{onClick:Wt,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center gap-2",disabled:Je.dailySaving||C.length===0,children:[Je.dailySaving&&n.jsx(Rr,{className:"w-4 h-4 animate-spin"}),Je.dailySaving?"Saving...":`Save Attendance (${C.length} students)`]})]})]})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Attendance Management"}),n.jsx("p",{className:"text-gray-600",children:"Track and manage student attendance records"}),bt&&n.jsxs("div",{className:"mt-2 text-sm text-blue-600",children:[n.jsxs("p",{className:"font-medium",children:["Teacher: ",bt.name]}),n.jsx("p",{className:"mt-1",children:n.jsx("span",{className:"font-medium",children:"Class Teacher of and subjects"})}),n.jsx("ul",{className:"list-disc list-inside ml-4",children:bt?.classSubjects?.map((wt,Xt)=>n.jsxs("li",{children:[n.jsx("span",{className:"font-semibold",children:wt.className}),":"," ",wt?.subjects?.join(", ")]},Xt))})]})]}),n.jsxs("button",{onClick:()=>{y(!0),j({})},className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg flex items-center gap-2 transition-colors shadow-md",disabled:Je.students||Je.classes,children:[(Je.students||Je.classes)&&n.jsx(Rr,{className:"w-4 h-4 animate-spin"}),n.jsx(Ia,{})," Daily Marking"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(on,{className:"text-gray-400"})}),n.jsx("input",{type:"text",value:Ve,onChange:wt=>ze(wt.target.value),placeholder:"Search students...",className:"pl-10 w-full border px-3 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("select",{value:ee,onChange:wt=>ca(wt.target.value),className:"w-full border px-3 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:Je.classes,children:[n.jsx("option",{value:"",children:Je.classes?"Loading classes...":"Filter by Class"}),[...new Set(k.map(wt=>wt.className))].map(wt=>n.jsx("option",{value:wt,children:wt},wt))]}),n.jsxs("select",{value:Ce,onChange:wt=>{ce(wt.target.value),G(1)},className:"w-full border px-3 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:Je.classes||!ee,children:[n.jsx("option",{value:"",children:"Filter by Section"}),at.map(wt=>n.jsx("option",{value:wt,children:wt||"No Section"},wt))]}),n.jsx("input",{type:"date",value:J,onChange:wt=>{ge(wt.target.value),G(1)},className:"w-full border px-3 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[n.jsxs("select",{value:A,onChange:Ft,className:"w-64 border px-3 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:Je.students,children:[n.jsx("option",{value:"",children:Je.students?"Loading students...":"View Individual Student"}),i.map(wt=>n.jsxs("option",{value:wt._id,children:[wt.name," - ",wt.rollNumber]},wt._id))]}),n.jsxs("button",{onClick:()=>{m(""),be(""),ce(""),ge(""),ze(""),G(1)},className:"px-4 py-2 bg-gray-300 hover:bg-gray-400 rounded-lg transition-colors flex items-center gap-2",disabled:Je.attendance,children:[n.jsx(pr,{})," Clear Filters"]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden attendance-table",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border-b",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-700 flex items-center gap-2",children:[n.jsx(Hl,{className:"text-blue-500"}),"Attendance Records"]}),n.jsxs("span",{className:"text-sm text-gray-600",children:["Showing ",oa.length," of ",xe," records"]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Roll No"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student Name"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student ID"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),n.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Je.attendance?n.jsx("tr",{children:n.jsx("td",{colSpan:"8",className:"px-6 py-8 text-center text-gray-500",children:n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx(Rr,{className:"w-5 h-5 animate-spin"}),"Loading attendance records..."]})})}):oa.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"8",className:"px-6 py-8 text-center text-gray-500",children:"No attendance records found matching your criteria"})}):oa.map(wt=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:wt?.studentId?.rollNumber||"N/A"}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:n.jsx("button",{onClick:()=>Fr(wt.studentId),className:"text-blue-600 hover:text-blue-800 hover:underline font-medium transition-colors",disabled:!wt.studentId,children:wt?.studentId?.name||"N/A"})}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:wt?.studentId?.studentId||"N/A"}),n.jsx("td",{className:"px-6 py-4 text-sm",children:n.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:wt?.className})}),n.jsx("td",{className:"px-6 py-4 text-sm",children:n.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 rounded-full text-xs font-medium",children:wt?.section})}),n.jsx("td",{className:"px-6 py-4 text-sm",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${wt?.status==="present"?"bg-green-100 text-green-800":wt?.status==="absent"?"bg-red-100 text-red-800":"bg-orange-100 text-orange-800"}`,children:wt?.status?wt.status.charAt(0).toUpperCase()+wt.status.slice(1):"N/A"})}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:wt?.date?new Date(wt.date).toLocaleDateString():"N/A"}),n.jsx("td",{className:"px-6 py-4 text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx("button",{onClick:()=>Fr(wt.studentId),className:"text-gray-600 hover:text-blue-600 p-2 rounded-lg hover:bg-blue-50 transition-colors",title:"View student attendance history",disabled:!wt.studentId,children:n.jsx(cs,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>st(wt),className:"text-blue-600 hover:text-blue-800 p-2 rounded-lg hover:bg-blue-50 transition-colors",title:"Edit attendance",disabled:Je.saving,children:n.jsx(mc,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>tt(wt._id),className:"text-red-600 hover:text-red-800 p-2 rounded-lg hover:bg-red-50 transition-colors",title:"Delete attendance",disabled:Je.deleting[wt._id],children:Je.deleting[wt._id]?n.jsx(Rr,{className:"w-4 h-4 animate-spin"}):n.jsx(Jn,{className:"w-4 h-4"})})]})})]},wt._id))})]})}),n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center p-4 bg-gray-50 border-t",children:[n.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",oa.length," of ",xe," records"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>Sr(R-1),disabled:R===1,className:"p-2 rounded-lg bg-gray-200 hover:bg-gray-300 disabled:opacity-50 transition-colors",children:n.jsx(Do,{className:"w-4 h-4"})}),n.jsxs("span",{className:"text-sm",children:["Page ",R," of ",ne]}),n.jsx("button",{onClick:()=>Sr(R+1),disabled:R===ne,className:"p-2 rounded-lg bg-gray-200 hover:bg-gray-300 disabled:opacity-50 transition-colors",children:n.jsx(ro,{className:"w-4 h-4"})}),n.jsxs("select",{value:Y,onChange:wt=>{se(parseInt(wt.target.value)),G(1)},className:"border px-2 py-1 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:10,children:"10 per page"}),n.jsx("option",{value:20,children:"20 per page"}),n.jsx("option",{value:50,children:"50 per page"})]})]})]})]}),z&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[ie?.name,"'s Attendance History"]}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Roll Number: ",ie?.rollNumber," | Student ID:"," ",ie?.studentId]})]}),n.jsx("button",{onClick:jr,className:"text-gray-400 hover:text-gray-600 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:n.jsx(pr,{className:"w-6 h-6"})})]}),n.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:he?n.jsxs("div",{className:"flex items-center justify-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),n.jsx("span",{className:"ml-3 text-gray-600",children:"Loading attendance history..."})]}):le.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:""}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Attendance Records"}),n.jsx("p",{className:"text-gray-600",children:"No attendance records found for this student."})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Total Records:"," ",(ve?le.filter(Xt=>{const Oe=new Date(Xt.date);return Oe.getFullYear()+"-"+String(Oe.getMonth()+1).padStart(2,"0")===ve}):le).length]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Filter by Month:"}),n.jsx("input",{type:"month",value:ve,onChange:wt=>B(wt.target.value),className:"border border-gray-300 rounded-lg px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),ve&&n.jsx("button",{onClick:()=>B(""),className:"text-xs text-blue-600 hover:text-blue-800 underline",children:"Clear"})]})]}),n.jsx("div",{className:"flex gap-4 text-sm",children:(()=>{const wt=ve?le.filter(Xt=>{const Oe=new Date(Xt.date);return Oe.getFullYear()+"-"+String(Oe.getMonth()+1).padStart(2,"0")===ve}):le;return n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),"Present:"," ",wt.filter(Xt=>Xt.status==="present").length]}),n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),"Absent:"," ",wt.filter(Xt=>Xt.status==="absent").length]}),n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),"Late:"," ",wt.filter(Xt=>Xt.status==="late").length]})]})})()})]}),n.jsx("div",{className:"bg-gray-50 rounded-lg overflow-hidden",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-100",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Recorded By"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:le.filter(wt=>{if(!ve)return!0;const Xt=new Date(wt.date);return Xt.getFullYear()+"-"+String(Xt.getMonth()+1).padStart(2,"0")===ve}).sort((wt,Xt)=>new Date(Xt.date)-new Date(wt.date)).map(wt=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:wt.date?new Date(wt.date).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"}):"N/A"}),n.jsx("td",{className:"px-4 py-3 text-sm",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${wt.status==="present"?"bg-green-100 text-green-800":wt.status==="absent"?"bg-red-100 text-red-800":"bg-orange-100 text-orange-800"}`,children:wt.status?wt.status.charAt(0).toUpperCase()+wt.status.slice(1):"N/A"})}),n.jsx("td",{className:"px-4 py-3 text-sm",children:n.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:wt?.className})}),n.jsx("td",{className:"px-4 py-3 text-sm",children:n.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 rounded-full text-xs font-medium",children:wt?.section})}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:wt.recordedBy||"System"})]},wt._id))})]})})]})})]})})]})},$g="http://localhost:5000/api",cG=({show:e,onClose:t,children:r})=>e?n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:n.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6 relative max-h-[90vh] overflow-y-auto",children:[n.jsx("button",{onClick:t,className:"absolute top-3 right-3 text-gray-400 hover:text-gray-600",children:n.jsx(pr,{className:"w-5 h-5"})}),r]})}):null,tBe=({show:e,onClose:t,data:r})=>e?n.jsxs(cG,{show:e,onClose:t,children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx(rh,{className:"w-5 h-5 text-indigo-600"}),n.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Classwork Details"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(Un,{className:"w-4 h-4 text-gray-500"}),n.jsx("label",{className:"font-semibold text-gray-700 text-sm",children:"Topic"})]}),n.jsx("p",{className:"text-gray-900 font-medium",children:r?.topic||"N/A"})]}),n.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(oj,{className:"w-4 h-4 text-gray-500"}),n.jsx("label",{className:"font-semibold text-gray-700 text-sm",children:"Subject"})]}),n.jsx("p",{className:"text-gray-900 font-medium",children:r?.subject||"N/A"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(Un,{className:"w-4 h-4 text-gray-500"}),n.jsx("label",{className:"font-semibold text-gray-700 text-sm",children:"Class"})]}),n.jsx("p",{className:"text-gray-900 font-medium",children:r?.className||"N/A"})]}),n.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(oj,{className:"w-4 h-4 text-gray-500"}),n.jsx("label",{className:"font-semibold text-gray-700 text-sm",children:"Section"})]}),n.jsx("p",{className:"text-gray-900 font-medium",children:r?.section||"N/A"})]})]}),n.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(Ia,{className:"w-4 h-4 text-gray-500"}),n.jsx("label",{className:"font-semibold text-gray-700 text-sm",children:"Date"})]}),n.jsx("p",{className:"text-gray-900 font-medium",children:r?.date?new Date(r.date).toLocaleDateString():"N/A"})]}),n.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(rh,{className:"w-4 h-4 text-gray-500"}),n.jsx("label",{className:"font-semibold text-gray-700 text-sm",children:"Description"})]}),n.jsx("p",{className:"text-gray-900",children:r?.description||"N/A"})]}),r?.attachments&&r.attachments.length>0&&n.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(oj,{className:"w-4 h-4 text-blue-600"}),n.jsx("label",{className:"font-semibold text-blue-800 text-sm",children:"Attachments"})]}),n.jsx("div",{className:"space-y-2",children:r.attachments.map((a,s)=>n.jsxs("div",{className:"flex items-center justify-between bg-white p-2 rounded-lg border border-gray-200",children:[n.jsx("span",{className:"text-sm text-gray-700 font-medium truncate flex-1 mr-2",children:a.name||a.filename}),a.url&&n.jsxs("a",{href:a.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(Ln,{className:"w-3 h-3 mr-1"}),"Download"]})]},s))})]})]})]}):null,rBe=()=>{const[e,t]=S.useState(""),[r,a]=S.useState(!1),[s,i]=S.useState(!1),[o,l]=S.useState({}),[c,u]=S.useState({}),[d,A]=S.useState("add"),[m,h]=S.useState([]),[y,x]=S.useState(!1),[v,b]=S.useState(""),[j,C]=S.useState(null),[E,k]=S.useState(null),[D,L]=S.useState([]),[F,Q]=S.useState([]),[U,P]=S.useState(""),[I,z]=S.useState(""),[W,ie]=S.useState([]),[X,le]=S.useState(1),[re,he]=S.useState(1),[de,ve]=S.useState("All"),[B,R]=S.useState("All"),[G,ne]=S.useState("All"),pe=10;S.useEffect(()=>{const ze=localStorage.getItem("schoolId"),rt=localStorage.getItem("teacherId");ze&&rt?(C(ze),k(rt)):b("School ID or Teacher ID not found in local storage")},[]),S.useEffect(()=>{j&&E&&xe()},[j,E,X,B]);const xe=async()=>{x(!0),b("");try{const rt=(await Vt.get(`${$g}/teacher/${j}/${E}`)).data.data,Ge=rt.classes||[],bt=rt.subjects||[];Q(bt);const Ze=((await Vt.get(`${$g}/class?schoolId=${j}`)).data.data||[]).filter(tt=>Ge.includes(`${tt.className} ${tt.section||""}`.trim())).map(tt=>({...tt,className:tt.className,section:tt.section||""}));L(Ze);const Te=[...new Set(Ze.map(tt=>tt.className))],pt=B==="All"?Te:[B];if(pt.length===0){b("No classes assigned to this teacher."),h([]),he(1),x(!1);return}const At=await Vt.get(`${$g}/classwork/by-class-names`,{params:{schoolId:j,classNames:pt.join(","),page:X,limit:pe}}),{classwork:qe,pagination:Pe}=At.data,mt=qe.map(tt=>({...tt,className:tt.classId?.className||"Unknown",section:tt.classId?.section||"N/A"})),Qe=new Set(Ze.map(tt=>`${tt.className} ${tt.section||""}`.trim())),st=mt.filter(tt=>Qe.has(`${tt.className} ${tt.section}`.trim()));h(st),he(Pe.totalPages)}catch(ze){console.error("Failed to fetch initial data:",ze),b(ze.response?.data?.message||"Failed to load classwork data. Please try again.")}finally{x(!1)}},Ae=ze=>new Date(ze).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"}),Y=ze=>({className:ze?.className||"Unknown",section:ze?.section||"N/A"}),se=S.useMemo(()=>B==="All"?[]:D.filter(ze=>ze.className===B).map(ze=>ze.section||"N/A").filter((ze,rt,Ge)=>Ge.indexOf(ze)===rt).sort(),[B,D]),ee=S.useMemo(()=>m.filter(ze=>{const rt=ze.topic?.toLowerCase().includes(e.toLowerCase())||ze.subject?.toLowerCase().includes(e.toLowerCase())||ze.description?.toLowerCase().includes(e.toLowerCase()),Ge=de==="All"||ze.subject===de,bt=G==="All"||ze.section===G;return rt&&Ge&&bt}),[e,de,G,m]);S.useEffect(()=>{le(1)},[e,de,B,G]);const be=X*pe,Ce=be-pe,ce=ee.slice(Ce,be),J=ze=>{ze>=1&&ze<=re&&le(ze)},ge=()=>[...new Set(D.map(rt=>rt.className))].sort(),Je=ze=>D.filter(rt=>rt.className===ze).map(rt=>rt.section||"N/A").filter((rt,Ge,bt)=>bt.indexOf(rt)===Ge).sort(),Ke=ze=>{P(ze);const rt=Je(ze);ie(rt);const Ge=rt.length>0?rt[0]:"";z(Ge);const bt=D.find(Le=>Le.className===ze&&(Le.section||"N/A")===Ge);l({...o,classId:bt?._id||"",section:Ge})},Fe=ze=>{z(ze);const rt=D.find(Ge=>Ge.className===U&&(Ge.section||"N/A")===ze);l({...o,classId:rt?._id||"",section:ze})},nt=()=>{A("add"),l({topic:"",subject:F.length>0?F[0]:"",description:"",date:new Date().toISOString().split("T")[0],attachments:[],classId:""}),P(""),z(""),ie([]),a(!0)},Se=ze=>{A("edit");const rt=Y(ze.classId);l({...ze,date:ze.date?ze.date.split("T")[0]:new Date().toISOString().split("T")[0],attachments:ze.attachments||[],classId:ze.classId?._id||""}),P(rt.className);const Ge=Je(rt.className);ie(Ge),z(rt.section),a(!0)},Me=ze=>{u({...ze,className:ze.className,section:ze.section}),i(!0)},at=async ze=>{if(window.confirm("Are you sure you want to delete this classwork?"))try{await Vt.delete(`${$g}/classwork/${ze}`,{data:{schoolId:j}}),alert("Classwork deleted successfully!"),xe()}catch(rt){console.error("Failed to delete classwork:",rt),alert("Failed to delete classwork. Please try again.")}},ke=async ze=>{if(ze.preventDefault(),!o.topic||!o.subject||!o.date||!o.classId){alert("Please fill in all required fields including selecting a class");return}const rt=new FormData;rt.append("topic",o.topic),rt.append("subject",o.subject),rt.append("description",o.description||""),rt.append("date",o.date),rt.append("schoolId",j),rt.append("classId",o.classId),rt.append("createdBy",E),o.newAttachments?.length&&o.newAttachments.forEach(Ge=>{rt.append("attachments",Ge)});try{let Ge;d==="add"?(Ge=await Vt.post(`${$g}/classwork`,rt,{headers:{"Content-Type":"multipart/form-data"}}),alert("Classwork added successfully!")):(Ge=await Vt.put(`${$g}/classwork/${o._id}`,rt,{"Content-Type":"multipart/form-data"}),alert("Classwork updated successfully!")),a(!1),l({}),xe()}catch(Ge){console.error("Submission failed:",Ge),alert(`Failed to ${d==="add"?"add":"update"} classwork. Please try again.`)}},Ve=ze=>{const rt=Array.from(ze.target.files);l({...o,newAttachments:rt})};return j?n.jsxs("div",{className:"min-h-screen bg-gray-50 h-screen overflow-y-scroll overflow-x-scroll",children:[n.jsxs("div",{className:"bg-indigo-600 text-white p-6 rounded-b-3xl shadow-lg flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Un,{className:"w-6 h-6"}),n.jsx("h1",{className:"text-2xl font-bold",children:"Classwork Management"})]}),n.jsxs("button",{onClick:nt,className:"bg-white bg-opacity-20 px-4 py-2 rounded-xl hover:bg-opacity-30 flex items-center space-x-2 transition-colors",children:[n.jsx(bs,{className:"w-4 h-4"})," ",n.jsx("span",{children:"Add Classwork"})]})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),n.jsx("input",{type:"text",value:e,onChange:ze=>t(ze.target.value),placeholder:"Search by topic, subject, or description...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),n.jsxs("select",{value:B,onChange:ze=>R(ze.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[n.jsx("option",{value:"All",children:"All Classes"}),ge().map(ze=>n.jsx("option",{value:ze,children:ze},ze))]}),n.jsxs("select",{value:G,onChange:ze=>ne(ze.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[n.jsx("option",{value:"All",children:"All Sections"}),se.length>0?se.map(ze=>n.jsx("option",{value:ze,children:ze},ze)):n.jsx("option",{disabled:!0,children:"No sections available"})]}),n.jsxs("select",{value:de,onChange:ze=>ve(ze.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[n.jsx("option",{value:"All",children:"All Subjects"}),F.map((ze,rt)=>n.jsx("option",{value:ze,children:ze},rt))]})]}),v&&n.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:v}),y?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"}),n.jsx("p",{className:"mt-2 text-gray-600",children:"Loading classwork..."})]}):n.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Topic"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subject"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Attachments"}),n.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ce.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"8",className:"px-6 py-8 text-center text-gray-500",children:e||B!=="All"||de!=="All"||G!=="All"?"No classwork found matching your filters":"No classwork available"})}):ce.map(ze=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:ze.topic})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:ze.subject})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:ze.className})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:ze.section})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:Ae(ze.date)})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",title:ze.description,children:ze.description||"No description"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:ze.attachments&&ze.attachments.length>0?n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[ze.attachments.length," file",ze.attachments.length!==1?"s":""]}):n.jsx("span",{className:"text-gray-400",children:"No files"})})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx("button",{onClick:()=>Me(ze),className:"text-blue-600 hover:text-blue-900 p-1 rounded transition-colors",title:"View details",children:n.jsx(cs,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>Se(ze),className:"text-indigo-600 hover:text-indigo-900 p-1 rounded transition-colors",title:"Edit classwork",children:n.jsx(mc,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>at(ze._id),className:"text-red-600 hover:text-red-900 p-1 rounded transition-colors",title:"Delete classwork",children:n.jsx(Jn,{className:"w-4 h-4"})})]})})]},ze._id))})]})}),re>1&&n.jsxs("div",{className:"flex justify-center items-center py-4 space-x-2",children:[n.jsx("button",{onClick:()=>J(X-1),disabled:X===1,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg disabled:opacity-50 hover:bg-gray-300 transition-colors",children:"Previous"}),Array.from({length:re},(ze,rt)=>rt+1).map(ze=>n.jsx("button",{onClick:()=>J(ze),className:`px-4 py-2 rounded-lg transition-colors ${X===ze?"bg-indigo-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:ze},ze)),n.jsx("button",{onClick:()=>J(X+1),disabled:X===re,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg disabled:opacity-50 hover:bg-gray-300 transition-colors",children:"Next"})]})]})]}),n.jsxs(cG,{show:r,onClose:()=>a(!1),children:[n.jsxs("h2",{className:"text-lg font-bold mb-4",children:[d==="add"?"Add New":"Edit"," Classwork"]}),n.jsxs("form",{onSubmit:ke,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Topic *"}),n.jsx("input",{type:"text",placeholder:"Enter topic",value:o?.topic||"",onChange:ze=>l({...o,topic:ze.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject *"}),n.jsxs("select",{value:o?.subject||"",onChange:ze=>l({...o,subject:ze.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0,children:[n.jsx("option",{value:"",children:"Select a subject"}),F.map((ze,rt)=>n.jsx("option",{value:ze,children:ze},rt))]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select the subject for this classwork"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Class *"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Class Name"}),n.jsxs("select",{value:U,onChange:ze=>Ke(ze.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm",required:!0,children:[n.jsx("option",{value:"",children:"Select Class"}),ge().map(ze=>n.jsx("option",{value:ze,children:ze},ze))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Section"}),n.jsxs("select",{value:I,onChange:ze=>Fe(ze.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm",disabled:!U,required:!0,children:[n.jsx("option",{value:"",children:"Select Section"}),W.map(ze=>n.jsx("option",{value:ze,children:ze},ze))]})]})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select the class and section for this classwork"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date *"}),n.jsx("input",{type:"date",value:o?.date||"",onChange:ze=>l({...o,date:ze.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("textarea",{placeholder:"Enter description",value:o?.description||"",onChange:ze=>l({...o,description:ze.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",rows:3})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Upload Documents"}),n.jsx("input",{type:"file",multiple:!0,onChange:Ve,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png,.txt,.xlsx,.xls,.ppt,.pptx"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Supported formats: PDF, DOC, DOCX, JPG, JPEG, PNG, TXT, Excel, PowerPoint"}),o?.newAttachments&&o.newAttachments.length>0&&n.jsxs("div",{className:"mt-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Selected files:"}),n.jsx("div",{className:"mt-1 space-y-1",children:Array.from(o.newAttachments).map((ze,rt)=>n.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded text-sm",children:[n.jsx("span",{className:"text-gray-600",children:ze.name}),n.jsxs("span",{className:"text-gray-400",children:[(ze.size/1024/1024).toFixed(2)," MB"]})]},rt))})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>a(!1),className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:d==="add"?"Add Classwork":"Update Classwork"})]})]})]}),n.jsx(tBe,{show:s,onClose:()=>i(!1),data:c})]}):n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg text-center",children:[n.jsx(Da,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Missing Required Information"}),n.jsx("p",{className:"text-gray-600",children:"School ID is required to manage classwork."}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Please ensure you are logged in and try refreshing the page."})]})})},aBe=()=>{const[e,t]=S.useState(""),[r,a]=S.useState(!1),[s,i]=S.useState(!1),[o,l]=S.useState(!1),[c,u]=S.useState(null),[d,A]=S.useState("All"),[m,h]=S.useState("All"),[y,x]=S.useState("All"),[v,b]=S.useState("All"),[j,C]=S.useState(1),[E,k]=S.useState([]),[D,L]=S.useState([]),[F,Q]=S.useState([]),[U,P]=S.useState([]),[I,z]=S.useState(!1),[W,ie]=S.useState(""),[X,le]=S.useState(null),[re,he]=S.useState({total:0,pages:0}),[de,ve]=S.useState({pending:0,submitted:0}),[B,R]=S.useState({selectedClassId:"",selectedSection:"",selectedStudentIds:[],selectedStudents:[],subject:"",title:"",description:"",dueDate:"",priority:"low",status:"pending",schoolId:""}),[G,ne]=S.useState([]),[pe,xe]=S.useState([]),Ae="http://localhost:5000/api",Y=["low","medium","high"],se=10,ee=S.useMemo(()=>[...new Set(F.map(Pe=>Pe.section).filter(Boolean))],[F]),be=S.useMemo(()=>{const Pe={};return F.forEach(mt=>{Pe[mt.className]||(Pe[mt.className]=[]),Pe[mt.className].push(mt)}),Pe},[F]);S.useEffect(()=>{const Pe=localStorage.getItem("schoolId");Pe?(le(Pe),R(mt=>({...mt,schoolId:Pe}))):ie("School ID not found in local storage")},[]),S.useEffect(()=>{X&&Ce()},[X]);const Ce=async()=>{z(!0);try{await Promise.all([Fe(),Je()]),J(1,ce())}catch(Pe){ie("Failed to load initial data"),console.error("Error fetching initial data:",Pe)}finally{z(!1)}},ce=S.useCallback(()=>({status:m==="All"?"":m,subject:d==="All"?"":d,className:y==="All"?"":y,section:v==="All"?"":v,search:e.trim()||""}),[m,d,y,v,e]),J=S.useCallback(async(Pe=1,mt)=>{if(X){z(!0),ie("");try{const Qe=new URLSearchParams({schoolId:X,page:Pe.toString(),limit:se.toString(),...mt.status&&{status:mt.status},...mt.subject&&{subject:mt.subject},...mt.className&&{className:mt.className},...mt.section&&{section:mt.section},...mt.search&&{search:mt.search}}),st=await Vt.get(`${Ae}/assignments/admin?${Qe}`);if(st.data.success){const tt=st.data.assignments.map(Ft=>{const _t=Ft.studentId||{},Dt=_t.classId||_t.classId||_t.classId?._id,Wt=ge(Dt);return console.log("Processing assignment:",Wt,Dt,_t.classId),{...Ft,id:Ft._id,studentId:_t._id||"",studentName:_t.name||"Unknown",rollNo:_t.rollNumber||"",class:Wt,priority:Ft.priority?Ft.priority.toUpperCase():"NORMAL",dueDate:Ft.dueDate?new Date(Ft.dueDate).toISOString().split("T")[0]:"",classId:Dt||""}});k(tt),he(st.data.pagination||{total:0,pages:0}),ve(st.data.counts||{pending:0,submitted:0})}}catch(Qe){console.error("Error fetching assignments:",Qe),ie("Failed to fetch assignments")}finally{z(!1)}}},[X]);S.useEffect(()=>{C(1),J(1,ce())},[d,m,y,v,e]),S.useEffect(()=>{J(j,ce())},[j]);const ge=S.useCallback(Pe=>{if(!Pe)return"N/A";const mt=F.find(Qe=>Qe._id===Pe||Qe._id===String(Pe)||String(Qe._id)===String(Pe));return mt?mt.className+(mt.section?` ${mt.section}`:""):"N/A"},[F]);S.useEffect(()=>{if(B.selectedClassId){const Pe=F.find(mt=>mt._id===B.selectedClassId);if(Pe){const mt=F.filter(Qe=>Qe.className===Pe.className);xe(mt)}}else xe(F)},[B.selectedClassId,F]);const Je=async()=>{try{const Pe=await Vt.get(`${Ae}/subject/${X}/subjects`);if(Pe.data.success){const mt=Pe.data.data.map(Qe=>Qe.SubjectName);P(mt)}else ie("Failed to fetch subjects: Invalid response"),P([])}catch(Pe){console.error("Error fetching subjects:",Pe),ie("Failed to fetch subjects"),P([])}},Ke=async(Pe,mt)=>{if(!X||!Pe||mt===void 0){L([]),ne([]);return}try{const Qe=F.find(Ft=>Ft._id===Pe);if(console.log("Selected class from classes array:",Qe),console.log("Available classes:",F),!Qe){console.error("Class not found in classes array. Available classes:",F.map(Ft=>({id:Ft._id,name:Ft.className}))),ie("Class not found in the classes list"),L([]),ne([]);return}console.log("Making API call with:",{className:Qe.className,schoolId:X,section:mt});const st=await Vt.get(`${Ae}/students/class/${Qe.className}`,{params:{schoolId:X,section:mt}});console.log("API response:",st.data);const tt=st.data.data||st.data||[];L(tt),ne(tt)}catch(Qe){console.error("Error fetching students:",Qe),ie("Failed to fetch students"),L([]),ne([])}},Fe=async()=>{try{const Pe=await Vt.get(`${Ae}/class?schoolId=${X}`);if(Pe.data.success){const mt=Pe.data.data.map(Qe=>({_id:Qe._id,className:Qe.className,section:Qe.section||""}));Q(mt)}else ie("Failed to fetch classes: Invalid response")}catch(Pe){console.error("Error fetching classes:",Pe),ie("Failed to fetch classes")}};S.useEffect(()=>{B.selectedClassId&&B.selectedSection!==void 0?Ke(B.selectedClassId,B.selectedSection):(L([]),ne([]))},[B.selectedClassId,B.selectedSection]);const nt=()=>{R({selectedClassId:"",selectedSection:"",selectedStudentIds:[],selectedStudents:[],subject:"",title:"",description:"",dueDate:"",priority:"low",status:"pending",schoolId:X||""}),ne([]),xe(F),i(!1),l(!1),a(!0)},Se=Pe=>{const mt=Pe.studentId||{},Qe=mt.classId?._id||mt.classId,st=F.find(tt=>tt._id===Qe);R({selectedClassId:Qe||"",selectedSection:st?.section||"",selectedStudentIds:[Pe.studentId],selectedStudents:[{_id:Pe.studentId,name:Pe.studentName,rollNumber:Pe.rollNo}],subject:Pe.subject,title:Pe.title,description:Pe.description,dueDate:Pe.dueDate,priority:Pe.priority.toLowerCase(),status:Pe.status,schoolId:X||""}),xe(st?.section?F.filter(tt=>tt.section===st.section):F),u(Pe),i(!0),l(!1),a(!0)},Me=Pe=>{const mt=Pe.studentId||{},Qe=mt.classId?._id||mt.classId,st=F.find(tt=>tt._id===Qe);R({selectedClassId:Qe||"",selectedSection:st?.section||"",selectedStudentIds:[Pe.studentId],selectedStudents:[{_id:Pe.studentId,name:Pe.studentName,rollNumber:Pe.rollNo}],subject:Pe.subject,title:Pe.title,description:Pe.description,dueDate:Pe.dueDate,priority:Pe.priority.toLowerCase(),status:Pe.status,schoolId:X||""}),u(Pe),i(!1),l(!0),a(!0)},at=()=>{a(!1),u(null),i(!1),l(!1),ie(""),ne([]),xe(F)},ke=Pe=>{const{name:mt,value:Qe}=Pe.target;if(mt==="selectedSection")R({...B,selectedSection:Qe,selectedStudentIds:[],selectedStudents:[],schoolId:X||""});else if(mt==="selectedClassId")if(R({...B,selectedClassId:Qe,selectedStudentIds:[],selectedStudents:[],schoolId:X||""}),Qe){const st=F.find(tt=>tt._id===Qe);if(st){const tt=F.filter(Ft=>Ft.className===st.className);xe(tt)}}else xe(F);else R({...B,[mt]:Qe})},Ve=(Pe,mt)=>{R(mt?{...B,selectedStudentIds:[...B.selectedStudentIds,Pe._id],selectedStudents:[...B.selectedStudents,Pe]}:{...B,selectedStudentIds:B.selectedStudentIds.filter(Qe=>Qe!==Pe._id),selectedStudents:B.selectedStudents.filter(Qe=>Qe._id!==Pe._id)})},ze=Pe=>{R(Pe?{...B,selectedStudentIds:G.map(mt=>mt._id),selectedStudents:G}:{...B,selectedStudentIds:[],selectedStudents:[]})},rt=async()=>{if(!X){ie("School ID is required");return}if(!s&&B.selectedStudentIds.length===0){ie("Please select at least one student");return}z(!0),ie("");try{const Pe={subject:B.subject,title:B.title,description:B.description,dueDate:B.dueDate,priority:B.priority,studentIds:B.selectedStudentIds,schoolId:B.schoolId};s?(await Vt.put(`${Ae}/assignments/${c._id}`,Pe)).data.success&&(J(j,ce()),at()):(await Vt.post(`${Ae}/assignments`,Pe)).data.success&&(J(j,ce()),at())}catch(Pe){console.error("Error saving assignment:",Pe),ie(Pe.response?.data?.message||"Failed to save assignment")}finally{z(!1)}},Ge=Pe=>{if(!Pe)return"N/A";const mt=F.find(Qe=>Qe._id===Pe);return mt?mt.className+(mt.section?` ${mt.section}`:""):"N/A"},bt=Pe=>{if(!Pe)return{className:"N/A",section:"N/A"};const mt=F.find(Qe=>Qe._id===Pe);return mt?{className:mt.className,section:mt.section||"N/A"}:{className:"N/A",section:"N/A"}},Le=E.filter(Pe=>{const mt=Pe.title?.toLowerCase().includes(e.toLowerCase())||Pe.subject?.toLowerCase().includes(e.toLowerCase())||Pe.studentName?.toLowerCase().includes(e.toLowerCase())||Pe.rollNo?.toLowerCase().includes(e.toLowerCase())||Pe.description?.toLowerCase().includes(e.toLowerCase()),Qe=d==="All"||Pe.subject===d,st=m==="All"||Pe.status===m,tt=bt(Pe?.classId),Ft=y==="All"||tt?.className===y,_t=v==="All"||tt?.section===v;return mt&&Qe&&st&&Ft&&_t}),je=async Pe=>{if(!X){ie("School ID is required");return}if(window.confirm("Are you sure you want to delete this homework?")){z(!0);try{const mt=await Vt.delete(`${Ae}/assignments/${Pe._id}`,{data:{schoolId:X}});mt.data.success?J(j,ce()):ie("Failed to delete assignment: "+mt.data.message)}catch(mt){console.error("Error deleting assignment:",mt),ie(mt.response?.data?.message||"Failed to delete assignment")}finally{z(!1)}}},Ze=Pe=>{switch(Pe?.toUpperCase()){case"HIGH":return"bg-red-100 text-red-800";case"MEDIUM":return"bg-orange-100 text-orange-800";case"LOW":return"bg-green-100 text-green-800";case"A":return"bg-green-100 text-green-800";case"B+":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},Te=Pe=>Pe==="submitted"?n.jsx(Oo,{className:"w-4 h-4 text-green-600"}):n.jsx(fn,{className:"w-4 h-4 text-orange-600"}),pt=Pe=>Pe?new Date(Pe).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"",At=Pe=>{C(Pe)},qe=Array.from({length:re.pages},(Pe,mt)=>mt+1);return I&&E.length===0?n.jsx("div",{className:"flex items-center justify-center h-screen",children:n.jsx("div",{className:"text-lg",children:"Loading homeworks..."})}):n.jsxs("div",{className:"space-y-6 h-screen overflow-y-scroll",children:[W&&n.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:W}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Student HomeWork Management"}),n.jsx("p",{className:"text-gray-600",children:"Manage homeworks with student details"})]}),n.jsxs("button",{onClick:nt,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",disabled:!X,children:[n.jsx(bs,{className:"w-5 h-5 mr-2"}),"Add Homework"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Search Homework, students...",value:e,onChange:Pe=>t(Pe.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("select",{value:y,onChange:Pe=>x(Pe.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"All",children:"All Classes"}),Object.keys(be).map(Pe=>n.jsx("option",{value:Pe,children:Pe},Pe))]}),n.jsxs("select",{value:v,onChange:Pe=>b(Pe.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"All",children:"All Sections"}),ee.map(Pe=>n.jsx("option",{value:Pe,children:Pe},Pe))]}),n.jsxs("select",{value:d,onChange:Pe=>A(Pe.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"All",children:"All Subjects"}),U.map(Pe=>n.jsx("option",{value:Pe,children:Pe},Pe))]}),n.jsxs("select",{value:m,onChange:Pe=>h(Pe.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"All",children:"All Status"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"submitted",children:"Submitted"}),n.jsx("option",{value:"graded",children:"Graded"})]}),n.jsxs("div",{className:"flex flex-col space-y-1",children:[n.jsxs("div",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs font-medium",children:["Pending (",de.pending,")"]}),n.jsxs("div",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-xs font-medium",children:["Submitted (",de.submitted,")"]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full min-w-max table-auto",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Student Info"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Roll No"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Class"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Subject"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Assignment"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Due Date"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Priority/Grade"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase w-32",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:Le.map(Pe=>{console.log(Pe,"AASSSS");const mt=Ge(Pe?.classId);return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(ks,{className:"w-5 h-5 text-gray-400 mr-2"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:Pe.studentName}),n.jsx("div",{className:"text-xs text-gray-500",children:"Student"})]})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("span",{className:"text-sm font-mono text-gray-900 bg-gray-100 px-2 py-1 rounded",children:Pe.rollNo})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full",children:mt})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Un,{className:"w-4 h-4 text-blue-600 mr-2"}),n.jsx("span",{className:"text-sm font-medium text-blue-600",children:Pe.subject})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"max-w-xs",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:Pe.title}),n.jsx("div",{className:"text-xs text-gray-500 mt-1 truncate",children:Pe.description})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ia,{className:"w-4 h-4 text-gray-400 mr-2"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-gray-900",children:pt(Pe.dueDate)}),Pe.submittedDate&&n.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["Submitted: ",pt(Pe.submittedDate)]})]})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ze(Pe.priority)}`,children:Pe.status==="graded"&&Pe.grade?Pe.grade:Pe.priority})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center",children:[Te(Pe.status),n.jsx("span",{className:`ml-2 text-sm font-medium capitalize ${Pe.status==="submitted"||Pe.status==="graded"?"text-green-600":"text-orange-600"}`,children:Pe.status})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("button",{onClick:()=>Me(Pe),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-full transition-colors duration-200",title:"View","aria-label":"View assignment",children:n.jsx(cs,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>Se(Pe),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-full transition-colors duration-200",title:"Edit","aria-label":"Edit assignment",children:n.jsx(mc,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>je(Pe),className:"p-2 text-red-600 hover:bg-red-100 rounded-full transition-colors duration-200",title:"Delete","aria-label":"Delete assignment",children:n.jsx(Jn,{className:"w-5 h-5"})})]})})]},Pe.id)})})]})}),Le.length===0&&!I&&n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(rn,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),n.jsx("p",{children:"No assignments found"})]}),re.pages>1&&n.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-gray-50 border-t border-gray-200 sm:px-6",children:[n.jsxs("div",{className:"text-sm text-gray-700",children:["Showing"," ",n.jsx("span",{className:"font-medium",children:(j-1)*se+1})," ","to"," ",n.jsx("span",{className:"font-medium",children:Math.min(j*se,re.total)})," ","of ",n.jsx("span",{className:"font-medium",children:re.total})," results"]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>At(j-1),disabled:j===1,className:"px-3 py-2 border border-gray-300 text-sm rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:n.jsx(Do,{className:"w-4 h-4"})}),qe.map(Pe=>n.jsx("button",{onClick:()=>At(Pe),className:`px-3 py-2 border text-sm rounded-md ${j===Pe?"border-blue-500 bg-blue-50 text-blue-600":"border-gray-300 hover:bg-gray-50"}`,children:Pe},Pe)),n.jsx("button",{onClick:()=>At(j+1),disabled:j===re.pages,className:"px-3 py-2 border border-gray-300 text-sm rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:n.jsx(ro,{className:"w-4 h-4"})})]})]})]}),r&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-800",children:o?"View Assignment":s?"Edit Assignment":"Create New Assignment"}),n.jsx("button",{onClick:at,className:"text-gray-500 hover:text-gray-700",children:n.jsx(pr,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[W&&n.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:W}),!s&&!o&&n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-4 flex items-center",children:[n.jsx(rn,{className:"w-5 h-5 mr-2"}),"Select Class & Students"]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Class First"}),n.jsxs("select",{name:"selectedClassId",value:B.selectedClassId,onChange:ke,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[n.jsx("option",{value:"",children:"Choose a class..."}),F.map((Pe,mt)=>n.jsx("option",{value:Pe._id,children:Pe?.className},mt))]})]}),B.selectedClassId&&n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select section"}),n.jsxs("select",{name:"selectedSection",value:B.selectedSection,onChange:ke,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,disabled:!B.selectedClassId,children:[n.jsx("option",{value:"",children:"Choose a section..."}),pe.map(Pe=>n.jsx("option",{value:Pe.section,children:Pe.section},Pe._id))]})]}),B.selectedClassId&&G.length>0&&n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Select Students (",B.selectedStudentIds.length," selected)"]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{type:"button",onClick:()=>ze(!0),className:"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200",children:"Select All"}),n.jsx("button",{type:"button",onClick:()=>ze(!1),className:"text-xs px-2 py-1 bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:"Clear All"})]})]}),n.jsx("div",{className:"max-h-48 overflow-y-auto border border-gray-200 rounded-lg",children:G.map(Pe=>n.jsxs("div",{className:"flex items-center p-3 hover:bg-gray-50 border-b border-gray-100 last:border-b-0",children:[n.jsx("input",{type:"checkbox",id:`student-${Pe._id}`,checked:B.selectedStudentIds.includes(Pe._id),onChange:mt=>Ve(Pe,mt.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("label",{htmlFor:`student-${Pe._id}`,className:"ml-3 flex-1 cursor-pointer",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:Pe.name}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Roll No: ",Pe.rollNumber]})]}),n.jsx(ks,{className:"w-4 h-4 text-gray-400"})]})})]},Pe._id))})]}),B.selectedClassId&&G.length===0&&n.jsx("div",{className:"text-center py-4 text-gray-500",children:"No students found in this class"})]}),(s||o)&&n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"Student Information"}),B.selectedStudents.map(Pe=>n.jsxs("div",{className:"flex items-center p-2 bg-white rounded border",children:[n.jsx(ks,{className:"w-4 h-4 text-gray-400 mr-2"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:Pe.name}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Roll No: ",Pe.rollNumber]})]})]},Pe._id))]}),n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"Homework Details"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),n.jsxs("select",{name:"subject",value:B.subject,onChange:ke,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,disabled:o,children:[n.jsx("option",{value:"",children:"Select Subject"}),U.map(Pe=>n.jsx("option",{value:Pe,children:Pe},Pe))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assignment Title"}),n.jsx("input",{type:"text",name:"title",value:B.title,onChange:ke,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,disabled:o})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("textarea",{name:"description",value:B.description,onChange:ke,rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,disabled:o})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date"}),n.jsx("input",{type:"date",name:"dueDate",value:B.dueDate,onChange:ke,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,disabled:o})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),n.jsx("select",{name:"priority",value:B.priority,onChange:ke,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,disabled:o,children:Y.map(Pe=>n.jsx("option",{value:Pe,children:Pe.toUpperCase()},Pe))})]})]})]})]}),!o&&n.jsxs("div",{className:"flex space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:at,disabled:I,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),n.jsxs("button",{type:"button",onClick:rt,disabled:I||!X||!s&&B.selectedStudentIds.length===0,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-400 flex items-center justify-center space-x-2",children:[n.jsx($l,{className:"w-4 h-4"}),n.jsxs("span",{children:[I?"Saving...":s?"Update":"Create"," ","Assignment",!s&&B.selectedStudentIds.length>0&&` (${B.selectedStudentIds.length} students)`]})]})]}),o&&n.jsx("div",{className:"flex justify-end pt-4",children:n.jsx("button",{type:"button",onClick:at,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Close"})})]})]})})]})};function nM(e){return br({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM9 4h2v5l-1-.75L9 9V4zm9 16H6V4h1v9l3-2.25L13 13V4h5v16z"},child:[]}]})(e)}const nBe=()=>{const[e,t]=S.useState(!1),r=Sd(),a=yc(),s=localStorage.getItem("schoolLogo")||"";console.log(s);const i=localStorage.getItem("schoolId"),o=localStorage.getItem("teacherId"),[l,c]=S.useState(),[u,d]=S.useState(null),A=[{id:"attendance",path:"/teacher/attendance",icon:Iw,label:"Attendance",color:"text-emerald-600"},{id:"assignments",path:"/teacher/assignments",icon:Un,label:"Home work",color:"text-orange-600"},{id:"classwork",path:"/teacher/classworks",icon:nM,label:"Classwork",color:"text-emerald-600"},{id:"submittedAssignments",path:"/teacher/submittedAssignments",icon:nM,label:"Submitted Assignments",color:"text-emerald-600"}],m=()=>{t(!e)},h=x=>x?x.split(" ").map(v=>v[0]).join("").toUpperCase():"TU";S.useEffect(()=>{(async()=>{try{const b=await(await fetch(`http://localhost:5000/api/schools/${i}`)).json();c(b.data.logoUrl)}catch(v){console.error("Error fetching albums:",v)}})()},[i]),S.useEffect(()=>{i&&o&&(async()=>{try{const b=await(await fetch(`http://localhost:5000/api/teacher/${i}/${o}`)).json();d(b.data)}catch(v){console.error("Error fetching teacher:",v)}})()},[i,o]);const y=()=>{localStorage.removeItem("teacherToken"),a("/login")};return console.log(u,"teacher"),n.jsxs("div",{className:`bg-white h-screen shadow-xl transition-all duration-700 ease-in-out ${e?"w-20":"w-72"} min-h-screen relative`,style:{margin:0,padding:0,marginLeft:0,paddingLeft:0,left:0,position:"relative"},children:[n.jsx("div",{className:"p-6 border-b border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:`flex items-center space-x-3 transition-all duration-700 ease-in-out ${e?"opacity-0 w-0 overflow-hidden":"opacity-100 w-auto"}`,children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 via-blue-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg",children:n.jsx("img",{src:`${l}`,alt:"School Logo",className:"w-12 h-12 rounded-xl object-contain shadow-lg",style:{backgroundColor:"white"}})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"SchoolTeacher"}),n.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Management Panel"})]})]}),n.jsx("button",{onClick:m,className:"p-3 rounded-xl hover:bg-gray-100 active:bg-gray-200 transition-all duration-300 ease-in-out group transform hover:scale-110 active:scale-95 hover:rotate-3",children:n.jsxs("div",{className:"relative w-5 h-5",children:[n.jsx(rB,{className:`absolute w-5 h-5 text-gray-600 group-hover:text-gray-800 transition-all duration-500 ease-in-out transform ${e?"opacity-100 rotate-0 scale-100":"opacity-0 rotate-180 scale-75"}`}),n.jsx(pr,{className:`absolute w-5 h-5 text-gray-600 group-hover:text-gray-800 transition-all duration-500 ease-in-out transform ${e?"opacity-0 rotate-180 scale-75":"opacity-100 rotate-0 scale-100"}`})]})})]})}),n.jsx("nav",{className:"p-4",children:n.jsx("ul",{className:"space-y-2",children:A.map(x=>{const v=x.icon,b=r.pathname===x.path||r.pathname==="/"&&x.path==="/dashboard";return n.jsx("li",{children:n.jsxs(Xi,{to:x.path,className:`w-full flex items-center space-x-3 p-3 rounded-xl transition-all duration-300 ease-in-out group ${b?"bg-gradient-to-r from-purple-500 to-blue-500 text-white shadow-lg transform scale-105":"hover:bg-gray-50 text-gray-700 hover:shadow-md hover:scale-102"}`,children:[n.jsx(v,{className:`w-5 h-5 flex-shrink-0 ${b?"text-white":`${x.color} group-hover:scale-110`} transition-all duration-300 ease-in-out`}),n.jsx("span",{className:`font-medium transition-all duration-700 ease-in-out ${b?"text-white":"text-gray-700 group-hover:text-gray-900"} ${e?"opacity-0 w-0 overflow-hidden":"opacity-100 w-auto"}`,children:x.label}),b&&!e&&n.jsx("div",{className:"ml-auto w-2 h-2 bg-white rounded-full animate-pulse flex-shrink-0"})]})},x.id)})})}),n.jsx("div",{className:`absolute bottom-6 left-4 right-4 transition-all duration-700 ease-in-out ${e?"opacity-0 scale-95 pointer-events-none":"opacity-100 scale-100"}`,children:n.jsx("div",{className:"bg-gradient-to-br from-purple-500 via-blue-500 to-indigo-600 rounded-xl p-4 text-white shadow-lg",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[u?.profilePic?n.jsx("img",{src:`${u.profilePic}`,alt:u.name,className:"w-12 h-12 rounded-xl object-cover shadow-lg"}):n.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-xl flex items-center justify-center backdrop-blur-sm",children:n.jsx("span",{className:"text-sm font-bold",children:h(u?.name||"Teacher User")})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-semibold text-sm",children:u?.name||"Teacher User"}),n.jsx("p",{className:"text-xs opacity-80",children:u?.email?.slice(0,10)||"teacher@school.com"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{className:"p-2 hover:bg-white hover:bg-opacity-20 rounded-lg transition-all duration-200 ease-in-out",children:n.jsx(o0,{className:"w-4 h-4"})}),n.jsx("button",{onClick:y,className:"p-2 hover:bg-white hover:bg-opacity-20 rounded-lg transition-all duration-200 ease-in-out",title:"Logout",children:n.jsx(Jy,{className:"w-4 h-4"})})]})]})})}),n.jsx("div",{className:`absolute bottom-6 left-1/2 transform -translate-x-1/2 transition-all duration-700 ease-in-out ${e?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"}`,children:n.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[u?.profilePicture?n.jsx("img",{src:`${u.profilePicture}`,alt:u.name,className:"w-12 h-12 rounded-xl object-cover shadow-lg hover:scale-105 transition-transform duration-200"}):n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-blue-500 rounded-xl flex items-center justify-center shadow-lg hover:scale-105 transition-transform duration-200",children:n.jsx("span",{className:"text-white font-bold text-sm",children:h(u?.name||"TU")})}),n.jsx("button",{onClick:y,className:"w-12 h-12 bg-gradient-to-br from-red-500 to-red-600 rounded-xl flex items-center justify-center shadow-lg hover:scale-105 transition-transform duration-200",title:"Logout",children:n.jsx(Jy,{className:"w-5 h-5 text-white"})})]})})]})},k8=S.createContext({});function I8(e){const t=S.useRef(null);return t.current===null&&(t.current=e()),t.current}const P8=typeof window<"u",dG=P8?S.useLayoutEffect:S.useEffect,lN=S.createContext(null);function L8(e,t){e.indexOf(t)===-1&&e.push(t)}function O8(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const nm=(e,t,r)=>r>t?t:r<e?e:r;let D8=()=>{};const sm={},uG=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function fG(e){return typeof e=="object"&&e!==null}const hG=e=>/^0[^.\s]+$/u.test(e);function M8(e){let t;return()=>(t===void 0&&(t=e()),t)}const df=e=>e,sBe=(e,t)=>r=>t(e(r)),m2=(...e)=>e.reduce(sBe),Cv=(e,t,r)=>{const a=t-e;return a===0?1:(r-e)/a};class U8{constructor(){this.subscriptions=[]}add(t){return L8(this.subscriptions,t),()=>O8(this.subscriptions,t)}notify(t,r,a){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,a);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,r,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Wh=e=>e*1e3,Yh=e=>e/1e3;function AG(e,t){return t?e*(1e3/t):0}const mG=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,iBe=1e-7,oBe=12;function lBe(e,t,r,a,s){let i,o,l=0;do o=t+(r-t)/2,i=mG(o,a,s)-e,i>0?r=o:t=o;while(Math.abs(i)>iBe&&++l<oBe);return o}function p2(e,t,r,a){if(e===t&&r===a)return df;const s=i=>lBe(i,0,1,e,r);return i=>i===0||i===1?i:mG(s(i),t,a)}const pG=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,gG=e=>t=>1-e(1-t),xG=p2(.33,1.53,.69,.99),R8=gG(xG),yG=pG(R8),vG=e=>(e*=2)<1?.5*R8(e):.5*(2-Math.pow(2,-10*(e-1))),Q8=e=>1-Math.sin(Math.acos(e)),bG=gG(Q8),wG=pG(Q8),cBe=p2(.42,0,1,1),dBe=p2(0,0,.58,1),NG=p2(.42,0,.58,1),uBe=e=>Array.isArray(e)&&typeof e[0]!="number",jG=e=>Array.isArray(e)&&typeof e[0]=="number",fBe={linear:df,easeIn:cBe,easeInOut:NG,easeOut:dBe,circIn:Q8,circInOut:wG,circOut:bG,backIn:R8,backInOut:yG,backOut:xG,anticipate:vG},hBe=e=>typeof e=="string",sM=e=>{if(jG(e)){D8(e.length===4);const[t,r,a,s]=e;return p2(t,r,a,s)}else if(hBe(e))return fBe[e];return e},Gb=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function ABe(e,t){let r=new Set,a=new Set,s=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(d){o.has(d)&&(u.schedule(d),e()),d(l)}const u={schedule:(d,A=!1,m=!1)=>{const y=m&&s?r:a;return A&&o.add(d),y.has(d)||y.add(d),d},cancel:d=>{a.delete(d),o.delete(d)},process:d=>{if(l=d,s){i=!0;return}s=!0,[r,a]=[a,r],r.forEach(c),r.clear(),s=!1,i&&(i=!1,u.process(d))}};return u}const mBe=40;function SG(e,t){let r=!1,a=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=Gb.reduce((C,E)=>(C[E]=ABe(i),C),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:A,preRender:m,render:h,postRender:y}=o,x=()=>{const C=sm.useManualTiming?s.timestamp:performance.now();r=!1,sm.useManualTiming||(s.delta=a?1e3/60:Math.max(Math.min(C-s.timestamp,mBe),1)),s.timestamp=C,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),A.process(s),m.process(s),h.process(s),y.process(s),s.isProcessing=!1,r&&t&&(a=!1,e(x))},v=()=>{r=!0,a=!0,s.isProcessing||e(x)};return{schedule:Gb.reduce((C,E)=>{const k=o[E];return C[E]=(D,L=!1,F=!1)=>(r||v(),k.schedule(D,L,F)),C},{}),cancel:C=>{for(let E=0;E<Gb.length;E++)o[Gb[E]].cancel(C)},state:s,steps:o}}const{schedule:Hi,cancel:j0,state:cc,steps:Y3}=SG(typeof requestAnimationFrame<"u"?requestAnimationFrame:df,!0);let yw;function pBe(){yw=void 0}const Vd={now:()=>(yw===void 0&&Vd.set(cc.isProcessing||sm.useManualTiming?cc.timestamp:performance.now()),yw),set:e=>{yw=e,queueMicrotask(pBe)}},CG=e=>t=>typeof t=="string"&&t.startsWith(e),H8=CG("--"),gBe=CG("var(--"),$8=e=>gBe(e)?xBe.test(e.split("/*")[0].trim()):!1,xBe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,l1={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ev={...l1,transform:e=>nm(0,1,e)},Wb={...l1,default:1},Hy=e=>Math.round(e*1e5)/1e5,z8=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function yBe(e){return e==null}const vBe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,V8=(e,t)=>r=>!!(typeof r=="string"&&vBe.test(r)&&r.startsWith(e)||t&&!yBe(r)&&Object.prototype.hasOwnProperty.call(r,t)),EG=(e,t,r)=>a=>{if(typeof a!="string")return a;const[s,i,o,l]=a.match(z8);return{[e]:parseFloat(s),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},bBe=e=>nm(0,255,e),X3={...l1,transform:e=>Math.round(bBe(e))},vp={test:V8("rgb","red"),parse:EG("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:a=1})=>"rgba("+X3.transform(e)+", "+X3.transform(t)+", "+X3.transform(r)+", "+Hy(Ev.transform(a))+")"};function wBe(e){let t="",r="",a="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),a=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),a=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,a+=a,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(a,16),alpha:s?parseInt(s,16)/255:1}}const sE={test:V8("#"),parse:wBe,transform:vp.transform},g2=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Gm=g2("deg"),Xh=g2("%"),Qa=g2("px"),NBe=g2("vh"),jBe=g2("vw"),iM={...Xh,parse:e=>Xh.parse(e)/100,transform:e=>Xh.transform(e*100)},tx={test:V8("hsl","hue"),parse:EG("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:a=1})=>"hsla("+Math.round(e)+", "+Xh.transform(Hy(t))+", "+Xh.transform(Hy(r))+", "+Hy(Ev.transform(a))+")"},Zo={test:e=>vp.test(e)||sE.test(e)||tx.test(e),parse:e=>vp.test(e)?vp.parse(e):tx.test(e)?tx.parse(e):sE.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?vp.transform(e):tx.transform(e),getAnimatableNone:e=>{const t=Zo.parse(e);return t.alpha=0,Zo.transform(t)}},SBe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function CBe(e){return isNaN(e)&&typeof e=="string"&&(e.match(z8)?.length||0)+(e.match(SBe)?.length||0)>0}const BG="number",TG="color",EBe="var",BBe="var(",oM="${}",TBe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Bv(e){const t=e.toString(),r=[],a={color:[],number:[],var:[]},s=[];let i=0;const l=t.replace(TBe,c=>(Zo.test(c)?(a.color.push(i),s.push(TG),r.push(Zo.parse(c))):c.startsWith(BBe)?(a.var.push(i),s.push(EBe),r.push(c)):(a.number.push(i),s.push(BG),r.push(parseFloat(c))),++i,oM)).split(oM);return{values:r,split:l,indexes:a,types:s}}function FG(e){return Bv(e).values}function _G(e){const{split:t,types:r}=Bv(e),a=t.length;return s=>{let i="";for(let o=0;o<a;o++)if(i+=t[o],s[o]!==void 0){const l=r[o];l===BG?i+=Hy(s[o]):l===TG?i+=Zo.transform(s[o]):i+=s[o]}return i}}const FBe=e=>typeof e=="number"?0:Zo.test(e)?Zo.getAnimatableNone(e):e;function _Be(e){const t=FG(e);return _G(e)(t.map(FBe))}const S0={test:CBe,parse:FG,createTransformer:_G,getAnimatableNone:_Be};function J3(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function kBe({hue:e,saturation:t,lightness:r,alpha:a}){e/=360,t/=100,r/=100;let s=0,i=0,o=0;if(!t)s=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;s=J3(c,l,e+1/3),i=J3(c,l,e),o=J3(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:a}}function H4(e,t){return r=>r>0?t:e}const Zi=(e,t,r)=>e+(t-e)*r,Z3=(e,t,r)=>{const a=e*e,s=r*(t*t-a)+a;return s<0?0:Math.sqrt(s)},IBe=[sE,vp,tx],PBe=e=>IBe.find(t=>t.test(e));function lM(e){const t=PBe(e);if(!t)return!1;let r=t.parse(e);return t===tx&&(r=kBe(r)),r}const cM=(e,t)=>{const r=lM(e),a=lM(t);if(!r||!a)return H4(e,t);const s={...r};return i=>(s.red=Z3(r.red,a.red,i),s.green=Z3(r.green,a.green,i),s.blue=Z3(r.blue,a.blue,i),s.alpha=Zi(r.alpha,a.alpha,i),vp.transform(s))},iE=new Set(["none","hidden"]);function LBe(e,t){return iE.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function OBe(e,t){return r=>Zi(e,t,r)}function q8(e){return typeof e=="number"?OBe:typeof e=="string"?$8(e)?H4:Zo.test(e)?cM:UBe:Array.isArray(e)?kG:typeof e=="object"?Zo.test(e)?cM:DBe:H4}function kG(e,t){const r=[...e],a=r.length,s=e.map((i,o)=>q8(i)(i,t[o]));return i=>{for(let o=0;o<a;o++)r[o]=s[o](i);return r}}function DBe(e,t){const r={...e,...t},a={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(a[s]=q8(e[s])(e[s],t[s]));return s=>{for(const i in a)r[i]=a[i](s);return r}}function MBe(e,t){const r=[],a={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],o=e.indexes[i][a[i]],l=e.values[o]??0;r[s]=l,a[i]++}return r}const UBe=(e,t)=>{const r=S0.createTransformer(t),a=Bv(e),s=Bv(t);return a.indexes.var.length===s.indexes.var.length&&a.indexes.color.length===s.indexes.color.length&&a.indexes.number.length>=s.indexes.number.length?iE.has(e)&&!s.values.length||iE.has(t)&&!a.values.length?LBe(e,t):m2(kG(MBe(a,s),s.values),r):H4(e,t)};function IG(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Zi(e,t,r):q8(e)(e,t)}const RBe=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>Hi.update(t,r),stop:()=>j0(t),now:()=>cc.isProcessing?cc.timestamp:Vd.now()}},PG=(e,t,r=10)=>{let a="";const s=Math.max(Math.round(t/r),2);for(let i=0;i<s;i++)a+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},$4=2e4;function K8(e){let t=0;const r=50;let a=e.next(t);for(;!a.done&&t<$4;)t+=r,a=e.next(t);return t>=$4?1/0:t}function QBe(e,t=100,r){const a=r({...e,keyframes:[0,t]}),s=Math.min(K8(a),$4);return{type:"keyframes",ease:i=>a.next(s*i).value/t,duration:Yh(s)}}const HBe=5;function LG(e,t,r){const a=Math.max(t-HBe,0);return AG(r-e(a),t-a)}const go={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},eC=.001;function $Be({duration:e=go.duration,bounce:t=go.bounce,velocity:r=go.velocity,mass:a=go.mass}){let s,i,o=1-t;o=nm(go.minDamping,go.maxDamping,o),e=nm(go.minDuration,go.maxDuration,Yh(e)),o<1?(s=u=>{const d=u*o,A=d*e,m=d-r,h=oE(u,o),y=Math.exp(-A);return eC-m/h*y},i=u=>{const A=u*o*e,m=A*r+r,h=Math.pow(o,2)*Math.pow(u,2)*e,y=Math.exp(-A),x=oE(Math.pow(u,2),o);return(-s(u)+eC>0?-1:1)*((m-h)*y)/x}):(s=u=>{const d=Math.exp(-u*e),A=(u-r)*e+1;return-eC+d*A},i=u=>{const d=Math.exp(-u*e),A=(r-u)*(e*e);return d*A});const l=5/e,c=VBe(s,i,l);if(e=Wh(e),isNaN(c))return{stiffness:go.stiffness,damping:go.damping,duration:e};{const u=Math.pow(c,2)*a;return{stiffness:u,damping:o*2*Math.sqrt(a*u),duration:e}}}const zBe=12;function VBe(e,t,r){let a=r;for(let s=1;s<zBe;s++)a=a-e(a)/t(a);return a}function oE(e,t){return e*Math.sqrt(1-t*t)}const qBe=["duration","bounce"],KBe=["stiffness","damping","mass"];function dM(e,t){return t.some(r=>e[r]!==void 0)}function GBe(e){let t={velocity:go.velocity,stiffness:go.stiffness,damping:go.damping,mass:go.mass,isResolvedFromDuration:!1,...e};if(!dM(e,KBe)&&dM(e,qBe))if(e.visualDuration){const r=e.visualDuration,a=2*Math.PI/(r*1.2),s=a*a,i=2*nm(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:go.mass,stiffness:s,damping:i}}else{const r=$Be(e);t={...t,...r,mass:go.mass},t.isResolvedFromDuration=!0}return t}function z4(e=go.visualDuration,t=go.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:a,restDelta:s}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:A,velocity:m,isResolvedFromDuration:h}=GBe({...r,velocity:-Yh(r.velocity||0)}),y=m||0,x=u/(2*Math.sqrt(c*d)),v=o-i,b=Yh(Math.sqrt(c/d)),j=Math.abs(v)<5;a||(a=j?go.restSpeed.granular:go.restSpeed.default),s||(s=j?go.restDelta.granular:go.restDelta.default);let C;if(x<1){const k=oE(b,x);C=D=>{const L=Math.exp(-x*b*D);return o-L*((y+x*b*v)/k*Math.sin(k*D)+v*Math.cos(k*D))}}else if(x===1)C=k=>o-Math.exp(-b*k)*(v+(y+b*v)*k);else{const k=b*Math.sqrt(x*x-1);C=D=>{const L=Math.exp(-x*b*D),F=Math.min(k*D,300);return o-L*((y+x*b*v)*Math.sinh(F)+k*v*Math.cosh(F))/k}}const E={calculatedDuration:h&&A||null,next:k=>{const D=C(k);if(h)l.done=k>=A;else{let L=k===0?y:0;x<1&&(L=k===0?Wh(y):LG(C,k,D));const F=Math.abs(L)<=a,Q=Math.abs(o-D)<=s;l.done=F&&Q}return l.value=l.done?o:D,l},toString:()=>{const k=Math.min(K8(E),$4),D=PG(L=>E.next(k*L).value,k,30);return k+"ms "+D},toTransition:()=>{}};return E}z4.applyToOptions=e=>{const t=QBe(e,100,z4);return e.ease=t.ease,e.duration=Wh(t.duration),e.type="keyframes",e};function lE({keyframes:e,velocity:t=0,power:r=.8,timeConstant:a=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const A=e[0],m={done:!1,value:A},h=F=>l!==void 0&&F<l||c!==void 0&&F>c,y=F=>l===void 0?c:c===void 0||Math.abs(l-F)<Math.abs(c-F)?l:c;let x=r*t;const v=A+x,b=o===void 0?v:o(v);b!==v&&(x=b-A);const j=F=>-x*Math.exp(-F/a),C=F=>b+j(F),E=F=>{const Q=j(F),U=C(F);m.done=Math.abs(Q)<=u,m.value=m.done?b:U};let k,D;const L=F=>{h(m.value)&&(k=F,D=z4({keyframes:[m.value,y(m.value)],velocity:LG(C,F,m.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return L(0),{calculatedDuration:null,next:F=>{let Q=!1;return!D&&k===void 0&&(Q=!0,E(F),L(F)),k!==void 0&&F>=k?D.next(F-k):(!Q&&E(F),m)}}}function WBe(e,t,r){const a=[],s=r||sm.mix||IG,i=e.length-1;for(let o=0;o<i;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||df:t;l=m2(c,l)}a.push(l)}return a}function YBe(e,t,{clamp:r=!0,ease:a,mixer:s}={}){const i=e.length;if(D8(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=WBe(t,a,s),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let A=0;if(c>1)for(;A<e.length-2&&!(d<e[A+1]);A++);const m=Cv(e[A],e[A+1],d);return l[A](m)};return r?d=>u(nm(e[0],e[i-1],d)):u}function XBe(e,t){const r=e[e.length-1];for(let a=1;a<=t;a++){const s=Cv(0,t,a);e.push(Zi(r,1,s))}}function JBe(e){const t=[0];return XBe(t,e.length-1),t}function ZBe(e,t){return e.map(r=>r*t)}function eTe(e,t){return e.map(()=>t||NG).splice(0,e.length-1)}function $y({duration:e=300,keyframes:t,times:r,ease:a="easeInOut"}){const s=uBe(a)?a.map(sM):sM(a),i={done:!1,value:t[0]},o=ZBe(r&&r.length===t.length?r:JBe(t),e),l=YBe(o,t,{ease:Array.isArray(s)?s:eTe(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const tTe=e=>e!==null;function G8(e,{repeat:t,repeatType:r="loop"},a,s=1){const i=e.filter(tTe),l=s<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!l||a===void 0?i[l]:a}const rTe={decay:lE,inertia:lE,tween:$y,keyframes:$y,spring:z4};function OG(e){typeof e.type=="string"&&(e.type=rTe[e.type])}class W8{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const aTe=e=>e/100;class Y8 extends W8{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==Vd.now()&&this.tick(Vd.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;OG(t);const{type:r=$y,repeat:a=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const c=r||$y;c!==$y&&typeof l[0]!="number"&&(this.mixKeyframes=m2(aTe,IG(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=K8(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(a+1)-s,this.generator=u}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:a,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return a.next(0);const{delay:u=0,keyframes:d,repeat:A,repeatType:m,repeatDelay:h,type:y,onUpdate:x,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const b=this.currentTime-u*(this.playbackSpeed>=0?1:-1),j=this.playbackSpeed>=0?b<0:b>s;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let C=this.currentTime,E=a;if(A){const F=Math.min(this.currentTime,s)/l;let Q=Math.floor(F),U=F%1;!U&&F>=1&&(U=1),U===1&&Q--,Q=Math.min(Q,A+1),!!(Q%2)&&(m==="reverse"?(U=1-U,h&&(U-=h/l)):m==="mirror"&&(E=o)),C=nm(0,1,U)*l}const k=j?{done:!1,value:d[0]}:E.next(C);i&&(k.value=i(k.value));let{done:D}=k;!j&&c!==null&&(D=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const L=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return L&&y!==lE&&(k.value=G8(d,this.options,v,this.speed)),x&&x(k.value),L&&this.finish(),k}then(t,r){return this.finished.then(t,r)}get duration(){return Yh(this.calculatedDuration)}get time(){return Yh(this.currentTime)}set time(t){t=Wh(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Vd.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Yh(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=RBe,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),this.options.onPlay?.();const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=r??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Vd.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function nTe(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const bp=e=>e*180/Math.PI,cE=e=>{const t=bp(Math.atan2(e[1],e[0]));return dE(t)},sTe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:cE,rotateZ:cE,skewX:e=>bp(Math.atan(e[1])),skewY:e=>bp(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},dE=e=>(e=e%360,e<0&&(e+=360),e),uM=cE,fM=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),hM=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),iTe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:fM,scaleY:hM,scale:e=>(fM(e)+hM(e))/2,rotateX:e=>dE(bp(Math.atan2(e[6],e[5]))),rotateY:e=>dE(bp(Math.atan2(-e[2],e[0]))),rotateZ:uM,rotate:uM,skewX:e=>bp(Math.atan(e[4])),skewY:e=>bp(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function uE(e){return e.includes("scale")?1:0}function fE(e,t){if(!e||e==="none")return uE(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,s;if(r)a=iTe,s=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=sTe,s=l}if(!s)return uE(t);const i=a[t],o=s[1].split(",").map(lTe);return typeof i=="function"?i(o):o[i]}const oTe=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return fE(r,t)};function lTe(e){return parseFloat(e.trim())}const c1=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],d1=new Set(c1),AM=e=>e===l1||e===Qa,cTe=new Set(["x","y","z"]),dTe=c1.filter(e=>!cTe.has(e));function uTe(e){const t=[];return dTe.forEach(r=>{const a=e.getValue(r);a!==void 0&&(t.push([r,a.get()]),a.set(r.startsWith("scale")?1:0))}),t}const Lp={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>fE(t,"x"),y:(e,{transform:t})=>fE(t,"y")};Lp.translateX=Lp.x;Lp.translateY=Lp.y;const Op=new Set;let hE=!1,AE=!1,mE=!1;function DG(){if(AE){const e=Array.from(Op).filter(a=>a.needsMeasurement),t=new Set(e.map(a=>a.element)),r=new Map;t.forEach(a=>{const s=uTe(a);s.length&&(r.set(a,s),a.render())}),e.forEach(a=>a.measureInitialState()),t.forEach(a=>{a.render();const s=r.get(a);s&&s.forEach(([i,o])=>{a.getValue(i)?.set(o)})}),e.forEach(a=>a.measureEndState()),e.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}AE=!1,hE=!1,Op.forEach(e=>e.complete(mE)),Op.clear()}function MG(){Op.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(AE=!0)})}function fTe(){mE=!0,MG(),DG(),mE=!1}class X8{constructor(t,r,a,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=a,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Op.add(this),hE||(hE=!0,Hi.read(MG),Hi.resolveKeyframes(DG))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:a,motionValue:s}=this;if(t[0]===null){const i=s?.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(a&&r){const l=a.readValue(r,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}nTe(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Op.delete(this)}cancel(){this.state==="scheduled"&&(Op.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const hTe=e=>e.startsWith("--");function ATe(e,t,r){hTe(t)?e.style.setProperty(t,r):e.style[t]=r}const mTe=M8(()=>window.ScrollTimeline!==void 0),pTe={};function gTe(e,t){const r=M8(e);return()=>pTe[t]??r()}const UG=gTe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),yy=([e,t,r,a])=>`cubic-bezier(${e}, ${t}, ${r}, ${a})`,mM={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yy([0,.65,.55,1]),circOut:yy([.55,0,1,.45]),backIn:yy([.31,.01,.66,-.59]),backOut:yy([.33,1.53,.69,.99])};function RG(e,t){if(e)return typeof e=="function"?UG()?PG(e,t):"ease-out":jG(e)?yy(e):Array.isArray(e)?e.map(r=>RG(r,t)||mM.easeOut):mM[e]}function xTe(e,t,r,{delay:a=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:r};c&&(d.offset=c);const A=RG(l,s);Array.isArray(A)&&(d.easing=A);const m={delay:a,duration:s,easing:Array.isArray(A)?"linear":A,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(m.pseudoElement=u),e.animate(d,m)}function QG(e){return typeof e=="function"&&"applyToOptions"in e}function yTe({type:e,...t}){return QG(e)&&UG()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class vTe extends W8{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:a,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,D8(typeof t.type!="string");const u=yTe(t);this.animation=xTe(r,a,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=G8(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):ATe(r,a,d),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Yh(Number(t))}get time(){return Yh(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Wh(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&mTe()?(this.animation.timeline=t,df):r(this)}}const HG={anticipate:vG,backInOut:yG,circInOut:wG};function bTe(e){return e in HG}function wTe(e){typeof e.ease=="string"&&bTe(e.ease)&&(e.ease=HG[e.ease])}const pM=10;class NTe extends vTe{constructor(t){wTe(t),OG(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:a,onComplete:s,element:i,...o}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new Y8({...o,autoplay:!1}),c=Wh(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-pM).value,l.sample(c).value,pM),l.stop()}}const gM=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(S0.test(e)||e==="0")&&!e.startsWith("url("));function jTe(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function STe(e,t,r,a){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=gM(s,t),l=gM(i,t);return!o||!l?!1:jTe(e)||(r==="spring"||QG(r))&&a}function pE(e){e.duration=0,e.type}const CTe=new Set(["opacity","clipPath","filter","transform"]),ETe=M8(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function BTe(e){const{motionValue:t,name:r,repeatDelay:a,repeatType:s,damping:i,type:o}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return ETe()&&r&&CTe.has(r)&&(r!=="transform"||!u)&&!c&&!a&&s!=="mirror"&&i!==0&&o!=="inertia"}const TTe=40;class FTe extends W8{constructor({autoplay:t=!0,delay:r=0,type:a="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:d,...A}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Vd.now();const m={autoplay:t,delay:r,type:a,repeat:s,repeatDelay:i,repeatType:o,name:c,motionValue:u,element:d,...A},h=d?.KeyframeResolver||X8;this.keyframeResolver=new h(l,(y,x,v)=>this.onKeyframesResolved(y,x,m,!v),c,u,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,r,a,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:d}=a;this.resolvedAt=Vd.now(),STe(t,i,o,l)||((sm.instantAnimations||!c)&&d?.(G8(t,a,r)),t[0]=t[t.length-1],pE(a),a.repeat=0);const m={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>TTe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...a,keyframes:t},h=!u&&BTe(m)?new NTe({...m,element:m.motionValue.owner.current}):new Y8(m);h.finished.then(()=>this.notifyFinished()).catch(df),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),fTe()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const _Te=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function kTe(e){const t=_Te.exec(e);if(!t)return[,];const[,r,a,s]=t;return[`--${r??a}`,s]}function $G(e,t,r=1){const[a,s]=kTe(e);if(!a)return;const i=window.getComputedStyle(t).getPropertyValue(a);if(i){const o=i.trim();return uG(o)?parseFloat(o):o}return $8(s)?$G(s,t,r+1):s}function J8(e,t){return e?.[t]??e?.default??e}const zG=new Set(["width","height","top","left","right","bottom",...c1]),ITe={test:e=>e==="auto",parse:e=>e},VG=e=>t=>t.test(e),qG=[l1,Qa,Xh,Gm,jBe,NBe,ITe],xM=e=>qG.find(VG(e));function PTe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||hG(e):!0}const LTe=new Set(["brightness","contrast","saturate","opacity"]);function OTe(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[a]=r.match(z8)||[];if(!a)return e;const s=r.replace(a,"");let i=LTe.has(t)?1:0;return a!==r&&(i*=100),t+"("+i+s+")"}const DTe=/\b([a-z-]*)\(.*?\)/gu,gE={...S0,getAnimatableNone:e=>{const t=e.match(DTe);return t?t.map(OTe).join(" "):e}},yM={...l1,transform:Math.round},MTe={rotate:Gm,rotateX:Gm,rotateY:Gm,rotateZ:Gm,scale:Wb,scaleX:Wb,scaleY:Wb,scaleZ:Wb,skew:Gm,skewX:Gm,skewY:Gm,distance:Qa,translateX:Qa,translateY:Qa,translateZ:Qa,x:Qa,y:Qa,z:Qa,perspective:Qa,transformPerspective:Qa,opacity:Ev,originX:iM,originY:iM,originZ:Qa},Z8={borderWidth:Qa,borderTopWidth:Qa,borderRightWidth:Qa,borderBottomWidth:Qa,borderLeftWidth:Qa,borderRadius:Qa,radius:Qa,borderTopLeftRadius:Qa,borderTopRightRadius:Qa,borderBottomRightRadius:Qa,borderBottomLeftRadius:Qa,width:Qa,maxWidth:Qa,height:Qa,maxHeight:Qa,top:Qa,right:Qa,bottom:Qa,left:Qa,padding:Qa,paddingTop:Qa,paddingRight:Qa,paddingBottom:Qa,paddingLeft:Qa,margin:Qa,marginTop:Qa,marginRight:Qa,marginBottom:Qa,marginLeft:Qa,backgroundPositionX:Qa,backgroundPositionY:Qa,...MTe,zIndex:yM,fillOpacity:Ev,strokeOpacity:Ev,numOctaves:yM},UTe={...Z8,color:Zo,backgroundColor:Zo,outlineColor:Zo,fill:Zo,stroke:Zo,borderColor:Zo,borderTopColor:Zo,borderRightColor:Zo,borderBottomColor:Zo,borderLeftColor:Zo,filter:gE,WebkitFilter:gE},KG=e=>UTe[e];function GG(e,t){let r=KG(e);return r!==gE&&(r=S0),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const RTe=new Set(["auto","none","0"]);function QTe(e,t,r){let a=0,s;for(;a<e.length&&!s;){const i=e[a];typeof i=="string"&&!RTe.has(i)&&Bv(i).values.length&&(s=e[a]),a++}if(s&&r)for(const i of t)e[i]=GG(r,s)}class HTe extends X8{constructor(t,r,a,s,i){super(t,r,a,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:a}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),$8(u))){const d=$G(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!zG.has(a)||t.length!==2)return;const[s,i]=t,o=xM(s),l=xM(i);if(o!==l)if(AM(o)&&AM(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else Lp[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,a=[];for(let s=0;s<t.length;s++)(t[s]===null||PTe(t[s]))&&a.push(s);a.length&&QTe(t,a,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:a}=this;if(!t||!t.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Lp[a](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(a,s).jump(s,!1)}measureEndState(){const{element:t,name:r,unresolvedKeyframes:a}=this;if(!t||!t.current)return;const s=t.getValue(r);s&&s.jump(this.measuredOrigin,!1);const i=a.length-1,o=a[i];a[i]=Lp[r](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function $Te(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let a=document;const s=r?.[e]??a.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const WG=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function YG(e){return fG(e)&&"offsetHeight"in e}const vM=30,zTe=e=>!isNaN(parseFloat(e));class VTe{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=a=>{const s=Vd.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Vd.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=zTe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new U8);const a=this.events[t].add(r);return t==="change"?()=>{a(),Hi.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,a){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-a}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Vd.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>vM)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,vM);return AG(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ox(e,t){return new VTe(e,t)}const{schedule:eF}=SG(queueMicrotask,!1),Kf={x:!1,y:!1};function XG(){return Kf.x||Kf.y}function qTe(e){return e==="x"||e==="y"?Kf[e]?null:(Kf[e]=!0,()=>{Kf[e]=!1}):Kf.x||Kf.y?null:(Kf.x=Kf.y=!0,()=>{Kf.x=Kf.y=!1})}function JG(e,t){const r=$Te(e),a=new AbortController,s={passive:!0,...t,signal:a.signal};return[r,s,()=>a.abort()]}function bM(e){return!(e.pointerType==="touch"||XG())}function KTe(e,t,r={}){const[a,s,i]=JG(e,r),o=l=>{if(!bM(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=A=>{bM(A)&&(u(A),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,s)};return a.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const ZG=(e,t)=>t?e===t?!0:ZG(e,t.parentElement):!1,tF=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,GTe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function WTe(e){return GTe.has(e.tagName)||e.tabIndex!==-1}const vw=new WeakSet;function wM(e){return t=>{t.key==="Enter"&&e(t)}}function tC(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const YTe=(e,t)=>{const r=e.currentTarget;if(!r)return;const a=wM(()=>{if(vw.has(r))return;tC(r,"down");const s=wM(()=>{tC(r,"up")}),i=()=>tC(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",a,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",a),t)};function NM(e){return tF(e)&&!XG()}function XTe(e,t,r={}){const[a,s,i]=JG(e,r),o=l=>{const c=l.currentTarget;if(!NM(l))return;vw.add(c);const u=t(c,l),d=(h,y)=>{window.removeEventListener("pointerup",A),window.removeEventListener("pointercancel",m),vw.has(c)&&vw.delete(c),NM(h)&&typeof u=="function"&&u(h,{success:y})},A=h=>{d(h,c===window||c===document||r.useGlobalTarget||ZG(c,h.target))},m=h=>{d(h,!1)};window.addEventListener("pointerup",A,s),window.addEventListener("pointercancel",m,s)};return a.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),YG(l)&&(l.addEventListener("focus",u=>YTe(u,s)),!WTe(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function eW(e){return fG(e)&&"ownerSVGElement"in e}function JTe(e){return eW(e)&&e.tagName==="svg"}const Xc=e=>!!(e&&e.getVelocity),ZTe=[...qG,Zo,S0],e8e=e=>ZTe.find(VG(e)),rF=S.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class t8e extends S.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const a=r.offsetParent,s=YG(a)&&a.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function r8e({children:e,isPresent:t,anchorX:r,root:a}){const s=S.useId(),i=S.useRef(null),o=S.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=S.useContext(rF);return S.useInsertionEffect(()=>{const{width:c,height:u,top:d,left:A,right:m}=o.current;if(t||!i.current||!c||!u)return;const h=r==="left"?`left: ${A}`:`right: ${m}`;i.current.dataset.motionPopId=s;const y=document.createElement("style");l&&(y.nonce=l);const x=a??document.head;return x.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${u}px !important;
            ${h}px !important;
            top: ${d}px !important;
          }
        `),()=>{x.contains(y)&&x.removeChild(y)}},[t]),n.jsx(t8e,{isPresent:t,childRef:i,sizeRef:o,children:S.cloneElement(e,{ref:i})})}const a8e=({children:e,initial:t,isPresent:r,onExitComplete:a,custom:s,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const u=I8(n8e),d=S.useId();let A=!0,m=S.useMemo(()=>(A=!1,{id:d,initial:t,isPresent:r,custom:s,onExitComplete:h=>{u.set(h,!0);for(const y of u.values())if(!y)return;a&&a()},register:h=>(u.set(h,!1),()=>u.delete(h))}),[r,u,a]);return i&&A&&(m={...m}),S.useMemo(()=>{u.forEach((h,y)=>u.set(y,!1))},[r]),S.useEffect(()=>{!r&&!u.size&&a&&a()},[r]),o==="popLayout"&&(e=n.jsx(r8e,{isPresent:r,anchorX:l,root:c,children:e})),n.jsx(lN.Provider,{value:m,children:e})};function n8e(){return new Map}function tW(e=!0){const t=S.useContext(lN);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:a,register:s}=t,i=S.useId();S.useEffect(()=>{if(e)return s(i)},[e]);const o=S.useCallback(()=>e&&a&&a(i),[i,a,e]);return!r&&a?[!1,o]:[!0]}const Yb=e=>e.key||"";function jM(e){const t=[];return S.Children.forEach(e,r=>{S.isValidElement(r)&&t.push(r)}),t}const Tv=({children:e,custom:t,initial:r=!0,onExitComplete:a,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[u,d]=tW(o),A=S.useMemo(()=>jM(e),[e]),m=o&&!u?[]:A.map(Yb),h=S.useRef(!0),y=S.useRef(A),x=I8(()=>new Map),[v,b]=S.useState(A),[j,C]=S.useState(A);dG(()=>{h.current=!1,y.current=A;for(let D=0;D<j.length;D++){const L=Yb(j[D]);m.includes(L)?x.delete(L):x.get(L)!==!0&&x.set(L,!1)}},[j,m.length,m.join("-")]);const E=[];if(A!==v){let D=[...A];for(let L=0;L<j.length;L++){const F=j[L],Q=Yb(F);m.includes(Q)||(D.splice(L,0,F),E.push(F))}return i==="wait"&&E.length&&(D=E),C(jM(D)),b(A),null}const{forceRender:k}=S.useContext(k8);return n.jsx(n.Fragment,{children:j.map(D=>{const L=Yb(D),F=o&&!u?!1:A===j||m.includes(L),Q=()=>{if(x.has(L))x.set(L,!0);else return;let U=!0;x.forEach(P=>{P||(U=!1)}),U&&(k?.(),C(y.current),o&&d?.(),a&&a())};return n.jsx(a8e,{isPresent:F,initial:!h.current||r?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:c,onExitComplete:F?void 0:Q,anchorX:l,children:D},L)})})},rW=S.createContext({strict:!1}),SM={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Dx={};for(const e in SM)Dx[e]={isEnabled:t=>SM[e].some(r=>!!t[r])};function s8e(e){for(const t in e)Dx[t]={...Dx[t],...e[t]}}const i8e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function V4(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||i8e.has(e)}let aW=e=>!V4(e);function o8e(e){typeof e=="function"&&(aW=t=>t.startsWith("on")?!V4(t):e(t))}try{o8e(require("@emotion/is-prop-valid").default)}catch{}function l8e(e,t,r){const a={};for(const s in e)s==="values"&&typeof e.values=="object"||(aW(s)||r===!0&&V4(s)||!t&&!V4(s)||e.draggable&&s.startsWith("onDrag"))&&(a[s]=e[s]);return a}const cN=S.createContext({});function dN(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Fv(e){return typeof e=="string"||Array.isArray(e)}const aF=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],nF=["initial",...aF];function uN(e){return dN(e.animate)||nF.some(t=>Fv(e[t]))}function nW(e){return!!(uN(e)||e.variants)}function c8e(e,t){if(uN(e)){const{initial:r,animate:a}=e;return{initial:r===!1||Fv(r)?r:void 0,animate:Fv(a)?a:void 0}}return e.inherit!==!1?t:{}}function d8e(e){const{initial:t,animate:r}=c8e(e,S.useContext(cN));return S.useMemo(()=>({initial:t,animate:r}),[CM(t),CM(r)])}function CM(e){return Array.isArray(e)?e.join(" "):e}const _v={};function u8e(e){for(const t in e)_v[t]=e[t],H8(t)&&(_v[t].isCSSVariable=!0)}function sW(e,{layout:t,layoutId:r}){return d1.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!_v[e]||e==="opacity")}const f8e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},h8e=c1.length;function A8e(e,t,r){let a="",s=!0;for(let i=0;i<h8e;i++){const o=c1[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=WG(l,Z8[o]);if(!c){s=!1;const d=f8e[o]||o;a+=`${d}(${u}) `}r&&(t[o]=u)}}return a=a.trim(),r?a=r(t,s?"":a):s&&(a="none"),a}function sF(e,t,r){const{style:a,vars:s,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(d1.has(c)){o=!0;continue}else if(H8(c)){s[c]=u;continue}else{const d=WG(u,Z8[c]);c.startsWith("origin")?(l=!0,i[c]=d):a[c]=d}}if(t.transform||(o||r?a.transform=A8e(t,e.transform,r):a.transform&&(a.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;a.transformOrigin=`${c} ${u} ${d}`}}const iF=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function iW(e,t,r){for(const a in t)!Xc(t[a])&&!sW(a,r)&&(e[a]=t[a])}function m8e({transformTemplate:e},t){return S.useMemo(()=>{const r=iF();return sF(r,t,e),Object.assign({},r.vars,r.style)},[t])}function p8e(e,t){const r=e.style||{},a={};return iW(a,r,e),Object.assign(a,m8e(e,t)),a}function g8e(e,t){const r={},a=p8e(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=a,r}const x8e={offset:"stroke-dashoffset",array:"stroke-dasharray"},y8e={offset:"strokeDashoffset",array:"strokeDasharray"};function v8e(e,t,r=1,a=0,s=!0){e.pathLength=1;const i=s?x8e:y8e;e[i.offset]=Qa.transform(-a);const o=Qa.transform(t),l=Qa.transform(r);e[i.array]=`${o} ${l}`}function oW(e,{attrX:t,attrY:r,attrScale:a,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...l},c,u,d){if(sF(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:A,style:m}=e;A.transform&&(m.transform=A.transform,delete A.transform),(m.transform||A.transformOrigin)&&(m.transformOrigin=A.transformOrigin??"50% 50%",delete A.transformOrigin),m.transform&&(m.transformBox=d?.transformBox??"fill-box",delete A.transformBox),t!==void 0&&(A.x=t),r!==void 0&&(A.y=r),a!==void 0&&(A.scale=a),s!==void 0&&v8e(A,s,i,o,!1)}const lW=()=>({...iF(),attrs:{}}),cW=e=>typeof e=="string"&&e.toLowerCase()==="svg";function b8e(e,t,r,a){const s=S.useMemo(()=>{const i=lW();return oW(i,t,cW(a),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};iW(i,e.style,e),s.style={...i,...s.style}}return s}const w8e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function oF(e){return typeof e!="string"||e.includes("-")?!1:!!(w8e.indexOf(e)>-1||/[A-Z]/u.test(e))}function N8e(e,t,r,{latestValues:a},s,i=!1){const l=(oF(e)?b8e:g8e)(t,a,s,e),c=l8e(t,typeof e=="string",i),u=e!==S.Fragment?{...c,...l,ref:r}:{},{children:d}=t,A=S.useMemo(()=>Xc(d)?d.get():d,[d]);return S.createElement(e,{...u,children:A})}function EM(e){const t=[{},{}];return e?.values.forEach((r,a)=>{t[0][a]=r.get(),t[1][a]=r.getVelocity()}),t}function lF(e,t,r,a){if(typeof t=="function"){const[s,i]=EM(a);t=t(r!==void 0?r:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=EM(a);t=t(r!==void 0?r:e.custom,s,i)}return t}function bw(e){return Xc(e)?e.get():e}function j8e({scrapeMotionValuesFromProps:e,createRenderState:t},r,a,s){return{latestValues:S8e(r,a,s,e),renderState:t()}}function S8e(e,t,r,a){const s={},i=a(e,{});for(const m in i)s[m]=bw(i[m]);let{initial:o,animate:l}=e;const c=uN(e),u=nW(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const A=d?l:o;if(A&&typeof A!="boolean"&&!dN(A)){const m=Array.isArray(A)?A:[A];for(let h=0;h<m.length;h++){const y=lF(e,m[h]);if(y){const{transitionEnd:x,transition:v,...b}=y;for(const j in b){let C=b[j];if(Array.isArray(C)){const E=d?C.length-1:0;C=C[E]}C!==null&&(s[j]=C)}for(const j in x)s[j]=x[j]}}}return s}const dW=e=>(t,r)=>{const a=S.useContext(cN),s=S.useContext(lN),i=()=>j8e(e,t,a,s);return r?i():I8(i)};function cF(e,t,r){const{style:a}=e,s={};for(const i in a)(Xc(a[i])||t.style&&Xc(t.style[i])||sW(i,e)||r?.getValue(i)?.liveStyle!==void 0)&&(s[i]=a[i]);return s}const C8e=dW({scrapeMotionValuesFromProps:cF,createRenderState:iF});function uW(e,t,r){const a=cF(e,t,r);for(const s in e)if(Xc(e[s])||Xc(t[s])){const i=c1.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;a[i]=e[s]}return a}const E8e=dW({scrapeMotionValuesFromProps:uW,createRenderState:lW}),B8e=Symbol.for("motionComponentSymbol");function rx(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function T8e(e,t,r){return S.useCallback(a=>{a&&e.onMount&&e.onMount(a),t&&(a?t.mount(a):t.unmount()),r&&(typeof r=="function"?r(a):rx(r)&&(r.current=a))},[t])}const dF=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),F8e="framerAppearId",fW="data-"+dF(F8e),hW=S.createContext({});function _8e(e,t,r,a,s){const{visualElement:i}=S.useContext(cN),o=S.useContext(rW),l=S.useContext(lN),c=S.useContext(rF).reducedMotion,u=S.useRef(null);a=a||o.renderer,!u.current&&a&&(u.current=a(e,{visualState:t,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,A=S.useContext(hW);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&k8e(u.current,r,s,A);const m=S.useRef(!1);S.useInsertionEffect(()=>{d&&m.current&&d.update(r,l)});const h=r[fW],y=S.useRef(!!h&&!window.MotionHandoffIsComplete?.(h)&&window.MotionHasOptimisedAnimation?.(h));return dG(()=>{d&&(m.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),y.current&&d.animationState&&d.animationState.animateChanges())}),S.useEffect(()=>{d&&(!y.current&&d.animationState&&d.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(h)}),y.current=!1),d.enteringChildren=void 0)}),d}function k8e(e,t,r,a){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:AW(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&rx(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:a,crossfade:d,layoutScroll:c,layoutRoot:u})}function AW(e){if(e)return e.options.allowProjection!==!1?e.projection:AW(e.parent)}function rC(e,{forwardMotionProps:t=!1}={},r,a){r&&s8e(r);const s=oF(e)?E8e:C8e;function i(l,c){let u;const d={...S.useContext(rF),...l,layoutId:I8e(l)},{isStatic:A}=d,m=d8e(l),h=s(l,A);if(!A&&P8){P8e();const y=L8e(d);u=y.MeasureLayout,m.visualElement=_8e(e,h,d,a,y.ProjectionNode)}return n.jsxs(cN.Provider,{value:m,children:[u&&m.visualElement?n.jsx(u,{visualElement:m.visualElement,...d}):null,N8e(e,l,T8e(h,m.visualElement,c),h,A,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=S.forwardRef(i);return o[B8e]=e,o}function I8e({layoutId:e}){const t=S.useContext(k8).id;return t&&e!==void 0?t+"-"+e:e}function P8e(e,t){S.useContext(rW).strict}function L8e(e){const{drag:t,layout:r}=Dx;if(!t&&!r)return{};const a={...t,...r};return{MeasureLayout:t?.isEnabled(e)||r?.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function O8e(e,t){if(typeof Proxy>"u")return rC;const r=new Map,a=(i,o)=>rC(i,o,e,t),s=(i,o)=>a(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?a:(r.has(o)||r.set(o,rC(o,void 0,e,t)),r.get(o))})}function mW({top:e,left:t,right:r,bottom:a}){return{x:{min:t,max:r},y:{min:e,max:a}}}function D8e({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function M8e(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),a=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:a.y,right:a.x}}function aC(e){return e===void 0||e===1}function xE({scale:e,scaleX:t,scaleY:r}){return!aC(e)||!aC(t)||!aC(r)}function up(e){return xE(e)||pW(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function pW(e){return BM(e.x)||BM(e.y)}function BM(e){return e&&e!=="0%"}function q4(e,t,r){const a=e-r,s=t*a;return r+s}function TM(e,t,r,a,s){return s!==void 0&&(e=q4(e,s,a)),q4(e,r,a)+t}function yE(e,t=0,r=1,a,s){e.min=TM(e.min,t,r,a,s),e.max=TM(e.max,t,r,a,s)}function gW(e,{x:t,y:r}){yE(e.x,t.translate,t.scale,t.originPoint),yE(e.y,r.translate,r.scale,r.originPoint)}const FM=.999999999999,_M=1.0000000000001;function U8e(e,t,r,a=!1){const s=r.length;if(!s)return;t.x=t.y=1;let i,o;for(let l=0;l<s;l++){i=r[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(a&&i.options.layoutScroll&&i.scroll&&i!==i.root&&nx(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,gW(e,o)),a&&up(i.latestValues)&&nx(e,i.latestValues))}t.x<_M&&t.x>FM&&(t.x=1),t.y<_M&&t.y>FM&&(t.y=1)}function ax(e,t){e.min=e.min+t,e.max=e.max+t}function kM(e,t,r,a,s=.5){const i=Zi(e.min,e.max,s);yE(e,t,r,i,a)}function nx(e,t){kM(e.x,t.x,t.scaleX,t.scale,t.originX),kM(e.y,t.y,t.scaleY,t.scale,t.originY)}function xW(e,t){return mW(M8e(e.getBoundingClientRect(),t))}function R8e(e,t,r){const a=xW(e,r),{scroll:s}=t;return s&&(ax(a.x,s.offset.x),ax(a.y,s.offset.y)),a}const IM=()=>({translate:0,scale:1,origin:0,originPoint:0}),sx=()=>({x:IM(),y:IM()}),PM=()=>({min:0,max:0}),Bo=()=>({x:PM(),y:PM()}),vE={current:null},yW={current:!1};function Q8e(){if(yW.current=!0,!!P8)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>vE.current=e.matches;e.addEventListener("change",t),t()}else vE.current=!1}const H8e=new WeakMap;function $8e(e,t,r){for(const a in t){const s=t[a],i=r[a];if(Xc(s))e.addValue(a,s);else if(Xc(i))e.addValue(a,Ox(s,{owner:e}));else if(i!==s)if(e.hasValue(a)){const o=e.getValue(a);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(a);e.addValue(a,Ox(o!==void 0?o:s,{owner:e}))}}for(const a in r)t[a]===void 0&&e.removeValue(a);return t}const LM=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class z8e{scrapeMotionValuesFromProps(t,r,a){return{}}constructor({parent:t,props:r,presenceContext:a,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=X8,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Vd.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Hi.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=a,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=uN(r),this.isVariantNode=nW(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...A}=this.scrapeMotionValuesFromProps(r,{},this);for(const m in A){const h=A[m];c[m]!==void 0&&Xc(h)&&h.set(c[m])}}mount(t){this.current=t,H8e.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,a)=>this.bindToMotionValue(a,r)),yW.current||Q8e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:vE.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),j0(this.notifyUpdate),j0(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const a=d1.has(t);a&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Hi.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Dx){const r=Dx[t];if(!r)continue;const{isEnabled:a,Feature:s}=r;if(!this.features[t]&&s&&a(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Bo()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let a=0;a<LM.length;a++){const s=LM[a];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=$8e(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const a=this.values.get(t);r!==a&&(a&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let a=this.values.get(t);return a===void 0&&r!==void 0&&(a=Ox(r===null?void 0:r,{owner:this}),this.addValue(t,a)),a}readValue(t,r){let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(uG(a)||hG(a))?a=parseFloat(a):!e8e(a)&&S0.test(r)&&(a=GG(t,r)),this.setBaseTarget(t,Xc(a)?a.get():a)),Xc(a)?a.get():a}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){const{initial:r}=this.props;let a;if(typeof r=="string"||typeof r=="object"){const i=lF(this.props,r,this.presenceContext?.custom);i&&(a=i[t])}if(r&&a!==void 0)return a;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Xc(s)?s:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new U8),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){eF.render(this.render)}}class vW extends z8e{constructor(){super(...arguments),this.KeyframeResolver=HTe}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:a}){delete r[t],delete a[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Xc(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function bW(e,{style:t,vars:r},a,s){const i=e.style;let o;for(o in t)i[o]=t[o];s?.applyProjectionStyles(i,a);for(o in r)i.setProperty(o,r[o])}function V8e(e){return window.getComputedStyle(e)}class q8e extends vW{constructor(){super(...arguments),this.type="html",this.renderInstance=bW}readValueFromInstance(t,r){if(d1.has(r))return this.projection?.isProjecting?uE(r):oTe(t,r);{const a=V8e(t),s=(H8(r)?a.getPropertyValue(r):a[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return xW(t,r)}build(t,r,a){sF(t,r,a.transformTemplate)}scrapeMotionValuesFromProps(t,r,a){return cF(t,r,a)}}const wW=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function K8e(e,t,r,a){bW(e,t,void 0,a);for(const s in t.attrs)e.setAttribute(wW.has(s)?s:dF(s),t.attrs[s])}class G8e extends vW{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Bo}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(d1.has(r)){const a=KG(r);return a&&a.default||0}return r=wW.has(r)?r:dF(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,a){return uW(t,r,a)}build(t,r,a){oW(t,r,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(t,r,a,s){K8e(t,r,a,s)}mount(t){this.isSVGTag=cW(t.tagName),super.mount(t)}}const W8e=(e,t)=>oF(e)?new G8e(t):new q8e(t,{allowProjection:e!==S.Fragment});function wx(e,t,r){const a=e.getProps();return lF(a,t,r!==void 0?r:a.custom,e)}const bE=e=>Array.isArray(e);function Y8e(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Ox(r))}function X8e(e){return bE(e)?e[e.length-1]||0:e}function J8e(e,t){const r=wx(e,t);let{transitionEnd:a={},transition:s={},...i}=r||{};i={...i,...a};for(const o in i){const l=X8e(i[o]);Y8e(e,o,l)}}function Z8e(e){return!!(Xc(e)&&e.add)}function wE(e,t){const r=e.getValue("willChange");if(Z8e(r))return r.add(t);if(!r&&sm.WillChange){const a=new sm.WillChange("auto");e.addValue("willChange",a),a.add(t)}}function NW(e){return e.props[fW]}const eFe=e=>e!==null;function tFe(e,{repeat:t,repeatType:r="loop"},a){const s=e.filter(eFe),i=t&&r!=="loop"&&t%2===1?0:s.length-1;return s[i]}const rFe={type:"spring",stiffness:500,damping:25,restSpeed:10},aFe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),nFe={type:"keyframes",duration:.8},sFe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},iFe=(e,{keyframes:t})=>t.length>2?nFe:d1.has(e)?e.startsWith("scale")?aFe(t[1]):rFe:sFe;function oFe({when:e,delay:t,delayChildren:r,staggerChildren:a,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const uF=(e,t,r,a={},s,i)=>o=>{const l=J8(a,e)||{},c=l.delay||a.delay||0;let{elapsed:u=0}=a;u=u-Wh(c);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:s};oFe(l)||Object.assign(d,iFe(e,d)),d.duration&&(d.duration=Wh(d.duration)),d.repeatDelay&&(d.repeatDelay=Wh(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let A=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(pE(d),d.delay===0&&(A=!0)),(sm.instantAnimations||sm.skipAnimations)&&(A=!0,pE(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,A&&!i&&t.get()!==void 0){const m=tFe(d.keyframes,l);if(m!==void 0){Hi.update(()=>{d.onUpdate(m),d.onComplete()});return}}return l.isSync?new Y8(d):new FTe(d)};function lFe({protectedKeys:e,needsAnimating:t},r){const a=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,a}function jW(e,t,{delay:r=0,transitionOverride:a,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;a&&(i=a);const c=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const d in l){const A=e.getValue(d,e.latestValues[d]??null),m=l[d];if(m===void 0||u&&lFe(u,d))continue;const h={delay:r,...J8(i||{},d)},y=A.get();if(y!==void 0&&!A.isAnimating&&!Array.isArray(m)&&m===y&&!h.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const b=NW(e);if(b){const j=window.MotionHandoffAnimation(b,d,Hi);j!==null&&(h.startTime=j,x=!0)}}wE(e,d),A.start(uF(d,A,m,e.shouldReduceMotion&&zG.has(d)?{type:!1}:h,e,x));const v=A.animation;v&&c.push(v)}return o&&Promise.all(c).then(()=>{Hi.update(()=>{o&&J8e(e,o)})}),c}function SW(e,t,r,a=0,s=1){const i=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),o=e.size,l=(o-1)*a;return typeof r=="function"?r(i,o):s===1?i*a:l-i*a}function NE(e,t,r={}){const a=wx(e,t,r.type==="exit"?e.presenceContext?.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(s=r.transitionOverride);const i=a?()=>Promise.all(jW(e,a,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:A}=s;return cFe(e,t,c,u,d,A,r)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[i,o]:[o,i];return c().then(()=>u())}else return Promise.all([i(),o(r.delay)])}function cFe(e,t,r=0,a=0,s=0,i=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(NE(c,t,{...o,delay:r+(typeof a=="function"?0:a)+SW(e.variantChildren,c,a,s,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function dFe(e,t,r={}){e.notify("AnimationStart",t);let a;if(Array.isArray(t)){const s=t.map(i=>NE(e,i,r));a=Promise.all(s)}else if(typeof t=="string")a=NE(e,t,r);else{const s=typeof t=="function"?wx(e,t,r.custom):t;a=Promise.all(jW(e,s,r))}return a.then(()=>{e.notify("AnimationComplete",t)})}function CW(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let a=0;a<r;a++)if(t[a]!==e[a])return!1;return!0}const uFe=nF.length;function EW(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?EW(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<uFe;r++){const a=nF[r],s=e.props[a];(Fv(s)||s===!1)&&(t[a]=s)}return t}const fFe=[...aF].reverse(),hFe=aF.length;function AFe(e){return t=>Promise.all(t.map(({animation:r,options:a})=>dFe(e,r,a)))}function mFe(e){let t=AFe(e),r=OM(),a=!0;const s=c=>(u,d)=>{const A=wx(e,d,c==="exit"?e.presenceContext?.custom:void 0);if(A){const{transition:m,transitionEnd:h,...y}=A;u={...u,...y,...h}}return u};function i(c){t=c(e)}function o(c){const{props:u}=e,d=EW(e.parent)||{},A=[],m=new Set;let h={},y=1/0;for(let v=0;v<hFe;v++){const b=fFe[v],j=r[b],C=u[b]!==void 0?u[b]:d[b],E=Fv(C),k=b===c?j.isActive:null;k===!1&&(y=v);let D=C===d[b]&&C!==u[b]&&E;if(D&&a&&e.manuallyAnimateOnMount&&(D=!1),j.protectedKeys={...h},!j.isActive&&k===null||!C&&!j.prevProp||dN(C)||typeof C=="boolean")continue;const L=pFe(j.prevProp,C);let F=L||b===c&&j.isActive&&!D&&E||v>y&&E,Q=!1;const U=Array.isArray(C)?C:[C];let P=U.reduce(s(b),{});k===!1&&(P={});const{prevResolvedValues:I={}}=j,z={...I,...P},W=le=>{F=!0,m.has(le)&&(Q=!0,m.delete(le)),j.needsAnimating[le]=!0;const re=e.getValue(le);re&&(re.liveStyle=!1)};for(const le in z){const re=P[le],he=I[le];if(h.hasOwnProperty(le))continue;let de=!1;bE(re)&&bE(he)?de=!CW(re,he):de=re!==he,de?re!=null?W(le):m.add(le):re!==void 0&&m.has(le)?W(le):j.protectedKeys[le]=!0}j.prevProp=C,j.prevResolvedValues=P,j.isActive&&(h={...h,...P}),a&&e.blockInitialAnimation&&(F=!1);const ie=D&&L;F&&(!ie||Q)&&A.push(...U.map(le=>{const re={type:b};if(typeof le=="string"&&a&&!ie&&e.manuallyAnimateOnMount&&e.parent){const{parent:he}=e,de=wx(he,le);if(he.enteringChildren&&de){const{delayChildren:ve}=de.transition||{};re.delay=SW(he.enteringChildren,e,ve)}}return{animation:le,options:re}}))}if(m.size){const v={};if(typeof u.initial!="boolean"){const b=wx(e,Array.isArray(u.initial)?u.initial[0]:u.initial);b&&b.transition&&(v.transition=b.transition)}m.forEach(b=>{const j=e.getBaseTarget(b),C=e.getValue(b);C&&(C.liveStyle=!0),v[b]=j??null}),A.push({animation:v})}let x=!!A.length;return a&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(x=!1),a=!1,x?t(A):Promise.resolve()}function l(c,u){if(r[c].isActive===u)return Promise.resolve();e.variantChildren?.forEach(A=>A.animationState?.setActive(c,u)),r[c].isActive=u;const d=o(c);for(const A in r)r[A].protectedKeys={};return d}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=OM(),a=!0}}}function pFe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!CW(t,e):!1}function np(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function OM(){return{animate:np(!0),whileInView:np(),whileHover:np(),whileTap:np(),whileDrag:np(),whileFocus:np(),exit:np()}}class O0{constructor(t){this.isMounted=!1,this.node=t}update(){}}class gFe extends O0{constructor(t){super(t),t.animationState||(t.animationState=mFe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();dN(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let xFe=0;class yFe extends O0{constructor(){super(...arguments),this.id=xFe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const vFe={animation:{Feature:gFe},exit:{Feature:yFe}};function kv(e,t,r,a={passive:!0}){return e.addEventListener(t,r,a),()=>e.removeEventListener(t,r)}function x2(e){return{point:{x:e.pageX,y:e.pageY}}}const bFe=e=>t=>tF(t)&&e(t,x2(t));function zy(e,t,r,a){return kv(e,t,bFe(r),a)}const BW=1e-4,wFe=1-BW,NFe=1+BW,TW=.01,jFe=0-TW,SFe=0+TW;function wd(e){return e.max-e.min}function CFe(e,t,r){return Math.abs(e-t)<=r}function DM(e,t,r,a=.5){e.origin=a,e.originPoint=Zi(t.min,t.max,e.origin),e.scale=wd(r)/wd(t),e.translate=Zi(r.min,r.max,e.origin)-e.originPoint,(e.scale>=wFe&&e.scale<=NFe||isNaN(e.scale))&&(e.scale=1),(e.translate>=jFe&&e.translate<=SFe||isNaN(e.translate))&&(e.translate=0)}function Vy(e,t,r,a){DM(e.x,t.x,r.x,a?a.originX:void 0),DM(e.y,t.y,r.y,a?a.originY:void 0)}function MM(e,t,r){e.min=r.min+t.min,e.max=e.min+wd(t)}function EFe(e,t,r){MM(e.x,t.x,r.x),MM(e.y,t.y,r.y)}function UM(e,t,r){e.min=t.min-r.min,e.max=e.min+wd(t)}function qy(e,t,r){UM(e.x,t.x,r.x),UM(e.y,t.y,r.y)}function sf(e){return[e("x"),e("y")]}const FW=({current:e})=>e?e.ownerDocument.defaultView:null,RM=(e,t)=>Math.abs(e-t);function BFe(e,t){const r=RM(e.x,t.x),a=RM(e.y,t.y);return Math.sqrt(r**2+a**2)}class _W{constructor(t,r,{transformPagePoint:a,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=sC(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,y=BFe(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!h&&!y)return;const{point:x}=m,{timestamp:v}=cc;this.history.push({...x,timestamp:v});const{onStart:b,onMove:j}=this.handlers;h||(b&&b(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,m)},this.handlePointerMove=(m,h)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=nC(h,this.transformPagePoint),Hi.update(this.updatePoint,!0)},this.handlePointerUp=(m,h)=>{this.end();const{onEnd:y,onSessionEnd:x,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=sC(m.type==="pointercancel"?this.lastMoveEventInfo:nC(h,this.transformPagePoint),this.history);this.startEvent&&y&&y(m,b),x&&x(m,b)},!tF(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=a,this.distanceThreshold=o,this.contextWindow=s||window;const l=x2(t),c=nC(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=cc;this.history=[{...u,timestamp:d}];const{onSessionStart:A}=r;A&&A(t,sC(c,this.history)),this.removeListeners=m2(zy(this.contextWindow,"pointermove",this.handlePointerMove),zy(this.contextWindow,"pointerup",this.handlePointerUp),zy(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),j0(this.updatePoint)}}function nC(e,t){return t?{point:t(e.point)}:e}function QM(e,t){return{x:e.x-t.x,y:e.y-t.y}}function sC({point:e},t){return{point:e,delta:QM(e,kW(t)),offset:QM(e,TFe(t)),velocity:FFe(t,.1)}}function TFe(e){return e[0]}function kW(e){return e[e.length-1]}function FFe(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,a=null;const s=kW(e);for(;r>=0&&(a=e[r],!(s.timestamp-a.timestamp>Wh(t)));)r--;if(!a)return{x:0,y:0};const i=Yh(s.timestamp-a.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-a.x)/i,y:(s.y-a.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function _Fe(e,{min:t,max:r},a){return t!==void 0&&e<t?e=a?Zi(t,e,a.min):Math.max(e,t):r!==void 0&&e>r&&(e=a?Zi(r,e,a.max):Math.min(e,r)),e}function HM(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function kFe(e,{top:t,left:r,bottom:a,right:s}){return{x:HM(e.x,r,s),y:HM(e.y,t,a)}}function $M(e,t){let r=t.min-e.min,a=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,a]=[a,r]),{min:r,max:a}}function IFe(e,t){return{x:$M(e.x,t.x),y:$M(e.y,t.y)}}function PFe(e,t){let r=.5;const a=wd(e),s=wd(t);return s>a?r=Cv(t.min,t.max-a,e.min):a>s&&(r=Cv(e.min,e.max-s,t.min)),nm(0,1,r)}function LFe(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const jE=.35;function OFe(e=jE){return e===!1?e=0:e===!0&&(e=jE),{x:zM(e,"left","right"),y:zM(e,"top","bottom")}}function zM(e,t,r){return{min:VM(e,t),max:VM(e,r)}}function VM(e,t){return typeof e=="number"?e:e[t]||0}const DFe=new WeakMap;class MFe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Bo(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:a}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=A=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(x2(A).point)},o=(A,m)=>{const{drag:h,dragPropagation:y,onDragStart:x}=this.getProps();if(h&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=qTe(h),!this.openDragLock))return;this.latestPointerEvent=A,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),sf(b=>{let j=this.getAxisMotionValue(b).get()||0;if(Xh.test(j)){const{projection:C}=this.visualElement;if(C&&C.layout){const E=C.layout.layoutBox[b];E&&(j=wd(E)*(parseFloat(j)/100))}}this.originPoint[b]=j}),x&&Hi.postRender(()=>x(A,m)),wE(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},l=(A,m)=>{this.latestPointerEvent=A,this.latestPanInfo=m;const{dragPropagation:h,dragDirectionLock:y,onDirectionLock:x,onDrag:v}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:b}=m;if(y&&this.currentDirection===null){this.currentDirection=UFe(b),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",m.point,b),this.updateAxis("y",m.point,b),this.visualElement.render(),v&&v(A,m)},c=(A,m)=>{this.latestPointerEvent=A,this.latestPanInfo=m,this.stop(A,m),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>sf(A=>this.getAnimationState(A)==="paused"&&this.getAxisMotionValue(A).animation?.play()),{dragSnapToOrigin:d}=this.getProps();this.panSession=new _W(t,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:a,contextWindow:FW(this.visualElement)})}stop(t,r){const a=t||this.latestPointerEvent,s=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!a)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Hi.postRender(()=>l(a,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,a){const{drag:s}=this.getProps();if(!a||!Xb(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+a[t];this.constraints&&this.constraints[t]&&(o=_Fe(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){const{dragConstraints:t,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;t&&rx(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&a?this.constraints=kFe(a.layoutBox,t):this.constraints=!1,this.elastic=OFe(r),s!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&sf(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=LFe(a.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!rx(t))return!1;const a=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=R8e(a,s.root,this.visualElement.getTransformPagePoint());let o=IFe(s.layout.layoutBox,i);if(r){const l=r(D8e(o));this.hasMutatedConstraints=!!l,l&&(o=mW(l))}return o}startAnimation(t){const{drag:r,dragMomentum:a,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=sf(d=>{if(!Xb(d,r,this.currentDirection))return;let A=c&&c[d]||{};o&&(A={min:0,max:0});const m=s?200:1e6,h=s?40:1e7,y={type:"inertia",velocity:a?t[d]:0,bounceStiffness:m,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...i,...A};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const a=this.getAxisMotionValue(t);return wE(this.visualElement,t),a.start(uF(t,a,0,r,this.visualElement,!1))}stopAnimation(){sf(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){sf(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,a=this.visualElement.getProps(),s=a[r];return s||this.visualElement.getValue(t,(a.initial?a.initial[t]:void 0)||0)}snapToCursor(t){sf(r=>{const{drag:a}=this.getProps();if(!Xb(r,a,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[r];i.set(t[r]-Zi(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:a}=this.visualElement;if(!rx(r)||!a||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};sf(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=PFe({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),sf(o=>{if(!Xb(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(Zi(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;DFe.set(this.visualElement,this);const t=this.visualElement.current,r=zy(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),a=()=>{const{dragConstraints:c}=this.getProps();rx(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",a);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Hi.read(a);const o=kv(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(sf(d=>{const A=this.getAxisMotionValue(d);A&&(this.originPoint[d]+=c[d].translate,A.set(A.get()+c[d].translate))}),this.visualElement.render())}));return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:a=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=jE,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:a,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Xb(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function UFe(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class RFe extends O0{constructor(t){super(t),this.removeGroupControls=df,this.removeListeners=df,this.controls=new MFe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||df}unmount(){this.removeGroupControls(),this.removeListeners()}}const qM=e=>(t,r)=>{e&&Hi.postRender(()=>e(t,r))};class QFe extends O0{constructor(){super(...arguments),this.removePointerDownListener=df}onPointerDown(t){this.session=new _W(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:FW(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:a,onPanEnd:s}=this.node.getProps();return{onSessionStart:qM(t),onStart:qM(r),onMove:a,onEnd:(i,o)=>{delete this.session,s&&Hi.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=zy(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ww={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function KM(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ay={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Qa.test(e))e=parseFloat(e);else return e;const r=KM(e,t.target.x),a=KM(e,t.target.y);return`${r}% ${a}%`}},HFe={correct:(e,{treeScale:t,projectionDelta:r})=>{const a=e,s=S0.parse(e);if(s.length>5)return a;const i=S0.createTransformer(e),o=typeof s[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;s[0+o]/=l,s[1+o]/=c;const u=Zi(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};let iC=!1;class $Fe extends S.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:a,layoutId:s}=this.props,{projection:i}=t;u8e(zFe),i&&(r.group&&r.group.add(i),a&&a.register&&s&&a.register(i),iC&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ww.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:a,drag:s,isPresent:i}=this.props,{projection:o}=a;return o&&(o.isPresent=i,iC=!0,s||t.layoutDependency!==r||r===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Hi.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),eF.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:a}=this.props,{projection:s}=t;iC=!0,s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),a&&a.deregister&&a.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function IW(e){const[t,r]=tW(),a=S.useContext(k8);return n.jsx($Fe,{...e,layoutGroup:a,switchLayoutGroup:S.useContext(hW),isPresent:t,safeToRemove:r})}const zFe={borderRadius:{...Ay,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ay,borderTopRightRadius:Ay,borderBottomLeftRadius:Ay,borderBottomRightRadius:Ay,boxShadow:HFe};function VFe(e,t,r){const a=Xc(e)?e:Ox(e);return a.start(uF("",a,t,r)),a.animation}const qFe=(e,t)=>e.depth-t.depth;class KFe{constructor(){this.children=[],this.isDirty=!1}add(t){L8(this.children,t),this.isDirty=!0}remove(t){O8(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(qFe),this.isDirty=!1,this.children.forEach(t)}}function GFe(e,t){const r=Vd.now(),a=({timestamp:s})=>{const i=s-r;i>=t&&(j0(a),e(i-t))};return Hi.setup(a,!0),()=>j0(a)}const PW=["TopLeft","TopRight","BottomLeft","BottomRight"],WFe=PW.length,GM=e=>typeof e=="string"?parseFloat(e):e,WM=e=>typeof e=="number"||Qa.test(e);function YFe(e,t,r,a,s,i){s?(e.opacity=Zi(0,r.opacity??1,XFe(a)),e.opacityExit=Zi(t.opacity??1,0,JFe(a))):i&&(e.opacity=Zi(t.opacity??1,r.opacity??1,a));for(let o=0;o<WFe;o++){const l=`border${PW[o]}Radius`;let c=YM(t,l),u=YM(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||WM(c)===WM(u)?(e[l]=Math.max(Zi(GM(c),GM(u),a),0),(Xh.test(u)||Xh.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=Zi(t.rotate||0,r.rotate||0,a))}function YM(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const XFe=LW(0,.5,bG),JFe=LW(.5,.95,df);function LW(e,t,r){return a=>a<e?0:a>t?1:r(Cv(e,t,a))}function XM(e,t){e.min=t.min,e.max=t.max}function rf(e,t){XM(e.x,t.x),XM(e.y,t.y)}function JM(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function ZM(e,t,r,a,s){return e-=t,e=q4(e,1/r,a),s!==void 0&&(e=q4(e,1/s,a)),e}function ZFe(e,t=0,r=1,a=.5,s,i=e,o=e){if(Xh.test(t)&&(t=parseFloat(t),t=Zi(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Zi(i.min,i.max,a);e===i&&(l-=t),e.min=ZM(e.min,t,r,l,s),e.max=ZM(e.max,t,r,l,s)}function eU(e,t,[r,a,s],i,o){ZFe(e,t[r],t[a],t[s],t.scale,i,o)}const e_e=["x","scaleX","originX"],t_e=["y","scaleY","originY"];function tU(e,t,r,a){eU(e.x,t,e_e,r?r.x:void 0,a?a.x:void 0),eU(e.y,t,t_e,r?r.y:void 0,a?a.y:void 0)}function rU(e){return e.translate===0&&e.scale===1}function OW(e){return rU(e.x)&&rU(e.y)}function aU(e,t){return e.min===t.min&&e.max===t.max}function r_e(e,t){return aU(e.x,t.x)&&aU(e.y,t.y)}function nU(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function DW(e,t){return nU(e.x,t.x)&&nU(e.y,t.y)}function sU(e){return wd(e.x)/wd(e.y)}function iU(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class a_e{constructor(){this.members=[]}add(t){L8(this.members,t),t.scheduleRender()}remove(t){if(O8(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let a;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){a=i;break}}return a?(this.promote(a),!0):!1}promote(t,r){const a=this.lead;if(t!==a&&(this.prevLead=a,this.lead=t,t.show(),a)){a.instance&&a.scheduleRender(),t.scheduleRender(),t.resumeFrom=a,r&&(t.resumeFrom.preserveOpacity=!0),a.snapshot&&(t.snapshot=a.snapshot,t.snapshot.latestValues=a.animationValues||a.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:a}=t;r.onExitComplete&&r.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function n_e(e,t,r){let a="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=r?.z||0;if((s||i||o)&&(a=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(a+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:A,rotateY:m,skewX:h,skewY:y}=r;u&&(a=`perspective(${u}px) ${a}`),d&&(a+=`rotate(${d}deg) `),A&&(a+=`rotateX(${A}deg) `),m&&(a+=`rotateY(${m}deg) `),h&&(a+=`skewX(${h}deg) `),y&&(a+=`skewY(${y}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(a+=`scale(${l}, ${c})`),a||"none"}const oC=["","X","Y","Z"],s_e=1e3;let i_e=0;function lC(e,t,r,a){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),a&&(a[e]=0))}function MW(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=NW(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Hi,!(s||i))}const{parent:a}=e;a&&!a.hasCheckedOptimisedAppear&&MW(a)}function UW({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:a,resetTransform:s}){return class{constructor(o={},l=t?.()){this.id=i_e++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(c_e),this.nodes.forEach(h_e),this.nodes.forEach(A_e),this.nodes.forEach(d_e)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new KFe)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new U8),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=eW(o)&&!JTe(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,A=0;const m=()=>this.root.updateBlockedByResize=!1;Hi.read(()=>{A=window.innerWidth}),e(o,()=>{const h=window.innerWidth;h!==A&&(A=h,this.root.updateBlockedByResize=!0,d&&d(),d=GFe(m,250),ww.hasAnimatedSinceResize&&(ww.hasAnimatedSinceResize=!1,this.nodes.forEach(cU)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:A,hasRelativeLayoutChanged:m,layout:h})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||y_e,{onLayoutAnimationStart:x,onLayoutAnimationComplete:v}=u.getProps(),b=!this.targetLayout||!DW(this.targetLayout,h),j=!A&&m;if(this.options.layoutRoot||this.resumeFrom||j||A&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...J8(y,"layout"),onPlay:x,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(d,j)}else A||cU(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=h})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),j0(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(m_e),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&MW(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const A=this.path[d];A.shouldResetTransform=!0,A.updateScroll("snapshot"),A.options.layoutRoot&&A.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(oU);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(lU);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(f_e),this.nodes.forEach(o_e),this.nodes.forEach(l_e)):this.nodes.forEach(lU),this.clearAllSnapshots();const l=Vd.now();cc.delta=nm(0,1e3/60,l-cc.timestamp),cc.timestamp=l,cc.isProcessing=!0,Y3.update.process(cc),Y3.preRender.process(cc),Y3.render.process(cc),cc.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,eF.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(u_e),this.sharedNodes.forEach(p_e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Hi.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Hi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!wd(this.snapshot.measuredBox.x)&&!wd(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Bo(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=a(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!OW(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||up(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),v_e(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Bo();const l=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(b_e))){const{scroll:u}=this.root;u&&(ax(l.x,u.offset.x),ax(l.y,u.offset.y))}return l}removeElementScroll(o){const l=Bo();if(rf(l,o),this.scroll?.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:A}=u;u!==this.root&&d&&A.layoutScroll&&(d.wasRoot&&rf(l,o),ax(l.x,d.offset.x),ax(l.y,d.offset.y))}return l}applyTransform(o,l=!1){const c=Bo();rf(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&nx(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),up(d.latestValues)&&nx(c,d.latestValues)}return up(this.latestValues)&&nx(c,this.latestValues),c}removeTransform(o){const l=Bo();rf(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!up(u.latestValues))continue;xE(u.latestValues)&&u.updateSnapshot();const d=Bo(),A=u.measurePageBox();rf(d,A),tU(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return up(this.latestValues)&&tU(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==cc.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:A}=this.options;if(!(!this.layout||!(d||A))){if(this.resolvedRelativeTargetAt=cc.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bo(),this.relativeTargetOrigin=Bo(),qy(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),rf(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Bo(),this.targetWithTransforms=Bo()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),EFe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):rf(this.target,this.layout.layoutBox),gW(this.target,this.targetDelta)):rf(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bo(),this.relativeTargetOrigin=Bo(),qy(this.relativeTargetOrigin,this.target,m.target),rf(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||xE(this.parent.latestValues)||pW(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===cc.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;rf(this.layoutCorrected,this.layout.layoutBox);const A=this.treeScale.x,m=this.treeScale.y;U8e(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Bo());const{target:h}=o;if(!h){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(JM(this.prevProjectionDelta.x,this.projectionDelta.x),JM(this.prevProjectionDelta.y,this.projectionDelta.y)),Vy(this.projectionDelta,this.layoutCorrected,h,this.latestValues),(this.treeScale.x!==A||this.treeScale.y!==m||!iU(this.projectionDelta.x,this.prevProjectionDelta.x)||!iU(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=sx(),this.projectionDelta=sx(),this.projectionDeltaWithTransform=sx()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},A=sx();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=Bo(),h=c?c.source:void 0,y=this.layout?this.layout.source:void 0,x=h!==y,v=this.getStack(),b=!v||v.members.length<=1,j=!!(x&&!b&&this.options.crossfade===!0&&!this.path.some(x_e));this.animationProgress=0;let C;this.mixTargetDelta=E=>{const k=E/1e3;dU(A.x,o.x,k),dU(A.y,o.y,k),this.setTargetDelta(A),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qy(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),g_e(this.relativeTarget,this.relativeTargetOrigin,m,k),C&&r_e(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=Bo()),rf(C,this.relativeTarget)),x&&(this.animationValues=d,YFe(d,u,this.latestValues,k,j,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(j0(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Hi.update(()=>{ww.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ox(0)),this.currentAnimation=VFe(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(s_e),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&RW(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Bo();const A=wd(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+A;const m=wd(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}rf(l,c),nx(l,d),Vy(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new a_e),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&lC("z",o,u,this.animationValues);for(let d=0;d<oC.length;d++)lC(`rotate${oC[d]}`,o,u,this.animationValues),lC(`skew${oC[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=bw(l?.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=bw(l?.pointerEvents)||""),this.hasProjected&&!up(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let A=n_e(this.projectionDeltaWithTransform,this.treeScale,d);c&&(A=c(d,A)),o.transform=A;const{x:m,y:h}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${h.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const y in _v){if(d[y]===void 0)continue;const{correct:x,applyTo:v,isCSSVariable:b}=_v[y],j=A==="none"?d[y]:x(d[y],u);if(v){const C=v.length;for(let E=0;E<C;E++)o[v[E]]=j}else b?this.options.visualElement.renderState.vars[y]=j:o[y]=j}this.options.layoutId&&(o.pointerEvents=u===this?bw(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(oU),this.root.sharedNodes.clear()}}}function o_e(e){e.updateLayout()}function l_e(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:s}=e.options,i=t.source!==e.layout.source;s==="size"?sf(d=>{const A=i?t.measuredBox[d]:t.layoutBox[d],m=wd(A);A.min=r[d].min,A.max=A.min+m}):RW(s,t.layoutBox,r)&&sf(d=>{const A=i?t.measuredBox[d]:t.layoutBox[d],m=wd(r[d]);A.max=A.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+m)});const o=sx();Vy(o,r,t.layoutBox);const l=sx();i?Vy(l,e.applyTransform(a,!0),t.measuredBox):Vy(l,r,t.layoutBox);const c=!OW(o);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:A,layout:m}=d;if(A&&m){const h=Bo();qy(h,t.layoutBox,A.layoutBox);const y=Bo();qy(y,r,m.layoutBox),DW(h,y)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=h,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function c_e(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function d_e(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function u_e(e){e.clearSnapshot()}function oU(e){e.clearMeasurements()}function lU(e){e.isLayoutDirty=!1}function f_e(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function cU(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function h_e(e){e.resolveTargetDelta()}function A_e(e){e.calcProjection()}function m_e(e){e.resetSkewAndRotation()}function p_e(e){e.removeLeadSnapshot()}function dU(e,t,r){e.translate=Zi(t.translate,0,r),e.scale=Zi(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function uU(e,t,r,a){e.min=Zi(t.min,r.min,a),e.max=Zi(t.max,r.max,a)}function g_e(e,t,r,a){uU(e.x,t.x,r.x,a),uU(e.y,t.y,r.y,a)}function x_e(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const y_e={duration:.45,ease:[.4,0,.1,1]},fU=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),hU=fU("applewebkit/")&&!fU("chrome/")?Math.round:df;function AU(e){e.min=hU(e.min),e.max=hU(e.max)}function v_e(e){AU(e.x),AU(e.y)}function RW(e,t,r){return e==="position"||e==="preserve-aspect"&&!CFe(sU(t),sU(r),.2)}function b_e(e){return e!==e.root&&e.scroll?.wasRoot}const w_e=UW({attachResizeListener:(e,t)=>kv(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),cC={current:void 0},QW=UW({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!cC.current){const e=new w_e({});e.mount(window),e.setOptions({layoutScroll:!0}),cC.current=e}return cC.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),N_e={pan:{Feature:QFe},drag:{Feature:RFe,ProjectionNode:QW,MeasureLayout:IW}};function mU(e,t,r){const{props:a}=e;e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,i=a[s];i&&Hi.postRender(()=>i(t,x2(t)))}class j_e extends O0{mount(){const{current:t}=this.node;t&&(this.unmount=KTe(t,(r,a)=>(mU(this.node,a,"Start"),s=>mU(this.node,s,"End"))))}unmount(){}}class S_e extends O0{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=m2(kv(this.node.current,"focus",()=>this.onFocus()),kv(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function pU(e,t,r){const{props:a}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&a.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),i=a[s];i&&Hi.postRender(()=>i(t,x2(t)))}class C_e extends O0{mount(){const{current:t}=this.node;t&&(this.unmount=XTe(t,(r,a)=>(pU(this.node,a,"Start"),(s,{success:i})=>pU(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const SE=new WeakMap,dC=new WeakMap,E_e=e=>{const t=SE.get(e.target);t&&t(e)},B_e=e=>{e.forEach(E_e)};function T_e({root:e,...t}){const r=e||document;dC.has(r)||dC.set(r,{});const a=dC.get(r),s=JSON.stringify(t);return a[s]||(a[s]=new IntersectionObserver(B_e,{root:e,...t})),a[s]}function F_e(e,t,r){const a=T_e(t);return SE.set(e,r),a.observe(e),()=>{SE.delete(e),a.unobserve(e)}}const __e={some:0,all:1};class k_e extends O0{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:a,amount:s="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:a,threshold:typeof s=="number"?s:__e[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:A}=this.node.getProps(),m=u?d:A;m&&m(c)};return F_e(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(I_e(t,r))&&this.startObserver()}unmount(){}}function I_e({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const P_e={inView:{Feature:k_e},tap:{Feature:C_e},focus:{Feature:S_e},hover:{Feature:j_e}},L_e={layout:{ProjectionNode:QW,MeasureLayout:IW}},O_e={...vFe,...P_e,...N_e,...L_e},ba=O8e(O_e,W8e);/*!
 * Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */function CE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=Array(t);r<t;r++)a[r]=e[r];return a}function D_e(e){if(Array.isArray(e))return e}function M_e(e){if(Array.isArray(e))return CE(e)}function U_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R_e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,HW(a.key),a)}}function Q_e(e,t,r){return t&&R_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nw(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=fF(e))||t){r&&(e=r);var a=0,s=function(){};return{s,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var c=r.next();return o=c.done,c},e:function(c){l=!0,i=c},f:function(){try{o||r.return==null||r.return()}finally{if(l)throw i}}}}function Pn(e,t,r){return(t=HW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function z_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gU(Object(r),!0).forEach(function(a){Pn(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gU(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function fN(e,t){return D_e(e)||$_e(e,t)||fF(e,t)||z_e()}function oh(e){return M_e(e)||H_e(e)||fF(e)||V_e()}function q_e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HW(e){var t=q_e(e,"string");return typeof t=="symbol"?t:t+""}function K4(e){"@babel/helpers - typeof";return K4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K4(e)}function fF(e,t){if(e){if(typeof e=="string")return CE(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?CE(e,t):void 0}}var xU=function(){},hF={},$W={},zW=null,VW={mark:xU,measure:xU};try{typeof window<"u"&&(hF=window),typeof document<"u"&&($W=document),typeof MutationObserver<"u"&&(zW=MutationObserver),typeof performance<"u"&&(VW=performance)}catch{}var K_e=hF.navigator||{},yU=K_e.userAgent,vU=yU===void 0?"":yU,C0=hF,Ci=$W,bU=zW,Jb=VW;C0.document;var Am=!!Ci.documentElement&&!!Ci.head&&typeof Ci.addEventListener=="function"&&typeof Ci.createElement=="function",qW=~vU.indexOf("MSIE")||~vU.indexOf("Trident/"),uC,G_e=/fa(k|kd|s|r|l|t|d|dr|dl|dt|b|slr|slpr|wsb|tl|ns|nds|es|jr|jfr|jdr|cr|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,W_e=/Font ?Awesome ?([567 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit|Notdog Duo|Notdog|Chisel|Etch|Thumbprint|Jelly Fill|Jelly Duo|Jelly|Slab Press|Slab|Whiteboard)?.*/i,KW={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"},slab:{"fa-regular":"regular",faslr:"regular"},"slab-press":{"fa-regular":"regular",faslpr:"regular"},thumbprint:{"fa-light":"light",fatl:"light"},whiteboard:{"fa-semibold":"semibold",fawsb:"semibold"},notdog:{"fa-solid":"solid",fans:"solid"},"notdog-duo":{"fa-solid":"solid",fands:"solid"},etch:{"fa-solid":"solid",faes:"solid"},jelly:{"fa-regular":"regular",fajr:"regular"},"jelly-fill":{"fa-regular":"regular",fajfr:"regular"},"jelly-duo":{"fa-regular":"regular",fajdr:"regular"},chisel:{"fa-regular":"regular",facr:"regular"}},Y_e={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},GW=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press"],xc="classic",y2="duotone",WW="sharp",YW="sharp-duotone",XW="chisel",JW="etch",ZW="jelly",eY="jelly-duo",tY="jelly-fill",rY="notdog",aY="notdog-duo",nY="slab",sY="slab-press",iY="thumbprint",oY="whiteboard",X_e="Classic",J_e="Duotone",Z_e="Sharp",eke="Sharp Duotone",tke="Chisel",rke="Etch",ake="Jelly",nke="Jelly Duo",ske="Jelly Fill",ike="Notdog",oke="Notdog Duo",lke="Slab",cke="Slab Press",dke="Thumbprint",uke="Whiteboard",lY=[xc,y2,WW,YW,XW,JW,ZW,eY,tY,rY,aY,nY,sY,iY,oY];uC={},Pn(Pn(Pn(Pn(Pn(Pn(Pn(Pn(Pn(Pn(uC,xc,X_e),y2,J_e),WW,Z_e),YW,eke),XW,tke),JW,rke),ZW,ake),eY,nke),tY,ske),rY,ike),Pn(Pn(Pn(Pn(Pn(uC,aY,oke),nY,lke),sY,cke),iY,dke),oY,uke);var fke={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"},slab:{400:"faslr"},"slab-press":{400:"faslpr"},whiteboard:{600:"fawsb"},thumbprint:{300:"fatl"},notdog:{900:"fans"},"notdog-duo":{900:"fands"},etch:{900:"faes"},chisel:{400:"facr"},jelly:{400:"fajr"},"jelly-fill":{400:"fajfr"},"jelly-duo":{400:"fajdr"}},hke={"Font Awesome 7 Free":{900:"fas",400:"far"},"Font Awesome 7 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 7 Brands":{400:"fab",normal:"fab"},"Font Awesome 7 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 7 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 7 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"},"Font Awesome 7 Jelly":{400:"fajr",normal:"fajr"},"Font Awesome 7 Jelly Fill":{400:"fajfr",normal:"fajfr"},"Font Awesome 7 Jelly Duo":{400:"fajdr",normal:"fajdr"},"Font Awesome 7 Slab":{400:"faslr",normal:"faslr"},"Font Awesome 7 Slab Press":{400:"faslpr",normal:"faslpr"},"Font Awesome 7 Thumbprint":{300:"fatl",normal:"fatl"},"Font Awesome 7 Notdog":{900:"fans",normal:"fans"},"Font Awesome 7 Notdog Duo":{900:"fands",normal:"fands"},"Font Awesome 7 Etch":{900:"faes",normal:"faes"},"Font Awesome 7 Chisel":{400:"facr",normal:"facr"},"Font Awesome 7 Whiteboard":{600:"fawsb",normal:"fawsb"}},Ake=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["chisel",{defaultShortPrefixId:"facr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["etch",{defaultShortPrefixId:"faes",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["jelly",{defaultShortPrefixId:"fajr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-duo",{defaultShortPrefixId:"fajdr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-fill",{defaultShortPrefixId:"fajfr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["notdog",{defaultShortPrefixId:"fans",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["notdog-duo",{defaultShortPrefixId:"fands",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["slab",{defaultShortPrefixId:"faslr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["slab-press",{defaultShortPrefixId:"faslpr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["thumbprint",{defaultShortPrefixId:"fatl",defaultStyleId:"light",styleIds:["light"],futureStyleIds:[],defaultFontWeight:300}],["whiteboard",{defaultShortPrefixId:"fawsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}]]),mke={chisel:{regular:"facr"},classic:{brands:"fab",light:"fal",regular:"far",solid:"fas",thin:"fat"},duotone:{light:"fadl",regular:"fadr",solid:"fad",thin:"fadt"},etch:{solid:"faes"},jelly:{regular:"fajr"},"jelly-duo":{regular:"fajdr"},"jelly-fill":{regular:"fajfr"},notdog:{solid:"fans"},"notdog-duo":{solid:"fands"},sharp:{light:"fasl",regular:"fasr",solid:"fass",thin:"fast"},"sharp-duotone":{light:"fasdl",regular:"fasdr",solid:"fasds",thin:"fasdt"},slab:{regular:"faslr"},"slab-press":{regular:"faslpr"},thumbprint:{light:"fatl"},whiteboard:{semibold:"fawsb"}},cY=["fak","fa-kit","fakd","fa-kit-duotone"],wU={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},pke=["kit"],gke="kit",xke="kit-duotone",yke="Kit",vke="Kit Duotone";Pn(Pn({},gke,yke),xke,vke);var bke={kit:{"fa-kit":"fak"}},wke={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},Nke={kit:{fak:"fa-kit"}},NU={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},fC,Zb={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},jke=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press"],Ske="classic",Cke="duotone",Eke="sharp",Bke="sharp-duotone",Tke="chisel",Fke="etch",_ke="jelly",kke="jelly-duo",Ike="jelly-fill",Pke="notdog",Lke="notdog-duo",Oke="slab",Dke="slab-press",Mke="thumbprint",Uke="whiteboard",Rke="Classic",Qke="Duotone",Hke="Sharp",$ke="Sharp Duotone",zke="Chisel",Vke="Etch",qke="Jelly",Kke="Jelly Duo",Gke="Jelly Fill",Wke="Notdog",Yke="Notdog Duo",Xke="Slab",Jke="Slab Press",Zke="Thumbprint",eIe="Whiteboard";fC={},Pn(Pn(Pn(Pn(Pn(Pn(Pn(Pn(Pn(Pn(fC,Ske,Rke),Cke,Qke),Eke,Hke),Bke,$ke),Tke,zke),Fke,Vke),_ke,qke),kke,Kke),Ike,Gke),Pke,Wke),Pn(Pn(Pn(Pn(Pn(fC,Lke,Yke),Oke,Xke),Dke,Jke),Mke,Zke),Uke,eIe);var tIe="kit",rIe="kit-duotone",aIe="Kit",nIe="Kit Duotone";Pn(Pn({},tIe,aIe),rIe,nIe);var sIe={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"},slab:{"fa-regular":"faslr"},"slab-press":{"fa-regular":"faslpr"},whiteboard:{"fa-semibold":"fawsb"},thumbprint:{"fa-light":"fatl"},notdog:{"fa-solid":"fans"},"notdog-duo":{"fa-solid":"fands"},etch:{"fa-solid":"faes"},jelly:{"fa-regular":"fajr"},"jelly-fill":{"fa-regular":"fajfr"},"jelly-duo":{"fa-regular":"fajdr"},chisel:{"fa-regular":"facr"}},iIe={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"],slab:["faslr"],"slab-press":["faslpr"],whiteboard:["fawsb"],thumbprint:["fatl"],notdog:["fans"],"notdog-duo":["fands"],etch:["faes"],jelly:["fajr"],"jelly-fill":["fajfr"],"jelly-duo":["fajdr"],chisel:["facr"]},EE={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"},slab:{faslr:"fa-regular"},"slab-press":{faslpr:"fa-regular"},whiteboard:{fawsb:"fa-semibold"},thumbprint:{fatl:"fa-light"},notdog:{fans:"fa-solid"},"notdog-duo":{fands:"fa-solid"},etch:{faes:"fa-solid"},jelly:{fajr:"fa-regular"},"jelly-fill":{fajfr:"fa-regular"},"jelly-duo":{fajdr:"fa-regular"},chisel:{facr:"fa-regular"}},oIe=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands","fa-semibold"],dY=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt","faslr","faslpr","fawsb","fatl","fans","fands","faes","fajr","fajfr","fajdr","facr"].concat(jke,oIe),lIe=["solid","regular","light","thin","duotone","brands","semibold"],uY=[1,2,3,4,5,6,7,8,9,10],cIe=uY.concat([11,12,13,14,15,16,17,18,19,20]),dIe=["aw","fw","pull-left","pull-right"],uIe=[].concat(oh(Object.keys(iIe)),lIe,dIe,["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","inverse","layers","layers-bottom-left","layers-bottom-right","layers-counter","layers-text","layers-top-left","layers-top-right","li","pull-end","pull-start","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","width-auto","width-fixed",Zb.GROUP,Zb.SWAP_OPACITY,Zb.PRIMARY,Zb.SECONDARY]).concat(uY.map(function(e){return"".concat(e,"x")})).concat(cIe.map(function(e){return"w-".concat(e)})),fIe={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},im="___FONT_AWESOME___",BE=16,fY="fa",hY="svg-inline--fa",Gp="data-fa-i2svg",TE="data-fa-pseudo-element",hIe="data-fa-pseudo-element-pending",AF="data-prefix",mF="data-icon",jU="fontawesome-i2svg",AIe="async",mIe=["HTML","HEAD","STYLE","SCRIPT"],AY=["::before","::after",":before",":after"],mY=(function(){try{return!0}catch{return!1}})();function v2(e){return new Proxy(e,{get:function(r,a){return a in r?r[a]:r[xc]}})}var pY=Tr({},KW);pY[xc]=Tr(Tr(Tr(Tr({},{"fa-duotone":"duotone"}),KW[xc]),wU.kit),wU["kit-duotone"]);var pIe=v2(pY),FE=Tr({},mke);FE[xc]=Tr(Tr(Tr(Tr({},{duotone:"fad"}),FE[xc]),NU.kit),NU["kit-duotone"]);var SU=v2(FE),_E=Tr({},EE);_E[xc]=Tr(Tr({},_E[xc]),Nke.kit);var pF=v2(_E),kE=Tr({},sIe);kE[xc]=Tr(Tr({},kE[xc]),bke.kit);v2(kE);var gIe=G_e,gY="fa-layers-text",xIe=W_e,yIe=Tr({},fke);v2(yIe);var vIe=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],hC=Y_e,bIe=[].concat(oh(pke),oh(uIe)),Ky=C0.FontAwesomeConfig||{};function wIe(e){var t=Ci.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}function NIe(e){return e===""?!0:e==="false"?!1:e==="true"?!0:e}if(Ci&&typeof Ci.querySelector=="function"){var jIe=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-search-pseudo-elements","searchPseudoElements"],["data-search-pseudo-elements-warnings","searchPseudoElementsWarnings"],["data-search-pseudo-elements-full-scan","searchPseudoElementsFullScan"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];jIe.forEach(function(e){var t=fN(e,2),r=t[0],a=t[1],s=NIe(wIe(r));s!=null&&(Ky[a]=s)})}var xY={styleDefault:"solid",familyDefault:xc,cssPrefix:fY,replacementClass:hY,autoReplaceSvg:!0,autoAddCss:!0,searchPseudoElements:!1,searchPseudoElementsWarnings:!0,searchPseudoElementsFullScan:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Ky.familyPrefix&&(Ky.cssPrefix=Ky.familyPrefix);var Mx=Tr(Tr({},xY),Ky);Mx.autoReplaceSvg||(Mx.observeMutations=!1);var wa={};Object.keys(xY).forEach(function(e){Object.defineProperty(wa,e,{enumerable:!0,set:function(r){Mx[e]=r,Gy.forEach(function(a){return a(wa)})},get:function(){return Mx[e]}})});Object.defineProperty(wa,"familyPrefix",{enumerable:!0,set:function(t){Mx.cssPrefix=t,Gy.forEach(function(r){return r(wa)})},get:function(){return Mx.cssPrefix}});C0.FontAwesomeConfig=wa;var Gy=[];function SIe(e){return Gy.push(e),function(){Gy.splice(Gy.indexOf(e),1)}}var zg=BE,zh={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function CIe(e){if(!(!e||!Am)){var t=Ci.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var r=Ci.head.childNodes,a=null,s=r.length-1;s>-1;s--){var i=r[s],o=(i.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(a=i)}return Ci.head.insertBefore(t,a),e}}var EIe="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function CU(){for(var e=12,t="";e-- >0;)t+=EIe[Math.random()*62|0];return t}function u1(e){for(var t=[],r=(e||[]).length>>>0;r--;)t[r]=e[r];return t}function gF(e){return e.classList?u1(e.classList):(e.getAttribute("class")||"").split(" ").filter(function(t){return t})}function yY(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function BIe(e){return Object.keys(e||{}).reduce(function(t,r){return t+"".concat(r,'="').concat(yY(e[r]),'" ')},"").trim()}function hN(e){return Object.keys(e||{}).reduce(function(t,r){return t+"".concat(r,": ").concat(e[r].trim(),";")},"")}function xF(e){return e.size!==zh.size||e.x!==zh.x||e.y!==zh.y||e.rotate!==zh.rotate||e.flipX||e.flipY}function TIe(e){var t=e.transform,r=e.containerWidth,a=e.iconWidth,s={transform:"translate(".concat(r/2," 256)")},i="translate(".concat(t.x*32,", ").concat(t.y*32,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),l="rotate(".concat(t.rotate," 0 0)"),c={transform:"".concat(i," ").concat(o," ").concat(l)},u={transform:"translate(".concat(a/2*-1," -256)")};return{outer:s,inner:c,path:u}}function FIe(e){var t=e.transform,r=e.width,a=r===void 0?BE:r,s=e.height,i=s===void 0?BE:s,o="";return qW?o+="translate(".concat(t.x/zg-a/2,"em, ").concat(t.y/zg-i/2,"em) "):o+="translate(calc(-50% + ".concat(t.x/zg,"em), calc(-50% + ").concat(t.y/zg,"em)) "),o+="scale(".concat(t.size/zg*(t.flipX?-1:1),", ").concat(t.size/zg*(t.flipY?-1:1),") "),o+="rotate(".concat(t.rotate,"deg) "),o}var _Ie=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 7 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 7 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 7 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 7 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 7 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 7 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-slab-regular: normal 400 1em/1 "Font Awesome 7 Slab";
  --fa-font-slab-press-regular: normal 400 1em/1 "Font Awesome 7 Slab Press";
  --fa-font-whiteboard-semibold: normal 600 1em/1 "Font Awesome 7 Whiteboard";
  --fa-font-thumbprint-light: normal 300 1em/1 "Font Awesome 7 Thumbprint";
  --fa-font-notdog-solid: normal 900 1em/1 "Font Awesome 7 Notdog";
  --fa-font-notdog-duo-solid: normal 900 1em/1 "Font Awesome 7 Notdog Duo";
  --fa-font-etch-solid: normal 900 1em/1 "Font Awesome 7 Etch";
  --fa-font-jelly-regular: normal 400 1em/1 "Font Awesome 7 Jelly";
  --fa-font-jelly-fill-regular: normal 400 1em/1 "Font Awesome 7 Jelly Fill";
  --fa-font-jelly-duo-regular: normal 400 1em/1 "Font Awesome 7 Jelly Duo";
  --fa-font-chisel-regular: normal 400 1em/1 "Font Awesome 7 Chisel";
}

.svg-inline--fa {
  box-sizing: content-box;
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
  width: var(--fa-width, 1.25em);
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285714em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left,
.svg-inline--fa .fa-pull-start {
  float: inline-start;
  margin-inline-end: var(--fa-pull-margin, 0.3em);
}
.svg-inline--fa.fa-pull-right,
.svg-inline--fa .fa-pull-end {
  float: inline-end;
  margin-inline-start: var(--fa-pull-margin, 0.3em);
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));
  inset-block-start: 0.25em; /* syncing vertical alignment with Web Font rendering */
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: var(--fa-width, 1.25em);
}
.fa-layers .svg-inline--fa {
  inset: 0;
  margin: auto;
  position: absolute;
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: calc(10 / 16 * 1em); /* converts a 10px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 10 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 10 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-xs {
  font-size: calc(12 / 16 * 1em); /* converts a 12px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 12 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 12 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-sm {
  font-size: calc(14 / 16 * 1em); /* converts a 14px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 14 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 14 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-lg {
  font-size: calc(20 / 16 * 1em); /* converts a 20px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 20 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 20 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-xl {
  font-size: calc(24 / 16 * 1em); /* converts a 24px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 24 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 24 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-2xl {
  font-size: calc(32 / 16 * 1em); /* converts a 32px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 32 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 32 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-width-auto {
  --fa-width: auto;
}

.fa-fw,
.fa-width-fixed {
  --fa-width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-inline-start: var(--fa-li-margin, 2.5em);
  padding-inline-start: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

/* Heads Up: Bordered Icons will not be supported in the future!
  - This feature will be deprecated in the next major release of Font Awesome (v8)!
  - You may continue to use it in this version *v7), but it will not be supported in Font Awesome v8.
*/
/* Notes:
* --@{v.$css-prefix}-border-width = 1/16 by default (to render as ~1px based on a 16px default font-size)
* --@{v.$css-prefix}-border-padding =
  ** 3/16 for vertical padding (to give ~2px of vertical whitespace around an icon considering it's vertical alignment)
  ** 4/16 for horizontal padding (to give ~4px of horizontal whitespace around an icon)
*/
.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.0625em);
  box-sizing: var(--fa-border-box-sizing, content-box);
  padding: var(--fa-border-padding, 0.1875em 0.25em);
}

.fa-pull-left,
.fa-pull-start {
  float: inline-start;
  margin-inline-end: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right,
.fa-pull-end {
  float: inline-end;
  margin-inline-start: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
  .fa-bounce,
  .fa-fade,
  .fa-beat-fade,
  .fa-flip,
  .fa-pulse,
  .fa-shake,
  .fa-spin,
  .fa-spin-pulse {
    animation: none !important;
    transition: none !important;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.svg-inline--fa.fa-inverse {
  fill: var(--fa-inverse, #fff);
}

.fa-stack {
  display: inline-block;
  height: 2em;
  line-height: 2em;
  position: relative;
  vertical-align: middle;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.svg-inline--fa.fa-stack-1x {
  --fa-width: 1.25em;
  height: 1em;
  width: var(--fa-width);
}
.svg-inline--fa.fa-stack-2x {
  --fa-width: 2.5em;
  height: 2em;
  width: var(--fa-width);
}

.fa-stack-1x,
.fa-stack-2x {
  inset: 0;
  margin: auto;
  position: absolute;
  z-index: var(--fa-stack-z-index, auto);
}`;function vY(){var e=fY,t=hY,r=wa.cssPrefix,a=wa.replacementClass,s=_Ie;if(r!==e||a!==t){var i=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),l=new RegExp("\\.".concat(t),"g");s=s.replace(i,".".concat(r,"-")).replace(o,"--".concat(r,"-")).replace(l,".".concat(a))}return s}var EU=!1;function AC(){wa.autoAddCss&&!EU&&(CIe(vY()),EU=!0)}var kIe={mixout:function(){return{dom:{css:vY,insertCss:AC}}},hooks:function(){return{beforeDOMElementCreation:function(){AC()},beforeI2svg:function(){AC()}}}},om=C0||{};om[im]||(om[im]={});om[im].styles||(om[im].styles={});om[im].hooks||(om[im].hooks={});om[im].shims||(om[im].shims=[]);var th=om[im],bY=[],wY=function(){Ci.removeEventListener("DOMContentLoaded",wY),G4=1,bY.map(function(t){return t()})},G4=!1;Am&&(G4=(Ci.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Ci.readyState),G4||Ci.addEventListener("DOMContentLoaded",wY));function IIe(e){Am&&(G4?setTimeout(e,0):bY.push(e))}function b2(e){var t=e.tag,r=e.attributes,a=r===void 0?{}:r,s=e.children,i=s===void 0?[]:s;return typeof e=="string"?yY(e):"<".concat(t," ").concat(BIe(a),">").concat(i.map(b2).join(""),"</").concat(t,">")}function BU(e,t,r){if(e&&e[t]&&e[t][r])return{prefix:t,iconName:r,icon:e[t][r]}}var mC=function(t,r,a,s){var i=Object.keys(t),o=i.length,l=r,c,u,d;for(a===void 0?(c=1,d=t[i[0]]):(c=0,d=a);c<o;c++)u=i[c],d=l(d,t[u],u,t);return d};function NY(e){return oh(e).length!==1?null:e.codePointAt(0).toString(16)}function TU(e){return Object.keys(e).reduce(function(t,r){var a=e[r],s=!!a.icon;return s?t[a.iconName]=a.icon:t[r]=a,t},{})}function IE(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=r.skipHooks,s=a===void 0?!1:a,i=TU(t);typeof th.hooks.addPack=="function"&&!s?th.hooks.addPack(e,TU(t)):th.styles[e]=Tr(Tr({},th.styles[e]||{}),i),e==="fas"&&IE("fa",t)}var Iv=th.styles,PIe=th.shims,jY=Object.keys(pF),LIe=jY.reduce(function(e,t){return e[t]=Object.keys(pF[t]),e},{}),yF=null,SY={},CY={},EY={},BY={},TY={};function OIe(e){return~bIe.indexOf(e)}function DIe(e,t){var r=t.split("-"),a=r[0],s=r.slice(1).join("-");return a===e&&s!==""&&!OIe(s)?s:null}var FY=function(){var t=function(i){return mC(Iv,function(o,l,c){return o[c]=mC(l,i,{}),o},{})};SY=t(function(s,i,o){if(i[3]&&(s[i[3]]=o),i[2]){var l=i[2].filter(function(c){return typeof c=="number"});l.forEach(function(c){s[c.toString(16)]=o})}return s}),CY=t(function(s,i,o){if(s[o]=o,i[2]){var l=i[2].filter(function(c){return typeof c=="string"});l.forEach(function(c){s[c]=o})}return s}),TY=t(function(s,i,o){var l=i[2];return s[o]=o,l.forEach(function(c){s[c]=o}),s});var r="far"in Iv||wa.autoFetchSvg,a=mC(PIe,function(s,i){var o=i[0],l=i[1],c=i[2];return l==="far"&&!r&&(l="fas"),typeof o=="string"&&(s.names[o]={prefix:l,iconName:c}),typeof o=="number"&&(s.unicodes[o.toString(16)]={prefix:l,iconName:c}),s},{names:{},unicodes:{}});EY=a.names,BY=a.unicodes,yF=AN(wa.styleDefault,{family:wa.familyDefault})};SIe(function(e){yF=AN(e.styleDefault,{family:wa.familyDefault})});FY();function vF(e,t){return(SY[e]||{})[t]}function MIe(e,t){return(CY[e]||{})[t]}function wp(e,t){return(TY[e]||{})[t]}function _Y(e){return EY[e]||{prefix:null,iconName:null}}function UIe(e){var t=BY[e],r=vF("fas",e);return t||(r?{prefix:"fas",iconName:r}:null)||{prefix:null,iconName:null}}function E0(){return yF}var kY=function(){return{prefix:null,iconName:null,rest:[]}};function RIe(e){var t=xc,r=jY.reduce(function(a,s){return a[s]="".concat(wa.cssPrefix,"-").concat(s),a},{});return lY.forEach(function(a){(e.includes(r[a])||e.some(function(s){return LIe[a].includes(s)}))&&(t=a)}),t}function AN(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.family,a=r===void 0?xc:r,s=pIe[a][e];if(a===y2&&!e)return"fad";var i=SU[a][e]||SU[a][s],o=e in th.styles?e:null,l=i||o||null;return l}function QIe(e){var t=[],r=null;return e.forEach(function(a){var s=DIe(wa.cssPrefix,a);s?r=s:a&&t.push(a)}),{iconName:r,rest:t}}function FU(e){return e.sort().filter(function(t,r,a){return a.indexOf(t)===r})}var _U=dY.concat(cY);function mN(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.skipLookups,a=r===void 0?!1:r,s=null,i=FU(e.filter(function(h){return _U.includes(h)})),o=FU(e.filter(function(h){return!_U.includes(h)})),l=i.filter(function(h){return s=h,!GW.includes(h)}),c=fN(l,1),u=c[0],d=u===void 0?null:u,A=RIe(i),m=Tr(Tr({},QIe(o)),{},{prefix:AN(d,{family:A})});return Tr(Tr(Tr({},m),VIe({values:e,family:A,styles:Iv,config:wa,canonical:m,givenPrefix:s})),HIe(a,s,m))}function HIe(e,t,r){var a=r.prefix,s=r.iconName;if(e||!a||!s)return{prefix:a,iconName:s};var i=t==="fa"?_Y(s):{},o=wp(a,s);return s=i.iconName||o||s,a=i.prefix||a,a==="far"&&!Iv.far&&Iv.fas&&!wa.autoFetchSvg&&(a="fas"),{prefix:a,iconName:s}}var $Ie=lY.filter(function(e){return e!==xc||e!==y2}),zIe=Object.keys(EE).filter(function(e){return e!==xc}).map(function(e){return Object.keys(EE[e])}).flat();function VIe(e){var t=e.values,r=e.family,a=e.canonical,s=e.givenPrefix,i=s===void 0?"":s,o=e.styles,l=o===void 0?{}:o,c=e.config,u=c===void 0?{}:c,d=r===y2,A=t.includes("fa-duotone")||t.includes("fad"),m=u.familyDefault==="duotone",h=a.prefix==="fad"||a.prefix==="fa-duotone";if(!d&&(A||m||h)&&(a.prefix="fad"),(t.includes("fa-brands")||t.includes("fab"))&&(a.prefix="fab"),!a.prefix&&$Ie.includes(r)){var y=Object.keys(l).find(function(v){return zIe.includes(v)});if(y||u.autoFetchSvg){var x=Ake.get(r).defaultShortPrefixId;a.prefix=x,a.iconName=wp(a.prefix,a.iconName)||a.iconName}}return(a.prefix==="fa"||i==="fa")&&(a.prefix=E0()||"fas"),a}var qIe=(function(){function e(){U_e(this,e),this.definitions={}}return Q_e(e,[{key:"add",value:function(){for(var r=this,a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];var o=s.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(l){r.definitions[l]=Tr(Tr({},r.definitions[l]||{}),o[l]),IE(l,o[l]);var c=pF[xc][l];c&&IE(c,o[l]),FY()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(r,a){var s=a.prefix&&a.iconName&&a.icon?{0:a}:a;return Object.keys(s).map(function(i){var o=s[i],l=o.prefix,c=o.iconName,u=o.icon,d=u[2];r[l]||(r[l]={}),d.length>0&&d.forEach(function(A){typeof A=="string"&&(r[l][A]=u)}),r[l][c]=u}),r}}])})(),kU=[],ix={},Nx={},KIe=Object.keys(Nx);function GIe(e,t){var r=t.mixoutsTo;return kU=e,ix={},Object.keys(Nx).forEach(function(a){KIe.indexOf(a)===-1&&delete Nx[a]}),kU.forEach(function(a){var s=a.mixout?a.mixout():{};if(Object.keys(s).forEach(function(o){typeof s[o]=="function"&&(r[o]=s[o]),K4(s[o])==="object"&&Object.keys(s[o]).forEach(function(l){r[o]||(r[o]={}),r[o][l]=s[o][l]})}),a.hooks){var i=a.hooks();Object.keys(i).forEach(function(o){ix[o]||(ix[o]=[]),ix[o].push(i[o])})}a.provides&&a.provides(Nx)}),r}function PE(e,t){for(var r=arguments.length,a=new Array(r>2?r-2:0),s=2;s<r;s++)a[s-2]=arguments[s];var i=ix[e]||[];return i.forEach(function(o){t=o.apply(null,[t].concat(a))}),t}function Wp(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];var s=ix[e]||[];s.forEach(function(i){i.apply(null,r)})}function B0(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return Nx[e]?Nx[e].apply(null,t):void 0}function LE(e){e.prefix==="fa"&&(e.prefix="fas");var t=e.iconName,r=e.prefix||E0();if(t)return t=wp(r,t)||t,BU(IY.definitions,r,t)||BU(th.styles,r,t)}var IY=new qIe,WIe=function(){wa.autoReplaceSvg=!1,wa.observeMutations=!1,Wp("noAuto")},YIe={i2svg:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Am?(Wp("beforeI2svg",t),B0("pseudoElements2svg",t),B0("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.autoReplaceSvgRoot;wa.autoReplaceSvg===!1&&(wa.autoReplaceSvg=!0),wa.observeMutations=!0,IIe(function(){JIe({autoReplaceSvgRoot:r}),Wp("watch",t)})}},XIe={icon:function(t){if(t===null)return null;if(K4(t)==="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:wp(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){var r=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],a=AN(t[0]);return{prefix:a,iconName:wp(a,r)||r}}if(typeof t=="string"&&(t.indexOf("".concat(wa.cssPrefix,"-"))>-1||t.match(gIe))){var s=mN(t.split(" "),{skipLookups:!0});return{prefix:s.prefix||E0(),iconName:wp(s.prefix,s.iconName)||s.iconName}}if(typeof t=="string"){var i=E0();return{prefix:i,iconName:wp(i,t)||t}}}},Ou={noAuto:WIe,config:wa,dom:YIe,parse:XIe,library:IY,findIconDefinition:LE,toHtml:b2},JIe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.autoReplaceSvgRoot,a=r===void 0?Ci:r;(Object.keys(th.styles).length>0||wa.autoFetchSvg)&&Am&&wa.autoReplaceSvg&&Ou.dom.i2svg({node:a})};function pN(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(function(a){return b2(a)})}}),Object.defineProperty(e,"node",{get:function(){if(Am){var a=Ci.createElement("div");return a.innerHTML=e.html,a.children}}}),e}function ZIe(e){var t=e.children,r=e.main,a=e.mask,s=e.attributes,i=e.styles,o=e.transform;if(xF(o)&&r.found&&!a.found){var l=r.width,c=r.height,u={x:l/c/2,y:.5};s.style=hN(Tr(Tr({},i),{},{"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")}))}return[{tag:"svg",attributes:s,children:t}]}function ePe(e){var t=e.prefix,r=e.iconName,a=e.children,s=e.attributes,i=e.symbol,o=i===!0?"".concat(t,"-").concat(wa.cssPrefix,"-").concat(r):i;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Tr(Tr({},s),{},{id:o}),children:a}]}]}function tPe(e){var t=["aria-label","aria-labelledby","title","role"];return t.some(function(r){return r in e})}function bF(e){var t=e.icons,r=t.main,a=t.mask,s=e.prefix,i=e.iconName,o=e.transform,l=e.symbol,c=e.maskId,u=e.extra,d=e.watchable,A=d===void 0?!1:d,m=a.found?a:r,h=m.width,y=m.height,x=[wa.replacementClass,i?"".concat(wa.cssPrefix,"-").concat(i):""].filter(function(k){return u.classes.indexOf(k)===-1}).filter(function(k){return k!==""||!!k}).concat(u.classes).join(" "),v={children:[],attributes:Tr(Tr({},u.attributes),{},{"data-prefix":s,"data-icon":i,class:x,role:u.attributes.role||"img",viewBox:"0 0 ".concat(h," ").concat(y)})};!tPe(u.attributes)&&!u.attributes["aria-hidden"]&&(v.attributes["aria-hidden"]="true"),A&&(v.attributes[Gp]="");var b=Tr(Tr({},v),{},{prefix:s,iconName:i,main:r,mask:a,maskId:c,transform:o,symbol:l,styles:Tr({},u.styles)}),j=a.found&&r.found?B0("generateAbstractMask",b)||{children:[],attributes:{}}:B0("generateAbstractIcon",b)||{children:[],attributes:{}},C=j.children,E=j.attributes;return b.children=C,b.attributes=E,l?ePe(b):ZIe(b)}function IU(e){var t=e.content,r=e.width,a=e.height,s=e.transform,i=e.extra,o=e.watchable,l=o===void 0?!1:o,c=Tr(Tr({},i.attributes),{},{class:i.classes.join(" ")});l&&(c[Gp]="");var u=Tr({},i.styles);xF(s)&&(u.transform=FIe({transform:s,width:r,height:a}),u["-webkit-transform"]=u.transform);var d=hN(u);d.length>0&&(c.style=d);var A=[];return A.push({tag:"span",attributes:c,children:[t]}),A}function rPe(e){var t=e.content,r=e.extra,a=Tr(Tr({},r.attributes),{},{class:r.classes.join(" ")}),s=hN(r.styles);s.length>0&&(a.style=s);var i=[];return i.push({tag:"span",attributes:a,children:[t]}),i}var pC=th.styles;function OE(e){var t=e[0],r=e[1],a=e.slice(4),s=fN(a,1),i=s[0],o=null;return Array.isArray(i)?o={tag:"g",attributes:{class:"".concat(wa.cssPrefix,"-").concat(hC.GROUP)},children:[{tag:"path",attributes:{class:"".concat(wa.cssPrefix,"-").concat(hC.SECONDARY),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(wa.cssPrefix,"-").concat(hC.PRIMARY),fill:"currentColor",d:i[1]}}]}:o={tag:"path",attributes:{fill:"currentColor",d:i}},{found:!0,width:t,height:r,icon:o}}var aPe={found:!1,width:512,height:512};function nPe(e,t){!mY&&!wa.showMissingIcons&&e&&console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}function DE(e,t){var r=t;return t==="fa"&&wa.styleDefault!==null&&(t=E0()),new Promise(function(a,s){if(r==="fa"){var i=_Y(e)||{};e=i.iconName||e,t=i.prefix||t}if(e&&t&&pC[t]&&pC[t][e]){var o=pC[t][e];return a(OE(o))}nPe(e,t),a(Tr(Tr({},aPe),{},{icon:wa.showMissingIcons&&e?B0("missingIconAbstract")||{}:{}}))})}var PU=function(){},ME=wa.measurePerformance&&Jb&&Jb.mark&&Jb.measure?Jb:{mark:PU,measure:PU},vy='FA "7.0.1"',sPe=function(t){return ME.mark("".concat(vy," ").concat(t," begins")),function(){return PY(t)}},PY=function(t){ME.mark("".concat(vy," ").concat(t," ends")),ME.measure("".concat(vy," ").concat(t),"".concat(vy," ").concat(t," begins"),"".concat(vy," ").concat(t," ends"))},wF={begin:sPe,end:PY},jw=function(){};function LU(e){var t=e.getAttribute?e.getAttribute(Gp):null;return typeof t=="string"}function iPe(e){var t=e.getAttribute?e.getAttribute(AF):null,r=e.getAttribute?e.getAttribute(mF):null;return t&&r}function oPe(e){return e&&e.classList&&e.classList.contains&&e.classList.contains(wa.replacementClass)}function lPe(){if(wa.autoReplaceSvg===!0)return Sw.replace;var e=Sw[wa.autoReplaceSvg];return e||Sw.replace}function cPe(e){return Ci.createElementNS("http://www.w3.org/2000/svg",e)}function dPe(e){return Ci.createElement(e)}function LY(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.ceFn,a=r===void 0?e.tag==="svg"?cPe:dPe:r;if(typeof e=="string")return Ci.createTextNode(e);var s=a(e.tag);Object.keys(e.attributes||[]).forEach(function(o){s.setAttribute(o,e.attributes[o])});var i=e.children||[];return i.forEach(function(o){s.appendChild(LY(o,{ceFn:a}))}),s}function uPe(e){var t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}var Sw={replace:function(t){var r=t[0];if(r.parentNode)if(t[1].forEach(function(s){r.parentNode.insertBefore(LY(s),r)}),r.getAttribute(Gp)===null&&wa.keepOriginalSource){var a=Ci.createComment(uPe(r));r.parentNode.replaceChild(a,r)}else r.remove()},nest:function(t){var r=t[0],a=t[1];if(~gF(r).indexOf(wa.replacementClass))return Sw.replace(t);var s=new RegExp("".concat(wa.cssPrefix,"-.*"));if(delete a[0].attributes.id,a[0].attributes.class){var i=a[0].attributes.class.split(" ").reduce(function(l,c){return c===wa.replacementClass||c.match(s)?l.toSvg.push(c):l.toNode.push(c),l},{toNode:[],toSvg:[]});a[0].attributes.class=i.toSvg.join(" "),i.toNode.length===0?r.removeAttribute("class"):r.setAttribute("class",i.toNode.join(" "))}var o=a.map(function(l){return b2(l)}).join(`
`);r.setAttribute(Gp,""),r.innerHTML=o}};function OU(e){e()}function OY(e,t){var r=typeof t=="function"?t:jw;if(e.length===0)r();else{var a=OU;wa.mutateApproach===AIe&&(a=C0.requestAnimationFrame||OU),a(function(){var s=lPe(),i=wF.begin("mutate");e.map(s),i(),r()})}}var NF=!1;function DY(){NF=!0}function UE(){NF=!1}var W4=null;function DU(e){if(bU&&wa.observeMutations){var t=e.treeCallback,r=t===void 0?jw:t,a=e.nodeCallback,s=a===void 0?jw:a,i=e.pseudoElementsCallback,o=i===void 0?jw:i,l=e.observeMutationsRoot,c=l===void 0?Ci:l;W4=new bU(function(u){if(!NF){var d=E0();u1(u).forEach(function(A){if(A.type==="childList"&&A.addedNodes.length>0&&!LU(A.addedNodes[0])&&(wa.searchPseudoElements&&o(A.target),r(A.target)),A.type==="attributes"&&A.target.parentNode&&wa.searchPseudoElements&&o([A.target],!0),A.type==="attributes"&&LU(A.target)&&~vIe.indexOf(A.attributeName))if(A.attributeName==="class"&&iPe(A.target)){var m=mN(gF(A.target)),h=m.prefix,y=m.iconName;A.target.setAttribute(AF,h||d),y&&A.target.setAttribute(mF,y)}else oPe(A.target)&&s(A.target)})}}),Am&&W4.observe(c,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function fPe(){W4&&W4.disconnect()}function hPe(e){var t=e.getAttribute("style"),r=[];return t&&(r=t.split(";").reduce(function(a,s){var i=s.split(":"),o=i[0],l=i.slice(1);return o&&l.length>0&&(a[o]=l.join(":").trim()),a},{})),r}function APe(e){var t=e.getAttribute("data-prefix"),r=e.getAttribute("data-icon"),a=e.innerText!==void 0?e.innerText.trim():"",s=mN(gF(e));return s.prefix||(s.prefix=E0()),t&&r&&(s.prefix=t,s.iconName=r),s.iconName&&s.prefix||(s.prefix&&a.length>0&&(s.iconName=MIe(s.prefix,e.innerText)||vF(s.prefix,NY(e.innerText))),!s.iconName&&wa.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=e.firstChild.data)),s}function mPe(e){var t=u1(e.attributes).reduce(function(r,a){return r.name!=="class"&&r.name!=="style"&&(r[a.name]=a.value),r},{});return t}function pPe(){return{iconName:null,prefix:null,transform:zh,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function MU(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},r=APe(e),a=r.iconName,s=r.prefix,i=r.rest,o=mPe(e),l=PE("parseNodeAttributes",{},e),c=t.styleParser?hPe(e):[];return Tr({iconName:a,prefix:s,transform:zh,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:c,attributes:o}},l)}var gPe=th.styles;function MY(e){var t=wa.autoReplaceSvg==="nest"?MU(e,{styleParser:!1}):MU(e);return~t.extra.classes.indexOf(gY)?B0("generateLayersText",e,t):B0("generateSvgReplacementMutation",e,t)}function xPe(){return[].concat(oh(cY),oh(dY))}function UU(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Am)return Promise.resolve();var r=Ci.documentElement.classList,a=function(A){return r.add("".concat(jU,"-").concat(A))},s=function(A){return r.remove("".concat(jU,"-").concat(A))},i=wa.autoFetchSvg?xPe():GW.concat(Object.keys(gPe));i.includes("fa")||i.push("fa");var o=[".".concat(gY,":not([").concat(Gp,"])")].concat(i.map(function(d){return".".concat(d,":not([").concat(Gp,"])")})).join(", ");if(o.length===0)return Promise.resolve();var l=[];try{l=u1(e.querySelectorAll(o))}catch{}if(l.length>0)a("pending"),s("complete");else return Promise.resolve();var c=wF.begin("onTree"),u=l.reduce(function(d,A){try{var m=MY(A);m&&d.push(m)}catch(h){mY||h.name==="MissingIcon"&&console.error(h)}return d},[]);return new Promise(function(d,A){Promise.all(u).then(function(m){OY(m,function(){a("active"),a("complete"),s("pending"),typeof t=="function"&&t(),c(),d()})}).catch(function(m){c(),A(m)})})}function yPe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;MY(e).then(function(r){r&&OY([r],t)})}function vPe(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=(t||{}).icon?t:LE(t||{}),s=r.mask;return s&&(s=(s||{}).icon?s:LE(s||{})),e(a,Tr(Tr({},r),{},{mask:s}))}}var bPe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.transform,s=a===void 0?zh:a,i=r.symbol,o=i===void 0?!1:i,l=r.mask,c=l===void 0?null:l,u=r.maskId,d=u===void 0?null:u,A=r.classes,m=A===void 0?[]:A,h=r.attributes,y=h===void 0?{}:h,x=r.styles,v=x===void 0?{}:x;if(t){var b=t.prefix,j=t.iconName,C=t.icon;return pN(Tr({type:"icon"},t),function(){return Wp("beforeDOMElementCreation",{iconDefinition:t,params:r}),bF({icons:{main:OE(C),mask:c?OE(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:b,iconName:j,transform:Tr(Tr({},zh),s),symbol:o,maskId:d,extra:{attributes:y,styles:v,classes:m}})})}},wPe={mixout:function(){return{icon:vPe(bPe)}},hooks:function(){return{mutationObserverCallbacks:function(r){return r.treeCallback=UU,r.nodeCallback=yPe,r}}},provides:function(t){t.i2svg=function(r){var a=r.node,s=a===void 0?Ci:a,i=r.callback,o=i===void 0?function(){}:i;return UU(s,o)},t.generateSvgReplacementMutation=function(r,a){var s=a.iconName,i=a.prefix,o=a.transform,l=a.symbol,c=a.mask,u=a.maskId,d=a.extra;return new Promise(function(A,m){Promise.all([DE(s,i),c.iconName?DE(c.iconName,c.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(h){var y=fN(h,2),x=y[0],v=y[1];A([r,bF({icons:{main:x,mask:v},prefix:i,iconName:s,transform:o,symbol:l,maskId:u,extra:d,watchable:!0})])}).catch(m)})},t.generateAbstractIcon=function(r){var a=r.children,s=r.attributes,i=r.main,o=r.transform,l=r.styles,c=hN(l);c.length>0&&(s.style=c);var u;return xF(o)&&(u=B0("generateAbstractTransformGrouping",{main:i,transform:o,containerWidth:i.width,iconWidth:i.width})),a.push(u||i.icon),{children:a,attributes:s}}}},NPe={mixout:function(){return{layer:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.classes,i=s===void 0?[]:s;return pN({type:"layer"},function(){Wp("beforeDOMElementCreation",{assembler:r,params:a});var o=[];return r(function(l){Array.isArray(l)?l.map(function(c){o=o.concat(c.abstract)}):o=o.concat(l.abstract)}),[{tag:"span",attributes:{class:["".concat(wa.cssPrefix,"-layers")].concat(oh(i)).join(" ")},children:o}]})}}}},jPe={mixout:function(){return{counter:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a.title;var s=a.classes,i=s===void 0?[]:s,o=a.attributes,l=o===void 0?{}:o,c=a.styles,u=c===void 0?{}:c;return pN({type:"counter",content:r},function(){return Wp("beforeDOMElementCreation",{content:r,params:a}),rPe({content:r.toString(),extra:{attributes:l,styles:u,classes:["".concat(wa.cssPrefix,"-layers-counter")].concat(oh(i))}})})}}}},SPe={mixout:function(){return{text:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.transform,i=s===void 0?zh:s,o=a.classes,l=o===void 0?[]:o,c=a.attributes,u=c===void 0?{}:c,d=a.styles,A=d===void 0?{}:d;return pN({type:"text",content:r},function(){return Wp("beforeDOMElementCreation",{content:r,params:a}),IU({content:r,transform:Tr(Tr({},zh),i),extra:{attributes:u,styles:A,classes:["".concat(wa.cssPrefix,"-layers-text")].concat(oh(l))}})})}}},provides:function(t){t.generateLayersText=function(r,a){var s=a.transform,i=a.extra,o=null,l=null;if(qW){var c=parseInt(getComputedStyle(r).fontSize,10),u=r.getBoundingClientRect();o=u.width/c,l=u.height/c}return Promise.resolve([r,IU({content:r.innerHTML,width:o,height:l,transform:s,extra:i,watchable:!0})])}}},UY=new RegExp('"',"ug"),RU=[1105920,1112319],QU=Tr(Tr(Tr(Tr({},{FontAwesome:{normal:"fas",400:"fas"}}),hke),fIe),wke),RE=Object.keys(QU).reduce(function(e,t){return e[t.toLowerCase()]=QU[t],e},{}),CPe=Object.keys(RE).reduce(function(e,t){var r=RE[t];return e[t]=r[900]||oh(Object.entries(r))[0][1],e},{});function EPe(e){var t=e.replace(UY,"");return NY(oh(t)[0]||"")}function BPe(e){var t=e.getPropertyValue("font-feature-settings").includes("ss01"),r=e.getPropertyValue("content"),a=r.replace(UY,""),s=a.codePointAt(0),i=s>=RU[0]&&s<=RU[1],o=a.length===2?a[0]===a[1]:!1;return i||o||t}function TPe(e,t){var r=e.replace(/^['"]|['"]$/g,"").toLowerCase(),a=parseInt(t),s=isNaN(a)?"normal":a;return(RE[r]||{})[s]||CPe[r]}function HU(e,t){var r="".concat(hIe).concat(t.replace(":","-"));return new Promise(function(a,s){if(e.getAttribute(r)!==null)return a();var i=u1(e.children),o=i.filter(function(D){return D.getAttribute(TE)===t})[0],l=C0.getComputedStyle(e,t),c=l.getPropertyValue("font-family"),u=c.match(xIe),d=l.getPropertyValue("font-weight"),A=l.getPropertyValue("content");if(o&&!u)return e.removeChild(o),a();if(u&&A!=="none"&&A!==""){var m=l.getPropertyValue("content"),h=TPe(c,d),y=EPe(m),x=u[0].startsWith("FontAwesome"),v=BPe(l),b=vF(h,y),j=b;if(x){var C=UIe(y);C.iconName&&C.prefix&&(b=C.iconName,h=C.prefix)}if(b&&!v&&(!o||o.getAttribute(AF)!==h||o.getAttribute(mF)!==j)){e.setAttribute(r,j),o&&e.removeChild(o);var E=pPe(),k=E.extra;k.attributes[TE]=t,DE(b,h).then(function(D){var L=bF(Tr(Tr({},E),{},{icons:{main:D,mask:kY()},prefix:h,iconName:j,extra:k,watchable:!0})),F=Ci.createElementNS("http://www.w3.org/2000/svg","svg");t==="::before"?e.insertBefore(F,e.firstChild):e.appendChild(F),F.outerHTML=L.map(function(Q){return b2(Q)}).join(`
`),e.removeAttribute(r),a()}).catch(s)}else a()}else a()})}function FPe(e){return Promise.all([HU(e,"::before"),HU(e,"::after")])}function _Pe(e){return e.parentNode!==document.head&&!~mIe.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(TE)&&(!e.parentNode||e.parentNode.tagName!=="svg")}var kPe=function(t){return!!t&&AY.some(function(r){return t.includes(r)})},IPe=function(t){if(!t)return[];var r=new Set,a=t.split(/,(?![^()]*\))/).map(function(c){return c.trim()});a=a.flatMap(function(c){return c.includes("(")?c:c.split(",").map(function(u){return u.trim()})});var s=Nw(a),i;try{for(s.s();!(i=s.n()).done;){var o=i.value;if(kPe(o)){var l=AY.reduce(function(c,u){return c.replace(u,"")},o);l!==""&&l!=="*"&&r.add(l)}}}catch(c){s.e(c)}finally{s.f()}return r};function $U(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Am){var r;if(t)r=e;else if(wa.searchPseudoElementsFullScan)r=e.querySelectorAll("*");else{var a=new Set,s=Nw(document.styleSheets),i;try{for(s.s();!(i=s.n()).done;){var o=i.value;try{var l=Nw(o.cssRules),c;try{for(l.s();!(c=l.n()).done;){var u=c.value,d=IPe(u.selectorText),A=Nw(d),m;try{for(A.s();!(m=A.n()).done;){var h=m.value;a.add(h)}}catch(x){A.e(x)}finally{A.f()}}}catch(x){l.e(x)}finally{l.f()}}catch(x){wa.searchPseudoElementsWarnings&&console.warn("Font Awesome: cannot parse stylesheet: ".concat(o.href," (").concat(x.message,`)
If it declares any Font Awesome CSS pseudo-elements, they will not be rendered as SVG icons. Add crossorigin="anonymous" to the <link>, enable searchPseudoElementsFullScan for slower but more thorough DOM parsing, or suppress this warning by setting searchPseudoElementsWarnings to false.`))}}}catch(x){s.e(x)}finally{s.f()}if(!a.size)return;var y=Array.from(a).join(", ");try{r=e.querySelectorAll(y)}catch{}}return new Promise(function(x,v){var b=u1(r).filter(_Pe).map(FPe),j=wF.begin("searchPseudoElements");DY(),Promise.all(b).then(function(){j(),UE(),x()}).catch(function(){j(),UE(),v()})})}}var PPe={hooks:function(){return{mutationObserverCallbacks:function(r){return r.pseudoElementsCallback=$U,r}}},provides:function(t){t.pseudoElements2svg=function(r){var a=r.node,s=a===void 0?Ci:a;wa.searchPseudoElements&&$U(s)}}},zU=!1,LPe={mixout:function(){return{dom:{unwatch:function(){DY(),zU=!0}}}},hooks:function(){return{bootstrap:function(){DU(PE("mutationObserverCallbacks",{}))},noAuto:function(){fPe()},watch:function(r){var a=r.observeMutationsRoot;zU?UE():DU(PE("mutationObserverCallbacks",{observeMutationsRoot:a}))}}}},VU=function(t){var r={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce(function(a,s){var i=s.toLowerCase().split("-"),o=i[0],l=i.slice(1).join("-");if(o&&l==="h")return a.flipX=!0,a;if(o&&l==="v")return a.flipY=!0,a;if(l=parseFloat(l),isNaN(l))return a;switch(o){case"grow":a.size=a.size+l;break;case"shrink":a.size=a.size-l;break;case"left":a.x=a.x-l;break;case"right":a.x=a.x+l;break;case"up":a.y=a.y-l;break;case"down":a.y=a.y+l;break;case"rotate":a.rotate=a.rotate+l;break}return a},r)},OPe={mixout:function(){return{parse:{transform:function(r){return VU(r)}}}},hooks:function(){return{parseNodeAttributes:function(r,a){var s=a.getAttribute("data-fa-transform");return s&&(r.transform=VU(s)),r}}},provides:function(t){t.generateAbstractTransformGrouping=function(r){var a=r.main,s=r.transform,i=r.containerWidth,o=r.iconWidth,l={transform:"translate(".concat(i/2," 256)")},c="translate(".concat(s.x*32,", ").concat(s.y*32,") "),u="scale(".concat(s.size/16*(s.flipX?-1:1),", ").concat(s.size/16*(s.flipY?-1:1),") "),d="rotate(".concat(s.rotate," 0 0)"),A={transform:"".concat(c," ").concat(u," ").concat(d)},m={transform:"translate(".concat(o/2*-1," -256)")},h={outer:l,inner:A,path:m};return{tag:"g",attributes:Tr({},h.outer),children:[{tag:"g",attributes:Tr({},h.inner),children:[{tag:a.icon.tag,children:a.icon.children,attributes:Tr(Tr({},a.icon.attributes),h.path)}]}]}}}},gC={x:0,y:0,width:"100%",height:"100%"};function qU(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function DPe(e){return e.tag==="g"?e.children:[e]}var MPe={hooks:function(){return{parseNodeAttributes:function(r,a){var s=a.getAttribute("data-fa-mask"),i=s?mN(s.split(" ").map(function(o){return o.trim()})):kY();return i.prefix||(i.prefix=E0()),r.mask=i,r.maskId=a.getAttribute("data-fa-mask-id"),r}}},provides:function(t){t.generateAbstractMask=function(r){var a=r.children,s=r.attributes,i=r.main,o=r.mask,l=r.maskId,c=r.transform,u=i.width,d=i.icon,A=o.width,m=o.icon,h=TIe({transform:c,containerWidth:A,iconWidth:u}),y={tag:"rect",attributes:Tr(Tr({},gC),{},{fill:"white"})},x=d.children?{children:d.children.map(qU)}:{},v={tag:"g",attributes:Tr({},h.inner),children:[qU(Tr({tag:d.tag,attributes:Tr(Tr({},d.attributes),h.path)},x))]},b={tag:"g",attributes:Tr({},h.outer),children:[v]},j="mask-".concat(l||CU()),C="clip-".concat(l||CU()),E={tag:"mask",attributes:Tr(Tr({},gC),{},{id:j,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[y,b]},k={tag:"defs",children:[{tag:"clipPath",attributes:{id:C},children:DPe(m)},E]};return a.push(k,{tag:"rect",attributes:Tr({fill:"currentColor","clip-path":"url(#".concat(C,")"),mask:"url(#".concat(j,")")},gC)}),{children:a,attributes:s}}}},UPe={provides:function(t){var r=!1;C0.matchMedia&&(r=C0.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){var a=[],s={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};a.push({tag:"path",attributes:Tr(Tr({},s),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=Tr(Tr({},i),{},{attributeName:"opacity"}),l={tag:"circle",attributes:Tr(Tr({},s),{},{cx:"256",cy:"364",r:"28"}),children:[]};return r||l.children.push({tag:"animate",attributes:Tr(Tr({},i),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Tr(Tr({},o),{},{values:"1;0;1;1;0;1;"})}),a.push(l),a.push({tag:"path",attributes:Tr(Tr({},s),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:r?[]:[{tag:"animate",attributes:Tr(Tr({},o),{},{values:"1;0;0;0;0;1;"})}]}),r||a.push({tag:"path",attributes:Tr(Tr({},s),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Tr(Tr({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:a}}}},RPe={hooks:function(){return{parseNodeAttributes:function(r,a){var s=a.getAttribute("data-fa-symbol"),i=s===null?!1:s===""?!0:s;return r.symbol=i,r}}}},QPe=[kIe,wPe,NPe,jPe,SPe,PPe,LPe,OPe,MPe,UPe,RPe];GIe(QPe,{mixoutsTo:Ou});Ou.noAuto;var HPe=Ou.config;Ou.library;Ou.dom;var RY=Ou.parse;Ou.findIconDefinition;Ou.toHtml;var $Pe=Ou.icon;Ou.layer;Ou.text;Ou.counter;function zPe(e){return e=e-0,e===e}function QY(e){return zPe(e)?e:(e=e.replaceAll(/[_-]+(.)?/g,(t,r)=>r?r.toUpperCase():""),e.charAt(0).toLowerCase()+e.slice(1))}function VPe(e){return e.charAt(0).toUpperCase()+e.slice(1)}var Vg=new Map,qPe=1e3;function KPe(e){if(Vg.has(e))return Vg.get(e);const t={};let r=0;const a=e.length;for(;r<a;){const s=e.indexOf(";",r),i=s===-1?a:s,o=e.slice(r,i).trim();if(o){const l=o.indexOf(":");if(l>0){const c=o.slice(0,l).trim(),u=o.slice(l+1).trim();if(c&&u){const d=QY(c);t[d.startsWith("webkit")?VPe(d):d]=u}}}r=i+1}if(Vg.size===qPe){const s=Vg.keys().next().value;s&&Vg.delete(s)}return Vg.set(e,t),t}function HY(e,t,r={}){if(typeof t=="string")return t;const a=(t.children||[]).map(u=>HY(e,u)),s=t.attributes||{},i={};for(const[u,d]of Object.entries(s))switch(!0){case u==="class":{i.className=d,delete s.class;break}case u==="style":{i.style=KPe(String(d));break}case u.startsWith("aria-"):case u.startsWith("data-"):{i[u.toLowerCase()]=d;break}default:i[QY(u)]=d}const{style:o,"aria-label":l,...c}=r;return o&&(i.style=i.style?{...i.style,...o}:o),l&&(i["aria-label"]=l,i["aria-hidden"]="false"),e(t.tag,{...c,...i},...a)}var KU=(e,t)=>{const r=S.useId();return e||(t?r:void 0)},GPe=class{constructor(e="react-fontawesome"){this.enabled=!1;let t=!1;try{t=typeof process<"u"&&!1}catch{}this.scope=e,this.enabled=t}log(...e){this.enabled&&console.log(`[${this.scope}]`,...e)}warn(...e){this.enabled&&console.warn(`[${this.scope}]`,...e)}error(...e){this.enabled&&console.error(`[${this.scope}]`,...e)}},WPe="searchPseudoElementsFullScan"in HPe?"7.0.0":"6.0.0",YPe=Number.parseInt(WPe)>=7,_A={beat:"fa-beat",fade:"fa-fade",beatFade:"fa-beat-fade",bounce:"fa-bounce",shake:"fa-shake",spin:"fa-spin",spinPulse:"fa-spin-pulse",spinReverse:"fa-spin-reverse",pulse:"fa-pulse"},XPe={left:"fa-pull-left",right:"fa-pull-right"},JPe={90:"fa-rotate-90",180:"fa-rotate-180",270:"fa-rotate-270"},ZPe={"2xs":"fa-2xs",xs:"fa-xs",sm:"fa-sm",lg:"fa-lg",xl:"fa-xl","2xl":"fa-2xl","1x":"fa-1x","2x":"fa-2x","3x":"fa-3x","4x":"fa-4x","5x":"fa-5x","6x":"fa-6x","7x":"fa-7x","8x":"fa-8x","9x":"fa-9x","10x":"fa-10x"},kA={border:"fa-border",fixedWidth:"fa-fw",flip:"fa-flip",flipHorizontal:"fa-flip-horizontal",flipVertical:"fa-flip-vertical",inverse:"fa-inverse",rotateBy:"fa-rotate-by",swapOpacity:"fa-swap-opacity",widthAuto:"fa-width-auto"};function e7e(e){const{beat:t,fade:r,beatFade:a,bounce:s,shake:i,spin:o,spinPulse:l,spinReverse:c,pulse:u,fixedWidth:d,inverse:A,border:m,flip:h,size:y,rotation:x,pull:v,swapOpacity:b,rotateBy:j,widthAuto:C,className:E}=e,k=[];return E&&k.push(...E.split(" ")),t&&k.push(_A.beat),r&&k.push(_A.fade),a&&k.push(_A.beatFade),s&&k.push(_A.bounce),i&&k.push(_A.shake),o&&k.push(_A.spin),c&&k.push(_A.spinReverse),l&&k.push(_A.spinPulse),u&&k.push(_A.pulse),d&&k.push(kA.fixedWidth),A&&k.push(kA.inverse),m&&k.push(kA.border),h===!0&&k.push(kA.flip),(h==="horizontal"||h==="both")&&k.push(kA.flipHorizontal),(h==="vertical"||h==="both")&&k.push(kA.flipVertical),y!=null&&k.push(ZPe[y]),x!=null&&x!==0&&k.push(JPe[x]),v!=null&&k.push(XPe[v]),b&&k.push(kA.swapOpacity),YPe&&(j&&k.push(kA.rotateBy),C&&k.push(kA.widthAuto)),k}var t7e=e=>typeof e=="object"&&"icon"in e&&!!e.icon;function GU(e){if(e)return t7e(e)?e:RY.icon(e)}function r7e(e){return Object.keys(e)}var WU=new GPe("FontAwesomeIcon"),$Y={border:!1,className:"",mask:void 0,maskId:void 0,fixedWidth:!1,inverse:!1,flip:!1,icon:void 0,listItem:!1,pull:void 0,pulse:!1,rotation:void 0,rotateBy:!1,size:void 0,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:void 0,transform:void 0,swapOpacity:!1,widthAuto:!1},a7e=new Set(Object.keys($Y)),vs=ya.forwardRef((e,t)=>{const r={...$Y,...e},{icon:a,mask:s,symbol:i,title:o,titleId:l,maskId:c,transform:u}=r,d=KU(c,!!s),A=KU(l,!!o),m=GU(a);if(!m)return WU.error("Icon lookup is undefined",a),null;const h=e7e(r),y=typeof u=="string"?RY.transform(u):u,x=GU(s),v=$Pe(m,{...h.length>0&&{classes:h},...y&&{transform:y},...x&&{mask:x},symbol:i,title:o,titleId:A,maskId:d});if(!v)return WU.error("Could not find icon",m),null;const{abstract:b}=v,j={ref:t};for(const C of r7e(r))a7e.has(C)||(j[C]=r[C]);return n7e(b[0],j)});vs.displayName="FontAwesomeIcon";var n7e=HY.bind(null,ya.createElement);/*!
 * Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */var s7e={prefix:"fab",iconName:"linkedin",icon:[448,512,[],"f08c","M416 32L31.9 32C14.3 32 0 46.5 0 64.3L0 447.7C0 465.5 14.3 480 31.9 480L416 480c17.6 0 32-14.5 32-32.3l0-383.4C448 46.5 433.6 32 416 32zM135.4 416l-66.4 0 0-213.8 66.5 0 0 213.8-.1 0zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77zM384.3 416l-66.4 0 0-104c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9l0 105.8-66.4 0 0-213.8 63.7 0 0 29.2 .9 0c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9l0 117.2z"]},i7e={prefix:"fab",iconName:"facebook",icon:[512,512,[62e3],"f09a","M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256C0 376 82.7 476.8 194.2 504.5l0-170.3-52.8 0 0-78.2 52.8 0 0-33.7c0-87.1 39.4-127.5 125-127.5 16.2 0 44.2 3.2 55.7 6.4l0 70.8c-6-.6-16.5-1-29.6-1-42 0-58.2 15.9-58.2 57.2l0 27.8 83.6 0-14.4 78.2-69.3 0 0 175.9C413.8 494.8 512 386.9 512 256z"]},o7e={prefix:"fab",iconName:"instagram",icon:[448,512,[],"f16d","M224.3 141a115 115 0 1 0 -.6 230 115 115 0 1 0 .6-230zm-.6 40.4a74.6 74.6 0 1 1 .6 149.2 74.6 74.6 0 1 1 -.6-149.2zm93.4-45.1a26.8 26.8 0 1 1 53.6 0 26.8 26.8 0 1 1 -53.6 0zm129.7 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM399 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"]},l7e={prefix:"fab",iconName:"whatsapp",icon:[448,512,[],"f232","M380.9 97.1c-41.9-42-97.7-65.1-157-65.1-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480 117.7 449.1c32.4 17.7 68.9 27 106.1 27l.1 0c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3 18.6-68.1-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1s56.2 81.2 56.1 130.5c0 101.8-84.9 184.6-186.6 184.6zM325.1 300.5c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8s-14.3 18-17.6 21.8c-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7 .9-6.9-.5-9.7s-12.5-30.1-17.1-41.2c-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2s-9.7 1.4-14.8 6.9c-5.1 5.6-19.4 19-19.4 46.3s19.9 53.7 22.6 57.4c2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4s4.6-24.1 3.2-26.4c-1.3-2.5-5-3.9-10.5-6.6z"]},c7e={prefix:"fab",iconName:"twitter",icon:[512,512,[],"f099","M459.4 151.7c.3 4.5 .3 9.1 .3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103l0-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53 51.7 63.7 129.3 105.3 216.4 109.8-1.6-7.8-2.6-15.9-2.6-24 0-57.8 46.8-104.9 104.9-104.9 30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3z"]};const d7e="/assets/Capture-CUW6gBsa.PNG",u7e="/assets/Capture2-CwHGBG9c.png",f7e="/assets/school1-CD8wMhyW.jpg",h7e="/assets/school2-CophQY_4.jpg",A7e="/assets/school3-CNkxgSjB.jpg";/*!
 * Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */var m7e={prefix:"fas",iconName:"calendar-check",icon:[448,512,[],"f274","M320 0c17.7 0 32 14.3 32 32l0 32 32 0c35.3 0 64 28.7 64 64l0 288c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 128C0 92.7 28.7 64 64 64l32 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32zm22 161.7c-10.7-7.8-25.7-5.4-33.5 5.3L189.1 331.2 137 279.1c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l72 72c5 5 11.9 7.5 18.8 7s13.4-4.1 17.5-9.8L347.3 195.2c7.8-10.7 5.4-25.7-5.3-33.5z"]},zY={prefix:"fas",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M48 64c-26.5 0-48 21.5-48 48 0 15.1 7.1 29.3 19.2 38.4l208 156c17.1 12.8 40.5 12.8 57.6 0l208-156c12.1-9.1 19.2-23.3 19.2-38.4 0-26.5-21.5-48-48-48L48 64zM0 196L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-188-198.4 148.8c-34.1 25.6-81.1 25.6-115.2 0L0 196z"]},VY={prefix:"fas",iconName:"bell",icon:[448,512,[128276,61602],"f0f3","M224 0c-17.7 0-32 14.3-32 32l0 3.2C119 50 64 114.6 64 192l0 21.7c0 48.1-16.4 94.8-46.4 132.4L7.8 358.3C2.7 364.6 0 372.4 0 380.5 0 400.1 15.9 416 35.5 416l376.9 0c19.6 0 35.5-15.9 35.5-35.5 0-8.1-2.7-15.9-7.8-22.2l-9.8-12.2C400.4 308.5 384 261.8 384 213.7l0-21.7c0-77.4-55-142-128-156.8l0-3.2c0-17.7-14.3-32-32-32zM162 464c7.1 27.6 32.2 48 62 48s54.9-20.4 62-48l-124 0z"]},p7e={prefix:"fas",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M256 0a256 256 0 1 1 0 512 256 256 0 1 1 0-512zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},g7e={prefix:"fas",iconName:"rocket",icon:[512,512,[],"f135","M128 320L24.5 320c-24.9 0-40.2-27.1-27.4-48.5L50 183.3C58.7 168.8 74.3 160 91.2 160l95 0c76.1-128.9 189.6-135.4 265.5-124.3 12.8 1.9 22.8 11.9 24.6 24.6 11.1 75.9 4.6 189.4-124.3 265.5l0 95c0 16.9-8.8 32.5-23.3 41.2l-88.2 52.9c-21.3 12.8-48.5-2.6-48.5-27.4L192 384c0-35.3-28.7-64-64-64l-.1 0zM400 160a48 48 0 1 0 -96 0 48 48 0 1 0 96 0z"]},x7e={prefix:"fas",iconName:"users",icon:[640,512,[],"f0c0","M320 16a104 104 0 1 1 0 208 104 104 0 1 1 0-208zM96 88a72 72 0 1 1 0 144 72 72 0 1 1 0-144zM0 416c0-70.7 57.3-128 128-128 12.8 0 25.2 1.9 36.9 5.4-32.9 36.8-52.9 85.4-52.9 138.6l0 16c0 11.4 2.4 22.2 6.7 32L32 480c-17.7 0-32-14.3-32-32l0-32zm521.3 64c4.3-9.8 6.7-20.6 6.7-32l0-16c0-53.2-20-101.8-52.9-138.6 11.7-3.5 24.1-5.4 36.9-5.4 70.7 0 128 57.3 128 128l0 32c0 17.7-14.3 32-32 32l-86.7 0zM472 160a72 72 0 1 1 144 0 72 72 0 1 1 -144 0zM160 432c0-88.4 71.6-160 160-160s160 71.6 160 160l0 16c0 17.7-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32l0-16z"]},y7e={prefix:"fas",iconName:"lightbulb",icon:[384,512,[128161],"f0eb","M292.9 384c7.3-22.3 21.9-42.5 38.4-59.9 32.7-34.4 52.7-80.9 52.7-132.1 0-106-86-192-192-192S0 86 0 192c0 51.2 20 97.7 52.7 132.1 16.5 17.4 31.2 37.6 38.4 59.9l201.7 0zM288 432l-192 0 0 16c0 44.2 35.8 80 80 80l32 0c44.2 0 80-35.8 80-80l0-16zM184 112c-39.8 0-72 32.2-72 72 0 13.3-10.7 24-24 24s-24-10.7-24-24c0-66.3 53.7-120 120-120 13.3 0 24 10.7 24 24s-10.7 24-24 24z"]},v7e={prefix:"fas",iconName:"chart-line",icon:[512,512,["line-chart"],"f201","M64 64c0-17.7-14.3-32-32-32S0 46.3 0 64L0 400c0 44.2 35.8 80 80 80l400 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L80 416c-8.8 0-16-7.2-16-16L64 64zm406.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L320 210.7 262.6 153.4c-12.5-12.5-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l73.4-73.4 57.4 57.4c12.5 12.5 32.8 12.5 45.3 0l128-128z"]},b7e={prefix:"fas",iconName:"mobile-screen-button",icon:[384,512,["mobile-alt"],"f3cd","M16 64C16 28.7 44.7 0 80 0L304 0c35.3 0 64 28.7 64 64l0 384c0 35.3-28.7 64-64 64L80 512c-35.3 0-64-28.7-64-64L16 64zm64 0l0 304 224 0 0-304-224 0zM192 472c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32z"]},w7e=b7e,N7e={prefix:"fas",iconName:"chart-bar",icon:[512,512,["bar-chart"],"f080","M32 32c17.7 0 32 14.3 32 32l0 336c0 8.8 7.2 16 16 16l400 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L80 480c-44.2 0-80-35.8-80-80L0 64C0 46.3 14.3 32 32 32zm96 64c0-17.7 14.3-32 32-32l192 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-192 0c-17.7 0-32-14.3-32-32zm32 80l128 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 112l256 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},j7e={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M55.1 73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L147.2 256 9.9 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192.5 301.3 329.9 438.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.8 256 375.1 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192.5 210.7 55.1 73.4z"]},S7e=j7e,C7e={prefix:"fas",iconName:"file-lines",icon:[384,512,[128441,128462,61686,"file-alt","file-text"],"f15c","M0 64C0 28.7 28.7 0 64 0L213.5 0c17 0 33.3 6.7 45.3 18.7L365.3 125.3c12 12 18.7 28.3 18.7 45.3L384 448c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64zm208-5.5l0 93.5c0 13.3 10.7 24 24 24L325.5 176 208 58.5zM120 256c-13.3 0-24 10.7-24 24s10.7 24 24 24l144 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-144 0zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24l144 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-144 0z"]},YU=C7e,E7e={prefix:"fas",iconName:"comments",icon:[576,512,[128490,61670],"f086","M384 144c0 97.2-86 176-192 176-26.7 0-52.1-5-75.2-14L35.2 349.2c-9.3 4.9-20.7 3.2-28.2-4.2s-9.2-18.9-4.2-28.2l35.6-67.2C14.3 220.2 0 183.6 0 144 0 46.8 86-32 192-32S384 46.8 384 144zm0 368c-94.1 0-172.4-62.1-188.8-144 120-1.5 224.3-86.9 235.8-202.7 83.3 19.2 145 88.3 145 170.7 0 39.6-14.3 76.2-38.4 105.6l35.6 67.2c4.9 9.3 3.2 20.7-4.2 28.2s-18.9 9.2-28.2 4.2L459.2 498c-23.1 9-48.5 14-75.2 14z"]},B7e={prefix:"fas",iconName:"circle-check",icon:[512,512,[61533,"check-circle"],"f058","M256 512a256 256 0 1 1 0-512 256 256 0 1 1 0 512zM374 145.7c-10.7-7.8-25.7-5.4-33.5 5.3L221.1 315.2 169 263.1c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l72 72c5 5 11.8 7.5 18.8 7s13.4-4.1 17.5-9.8L379.3 179.2c7.8-10.7 5.4-25.7-5.3-33.5z"]},Cw=B7e,qY={prefix:"fas",iconName:"phone",icon:[512,512,[128222,128379],"f095","M160.2 25C152.3 6.1 131.7-3.9 112.1 1.4l-5.5 1.5c-64.6 17.6-119.8 80.2-103.7 156.4 37.1 175 174.8 312.7 349.8 349.8 76.3 16.2 138.8-39.1 156.4-103.7l1.5-5.5c5.4-19.7-4.7-40.3-23.5-48.1l-97.3-40.5c-16.5-6.9-35.6-2.1-47 11.8l-38.6 47.2C233.9 335.4 177.3 277 144.8 205.3L189 169.3c13.9-11.3 18.6-30.4 11.8-47L160.2 25z"]},T7e={prefix:"fas",iconName:"leaf",icon:[512,512,[],"f06c","M471.3 6.7C477.7 .6 487-1.6 495.6 1.2 505.4 4.5 512 13.7 512 24l0 186.9c0 131.2-108.1 237.1-238.8 237.1-77 0-143.4-49.5-167.5-118.7-35.4 30.8-57.7 76.1-57.7 126.7 0 13.3-10.7 24-24 24S0 469.3 0 456C0 381.1 38.2 315.1 96.1 276.3 131.4 252.7 173.5 240 216 240l80 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-80 0c-39.7 0-77.3 8.8-111 24.5 23.3-70 89.2-120.5 167-120.5 66.4 0 115.8-22.1 148.7-44 19.2-12.8 35.5-28.1 50.7-45.3z"]},F7e={prefix:"fas",iconName:"bus",icon:[448,512,[128653],"f207","M96 0C43 0 0 43 0 96L0 384c0 29.8 20.4 54.9 48 62l0 34c0 17.7 14.3 32 32 32l16 0c17.7 0 32-14.3 32-32l0-32 192 0 0 32c0 17.7 14.3 32 32 32l16 0c17.7 0 32-14.3 32-32l0-34c27.6-7.1 48-32.2 48-62l0-288c0-53-43-96-96-96L96 0zM64 176c0-17.7 14.3-32 32-32l104 0 0 112-104 0c-17.7 0-32-14.3-32-32l0-48zm184 80l0-112 104 0c17.7 0 32 14.3 32 32l0 48c0 17.7-14.3 32-32 32l-104 0zM96 320a32 32 0 1 1 0 64 32 32 0 1 1 0-64zm256 0a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM152 72c0-13.3 10.7-24 24-24l96 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-96 0c-13.3 0-24-10.7-24-24z"]},_7e={prefix:"fas",iconName:"quote-left",icon:[448,512,[8220,"quote-left-alt"],"f10d","M0 216C0 149.7 53.7 96 120 96l8 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-8 0c-30.9 0-56 25.1-56 56l0 8 64 0c35.3 0 64 28.7 64 64l0 64c0 35.3-28.7 64-64 64l-64 0c-35.3 0-64-28.7-64-64L0 216zm256 0c0-66.3 53.7-120 120-120l8 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-8 0c-30.9 0-56 25.1-56 56l0 8 64 0c35.3 0 64 28.7 64 64l0 64c0 35.3-28.7 64-64 64l-64 0c-35.3 0-64-28.7-64-64l0-136z"]},k7e={prefix:"fas",iconName:"credit-card",icon:[512,512,[128179,62083,"credit-card-alt"],"f09d","M0 128l0 32 512 0 0-32c0-35.3-28.7-64-64-64L64 64C28.7 64 0 92.7 0 128zm0 80L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-176-512 0zM64 360c0-13.3 10.7-24 24-24l48 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-48 0c-13.3 0-24-10.7-24-24zm144 0c0-13.3 10.7-24 24-24l64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0c-13.3 0-24-10.7-24-24z"]},I7e={prefix:"fas",iconName:"file-invoice-dollar",icon:[384,512,[],"f571","M0 64C0 28.7 28.7 0 64 0L213.5 0c17 0 33.3 6.7 45.3 18.7L365.3 125.3c12 12 18.7 28.3 18.7 45.3L384 448c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64zm208-5.5l0 93.5c0 13.3 10.7 24 24 24L325.5 176 208 58.5zM64 88c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24s-10.7-24-24-24L88 64C74.7 64 64 74.7 64 88zm0 96c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-48 0c-13.3 0-24 10.7-24 24zm112 76l0 4c-28.8 .3-52 23.7-52 52.5 0 25.7 18.5 47.6 43.9 51.8l41.7 7c6 1 10.4 6.2 10.4 12.3 0 6.9-5.6 12.5-12.5 12.5L152 400c-11 0-20 9-20 20s9 20 20 20l24 0 0 4c0 11 9 20 20 20s20-9 20-20l0-4.7c25-4.1 44-25.7 44-51.8 0-25.7-18.5-47.6-43.9-51.8l-41.7-7c-6-1-10.4-6.2-10.4-12.3 0-6.9 5.6-12.5 12.5-12.5l47.5 0c11 0 20-9 20-20s-9-20-20-20l-8 0 0-4c0-11-9-20-20-20s-20 9-20 20z"]},P7e={prefix:"fas",iconName:"lock",icon:[384,512,[128274],"f023","M128 96l0 64 128 0 0-64c0-35.3-28.7-64-64-64s-64 28.7-64 64zM64 160l0-64C64 25.3 121.3-32 192-32S320 25.3 320 96l0 64c35.3 0 64 28.7 64 64l0 224c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 224c0-35.3 28.7-64 64-64z"]},L7e={prefix:"fas",iconName:"globe",icon:[512,512,[127760],"f0ac","M351.9 280l-190.9 0c2.9 64.5 17.2 123.9 37.5 167.4 11.4 24.5 23.7 41.8 35.1 52.4 11.2 10.5 18.9 12.2 22.9 12.2s11.7-1.7 22.9-12.2c11.4-10.6 23.7-28 35.1-52.4 20.3-43.5 34.6-102.9 37.5-167.4zM160.9 232l190.9 0C349 167.5 334.7 108.1 314.4 64.6 303 40.2 290.7 22.8 279.3 12.2 268.1 1.7 260.4 0 256.4 0s-11.7 1.7-22.9 12.2c-11.4 10.6-23.7 28-35.1 52.4-20.3 43.5-34.6 102.9-37.5 167.4zm-48 0C116.4 146.4 138.5 66.9 170.8 14.7 78.7 47.3 10.9 131.2 1.5 232l111.4 0zM1.5 280c9.4 100.8 77.2 184.7 169.3 217.3-32.3-52.2-54.4-131.7-57.9-217.3L1.5 280zm398.4 0c-3.5 85.6-25.6 165.1-57.9 217.3 92.1-32.7 159.9-116.5 169.3-217.3l-111.4 0zm111.4-48C501.9 131.2 434.1 47.3 342 14.7 374.3 66.9 396.4 146.4 399.9 232l111.4 0z"]},O7e={prefix:"fas",iconName:"upload",icon:[448,512,[],"f093","M256 109.3L256 320c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-210.7-41.4 41.4c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l96-96c12.5-12.5 32.8-12.5 45.3 0l96 96c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L256 109.3zM224 400c44.2 0 80-35.8 80-80l80 0c35.3 0 64 28.7 64 64l0 32c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64l0-32c0-35.3 28.7-64 64-64l80 0c0 44.2 35.8 80 80 80zm144 24a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"]},D7e={prefix:"fas",iconName:"bolt",icon:[448,512,[9889,"zap"],"f0e7","M338.8-9.9c11.9 8.6 16.3 24.2 10.9 37.8L271.3 224 416 224c13.5 0 25.5 8.4 30.1 21.1s.7 26.9-9.6 35.5l-288 240c-11.3 9.4-27.4 9.9-39.3 1.3s-16.3-24.2-10.9-37.8L176.7 288 32 288c-13.5 0-25.5-8.4-30.1-21.1s-.7-26.9 9.6-35.5l288-240c11.3-9.4 27.4-9.9 39.3-1.3z"]},M7e={prefix:"fas",iconName:"location-dot",icon:[384,512,["map-marker-alt"],"f3c5","M0 188.6C0 84.4 86 0 192 0S384 84.4 384 188.6c0 119.3-120.2 262.3-170.4 316.8-11.8 12.8-31.5 12.8-43.3 0-50.2-54.5-170.4-197.5-170.4-316.8zM192 256a64 64 0 1 0 0-128 64 64 0 1 0 0 128z"]},KY=M7e,U7e={prefix:"fas",iconName:"book-open",icon:[512,512,[128214,128366],"f518","M256 141.3l0 309.3 .5-.2C311.1 427.7 369.7 416 428.8 416l19.2 0 0-320-19.2 0c-42.2 0-84.1 8.4-123.1 24.6-16.8 7-33.4 13.9-49.7 20.7zM230.9 61.5L256 72 281.1 61.5C327.9 42 378.1 32 428.8 32L464 32c26.5 0 48 21.5 48 48l0 352c0 26.5-21.5 48-48 48l-35.2 0c-50.7 0-100.9 10-147.7 29.5l-12.8 5.3c-7.9 3.3-16.7 3.3-24.6 0l-12.8-5.3C184.1 490 133.9 480 83.2 480L48 480c-26.5 0-48-21.5-48-48L0 80C0 53.5 21.5 32 48 32l35.2 0c50.7 0 100.9 10 147.7 29.5z"]},R7e={prefix:"fas",iconName:"money-bill",icon:[512,512,[],"f0d6","M64 64C28.7 64 0 92.7 0 128L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-256c0-35.3-28.7-64-64-64L64 64zm192 96a96 96 0 1 1 0 192 96 96 0 1 1 0-192zm192 24c0 4.4-3.6 8.1-8 7.5-29-3.6-51.9-26.6-55.5-55.5-.5-4.4 3.1-8 7.5-8l48 0c4.4 0 8 3.6 8 8l0 48zM64 328c0-4.4 3.6-8.1 8-7.5 29 3.6 51.9 26.6 55.5 55.5 .5 4.4-3.1 8-7.5 8l-48 0c-4.4 0-8-3.6-8-8l0-48zm8-136.5c-4.4 .5-8-3.1-8-7.5l0-48c0-4.4 3.6-8 8-8l48 0c4.4 0 8.1 3.6 7.5 8-3.6 29-26.6 51.9-55.5 55.5zm368 129c4.4-.5 8 3.1 8 7.5l0 48c0 4.4-3.6 8-8 8l-48 0c-4.4 0-8.1-3.6-7.5-8 3.6-29 26.6-51.9 55.5-55.5z"]};const Q7e=()=>{const e=[{icon:p7e,title:"Save Time with Automation",description:"Automate attendance, fee collection, and assignments to let educators focus on teaching."},{icon:VY,title:"Transparent Communication",description:"Real-time updates on homework, schedules, and events keep everyone connected."},{icon:x7e,title:"Stronger Parent Engagement",description:"Empower parents with instant access to their child's academic progress."},{icon:k7e,title:"Smart Fee Management",description:"Streamline payments with online options and automated reminders."},{icon:T7e,title:"Eco-Friendly",description:"Go paperless with secure cloud-based records to reduce environmental impact."},{icon:g7e,title:"Smarter Decision-Making",description:"Leverage analytics to drive growth and boost admissions."},{icon:w7e,title:"One App for All",description:"Unify parents, teachers, students, and management on one platform."}];return n.jsx("div",{className:"min-h-screen bg-white py-16 px-4 sm:px-8 lg:px-12 font-sans",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsxs("h2",{className:"text-4xl md:text-4xl font-bold mb-6 text-gray-800",children:["How ",n.jsx("span",{className:"text-orange-500",children:"Vidyaastra"})," Transforms Education"]}),n.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Discover innovative tools designed to enhance efficiency and engagement across your educational community."})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((t,r)=>n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md hover:shadow-lg transition-shadow duration-300 border border-gray-100",children:[n.jsx("div",{className:"w-14 h-14 bg-orange-100 rounded-lg flex items-center justify-center mb-4",children:n.jsx(vs,{icon:t.icon,className:"text-orange-500 text-2xl"})}),n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3",children:t.title}),n.jsx("p",{className:"text-gray-600",children:t.description})]},r))})]})})},H7e=()=>{const e=yc(),t=()=>{e("/contact")};return n.jsxs("section",{className:"bg-gradient-to-b from-gray-50 to-gray-100 py-16 px-4",children:[n.jsx("style",{children:`
        @keyframes fadeInUp {
          from { opacity: 0; transform: translateY(30px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeInUp { animation: fadeInUp 0.8s ease-out forwards; }
        .banner {
          position: relative;
          background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), 
                      url('https://images.unsplash.com/photo-1516321318423-f06f85e504b3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80');
          background-size: cover;
          background-position: center;
          border-radius: 1rem;
          padding: 3rem 2rem;
          display: flex;
          flex-direction: row;
          justify-content: space-between;
          align-items: center;
          min-height: 220px;
          color: white;
          width: 100%;
          box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
          overflow: hidden;
          margin-bottom: 2rem;
        }
        .banner-content h4 {
          font-size: 1.75rem;
          font-weight: 700;
          margin-bottom: 1rem;
          text-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
        }
        .banner-content p {
          font-size: 1.125rem;
          opacity: 0.9;
        }
        @media (max-width: 768px) {
          .banner {
            flex-direction: column;
            text-align: center;
            padding: 2rem;
          }
          .banner-content {
            max-width: 100%;
            margin-bottom: 1.5rem;
          }
        }
      `}),n.jsxs("div",{className:"text-center mb-12",children:[n.jsxs(ba.h1,{className:"text-4xl sm:text-4xl font-bold text-gray-900 mb-4 animate-fadeInUp",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},children:[n.jsx("span",{className:"text-orange-600",children:"Flexible & Affordable"})," Plans"]}),n.jsx(ba.p,{className:"text-lg sm:text-xl text-gray-500 max-w-3xl mx-auto leading-relaxed",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:"Choose a plan tailored to your school's needs, from small setups to large institutions. Contact us for custom pricing and demos."})]}),n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsxs(ba.div,{className:"banner",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:[n.jsxs(ba.div,{className:"banner-content",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.5},children:[n.jsx("h4",{children:"Not sure what Plan is best for you?"}),n.jsx("p",{children:"Our team is here to help you find the perfect plan."})]}),n.jsxs(ba.button,{whileHover:{scale:1.1,boxShadow:"0px 8px 20px rgba(249, 115, 22, 0.6)"},whileTap:{scale:.95},animate:{y:[0,-5,0]},transition:{repeat:1/0,repeatType:"mirror",duration:2,ease:"easeInOut"},onClick:t,className:"relative bg-gradient-to-r from-orange-500 to-orange-600 text-white px-8 py-3 rounded-xl font-bold text-lg shadow-md transition-all duration-300",children:[n.jsx("span",{className:"relative z-10",children:" Get in Touch"}),n.jsx("span",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700 ease-in-out"})]})]})})]})},GY=({isOpen:e,setIsOpen:t})=>{const[r,a]=S.useState(!1),[s,i]=S.useState({name:"",school:"",email:"",phone:"",message:""}),o=c=>{i({...s,[c.target.name]:c.target.value})},l=async c=>{c.preventDefault();try{(await Vt.post("http://localhost:5000/api/enquiries",s)).status===201&&(i({name:"",school:"",email:"",phone:"",message:""}),t(!1),a(!0),setTimeout(()=>{a(!1)},3e3))}catch(u){u.response&&alert(u.response.data.errors||u.response.data.message),console.log(u)}};return n.jsxs(n.Fragment,{children:[n.jsx(Tv,{children:e&&n.jsx(ba.div,{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-60 z-50",onClick:()=>t(!1),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:n.jsxs(ba.div,{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-4 sm:p-6 relative mx-auto",onClick:c=>c.stopPropagation(),initial:{scale:.8,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},exit:{scale:.8,opacity:0,y:50},transition:{duration:.4,ease:"easeOut"},children:[n.jsx("style",{children:`
                .input-field {
                  transition: all 0.3s ease;
                }
                .input-field:focus {
                  border-color: #f97316; /* orange-600 */
                  box-shadow: 0 0 0 3px rgba(234, 88, 12, 0.2);
                }
                .submit-button:hover {
                  transform: translateY(-2px);
                }
                .toast {
                  position: fixed;
                  top: 20px;
                  right: 20px;
                  background: #f97316; /* orange-600 */
                  color: white;
                  padding: 12px 24px;
                  border-radius: 8px;
                  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
                  z-index: 1000;
                }
              `}),n.jsx("button",{onClick:()=>t(!1),className:"absolute top-2 sm:top-4 right-2 sm:right-4 text-gray-500 hover:text-orange-600 text-xl",children:n.jsx(vs,{icon:S7e})}),n.jsx("div",{className:"flex justify-center mb-4 sm:mb-6",children:n.jsx("img",{src:Vx,alt:"Vidyaastra Logo",className:"h-10 sm:h-12 w-auto"})}),n.jsxs("h2",{className:"text-xl sm:text-2xl font-extrabold text-center text-gray-900 mb-4 sm:mb-6",children:[n.jsx("span",{className:"text-orange-600",children:"Enquiry"})," Form"]}),n.jsxs("form",{onSubmit:l,className:"space-y-4 sm:space-y-5",children:[n.jsx("div",{children:n.jsx("input",{type:"text",name:"name",value:s.name,onChange:o,required:!0,placeholder:"Enter your name",className:"input-field mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-orange-600 focus:border-orange-600 p-2 sm:p-3 text-gray-900 text-sm sm:text-base"})}),n.jsx("div",{children:n.jsx("input",{type:"text",name:"school",value:s.school,onChange:o,required:!0,placeholder:"Enter your school/institution name",className:"input-field mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-orange-600 focus:border-orange-600 p-2 sm:p-3 text-gray-900 text-sm sm:text-base"})}),n.jsx("div",{children:n.jsx("input",{type:"email",name:"email",value:s.email,onChange:o,required:!0,placeholder:"Enter your email",className:"input-field mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-orange-600 focus:border-orange-600 p-2 sm:p-3 text-gray-900 text-sm sm:text-base"})}),n.jsx("div",{children:n.jsx("input",{type:"tel",name:"phone",value:s.phone,onChange:o,required:!0,placeholder:"Enter your phone number",className:"input-field mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-orange-600 focus:border-orange-600 p-2 sm:p-3 text-gray-900 text-sm sm:text-base"})}),n.jsx("div",{children:n.jsx("textarea",{name:"message",value:s.message,onChange:o,rows:"3",required:!0,placeholder:"Enter your message",className:"input-field mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-orange-600 focus:border-orange-600 p-2 sm:p-3 text-gray-900 text-sm sm:text-base"})}),n.jsx("button",{type:"submit",className:"submit-button w-full bg-orange-600 hover:bg-orange-500 text-white font-bold py-2 sm:py-3 px-4 rounded-lg shadow-md transition duration-300 text-sm sm:text-base",children:"Submit Enquiry"})]})]})})}),n.jsx(Tv,{children:r&&n.jsx(ba.div,{className:"toast",initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},transition:{duration:.3},children:"Enquiry submitted successfully!"})})]})};function XU(e){return e!==null&&typeof e=="object"&&"constructor"in e&&e.constructor===Object}function jF(e,t){e===void 0&&(e={}),t===void 0&&(t={});const r=["__proto__","constructor","prototype"];Object.keys(t).filter(a=>r.indexOf(a)<0).forEach(a=>{typeof e[a]>"u"?e[a]=t[a]:XU(t[a])&&XU(e[a])&&Object.keys(t[a]).length>0&&jF(e[a],t[a])})}const WY={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Jh(){const e=typeof document<"u"?document:{};return jF(e,WY),e}const $7e={document:WY,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(e){return typeof setTimeout>"u"?(e(),null):setTimeout(e,0)},cancelAnimationFrame(e){typeof setTimeout>"u"||clearTimeout(e)}};function Cd(){const e=typeof window<"u"?window:{};return jF(e,$7e),e}function z7e(e){return e===void 0&&(e=""),e.trim().split(" ").filter(t=>!!t.trim())}function V7e(e){const t=e;Object.keys(t).forEach(r=>{try{t[r]=null}catch{}try{delete t[r]}catch{}})}function YY(e,t){return t===void 0&&(t=0),setTimeout(e,t)}function Y4(){return Date.now()}function q7e(e){const t=Cd();let r;return t.getComputedStyle&&(r=t.getComputedStyle(e,null)),!r&&e.currentStyle&&(r=e.currentStyle),r||(r=e.style),r}function K7e(e,t){t===void 0&&(t="x");const r=Cd();let a,s,i;const o=q7e(e);return r.WebKitCSSMatrix?(s=o.transform||o.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(l=>l.replace(",",".")).join(", ")),i=new r.WebKitCSSMatrix(s==="none"?"":s)):(i=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),a=i.toString().split(",")),t==="x"&&(r.WebKitCSSMatrix?s=i.m41:a.length===16?s=parseFloat(a[12]):s=parseFloat(a[4])),t==="y"&&(r.WebKitCSSMatrix?s=i.m42:a.length===16?s=parseFloat(a[13]):s=parseFloat(a[5])),s||0}function ew(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function G7e(e){return typeof window<"u"&&typeof window.HTMLElement<"u"?e instanceof HTMLElement:e&&(e.nodeType===1||e.nodeType===11)}function Eu(){const e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let r=1;r<arguments.length;r+=1){const a=r<0||arguments.length<=r?void 0:arguments[r];if(a!=null&&!G7e(a)){const s=Object.keys(Object(a)).filter(i=>t.indexOf(i)<0);for(let i=0,o=s.length;i<o;i+=1){const l=s[i],c=Object.getOwnPropertyDescriptor(a,l);c!==void 0&&c.enumerable&&(ew(e[l])&&ew(a[l])?a[l].__swiper__?e[l]=a[l]:Eu(e[l],a[l]):!ew(e[l])&&ew(a[l])?(e[l]={},a[l].__swiper__?e[l]=a[l]:Eu(e[l],a[l])):e[l]=a[l])}}}return e}function tw(e,t,r){e.style.setProperty(t,r)}function XY(e){let{swiper:t,targetPosition:r,side:a}=e;const s=Cd(),i=-t.translate;let o=null,l;const c=t.params.speed;t.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(t.cssModeFrameID);const u=r>i?"next":"prev",d=(m,h)=>u==="next"&&m>=h||u==="prev"&&m<=h,A=()=>{l=new Date().getTime(),o===null&&(o=l);const m=Math.max(Math.min((l-o)/c,1),0),h=.5-Math.cos(m*Math.PI)/2;let y=i+h*(r-i);if(d(y,r)&&(y=r),t.wrapperEl.scrollTo({[a]:y}),d(y,r)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[a]:y})}),s.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=s.requestAnimationFrame(A)};A()}function Vh(e,t){t===void 0&&(t="");const r=Cd(),a=[...e.children];return r.HTMLSlotElement&&e instanceof HTMLSlotElement&&a.push(...e.assignedElements()),t?a.filter(s=>s.matches(t)):a}function W7e(e,t){const r=[t];for(;r.length>0;){const a=r.shift();if(e===a)return!0;r.push(...a.children,...a.shadowRoot?a.shadowRoot.children:[],...a.assignedElements?a.assignedElements():[])}}function Y7e(e,t){const r=Cd();let a=t.contains(e);return!a&&r.HTMLSlotElement&&t instanceof HTMLSlotElement&&(a=[...t.assignedElements()].includes(e),a||(a=W7e(e,t))),a}function X4(e){try{console.warn(e);return}catch{}}function J4(e,t){t===void 0&&(t=[]);const r=document.createElement(e);return r.classList.add(...Array.isArray(t)?t:z7e(t)),r}function X7e(e,t){const r=[];for(;e.previousElementSibling;){const a=e.previousElementSibling;t?a.matches(t)&&r.push(a):r.push(a),e=a}return r}function J7e(e,t){const r=[];for(;e.nextElementSibling;){const a=e.nextElementSibling;t?a.matches(t)&&r.push(a):r.push(a),e=a}return r}function i0(e,t){return Cd().getComputedStyle(e,null).getPropertyValue(t)}function Z4(e){let t=e,r;if(t){for(r=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(r+=1);return r}}function JY(e,t){const r=[];let a=e.parentElement;for(;a;)t?a.matches(t)&&r.push(a):r.push(a),a=a.parentElement;return r}function QE(e,t,r){const a=Cd();return e[t==="width"?"offsetWidth":"offsetHeight"]+parseFloat(a.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-right":"margin-top"))+parseFloat(a.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-left":"margin-bottom"))}function IA(e){return(Array.isArray(e)?e:[e]).filter(t=>!!t)}function e5(e,t){t===void 0&&(t=""),typeof trustedTypes<"u"?e.innerHTML=trustedTypes.createPolicy("html",{createHTML:r=>r}).createHTML(t):e.innerHTML=t}let xC;function Z7e(){const e=Cd(),t=Jh();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}function ZY(){return xC||(xC=Z7e()),xC}let yC;function eLe(e){let{userAgent:t}=e===void 0?{}:e;const r=ZY(),a=Cd(),s=a.navigator.platform,i=t||a.navigator.userAgent,o={ios:!1,android:!1},l=a.screen.width,c=a.screen.height,u=i.match(/(Android);?[\s\/]+([\d.]+)?/);let d=i.match(/(iPad).*OS\s([\d_]+)/);const A=i.match(/(iPod)(.*OS\s([\d_]+))?/),m=!d&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),h=s==="Win32";let y=s==="MacIntel";const x=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&y&&r.touch&&x.indexOf(`${l}x${c}`)>=0&&(d=i.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),y=!1),u&&!h&&(o.os="android",o.android=!0),(d||m||A)&&(o.os="ios",o.ios=!0),o}function eX(e){return e===void 0&&(e={}),yC||(yC=eLe(e)),yC}let vC;function tLe(){const e=Cd(),t=eX();let r=!1;function a(){const l=e.navigator.userAgent.toLowerCase();return l.indexOf("safari")>=0&&l.indexOf("chrome")<0&&l.indexOf("android")<0}if(a()){const l=String(e.navigator.userAgent);if(l.includes("Version/")){const[c,u]=l.split("Version/")[1].split(" ")[0].split(".").map(d=>Number(d));r=c<16||c===16&&u<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent),i=a(),o=i||s&&t.ios;return{isSafari:r||i,needPerspectiveFix:r,need3dFix:o,isWebView:s}}function tX(){return vC||(vC=tLe()),vC}function rLe(e){let{swiper:t,on:r,emit:a}=e;const s=Cd();let i=null,o=null;const l=()=>{!t||t.destroyed||!t.initialized||(a("beforeResize"),a("resize"))},c=()=>{!t||t.destroyed||!t.initialized||(i=new ResizeObserver(A=>{o=s.requestAnimationFrame(()=>{const{width:m,height:h}=t;let y=m,x=h;A.forEach(v=>{let{contentBoxSize:b,contentRect:j,target:C}=v;C&&C!==t.el||(y=j?j.width:(b[0]||b).inlineSize,x=j?j.height:(b[0]||b).blockSize)}),(y!==m||x!==h)&&l()})}),i.observe(t.el))},u=()=>{o&&s.cancelAnimationFrame(o),i&&i.unobserve&&t.el&&(i.unobserve(t.el),i=null)},d=()=>{!t||t.destroyed||!t.initialized||a("orientationchange")};r("init",()=>{if(t.params.resizeObserver&&typeof s.ResizeObserver<"u"){c();return}s.addEventListener("resize",l),s.addEventListener("orientationchange",d)}),r("destroy",()=>{u(),s.removeEventListener("resize",l),s.removeEventListener("orientationchange",d)})}function aLe(e){let{swiper:t,extendParams:r,on:a,emit:s}=e;const i=[],o=Cd(),l=function(d,A){A===void 0&&(A={});const m=o.MutationObserver||o.WebkitMutationObserver,h=new m(y=>{if(t.__preventObserver__)return;if(y.length===1){s("observerUpdate",y[0]);return}const x=function(){s("observerUpdate",y[0])};o.requestAnimationFrame?o.requestAnimationFrame(x):o.setTimeout(x,0)});h.observe(d,{attributes:typeof A.attributes>"u"?!0:A.attributes,childList:t.isElement||(typeof A.childList>"u"?!0:A).childList,characterData:typeof A.characterData>"u"?!0:A.characterData}),i.push(h)},c=()=>{if(t.params.observer){if(t.params.observeParents){const d=JY(t.hostEl);for(let A=0;A<d.length;A+=1)l(d[A])}l(t.hostEl,{childList:t.params.observeSlideChildren}),l(t.wrapperEl,{attributes:!1})}},u=()=>{i.forEach(d=>{d.disconnect()}),i.splice(0,i.length)};r({observer:!1,observeParents:!1,observeSlideChildren:!1}),a("init",c),a("destroy",u)}var nLe={on(e,t,r){const a=this;if(!a.eventsListeners||a.destroyed||typeof t!="function")return a;const s=r?"unshift":"push";return e.split(" ").forEach(i=>{a.eventsListeners[i]||(a.eventsListeners[i]=[]),a.eventsListeners[i][s](t)}),a},once(e,t,r){const a=this;if(!a.eventsListeners||a.destroyed||typeof t!="function")return a;function s(){a.off(e,s),s.__emitterProxy&&delete s.__emitterProxy;for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];t.apply(a,o)}return s.__emitterProxy=t,a.on(e,s,r)},onAny(e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const a=t?"unshift":"push";return r.eventsAnyListeners.indexOf(e)<0&&r.eventsAnyListeners[a](e),r},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsAnyListeners)return t;const r=t.eventsAnyListeners.indexOf(e);return r>=0&&t.eventsAnyListeners.splice(r,1),t},off(e,t){const r=this;return!r.eventsListeners||r.destroyed||!r.eventsListeners||e.split(" ").forEach(a=>{typeof t>"u"?r.eventsListeners[a]=[]:r.eventsListeners[a]&&r.eventsListeners[a].forEach((s,i)=>{(s===t||s.__emitterProxy&&s.__emitterProxy===t)&&r.eventsListeners[a].splice(i,1)})}),r},emit(){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let t,r,a;for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return typeof i[0]=="string"||Array.isArray(i[0])?(t=i[0],r=i.slice(1,i.length),a=e):(t=i[0].events,r=i[0].data,a=i[0].context||e),r.unshift(a),(Array.isArray(t)?t:t.split(" ")).forEach(c=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(u=>{u.apply(a,[c,...r])}),e.eventsListeners&&e.eventsListeners[c]&&e.eventsListeners[c].forEach(u=>{u.apply(a,r)})}),e}};function sLe(){const e=this;let t,r;const a=e.el;typeof e.params.width<"u"&&e.params.width!==null?t=e.params.width:t=a.clientWidth,typeof e.params.height<"u"&&e.params.height!==null?r=e.params.height:r=a.clientHeight,!(t===0&&e.isHorizontal()||r===0&&e.isVertical())&&(t=t-parseInt(i0(a,"padding-left")||0,10)-parseInt(i0(a,"padding-right")||0,10),r=r-parseInt(i0(a,"padding-top")||0,10)-parseInt(i0(a,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(r)&&(r=0),Object.assign(e,{width:t,height:r,size:e.isHorizontal()?t:r}))}function iLe(){const e=this;function t(U,P){return parseFloat(U.getPropertyValue(e.getDirectionLabel(P))||0)}const r=e.params,{wrapperEl:a,slidesEl:s,size:i,rtlTranslate:o,wrongRTL:l}=e,c=e.virtual&&r.virtual.enabled,u=c?e.virtual.slides.length:e.slides.length,d=Vh(s,`.${e.params.slideClass}, swiper-slide`),A=c?e.virtual.slides.length:d.length;let m=[];const h=[],y=[];let x=r.slidesOffsetBefore;typeof x=="function"&&(x=r.slidesOffsetBefore.call(e));let v=r.slidesOffsetAfter;typeof v=="function"&&(v=r.slidesOffsetAfter.call(e));const b=e.snapGrid.length,j=e.slidesGrid.length;let C=r.spaceBetween,E=-x,k=0,D=0;if(typeof i>"u")return;typeof C=="string"&&C.indexOf("%")>=0?C=parseFloat(C.replace("%",""))/100*i:typeof C=="string"&&(C=parseFloat(C)),e.virtualSize=-C,d.forEach(U=>{o?U.style.marginLeft="":U.style.marginRight="",U.style.marginBottom="",U.style.marginTop=""}),r.centeredSlides&&r.cssMode&&(tw(a,"--swiper-centered-offset-before",""),tw(a,"--swiper-centered-offset-after",""));const L=r.grid&&r.grid.rows>1&&e.grid;L?e.grid.initSlides(d):e.grid&&e.grid.unsetSlides();let F;const Q=r.slidesPerView==="auto"&&r.breakpoints&&Object.keys(r.breakpoints).filter(U=>typeof r.breakpoints[U].slidesPerView<"u").length>0;for(let U=0;U<A;U+=1){F=0;let P;if(d[U]&&(P=d[U]),L&&e.grid.updateSlide(U,P,d),!(d[U]&&i0(P,"display")==="none")){if(r.slidesPerView==="auto"){Q&&(d[U].style[e.getDirectionLabel("width")]="");const I=getComputedStyle(P),z=P.style.transform,W=P.style.webkitTransform;if(z&&(P.style.transform="none"),W&&(P.style.webkitTransform="none"),r.roundLengths)F=e.isHorizontal()?QE(P,"width"):QE(P,"height");else{const ie=t(I,"width"),X=t(I,"padding-left"),le=t(I,"padding-right"),re=t(I,"margin-left"),he=t(I,"margin-right"),de=I.getPropertyValue("box-sizing");if(de&&de==="border-box")F=ie+re+he;else{const{clientWidth:ve,offsetWidth:B}=P;F=ie+X+le+re+he+(B-ve)}}z&&(P.style.transform=z),W&&(P.style.webkitTransform=W),r.roundLengths&&(F=Math.floor(F))}else F=(i-(r.slidesPerView-1)*C)/r.slidesPerView,r.roundLengths&&(F=Math.floor(F)),d[U]&&(d[U].style[e.getDirectionLabel("width")]=`${F}px`);d[U]&&(d[U].swiperSlideSize=F),y.push(F),r.centeredSlides?(E=E+F/2+k/2+C,k===0&&U!==0&&(E=E-i/2-C),U===0&&(E=E-i/2-C),Math.abs(E)<1/1e3&&(E=0),r.roundLengths&&(E=Math.floor(E)),D%r.slidesPerGroup===0&&m.push(E),h.push(E)):(r.roundLengths&&(E=Math.floor(E)),(D-Math.min(e.params.slidesPerGroupSkip,D))%e.params.slidesPerGroup===0&&m.push(E),h.push(E),E=E+F+C),e.virtualSize+=F+C,k=F,D+=1}}if(e.virtualSize=Math.max(e.virtualSize,i)+v,o&&l&&(r.effect==="slide"||r.effect==="coverflow")&&(a.style.width=`${e.virtualSize+C}px`),r.setWrapperSize&&(a.style[e.getDirectionLabel("width")]=`${e.virtualSize+C}px`),L&&e.grid.updateWrapperSize(F,m),!r.centeredSlides){const U=[];for(let P=0;P<m.length;P+=1){let I=m[P];r.roundLengths&&(I=Math.floor(I)),m[P]<=e.virtualSize-i&&U.push(I)}m=U,Math.floor(e.virtualSize-i)-Math.floor(m[m.length-1])>1&&m.push(e.virtualSize-i)}if(c&&r.loop){const U=y[0]+C;if(r.slidesPerGroup>1){const P=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/r.slidesPerGroup),I=U*r.slidesPerGroup;for(let z=0;z<P;z+=1)m.push(m[m.length-1]+I)}for(let P=0;P<e.virtual.slidesBefore+e.virtual.slidesAfter;P+=1)r.slidesPerGroup===1&&m.push(m[m.length-1]+U),h.push(h[h.length-1]+U),e.virtualSize+=U}if(m.length===0&&(m=[0]),C!==0){const U=e.isHorizontal()&&o?"marginLeft":e.getDirectionLabel("marginRight");d.filter((P,I)=>!r.cssMode||r.loop?!0:I!==d.length-1).forEach(P=>{P.style[U]=`${C}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let U=0;y.forEach(I=>{U+=I+(C||0)}),U-=C;const P=U>i?U-i:0;m=m.map(I=>I<=0?-x:I>P?P+v:I)}if(r.centerInsufficientSlides){let U=0;y.forEach(I=>{U+=I+(C||0)}),U-=C;const P=(r.slidesOffsetBefore||0)+(r.slidesOffsetAfter||0);if(U+P<i){const I=(i-U-P)/2;m.forEach((z,W)=>{m[W]=z-I}),h.forEach((z,W)=>{h[W]=z+I})}}if(Object.assign(e,{slides:d,snapGrid:m,slidesGrid:h,slidesSizesGrid:y}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){tw(a,"--swiper-centered-offset-before",`${-m[0]}px`),tw(a,"--swiper-centered-offset-after",`${e.size/2-y[y.length-1]/2}px`);const U=-e.snapGrid[0],P=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(I=>I+U),e.slidesGrid=e.slidesGrid.map(I=>I+P)}if(A!==u&&e.emit("slidesLengthChange"),m.length!==b&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),h.length!==j&&e.emit("slidesGridLengthChange"),r.watchSlidesProgress&&e.updateSlidesOffset(),e.emit("slidesUpdated"),!c&&!r.cssMode&&(r.effect==="slide"||r.effect==="fade")){const U=`${r.containerModifierClass}backface-hidden`,P=e.el.classList.contains(U);A<=r.maxBackfaceHiddenSlides?P||e.el.classList.add(U):P&&e.el.classList.remove(U)}}function oLe(e){const t=this,r=[],a=t.virtual&&t.params.virtual.enabled;let s=0,i;typeof e=="number"?t.setTransition(e):e===!0&&t.setTransition(t.params.speed);const o=l=>a?t.slides[t.getSlideIndexByData(l)]:t.slides[l];if(t.params.slidesPerView!=="auto"&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(l=>{r.push(l)});else for(i=0;i<Math.ceil(t.params.slidesPerView);i+=1){const l=t.activeIndex+i;if(l>t.slides.length&&!a)break;r.push(o(l))}else r.push(o(t.activeIndex));for(i=0;i<r.length;i+=1)if(typeof r[i]<"u"){const l=r[i].offsetHeight;s=l>s?l:s}(s||s===0)&&(t.wrapperEl.style.height=`${s}px`)}function lLe(){const e=this,t=e.slides,r=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let a=0;a<t.length;a+=1)t[a].swiperSlideOffset=(e.isHorizontal()?t[a].offsetLeft:t[a].offsetTop)-r-e.cssOverflowAdjustment()}const JU=(e,t,r)=>{t&&!e.classList.contains(r)?e.classList.add(r):!t&&e.classList.contains(r)&&e.classList.remove(r)};function cLe(e){e===void 0&&(e=this&&this.translate||0);const t=this,r=t.params,{slides:a,rtlTranslate:s,snapGrid:i}=t;if(a.length===0)return;typeof a[0].swiperSlideOffset>"u"&&t.updateSlidesOffset();let o=-e;s&&(o=e),t.visibleSlidesIndexes=[],t.visibleSlides=[];let l=r.spaceBetween;typeof l=="string"&&l.indexOf("%")>=0?l=parseFloat(l.replace("%",""))/100*t.size:typeof l=="string"&&(l=parseFloat(l));for(let c=0;c<a.length;c+=1){const u=a[c];let d=u.swiperSlideOffset;r.cssMode&&r.centeredSlides&&(d-=a[0].swiperSlideOffset);const A=(o+(r.centeredSlides?t.minTranslate():0)-d)/(u.swiperSlideSize+l),m=(o-i[0]+(r.centeredSlides?t.minTranslate():0)-d)/(u.swiperSlideSize+l),h=-(o-d),y=h+t.slidesSizesGrid[c],x=h>=0&&h<=t.size-t.slidesSizesGrid[c],v=h>=0&&h<t.size-1||y>1&&y<=t.size||h<=0&&y>=t.size;v&&(t.visibleSlides.push(u),t.visibleSlidesIndexes.push(c)),JU(u,v,r.slideVisibleClass),JU(u,x,r.slideFullyVisibleClass),u.progress=s?-A:A,u.originalProgress=s?-m:m}}function dLe(e){const t=this;if(typeof e>"u"){const d=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*d||0}const r=t.params,a=t.maxTranslate()-t.minTranslate();let{progress:s,isBeginning:i,isEnd:o,progressLoop:l}=t;const c=i,u=o;if(a===0)s=0,i=!0,o=!0;else{s=(e-t.minTranslate())/a;const d=Math.abs(e-t.minTranslate())<1,A=Math.abs(e-t.maxTranslate())<1;i=d||s<=0,o=A||s>=1,d&&(s=0),A&&(s=1)}if(r.loop){const d=t.getSlideIndexByData(0),A=t.getSlideIndexByData(t.slides.length-1),m=t.slidesGrid[d],h=t.slidesGrid[A],y=t.slidesGrid[t.slidesGrid.length-1],x=Math.abs(e);x>=m?l=(x-m)/y:l=(x+y-h)/y,l>1&&(l-=1)}Object.assign(t,{progress:s,progressLoop:l,isBeginning:i,isEnd:o}),(r.watchSlidesProgress||r.centeredSlides&&r.autoHeight)&&t.updateSlidesProgress(e),i&&!c&&t.emit("reachBeginning toEdge"),o&&!u&&t.emit("reachEnd toEdge"),(c&&!i||u&&!o)&&t.emit("fromEdge"),t.emit("progress",s)}const bC=(e,t,r)=>{t&&!e.classList.contains(r)?e.classList.add(r):!t&&e.classList.contains(r)&&e.classList.remove(r)};function uLe(){const e=this,{slides:t,params:r,slidesEl:a,activeIndex:s}=e,i=e.virtual&&r.virtual.enabled,o=e.grid&&r.grid&&r.grid.rows>1,l=A=>Vh(a,`.${r.slideClass}${A}, swiper-slide${A}`)[0];let c,u,d;if(i)if(r.loop){let A=s-e.virtual.slidesBefore;A<0&&(A=e.virtual.slides.length+A),A>=e.virtual.slides.length&&(A-=e.virtual.slides.length),c=l(`[data-swiper-slide-index="${A}"]`)}else c=l(`[data-swiper-slide-index="${s}"]`);else o?(c=t.find(A=>A.column===s),d=t.find(A=>A.column===s+1),u=t.find(A=>A.column===s-1)):c=t[s];c&&(o||(d=J7e(c,`.${r.slideClass}, swiper-slide`)[0],r.loop&&!d&&(d=t[0]),u=X7e(c,`.${r.slideClass}, swiper-slide`)[0],r.loop&&!u===0&&(u=t[t.length-1]))),t.forEach(A=>{bC(A,A===c,r.slideActiveClass),bC(A,A===d,r.slideNextClass),bC(A,A===u,r.slidePrevClass)}),e.emitSlidesClasses()}const Ew=(e,t)=>{if(!e||e.destroyed||!e.params)return;const r=()=>e.isElement?"swiper-slide":`.${e.params.slideClass}`,a=t.closest(r());if(a){let s=a.querySelector(`.${e.params.lazyPreloaderClass}`);!s&&e.isElement&&(a.shadowRoot?s=a.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{a.shadowRoot&&(s=a.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},wC=(e,t)=>{if(!e.slides[t])return;const r=e.slides[t].querySelector('[loading="lazy"]');r&&r.removeAttribute("loading")},HE=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const r=e.slides.length;if(!r||!t||t<0)return;t=Math.min(t,r);const a=e.params.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),s=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){const o=s,l=[o-t];l.push(...Array.from({length:t}).map((c,u)=>o+a+u)),e.slides.forEach((c,u)=>{l.includes(c.column)&&wC(e,u)});return}const i=s+a-1;if(e.params.rewind||e.params.loop)for(let o=s-t;o<=i+t;o+=1){const l=(o%r+r)%r;(l<s||l>i)&&wC(e,l)}else for(let o=Math.max(s-t,0);o<=Math.min(i+t,r-1);o+=1)o!==s&&(o>i||o<s)&&wC(e,o)};function fLe(e){const{slidesGrid:t,params:r}=e,a=e.rtlTranslate?e.translate:-e.translate;let s;for(let i=0;i<t.length;i+=1)typeof t[i+1]<"u"?a>=t[i]&&a<t[i+1]-(t[i+1]-t[i])/2?s=i:a>=t[i]&&a<t[i+1]&&(s=i+1):a>=t[i]&&(s=i);return r.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function hLe(e){const t=this,r=t.rtlTranslate?t.translate:-t.translate,{snapGrid:a,params:s,activeIndex:i,realIndex:o,snapIndex:l}=t;let c=e,u;const d=h=>{let y=h-t.virtual.slidesBefore;return y<0&&(y=t.virtual.slides.length+y),y>=t.virtual.slides.length&&(y-=t.virtual.slides.length),y};if(typeof c>"u"&&(c=fLe(t)),a.indexOf(r)>=0)u=a.indexOf(r);else{const h=Math.min(s.slidesPerGroupSkip,c);u=h+Math.floor((c-h)/s.slidesPerGroup)}if(u>=a.length&&(u=a.length-1),c===i&&!t.params.loop){u!==l&&(t.snapIndex=u,t.emit("snapIndexChange"));return}if(c===i&&t.params.loop&&t.virtual&&t.params.virtual.enabled){t.realIndex=d(c);return}const A=t.grid&&s.grid&&s.grid.rows>1;let m;if(t.virtual&&s.virtual.enabled&&s.loop)m=d(c);else if(A){const h=t.slides.find(x=>x.column===c);let y=parseInt(h.getAttribute("data-swiper-slide-index"),10);Number.isNaN(y)&&(y=Math.max(t.slides.indexOf(h),0)),m=Math.floor(y/s.grid.rows)}else if(t.slides[c]){const h=t.slides[c].getAttribute("data-swiper-slide-index");h?m=parseInt(h,10):m=c}else m=c;Object.assign(t,{previousSnapIndex:l,snapIndex:u,previousRealIndex:o,realIndex:m,previousIndex:i,activeIndex:c}),t.initialized&&HE(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(o!==m&&t.emit("realIndexChange"),t.emit("slideChange"))}function ALe(e,t){const r=this,a=r.params;let s=e.closest(`.${a.slideClass}, swiper-slide`);!s&&r.isElement&&t&&t.length>1&&t.includes(e)&&[...t.slice(t.indexOf(e)+1,t.length)].forEach(l=>{!s&&l.matches&&l.matches(`.${a.slideClass}, swiper-slide`)&&(s=l)});let i=!1,o;if(s){for(let l=0;l<r.slides.length;l+=1)if(r.slides[l]===s){i=!0,o=l;break}}if(s&&i)r.clickedSlide=s,r.virtual&&r.params.virtual.enabled?r.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):r.clickedIndex=o;else{r.clickedSlide=void 0,r.clickedIndex=void 0;return}a.slideToClickedSlide&&r.clickedIndex!==void 0&&r.clickedIndex!==r.activeIndex&&r.slideToClickedSlide()}var mLe={updateSize:sLe,updateSlides:iLe,updateAutoHeight:oLe,updateSlidesOffset:lLe,updateSlidesProgress:cLe,updateProgress:dLe,updateSlidesClasses:uLe,updateActiveIndex:hLe,updateClickedSlide:ALe};function pLe(e){e===void 0&&(e=this.isHorizontal()?"x":"y");const t=this,{params:r,rtlTranslate:a,translate:s,wrapperEl:i}=t;if(r.virtualTranslate)return a?-s:s;if(r.cssMode)return s;let o=K7e(i,e);return o+=t.cssOverflowAdjustment(),a&&(o=-o),o||0}function gLe(e,t){const r=this,{rtlTranslate:a,params:s,wrapperEl:i,progress:o}=r;let l=0,c=0;const u=0;r.isHorizontal()?l=a?-e:e:c=e,s.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),r.previousTranslate=r.translate,r.translate=r.isHorizontal()?l:c,s.cssMode?i[r.isHorizontal()?"scrollLeft":"scrollTop"]=r.isHorizontal()?-l:-c:s.virtualTranslate||(r.isHorizontal()?l-=r.cssOverflowAdjustment():c-=r.cssOverflowAdjustment(),i.style.transform=`translate3d(${l}px, ${c}px, ${u}px)`);let d;const A=r.maxTranslate()-r.minTranslate();A===0?d=0:d=(e-r.minTranslate())/A,d!==o&&r.updateProgress(e),r.emit("setTranslate",r.translate,t)}function xLe(){return-this.snapGrid[0]}function yLe(){return-this.snapGrid[this.snapGrid.length-1]}function vLe(e,t,r,a,s){e===void 0&&(e=0),t===void 0&&(t=this.params.speed),r===void 0&&(r=!0),a===void 0&&(a=!0);const i=this,{params:o,wrapperEl:l}=i;if(i.animating&&o.preventInteractionOnTransition)return!1;const c=i.minTranslate(),u=i.maxTranslate();let d;if(a&&e>c?d=c:a&&e<u?d=u:d=e,i.updateProgress(d),o.cssMode){const A=i.isHorizontal();if(t===0)l[A?"scrollLeft":"scrollTop"]=-d;else{if(!i.support.smoothScroll)return XY({swiper:i,targetPosition:-d,side:A?"left":"top"}),!0;l.scrollTo({[A?"left":"top"]:-d,behavior:"smooth"})}return!0}return t===0?(i.setTransition(0),i.setTranslate(d),r&&(i.emit("beforeTransitionStart",t,s),i.emit("transitionEnd"))):(i.setTransition(t),i.setTranslate(d),r&&(i.emit("beforeTransitionStart",t,s),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(m){!i||i.destroyed||m.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,i.animating=!1,r&&i.emit("transitionEnd"))}),i.wrapperEl.addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd))),!0}var bLe={getTranslate:pLe,setTranslate:gLe,minTranslate:xLe,maxTranslate:yLe,translateTo:vLe};function wLe(e,t){const r=this;r.params.cssMode||(r.wrapperEl.style.transitionDuration=`${e}ms`,r.wrapperEl.style.transitionDelay=e===0?"0ms":""),r.emit("setTransition",e,t)}function rX(e){let{swiper:t,runCallbacks:r,direction:a,step:s}=e;const{activeIndex:i,previousIndex:o}=t;let l=a;l||(i>o?l="next":i<o?l="prev":l="reset"),t.emit(`transition${s}`),r&&l==="reset"?t.emit(`slideResetTransition${s}`):r&&i!==o&&(t.emit(`slideChangeTransition${s}`),l==="next"?t.emit(`slideNextTransition${s}`):t.emit(`slidePrevTransition${s}`))}function NLe(e,t){e===void 0&&(e=!0);const r=this,{params:a}=r;a.cssMode||(a.autoHeight&&r.updateAutoHeight(),rX({swiper:r,runCallbacks:e,direction:t,step:"Start"}))}function jLe(e,t){e===void 0&&(e=!0);const r=this,{params:a}=r;r.animating=!1,!a.cssMode&&(r.setTransition(0),rX({swiper:r,runCallbacks:e,direction:t,step:"End"}))}var SLe={setTransition:wLe,transitionStart:NLe,transitionEnd:jLe};function CLe(e,t,r,a,s){e===void 0&&(e=0),r===void 0&&(r=!0),typeof e=="string"&&(e=parseInt(e,10));const i=this;let o=e;o<0&&(o=0);const{params:l,snapGrid:c,slidesGrid:u,previousIndex:d,activeIndex:A,rtlTranslate:m,wrapperEl:h,enabled:y}=i;if(!y&&!a&&!s||i.destroyed||i.animating&&l.preventInteractionOnTransition)return!1;typeof t>"u"&&(t=i.params.speed);const x=Math.min(i.params.slidesPerGroupSkip,o);let v=x+Math.floor((o-x)/i.params.slidesPerGroup);v>=c.length&&(v=c.length-1);const b=-c[v];if(l.normalizeSlideIndex)for(let L=0;L<u.length;L+=1){const F=-Math.floor(b*100),Q=Math.floor(u[L]*100),U=Math.floor(u[L+1]*100);typeof u[L+1]<"u"?F>=Q&&F<U-(U-Q)/2?o=L:F>=Q&&F<U&&(o=L+1):F>=Q&&(o=L)}if(i.initialized&&o!==A&&(!i.allowSlideNext&&(m?b>i.translate&&b>i.minTranslate():b<i.translate&&b<i.minTranslate())||!i.allowSlidePrev&&b>i.translate&&b>i.maxTranslate()&&(A||0)!==o))return!1;o!==(d||0)&&r&&i.emit("beforeSlideChangeStart"),i.updateProgress(b);let j;o>A?j="next":o<A?j="prev":j="reset";const C=i.virtual&&i.params.virtual.enabled;if(!(C&&s)&&(m&&-b===i.translate||!m&&b===i.translate))return i.updateActiveIndex(o),l.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),l.effect!=="slide"&&i.setTranslate(b),j!=="reset"&&(i.transitionStart(r,j),i.transitionEnd(r,j)),!1;if(l.cssMode){const L=i.isHorizontal(),F=m?b:-b;if(t===0)C&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),C&&!i._cssModeVirtualInitialSet&&i.params.initialSlide>0?(i._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{h[L?"scrollLeft":"scrollTop"]=F})):h[L?"scrollLeft":"scrollTop"]=F,C&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._immediateVirtual=!1});else{if(!i.support.smoothScroll)return XY({swiper:i,targetPosition:F,side:L?"left":"top"}),!0;h.scrollTo({[L?"left":"top"]:F,behavior:"smooth"})}return!0}const D=tX().isSafari;return C&&!s&&D&&i.isElement&&i.virtual.update(!1,!1,o),i.setTransition(t),i.setTranslate(b),i.updateActiveIndex(o),i.updateSlidesClasses(),i.emit("beforeTransitionStart",t,a),i.transitionStart(r,j),t===0?i.transitionEnd(r,j):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(F){!i||i.destroyed||F.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(r,j))}),i.wrapperEl.addEventListener("transitionend",i.onSlideToWrapperTransitionEnd)),!0}function ELe(e,t,r,a){e===void 0&&(e=0),r===void 0&&(r=!0),typeof e=="string"&&(e=parseInt(e,10));const s=this;if(s.destroyed)return;typeof t>"u"&&(t=s.params.speed);const i=s.grid&&s.params.grid&&s.params.grid.rows>1;let o=e;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)o=o+s.virtual.slidesBefore;else{let l;if(i){const m=o*s.params.grid.rows;l=s.slides.find(h=>h.getAttribute("data-swiper-slide-index")*1===m).column}else l=s.getSlideIndexByData(o);const c=i?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:u}=s.params;let d=s.params.slidesPerView;d==="auto"?d=s.slidesPerViewDynamic():(d=Math.ceil(parseFloat(s.params.slidesPerView,10)),u&&d%2===0&&(d=d+1));let A=c-l<d;if(u&&(A=A||l<Math.ceil(d/2)),a&&u&&s.params.slidesPerView!=="auto"&&!i&&(A=!1),A){const m=u?l<s.activeIndex?"prev":"next":l-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:m,slideTo:!0,activeSlideIndex:m==="next"?l+1:l-c+1,slideRealIndex:m==="next"?s.realIndex:void 0})}if(i){const m=o*s.params.grid.rows;o=s.slides.find(h=>h.getAttribute("data-swiper-slide-index")*1===m).column}else o=s.getSlideIndexByData(o)}return requestAnimationFrame(()=>{s.slideTo(o,t,r,a)}),s}function BLe(e,t,r){t===void 0&&(t=!0);const a=this,{enabled:s,params:i,animating:o}=a;if(!s||a.destroyed)return a;typeof e>"u"&&(e=a.params.speed);let l=i.slidesPerGroup;i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(l=Math.max(a.slidesPerViewDynamic("current",!0),1));const c=a.activeIndex<i.slidesPerGroupSkip?1:l,u=a.virtual&&i.virtual.enabled;if(i.loop){if(o&&!u&&i.loopPreventsSliding)return!1;if(a.loopFix({direction:"next"}),a._clientLeft=a.wrapperEl.clientLeft,a.activeIndex===a.slides.length-1&&i.cssMode)return requestAnimationFrame(()=>{a.slideTo(a.activeIndex+c,e,t,r)}),!0}return i.rewind&&a.isEnd?a.slideTo(0,e,t,r):a.slideTo(a.activeIndex+c,e,t,r)}function TLe(e,t,r){t===void 0&&(t=!0);const a=this,{params:s,snapGrid:i,slidesGrid:o,rtlTranslate:l,enabled:c,animating:u}=a;if(!c||a.destroyed)return a;typeof e>"u"&&(e=a.params.speed);const d=a.virtual&&s.virtual.enabled;if(s.loop){if(u&&!d&&s.loopPreventsSliding)return!1;a.loopFix({direction:"prev"}),a._clientLeft=a.wrapperEl.clientLeft}const A=l?a.translate:-a.translate;function m(j){return j<0?-Math.floor(Math.abs(j)):Math.floor(j)}const h=m(A),y=i.map(j=>m(j)),x=s.freeMode&&s.freeMode.enabled;let v=i[y.indexOf(h)-1];if(typeof v>"u"&&(s.cssMode||x)){let j;i.forEach((C,E)=>{h>=C&&(j=E)}),typeof j<"u"&&(v=x?i[j]:i[j>0?j-1:j])}let b=0;if(typeof v<"u"&&(b=o.indexOf(v),b<0&&(b=a.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(b=b-a.slidesPerViewDynamic("previous",!0)+1,b=Math.max(b,0))),s.rewind&&a.isBeginning){const j=a.params.virtual&&a.params.virtual.enabled&&a.virtual?a.virtual.slides.length-1:a.slides.length-1;return a.slideTo(j,e,t,r)}else if(s.loop&&a.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{a.slideTo(b,e,t,r)}),!0;return a.slideTo(b,e,t,r)}function FLe(e,t,r){t===void 0&&(t=!0);const a=this;if(!a.destroyed)return typeof e>"u"&&(e=a.params.speed),a.slideTo(a.activeIndex,e,t,r)}function _Le(e,t,r,a){t===void 0&&(t=!0),a===void 0&&(a=.5);const s=this;if(s.destroyed)return;typeof e>"u"&&(e=s.params.speed);let i=s.activeIndex;const o=Math.min(s.params.slidesPerGroupSkip,i),l=o+Math.floor((i-o)/s.params.slidesPerGroup),c=s.rtlTranslate?s.translate:-s.translate;if(c>=s.snapGrid[l]){const u=s.snapGrid[l],d=s.snapGrid[l+1];c-u>(d-u)*a&&(i+=s.params.slidesPerGroup)}else{const u=s.snapGrid[l-1],d=s.snapGrid[l];c-u<=(d-u)*a&&(i-=s.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,s.slidesGrid.length-1),s.slideTo(i,e,t,r)}function kLe(){const e=this;if(e.destroyed)return;const{params:t,slidesEl:r}=e,a=t.slidesPerView==="auto"?e.slidesPerViewDynamic():t.slidesPerView;let s=e.getSlideIndexWhenGrid(e.clickedIndex),i;const o=e.isElement?"swiper-slide":`.${t.slideClass}`,l=e.grid&&e.params.grid&&e.params.grid.rows>1;if(t.loop){if(e.animating)return;i=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?e.slideToLoop(i):s>(l?(e.slides.length-a)/2-(e.params.grid.rows-1):e.slides.length-a)?(e.loopFix(),s=e.getSlideIndex(Vh(r,`${o}[data-swiper-slide-index="${i}"]`)[0]),YY(()=>{e.slideTo(s)})):e.slideTo(s)}else e.slideTo(s)}var ILe={slideTo:CLe,slideToLoop:ELe,slideNext:BLe,slidePrev:TLe,slideReset:FLe,slideToClosest:_Le,slideToClickedSlide:kLe};function PLe(e,t){const r=this,{params:a,slidesEl:s}=r;if(!a.loop||r.virtual&&r.params.virtual.enabled)return;const i=()=>{Vh(s,`.${a.slideClass}, swiper-slide`).forEach((h,y)=>{h.setAttribute("data-swiper-slide-index",y)})},o=()=>{const m=Vh(s,`.${a.slideBlankClass}`);m.forEach(h=>{h.remove()}),m.length>0&&(r.recalcSlides(),r.updateSlides())},l=r.grid&&a.grid&&a.grid.rows>1;a.loopAddBlankSlides&&(a.slidesPerGroup>1||l)&&o();const c=a.slidesPerGroup*(l?a.grid.rows:1),u=r.slides.length%c!==0,d=l&&r.slides.length%a.grid.rows!==0,A=m=>{for(let h=0;h<m;h+=1){const y=r.isElement?J4("swiper-slide",[a.slideBlankClass]):J4("div",[a.slideClass,a.slideBlankClass]);r.slidesEl.append(y)}};if(u){if(a.loopAddBlankSlides){const m=c-r.slides.length%c;A(m),r.recalcSlides(),r.updateSlides()}else X4("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(d){if(a.loopAddBlankSlides){const m=a.grid.rows-r.slides.length%a.grid.rows;A(m),r.recalcSlides(),r.updateSlides()}else X4("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();r.loopFix({slideRealIndex:e,direction:a.centeredSlides?void 0:"next",initial:t})}function LLe(e){let{slideRealIndex:t,slideTo:r=!0,direction:a,setTranslate:s,activeSlideIndex:i,initial:o,byController:l,byMousewheel:c}=e===void 0?{}:e;const u=this;if(!u.params.loop)return;u.emit("beforeLoopFix");const{slides:d,allowSlidePrev:A,allowSlideNext:m,slidesEl:h,params:y}=u,{centeredSlides:x,initialSlide:v}=y;if(u.allowSlidePrev=!0,u.allowSlideNext=!0,u.virtual&&y.virtual.enabled){r&&(!y.centeredSlides&&u.snapIndex===0?u.slideTo(u.virtual.slides.length,0,!1,!0):y.centeredSlides&&u.snapIndex<y.slidesPerView?u.slideTo(u.virtual.slides.length+u.snapIndex,0,!1,!0):u.snapIndex===u.snapGrid.length-1&&u.slideTo(u.virtual.slidesBefore,0,!1,!0)),u.allowSlidePrev=A,u.allowSlideNext=m,u.emit("loopFix");return}let b=y.slidesPerView;b==="auto"?b=u.slidesPerViewDynamic():(b=Math.ceil(parseFloat(y.slidesPerView,10)),x&&b%2===0&&(b=b+1));const j=y.slidesPerGroupAuto?b:y.slidesPerGroup;let C=x?Math.max(j,Math.ceil(b/2)):j;C%j!==0&&(C+=j-C%j),C+=y.loopAdditionalSlides,u.loopedSlides=C;const E=u.grid&&y.grid&&y.grid.rows>1;d.length<b+C||u.params.effect==="cards"&&d.length<b+C*2?X4("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):E&&y.grid.fill==="row"&&X4("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const k=[],D=[],L=E?Math.ceil(d.length/y.grid.rows):d.length,F=o&&L-v<b&&!x;let Q=F?v:u.activeIndex;typeof i>"u"?i=u.getSlideIndex(d.find(X=>X.classList.contains(y.slideActiveClass))):Q=i;const U=a==="next"||!a,P=a==="prev"||!a;let I=0,z=0;const ie=(E?d[i].column:i)+(x&&typeof s>"u"?-b/2+.5:0);if(ie<C){I=Math.max(C-ie,j);for(let X=0;X<C-ie;X+=1){const le=X-Math.floor(X/L)*L;if(E){const re=L-le-1;for(let he=d.length-1;he>=0;he-=1)d[he].column===re&&k.push(he)}else k.push(L-le-1)}}else if(ie+b>L-C){z=Math.max(ie-(L-C*2),j),F&&(z=Math.max(z,b-L+v+1));for(let X=0;X<z;X+=1){const le=X-Math.floor(X/L)*L;E?d.forEach((re,he)=>{re.column===le&&D.push(he)}):D.push(le)}}if(u.__preventObserver__=!0,requestAnimationFrame(()=>{u.__preventObserver__=!1}),u.params.effect==="cards"&&d.length<b+C*2&&(D.includes(i)&&D.splice(D.indexOf(i),1),k.includes(i)&&k.splice(k.indexOf(i),1)),P&&k.forEach(X=>{d[X].swiperLoopMoveDOM=!0,h.prepend(d[X]),d[X].swiperLoopMoveDOM=!1}),U&&D.forEach(X=>{d[X].swiperLoopMoveDOM=!0,h.append(d[X]),d[X].swiperLoopMoveDOM=!1}),u.recalcSlides(),y.slidesPerView==="auto"?u.updateSlides():E&&(k.length>0&&P||D.length>0&&U)&&u.slides.forEach((X,le)=>{u.grid.updateSlide(le,X,u.slides)}),y.watchSlidesProgress&&u.updateSlidesOffset(),r){if(k.length>0&&P){if(typeof t>"u"){const X=u.slidesGrid[Q],re=u.slidesGrid[Q+I]-X;c?u.setTranslate(u.translate-re):(u.slideTo(Q+Math.ceil(I),0,!1,!0),s&&(u.touchEventsData.startTranslate=u.touchEventsData.startTranslate-re,u.touchEventsData.currentTranslate=u.touchEventsData.currentTranslate-re))}else if(s){const X=E?k.length/y.grid.rows:k.length;u.slideTo(u.activeIndex+X,0,!1,!0),u.touchEventsData.currentTranslate=u.translate}}else if(D.length>0&&U)if(typeof t>"u"){const X=u.slidesGrid[Q],re=u.slidesGrid[Q-z]-X;c?u.setTranslate(u.translate-re):(u.slideTo(Q-z,0,!1,!0),s&&(u.touchEventsData.startTranslate=u.touchEventsData.startTranslate-re,u.touchEventsData.currentTranslate=u.touchEventsData.currentTranslate-re))}else{const X=E?D.length/y.grid.rows:D.length;u.slideTo(u.activeIndex-X,0,!1,!0)}}if(u.allowSlidePrev=A,u.allowSlideNext=m,u.controller&&u.controller.control&&!l){const X={slideRealIndex:t,direction:a,setTranslate:s,activeSlideIndex:i,byController:!0};Array.isArray(u.controller.control)?u.controller.control.forEach(le=>{!le.destroyed&&le.params.loop&&le.loopFix({...X,slideTo:le.params.slidesPerView===y.slidesPerView?r:!1})}):u.controller.control instanceof u.constructor&&u.controller.control.params.loop&&u.controller.control.loopFix({...X,slideTo:u.controller.control.params.slidesPerView===y.slidesPerView?r:!1})}u.emit("loopFix")}function OLe(){const e=this,{params:t,slidesEl:r}=e;if(!t.loop||!r||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const a=[];e.slides.forEach(s=>{const i=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;a[i]=s}),e.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),a.forEach(s=>{r.append(s)}),e.recalcSlides(),e.slideTo(e.realIndex,0)}var DLe={loopCreate:PLe,loopFix:LLe,loopDestroy:OLe};function MLe(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const r=t.params.touchEventsTarget==="container"?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),r.style.cursor="move",r.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})}function ULe(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e[e.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))}var RLe={setGrabCursor:MLe,unsetGrabCursor:ULe};function QLe(e,t){t===void 0&&(t=this);function r(a){if(!a||a===Jh()||a===Cd())return null;a.assignedSlot&&(a=a.assignedSlot);const s=a.closest(e);return!s&&!a.getRootNode?null:s||r(a.getRootNode().host)}return r(t)}function ZU(e,t,r){const a=Cd(),{params:s}=e,i=s.edgeSwipeDetection,o=s.edgeSwipeThreshold;return i&&(r<=o||r>=a.innerWidth-o)?i==="prevent"?(t.preventDefault(),!0):!1:!0}function HLe(e){const t=this,r=Jh();let a=e;a.originalEvent&&(a=a.originalEvent);const s=t.touchEventsData;if(a.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==a.pointerId)return;s.pointerId=a.pointerId}else a.type==="touchstart"&&a.targetTouches.length===1&&(s.touchId=a.targetTouches[0].identifier);if(a.type==="touchstart"){ZU(t,a,a.targetTouches[0].pageX);return}const{params:i,touches:o,enabled:l}=t;if(!l||!i.simulateTouch&&a.pointerType==="mouse"||t.animating&&i.preventInteractionOnTransition)return;!t.animating&&i.cssMode&&i.loop&&t.loopFix();let c=a.target;if(i.touchEventsTarget==="wrapper"&&!Y7e(c,t.wrapperEl)||"which"in a&&a.which===3||"button"in a&&a.button>0||s.isTouched&&s.isMoved)return;const u=!!i.noSwipingClass&&i.noSwipingClass!=="",d=a.composedPath?a.composedPath():a.path;u&&a.target&&a.target.shadowRoot&&d&&(c=d[0]);const A=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,m=!!(a.target&&a.target.shadowRoot);if(i.noSwiping&&(m?QLe(A,c):c.closest(A))){t.allowClick=!0;return}if(i.swipeHandler&&!c.closest(i.swipeHandler))return;o.currentX=a.pageX,o.currentY=a.pageY;const h=o.currentX,y=o.currentY;if(!ZU(t,a,h))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=h,o.startY=y,s.touchStartTime=Y4(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,i.threshold>0&&(s.allowThresholdMove=!1);let x=!0;c.matches(s.focusableElements)&&(x=!1,c.nodeName==="SELECT"&&(s.isTouched=!1)),r.activeElement&&r.activeElement.matches(s.focusableElements)&&r.activeElement!==c&&(a.pointerType==="mouse"||a.pointerType!=="mouse"&&!c.matches(s.focusableElements))&&r.activeElement.blur();const v=x&&t.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||v)&&!c.isContentEditable&&a.preventDefault(),i.freeMode&&i.freeMode.enabled&&t.freeMode&&t.animating&&!i.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",a)}function $Le(e){const t=Jh(),r=this,a=r.touchEventsData,{params:s,touches:i,rtlTranslate:o,enabled:l}=r;if(!l||!s.simulateTouch&&e.pointerType==="mouse")return;let c=e;if(c.originalEvent&&(c=c.originalEvent),c.type==="pointermove"&&(a.touchId!==null||c.pointerId!==a.pointerId))return;let u;if(c.type==="touchmove"){if(u=[...c.changedTouches].find(k=>k.identifier===a.touchId),!u||u.identifier!==a.touchId)return}else u=c;if(!a.isTouched){a.startMoving&&a.isScrolling&&r.emit("touchMoveOpposite",c);return}const d=u.pageX,A=u.pageY;if(c.preventedByNestedSwiper){i.startX=d,i.startY=A;return}if(!r.allowTouchMove){c.target.matches(a.focusableElements)||(r.allowClick=!1),a.isTouched&&(Object.assign(i,{startX:d,startY:A,currentX:d,currentY:A}),a.touchStartTime=Y4());return}if(s.touchReleaseOnEdges&&!s.loop)if(r.isVertical()){if(A<i.startY&&r.translate<=r.maxTranslate()||A>i.startY&&r.translate>=r.minTranslate()){a.isTouched=!1,a.isMoved=!1;return}}else{if(o&&(d>i.startX&&-r.translate<=r.maxTranslate()||d<i.startX&&-r.translate>=r.minTranslate()))return;if(!o&&(d<i.startX&&r.translate<=r.maxTranslate()||d>i.startX&&r.translate>=r.minTranslate()))return}if(t.activeElement&&t.activeElement.matches(a.focusableElements)&&t.activeElement!==c.target&&c.pointerType!=="mouse"&&t.activeElement.blur(),t.activeElement&&c.target===t.activeElement&&c.target.matches(a.focusableElements)){a.isMoved=!0,r.allowClick=!1;return}a.allowTouchCallbacks&&r.emit("touchMove",c),i.previousX=i.currentX,i.previousY=i.currentY,i.currentX=d,i.currentY=A;const m=i.currentX-i.startX,h=i.currentY-i.startY;if(r.params.threshold&&Math.sqrt(m**2+h**2)<r.params.threshold)return;if(typeof a.isScrolling>"u"){let k;r.isHorizontal()&&i.currentY===i.startY||r.isVertical()&&i.currentX===i.startX?a.isScrolling=!1:m*m+h*h>=25&&(k=Math.atan2(Math.abs(h),Math.abs(m))*180/Math.PI,a.isScrolling=r.isHorizontal()?k>s.touchAngle:90-k>s.touchAngle)}if(a.isScrolling&&r.emit("touchMoveOpposite",c),typeof a.startMoving>"u"&&(i.currentX!==i.startX||i.currentY!==i.startY)&&(a.startMoving=!0),a.isScrolling||c.type==="touchmove"&&a.preventTouchMoveFromPointerMove){a.isTouched=!1;return}if(!a.startMoving)return;r.allowClick=!1,!s.cssMode&&c.cancelable&&c.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&c.stopPropagation();let y=r.isHorizontal()?m:h,x=r.isHorizontal()?i.currentX-i.previousX:i.currentY-i.previousY;s.oneWayMovement&&(y=Math.abs(y)*(o?1:-1),x=Math.abs(x)*(o?1:-1)),i.diff=y,y*=s.touchRatio,o&&(y=-y,x=-x);const v=r.touchesDirection;r.swipeDirection=y>0?"prev":"next",r.touchesDirection=x>0?"prev":"next";const b=r.params.loop&&!s.cssMode,j=r.touchesDirection==="next"&&r.allowSlideNext||r.touchesDirection==="prev"&&r.allowSlidePrev;if(!a.isMoved){if(b&&j&&r.loopFix({direction:r.swipeDirection}),a.startTranslate=r.getTranslate(),r.setTransition(0),r.animating){const k=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});r.wrapperEl.dispatchEvent(k)}a.allowMomentumBounce=!1,s.grabCursor&&(r.allowSlideNext===!0||r.allowSlidePrev===!0)&&r.setGrabCursor(!0),r.emit("sliderFirstMove",c)}if(new Date().getTime(),s._loopSwapReset!==!1&&a.isMoved&&a.allowThresholdMove&&v!==r.touchesDirection&&b&&j&&Math.abs(y)>=1){Object.assign(i,{startX:d,startY:A,currentX:d,currentY:A,startTranslate:a.currentTranslate}),a.loopSwapReset=!0,a.startTranslate=a.currentTranslate;return}r.emit("sliderMove",c),a.isMoved=!0,a.currentTranslate=y+a.startTranslate;let C=!0,E=s.resistanceRatio;if(s.touchReleaseOnEdges&&(E=0),y>0?(b&&j&&a.allowThresholdMove&&a.currentTranslate>(s.centeredSlides?r.minTranslate()-r.slidesSizesGrid[r.activeIndex+1]-(s.slidesPerView!=="auto"&&r.slides.length-s.slidesPerView>=2?r.slidesSizesGrid[r.activeIndex+1]+r.params.spaceBetween:0)-r.params.spaceBetween:r.minTranslate())&&r.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),a.currentTranslate>r.minTranslate()&&(C=!1,s.resistance&&(a.currentTranslate=r.minTranslate()-1+(-r.minTranslate()+a.startTranslate+y)**E))):y<0&&(b&&j&&a.allowThresholdMove&&a.currentTranslate<(s.centeredSlides?r.maxTranslate()+r.slidesSizesGrid[r.slidesSizesGrid.length-1]+r.params.spaceBetween+(s.slidesPerView!=="auto"&&r.slides.length-s.slidesPerView>=2?r.slidesSizesGrid[r.slidesSizesGrid.length-1]+r.params.spaceBetween:0):r.maxTranslate())&&r.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:r.slides.length-(s.slidesPerView==="auto"?r.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),a.currentTranslate<r.maxTranslate()&&(C=!1,s.resistance&&(a.currentTranslate=r.maxTranslate()+1-(r.maxTranslate()-a.startTranslate-y)**E))),C&&(c.preventedByNestedSwiper=!0),!r.allowSlideNext&&r.swipeDirection==="next"&&a.currentTranslate<a.startTranslate&&(a.currentTranslate=a.startTranslate),!r.allowSlidePrev&&r.swipeDirection==="prev"&&a.currentTranslate>a.startTranslate&&(a.currentTranslate=a.startTranslate),!r.allowSlidePrev&&!r.allowSlideNext&&(a.currentTranslate=a.startTranslate),s.threshold>0)if(Math.abs(y)>s.threshold||a.allowThresholdMove){if(!a.allowThresholdMove){a.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,a.currentTranslate=a.startTranslate,i.diff=r.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY;return}}else{a.currentTranslate=a.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&r.freeMode||s.watchSlidesProgress)&&(r.updateActiveIndex(),r.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&r.freeMode&&r.freeMode.onTouchMove(),r.updateProgress(a.currentTranslate),r.setTranslate(a.currentTranslate))}function zLe(e){const t=this,r=t.touchEventsData;let a=e;a.originalEvent&&(a=a.originalEvent);let s;if(a.type==="touchend"||a.type==="touchcancel"){if(s=[...a.changedTouches].find(k=>k.identifier===r.touchId),!s||s.identifier!==r.touchId)return}else{if(r.touchId!==null||a.pointerId!==r.pointerId)return;s=a}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(a.type)&&!(["pointercancel","contextmenu"].includes(a.type)&&(t.browser.isSafari||t.browser.isWebView)))return;r.pointerId=null,r.touchId=null;const{params:o,touches:l,rtlTranslate:c,slidesGrid:u,enabled:d}=t;if(!d||!o.simulateTouch&&a.pointerType==="mouse")return;if(r.allowTouchCallbacks&&t.emit("touchEnd",a),r.allowTouchCallbacks=!1,!r.isTouched){r.isMoved&&o.grabCursor&&t.setGrabCursor(!1),r.isMoved=!1,r.startMoving=!1;return}o.grabCursor&&r.isMoved&&r.isTouched&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!1);const A=Y4(),m=A-r.touchStartTime;if(t.allowClick){const k=a.path||a.composedPath&&a.composedPath();t.updateClickedSlide(k&&k[0]||a.target,k),t.emit("tap click",a),m<300&&A-r.lastClickTime<300&&t.emit("doubleTap doubleClick",a)}if(r.lastClickTime=Y4(),YY(()=>{t.destroyed||(t.allowClick=!0)}),!r.isTouched||!r.isMoved||!t.swipeDirection||l.diff===0&&!r.loopSwapReset||r.currentTranslate===r.startTranslate&&!r.loopSwapReset){r.isTouched=!1,r.isMoved=!1,r.startMoving=!1;return}r.isTouched=!1,r.isMoved=!1,r.startMoving=!1;let h;if(o.followFinger?h=c?t.translate:-t.translate:h=-r.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){t.freeMode.onTouchEnd({currentPos:h});return}const y=h>=-t.maxTranslate()&&!t.params.loop;let x=0,v=t.slidesSizesGrid[0];for(let k=0;k<u.length;k+=k<o.slidesPerGroupSkip?1:o.slidesPerGroup){const D=k<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof u[k+D]<"u"?(y||h>=u[k]&&h<u[k+D])&&(x=k,v=u[k+D]-u[k]):(y||h>=u[k])&&(x=k,v=u[u.length-1]-u[u.length-2])}let b=null,j=null;o.rewind&&(t.isBeginning?j=o.virtual&&o.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(b=0));const C=(h-u[x])/v,E=x<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(m>o.longSwipesMs){if(!o.longSwipes){t.slideTo(t.activeIndex);return}t.swipeDirection==="next"&&(C>=o.longSwipesRatio?t.slideTo(o.rewind&&t.isEnd?b:x+E):t.slideTo(x)),t.swipeDirection==="prev"&&(C>1-o.longSwipesRatio?t.slideTo(x+E):j!==null&&C<0&&Math.abs(C)>o.longSwipesRatio?t.slideTo(j):t.slideTo(x))}else{if(!o.shortSwipes){t.slideTo(t.activeIndex);return}t.navigation&&(a.target===t.navigation.nextEl||a.target===t.navigation.prevEl)?a.target===t.navigation.nextEl?t.slideTo(x+E):t.slideTo(x):(t.swipeDirection==="next"&&t.slideTo(b!==null?b:x+E),t.swipeDirection==="prev"&&t.slideTo(j!==null?j:x))}}function eR(){const e=this,{params:t,el:r}=e;if(r&&r.offsetWidth===0)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:a,allowSlidePrev:s,snapGrid:i}=e,o=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const l=o&&t.loop;(t.slidesPerView==="auto"||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides&&!l?e.slideTo(e.slides.length-1,0,!1,!0):e.params.loop&&!o?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout(()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()},500)),e.allowSlidePrev=s,e.allowSlideNext=a,e.params.watchOverflow&&i!==e.snapGrid&&e.checkOverflow()}function VLe(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function qLe(){const e=this,{wrapperEl:t,rtlTranslate:r,enabled:a}=e;if(!a)return;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,e.translate===0&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();let s;const i=e.maxTranslate()-e.minTranslate();i===0?s=0:s=(e.translate-e.minTranslate())/i,s!==e.progress&&e.updateProgress(r?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function KLe(e){const t=this;Ew(t,e.target),!(t.params.cssMode||t.params.slidesPerView!=="auto"&&!t.params.autoHeight)&&t.update()}function GLe(){const e=this;e.documentTouchHandlerProceeded||(e.documentTouchHandlerProceeded=!0,e.params.touchReleaseOnEdges&&(e.el.style.touchAction="auto"))}const aX=(e,t)=>{const r=Jh(),{params:a,el:s,wrapperEl:i,device:o}=e,l=!!a.nested,c=t==="on"?"addEventListener":"removeEventListener",u=t;!s||typeof s=="string"||(r[c]("touchstart",e.onDocumentTouchStart,{passive:!1,capture:l}),s[c]("touchstart",e.onTouchStart,{passive:!1}),s[c]("pointerdown",e.onTouchStart,{passive:!1}),r[c]("touchmove",e.onTouchMove,{passive:!1,capture:l}),r[c]("pointermove",e.onTouchMove,{passive:!1,capture:l}),r[c]("touchend",e.onTouchEnd,{passive:!0}),r[c]("pointerup",e.onTouchEnd,{passive:!0}),r[c]("pointercancel",e.onTouchEnd,{passive:!0}),r[c]("touchcancel",e.onTouchEnd,{passive:!0}),r[c]("pointerout",e.onTouchEnd,{passive:!0}),r[c]("pointerleave",e.onTouchEnd,{passive:!0}),r[c]("contextmenu",e.onTouchEnd,{passive:!0}),(a.preventClicks||a.preventClicksPropagation)&&s[c]("click",e.onClick,!0),a.cssMode&&i[c]("scroll",e.onScroll),a.updateOnWindowResize?e[u](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",eR,!0):e[u]("observerUpdate",eR,!0),s[c]("load",e.onLoad,{capture:!0}))};function WLe(){const e=this,{params:t}=e;e.onTouchStart=HLe.bind(e),e.onTouchMove=$Le.bind(e),e.onTouchEnd=zLe.bind(e),e.onDocumentTouchStart=GLe.bind(e),t.cssMode&&(e.onScroll=qLe.bind(e)),e.onClick=VLe.bind(e),e.onLoad=KLe.bind(e),aX(e,"on")}function YLe(){aX(this,"off")}var XLe={attachEvents:WLe,detachEvents:YLe};const tR=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;function JLe(){const e=this,{realIndex:t,initialized:r,params:a,el:s}=e,i=a.breakpoints;if(!i||i&&Object.keys(i).length===0)return;const o=Jh(),l=a.breakpointsBase==="window"||!a.breakpointsBase?a.breakpointsBase:"container",c=["window","container"].includes(a.breakpointsBase)||!a.breakpointsBase?e.el:o.querySelector(a.breakpointsBase),u=e.getBreakpoint(i,l,c);if(!u||e.currentBreakpoint===u)return;const A=(u in i?i[u]:void 0)||e.originalParams,m=tR(e,a),h=tR(e,A),y=e.params.grabCursor,x=A.grabCursor,v=a.enabled;m&&!h?(s.classList.remove(`${a.containerModifierClass}grid`,`${a.containerModifierClass}grid-column`),e.emitContainerClasses()):!m&&h&&(s.classList.add(`${a.containerModifierClass}grid`),(A.grid.fill&&A.grid.fill==="column"||!A.grid.fill&&a.grid.fill==="column")&&s.classList.add(`${a.containerModifierClass}grid-column`),e.emitContainerClasses()),y&&!x?e.unsetGrabCursor():!y&&x&&e.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(D=>{if(typeof A[D]>"u")return;const L=a[D]&&a[D].enabled,F=A[D]&&A[D].enabled;L&&!F&&e[D].disable(),!L&&F&&e[D].enable()});const b=A.direction&&A.direction!==a.direction,j=a.loop&&(A.slidesPerView!==a.slidesPerView||b),C=a.loop;b&&r&&e.changeDirection(),Eu(e.params,A);const E=e.params.enabled,k=e.params.loop;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),v&&!E?e.disable():!v&&E&&e.enable(),e.currentBreakpoint=u,e.emit("_beforeBreakpoint",A),r&&(j?(e.loopDestroy(),e.loopCreate(t),e.updateSlides()):!C&&k?(e.loopCreate(t),e.updateSlides()):C&&!k&&e.loopDestroy()),e.emit("breakpoint",A)}function ZLe(e,t,r){if(t===void 0&&(t="window"),!e||t==="container"&&!r)return;let a=!1;const s=Cd(),i=t==="window"?s.innerHeight:r.clientHeight,o=Object.keys(e).map(l=>{if(typeof l=="string"&&l.indexOf("@")===0){const c=parseFloat(l.substr(1));return{value:i*c,point:l}}return{value:l,point:l}});o.sort((l,c)=>parseInt(l.value,10)-parseInt(c.value,10));for(let l=0;l<o.length;l+=1){const{point:c,value:u}=o[l];t==="window"?s.matchMedia(`(min-width: ${u}px)`).matches&&(a=c):u<=r.clientWidth&&(a=c)}return a||"max"}var eOe={setBreakpoint:JLe,getBreakpoint:ZLe};function tOe(e,t){const r=[];return e.forEach(a=>{typeof a=="object"?Object.keys(a).forEach(s=>{a[s]&&r.push(t+s)}):typeof a=="string"&&r.push(t+a)}),r}function rOe(){const e=this,{classNames:t,params:r,rtl:a,el:s,device:i}=e,o=tOe(["initialized",r.direction,{"free-mode":e.params.freeMode&&r.freeMode.enabled},{autoheight:r.autoHeight},{rtl:a},{grid:r.grid&&r.grid.rows>1},{"grid-column":r.grid&&r.grid.rows>1&&r.grid.fill==="column"},{android:i.android},{ios:i.ios},{"css-mode":r.cssMode},{centered:r.cssMode&&r.centeredSlides},{"watch-progress":r.watchSlidesProgress}],r.containerModifierClass);t.push(...o),s.classList.add(...t),e.emitContainerClasses()}function aOe(){const e=this,{el:t,classNames:r}=e;!t||typeof t=="string"||(t.classList.remove(...r),e.emitContainerClasses())}var nOe={addClasses:rOe,removeClasses:aOe};function sOe(){const e=this,{isLocked:t,params:r}=e,{slidesOffsetBefore:a}=r;if(a){const s=e.slides.length-1,i=e.slidesGrid[s]+e.slidesSizesGrid[s]+a*2;e.isLocked=e.size>i}else e.isLocked=e.snapGrid.length===1;r.allowSlideNext===!0&&(e.allowSlideNext=!e.isLocked),r.allowSlidePrev===!0&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}var iOe={checkOverflow:sOe},$E={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function oOe(e,t){return function(a){a===void 0&&(a={});const s=Object.keys(a)[0],i=a[s];if(typeof i!="object"||i===null){Eu(t,a);return}if(e[s]===!0&&(e[s]={enabled:!0}),s==="navigation"&&e[s]&&e[s].enabled&&!e[s].prevEl&&!e[s].nextEl&&(e[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&e[s]&&e[s].enabled&&!e[s].el&&(e[s].auto=!0),!(s in e&&"enabled"in i)){Eu(t,a);return}typeof e[s]=="object"&&!("enabled"in e[s])&&(e[s].enabled=!0),e[s]||(e[s]={enabled:!1}),Eu(t,a)}}const NC={eventsEmitter:nLe,update:mLe,translate:bLe,transition:SLe,slide:ILe,loop:DLe,grabCursor:RLe,events:XLe,breakpoints:eOe,checkOverflow:iOe,classes:nOe},jC={};let SF=class PA{constructor(){let t,r;for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];s.length===1&&s[0].constructor&&Object.prototype.toString.call(s[0]).slice(8,-1)==="Object"?r=s[0]:[t,r]=s,r||(r={}),r=Eu({},r),t&&!r.el&&(r.el=t);const o=Jh();if(r.el&&typeof r.el=="string"&&o.querySelectorAll(r.el).length>1){const d=[];return o.querySelectorAll(r.el).forEach(A=>{const m=Eu({},r,{el:A});d.push(new PA(m))}),d}const l=this;l.__swiper__=!0,l.support=ZY(),l.device=eX({userAgent:r.userAgent}),l.browser=tX(),l.eventsListeners={},l.eventsAnyListeners=[],l.modules=[...l.__modules__],r.modules&&Array.isArray(r.modules)&&l.modules.push(...r.modules);const c={};l.modules.forEach(d=>{d({params:r,swiper:l,extendParams:oOe(r,c),on:l.on.bind(l),once:l.once.bind(l),off:l.off.bind(l),emit:l.emit.bind(l)})});const u=Eu({},$E,c);return l.params=Eu({},u,jC,r),l.originalParams=Eu({},l.params),l.passedParams=Eu({},r),l.params&&l.params.on&&Object.keys(l.params.on).forEach(d=>{l.on(d,l.params.on[d])}),l.params&&l.params.onAny&&l.onAny(l.params.onAny),Object.assign(l,{enabled:l.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return l.params.direction==="horizontal"},isVertical(){return l.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:l.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.emit("_swiper"),l.params.init&&l.init(),l}getDirectionLabel(t){return this.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}getSlideIndex(t){const{slidesEl:r,params:a}=this,s=Vh(r,`.${a.slideClass}, swiper-slide`),i=Z4(s[0]);return Z4(t)-i}getSlideIndexByData(t){return this.getSlideIndex(this.slides.find(r=>r.getAttribute("data-swiper-slide-index")*1===t))}getSlideIndexWhenGrid(t){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?t=Math.floor(t/this.params.grid.rows):this.params.grid.fill==="row"&&(t=t%Math.ceil(this.slides.length/this.params.grid.rows))),t}recalcSlides(){const t=this,{slidesEl:r,params:a}=t;t.slides=Vh(r,`.${a.slideClass}, swiper-slide`)}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;t.enabled&&(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,r){const a=this;t=Math.min(Math.max(t,0),1);const s=a.minTranslate(),o=(a.maxTranslate()-s)*t+s;a.translateTo(o,typeof r>"u"?0:r),a.updateActiveIndex(),a.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const r=t.el.className.split(" ").filter(a=>a.indexOf("swiper")===0||a.indexOf(t.params.containerModifierClass)===0);t.emit("_containerClasses",r.join(" "))}getSlideClasses(t){const r=this;return r.destroyed?"":t.className.split(" ").filter(a=>a.indexOf("swiper-slide")===0||a.indexOf(r.params.slideClass)===0).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const r=[];t.slides.forEach(a=>{const s=t.getSlideClasses(a);r.push({slideEl:a,classNames:s}),t.emit("_slideClass",a,s)}),t.emit("_slideClasses",r)}slidesPerViewDynamic(t,r){t===void 0&&(t="current"),r===void 0&&(r=!1);const a=this,{params:s,slides:i,slidesGrid:o,slidesSizesGrid:l,size:c,activeIndex:u}=a;let d=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let A=i[u]?Math.ceil(i[u].swiperSlideSize):0,m;for(let h=u+1;h<i.length;h+=1)i[h]&&!m&&(A+=Math.ceil(i[h].swiperSlideSize),d+=1,A>c&&(m=!0));for(let h=u-1;h>=0;h-=1)i[h]&&!m&&(A+=i[h].swiperSlideSize,d+=1,A>c&&(m=!0))}else if(t==="current")for(let A=u+1;A<i.length;A+=1)(r?o[A]+l[A]-o[u]<c:o[A]-o[u]<c)&&(d+=1);else for(let A=u-1;A>=0;A-=1)o[u]-o[A]<c&&(d+=1);return d}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:r,params:a}=t;a.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&Ew(t,o)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses();function s(){const o=t.rtlTranslate?t.translate*-1:t.translate,l=Math.min(Math.max(o,t.maxTranslate()),t.minTranslate());t.setTranslate(l),t.updateActiveIndex(),t.updateSlidesClasses()}let i;if(a.freeMode&&a.freeMode.enabled&&!a.cssMode)s(),a.autoHeight&&t.updateAutoHeight();else{if((a.slidesPerView==="auto"||a.slidesPerView>1)&&t.isEnd&&!a.centeredSlides){const o=t.virtual&&a.virtual.enabled?t.virtual.slides:t.slides;i=t.slideTo(o.length-1,0,!1,!0)}else i=t.slideTo(t.activeIndex,0,!1,!0);i||s()}a.watchOverflow&&r!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,r){r===void 0&&(r=!0);const a=this,s=a.params.direction;return t||(t=s==="horizontal"?"vertical":"horizontal"),t===s||t!=="horizontal"&&t!=="vertical"||(a.el.classList.remove(`${a.params.containerModifierClass}${s}`),a.el.classList.add(`${a.params.containerModifierClass}${t}`),a.emitContainerClasses(),a.params.direction=t,a.slides.forEach(i=>{t==="vertical"?i.style.width="":i.style.height=""}),a.emit("changeDirection"),r&&a.update()),a}changeLanguageDirection(t){const r=this;r.rtl&&t==="rtl"||!r.rtl&&t==="ltr"||(r.rtl=t==="rtl",r.rtlTranslate=r.params.direction==="horizontal"&&r.rtl,r.rtl?(r.el.classList.add(`${r.params.containerModifierClass}rtl`),r.el.dir="rtl"):(r.el.classList.remove(`${r.params.containerModifierClass}rtl`),r.el.dir="ltr"),r.update())}mount(t){const r=this;if(r.mounted)return!0;let a=t||r.params.el;if(typeof a=="string"&&(a=document.querySelector(a)),!a)return!1;a.swiper=r,a.parentNode&&a.parentNode.host&&a.parentNode.host.nodeName===r.params.swiperElementNodeName.toUpperCase()&&(r.isElement=!0);const s=()=>`.${(r.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=a&&a.shadowRoot&&a.shadowRoot.querySelector?a.shadowRoot.querySelector(s()):Vh(a,s())[0];return!o&&r.params.createElements&&(o=J4("div",r.params.wrapperClass),a.append(o),Vh(a,`.${r.params.slideClass}`).forEach(l=>{o.append(l)})),Object.assign(r,{el:a,wrapperEl:o,slidesEl:r.isElement&&!a.parentNode.host.slideSlots?a.parentNode.host:o,hostEl:r.isElement?a.parentNode.host:a,mounted:!0,rtl:a.dir.toLowerCase()==="rtl"||i0(a,"direction")==="rtl",rtlTranslate:r.params.direction==="horizontal"&&(a.dir.toLowerCase()==="rtl"||i0(a,"direction")==="rtl"),wrongRTL:i0(o,"display")==="-webkit-box"}),!0}init(t){const r=this;if(r.initialized||r.mount(t)===!1)return r;r.emit("beforeInit"),r.params.breakpoints&&r.setBreakpoint(),r.addClasses(),r.updateSize(),r.updateSlides(),r.params.watchOverflow&&r.checkOverflow(),r.params.grabCursor&&r.enabled&&r.setGrabCursor(),r.params.loop&&r.virtual&&r.params.virtual.enabled?r.slideTo(r.params.initialSlide+r.virtual.slidesBefore,0,r.params.runCallbacksOnInit,!1,!0):r.slideTo(r.params.initialSlide,0,r.params.runCallbacksOnInit,!1,!0),r.params.loop&&r.loopCreate(void 0,!0),r.attachEvents();const s=[...r.el.querySelectorAll('[loading="lazy"]')];return r.isElement&&s.push(...r.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(i=>{i.complete?Ew(r,i):i.addEventListener("load",o=>{Ew(r,o.target)})}),HE(r),r.initialized=!0,HE(r),r.emit("init"),r.emit("afterInit"),r}destroy(t,r){t===void 0&&(t=!0),r===void 0&&(r=!0);const a=this,{params:s,el:i,wrapperEl:o,slides:l}=a;return typeof a.params>"u"||a.destroyed||(a.emit("beforeDestroy"),a.initialized=!1,a.detachEvents(),s.loop&&a.loopDestroy(),r&&(a.removeClasses(),i&&typeof i!="string"&&i.removeAttribute("style"),o&&o.removeAttribute("style"),l&&l.length&&l.forEach(c=>{c.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),c.removeAttribute("style"),c.removeAttribute("data-swiper-slide-index")})),a.emit("destroy"),Object.keys(a.eventsListeners).forEach(c=>{a.off(c)}),t!==!1&&(a.el&&typeof a.el!="string"&&(a.el.swiper=null),V7e(a)),a.destroyed=!0),null}static extendDefaults(t){Eu(jC,t)}static get extendedDefaults(){return jC}static get defaults(){return $E}static installModule(t){PA.prototype.__modules__||(PA.prototype.__modules__=[]);const r=PA.prototype.__modules__;typeof t=="function"&&r.indexOf(t)<0&&r.push(t)}static use(t){return Array.isArray(t)?(t.forEach(r=>PA.installModule(r)),PA):(PA.installModule(t),PA)}};Object.keys(NC).forEach(e=>{Object.keys(NC[e]).forEach(t=>{SF.prototype[t]=NC[e][t]})});SF.use([rLe,aLe]);const nX=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Yp(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"&&!e.__swiper__}function jx(e,t){const r=["__proto__","constructor","prototype"];Object.keys(t).filter(a=>r.indexOf(a)<0).forEach(a=>{typeof e[a]>"u"?e[a]=t[a]:Yp(t[a])&&Yp(e[a])&&Object.keys(t[a]).length>0?t[a].__swiper__?e[a]=t[a]:jx(e[a],t[a]):e[a]=t[a]})}function sX(e){return e===void 0&&(e={}),e.navigation&&typeof e.navigation.nextEl>"u"&&typeof e.navigation.prevEl>"u"}function iX(e){return e===void 0&&(e={}),e.pagination&&typeof e.pagination.el>"u"}function oX(e){return e===void 0&&(e={}),e.scrollbar&&typeof e.scrollbar.el>"u"}function lX(e){e===void 0&&(e="");const t=e.split(" ").map(a=>a.trim()).filter(a=>!!a),r=[];return t.forEach(a=>{r.indexOf(a)<0&&r.push(a)}),r.join(" ")}function lOe(e){return e===void 0&&(e=""),e?e.includes("swiper-wrapper")?e:`swiper-wrapper ${e}`:"swiper-wrapper"}function cOe(e){let{swiper:t,slides:r,passedParams:a,changedParams:s,nextEl:i,prevEl:o,scrollbarEl:l,paginationEl:c}=e;const u=s.filter(Q=>Q!=="children"&&Q!=="direction"&&Q!=="wrapperClass"),{params:d,pagination:A,navigation:m,scrollbar:h,virtual:y,thumbs:x}=t;let v,b,j,C,E,k,D,L;s.includes("thumbs")&&a.thumbs&&a.thumbs.swiper&&!a.thumbs.swiper.destroyed&&d.thumbs&&(!d.thumbs.swiper||d.thumbs.swiper.destroyed)&&(v=!0),s.includes("controller")&&a.controller&&a.controller.control&&d.controller&&!d.controller.control&&(b=!0),s.includes("pagination")&&a.pagination&&(a.pagination.el||c)&&(d.pagination||d.pagination===!1)&&A&&!A.el&&(j=!0),s.includes("scrollbar")&&a.scrollbar&&(a.scrollbar.el||l)&&(d.scrollbar||d.scrollbar===!1)&&h&&!h.el&&(C=!0),s.includes("navigation")&&a.navigation&&(a.navigation.prevEl||o)&&(a.navigation.nextEl||i)&&(d.navigation||d.navigation===!1)&&m&&!m.prevEl&&!m.nextEl&&(E=!0);const F=Q=>{t[Q]&&(t[Q].destroy(),Q==="navigation"?(t.isElement&&(t[Q].prevEl.remove(),t[Q].nextEl.remove()),d[Q].prevEl=void 0,d[Q].nextEl=void 0,t[Q].prevEl=void 0,t[Q].nextEl=void 0):(t.isElement&&t[Q].el.remove(),d[Q].el=void 0,t[Q].el=void 0))};s.includes("loop")&&t.isElement&&(d.loop&&!a.loop?k=!0:!d.loop&&a.loop?D=!0:L=!0),u.forEach(Q=>{if(Yp(d[Q])&&Yp(a[Q]))Object.assign(d[Q],a[Q]),(Q==="navigation"||Q==="pagination"||Q==="scrollbar")&&"enabled"in a[Q]&&!a[Q].enabled&&F(Q);else{const U=a[Q];(U===!0||U===!1)&&(Q==="navigation"||Q==="pagination"||Q==="scrollbar")?U===!1&&F(Q):d[Q]=a[Q]}}),u.includes("controller")&&!b&&t.controller&&t.controller.control&&d.controller&&d.controller.control&&(t.controller.control=d.controller.control),s.includes("children")&&r&&y&&d.virtual.enabled?(y.slides=r,y.update(!0)):s.includes("virtual")&&y&&d.virtual.enabled&&(r&&(y.slides=r),y.update(!0)),s.includes("children")&&r&&d.loop&&(L=!0),v&&x.init()&&x.update(!0),b&&(t.controller.control=d.controller.control),j&&(t.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-pagination"),c.part.add("pagination"),t.el.appendChild(c)),c&&(d.pagination.el=c),A.init(),A.render(),A.update()),C&&(t.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-scrollbar"),l.part.add("scrollbar"),t.el.appendChild(l)),l&&(d.scrollbar.el=l),h.init(),h.updateSize(),h.setTranslate()),E&&(t.isElement&&((!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-next"),e5(i,t.hostEl.constructor.nextButtonSvg),i.part.add("button-next"),t.el.appendChild(i)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),e5(o,t.hostEl.constructor.prevButtonSvg),o.part.add("button-prev"),t.el.appendChild(o))),i&&(d.navigation.nextEl=i),o&&(d.navigation.prevEl=o),m.init(),m.update()),s.includes("allowSlideNext")&&(t.allowSlideNext=a.allowSlideNext),s.includes("allowSlidePrev")&&(t.allowSlidePrev=a.allowSlidePrev),s.includes("direction")&&t.changeDirection(a.direction,!1),(k||L)&&t.loopDestroy(),(D||L)&&t.loopCreate(),t.update()}function dOe(e,t){e===void 0&&(e={}),t===void 0&&(t=!0);const r={on:{}},a={},s={};jx(r,$E),r._emitClasses=!0,r.init=!1;const i={},o=nX.map(c=>c.replace(/_/,"")),l=Object.assign({},e);return Object.keys(l).forEach(c=>{typeof e[c]>"u"||(o.indexOf(c)>=0?Yp(e[c])?(r[c]={},s[c]={},jx(r[c],e[c]),jx(s[c],e[c])):(r[c]=e[c],s[c]=e[c]):c.search(/on[A-Z]/)===0&&typeof e[c]=="function"?t?a[`${c[2].toLowerCase()}${c.substr(3)}`]=e[c]:r.on[`${c[2].toLowerCase()}${c.substr(3)}`]=e[c]:i[c]=e[c])}),["navigation","pagination","scrollbar"].forEach(c=>{r[c]===!0&&(r[c]={}),r[c]===!1&&delete r[c]}),{params:r,passedParams:s,rest:i,events:a}}function uOe(e,t){let{el:r,nextEl:a,prevEl:s,paginationEl:i,scrollbarEl:o,swiper:l}=e;sX(t)&&a&&s&&(l.params.navigation.nextEl=a,l.originalParams.navigation.nextEl=a,l.params.navigation.prevEl=s,l.originalParams.navigation.prevEl=s),iX(t)&&i&&(l.params.pagination.el=i,l.originalParams.pagination.el=i),oX(t)&&o&&(l.params.scrollbar.el=o,l.originalParams.scrollbar.el=o),l.init(r)}function fOe(e,t,r,a,s){const i=[];if(!t)return i;const o=c=>{i.indexOf(c)<0&&i.push(c)};if(r&&a){const c=a.map(s),u=r.map(s);c.join("")!==u.join("")&&o("children"),a.length!==r.length&&o("children")}return nX.filter(c=>c[0]==="_").map(c=>c.replace(/_/,"")).forEach(c=>{if(c in e&&c in t)if(Yp(e[c])&&Yp(t[c])){const u=Object.keys(e[c]),d=Object.keys(t[c]);u.length!==d.length?o(c):(u.forEach(A=>{e[c][A]!==t[c][A]&&o(c)}),d.forEach(A=>{e[c][A]!==t[c][A]&&o(c)}))}else e[c]!==t[c]&&o(c)}),i}const hOe=e=>{!e||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.emit("_virtualUpdated"),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())};function t5(){return t5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},t5.apply(this,arguments)}function cX(e){return e.type&&e.type.displayName&&e.type.displayName.includes("SwiperSlide")}function dX(e){const t=[];return ya.Children.toArray(e).forEach(r=>{cX(r)?t.push(r):r.props&&r.props.children&&dX(r.props.children).forEach(a=>t.push(a))}),t}function AOe(e){const t=[],r={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return ya.Children.toArray(e).forEach(a=>{if(cX(a))t.push(a);else if(a.props&&a.props.slot&&r[a.props.slot])r[a.props.slot].push(a);else if(a.props&&a.props.children){const s=dX(a.props.children);s.length>0?s.forEach(i=>t.push(i)):r["container-end"].push(a)}else r["container-end"].push(a)}),{slides:t,slots:r}}function mOe(e,t,r){if(!r)return null;const a=d=>{let A=d;return d<0?A=t.length+d:A>=t.length&&(A=A-t.length),A},s=e.isHorizontal()?{[e.rtlTranslate?"right":"left"]:`${r.offset}px`}:{top:`${r.offset}px`},{from:i,to:o}=r,l=e.params.loop?-t.length:0,c=e.params.loop?t.length*2:t.length,u=[];for(let d=l;d<c;d+=1)d>=i&&d<=o&&u.push(t[a(d)]);return u.map((d,A)=>ya.cloneElement(d,{swiper:e,style:s,key:d.props.virtualIndex||d.key||`slide-${A}`}))}function Wy(e,t){return typeof window>"u"?S.useEffect(e,t):S.useLayoutEffect(e,t)}const rR=S.createContext(null),pOe=S.createContext(null),uX=S.forwardRef(function(e,t){let{className:r,tag:a="div",wrapperTag:s="div",children:i,onSwiper:o,...l}=e===void 0?{}:e,c=!1;const[u,d]=S.useState("swiper"),[A,m]=S.useState(null),[h,y]=S.useState(!1),x=S.useRef(!1),v=S.useRef(null),b=S.useRef(null),j=S.useRef(null),C=S.useRef(null),E=S.useRef(null),k=S.useRef(null),D=S.useRef(null),L=S.useRef(null),{params:F,passedParams:Q,rest:U,events:P}=dOe(l),{slides:I,slots:z}=AOe(i),W=()=>{y(!h)};Object.assign(F.on,{_containerClasses(he,de){d(de)}});const ie=()=>{Object.assign(F.on,P),c=!0;const he={...F};if(delete he.wrapperClass,b.current=new SF(he),b.current.virtual&&b.current.params.virtual.enabled){b.current.virtual.slides=I;const de={cache:!1,slides:I,renderExternal:m,renderExternalUpdate:!1};jx(b.current.params.virtual,de),jx(b.current.originalParams.virtual,de)}};v.current||ie(),b.current&&b.current.on("_beforeBreakpoint",W);const X=()=>{c||!P||!b.current||Object.keys(P).forEach(he=>{b.current.on(he,P[he])})},le=()=>{!P||!b.current||Object.keys(P).forEach(he=>{b.current.off(he,P[he])})};S.useEffect(()=>()=>{b.current&&b.current.off("_beforeBreakpoint",W)}),S.useEffect(()=>{!x.current&&b.current&&(b.current.emitSlidesClasses(),x.current=!0)}),Wy(()=>{if(t&&(t.current=v.current),!!v.current)return b.current.destroyed&&ie(),uOe({el:v.current,nextEl:E.current,prevEl:k.current,paginationEl:D.current,scrollbarEl:L.current,swiper:b.current},F),o&&!b.current.destroyed&&o(b.current),()=>{b.current&&!b.current.destroyed&&b.current.destroy(!0,!1)}},[]),Wy(()=>{X();const he=fOe(Q,j.current,I,C.current,de=>de.key);return j.current=Q,C.current=I,he.length&&b.current&&!b.current.destroyed&&cOe({swiper:b.current,slides:I,passedParams:Q,changedParams:he,nextEl:E.current,prevEl:k.current,scrollbarEl:L.current,paginationEl:D.current}),()=>{le()}}),Wy(()=>{hOe(b.current)},[A]);function re(){return F.virtual?mOe(b.current,I,A):I.map((he,de)=>ya.cloneElement(he,{swiper:b.current,swiperSlideIndex:de}))}return ya.createElement(a,t5({ref:v,className:lX(`${u}${r?` ${r}`:""}`)},U),ya.createElement(pOe.Provider,{value:b.current},z["container-start"],ya.createElement(s,{className:lOe(F.wrapperClass)},z["wrapper-start"],re(),z["wrapper-end"]),sX(F)&&ya.createElement(ya.Fragment,null,ya.createElement("div",{ref:k,className:"swiper-button-prev"}),ya.createElement("div",{ref:E,className:"swiper-button-next"})),oX(F)&&ya.createElement("div",{ref:L,className:"swiper-scrollbar"}),iX(F)&&ya.createElement("div",{ref:D,className:"swiper-pagination"}),z["container-end"]))});uX.displayName="Swiper";const fX=S.forwardRef(function(e,t){let{tag:r="div",children:a,className:s="",swiper:i,zoom:o,lazy:l,virtualIndex:c,swiperSlideIndex:u,...d}=e===void 0?{}:e;const A=S.useRef(null),[m,h]=S.useState("swiper-slide"),[y,x]=S.useState(!1);function v(E,k,D){k===A.current&&h(D)}Wy(()=>{if(typeof u<"u"&&(A.current.swiperSlideIndex=u),t&&(t.current=A.current),!(!A.current||!i)){if(i.destroyed){m!=="swiper-slide"&&h("swiper-slide");return}return i.on("_slideClass",v),()=>{i&&i.off("_slideClass",v)}}}),Wy(()=>{i&&A.current&&!i.destroyed&&h(i.getSlideClasses(A.current))},[i]);const b={isActive:m.indexOf("swiper-slide-active")>=0,isVisible:m.indexOf("swiper-slide-visible")>=0,isPrev:m.indexOf("swiper-slide-prev")>=0,isNext:m.indexOf("swiper-slide-next")>=0},j=()=>typeof a=="function"?a(b):a,C=()=>{x(!0)};return ya.createElement(r,t5({ref:A,className:lX(`${m}${s?` ${s}`:""}`),"data-swiper-slide-index":c,onLoad:C},d),o&&ya.createElement(rR.Provider,{value:b},ya.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},j(),l&&!y&&ya.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&ya.createElement(rR.Provider,{value:b},j(),l&&!y&&ya.createElement("div",{className:"swiper-lazy-preloader"})))});fX.displayName="SwiperSlide";function gOe(e,t,r,a){return e.params.createElements&&Object.keys(a).forEach(s=>{if(!r[s]&&r.auto===!0){let i=Vh(e.el,`.${a[s]}`)[0];i||(i=J4("div",a[s]),i.className=a[s],e.el.append(i)),r[s]=i,t[s]=i}}),r}function my(e){return e===void 0&&(e=""),`.${e.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function xOe(e){let{swiper:t,extendParams:r,on:a,emit:s}=e;const i="swiper-pagination";r({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:j=>j,formatFractionTotal:j=>j,bulletClass:`${i}-bullet`,bulletActiveClass:`${i}-bullet-active`,modifierClass:`${i}-`,currentClass:`${i}-current`,totalClass:`${i}-total`,hiddenClass:`${i}-hidden`,progressbarFillClass:`${i}-progressbar-fill`,progressbarOppositeClass:`${i}-progressbar-opposite`,clickableClass:`${i}-clickable`,lockClass:`${i}-lock`,horizontalClass:`${i}-horizontal`,verticalClass:`${i}-vertical`,paginationDisabledClass:`${i}-disabled`}}),t.pagination={el:null,bullets:[]};let o,l=0;function c(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&t.pagination.el.length===0}function u(j,C){const{bulletActiveClass:E}=t.params.pagination;j&&(j=j[`${C==="prev"?"previous":"next"}ElementSibling`],j&&(j.classList.add(`${E}-${C}`),j=j[`${C==="prev"?"previous":"next"}ElementSibling`],j&&j.classList.add(`${E}-${C}-${C}`)))}function d(j,C,E){if(j=j%E,C=C%E,C===j+1)return"next";if(C===j-1)return"previous"}function A(j){const C=j.target.closest(my(t.params.pagination.bulletClass));if(!C)return;j.preventDefault();const E=Z4(C)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===E)return;const k=d(t.realIndex,E,t.slides.length);k==="next"?t.slideNext():k==="previous"?t.slidePrev():t.slideToLoop(E)}else t.slideTo(E)}function m(){const j=t.rtl,C=t.params.pagination;if(c())return;let E=t.pagination.el;E=IA(E);let k,D;const L=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,F=t.params.loop?Math.ceil(L/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(D=t.previousRealIndex||0,k=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):typeof t.snapIndex<"u"?(k=t.snapIndex,D=t.previousSnapIndex):(D=t.previousIndex||0,k=t.activeIndex||0),C.type==="bullets"&&t.pagination.bullets&&t.pagination.bullets.length>0){const Q=t.pagination.bullets;let U,P,I;if(C.dynamicBullets&&(o=QE(Q[0],t.isHorizontal()?"width":"height"),E.forEach(z=>{z.style[t.isHorizontal()?"width":"height"]=`${o*(C.dynamicMainBullets+4)}px`}),C.dynamicMainBullets>1&&D!==void 0&&(l+=k-(D||0),l>C.dynamicMainBullets-1?l=C.dynamicMainBullets-1:l<0&&(l=0)),U=Math.max(k-l,0),P=U+(Math.min(Q.length,C.dynamicMainBullets)-1),I=(P+U)/2),Q.forEach(z=>{const W=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(ie=>`${C.bulletActiveClass}${ie}`)].map(ie=>typeof ie=="string"&&ie.includes(" ")?ie.split(" "):ie).flat();z.classList.remove(...W)}),E.length>1)Q.forEach(z=>{const W=Z4(z);W===k?z.classList.add(...C.bulletActiveClass.split(" ")):t.isElement&&z.setAttribute("part","bullet"),C.dynamicBullets&&(W>=U&&W<=P&&z.classList.add(...`${C.bulletActiveClass}-main`.split(" ")),W===U&&u(z,"prev"),W===P&&u(z,"next"))});else{const z=Q[k];if(z&&z.classList.add(...C.bulletActiveClass.split(" ")),t.isElement&&Q.forEach((W,ie)=>{W.setAttribute("part",ie===k?"bullet-active":"bullet")}),C.dynamicBullets){const W=Q[U],ie=Q[P];for(let X=U;X<=P;X+=1)Q[X]&&Q[X].classList.add(...`${C.bulletActiveClass}-main`.split(" "));u(W,"prev"),u(ie,"next")}}if(C.dynamicBullets){const z=Math.min(Q.length,C.dynamicMainBullets+4),W=(o*z-o)/2-I*o,ie=j?"right":"left";Q.forEach(X=>{X.style[t.isHorizontal()?ie:"top"]=`${W}px`})}}E.forEach((Q,U)=>{if(C.type==="fraction"&&(Q.querySelectorAll(my(C.currentClass)).forEach(P=>{P.textContent=C.formatFractionCurrent(k+1)}),Q.querySelectorAll(my(C.totalClass)).forEach(P=>{P.textContent=C.formatFractionTotal(F)})),C.type==="progressbar"){let P;C.progressbarOpposite?P=t.isHorizontal()?"vertical":"horizontal":P=t.isHorizontal()?"horizontal":"vertical";const I=(k+1)/F;let z=1,W=1;P==="horizontal"?z=I:W=I,Q.querySelectorAll(my(C.progressbarFillClass)).forEach(ie=>{ie.style.transform=`translate3d(0,0,0) scaleX(${z}) scaleY(${W})`,ie.style.transitionDuration=`${t.params.speed}ms`})}C.type==="custom"&&C.renderCustom?(e5(Q,C.renderCustom(t,k+1,F)),U===0&&s("paginationRender",Q)):(U===0&&s("paginationRender",Q),s("paginationUpdate",Q)),t.params.watchOverflow&&t.enabled&&Q.classList[t.isLocked?"add":"remove"](C.lockClass)})}function h(){const j=t.params.pagination;if(c())return;const C=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.grid&&t.params.grid.rows>1?t.slides.length/Math.ceil(t.params.grid.rows):t.slides.length;let E=t.pagination.el;E=IA(E);let k="";if(j.type==="bullets"){let D=t.params.loop?Math.ceil(C/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&D>C&&(D=C);for(let L=0;L<D;L+=1)j.renderBullet?k+=j.renderBullet.call(t,L,j.bulletClass):k+=`<${j.bulletElement} ${t.isElement?'part="bullet"':""} class="${j.bulletClass}"></${j.bulletElement}>`}j.type==="fraction"&&(j.renderFraction?k=j.renderFraction.call(t,j.currentClass,j.totalClass):k=`<span class="${j.currentClass}"></span> / <span class="${j.totalClass}"></span>`),j.type==="progressbar"&&(j.renderProgressbar?k=j.renderProgressbar.call(t,j.progressbarFillClass):k=`<span class="${j.progressbarFillClass}"></span>`),t.pagination.bullets=[],E.forEach(D=>{j.type!=="custom"&&e5(D,k||""),j.type==="bullets"&&t.pagination.bullets.push(...D.querySelectorAll(my(j.bulletClass)))}),j.type!=="custom"&&s("paginationRender",E[0])}function y(){t.params.pagination=gOe(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const j=t.params.pagination;if(!j.el)return;let C;typeof j.el=="string"&&t.isElement&&(C=t.el.querySelector(j.el)),!C&&typeof j.el=="string"&&(C=[...document.querySelectorAll(j.el)]),C||(C=j.el),!(!C||C.length===0)&&(t.params.uniqueNavElements&&typeof j.el=="string"&&Array.isArray(C)&&C.length>1&&(C=[...t.el.querySelectorAll(j.el)],C.length>1&&(C=C.find(E=>JY(E,".swiper")[0]===t.el))),Array.isArray(C)&&C.length===1&&(C=C[0]),Object.assign(t.pagination,{el:C}),C=IA(C),C.forEach(E=>{j.type==="bullets"&&j.clickable&&E.classList.add(...(j.clickableClass||"").split(" ")),E.classList.add(j.modifierClass+j.type),E.classList.add(t.isHorizontal()?j.horizontalClass:j.verticalClass),j.type==="bullets"&&j.dynamicBullets&&(E.classList.add(`${j.modifierClass}${j.type}-dynamic`),l=0,j.dynamicMainBullets<1&&(j.dynamicMainBullets=1)),j.type==="progressbar"&&j.progressbarOpposite&&E.classList.add(j.progressbarOppositeClass),j.clickable&&E.addEventListener("click",A),t.enabled||E.classList.add(j.lockClass)}))}function x(){const j=t.params.pagination;if(c())return;let C=t.pagination.el;C&&(C=IA(C),C.forEach(E=>{E.classList.remove(j.hiddenClass),E.classList.remove(j.modifierClass+j.type),E.classList.remove(t.isHorizontal()?j.horizontalClass:j.verticalClass),j.clickable&&(E.classList.remove(...(j.clickableClass||"").split(" ")),E.removeEventListener("click",A))})),t.pagination.bullets&&t.pagination.bullets.forEach(E=>E.classList.remove(...j.bulletActiveClass.split(" ")))}a("changeDirection",()=>{if(!t.pagination||!t.pagination.el)return;const j=t.params.pagination;let{el:C}=t.pagination;C=IA(C),C.forEach(E=>{E.classList.remove(j.horizontalClass,j.verticalClass),E.classList.add(t.isHorizontal()?j.horizontalClass:j.verticalClass)})}),a("init",()=>{t.params.pagination.enabled===!1?b():(y(),h(),m())}),a("activeIndexChange",()=>{typeof t.snapIndex>"u"&&m()}),a("snapIndexChange",()=>{m()}),a("snapGridLengthChange",()=>{h(),m()}),a("destroy",()=>{x()}),a("enable disable",()=>{let{el:j}=t.pagination;j&&(j=IA(j),j.forEach(C=>C.classList[t.enabled?"remove":"add"](t.params.pagination.lockClass)))}),a("lock unlock",()=>{m()}),a("click",(j,C)=>{const E=C.target,k=IA(t.pagination.el);if(t.params.pagination.el&&t.params.pagination.hideOnClick&&k&&k.length>0&&!E.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&E===t.navigation.nextEl||t.navigation.prevEl&&E===t.navigation.prevEl))return;const D=k[0].classList.contains(t.params.pagination.hiddenClass);s(D===!0?"paginationShow":"paginationHide"),k.forEach(L=>L.classList.toggle(t.params.pagination.hiddenClass))}});const v=()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:j}=t.pagination;j&&(j=IA(j),j.forEach(C=>C.classList.remove(t.params.pagination.paginationDisabledClass))),y(),h(),m()},b=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:j}=t.pagination;j&&(j=IA(j),j.forEach(C=>C.classList.add(t.params.pagination.paginationDisabledClass))),x()};Object.assign(t.pagination,{enable:v,disable:b,render:h,update:m,init:y,destroy:x})}function yOe(e){let{swiper:t,extendParams:r,on:a,emit:s,params:i}=e;t.autoplay={running:!1,paused:!1,timeLeft:0},r({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let o,l,c=i&&i.autoplay?i.autoplay.delay:3e3,u=i&&i.autoplay?i.autoplay.delay:3e3,d,A=new Date().getTime(),m,h,y,x,v,b,j;function C(re){!t||t.destroyed||!t.wrapperEl||re.target===t.wrapperEl&&(t.wrapperEl.removeEventListener("transitionend",C),!(j||re.detail&&re.detail.bySwiperTouchMove)&&U())}const E=()=>{if(t.destroyed||!t.autoplay.running)return;t.autoplay.paused?m=!0:m&&(u=d,m=!1);const re=t.autoplay.paused?d:A+u-new Date().getTime();t.autoplay.timeLeft=re,s("autoplayTimeLeft",re,re/c),l=requestAnimationFrame(()=>{E()})},k=()=>{let re;return t.virtual&&t.params.virtual.enabled?re=t.slides.find(de=>de.classList.contains("swiper-slide-active")):re=t.slides[t.activeIndex],re?parseInt(re.getAttribute("data-swiper-autoplay"),10):void 0},D=re=>{if(t.destroyed||!t.autoplay.running)return;cancelAnimationFrame(l),E();let he=typeof re>"u"?t.params.autoplay.delay:re;c=t.params.autoplay.delay,u=t.params.autoplay.delay;const de=k();!Number.isNaN(de)&&de>0&&typeof re>"u"&&(he=de,c=de,u=de),d=he;const ve=t.params.speed,B=()=>{!t||t.destroyed||(t.params.autoplay.reverseDirection?!t.isBeginning||t.params.loop||t.params.rewind?(t.slidePrev(ve,!0,!0),s("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(t.slides.length-1,ve,!0,!0),s("autoplay")):!t.isEnd||t.params.loop||t.params.rewind?(t.slideNext(ve,!0,!0),s("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(0,ve,!0,!0),s("autoplay")),t.params.cssMode&&(A=new Date().getTime(),requestAnimationFrame(()=>{D()})))};return he>0?(clearTimeout(o),o=setTimeout(()=>{B()},he)):requestAnimationFrame(()=>{B()}),he},L=()=>{A=new Date().getTime(),t.autoplay.running=!0,D(),s("autoplayStart")},F=()=>{t.autoplay.running=!1,clearTimeout(o),cancelAnimationFrame(l),s("autoplayStop")},Q=(re,he)=>{if(t.destroyed||!t.autoplay.running)return;clearTimeout(o),re||(b=!0);const de=()=>{s("autoplayPause"),t.params.autoplay.waitForTransition?t.wrapperEl.addEventListener("transitionend",C):U()};if(t.autoplay.paused=!0,he){v&&(d=t.params.autoplay.delay),v=!1,de();return}d=(d||t.params.autoplay.delay)-(new Date().getTime()-A),!(t.isEnd&&d<0&&!t.params.loop)&&(d<0&&(d=0),de())},U=()=>{t.isEnd&&d<0&&!t.params.loop||t.destroyed||!t.autoplay.running||(A=new Date().getTime(),b?(b=!1,D(d)):D(),t.autoplay.paused=!1,s("autoplayResume"))},P=()=>{if(t.destroyed||!t.autoplay.running)return;const re=Jh();re.visibilityState==="hidden"&&(b=!0,Q(!0)),re.visibilityState==="visible"&&U()},I=re=>{re.pointerType==="mouse"&&(b=!0,j=!0,!(t.animating||t.autoplay.paused)&&Q(!0))},z=re=>{re.pointerType==="mouse"&&(j=!1,t.autoplay.paused&&U())},W=()=>{t.params.autoplay.pauseOnMouseEnter&&(t.el.addEventListener("pointerenter",I),t.el.addEventListener("pointerleave",z))},ie=()=>{t.el&&typeof t.el!="string"&&(t.el.removeEventListener("pointerenter",I),t.el.removeEventListener("pointerleave",z))},X=()=>{Jh().addEventListener("visibilitychange",P)},le=()=>{Jh().removeEventListener("visibilitychange",P)};a("init",()=>{t.params.autoplay.enabled&&(W(),X(),L())}),a("destroy",()=>{ie(),le(),t.autoplay.running&&F()}),a("_freeModeStaticRelease",()=>{(y||b)&&U()}),a("_freeModeNoMomentumRelease",()=>{t.params.autoplay.disableOnInteraction?F():Q(!0,!0)}),a("beforeTransitionStart",(re,he,de)=>{t.destroyed||!t.autoplay.running||(de||!t.params.autoplay.disableOnInteraction?Q(!0,!0):F())}),a("sliderFirstMove",()=>{if(!(t.destroyed||!t.autoplay.running)){if(t.params.autoplay.disableOnInteraction){F();return}h=!0,y=!1,b=!1,x=setTimeout(()=>{b=!0,y=!0,Q(!0)},200)}}),a("touchEnd",()=>{if(!(t.destroyed||!t.autoplay.running||!h)){if(clearTimeout(x),clearTimeout(o),t.params.autoplay.disableOnInteraction){y=!1,h=!1;return}y&&t.params.cssMode&&U(),y=!1,h=!1}}),a("slideChange",()=>{t.destroyed||!t.autoplay.running||(v=!0)}),Object.assign(t.autoplay,{start:L,stop:F,pause:Q,resume:U})}const vOe=()=>{const e=[{quote:"Vidyaastra has transformed the way our school operates. Its simple, efficient, and keeps parents, teachers, and management connected seamlessly.",author:"E Krishnappa - Chairman",school:"SM English Medium High School - Bangalore"},{quote:"A user-friendly solution that saves time, improves communication, and ensures smooth school management.",author:"Principal",school:"Sanskruthi School - Bangalore"},{quote:"Simple, reliable, and effective  Vidyaastra has become an integral part of our schools success.",author:"Principal",school:"MES Kishore Kendra- Bangalore"},{quote:"With Vidyaastra, we have better control, happier parents, and efficient teachers  truly a complete school app.",author:"Principal",school:"Sujana Convent Bangalore."}];return n.jsxs("section",{className:"bg-gray-100 py-14 px-4 font-sans overflow-hidden",children:[n.jsxs("div",{className:"text-center mb-10",children:[n.jsxs(ba.h1,{className:"text-3xl sm:text-4xl lg:text-4xl font-bold text-gray-900 mb-3 tracking-tight",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[n.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-orange-500 to-orange-700",children:"What Schools Say"})," ","About Us"]}),n.jsx(ba.p,{className:"text-base sm:text-lg text-gray-500 max-w-2xl mx-auto leading-relaxed",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.2},children:"Hear from educators who have transformed their operations with Vidyaastras intuitive platform."})]}),n.jsx("div",{className:"max-w-7xl mx-auto px-2",children:n.jsx(uX,{modules:[xOe,yOe],spaceBetween:20,slidesPerView:1,breakpoints:{640:{slidesPerView:2,spaceBetween:20},1024:{slidesPerView:4,spaceBetween:25}},pagination:{clickable:!0},autoplay:{delay:3500,disableOnInteraction:!1},loop:!0,className:"pb-8",children:e.map((t,r)=>n.jsx(fX,{children:n.jsxs(ba.div,{className:"relative bg-white mb-3 rounded-2xl shadow-md p-4 transform transition-all duration-300 hover:scale-[1.02] hover:shadow-lg cursor-pointer group flex flex-col h-56",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:r*.1},children:[n.jsx("div",{className:"text-orange-500 mb-2",children:n.jsx(vs,{icon:_7e,className:"w-5 h-5 opacity-70 group-hover:opacity-100 transition-opacity","aria-hidden":"true"})}),n.jsxs("blockquote",{className:"text-gray-600 text-sm sm:text-base leading-relaxed mb-3 flex-grow",children:["",t.quote,""]}),n.jsxs("div",{className:"mt-auto",children:[n.jsx("div",{className:"text-gray-900 font-semibold text-sm",children:t.author}),n.jsx("div",{className:"text-gray-500 text-xs",children:t.school})]})]})},r))})}),n.jsx("style",{children:`
          .swiper-pagination-bullet {
            background-color: #cbd5e1;
            opacity: 1;
            width: 8px;
            height: 8px;
            transition: all 0.3s ease;
          }
          .swiper-pagination-bullet-active {
            background-color: #f97316;
            width: 12px;
            height: 12px;
          }
        `})]})},bOe=()=>{yc();const[e,t]=S.useState(!1),r=[d7e,u7e],[a,s]=S.useState(0);S.useEffect(()=>{const o=setTimeout(()=>{t(!0)},2e3);return()=>clearTimeout(o)},[]),S.useEffect(()=>{const o=setInterval(()=>{s(l=>(l+1)%r.length)},3e3);return()=>clearInterval(o)},[r.length]);const i=()=>{window.open("https://wa.me/8123486068","_blank")};return n.jsxs("div",{className:"min-h-screen font-sans overflow-x-hidden relative",children:[n.jsxs("div",{className:"fixed inset-0 -z-10 overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-50 via-purple-50 to-orange-50 opacity-90"}),n.jsx("div",{className:"absolute top-0 left-0 w-full h-full",children:[...Array(15)].map((o,l)=>n.jsx(ba.div,{className:"absolute rounded-full opacity-20",style:{background:"linear-gradient(135deg, #4f46e5, #ea580c)",width:Math.floor(Math.random()*200)+50+"px",height:Math.floor(Math.random()*200)+50+"px",top:Math.floor(Math.random()*100)+"%",left:Math.floor(Math.random()*100)+"%"},animate:{y:[0,Math.floor(Math.random()*40)-20,0],x:[0,Math.floor(Math.random()*40)-20,0],scale:[1,1.1,1]},transition:{duration:Math.floor(Math.random()*10)+10,repeat:1/0,ease:"easeInOut"}},l))})]}),n.jsx("style",{children:`
        @keyframes fadeInUp {
          from { opacity: 0; transform: translateY(30px); }
          to { opacity: 1; transform: translateY(0); }
        }
        @keyframes slideInLeft {
          from { opacity: 0; transform: translateX(-30px); }
          to { opacity: 1; transform: translateX(0); }
        }
        @keyframes slideInRight {
          from { opacity: 0; transform: translateX(30px); }
          to { opacity: 1; transform: translateX(0); }
        }
        @keyframes float {
          0%, 100% { transform: translateY(0px); }
          50% { transform: translateY(-8px); }
        }
        @keyframes pulse-glow {
          0% { box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); }
          50% { box-shadow: 0 8px 24px rgba(234, 88, 12, 0.3); }
          100% { box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); }
        }
        .animate-fadeInUp { animation: fadeInUp 0.8s ease-out forwards; }
        .animate-slideInLeft { animation: slideInLeft 0.8s ease-out forwards; }
        .animate-slideInRight { animation: slideInRight 0.8s ease-out forwards; }
        .animate-float { animation: float 4s ease-in-out infinite; }
        .hover-glow:hover { animation: pulse-glow 2s infinite; }
        .card-hover {
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .card-hover:hover {
          transform: translateY(-4px);
          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.12);
        }
        .mobile-device {
          max-width: 300px;
          height: 400px;
          background: linear-gradient(145deg, #15024B, #0b0125);
          border-radius: 24px;
          padding: 6px;
          box-shadow: 0 12px 32px rgba(0, 0, 0, 0.25);
          position: relative;
        }
        @media (min-width: 768px) {
          .mobile-device {
            max-width: 140px;
            width: 35vw;
            min-width: 100px;
            height: 280px;
          }
        }
        .mobile-device::before {
          content: '';
          position: absolute;
          top: 12px;
          left: 50%;
          transform: translateX(-50%);
          width: 40px;
          height: 3px;
          background: #4a5568;
          border-radius: 2px;
        }
        .device-screen {
          width: 100%;
          height: 100%;
          border-radius: 20px;
          overflow: hidden;
          background: white;
        }
        .screen-image {
          width: 100%;
          height: 100%;
          object-fit: cover;
          border-radius: 20px;
        }
        .whatsapp-icon {
          position: fixed;
          bottom: 20px;
          right: 20px;
          width: 60px;
          height: 60px;
          background: linear-gradient(135deg, #25D366, #128C7E);
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          box-shadow: 0 4px 20px rgba(37, 211, 102, 0.4);
          cursor: pointer;
          z-index: 1000;
          animation: floatAndPulse 3s ease-in-out infinite;
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .whatsapp-icon::before {
          content: '';
          position: absolute;
          width: 100%;
          height: 100%;
          border-radius: 50%;
          background: rgba(37, 211, 102, 0.3);
          animation: ripple 2s infinite;
          z-index: -1;
        }

        .whatsapp-icon:hover {
          transform: scale(1.15);
          box-shadow: 0 8px 30px rgba(37, 211, 102, 0.6);
        }

        @keyframes floatAndPulse {
          0%, 100% {
            transform: translateY(0px);
            box-shadow: 0 4px 20px rgba(37, 211, 102, 0.4);
          }
          25% {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(37, 211, 102, 0.5);
          }
          50% {
            transform: translateY(-8px);
            box-shadow: 0 12px 30px rgba(37, 211, 102, 0.6);
          }
          75% {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(37, 211, 102, 0.5);
          }
        }

        @keyframes ripple {
          0% {
            transform: scale(1);
            opacity: 0.8;
          }
          100% {
            transform: scale(1.8);
            opacity: 0;
          }
        }
        
        /* Smaller Realistic Laptop Frame */
        .laptop-container {
          width: 80%;
          max-width: 400px; /* Reduced max-width for smaller laptop */
          margin: 2rem auto;
          perspective: 800px;
        }
        
        .laptop-wrapper {
          width: 80%;
          aspect-ratio: 16/11; /* Adjusted for slightly taller appearance */
          position: relative;
          transform-style: preserve-3d;
          transform: rotateX(6deg);
        }
        
        .laptop-top {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          height: 80%; /* Screen takes 80% of laptop height */
          background: linear-gradient(145deg, #2d2d2d, #1a1a1a);
          border-radius: 16px 16px 0 0;
          padding: 12px 12px 8px;
          box-shadow: 0 15px 30px rgba(0,0,0,0.25);
          z-index: 2;
        }
        
        .laptop-screen {
          width: 100%;
          height: calc(100% - 20px); /* Adjusted for padding */
          background: #111;
          border-radius: 8px;
          padding: 10px;
          position: relative;
          overflow: hidden;
          box-shadow: inset 0 2px 8px rgba(0,0,0,0.4);
        }
        
        .laptop-screen::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          height: 3px;
          background: linear-gradient(to right, #333, #555, #333);
          border-radius: 2px 2px 0 0;
          z-index: 3;
        }
        
        .laptop-bottom {
          position: absolute;
          bottom: 0;
          left: 0;
          right: 0;
          height: 20%; /* Base takes 20% of laptop height */
          background: linear-gradient(to top, #2d2d2d, #1a1a1a);
          border-radius: 0 0 16px 16px;
          box-shadow: 0 8px 20px rgba(0,0,0,0.25);
          z-index: 1;
        }
        
        .laptop-bottom::before {
          content: '';
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          width: 80px;
          height: 4px;
          background: linear-gradient(to right, #333, #555, #333);
          border-radius: 2px;
        }
        
        .dashboard-slider {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          border-radius: 6px;
          overflow: hidden;
          background: #000;
        }
        
        .dashboard-image {
          width: 100%;
          height: 100%;
          object-fit: contain;
          object-position: center;
          border-radius: 6px;
        }
        
        /* Keyboard area */
        .laptop-keyboard {
          position: absolute;
          top: 15%;
          left: 10%;
          right: 10%;
          height: 50%;
          background: linear-gradient(145deg, #1a1a1a, #111);
          border-radius: 6px;
          box-shadow: inset 0 2px 6px rgba(0,0,0,0.4);
        }
        
        .laptop-keyboard::before {
          content: '';
          position: absolute;
          top: 10%;
          left: 5%;
          right: 5%;
          height: 3px;
          background: linear-gradient(to right, #444, #666, #444);
          border-radius: 1.5px;
          box-shadow: 0 1px 2px rgba(0,0,0,0.3);
        }
        
        .laptop-keyboard::after {
          content: '';
          position: absolute;
          bottom: 15%;
          left: 10%;
          right: 10%;
          height: 2px;
          background: #333;
          border-radius: 1px;
        }
        
        /* Shine effect on laptop */
        .laptop-top::after {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          height: 30%;
          background: linear-gradient(to bottom, rgba(255,255,255,0.12), transparent);
          pointer-events: none;
          border-radius: 16px 16px 0 0;
        }
        
        /* Screen reflection effect */
        .screen-reflection {
          position: absolute;
          top: 0;
          right: 0;
          width: 30%;
          height: 100%;
          background: linear-gradient(135deg, rgba(255,255,255,0.06), transparent);
          pointer-events: none;
          z-index: 4;
          border-radius: 6px;
        }
        
        /* Camera notch */
        .camera-notch {
          position: absolute;
          top: 8px;
          left: 50%;
          transform: translateX(-50%);
          width: 40px;
          height: 6px;
          background: linear-gradient(to right, #333, #555, #333);
          border-radius: 3px;
          z-index: 5;
          box-shadow: 0 1px 2px rgba(0,0,0,0.3);
        }
        
        .camera-notch::before {
          content: '';
          position: absolute;
          top: 50%;
          left: 10px;
          transform: translateY(-50%);
          width: 3px;
          height: 3px;
          background: #666;
          border-radius: 50%;
          box-shadow: 0 0 2px rgba(255,255,255,0.3);
        }
        
        .camera-notch::after {
          content: '';
          position: absolute;
          top: 50%;
          right: 10px;
          transform: translateY(-50%);
          width: 3px;
          height: 3px;
          background: #666;
          border-radius: 50%;
          box-shadow: 0 0 2px rgba(255,255,255,0.3);
        }
        
        /* Responsive adjustments */
        @media (max-width: 640px) {
          .laptop-container {
            max-width: 400px; /* Even smaller on mobile */
          }
          
          .laptop-wrapper {
            aspect-ratio: 4/3; /* Slightly wider on mobile */
          }
          
          .laptop-top {
            height: 75%;
            padding: 8px 8px 6px;
            border-radius: 12px 12px 0 0;
          }
          
          .laptop-bottom {
            height: 25%;
          }
          
          .laptop-screen {
            border-radius: 6px;
            padding: 6px;
          }
          
          .camera-notch {
            width: 30px;
            height: 5px;
          }
          
          .camera-notch::before,
          .camera-notch::after {
            width: 2.5px;
            height: 2.5px;
          }
        }
      `}),n.jsx("section",{className:"pt-10 pb-12 px-4 relative z-10",children:n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 items-center",children:[n.jsxs("div",{className:"space-y-4 order-1",children:[n.jsxs(ba.h1,{className:"text-3xl sm:text-4xl font-bold text-gray-900",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[' "Smart, Simple'," ",n.jsx("span",{className:"text-orange-600",children:' & Complete"'})]}),n.jsx(ba.h2,{className:"text-4xl lg:text-4xl font-bold text-gray-900",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:n.jsx("span",{className:"text-orange-600",children:"School Management System"})}),n.jsx(ba.div,{className:"space-y-3 pt-7 text-gray-600 text-base lg:text-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:n.jsx("p",{children:"Digitize your school operations with Vidyaastra  A powerful, easy-to-use platform that connects schools, teachers, parents, and students in one app."})})]}),n.jsxs("div",{className:"flex flex-col items-center gap-6 lg:flex-row lg:justify-end order-2",children:[n.jsx(ba.div,{className:"mobile-device",style:{zIndex:3},initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},whileHover:{y:-10},children:n.jsx("div",{className:"device-screen",children:n.jsx("img",{src:f7e,alt:"App Screenshot 1",className:"screen-image"})})}),n.jsx(ba.div,{className:"mobile-device",style:{zIndex:2},initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},whileHover:{y:-10},children:n.jsx("div",{className:"device-screen",children:n.jsx("img",{src:h7e,alt:"App Screenshot 2",className:"screen-image"})})}),n.jsx(ba.div,{className:"mobile-device",style:{zIndex:1},initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.5,delay:.5},whileHover:{y:-10},children:n.jsx("div",{className:"device-screen",children:n.jsx("img",{src:A7e,alt:"App Screenshot 3",className:"screen-image"})})})]})]})})}),n.jsx(Q7e,{}),n.jsxs("section",{className:"py-16 px-4 bg-gradient-to-b from-white to-gray-100",children:[n.jsxs(ba.h2,{className:"text-3xl sm:text-4xl font-bold text-gray-900 text-center mb-12",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},children:[n.jsx("span",{className:"text-orange-600",children:"Discover"})," the Vidyaastra Dashboard"]}),n.jsx("div",{className:"flex justify-center",children:n.jsxs(ba.div,{className:"laptop-wrapper",initial:{opacity:0,y:50,rotateY:-8},whileInView:{opacity:1,y:0,rotateY:0},viewport:{once:!0},transition:{duration:.8,delay:.2},whileHover:{rotateY:2,scale:1.03},children:[n.jsxs("div",{className:"laptop-top",children:[n.jsx("div",{className:"camera-notch"}),n.jsx("div",{className:"laptop-screen",children:n.jsxs("div",{className:"dashboard-slider",children:[n.jsx(Tv,{mode:"wait",children:n.jsx(ba.img,{src:r[a],alt:"Vidyaastra Dashboard",className:"dashboard-image",initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.6,ease:"easeInOut"}},a)}),n.jsx("div",{className:"screen-reflection"})]})})]}),n.jsx("div",{className:"laptop-bottom"}),n.jsx("div",{className:"laptop-keyboard"})]})}),n.jsxs(ba.div,{className:"mt-12 text-center max-w-3xl mx-auto",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.6},children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Intuitive & Powerful Dashboard"}),n.jsx("p",{className:"text-gray-600 font-medium text-base leading-relaxed",children:"The Vidyaastra Dashboard provides a comprehensive overview of your school's operations. Monitor key metrics, track student progress, manage schedules, and access real-time reportsall from a single, user-friendly interface designed to simplify your workflow."})]})]}),n.jsx(GY,{isOpen:e,setIsOpen:t}),n.jsx(H7e,{}),n.jsx(vOe,{}),n.jsx(ba.div,{className:"whatsapp-icon",onClick:i,title:"Chat with us on WhatsApp",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:1,duration:.5},whileHover:{scale:1.1},children:n.jsx(vs,{icon:l7e,className:"text-white w-8 h-8"})})]})},wOe=()=>n.jsxs("section",{className:"max-w-7xl mx-auto px-4 py-12 bg-gray-50 min-h-screen",children:[n.jsx("style",{children:`
        @keyframes fadeInUp {
          from { opacity: 0; transform: translateY(30px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeInUp { animation: fadeInUp 0.8s ease-out forwards; }
        .why-card {
          transition: all 0.3s ease;
        }
        .why-card:hover {
          transform: translateY(-4px);
          box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
        }
      `}),n.jsxs("div",{className:"text-center mb-12",children:[n.jsxs("h1",{className:"text-3xl sm:text-5xl font-extrabold text-gray-900 mb-6 animate-fadeInUp",children:[n.jsx("span",{className:"text-orange-600",children:"About"})," Us"]}),n.jsx(ba.p,{className:"text-base sm:text-lg text-gray-500 max-w-3xl mx-auto leading-relaxed",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:"Vidyaastra is an advanced School Management App designed to simplify school administration, enhance teaching efficiency, and keep parents connected. Our goal is to make every school digital-first, time-efficient, and transparent."})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 sm:p-8",children:[n.jsxs("h2",{className:"text-2xl sm:text-3xl font-semibold text-center text-gray-900 mb-6 sm:mb-8 animate-fadeInUp",children:[n.jsx("span",{className:"text-orange-600",children:"Why Choose"})," Vidyaastra?"]}),n.jsxs("div",{className:"grid sm:grid-cols-3 gap-6",children:[n.jsxs(ba.div,{className:"flex items-start space-x-3 bg-gray-50 p-4 rounded-lg why-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[n.jsx(vs,{icon:Cw,className:"text-orange-600 w-6 h-6 mt-1"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Save Time & Reduce Paperwork"}),n.jsx("p",{className:"text-gray-500 text-base",children:"Streamline administrative tasks and go paperless with our efficient tools."})]})]}),n.jsxs(ba.div,{className:"flex items-start space-x-3 bg-gray-50 p-4 rounded-lg why-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:[n.jsx(vs,{icon:Cw,className:"text-orange-600 w-6 h-6 mt-1"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Increase Parent Satisfaction"}),n.jsx("p",{className:"text-gray-500 text-base",children:"Keep parents engaged with real-time updates and seamless communication."})]})]}),n.jsxs(ba.div,{className:"flex items-start space-x-3 bg-gray-50 p-4 rounded-lg why-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:[n.jsx(vs,{icon:Cw,className:"text-orange-600 w-6 h-6 mt-1"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Affordable for All Schools"}),n.jsx("p",{className:"text-gray-500 text-base",children:"Cost-effective solutions tailored for schools of all sizes."})]})]})]})]})]}),rw=()=>{const[e,t]=S.useState(!1),[r,a]=S.useState(!1),[s,i]=S.useState(!1),o=Sd();S.useEffect(()=>{const c=()=>{t(window.scrollY>20)};return window.addEventListener("scroll",c),()=>window.removeEventListener("scroll",c)},[]);const l={rest:{scale:1,color:"#4B5563"},hover:{scale:1.05,color:"#17024F",originX:0,transition:{duration:.2,ease:"easeInOut"}}};return n.jsxs(n.Fragment,{children:[n.jsxs(ba.aside,{initial:{x:100,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5,ease:"easeOut",delay:.5},className:"fixed right-0 top-[40%] -translate-y-1/2 h-auto py-4 z-50 hidden md:flex flex-col items-end space-y-3 rounded-l-lg w-[60px] px-2",children:[n.jsx(ba.div,{whileHover:{scale:1.1},transition:{type:"spring",stiffness:300},children:n.jsxs(Xi,{to:"/",className:`group flex bg-[#17024F] p-3 items-center rounded transition-all duration-200 ${o.pathname==="/"?"text-white":"text-gray-400 hover:text-white"}`,children:[n.jsx("span",{className:"whitespace-nowrap overflow-hidden opacity-0 max-w-0 transition-all duration-300 group-hover:opacity-100 group-hover:max-w-[150px]",children:"Home"}),n.jsx(jR,{className:"text-2xl transition-all duration-300 ml-2"})]})}),n.jsx(ba.div,{whileHover:{scale:1.1},transition:{type:"spring",stiffness:300},children:n.jsxs(Xi,{to:"/features",className:`group flex bg-[#17024F] p-3 items-center rounded transition-all duration-200 ${o.pathname==="/features"?"text-white":"text-gray-400 hover:text-white"}`,children:[n.jsx("span",{className:"whitespace-nowrap overflow-hidden opacity-0 max-w-0 transition-all duration-300 group-hover:opacity-100 group-hover:max-w-[150px]",children:"Features"}),n.jsx(XZ,{className:"text-2xl transition-all duration-300 ml-2"})]})}),n.jsx(ba.div,{whileHover:{scale:1.1},transition:{type:"spring",stiffness:300},children:n.jsxs(Xi,{to:"/about",className:`group flex bg-[#17024F] p-3 items-center rounded transition-all duration-200 ${o.pathname==="/about"?"text-white":"text-gray-400 hover:text-white"}`,children:[n.jsx("span",{className:"whitespace-nowrap overflow-hidden opacity-0 max-w-0 transition-all duration-300 group-hover:opacity-100 group-hover:max-w-[150px]",children:"About Us"}),n.jsx(YZ,{className:"text-2xl transition-all duration-300 ml-2"})]})}),n.jsx(ba.div,{whileHover:{scale:1.1},transition:{type:"spring",stiffness:300},children:n.jsxs(Xi,{to:"/contact",className:`group flex bg-[#17024F] p-3 items-center rounded transition-all duration-200 ${o.pathname==="/contact"?"text-white":"text-gray-400 hover:text-white"}`,children:[n.jsx("span",{className:"whitespace-nowrap overflow-hidden opacity-0 max-w-0 transition-all duration-300 group-hover:opacity-100 group-hover:max-w-[150px]",children:"Contact"}),n.jsx(NR,{className:"text-2xl transition-all duration-300 ml-2"})]})})]}),n.jsxs(ba.nav,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,ease:"easeOut"},className:`sticky top-0 w-full z-40 transition-all duration-500 ${e?"bg-white/95 backdrop-blur-md shadow-lg":"bg-white/90 shadow-sm"}`,children:[n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex items-center justify-between h-16 lg:h-20",children:[n.jsx(ba.div,{className:"flex items-center h-full cursor-pointer",whileHover:{scale:1.05},whileTap:{scale:.95},children:n.jsx(Xi,{to:"/",children:n.jsx("img",{src:Vx,alt:"Vidyaastra Logo",className:"h-16 w-auto"})})}),n.jsxs("div",{className:"hidden sm:flex items-center space-x-4",children:[n.jsx(ba.div,{whileHover:{x:5,scale:1.05},transition:{type:"spring",stiffness:300},children:n.jsx(Xi,{to:"/login",className:`bg-orange-600 text-white px-6 py-3 rounded-full font-semibold shadow-md transition-all duration-300 hover:bg-orange-700 transform-gpu ${o.pathname==="/login"?"bg-orange-700":""}`,children:"School Admin Login"})}),n.jsx(ba.div,{whileHover:{x:5,scale:1.05},transition:{type:"spring",stiffness:300},onClick:()=>i(!0),children:n.jsx(Xi,{className:"bg-[#19034C] text-white px-6 py-3 rounded-full font-semibold shadow-md transition-all duration-300 hover:bg-[#32264d] transform-gpu",children:"Enquiry"})})]}),n.jsx("div",{className:"sm:hidden",children:n.jsx("button",{onClick:()=>a(!r),className:"p-2 text-gray-800 focus:outline-none",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r?n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}):n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16m-7 6h7"})})})})]})}),n.jsx(Tv,{children:r&&n.jsx(ba.div,{className:"sm:hidden bg-white/95 backdrop-blur-md shadow-md",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:n.jsxs("div",{className:"px-4 pt-2 pb-4 space-y-2",children:[n.jsx(ba.div,{variants:l,initial:"rest",whileHover:"hover",children:n.jsx(Xi,{to:"/",className:`block py-2 text-gray-700 font-medium transition-colors duration-200 border-b border-gray-100 ${o.pathname==="/"?"text-[#17024F] font-bold":""}`,onClick:()=>a(!1),children:"Home"})}),n.jsx(ba.div,{variants:l,initial:"rest",whileHover:"hover",children:n.jsx(Xi,{to:"/features",className:`block py-2 text-gray-700 font-medium transition-colors duration-200 border-b border-gray-100 ${o.pathname==="/features"?"text-[#17024F] font-bold":""}`,onClick:()=>a(!1),children:"Features"})}),n.jsx(ba.div,{variants:l,initial:"rest",whileHover:"hover",children:n.jsx(Xi,{to:"/about",className:`block py-2 text-gray-700 font-medium transition-colors duration-200 border-b border-gray-100 ${o.pathname==="/about"?"text-[#17024F] font-bold":""}`,onClick:()=>a(!1),children:"About Us"})}),n.jsx(ba.div,{variants:l,initial:"rest",whileHover:"hover",children:n.jsx(Xi,{to:"/contact",className:`block py-2 text-gray-700 font-medium transition-colors duration-200 ${o.pathname==="/contact"?"text-[#17024F] font-bold":""}`,onClick:()=>a(!1),children:"Contact"})}),n.jsxs("div",{className:"pt-4 flex justify-around",children:[n.jsx(ba.div,{whileHover:{x:5,scale:1.05},transition:{type:"spring",stiffness:300},children:n.jsx(Xi,{to:"/login",className:`block text-center bg-orange-600 text-white px-6 py-3 rounded-full font-semibold shadow-md transition-all duration-300 hover:bg-orange-700 transform-gpu ${o.pathname==="/login"?"bg-orange-700":""}`,onClick:()=>a(!1),children:"School Admin Login"})}),n.jsx(ba.div,{whileHover:{x:5,scale:1.05},transition:{type:"spring",stiffness:300},onClick:()=>i(!0),children:n.jsx(Xi,{className:"block text-center bg-[#19034C] text-white px-6 py-3 rounded-full font-semibold shadow-md transition-all duration-300 hover:bg-[#32264d] transform-gpu ",style:{width:"100%"},children:"Enquiry"})})]})]})})})]}),n.jsx(GY,{isOpen:s,setIsOpen:i})]})},NOe=()=>{const[e,t]=S.useState("list"),[r,a]=S.useState(""),[s,i]=S.useState(""),[o,l]=S.useState(""),[c,u]=S.useState(""),[d,A]=S.useState(""),[m,h]=S.useState(new Set),[y,x]=S.useState([]),[v,b]=S.useState([]),[j,C]=S.useState([]),[E,k]=S.useState(!0),[D,L]=S.useState(null),[F,Q]=S.useState(""),[U,P]=S.useState(1),[I]=S.useState(9),[z,W]=S.useState(1),[ie,X]=S.useState(1),[le]=S.useState(10),[re,he]=S.useState(1),[de,ve]=S.useState(0),[B,R]=S.useState([]),[G,ne]=S.useState({totalStudents:0,totalClasses:0,maleCount:0,femaleCount:0});S.useEffect(()=>{pe()},[]),S.useEffect(()=>{e==="detail"&&r&&ee()},[ie,F,r,s,o,c,e]),S.useEffect(()=>{Y()},[U,F,d,r]),S.useEffect(()=>{ie!==1&&X(1)},[F,r,s,o,c]),S.useEffect(()=>{be()},[r]),S.useEffect(()=>{r&&e==="detail"?se():(C([]),i(""))},[r,e]);const pe=async()=>{try{k(!0),await Promise.all([Y(),be()]),L(null)}catch(Se){L(`Error fetching data: ${Se.message}`)}finally{k(!1)}},[xe,Ae]=S.useState(0),Y=async()=>{try{const Se=new URLSearchParams({page:U.toString(),limit:I.toString(),...F&&{search:F},...d&&{dateRange:d},...r&&{id:r}}),Me=await fetch(`http://localhost:5000/api/students/schools?${Se}`,{method:"PATCH",headers:{"Content-Type":"application/json"}});if(!Me.ok)throw new Error(`HTTP error! Status: ${Me.status}`);const at=await Me.json();let ke=at?.schools?.map(Ve=>({id:Ve._id,name:Ve.name,studentCount:Ve.studentCount,code:Ve.schoolCode||"N/A"}))||[];b(ke),W(at?.pagination?.totalPages||1),Ae(at?.pagination?.totalSchools||0)}catch(Se){console.error("Error fetching schools:",Se),L(`Error fetching schools: ${Se.message}`)}},se=async()=>{try{const Se=await fetch(`http://localhost:5000/api/students/classes?schoolId=${r}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!Se.ok)throw new Error(`HTTP error! Status: ${Se.status}`);const Me=await Se.json();C(Me.map(at=>({id:at.id,name:at.name})))}catch(Se){console.error("Error fetching classes:",Se),L(`Error fetching classes: ${Se.message}`)}},ee=async()=>{if(r)try{const Se=new URLSearchParams({page:ie.toString(),limit:le.toString(),...F&&{search:F},schoolId:r,...s&&{classId:s},...o&&{gender:o},...c&&{dateRange:c}}),Me=await fetch(`http://localhost:5000/api/students?${Se}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!Me.ok)throw new Error(`HTTP error! Status: ${Me.status}`);const at=await Me.json(),ke=at.students.map(Ve=>({id:Ve._id,name:Ve.name||"Unknown",class:Ce(Ve.class||Ve.classId?.className),rollNo:Ve.rollNumber||"N/A",studentId:Ve.studentId||"N/A",dateOfBirth:Ve.dob||null,gender:Ve.gender||"N/A",address:Ve.address||"N/A",phone:Ve.phone||"N/A",email:Ve.email||"N/A",fatherName:Ve.fatherName||"N/A",motherName:Ve.motherName||"N/A",parentPhone:Ve.parentPhone||"N/A",schoolId:Ve.schoolId?._id||"N/A",schoolName:Ve.schoolId?.name||"N/A",schoolCode:Ve.schoolId?.code||"N/A"}));R(ke),he(at.pagination.totalPages),ve(at.pagination.totalStudents)}catch(Se){console.error("Error fetching students:",Se),L(`Error fetching students: ${Se.message}`)}},be=async()=>{try{const Se=r?`?schoolId=${r}`:"",Me=await fetch(`http://localhost:5000/api/students/stats${Se}`,{method:"PATCH",headers:{"Content-Type":"application/json"}});if(!Me.ok)throw new Error(`HTTP error! Status: ${Me.status}`);const at=await Me.json();ne({totalStudents:at.totalStudents||0,totalClasses:at.totalClasses||0,maleCount:at.maleCount||0,femaleCount:at.femaleCount||0})}catch(Se){console.error("Error fetching stats:",Se)}},Ce=Se=>{if(!Se)return"Unknown";const Me=Se.replace(/\s|-/g,"");return Me.match(/[AB]$/)?Me:`${Me}A`},ce=Se=>{P(Se)},J=Se=>{X(Se),h(new Set)},ge=()=>{Q(""),a(""),i(""),l(""),u(""),A(""),X(1),P(1)},Je=async(Se=null)=>{try{let Me="http://localhost:5000/api/students",at=new URLSearchParams({limit:"10000",...F&&{search:F},...s&&{classId:s},...o&&{gender:o},...c&&{dateRange:c}}),ke="",Ve=Se||r;Ve&&(ke=v.find(qe=>qe.id===Ve)?.name||"",at.append("schoolId",Ve));const ze=await fetch(`${Me}?${at}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!ze.ok)throw new Error(`HTTP error! Status: ${ze.status}`);const Ge=(await ze.json()).students.map(At=>({"Student Name":At.name,Class:Ce(At.class||At.classId?.className),"Roll Number":At.rollNumber||"N/A","Student ID":At.studentId||"N/A",Gender:At.gender||"N/A","Date of Birth":At.dob?new Date(At.dob).toLocaleDateString():"N/A",Email:At.email||"N/A",Phone:At.phone||"N/A",Address:At.address||"N/A","Father's Name":At.fatherName||"N/A","Mother's Name":At.motherName||"N/A","Parent Phone":At.parentPhone||"N/A","School Name":At.schoolId?.name||"N/A","School Code":school?.code||"N/A"}));if(Ge.length===0){alert("No data to export");return}const bt=ke?`${ke.replace(/[^a-z0-9]/gi,"_")}_students_${new Date().toISOString().split("T")[0]}.csv`:`all_students_${new Date().toISOString().split("T")[0]}.csv`,Le=Object.keys(Ge[0]),je=[Le.join(","),...Ge.map(At=>Le.map(qe=>`"${At[qe]||""}"`).join(","))].join(`
`),Ze=new Blob([je],{type:"text/csv;charset=utf-8;"}),Te=document.createElement("a"),pt=URL.createObjectURL(Ze);Te.setAttribute("href",pt),Te.setAttribute("download",bt),Te.style.visibility="hidden",document.body.appendChild(Te),Te.click(),document.body.removeChild(Te)}catch(Me){console.error("Export error:",Me),alert("Error exporting data. Please try again.")}},Ke=Se=>{const Me=new Set(m);Me.has(Se)?Me.delete(Se):Me.add(Se),h(Me)},Fe=({totalPages:Se,currentPage:Me,onPageChange:at})=>{if(Se<=1)return null;const ke=[],Ve=5;let ze=Math.max(1,Me-Math.floor(Ve/2)),rt=Math.min(Se,ze+Ve-1);rt-ze<Ve-1&&(ze=Math.max(1,rt-Ve+1));for(let Ge=ze;Ge<=rt;Ge++)ke.push(Ge);return n.jsxs("div",{className:"flex items-center justify-center space-x-2 mt-6",children:[n.jsx("button",{onClick:()=>at(Me-1),disabled:Me===1,className:`p-2 rounded-lg ${Me===1?"text-gray-400 cursor-not-allowed":"text-[#1C1444] hover:bg-[#1C1444]/10"}`,children:n.jsx(Do,{className:"w-5 h-5"})}),ze>1&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>at(1),className:"px-3 py-2 rounded-lg text-[#1C1444] hover:bg-[#1C1444]/10",children:"1"}),ze>2&&n.jsx("span",{className:"text-[#1C1444]/60",children:"..."})]}),ke.map(Ge=>n.jsx("button",{onClick:()=>at(Ge),className:`px-3 py-2 rounded-lg ${Me===Ge?"bg-[#F37021] text-white":"text-[#1C1444] hover:bg-[#1C1444]/10"}`,children:Ge},Ge)),rt<Se&&n.jsxs(n.Fragment,{children:[rt<Se-1&&n.jsx("span",{className:"text-[#1C1444]/60",children:"..."}),n.jsx("button",{onClick:()=>at(Se),className:"px-3 py-2 rounded-lg text-[#1C1444] hover:bg-[#1C1444]/10",children:Se})]}),n.jsx("button",{onClick:()=>at(Me+1),disabled:Me===Se,className:`p-2 rounded-lg ${Me===Se?"text-gray-400 cursor-not-allowed":"text-[#1C1444] hover:bg-[#1C1444]/10"}`,children:n.jsx(ro,{className:"w-5 h-5"})})]})};if(D)return n.jsxs("div",{className:"p-6 bg-red-50 text-red-700 rounded-xl flex items-center shadow-sm",children:[n.jsx(pr,{className:"w-5 h-5 mr-2"}),D]});if(E)return n.jsx("div",{className:"p-6 text-center text-[#1C1444] font-medium",children:"Loading data..."});const nt=v.find(Se=>Se.id===r)?.name||"Unknown";return e==="list"?n.jsx("div",{className:"min-h-screen bg-white p-6 sm:p-8",children:n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[n.jsxs("div",{className:"mb-4 sm:mb-0",children:[n.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-[#1C1444] flex items-center",children:[n.jsx(Un,{className:"w-7 h-7 mr-3 text-[#F37021]"}),"Student Management"]}),n.jsx("p",{className:"text-[#1C1444]/80 text-sm mt-2",children:"View schools and students"})]}),n.jsxs("button",{onClick:()=>Je(),className:"bg-[#F37021] hover:bg-[#d55f1c] text-white px-4 py-2 rounded-lg shadow-md flex items-center space-x-2 transition-all duration-200",title:"Export All Students",children:[n.jsx(Ln,{className:"w-5 h-5"}),n.jsx("span",{children:"Export All CSV"})]})]}),n.jsx("div",{className:"bg-[#1C1444]/5 rounded-lg p-4 mb-6",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[n.jsxs("div",{className:"relative flex-1 max-w-md",children:[n.jsx(on,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-[#1C1444]/60 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Search schools...",value:F,onChange:Se=>Q(Se.target.value),className:"w-full pl-12 pr-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200"})]}),n.jsxs("select",{value:r,onChange:Se=>a(Se.target.value),className:"px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",children:[n.jsx("option",{value:"",children:"All Schools"}),v.map(Se=>n.jsx("option",{value:Se.id,children:Se.name},Se.id))]}),n.jsxs("select",{value:d,onChange:Se=>A(Se.target.value),className:"px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",children:[n.jsx("option",{value:"",children:"All Time"}),n.jsx("option",{value:"today",children:"Today"}),n.jsx("option",{value:"lastWeek",children:"Last Week"}),n.jsx("option",{value:"lastMonth",children:"Last Month"})]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("span",{className:"text-sm text-[#1C1444]/80",children:["Total Students: ",G.totalStudents]}),n.jsxs("button",{onClick:ge,className:"flex items-center space-x-2 px-3 py-2 border border-[#1C1444]/20 rounded-lg hover:bg-[#1C1444]/10 text-[#1C1444] transition-all duration-200",children:[n.jsx(Hl,{className:"w-5 h-5"}),n.jsx("span",{children:"Clear Filters"})]})]})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[{icon:Un,label:"Total Classes",value:G.totalClasses},{icon:rn,label:"Total Students",value:G.totalStudents},{icon:Lo,label:"Schools",value:xe},{icon:Ia,label:"Academic Year",value:"2024-25"}].map((Se,Me)=>n.jsx("div",{className:"bg-[#1C1444]/5 rounded-lg p-4 shadow-sm",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-[#F37021]/10 rounded-lg",children:n.jsx(Se.icon,{className:"w-5 h-5 text-[#F37021]"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-[#1C1444]/80",children:Se.label}),n.jsx("p",{className:"text-xl font-bold text-[#1C1444]",children:Se.value})]})]})},Me))}),v.length===0?n.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-sm",children:[n.jsx(Un,{className:"w-12 h-12 text-[#1C1444]/60 mx-auto mb-4 transition-transform duration-200 hover:scale-110"}),n.jsx("h3",{className:"text-lg font-medium text-[#1C1444] mb-2",children:F||r||d?"No schools match your filters":"No schools found"}),n.jsx("p",{className:"text-[#1C1444]/80",children:F||r||d?"Try adjusting your filters or clear them to see all schools.":"No schools are available."}),(F||r||d)&&n.jsx("button",{onClick:ge,className:"mt-4 text-[#F37021] hover:text-[#d55f1c] underline transition-all duration-200",children:"Clear filters to see all schools"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(Se=>n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md border border-[#1C1444]/10 hover:shadow-lg transition-all duration-300",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("div",{className:"w-12 h-12 bg-[#F37021]/10 rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"text-[#F37021] font-bold text-lg",children:Se.name.charAt(0).toUpperCase()})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-bold text-[#1C1444]",children:Se.name}),n.jsxs("p",{className:"text-sm text-[#1C1444]/80",children:[Se.studentCount," Students"]})]})]}),n.jsxs("div",{className:"space-y-3 mb-4",children:[n.jsxs("div",{className:"flex justify-between text-sm text-[#1C1444]",children:[n.jsx("span",{children:"Code:"}),n.jsx("span",{className:"font-medium",children:Se.code})]}),n.jsxs("div",{className:"flex justify-between text-sm text-[#1C1444]",children:[n.jsx("span",{children:"Total Students:"}),n.jsx("span",{className:"font-medium",children:Se.studentCount})]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{onClick:()=>{a(Se.id),t("detail"),X(1)},className:"flex-1 bg-[#F37021] hover:bg-[#d55f1c] text-white py-2 rounded-lg flex items-center justify-center space-x-2 transition-all duration-200",title:"View Students",children:[n.jsx(rn,{className:"w-5 h-5"}),n.jsx("span",{children:"View Students"})]}),n.jsx("button",{onClick:()=>Je(Se.id),className:"bg-[#F37021] hover:bg-[#d55f1c] text-white px-3 py-2 rounded-lg transition-all duration-200",title:"Export School CSV",children:n.jsx(Ln,{className:"w-5 h-5"})})]})]},Se.id))}),n.jsx(Fe,{totalPages:z,currentPage:U,onPageChange:ce})]})]})}):e==="detail"?r?n.jsxs("div",{className:"min-h-screen bg-white p-6 sm:p-8",children:[n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-4 mb-4 sm:mb-0",children:[n.jsx("button",{onClick:()=>{t("list"),h(new Set),i(""),l(""),u("")},className:"p-2 hover:bg-[#1C1444]/10 rounded-lg text-[#1C1444] transition-all duration-200",children:n.jsx(Xp,{className:"w-6 h-6"})}),n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-[#1C1444] flex items-center",children:[n.jsx(Un,{className:"w-7 h-7 mr-3 text-[#F37021]"}),"School ",nt]}),n.jsxs("p",{className:"text-[#1C1444]/80 text-sm mt-2",children:[de," students enrolled"]})]})]}),n.jsxs("button",{onClick:()=>Je(),className:"bg-[#F37021] hover:bg-[#d55f1c] text-white px-4 py-2 rounded-lg shadow-md flex items-center space-x-2 transition-all duration-200",title:"Export School CSV",children:[n.jsx(Ln,{className:"w-5 h-5"}),n.jsx("span",{children:"Export CSV"})]})]}),n.jsx("div",{className:"bg-[#1C1444]/5 rounded-lg p-4 mb-6",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[n.jsxs("div",{className:"relative flex-1 max-w-md",children:[n.jsx(on,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-[#1C1444]/60 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Search students in this school...",value:F,onChange:Se=>Q(Se.target.value),className:"w-full pl-12 pr-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200"})]}),n.jsxs("select",{value:s,onChange:Se=>i(Se.target.value),className:"px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",children:[n.jsx("option",{value:"",children:"All Classes"}),j.map(Se=>n.jsx("option",{value:Se.id,children:Se.name},Se.id))]}),n.jsxs("select",{value:o,onChange:Se=>l(Se.target.value),className:"px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",children:[n.jsx("option",{value:"",children:"All Genders"}),n.jsx("option",{value:"Male",children:"Male"}),n.jsx("option",{value:"Female",children:"Female"})]}),n.jsxs("select",{value:c,onChange:Se=>u(Se.target.value),className:"px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",children:[n.jsx("option",{value:"",children:"All Time"}),n.jsx("option",{value:"today",children:"Today"}),n.jsx("option",{value:"lastWeek",children:"Last Week"}),n.jsx("option",{value:"lastMonth",children:"Last Month"})]})]}),n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("span",{className:"text-sm text-[#1C1444]/80",children:["Showing ",B.length," of ",de," students"]})})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[{icon:rn,label:"Total Students",value:G.totalStudents},{icon:ks,label:"Male Students",value:G.maleCount},{icon:ks,label:"Female Students",value:G.femaleCount},{icon:Un,label:"Total Classes",value:G.totalClasses}].map((Se,Me)=>n.jsx("div",{className:"bg-[#1C1444]/5 rounded-lg p-4 shadow-sm",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-[#F37021]/10 rounded-lg",children:n.jsx(Se.icon,{className:"w-5 h-5 text-[#F37021]"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-[#1C1444]/80",children:Se.label}),n.jsx("p",{className:"text-xl font-bold text-[#1C1444]",children:Se.value})]})]})},Me))})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg",children:[n.jsx("div",{className:"p-6 border-b border-[#1C1444]/10",children:n.jsxs("h2",{className:"text-lg font-bold text-[#1C1444]",children:["Students in ",nt]})}),n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-[#1C1444]/5",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-4 text-left text-xs uppercase text-[#1C1444] font-semibold",children:"Expand"}),n.jsx("th",{className:"p-4 text-left text-xs uppercase text-[#1C1444] font-semibold",children:"Student"}),n.jsx("th",{className:"p-4 text-left text-xs uppercase text-[#1C1444] font-semibold",children:"Roll No"}),n.jsx("th",{className:"p-4 text-left text-xs uppercase text-[#1C1444] font-semibold",children:"Class"}),n.jsx("th",{className:"p-4 text-left text-xs uppercase text-[#1C1444] font-semibold",children:"ID"}),n.jsx("th",{className:"p-4 text-left text-xs uppercase text-[#1C1444] font-semibold",children:"Contact"}),n.jsx("th",{className:"p-4 text-left text-xs uppercase text-[#1C1444] font-semibold",children:"Parent"})]})}),n.jsx("tbody",{className:"divide-y divide-[#1C1444]/10",children:B.map(Se=>n.jsxs(n.Fragment,{children:[n.jsxs("tr",{className:"hover:bg-[#1C1444]/5 cursor-pointer transition-all duration-200",onClick:()=>Ke(Se.id),children:[n.jsx("td",{className:"p-4",children:n.jsx("button",{onClick:Me=>{Me.stopPropagation(),Ke(Se.id)},className:"text-[#F37021] hover:text-[#d55f1c] transition-all duration-200",children:m.has(Se.id)?n.jsx(Jp,{className:"w-5 h-5"}):n.jsx(ro,{className:"w-5 h-5"})})}),n.jsx("td",{className:"p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 bg-[#F37021]/10 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-[#F37021] font-semibold",children:Se.name.split(" ").map(Me=>Me[0]).join("")})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"font-medium text-[#1C1444]",children:Se.name}),n.jsx("div",{className:"text-[#1C1444]/80 text-sm",children:Se.email})]})]})}),n.jsx("td",{className:"p-4 text-[#1C1444]",children:Se.rollNo}),n.jsx("td",{className:"p-4 text-[#1C1444]",children:Se.class}),n.jsx("td",{className:"p-4",children:Se.studentId&&Se.studentId!=="N/A"&&n.jsx("span",{className:"px-2 py-1 bg-[#F37021]/10 text-[#F37021] rounded-full text-sm",children:Se.studentId})}),n.jsx("td",{className:"p-4 text-[#1C1444]/80",children:Se.phone}),n.jsxs("td",{className:"p-4",children:[n.jsx("div",{className:"text-[#1C1444]",children:Se.fatherName}),n.jsx("div",{className:"text-[#1C1444]/80 text-sm",children:Se.parentPhone})]})]},Se.id),m.has(Se.id)&&n.jsx("tr",{children:n.jsx("td",{colSpan:"7",className:"p-4 bg-[#1C1444]/5",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-[#1C1444]/10",children:[n.jsx("h3",{className:"font-semibold text-[#1C1444] mb-4",children:"Student Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-[#1C1444]",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium border-b border-[#1C1444]/20 pb-1",children:"Personal"}),n.jsxs("div",{className:"space-y-2 mt-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"DOB:"})," ",Se.dateOfBirth?new Date(Se.dateOfBirth).toLocaleDateString():"N/A"]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Gender:"})," ",Se.gender]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Address:"})," ",Se.address]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium border-b border-[#1C1444]/20 pb-1",children:"Academic"}),n.jsxs("div",{className:"space-y-2 mt-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Class:"})," ",Se.class]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Roll No:"})," ",Se.rollNo]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Student ID:"})," ",Se.studentId]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"School:"})," ",Se.schoolName]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium border-b border-[#1C1444]/20 pb-1",children:"Parent"}),n.jsxs("div",{className:"space-y-2 mt-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Father:"})," ",Se.fatherName]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Mother:"})," ",Se.motherName]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Phone:"})," ",Se.parentPhone]})]})]})]})]})})})]}))})]}),B.length===0&&n.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-sm",children:[n.jsx(rn,{className:"w-12 h-12 text-[#1C1444]/60 mx-auto mb-4 transition-transform duration-200 hover:scale-110"}),n.jsx("h3",{className:"text-lg font-medium text-[#1C1444] mb-2",children:F||s||o||c?"No students match your filters":"No students found"}),n.jsx("p",{className:"text-[#1C1444]/80",children:F||s||o||c?"Try adjusting your filters or clear them to see all students.":"No students are enrolled in this school."}),(F||s||o||c)&&n.jsx("button",{onClick:ge,className:"mt-4 text-[#F37021] hover:text-[#d55f1c] underline transition-all duration-200",children:"Clear filters to see all students"})]})]}),n.jsx(Fe,{totalPages:re,currentPage:ie,onPageChange:J})]})]}):n.jsxs("div",{className:"p-6 bg-red-50 text-red-700 rounded-xl flex items-center shadow-sm",children:[n.jsx(pr,{className:"w-5 h-5 mr-2"}),"Error: No school selected. Please go back and select a school."]}):n.jsxs("div",{className:"p-6 bg-red-50 text-red-700 rounded-xl flex items-center shadow-sm",children:[n.jsx(pr,{className:"w-5 h-5 mr-2"}),"Error: Invalid view state"]})},aw="http://localhost:5000/api",jOe=()=>{const[e,t]=S.useState(""),[r,a]=S.useState(!1),[s,i]=S.useState("add"),[o,l]=S.useState(null),[c,u]=S.useState([]),[d,A]=S.useState([]),[m,h]=S.useState(!1),[y,x]=S.useState(""),[v,b]=S.useState({}),[j,C]=S.useState("#2563eb"),[E,k]=S.useState(null),[D,L]=S.useState({subjectName:"",className:"",section:""});console.log("Subjects Component Rendered",m,d,c,E),S.useEffect(()=>{const le=localStorage.getItem("schoolId");le?k(le):x("School ID not found. Please log in to access subject data.");const re=localStorage.getItem("color");re&&C(re)},[]);const F=S.useCallback(async()=>{if(!E){h(!1);return}h(!0),x("");try{const le=await Vt.get(`${aw}/subject/${E}/subjects`);le.data.success?u(le.data.data||[]):x(le.data.message||"Failed to fetch subjects")}catch(le){x(le.response?.data?.message||"Failed to fetch subjects. Please try again.")}finally{h(!1)}},[E]);S.useEffect(()=>{E&&F()},[E,F]);const Q=[...new Set(d.map(le=>le.className))],U=c.filter(le=>(le.subjectName||"").toLowerCase().includes(e.toLowerCase())),P=(le,re=null)=>{if(i(le),l(re),b({}),le==="add")L({subjectName:"",className:Q.length>0?Q[0]:"",section:""});else if(re){const he=d.find(de=>de._id===(re.classId?._id||re.classId));L({subjectName:re.subjectName||"",className:he?.className||"",section:he?.section||""})}a(!0),x("")},I=()=>{a(!1),l(null),i("add"),x(""),b({})},z=le=>{const{name:re,value:he}=le.target;L(de=>{const ve={...de,[re]:he};return re==="className"&&(ve.section=""),ve}),v[re]&&b(de=>({...de,[re]:""}))},W=()=>{const le={};return D.subjectName.trim()||(le.subjectName="Subject name is required."),b(le),Object.keys(le).length===0},ie=async le=>{if(le.preventDefault(),h(!0),x(""),!W()){h(!1);return}if(!E){x("School ID is missing. Cannot perform this operation."),h(!1);return}try{let re;s==="add"?re=await Vt.post(`${aw}/subject/${E}/subjects`,{subjectName:D.subjectName.trim()}):s==="edit"&&(re=await Vt.put(`${aw}/subject/${E}/subjects/${o._id}`,{subjectName:D.subjectName.trim()})),re.data.success&&(await F(),I())}catch(re){x(re.response?.data?.message||re.message||"Failed to save subject. Please try again."),console.error("Error details:",re)}finally{h(!1)}},X=S.useCallback(async le=>{if(window.confirm("Are you sure you want to delete this subject? This action cannot be undone.")){if(h(!0),x(""),!E){x("School ID is missing. Cannot perform this operation."),h(!1);return}try{(await Vt.delete(`${aw}/subject/${E}/subjects/${le}`)).data.success&&await F()}catch(re){x(re.response?.data?.message||"Failed to delete subject.")}finally{h(!1)}}},[F,E]);return n.jsxs("div",{className:"space-y-6 bg-gray-50 min-h-screen",children:[y&&n.jsxs("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2 max-w-lg",children:[n.jsx(Da,{className:"w-5 h-5",style:{color:j}}),n.jsx("span",{className:"block sm:inline text-sm",children:y}),n.jsx("button",{onClick:()=>x(""),className:"ml-auto text-red-700 hover:text-red-900",children:n.jsx(pr,{className:"w-4 h-4"})})]}),n.jsx("div",{className:Gt("text-white p-6 rounded-b-3xl shadow-lg"),style:{backgroundColor:j},children:n.jsxs("div",{className:"max-w-5xl mx-auto",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center",children:[n.jsx(qh,{className:"mr-3",style:{color:"white"}}),"Subject Management"]}),n.jsx("p",{className:"text-white text-sm opacity-75 mt-1",children:"Manage academic subjects for your school"})]}),n.jsxs("button",{onClick:()=>P("add"),disabled:m||!E,className:Gt("text-white px-4 py-2 rounded-xl flex items-center space-x-2 font-semibold","hover:opacity-90 transition-all duration-200","disabled:opacity-50"),style:{backgroundColor:j},children:[m?n.jsx(Rr,{className:"w-4 h-4 animate-spin",style:{color:"white"}}):n.jsx(bs,{className:"w-4 h-4",style:{color:"white"}}),n.jsx("span",{children:"Add Subject"})]})]}),n.jsxs("div",{className:"mt-6 relative max-w-5xl mx-auto",children:[n.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5",style:{color:j}}),n.jsx("input",{type:"text",placeholder:"Search subjects by name...",value:e,onChange:le=>t(le.target.value),className:Gt("w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:j}})]})]})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden max-w-5xl mx-auto",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:["All Subjects (",U.length,")"]})}),n.jsx("div",{className:"overflow-x-auto min-h-[300px]",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subject Name"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m?n.jsx("tr",{children:n.jsxs("td",{colSpan:"4",className:"text-center py-12",children:[n.jsx(Rr,{className:"w-8 h-8 mx-auto animate-spin mb-4",style:{color:j}}),n.jsx("p",{className:"text-gray-500",children:"Loading subjects..."})]})}):U.length===0?n.jsx("tr",{children:n.jsxs("td",{colSpan:"4",className:"text-center py-12 text-gray-500",children:[n.jsx(Un,{className:"w-12 h-12 mx-auto text-gray-300 mb-4"}),n.jsx("p",{className:"text-lg font-medium",children:c.length===0?"No subjects found. Add your first subject!":"No subjects found matching your search."})]})}):U.map(le=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:j},children:n.jsx(Un,{className:"text-white w-5 h-5"})}),n.jsx("div",{className:"ml-4",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:le.SubjectName||"Unnamed Subject"})})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>P("edit",le),disabled:m,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",title:"Edit Subject",style:{color:j},children:n.jsx(Ql,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>X(le._id),disabled:m,className:"p-2 hover:bg-red-50 rounded-full transition-colors text-red-500 hover:text-red-700",title:"Delete Subject",children:n.jsx(Jn,{className:"w-4 h-4"})})]})})]},le._id))})]})})]}),r&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl",children:[n.jsxs("div",{className:Gt("text-white p-6 rounded-t-xl flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:j},children:[n.jsxs("h2",{className:"text-xl font-bold text-white flex items-center",children:[n.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center mr-3",style:{backgroundColor:`${j}20`},children:s==="edit"?n.jsx(Ql,{className:"w-5 h-5",style:{color:"white"}}):n.jsx(bs,{className:"w-5 h-5",style:{color:"white"}})}),s==="edit"?"Edit Subject":"Add New Subject"]}),n.jsx("button",{onClick:I,className:"flex items-center justify-center w-8 h-8 hover:bg-white hover:bg-opacity-20 rounded-full transition-colors",children:n.jsx(pr,{className:"w-6 h-6",style:{color:"white"}})})]}),n.jsxs("form",{onSubmit:ie,className:"p-6 space-y-4",children:[n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject Name *"}),n.jsx("input",{type:"text",name:"subjectName",placeholder:"Enter subject name",value:D.subjectName,onChange:z,className:Gt("w-full px-3 py-2 border rounded-xl",v.subjectName?"border-red-500":"border-gray-300","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:j},required:!0}),v.subjectName&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:v.subjectName})]})}),n.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:I,disabled:m,className:Gt("flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-xl font-semibold","hover:bg-gray-50 transition-colors disabled:opacity-50"),children:"Cancel"}),n.jsxs("button",{type:"submit",disabled:m,className:Gt("flex-1 px-4 py-2 text-white rounded-xl font-semibold","hover:opacity-90 transition-all duration-200 flex items-center justify-center space-x-2","disabled:opacity-50"),style:{backgroundColor:j},children:[m?n.jsx(Rr,{className:"w-4 h-4 animate-spin",style:{color:"white"}}):n.jsx($l,{className:"w-4 h-4",style:{color:"white"}}),n.jsx("span",{children:m?"Saving...":s==="edit"?"Update Subject":"Add Subject"})]})]})]})]})})]})},SOe=()=>{const[e,t]=S.useState(""),[r,a]=S.useState(!1),[s,i]=S.useState(null),[o,l]=S.useState("All"),[c,u]=S.useState("All"),[d,A]=S.useState("All"),[m,h]=S.useState("All"),[y,x]=S.useState([]),[v,b]=S.useState([]),[j,C]=S.useState([]),[E,k]=S.useState([]),[D,L]=S.useState(!1),[F,Q]=S.useState(""),[U,P]=S.useState(null),[I,z]=S.useState(null),[W,ie]=S.useState(1),[X,le]=S.useState(1),re=10,he="http://localhost:5000/api";S.useEffect(()=>{const ce=localStorage.getItem("schoolId"),J=localStorage.getItem("teacherId");ce&&J?(P(ce),z(J)):Q("School ID or Teacher ID not found in local storage")},[]),S.useEffect(()=>{U&&I&&de()},[U,I,W,d,m,o,c]),S.useEffect(()=>{ie(1)},[d,m,o,c,e]),S.useEffect(()=>{if(d!=="All"){const ce=Ce(d);k(ce),h("All")}else k([]),h("All")},[d,v]);const de=async()=>{L(!0),Q("");try{const J=(await Vt.get(`${he}/teacher/${U}/${I}`)).data.data,ge=J.classes||[],Je=J.subjects||[];C(Je);const Fe=(await Vt.get(`${he}/class?schoolId=${U}`)).data.data||[];let nt=[];if(Array.isArray(ge)&&ge.length>0)if(ge[0]&&ge[0]._id){const Ve=ge.map(ze=>ze._id);nt=Fe.filter(ze=>Ve.includes(ze._id))}else if(typeof ge[0]=="string"){const Ve=ge.map(ze=>ze.trim());nt=Fe.filter(ze=>{const rt=`${ze.className} ${ze.section||""}`.trim();return Ve.includes(rt)})}else nt=Fe.filter(Ve=>ge.includes(Ve._id.toString()));if(nt.length===0&&(nt=Fe),b(nt),nt.length===0){x([]),le(1),L(!1),Q("No classes assigned to this teacher.");return}const Me=[...new Set(nt.map(Ve=>Ve.className))].join(","),at=new URLSearchParams({schoolId:U,classNames:Me,page:W,limit:re});o!=="All"&&at.append("subject",o),c!=="All"&&at.append("status",c),d!=="All"&&at.append("className",d),m!=="All"&&at.append("section",m);const ke=await Vt.get(`${he}/assignments/submitted-by-classes?${at.toString()}`);ke.data.success?(x(ke.data.data),le(ke.data.pagination.totalPages||1)):(Q("Failed to fetch submitted assignments: "+ke.data.message),x([]),le(1))}catch(ce){Q("Failed to load initial data: "+(ce.response?.data?.message||ce.message)),console.error("Error fetching initial data:",ce),x([]),le(1)}finally{L(!1)}},ve=ce=>!ce||!ce.url?null:ce.url.startsWith("http")?ce.url:`${he.replace("/api","")}${ce.url}`,B=S.useMemo(()=>y.filter(ce=>ce.title?.toLowerCase().includes(e.toLowerCase())||ce.subject?.toLowerCase().includes(e.toLowerCase())||ce.studentName?.toLowerCase().includes(e.toLowerCase())||ce.rollNo?.toLowerCase().includes(e.toLowerCase())||ce.description?.toLowerCase().includes(e.toLowerCase())),[y,e]),R=B,G=ce=>{i(ce),a(!0)},ne=()=>{a(!1),i(null),Q("")},pe=ce=>{switch(ce?.toUpperCase()){case"HIGH":return"bg-red-100 text-red-800";case"MEDIUM":return"bg-orange-100 text-orange-800";case"LOW":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},xe=ce=>{switch(ce){case"submitted":return n.jsx(Oo,{className:"w-4 h-4 text-green-600"});case"graded":return n.jsx(Rh,{className:"w-4 h-4 text-blue-600"});case"late":return n.jsx(fn,{className:"w-4 h-4 text-red-600"});default:return n.jsx(fn,{className:"w-4 h-4 text-orange-600"})}},Ae=ce=>{if(!ce)return"N/A";try{return new Date(ce).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return"N/A"}},Y=y.filter(ce=>ce.status==="submitted").length,se=y.filter(ce=>ce.status==="graded").length,ee=y.filter(ce=>ce.status==="late").length,be=()=>[...new Set(v.map(ce=>ce.className))].sort(),Ce=ce=>v.filter(J=>J.className===ce).map(J=>J.section||"N/A").filter((J,ge,Je)=>Je.indexOf(J)===ge).sort();return D&&y.length===0?n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("div",{className:"text-lg text-gray-600",children:"Loading submitted assignments..."})]})}):!U||!I?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg text-center max-w-md",children:[n.jsx(rn,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Authentication Required"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"School ID or Teacher ID not found. Please log in to continue."}),n.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Refresh Page"})]})}):n.jsxs("div",{className:"min-h-screen bg-gray-50 space-y-6 p-4",children:[F&&n.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg max-w-2xl mx-auto",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(FiAlertCircle,{className:"w-5 h-5 mr-2"}),n.jsx("span",{children:F}),n.jsx("button",{onClick:()=>Q(""),className:"ml-auto hover:text-red-900",children:n.jsx(pr,{className:"w-4 h-4"})})]})}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Submitted Assignments"}),n.jsx("p",{className:"text-gray-600",children:"View and manage student assignment submissions"})]}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsxs("div",{className:"bg-green-100 text-green-800 px-3 py-2 rounded-lg text-sm font-medium",children:["Total: ",y.length]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Search assignments, students...",value:e,onChange:ce=>t(ce.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("select",{value:d,onChange:ce=>A(ce.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"All",children:"All Classes"}),be().map(ce=>n.jsx("option",{value:ce,children:ce},ce))]}),n.jsxs("select",{value:m,onChange:ce=>h(ce.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:d==="All",children:[n.jsx("option",{value:"All",children:"All Sections"}),E.length>0?E.map(ce=>n.jsx("option",{value:ce,children:ce},ce)):n.jsx("option",{disabled:!0,children:d==="All"?"Select class first":"No sections"})]}),n.jsxs("select",{value:o,onChange:ce=>l(ce.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"All",children:"All Subjects"}),j.map(ce=>n.jsx("option",{value:ce,children:ce},ce))]}),n.jsxs("select",{value:c,onChange:ce=>u(ce.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"All",children:"All Status"}),n.jsx("option",{value:"submitted",children:"Submitted"}),n.jsx("option",{value:"graded",children:"Graded"}),n.jsx("option",{value:"late",children:"Late"})]})]}),n.jsxs("div",{className:"flex space-x-4 mt-4 flex-wrap",children:[n.jsxs("div",{className:"bg-green-100 text-green-800 px-3 py-2 rounded-lg text-sm font-medium",children:["Submitted (",Y,")"]}),n.jsxs("div",{className:"bg-blue-100 text-blue-800 px-3 py-2 rounded-lg text-sm font-medium",children:["Graded (",se,")"]}),n.jsxs("div",{className:"bg-red-100 text-red-800 px-3 py-2 rounded-lg text-sm font-medium",children:["Late (",ee,")"]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full min-w-max",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student Info"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Roll No"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subject"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assignment"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submitted Date"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority/Grade"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-4 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:R.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"11",className:"px-4 py-8 text-center text-gray-500",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx(rn,{className:"w-12 h-12 text-gray-300 mb-4"}),n.jsx("p",{children:e?"No assignments found matching your search":"No submitted assignments found"}),e&&n.jsx("button",{onClick:()=>t(""),className:"mt-2 text-blue-600 hover:text-blue-800 text-sm",children:"Clear search"})]})})}):R.map(ce=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(ks,{className:"w-5 h-5 text-gray-400 mr-2"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:ce.studentName}),n.jsx("div",{className:"text-xs text-gray-500",children:"Student"})]})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("span",{className:"text-sm font-mono text-gray-900 bg-gray-100 px-2 py-1 rounded",children:ce.rollNo})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full",children:ce.class})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-purple-100 text-purple-800 rounded-full",children:ce.section||"N/A"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Un,{className:"w-4 h-4 text-blue-600 mr-2"}),n.jsx("span",{className:"text-sm font-medium text-blue-600",children:ce.subject})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"max-w-xs",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",title:ce.title,children:ce.title}),n.jsx("div",{className:"text-xs text-gray-500 mt-1 truncate",title:ce.description,children:ce.description||"No description"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ia,{className:"w-4 h-4 text-gray-400 mr-2"}),n.jsx("div",{className:"text-sm text-gray-900",children:Ae(ce.dueDate)})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Oo,{className:"w-4 h-4 text-green-600 mr-2"}),n.jsx("div",{className:"text-sm text-green-600 font-medium",children:Ae(ce.submittedDate)})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${pe(ce.priority)}`,children:ce.status==="graded"&&ce.grade?ce.grade:ce.priority||"N/A"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center",children:[xe(ce.status),n.jsx("span",{className:`ml-2 text-sm font-medium capitalize ${ce.status==="submitted"||ce.status==="graded"?"text-green-600":ce.status==="late"?"text-red-600":"text-orange-600"}`,children:ce.status||"Unknown"})]})}),n.jsx("td",{className:"px-4 py-4 text-right",children:n.jsx("div",{className:"flex justify-end space-x-2",children:n.jsx("button",{onClick:()=>G(ce),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-full transition-colors",title:"View Details",children:n.jsx(cs,{className:"w-4 h-4"})})})})]},ce.id))})]})}),X>1&&n.jsxs("div",{className:"flex justify-center items-center py-4 space-x-2 border-t bg-gray-50",children:[n.jsx("button",{onClick:()=>ie(ce=>Math.max(1,ce-1)),disabled:W===1,className:"px-4 py-2 bg-blue-500 text-white rounded-lg disabled:bg-gray-300 disabled:cursor-not-allowed hover:bg-blue-600 transition-colors",children:"Previous"}),Array.from({length:Math.min(5,X)},(ce,J)=>{let ge;return W<=3?ge=J+1:W>=X-2?ge=X-4+J:ge=W-2+J,ge}).filter(ce=>ce>=1&&ce<=X).map(ce=>n.jsx("button",{onClick:()=>ie(ce),className:`px-3 py-2 rounded-lg transition-colors ${W===ce?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:ce},ce)),X>5&&n.jsxs(n.Fragment,{children:[W<=3&&n.jsx("span",{className:"px-2 text-gray-500",children:"..."}),W>3&&W<X-2&&n.jsx("span",{className:"px-2 text-gray-500",children:"..."}),W>=X-2&&n.jsx("span",{className:"px-2 text-gray-500",children:"..."})]}),n.jsx("button",{onClick:()=>ie(ce=>Math.min(X,ce+1)),disabled:W===X,className:"px-4 py-2 bg-blue-500 text-white rounded-lg disabled:bg-gray-300 disabled:cursor-not-allowed hover:bg-blue-600 transition-colors",children:"Next"}),n.jsxs("span",{className:"text-sm text-gray-700 px-4",children:["Page ",W," of ",X," (",B.length," total)"]})]})]}),r&&s&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b bg-gray-50",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Assignment Submission Details"}),n.jsx("button",{onClick:ne,className:"text-gray-500 hover:text-gray-700 p-1 rounded-full hover:bg-gray-200",children:n.jsx(pr,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3 flex items-center",children:[n.jsx(ks,{className:"w-5 h-5 mr-2 text-blue-600"}),"Student Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),n.jsx("p",{className:"text-sm text-gray-900 font-medium",children:s.studentName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Roll Number"}),n.jsx("p",{className:"text-sm text-gray-900",children:s.rollNo})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Class"}),n.jsxs("p",{className:"text-sm text-gray-900",children:[s.class," - ",s.section||"N/A"]})]})]})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3 flex items-center",children:[n.jsx(Un,{className:"w-5 h-5 mr-2 text-indigo-600"}),"Assignment Details"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),n.jsx("p",{className:"text-sm text-gray-900 font-medium bg-blue-100 px-2 py-1 rounded inline-block",children:s.subject})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),n.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${pe(s.priority)}`,children:s.priority})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),n.jsx("p",{className:"text-sm text-gray-900 font-medium",children:s.title})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("p",{className:"text-sm text-gray-900 bg-white p-3 rounded border",children:s.description||"No description provided"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Class"}),n.jsx("p",{className:"text-sm text-gray-900",children:s.class})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Section"}),n.jsx("p",{className:"text-sm text-gray-900",children:s.section||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date"}),n.jsx("p",{className:"text-sm text-gray-900",children:Ae(s.dueDate)})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Submitted Date"}),n.jsx("p",{className:"text-sm text-green-600 font-medium",children:Ae(s.submittedDate)})]})]})]}),(s.attachments?.length>0||s.studentComments)&&n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3 flex items-center",children:[n.jsx(Oo,{className:"w-5 h-5 mr-2 text-green-600"}),"Submission Details"]}),s.studentComments&&n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Student Comments"}),n.jsx("p",{className:"text-sm text-gray-900 bg-white p-3 rounded border",children:s.studentComments})]}),s.attachments?.length>0&&n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Attachments (",s.attachments.length,")"]}),n.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:s.attachments.map((ce,J)=>{const ge=ve(ce);return n.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded border hover:shadow-sm",children:[n.jsxs("div",{className:"flex items-center flex-1",children:[n.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center mr-3",children:n.jsx(Ln,{className:"w-4 h-4 text-gray-500"})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",title:ce.name,children:ce.name}),n.jsxs("p",{className:"text-xs text-gray-500",children:[ce.type||"File"," "," ",ce.size?`${(ce.size/1024).toFixed(1)} KB`:"Unknown size"]})]})]}),ge&&n.jsxs("a",{href:ge,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors ml-2",title:`Download ${ce.name}`,children:[n.jsx(Ln,{className:"w-3 h-3 mr-1"}),"Download"]})]},J)})})]})]}),s.status==="graded"&&n.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3 flex items-center",children:[n.jsx(Rh,{className:"w-5 h-5 mr-2 text-yellow-600"}),"Grading Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Grade"}),n.jsx("p",{className:"text-lg font-bold text-yellow-600",children:s.grade||"N/A"})]}),s.teacherComments&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Teacher Comments"}),n.jsx("p",{className:"text-sm text-gray-900 bg-white p-3 rounded border",children:s.teacherComments})]})]})]}),n.jsx("div",{className:"flex justify-end pt-4 border-t",children:n.jsx("button",{type:"button",onClick:ne,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Close"})})]})]})})]})},COe=()=>{const e=yc();Sd();const[t,r]=S.useState(""),[a,s]=S.useState(null),[i,o]=S.useState([]),[l,c]=S.useState([]),[u,d]=S.useState([]),[A,m]=S.useState(null),[h,y]=S.useState(!1),[x,v]=S.useState(!0),[b,j]=S.useState(!0),[C,E]=S.useState(!1),[k,D]=S.useState(!1),[L,F]=S.useState(""),[Q,U]=S.useState("#2563eb"),P="http://localhost:5000/api";S.useEffect(()=>{try{const le=localStorage.getItem("schoolId")||"688dfdc93af0f78ebd4b044a",re=localStorage.getItem("color");le&&(r(le),U(re||"#2563eb"))}catch(le){console.error("Error accessing localStorage:",le),F("Failed to initialize: "+le.message)}},[]),S.useEffect(()=>{t&&(I(),z())},[t]),S.useEffect(()=>{A&&W()},[A]);const I=async()=>{try{v(!0);const le=await Vt.get(`${P}/schools`);if(le.data.success&&Array.isArray(le.data.data)){o(le.data.data);const re=le.data.data.find(he=>he._id===t);s(re)}else o([]),F("No schools found")}catch(le){console.error("Error fetching schools:",le.message),F("Failed to load schools: "+le.message)}finally{v(!1)}},z=async()=>{if(t)try{j(!0);const le=await Vt.get(`${P}/class?schoolId=${t}`);le.data.success&&Array.isArray(le.data.data)?c(le.data.data):c([])}catch(le){console.error("Error fetching classes:",le.message),c([])}finally{j(!1)}},W=async()=>{if(!(!t||!A))try{E(!0),console.log("Fetching exams for class:",A._id),console.log("Selected exam (class):",A);const le=await Vt.get(`${P}/exams?schoolId=${t}`);if(console.log("All exams response:",le.data),le.data.success){const he=(le.data.data||[]).filter(de=>(de.classId?._id||de.classId)===A._id);console.log("Filtered exams for class:",he),d(he)}else d([]),console.log("No exams found")}catch(le){console.error("Error fetching exams:",le.message),d([])}finally{E(!1)}},ie=S.useCallback(le=>{if(!le)return"N/A";const re=typeof le=="object"?le._id:le,he=l.find(de=>de._id===re);return he?`${he.className||`Class ${he.classNumber||he._id}`}${he.section?` ${he.section}`:""}`.trim():"N/A"},[l]),X=le=>{if(!le||!a){ir.error("Missing exam or school data");return}const re=window.open("","_blank"),he=ie(le.classId),ve=(R=>{const G=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(R);return G?{r:parseInt(G[1],16),g:parseInt(G[2],16),b:parseInt(G[3],16)}:{r:37,g:99,b:235}})(Q),B=`rgb(${ve.r}, ${ve.g}, ${ve.b})`;re.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Exam Time Table - ${a.name}</title>
          <meta charset="UTF-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <style>
            @media print {
              @page {
                margin: 0.5in;
                size: A4;
              }
              * {
                -webkit-print-color-adjust: exact !important;
                color-adjust: exact !important;
                print-color-adjust: exact !important;
              }
              body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                margin: 0;
                padding: 0;
                -webkit-print-color-adjust: exact !important;
                color-adjust: exact !important;
                print-color-adjust: exact !important;
              }
              .no-print {
                display: none !important;
              }
              .header {
                background: ${B} !important;
                -webkit-print-color-adjust: exact !important;
                color-adjust: exact !important;
                print-color-adjust: exact !important;
              }
              th {
                background: ${B} !important;
                -webkit-print-color-adjust: exact !important;
                color-adjust: exact !important;
                print-color-adjust: exact !important;
              }
            }
            body {
              font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
              margin: 0;
              padding: 20px;
              background: white;
              color: #333;
              line-height: 1.6;
            }
            .header {
              background: linear-gradient(135deg, ${B}, ${B}dd);
              color: white;
              padding: 25px;
              border-radius: 12px;
              margin-bottom: 25px;
              display: flex;
              align-items: center;
              gap: 25px;
              box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
              position: relative;
              overflow: hidden;
            }
            .header::before {
              content: '';
              position: absolute;
              top: 0;
              left: 0;
              right: 0;
              bottom: 0;
              background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.1) 50%, transparent 70%);
              animation: shimmer 3s infinite;
            }
            @keyframes shimmer {
              0% { transform: translateX(-100%); }
              100% { transform: translateX(100%); }
            }
            .logo {
              width: 70px;
              height: 70px;
              border-radius: 50%;
              background: white;
              display: flex;
              align-items: center;
              justify-content: center;
              font-size: 28px;
              color: ${B};
              box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
              overflow: hidden;
            }
            .logo img {
              width: 100%;
              height: 100%;
              object-fit: cover;
              border-radius: 50%;
            }
            .school-info h1 {
              margin: 0;
              font-size: 28px;
              font-weight: bold;
              text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
            }
            .school-info p {
              margin: 8px 0 0 0;
              font-size: 16px;
              opacity: 0.95;
            }
            .title {
              text-align: center;
              font-size: 32px;
              font-weight: bold;
              margin: 35px 0;
              color: #1f2937;
              text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
              position: relative;
            }
            .title::after {
              content: '';
              position: absolute;
              bottom: -10px;
              left: 50%;
              transform: translateX(-50%);
              width: 100px;
              height: 3px;
              background: linear-gradient(90deg, ${B}, ${B}80);
              border-radius: 2px;
            }
            .exam-details {
              background: linear-gradient(135deg, #f8fafc, #e2e8f0);
              padding: 25px;
              border-radius: 12px;
              margin-bottom: 25px;
              display: grid;
              grid-template-columns: 1fr 1fr;
              gap: 25px;
              border: 1px solid #e2e8f0;
              box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            }
            .detail-item {
              display: flex;
              align-items: center;
              gap: 12px;
              padding: 8px 0;
            }
            .detail-item strong {
              color: #374151;
              min-width: 120px;
              font-weight: 600;
            }
            .detail-item span {
              color: #6b7280;
              font-weight: 500;
            }
            table {
              width: 100%;
              border-collapse: collapse;
              margin: 25px 0;
              background: white;
              box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
              border-radius: 12px;
              overflow: hidden;
              border: 1px solid #e5e7eb;
            }
            th {
              background: ${B};
              color: white;
              padding: 18px 12px;
              text-align: left;
              font-weight: bold;
              font-size: 15px;
              text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
            }
            td {
              padding: 15px 12px;
              border-bottom: 1px solid #e5e7eb;
              font-size: 14px;
              vertical-align: top;
            }
            tr:nth-child(even) {
              background: #f9fafb;
            }
            tr:hover {
              background: #f3f4f6;
            }
            .syllabus-cell {
              max-width: 250px;
              word-wrap: break-word;
              line-height: 1.4;
            }
            .footer {
              margin-top: 50px;
              text-align: center;
              color: #6b7280;
              font-size: 13px;
              border-top: 2px solid #e5e7eb;
              padding-top: 25px;
            }
            .status-badge {
              padding: 6px 16px;
              border-radius: 25px;
              font-size: 12px;
              font-weight: bold;
              text-transform: uppercase;
              letter-spacing: 0.5px;
            }
            .status-scheduled {
              background: #fef3c7;
              color: #92400e;
            }
            .status-completed {
              background: #d1fae5;
              color: #065f46;
            }
            .status-cancelled {
              background: #fee2e2;
              color: #991b1b;
            }
            .print-button {
              position: fixed;
              top: 20px;
              right: 20px;
              background: ${B};
              color: white;
              border: none;
              padding: 12px 24px;
              border-radius: 8px;
              cursor: pointer;
              font-weight: bold;
              box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
              z-index: 1000;
            }
            .print-button:hover {
              opacity: 0.9;
            }
            @media print {
              .print-button {
                display: none;
              }
            }
          </style>
        </head>
        <body>
          <button class="print-button no-print" onclick="window.print()"> Print</button>
          
          <div class="header" style="background: ${B} !important;">
            <div class="logo">
              ${a.logoUrl?`<img src="${a.logoUrl}" alt="Logo" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';"><div style="display:none; width:100%; height:100%; align-items:center; justify-content:center; font-size:24px;"></div>`:'<div style="display:flex; width:100%; height:100%; align-items:center; justify-content:center; font-size:24px;"></div>'}
            </div>
            <div class="school-info">
              <h1>${a.name||"School Name"}</h1>
              <p>${a.schoolCode?`Code: ${a.schoolCode}`:""}</p>
              <p>${a.address||""}</p>
            </div>
          </div>

          <div class="title">EXAM TIME TABLE</div>

          <div class="exam-details">
            <div class="detail-item">
              <strong>Exam Type:</strong>
              <span>${le.examType}</span>
            </div>
            <div class="detail-item">
              <strong>Class:</strong>
              <span>${he}</span>
            </div>
            <div class="detail-item">
              <strong>Status:</strong>
              <span class="status-badge status-${le.status.toLowerCase()}">${le.status}</span>
            </div>
            <div class="detail-item">
              <strong>Generated:</strong>
              <span>${new Date().toLocaleDateString()}</span>
            </div>
          </div>

          <table>
            <thead>
              <tr>
                <th style="background: ${B} !important; color: white !important;">Subject</th>
                <th style="background: ${B} !important; color: white !important;">Date</th>
                <th style="background: ${B} !important; color: white !important;">Start Time</th>
                <th style="background: ${B} !important; color: white !important;">End Time</th>
                <th style="background: ${B} !important; color: white !important;">Duration</th>
                <th style="background: ${B} !important; color: white !important;">Syllabus</th>
              </tr>
            </thead>
            <tbody>
              ${le.subjects.map(R=>`
                <tr>
                  <td><strong>${R.subjectName||"N/A"}</strong></td>
                  <td>${R.date||"N/A"}</td>
                  <td>${R.startTime||"N/A"}</td>
                  <td>${R.endTime||"N/A"}</td>
                  <td>${R.duration||"N/A"}</td>
                  <td class="syllabus-cell">${R.syllabus||"N/A"}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>

          <div class="footer">
            <p><strong>This document was generated by Vidyaastra School Management System</strong></p>
            <p>For any queries, please contact the school administration</p>
            <p>Generated on: ${new Date().toLocaleString()}</p>
          </div>
        </body>
      </html>
    `),re.document.close(),re.focus(),setTimeout(()=>{re.print()},1e3)};return t?n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"text-white p-6 rounded-b-3xl shadow-lg",style:{backgroundColor:Q},children:n.jsx("div",{className:"max-w-6xl mx-auto",children:n.jsx("div",{className:"flex justify-between items-center mb-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("button",{onClick:()=>e(-1),className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-2 transition-colors",title:"Back to Exam Management",children:n.jsx(Xp,{size:24})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Exam Time Table Download"}),a&&n.jsxs("p",{className:"text-white opacity-90",children:[a.name," ",a.schoolCode&&`(${a.schoolCode})`]})]})]})})})}),n.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[(x||b)&&n.jsxs("div",{className:"p-8 text-center bg-white rounded-lg shadow-md",children:[n.jsx(Rr,{className:"animate-spin mx-auto mb-4",size:32,style:{color:Q}}),n.jsx("p",{className:"text-gray-600",children:x?"Loading school data...":"Loading classes..."})]}),L&&!x&&!b&&n.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6 flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Da,{className:"mr-2"}),n.jsx("span",{children:L})]}),n.jsx("button",{onClick:()=>F(""),className:"text-red-500 hover:text-red-700 font-bold",children:""})]}),!x&&!b&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[n.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center",children:[n.jsx(eee,{className:"mr-2",style:{color:Q}}),"Select Class for Time Table"]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(le=>{const re=`${le.className||`Class ${le.classNumber||le._id}`}${le.section?` ${le.section}`:""}`.trim();return n.jsx("button",{onClick:()=>m(le),className:`p-4 rounded-lg border-2 transition-all ${A?._id===le._id?"border-opacity-100":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,style:{borderColor:A?._id===le._id?Q:void 0,backgroundColor:A?._id===le._id?`${Q}10`:void 0},children:n.jsxs("div",{className:"text-left",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:re}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[le.section?"Section":"Class"," Details"]})]})},le._id)})})]}),A&&n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[n.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center",children:[n.jsx(Ia,{className:"mr-2",style:{color:Q}}),"Available Exam Time Tables"]}),C?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Rr,{className:"animate-spin mx-auto mb-4",size:32,style:{color:Q}}),n.jsx("p",{className:"text-gray-600",children:"Loading exam time tables..."})]}):u.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(Ia,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),n.jsx("p",{className:"text-lg mb-2",children:"No exam time tables found"}),n.jsx("p",{className:"text-sm",children:"No exams have been scheduled for this class yet."})]}):n.jsx("div",{className:"space-y-4",children:u.map(le=>n.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:le.examType}),n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${le.status==="Scheduled"?"bg-yellow-100 text-yellow-800":le.status==="Completed"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:le.status})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-3",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(qh,{size:14}),le.subjects?.length||0," subjects"]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(fn,{size:14}),le.subjects?.reduce((re,he)=>{if(he.duration){const de=he.duration.match(/(\d+)h\s*(\d+)m/);if(de)return re+parseInt(de[1])*60+parseInt(de[2])}return re},0)||0," minutes total"]})]}),n.jsxs("div",{className:"text-sm text-gray-500",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Class:"})," ",ie(le.classId)]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Subjects:"})," ",le.subjects?.map(re=>re.subjectName).join(", ")||"None"]})]})]}),n.jsx("div",{className:"flex gap-2 ml-4",children:n.jsxs("button",{onClick:()=>X(le),className:"flex items-center gap-2 px-4 py-2 text-white rounded-lg transition-colors",style:{backgroundColor:Q},onMouseEnter:re=>re.target.style.opacity="0.9",onMouseLeave:re=>re.target.style.opacity="1",title:"Print Time Table",children:[n.jsx(aB,{size:16}),"Print"]})})]})},le._id))})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"How to Use This Feature"}),n.jsxs("div",{className:"space-y-2 text-blue-800",children:[n.jsxs("p",{children:[" ",n.jsx("strong",{children:"Select a Class:"})," Choose the class for which you want to download the exam time table"]}),n.jsxs("p",{children:[" ",n.jsx("strong",{children:"Choose Exam:"})," Select from available exam time tables for the selected class"]}),n.jsxs("p",{children:[" ",n.jsx("strong",{children:"Download PDF:"})," Get a professional PDF version with school branding"]}),n.jsxs("p",{children:[" ",n.jsx("strong",{children:"Print:"})," Print the time table directly with proper formatting"]}),n.jsxs("p",{children:[" ",n.jsx("strong",{children:"Professional Format:"})," All downloads include school logo, name, and code"]})]})]})]})]}),k&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-8 shadow-lg text-center",children:[n.jsx(Rr,{className:"animate-spin mx-auto mb-4",size:48,style:{color:Q}}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Generating PDF"}),n.jsx("p",{className:"text-gray-600",children:"Please wait while we create your exam time table..."})]})})]}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"text-center p-8 bg-white rounded-lg shadow-md max-w-md",children:[n.jsx(Da,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),n.jsx("div",{className:"text-red-500 text-xl mb-4",children:"School ID not found"}),n.jsx("div",{className:"text-gray-600 mb-4",children:"Please login again to access the exam time table system."}),n.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",style:{backgroundColor:Q},children:"Refresh Page"})]})})},EOe=()=>{const e=yc(),t=localStorage.getItem("schoolId"),[r,a]=S.useState("Unknown School"),[s,i]=S.useState("#2563eb"),[o,l]=S.useState(!1),[c,u]=S.useState(!1),[d,A]=S.useState(null),[m,h]=S.useState(null),[y,x]=S.useState(""),[v,b]=S.useState(""),[j,C]=S.useState(""),[E,k]=S.useState(!1),[D,L]=S.useState(""),[F,Q]=S.useState([]),[U,P]=S.useState([]),[I,z]=S.useState(1),[W]=S.useState(10),ie=localStorage.getItem("schoolLogo"),X="http://localhost:5000/api/results",le=`http://localhost:5000/api/schools/${t}`,re=Xn(Ee=>Ee.classes.classes?.data||[]),he=Xn(Ee=>Ee.classes.loading),de=Xn(Ee=>Ee.classes.error),ve=Xn(Ee=>Ee.subjects.subjects?.data||[]),B=Xn(Ee=>Ee.subjects.loading),R=Xn(Ee=>Ee.subjects.error);S.useEffect(()=>{const Ee=localStorage.getItem("color");Ee&&i(Ee)},[]);const G=S.useMemo(()=>re.map(Ee=>({_id:Ee._id,className:Ee.className||`Class ${Ee.classNumber||Ee._id}`,section:Ee.section||"",displayName:`${Ee.className||`Class ${Ee.classNumber||Ee._id}`}${Ee.section?` ${Ee.section}`:""}`.trim()})),[re]),ne=S.useMemo(()=>Array.from(new Set(G.map(Ee=>Ee.className))).sort(),[G]),pe=S.useMemo(()=>v?Array.from(new Set(G.filter(Ee=>Ee.className===v&&Ee.section).map(Ee=>Ee.section))).sort():Array.from(new Set(G.map(Ee=>Ee.section).filter(Boolean))).sort(),[G,v]),xe=S.useMemo(()=>ve.map(Ee=>({_id:Ee._id,name:Ee.SubjectName||Ee.name||Ee.subjectName||"Unnamed Subject"})),[ve]),Ae="http://localhost:5000/api/exam-types";S.useMemo(()=>[],[]);const[Y,se]=S.useState([]),[ee,be]=S.useState([]),[Ce,ce]=S.useState(""),[J,ge]=S.useState(!1),[Je,Ke]=S.useState(!1),[Fe,nt]=S.useState(null),[Se,Me]=S.useState(""),[at,ke]=S.useState(null),[Ve,ze]=S.useState(""),[rt,Ge]=S.useState(""),bt=S.useMemo(()=>Ve?Array.from(new Set(G.filter(Ee=>Ee.className===Ve&&Ee.section).map(Ee=>Ee.section))).sort():[],[G,Ve]),Le=(Ee,it)=>{const vt=G.find(It=>It.className===Ee&&(!it||It.section===it));Ze(It=>({...It,classId:vt?._id||""}))},[je,Ze]=S.useState({examType:"",classId:"",studentId:"",examDate:"",subjects:[{subjectName:"",maxMarks:100,scoredMarks:"",grade:""}]});S.useEffect(()=>{t&&(Te(),pt(),At())},[t]),S.useEffect(()=>{de&&L("Failed to load classes: "+de),R&&L("Failed to load subjects: "+R)},[de,R]),S.useEffect(()=>{z(1)},[y,v,j]),S.useEffect(()=>{(async()=>{if(t)try{const it=await fetch(`${Ae}?schoolId=${t}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!it.ok)throw new Error(`Failed to fetch exam types (${it.status})`);const vt=await it.json(),It=Array.isArray(vt?.data)?vt.data:Array.isArray(vt)?vt:[];be(It),se(It.map(Mt=>Mt.exameType||Mt.name||Mt.examType||Mt))}catch(it){console.error("Error loading exam types:",it),be([]),se([])}})()},[t]);const Te=async()=>{try{const Ee=await fetch(le,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(Ee.ok){const it=await Ee.json();it.success&&it.data?a(it.data.name||"Unknown School"):a("Unknown School")}else a("Unknown School")}catch(Ee){console.error("Error fetching school name:",Ee),a("Unknown School")}},pt=async()=>{if(t)try{console.log("Fetching students for schoolId:",t);const Ee=await fetch(`http://localhost:5000/api/students/school/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!Ee.ok)throw new Error(`HTTP error! Status: ${Ee.status}`);const it=await Ee.json();console.log("Students API response:",it);let vt=[];if(it.success&&Array.isArray(it.data)?vt=it.data:Array.isArray(it.students)?vt=it.students:Array.isArray(it)&&(vt=it),console.log("Processed students data:",vt),!vt.length){console.warn("No students found for schoolId:",t),Q([]);return}const It=vt.map(Mt=>({...Mt,_id:Mt._id||Mt.id,name:Mt.name||Mt.fullName||"Unknown",rollNumber:Mt.rollNumber||Mt.roll||"N/A",schoolId:Mt.schoolId,classId:Mt.classId||null}));console.log("Final processed students:",It),Q(It)}catch(Ee){console.error("Error fetching students:",Ee),L("Failed to fetch students: "+Ee.message),Q([])}},At=async()=>{if(t)try{const Ee=await fetch(`${X}/results/${t}?limit=10000`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(Ee.ok){const it=await Ee.json();it.success?P(it.data||[]):(P([]),L(it.message||"Failed to fetch results"))}else P([]),L("Failed to fetch results")}catch(Ee){console.error("Error fetching results:",Ee),P([]),L("Error fetching results: "+Ee.message)}},qe=(Ee,it)=>{if(!Ee||!it||it<=0)return"N/A";const vt=Ee/it*100;return vt>=95?"A+":vt>=85?"A":vt>=75?"B+":vt>=65?"B":vt>=55?"C+":vt>=45?"C":"F"},Pe=(Ee,it)=>{const{name:vt,value:It}=Ee.target;Ze(it!==void 0?Mt=>{const fr=[...Mt.subjects];if(fr[it]={...fr[it],[vt]:It},vt==="scoredMarks"||vt==="maxMarks"){const dr=parseFloat(fr[it].scoredMarks)||0,sr=parseFloat(fr[it].maxMarks)||1;fr[it].grade=qe(dr,sr)}return{...Mt,subjects:fr}}:Mt=>({...Mt,[vt]:It}))},mt=async()=>{const Ee=(Ce||"").trim();if(!(!Ee||!t))try{Ke(!0);const it=await fetch(`${Ae}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({exameType:Ee,schoolId:t})}),vt=await it.json();if(!it.ok||vt?.success===!1)throw new Error(vt?.message||"Failed to save exam type");const Mt=await(await fetch(`${Ae}?schoolId=${t}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}})).json(),fr=Array.isArray(Mt?.data)?Mt.data:Array.isArray(Mt)?Mt:[];be(fr);const dr=fr.map(sr=>sr.exameType||sr.name||sr.examType||sr);se(dr),Ze(sr=>({...sr,examType:Ee})),ge(!1),ce(""),ir.success("Exam type added")}catch(it){console.error("Save exam type error:",it),ir.error(it.message||"Failed to add exam type")}finally{Ke(!1)}},Qe=Ee=>{nt(Ee._id),Me(Ee.exameType||"")},st=()=>{nt(null),Me("")},tt=async Ee=>{const it=(Se||"").trim();if(it)try{const vt=await fetch(`${Ae}/${Ee}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({exameType:it})}),It=await vt.json();if(!vt.ok||It?.success===!1)throw new Error(It?.message||"Failed to update exam type");const fr=await(await fetch(`${Ae}?schoolId=${t}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}})).json(),dr=Array.isArray(fr?.data)?fr.data:Array.isArray(fr)?fr:[];be(dr),se(dr.map(sr=>sr.exameType||sr.name||sr.examType||sr)),nt(null),Me(""),ir.success("Exam type updated")}catch(vt){console.error("Update exam type error:",vt),ir.error(vt.message||"Failed to update exam type")}},Ft=async Ee=>{if(confirm("Delete this exam type?"))try{ke(Ee);const it=await fetch(`${Ae}/${Ee}`,{method:"DELETE",headers:{"Content-Type":"application/json"}}),vt=await it.json();if(!it.ok||vt?.success===!1)throw new Error(vt?.message||"Failed to delete exam type");const Mt=await(await fetch(`${Ae}?schoolId=${t}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}})).json(),fr=Array.isArray(Mt?.data)?Mt.data:Array.isArray(Mt)?Mt:[];be(fr),se(fr.map(dr=>dr.exameType||dr.name||dr.examType||dr)),ir.success("Exam type deleted")}catch(it){console.error("Delete exam type error:",it),ir.error(it.message||"Failed to delete exam type")}finally{ke(null)}},_t=()=>{Ze(Ee=>({...Ee,subjects:[...Ee.subjects,{subjectName:"",maxMarks:"",scoredMarks:"",grade:""}]}))},Dt=Ee=>{Ze(it=>({...it,subjects:it.subjects.filter((vt,It)=>It!==Ee)}))},Wt=async()=>{if(!t){ir.error("Error: School ID not found. Please login again.");return}L("");try{if(!je.examType||!je.classId||!je.studentId||!je.examDate||je.subjects.length===0||je.subjects.some(vt=>!vt.subjectName||!vt.maxMarks||!vt.scoredMarks||parseFloat(vt.scoredMarks)>parseFloat(vt.maxMarks))){ir.error("Please fill all required fields for each subject and ensure scored marks are not greater than max marks.");return}const Ee={classId:je.classId,examType:je.examType,date:je.examDate,subjects:je.subjects.map(vt=>({subjectName:vt.subjectName,maxMarks:parseFloat(vt.maxMarks),scoredMarks:parseFloat(vt.scoredMarks),grade:vt.grade}))};(m?await Dr(m._id,Ee,je.studentId):await cr(Ee,je.studentId))&&ca()}catch(Ee){console.error("Submit error:",Ee),L("Failed to submit: "+Ee.message)}},cr=async(Ee,it)=>{try{k(!0);const It=await(await fetch(`${X}/${t}/${it}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({results:[Ee]})})).json();return It.success?(ir.success("Result created successfully."),await At(),!0):(L(It.message||"Failed to create result"),ir.error("Error: "+(It.message||"Failed to create result")),!1)}catch(vt){return L("Error creating result: "+vt.message),ir.error("Error creating result: "+vt.message),!1}finally{k(!1)}},Dr=async(Ee,it,vt)=>{try{k(!0);const Mt=await(await fetch(`${X}/${t}/${vt}/${Ee}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({updateFields:it})})).json();return Mt.success?(ir.success("Result updated successfully."),await At(),!0):(L(Mt.message||"Failed to update result"),ir.error("Error: "+(Mt.message||"Failed to update result")),!1)}catch(It){return L("Error updating result: "+It.message),ir.error("Error updating result: "+It.message),!1}finally{k(!1)}},Ea=Ee=>{h(Ee),Ze({examType:Ee.examType||"",classId:Ee.classId?._id||Ee.classId||"",studentId:Ee.studentId?._id||Ee.studentId||"",examDate:Ee.date?new Date(Ee.date).toISOString().split("T")[0]:"",subjects:Ee.subjects?.length?Ee.subjects.map(it=>({subjectName:it.subjectName||"",maxMarks:it.maxMarks?.toString()||"",scoredMarks:it.scoredMarks?.toString()||"",grade:it.grade||""})):[{subjectName:"",maxMarks:"",scoredMarks:"",grade:""}]}),l(!0)},Fr=async Ee=>{if(confirm("Are you sure you want to delete this item?"))try{k(!0),console.log("Deleting result:",Ee._id,"for student:",Ee.studentId._id);const it=await fetch(`${X}/${t}/${Ee.studentId._id}/${Ee._id}`,{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"}});console.log("Delete response status:",it.status),console.log("Delete response headers:",it.headers);const vt=it.headers.get("content-type");if(!vt||!vt.includes("application/json")){const Mt=await it.text();throw console.error("Non-JSON response:",Mt),new Error(`Server returned non-JSON response: ${it.status} ${it.statusText}`)}const It=await it.json();if(console.log("Delete response data:",It),!it.ok)throw new Error(It.message||`HTTP error! Status: ${it.status}`);It.success?(ir.success("Item deleted successfully."),await At()):(L(It.message||"Failed to delete item"),ir.error("Error: "+(It.message||"Failed to delete item")))}catch(it){console.error("Delete error:",it),L("Error deleting item: "+it.message),ir.error("Error deleting item: "+it.message)}finally{k(!1)}},jr=()=>{u(!1),A(null)},Sr=()=>{if(!d||!d.subjects){ir.error("Error: No valid result data available to download.");return}const Ee=new Ca,it=Ee.internal.pageSize.getWidth(),vt=Ee.internal.pageSize.getHeight(),It=15;let Mt=15;const fr=()=>{Ee.setFont("helvetica","bold"),Ee.setFontSize(24),Ee.setTextColor(0,51,102),Ee.text(r.toUpperCase(),it/2,Mt,{align:"center"}),Mt+=10,Ee.setFontSize(16),Ee.setTextColor(0,0,0),Ee.text("Examination Result Sheet",it/2,Mt,{align:"center"}),Mt+=10,Ee.setDrawColor(0,51,102),Ee.setLineWidth(.5),Ee.line(It,Mt,it-It,Mt),Mt+=10,Ee.setFont("helvetica","normal"),Ee.setFontSize(12),Ee.text(`Student: ${oa(d.studentId)}`,It,Mt),Mt+=7,Ee.text(`Roll Number: ${wt(d.studentId)}`,It,Mt),Mt+=7,Ee.text(`Class: ${Xt(d.classId)}`,It,Mt),Mt+=7,Ee.text(`Exam Type: ${d.examType||"N/A"}`,It,Mt),Mt+=10;const sr=d.subjects.map(Nn=>[Nn.subjectName||"N/A",Nn.maxMarks?.toString()||"0",Nn.scoredMarks?.toString()||"0",Nn.maxMarks>0?`${(Nn.scoredMarks/Nn.maxMarks*100).toFixed(1)}%`:"0%",Nn.grade||"N/A"]),Yr=d.subjects.reduce((Nn,ds)=>Nn+(ds.scoredMarks||0),0),Na=d.subjects.reduce((Nn,ds)=>Nn+(ds.maxMarks||0),0),Sa=Na>0?(Yr/Na*100).toFixed(1):0,za=qe(Yr,Na);OB(Ee,{startY:Mt,head:[["Subject","Max Marks","Scored Marks","Percentage","Grade"]],body:sr,theme:"grid",headStyles:{fillColor:[0,51,102],textColor:[255,255,255],fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]},margin:{left:It,right:It},styles:{fontSize:10,cellPadding:3}}),Mt=(Ee.lastAutoTable?.finalY||Mt)+10,Ee.setFont("helvetica","bold"),Ee.setFontSize(12),Ee.text(`Total Marks: ${Yr}/${Na}`,It,Mt),Mt+=7,Ee.text(`Overall Percentage: ${Sa}%`,It,Mt),Mt+=7,Ee.text(`Overall Grade: ${za}`,It,Mt),Mt+=10,Ee.setFont("helvetica","italic"),Ee.setFontSize(10),Ee.setTextColor(100),Ee.text(`Generated on: ${new Date().toLocaleDateString()}`,It,vt-30),Ee.text("Authorized by: ____________________",it-It-60,vt-30),Ee.setDrawColor(0,51,102),Ee.setLineWidth(.2),Ee.line(It,vt-35,it-It,vt-35)},dr=()=>{const sr=oa(d.studentId).replace(/\s+/g,"_"),Yr=d.examType||"N_A";Ee.save(`result_${sr}_${Yr}.pdf`)};if(ie)try{const sr=new Image;sr.src=ie,sr.onload=()=>{Ee.addImage(sr,"PNG",It,Mt,30,30),Mt+=35,fr(),dr()},sr.onerror=()=>{console.warn("Failed to load logo, proceeding without it."),fr(),dr()}}catch(sr){console.warn("Error adding logo to PDF, proceeding without it:",sr),fr(),dr()}else fr(),dr()},ca=()=>{Ze({examType:"",classId:"",studentId:"",examDate:"",subjects:[{subjectName:"",maxMarks:"",scoredMarks:"",grade:""}]}),h(null),l(!1),L("")},oa=Ee=>Ee?.name||"Unknown Student",wt=Ee=>Ee?.rollNumber||"N/A",Xt=S.useCallback(Ee=>Ee?`${Ee.className||`Class ${Ee._id}`}${Ee.section?` ${Ee.section}`:""}`.trim():"N/A",[]),Oe=Ee=>{const it=Ee.subjects.reduce((fr,dr)=>fr+(dr.scoredMarks||0),0),vt=Ee.subjects.reduce((fr,dr)=>fr+(dr.maxMarks||0),0),It=vt>0?(it/vt*100).toFixed(1):0,Mt=qe(it,vt);return{totalScored:it,totalMax:vt,percentage:It,grade:Mt}},ut=U.map(Ee=>({...Ee,className:Xt(G.find(it=>it._id===(Ee.classId?._id||Ee.classId))),summary:Oe(Ee)})).filter(Ee=>[Ee.examType||"",Ee.className,oa(Ee.studentId),...Ee.subjects.map(vt=>vt.subjectName||"")].some(vt=>vt.toLowerCase().includes(y.toLowerCase()))).filter(Ee=>{if(!v)return!0;const it=G.find(Mt=>Mt._id===(Ee.classId?._id||Ee.classId));if(!it)return!1;const vt=it?.className,It=it?.section;return vt===v&&(!j||It===j)}),ot=Math.ceil(ut.length/W),dt=ut.slice((I-1)*W,I*W),Ie=()=>{I>1&&z(Ee=>Ee-1)},Ne=()=>{I<ot&&z(Ee=>Ee+1)},ct=Ee=>{z(Ee)},Ye=()=>{b(""),C(""),x(""),z(1)};return t?n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:Gt("text-white p-6 rounded-b-3xl shadow-lg"),style:{backgroundColor:s},children:n.jsx("div",{className:"max-w-5xl mx-auto",children:n.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-4",children:n.jsxs("div",{className:"mb-4 md:mb-0",children:[n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Exam Results Management"}),n.jsxs("div",{className:"text-white text-sm opacity-75 mt-1",children:["School: ",r," | ID: ",t," |"," ",G.length," classes | ",F.length," students |"," ",xe.length," subjects"]})]})})})}),n.jsxs("div",{className:"max-w-5xl mx-auto p-6",children:[D&&n.jsxs("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2 max-w-lg",children:[n.jsx(Da,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"block sm:inline text-sm",children:D}),n.jsx("button",{onClick:()=>L(""),className:"ml-auto text-red-700 hover:text-red-900 flex-shrink-0",children:n.jsx(pr,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(on,{className:"absolute left-3 top-3",style:{color:s}}),n.jsx("input",{type:"text",placeholder:"Search by exam type, student, or subject...",value:y,onChange:Ee=>x(Ee.target.value),className:Gt("pl-10 pr-4 py-2 border border-gray-300 rounded-xl w-full","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:s}})]}),n.jsxs("select",{value:v,onChange:Ee=>{b(Ee.target.value),C(""),z(1)},className:Gt("border border-gray-300 rounded-xl px-4 py-2","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:s},children:[n.jsx("option",{value:"",children:"All Classes"}),ne.map(Ee=>n.jsx("option",{value:Ee,children:Ee},Ee))]}),n.jsxs("select",{value:j,onChange:Ee=>{C(Ee.target.value),z(1)},className:Gt("border border-gray-300 rounded-xl px-4 py-2",!v&&"opacity-50 cursor-not-allowed"),style:{focusRingColor:s},disabled:!v,children:[n.jsx("option",{value:"",children:v&&pe.length===0?"No sections available":"All Sections"}),pe.map(Ee=>n.jsx("option",{value:Ee,children:Ee},Ee))]}),n.jsx("button",{onClick:Ye,className:Gt("px-4 py-2 border border-gray-300 rounded-xl text-gray-700","hover:bg-gray-50 transition-all duration-200"),style:{borderColor:s},children:"Reset Filters"}),n.jsxs("button",{onClick:()=>l(!0),className:Gt("text-white px-6 py-2 rounded-xl flex items-center font-semibold","hover:opacity-90 transition-all duration-200","disabled:opacity-50"),style:{backgroundColor:s},title:E||he||B?"Loading...":G.length===0?"No classes available":xe.length===0?"No subjects available":F.length===0?"No students available":"Add Result",children:[E||he||B?n.jsx(Rr,{className:"mr-2 animate-spin",style:{color:"white"}}):n.jsx(bs,{className:"mr-2",style:{color:"white"}}),"Add Result"]}),n.jsxs("button",{onClick:()=>{ce(""),ge(!0)},className:Gt("text-white px-6 py-2 rounded-xl flex items-center font-semibold","hover:opacity-90 transition-all duration-200","disabled:opacity-50"),style:{backgroundColor:s},disabled:E,title:"Add Exam Type",children:[n.jsx(bs,{className:"mr-2",style:{color:"white"}}),"Add Exam Type"]})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden",children:[E&&n.jsxs("div",{className:"p-8 text-center",children:[n.jsx(Rr,{className:"animate-spin mx-auto mb-4",size:32,style:{color:s}}),n.jsx("p",{className:"text-gray-600",children:"Loading..."})]}),!E&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Exam Type"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Marks"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Percentage"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Overall Grade"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:dt.map(Ee=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:Ee.examType||"N/A"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:Ee.className})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[oa(Ee.studentId)," (",wt(Ee.studentId),")"]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[Ee.summary.totalScored,"/",Ee.summary.totalMax]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[Ee.summary.percentage,"%"]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full text-white",style:{backgroundColor:Ee.summary.grade==="A+"?"#16a34a":Ee.summary.grade==="A"?"#22c55e":Ee.summary.grade==="B+"?s:Ee.summary.grade==="B"?"#eab308":Ee.summary.grade==="C+"?"#f97316":Ee.summary.grade==="C"?"#ef4444":"#dc2626"},children:Ee.summary.grade})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[n.jsx("button",{onClick:()=>{e("/result/certificate",{state:{result:Ee,schoolName:r,schoolLogo:ie,themeColor:s}})},className:"p-2 hover:bg-gray-100 rounded-full transition-colors",disabled:E,title:"Open Certificate",style:{color:s},children:n.jsx(cs,{})}),n.jsx("button",{onClick:()=>Ea(Ee),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",disabled:E,title:"Edit",style:{color:s},children:n.jsx(Ql,{})}),n.jsx("button",{onClick:()=>Fr(Ee),className:"p-2 hover:bg-gray-100 rounded-full transition-colors text-red-500 hover:text-red-700",disabled:E,title:"Delete",children:n.jsx(Jn,{})})]})]},Ee._id||Ee.id))})]})}),!E&&ut.length>0&&n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center px-6 py-4 border-t border-gray-200",children:[n.jsxs("div",{className:"text-sm text-gray-600 mb-2 sm:mb-0",children:["Page ",I," of ",ot]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:Ie,disabled:I===1,className:Gt("px-4 py-2 bg-gray-100 text-gray-700 rounded-lg","hover:bg-gray-200 disabled:opacity-50 transition-colors"),children:n.jsx(Do,{})}),[...Array(ot)].map((Ee,it)=>{const vt=it+1;return n.jsx("button",{onClick:()=>ct(vt),className:Gt("px-3 py-1 rounded-lg border border-gray-300",I===vt?"text-white":"hover:bg-gray-100"),style:{backgroundColor:I===vt?s:"transparent"},children:vt},vt)}),n.jsx("button",{onClick:Ne,disabled:I===ot,className:Gt("px-4 py-2 bg-gray-100 text-gray-700 rounded-lg","hover:bg-gray-200 disabled:opacity-50 transition-colors"),children:n.jsx(ro,{})})]})]}),!E&&ut.length===0&&n.jsxs("div",{className:"p-8 text-center text-gray-500",children:[n.jsx("div",{className:"text-lg mb-2",children:"No results found"}),n.jsx("div",{className:"text-sm",children:y||v||j?"Try adjusting your search terms or filters":"Click 'Add Result' to create your first entry"})]})]})]})]}),o&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[n.jsxs("div",{className:Gt("text-white p-6 rounded-t-2xl flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:s},children:[n.jsx("h2",{className:"text-xl font-bold",children:m?"Edit Result":"Add Result"}),n.jsx("button",{onClick:ca,className:"flex items-center justify-center w-8 h-8 hover:bg-white hover:bg-opacity-20 rounded-full transition-colors",children:n.jsx(pr,{size:24,style:{color:"white"}})})]}),n.jsxs("div",{className:"p-6",children:[(he||B)&&n.jsxs("div",{className:"text-center py-4",children:[n.jsx(Rr,{className:"w-6 h-6 mx-auto animate-spin mb-2",style:{color:s}}),n.jsx("p",{className:"text-sm text-gray-600",children:"Loading classes and subjects..."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("select",{name:"examType",value:je.examType,onChange:Pe,className:Gt("w-full px-4 py-3 border border-gray-300 rounded-xl","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:s},required:!0,children:[n.jsx("option",{value:"",children:"Select Exam Type"}),Y.map(Ee=>n.jsx("option",{value:Ee,children:Ee},Ee))]}),n.jsxs("select",{value:Ve,onChange:Ee=>{const it=Ee.target.value;ze(it),Ge(""),Le(it,"")},className:Gt("w-full px-4 py-3 border border-gray-300 rounded-xl","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:s},disabled:he,required:!0,children:[n.jsx("option",{value:"",children:"Select Class"}),ne.length===0?n.jsx("option",{value:"",disabled:!0,children:"No classes available"}):ne.map(Ee=>n.jsx("option",{value:Ee,children:Ee},Ee))]}),n.jsxs("select",{value:rt,onChange:Ee=>{const it=Ee.target.value;Ge(it),Le(Ve,it)},className:Gt("w-full px-4 py-3 border border-gray-300 rounded-xl",!Ve&&"opacity-50 cursor-not-allowed"),style:{focusRingColor:s},disabled:!Ve,children:[n.jsx("option",{value:"",children:Ve&&bt.length===0?"No sections available":"Select Section"}),bt.map(Ee=>n.jsx("option",{value:Ee,children:Ee},Ee))]}),n.jsxs("select",{name:"studentId",value:je.studentId,onChange:Pe,className:Gt("w-full px-4 py-3 border border-gray-300 rounded-xl","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:s},disabled:!je.classId,required:!0,children:[n.jsx("option",{value:"",children:"Select Student"}),F.length===0?n.jsx("option",{value:"",disabled:!0,children:"No students available"}):(()=>{console.log("Filtering students with:",{modalClassName:Ve,modalSection:rt}),console.log("All students:",F);const Ee=F?.filter(it=>{const vt=it.classId?.className,It=it.classId?.section;if(console.log("Student:",it.name,"Class:",vt,"Section:",It),Ve&&rt){const Mt=vt===Ve&&It===rt;return console.log("Both class and section filter:",Mt),Mt}else if(Ve){const Mt=vt===Ve;return console.log("Class filter only:",Mt),Mt}else return console.log("No filter applied"),!0});return console.log("Filtered students:",Ee),Ee})().map(Ee=>n.jsxs("option",{value:Ee._id,children:[Ee.name," (",Ee.rollNumber,")"]},Ee._id))]}),n.jsx("input",{type:"date",name:"examDate",value:je.examDate,onChange:Pe,className:Gt("w-full px-4 py-3 border border-gray-300 rounded-xl","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:s},required:!0}),n.jsxs("div",{className:"space-y-4",children:[je.subjects.map((Ee,it)=>n.jsxs("div",{className:"border p-4 rounded-xl relative",children:[n.jsx("button",{type:"button",onClick:()=>Dt(it),className:"absolute top-2 right-2 text-red-500 hover:text-red-700",disabled:je.subjects.length===1,children:n.jsx(Pte,{})}),n.jsxs("select",{name:"subjectName",value:Ee.subjectName,onChange:vt=>Pe(vt,it),className:Gt("w-full px-4 py-3 border border-gray-300 rounded-xl mb-2","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:s},required:!0,children:[n.jsx("option",{value:"",children:"Select Subject"}),xe.length===0?n.jsx("option",{value:"",disabled:!0,children:"No subjects available"}):xe.map(vt=>n.jsx("option",{value:vt.name,children:vt.name},vt._id))]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx("input",{type:"number",name:"scoredMarks",placeholder:"Scored Marks",value:Ee.scoredMarks,onChange:vt=>Pe(vt,it),className:Gt("px-4 py-3 border border-gray-300 rounded-xl","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:s},required:!0,min:"0",step:"0.1"}),n.jsx("input",{type:"number",name:"maxMarks",placeholder:"Max Marks",value:Ee.maxMarks,onChange:vt=>Pe(vt,it),className:Gt("px-4 py-3 border border-gray-300 rounded-xl","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:s},required:!0,min:"1",step:"0.1"})]}),n.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Grade: ",Ee.grade||"N/A"]})]},it)),n.jsxs("button",{type:"button",onClick:_t,className:"flex items-center text-white px-4 py-2 rounded-xl font-semibold hover:opacity-90 transition-all duration-200",style:{backgroundColor:s},children:[n.jsx(bs,{className:"mr-2",style:{color:"white"}}),"Add Subject"]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200",children:[n.jsx("button",{onClick:ca,className:Gt("flex-1 py-3 px-6 border border-gray-300 text-gray-700 rounded-xl font-semibold","hover:bg-gray-50 transition-colors disabled:opacity-50"),disabled:E,children:"Cancel"}),n.jsx("button",{onClick:Wt,className:Gt("flex-1 py-3 px-6 text-white rounded-xl font-semibold","hover:opacity-90 transition-all duration-200 flex items-center justify-center space-x-2","disabled:opacity-50"),style:{backgroundColor:s},disabled:E||he||B||!je.examType||!je.classId||!je.studentId||je.subjects.length===0||je.subjects.some(Ee=>!Ee.subjectName||!Ee.maxMarks||!Ee.scoredMarks),children:E?n.jsxs(n.Fragment,{children:[n.jsx(Rr,{className:"w-4 h-4 animate-spin",style:{color:"white"}}),n.jsx("span",{children:m?"Updating...":"Saving..."})]}):n.jsxs(n.Fragment,{children:[n.jsx($l,{className:"w-4 h-4",style:{color:"white"}}),n.jsx("span",{children:m?"Update":"Save"})]})})]})]})]})}),c&&d&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto shadow-2xl",children:[n.jsxs("div",{className:Gt("text-white p-6 rounded-t-2xl flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:s},children:[n.jsx("h2",{className:"text-xl font-bold",children:"Result Sheet"}),n.jsx("button",{onClick:jr,className:"flex items-center justify-center w-8 h-8 hover:bg-white hover:bg-opacity-20 rounded-full transition-colors",children:n.jsx(pr,{size:24,style:{color:"white"}})})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"text-center mb-6",children:[ie&&n.jsx("img",{src:ie,alt:"School Logo",className:"h-16 mx-auto mb-4"}),n.jsx("h3",{className:"text-3xl font-bold text-gray-800 uppercase",children:r}),n.jsx("p",{className:"text-lg font-semibold text-gray-600",children:"Examination Result Sheet"})]}),n.jsxs("div",{className:"border-t border-b border-gray-300 py-4 mb-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-semibold text-gray-700",children:"Student:"}),n.jsx("span",{className:"text-gray-900",children:oa(d.studentId)})]}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-semibold text-gray-700",children:"Roll Number:"}),n.jsx("span",{className:"text-gray-900",children:wt(d.studentId)})]}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-semibold text-gray-700",children:"Class:"}),n.jsx("span",{className:"text-gray-900",children:Xt(d.classId)})]}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-semibold text-gray-700",children:"Exam Type:"}),n.jsx("span",{className:"text-gray-900",children:d.examType||"N/A"})]})]}),n.jsxs("table",{className:"w-full border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-100",children:[n.jsx("th",{className:"border p-2 text-left text-sm font-semibold text-gray-700",children:"Subject"}),n.jsx("th",{className:"border p-2 text-left text-sm font-semibold text-gray-700",children:"Max Marks"}),n.jsx("th",{className:"border p-2 text-left text-sm font-semibold text-gray-700",children:"Scored Marks"}),n.jsx("th",{className:"border p-2 text-left text-sm font-semibold text-gray-700",children:"Percentage"}),n.jsx("th",{className:"border p-2 text-left text-sm font-semibold text-gray-700",children:"Grade"})]})}),n.jsx("tbody",{children:d.subjects.map((Ee,it)=>n.jsxs("tr",{className:it%2===0?"bg-gray-50":"bg-white",children:[n.jsx("td",{className:"border p-2 text-sm text-gray-900",children:Ee.subjectName}),n.jsx("td",{className:"border p-2 text-sm text-gray-900",children:Ee.maxMarks}),n.jsx("td",{className:"border p-2 text-sm text-gray-900",children:Ee.scoredMarks}),n.jsxs("td",{className:"border p-2 text-sm text-gray-900",children:[(Ee.scoredMarks/Ee.maxMarks*100).toFixed(1),"%"]}),n.jsx("td",{className:"border p-2 text-sm",children:n.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full text-white",style:{backgroundColor:Ee.grade==="A+"?"#16a34a":Ee.grade==="A"?"#22c55e":Ee.grade==="B+"?s:Ee.grade==="B"?"#eab308":Ee.grade==="C+"?"#f97316":Ee.grade==="C"?"#ef4444":"#dc2626"},children:Ee.grade})})]},it))}),n.jsx("tfoot",{children:n.jsxs("tr",{className:"bg-gray-100 font-semibold",children:[n.jsx("td",{className:"border p-2 text-sm text-gray-900",children:"Total"}),n.jsx("td",{className:"border p-2 text-sm text-gray-900",children:d.subjects.reduce((Ee,it)=>Ee+it.maxMarks,0)}),n.jsx("td",{className:"border p-2 text-sm text-gray-900",children:d.subjects.reduce((Ee,it)=>Ee+it.scoredMarks,0)}),n.jsxs("td",{className:"border p-2 text-sm text-gray-900",children:[Oe(d).percentage,"%"]}),n.jsx("td",{className:"border p-2 text-sm",children:n.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full text-white",style:{backgroundColor:Oe(d).grade==="A+"?"#16a34a":Oe(d).grade==="A"?"#22c55e":Oe(d).grade==="B+"?s:Oe(d).grade==="B"?"#eab308":Oe(d).grade==="C+"?"#f97316":Oe(d).grade==="C"?"#ef4444":"#dc2626"},children:Oe(d).grade})})]})})]})]}),n.jsxs("div",{className:"text-sm text-gray-500 italic mb-4",children:[n.jsxs("p",{children:["Generated on: ",new Date().toLocaleDateString()]}),n.jsx("p",{children:"Authorized by: ____________________"})]}),n.jsx("div",{className:"flex justify-end mt-6",children:n.jsxs("button",{onClick:Sr,className:Gt("text-white px-6 py-2 rounded-xl flex items-center font-semibold","hover:opacity-90 transition-all duration-200"),style:{backgroundColor:s},children:[n.jsx($l,{className:"mr-2",style:{color:"white"}}),"Download PDF"]})})]})]})}),J&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl",children:[n.jsxs("div",{className:Gt("text-white p-6 rounded-t-2xl flex justify-between items-center"),style:{backgroundColor:s},children:[n.jsx("h2",{className:"text-xl font-bold",children:"Add Exam Type"}),n.jsx("button",{onClick:()=>ge(!1),className:"flex items-center justify-center w-8 h-8 hover:bg-white hover:bg-opacity-20 rounded-full transition-colors",children:n.jsx(pr,{size:24,style:{color:"white"}})})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsx("input",{type:"text",placeholder:"Exam type name (e.g., Midterm)",value:Ce,onChange:Ee=>ce(Ee.target.value),className:Gt("w-full px-4 py-3 border border-gray-300 rounded-xl","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:s}}),n.jsx("div",{className:"max-h-60 overflow-y-auto border rounded-xl",children:ee.length===0?n.jsx("div",{className:"p-4 text-sm text-gray-500",children:"No exam types"}):n.jsx("ul",{className:"divide-y",children:ee.map(Ee=>n.jsx("li",{className:"flex items-center justify-between p-3",children:Fe===Ee._id?n.jsxs("div",{className:"flex-1 flex gap-2 items-center",children:[n.jsx("input",{type:"text",value:Se,onChange:it=>Me(it.target.value),className:Gt("w-full px-3 py-2 border border-gray-300 rounded-lg","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:s}}),n.jsx("button",{className:Gt("px-3 py-2 text-white rounded-lg font-semibold","hover:opacity-90 transition-all duration-200"),style:{backgroundColor:s},onClick:()=>tt(Ee._id),children:"Save"}),n.jsx("button",{className:"px-3 py-2 border border-gray-300 rounded-lg",onClick:st,children:"Cancel"})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-sm text-gray-900",children:Ee.exameType}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded-lg text-sm",onClick:()=>Qe(Ee),children:"Edit"}),n.jsx("button",{className:"px-3 py-1 border border-red-300 text-red-600 rounded-lg text-sm",onClick:()=>Ft(Ee._id),disabled:at===Ee._id,children:at===Ee._id?"Deleting...":"Delete"})]})]})},Ee._id))})}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx("button",{onClick:()=>ge(!1),className:Gt("py-2 px-4 border border-gray-300 text-gray-700 rounded-xl font-semibold","hover:bg-gray-50 transition-colors disabled:opacity-50"),disabled:Je,children:"Cancel"}),n.jsxs("button",{onClick:mt,className:Gt("py-2 px-4 text-white rounded-xl font-semibold","hover:opacity-90 transition-all duration-200 flex items-center gap-2","disabled:opacity-50"),style:{backgroundColor:s},disabled:Je||!Ce.trim(),children:[Je&&n.jsx(Rr,{className:"w-4 h-4 animate-spin",style:{color:"white"}}),"Save"]})]})]})]})}),n.jsx(b5,{})]}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"text-center p-8 bg-white rounded-lg shadow-md max-w-md",children:[n.jsx(Da,{className:"w-16 h-16 mx-auto mb-4",style:{color:s}}),n.jsx("div",{className:"text-red-500 text-xl mb-4",children:"School ID not found"}),n.jsx("div",{className:"text-gray-600 mb-4",children:"Please login again to access the exam system."}),n.jsx("button",{onClick:()=>window.location.reload(),className:Gt("px-4 py-2 text-white rounded-xl font-semibold hover:opacity-90 transition-all duration-200","disabled:opacity-50"),style:{backgroundColor:s},children:"Refresh Page"})]})})},BOe=()=>{const e=yc(),{state:t}=Sd(),{result:r,schoolName:a="Unknown School",schoolLogo:s,themeColor:i="#2563eb"}=t||{},o=S.useRef(null),[l,c]=S.useState(i);localStorage.getItem("schoolId"),S.useEffect(()=>{const h=localStorage.getItem("color");h&&c(h)},[]);const u=S.useMemo(()=>{if(!r?.subjects?.length)return{totalMax:0,totalScored:0,percentage:0};const h=r.subjects.reduce((v,b)=>v+(Number(b.maxMarks)||0),0),y=r.subjects.reduce((v,b)=>v+(Number(b.scoredMarks)||0),0),x=h>0?(y/h*100).toFixed(1):0;return{totalMax:h,totalScored:y,percentage:x}},[r]),d=()=>{setTimeout(()=>{window.print()},100)},A=async h=>{try{if(h.startsWith("/"))return h;const y=await fetch(h,{mode:"cors",headers:{"X-Requested-With":"XMLHttpRequest"}});if(!y.ok)throw new Error(`Failed to fetch image: ${y.status}`);const x=await y.blob();return new Promise((v,b)=>{const j=new FileReader;j.onload=()=>v(j.result),j.onerror=b,j.readAsDataURL(x)})}catch(y){return console.error("Error converting image to base64:",y),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+M9QDwADhgGAWjR9awAAAABJRU5ErkJggg=="}},m=async()=>{if(!r)return;const h=new Ca({unit:"pt",format:"a4"}),y=h.internal.pageSize.getWidth(),x=h.internal.pageSize.getHeight();let v=60;const j=(z=>{const W=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(z);return W?[parseInt(W[1],16),parseInt(W[2],16),parseInt(W[3],16)]:[37,99,235]})(l);h.setDrawColor(...j),h.setLineWidth(3),h.rect(20,20,y-40,x-40),h.setDrawColor(...j.map(z=>Math.min(z+50,255))),h.setLineWidth(1),h.rect(35,35,y-70,x-70),h.setFont("helvetica","bold"),h.setTextColor(240,240,245),h.setFontSize(50);const C=(a||"CERTIFICATE").toUpperCase();h.text(C,y/2,x/2,{align:"center",angle:-15,renderingMode:"fillThenStroke"});const E=z=>`http://localhost:5000/proxy-image?url=${encodeURIComponent(z)}`;let k=null;if(s){const z=E(s);if(k=await A(z),k&&k!=="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+M9QDwADhgGAWjR9awAAAABJRU5ErkJggg==")try{h.addImage(k,"PNG",y/2-30,v,60,60),v+=70}catch(W){console.error("Error adding logo to PDF:",W),h.setFont("helvetica","normal"),h.setFontSize(12),h.setTextColor(100,100,100),h.text("School Logo Unavailable",y/2,v+30,{align:"center"}),v+=70}else h.setFont("helvetica","normal"),h.setFontSize(12),h.setTextColor(100,100,100),h.text("School Logo Unavailable",y/2,v+30,{align:"center"}),v+=70}else v+=20;h.setFont("times","bold"),h.setTextColor(30,30,30),h.setFontSize(22),h.text(a.toUpperCase(),y/2,v,{align:"center"}),v+=25,h.setFontSize(14),h.setTextColor(80,80,80),h.text("CERTIFICATE OF ACADEMIC ACHIEVEMENT",y/2,v,{align:"center"}),v+=35,h.setDrawColor(...j),h.setLineWidth(2),h.line(100,v,y-100,v),v+=25,h.setFont("times","normal"),h.setTextColor(60,60,60),h.setFontSize(12),h.text("This is to certify that",y/2,v,{align:"center"}),v+=25,h.setFont("times","bold"),h.setTextColor(...j),h.setFontSize(18),h.text(r.studentId?.name||"N/A",y/2,v,{align:"center"}),v+=30,h.setFont("times","normal"),h.setFontSize(10),h.setTextColor(80,80,80),[`Roll No: ${r.studentId?.rollNumber||"N/A"} | Class: ${(r.classId?.className||"")+" "+(r.classId?.section||"")}`.trim(),`Examination: ${r.examType||"N/A"}${r.date?` | Date: ${new Date(r.date).toLocaleDateString()}`:""}`].forEach(z=>{h.text(z,y/2,v,{align:"center"}),v+=15}),v+=15;const L=(r.subjects||[]).map(z=>[z.subjectName||"",String(z.maxMarks||0),String(z.scoredMarks||0),(z.maxMarks>0?(z.scoredMarks/z.maxMarks*100).toFixed(1):"0")+"%",z.grade||""]);OB(h,{startY:v,head:[["Subject","Max","Score","%","Grade"]],body:L,styles:{fontSize:r.subjects.length>10?8:9,cellPadding:4,halign:"center",font:"times"},headStyles:{fillColor:j,textColor:255,fontSize:10,fontStyle:"bold"},alternateRowStyles:{fillColor:[248,249,250]},margin:{left:80,right:80},theme:"grid",didDrawPage:z=>{z.pageCount>1&&(h.setFont("times","normal"),h.setFontSize(8),h.setTextColor(150,150,150),h.text(`Page ${z.pageCount}`,y-50,x-20,{align:"right"}),h.text(a.toUpperCase(),50,20,{align:"left"}))}});let F=(h.lastAutoTable?.finalY||v)+20;h.setFont("times","bold"),h.setFontSize(12),h.setTextColor(30,30,30),h.text(`Total: ${u.totalScored}/${u.totalMax} | Overall: ${u.percentage}%`,y/2,F,{align:"center"}),F+=25,h.setFont("times","normal"),h.setFontSize(11),h.setTextColor(60,60,60),h.text("has successfully completed the examination with the above results.",y/2,F,{align:"center"}),F+=40,h.setFont("times","normal"),h.setFontSize(9),h.setTextColor(100,100,100);const Q=120,U=y-200;h.line(Q,F,Q+100,F),h.line(U,F,U+100,F),F+=12,h.text("Class Teacher",Q+50,F,{align:"center"}),h.text("Principal",U+50,F,{align:"center"}),F+=30,h.setFontSize(8),h.setTextColor(150,150,150),h.text(`Generated on: ${new Date().toLocaleDateString()}`,y/2,F,{align:"center"});const P=(r.studentId?.name||"student").replace(/\s+/g,"_"),I=(r.examType||"Exam").replace(/\s+/g,"_");h.save(`Certificate_${P}_${I}.pdf`)};return r?n.jsxs(n.Fragment,{children:[n.jsx("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),n.jsx("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),n.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Times+New+Roman&display=swap",rel:"stylesheet"}),n.jsx("style",{jsx:!0,children:`
        @media print {
          * {
            box-sizing: border-box;
          }
          body {
            margin: 0;
            padding: 0;
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
          }
          body * {
            visibility: hidden;
          }
          .printable-certificate,
          .printable-certificate * {
            visibility: visible;
          }
          .printable-certificate {
            position: absolute;
            top: 0;
            left: 0;
            width: 210mm;
            height: 297mm;
            margin: 0;
            padding: 10mm;
            background: white;
            page-break-inside: avoid;
            page-break-after: always;
            overflow: hidden;
          }
          .no-print {
            display: none !important;
          }
          @page {
            size: A4 portrait;
            margin: 0mm;
          }
          .printable-certificate .absolute {
            position: absolute !important;
          }
          .printable-certificate .p-12 {
            padding: 1rem !important;
          }
          .printable-certificate .p-8 {
            padding: 0.5rem !important;
          }
          .printable-certificate .mb-8 {
            margin-bottom: 0.8rem !important;
          }
          .printable-certificate .mb-6 {
            margin-bottom: 0.6rem !important;
          }
          .printable-certificate .text-4xl {
            font-size: 1.6rem !important;
          }
          .printable-certificate .text-3xl {
            font-size: 1.3rem !important;
          }
          .printable-certificate .text-xl {
            font-size: 1rem !important;
          }
          .printable-certificate .h-20 {
            height: 2.5rem !important;
          }
          .printable-certificate .w-20 {
            width: 2.5rem !important;
          }
          .printable-certificate table {
            font-size: ${r.subjects.length>10?"0.8rem":"0.9rem"} !important;
          }
          .certificate-title {
            font-family: 'Playfair Display', serif !important;
          }
          .certificate-text {
            font-family: 'Times New Roman', Times, serif !important;
          }
          .second-page-header {
            font-family: 'Times New Roman', Times, serif;
            font-size: 8pt;
            color: #969696;
            position: absolute;
            top: 20pt;
            left: 50pt;
          }
          .second-page-footer {
            font-family: 'Times New Roman', Times, serif;
            font-size: 8pt;
            color: #969696;
            position: absolute;
            bottom: 20pt;
            right: 50pt;
          }
        }
      `}),n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:n.jsxs("div",{className:"max-w-5xl mx-auto p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6 no-print",children:[n.jsxs("button",{onClick:()=>e(-1),className:"inline-flex items-center px-4 py-2 rounded-lg border border-gray-300 bg-white hover:bg-gray-50 shadow-sm transition-colors",children:[n.jsx(Xp,{className:"mr-2"})," Back"]}),n.jsxs("div",{className:"space-x-3",children:[n.jsxs("button",{onClick:d,className:"inline-flex items-center px-4 py-2 rounded-lg text-white shadow-sm transition-all hover:shadow-md",style:{backgroundColor:l},children:[n.jsx(aB,{className:"mr-2"})," Print Certificate"]}),n.jsxs("button",{onClick:m,className:"inline-flex items-center px-4 py-2 rounded-lg text-white shadow-sm transition-all hover:shadow-md",style:{backgroundColor:l},children:[n.jsx(Ln,{className:"mr-2"})," Download PDF"]})]})]}),n.jsx("div",{ref:o,className:"printable-certificate bg-white shadow-2xl rounded-lg overflow-hidden",style:{width:"210mm",minHeight:"297mm",boxSizing:"border-box"},children:n.jsxs("div",{className:"relative p-12",children:[n.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-10 pointer-events-none select-none overflow-hidden",children:s?n.jsx("img",{src:s,alt:"watermark",className:"max-w-md max-h-md transform rotate-[-15deg] opacity-50",style:{filter:"grayscale(100%)"}}):n.jsx("div",{className:"text-7xl certificate-title text-gray-800 rotate-[-15deg] select-none opacity-50",children:a.toUpperCase()})}),n.jsx("div",{className:"border-4 rounded-lg p-8 relative",style:{borderColor:l,background:`linear-gradient(180deg, #ffffff, ${l}10)`},children:n.jsxs("div",{className:"border-2 rounded p-8",style:{borderColor:l+"60",background:`linear-gradient(45deg, ${l}05, #ffffff)`},children:[n.jsx("div",{className:"absolute top-4 left-4 h-6 w-6 border-t-2 border-l-2",style:{borderColor:l}}),n.jsx("div",{className:"absolute top-4 right-4 h-6 w-6 border-t-2 border-r-2",style:{borderColor:l}}),n.jsx("div",{className:"absolute bottom-4 left-4 h-6 w-6 border-b-2 border-l-2",style:{borderColor:l}}),n.jsx("div",{className:"absolute bottom-4 right-4 h-6 w-6 border-b-2 border-r-2",style:{borderColor:l}}),n.jsxs("div",{className:"text-center mb-8",children:[s&&n.jsx("div",{className:"mb-6",children:n.jsx("img",{src:s,alt:"School Logo",className:"h-20 w-20 mx-auto object-contain shadow-sm"})}),n.jsx("h1",{className:"text-4xl certificate-title font-bold tracking-wide mb-2 text-gray-800",children:a.toUpperCase()}),n.jsx("div",{className:"h-1 w-32 mx-auto mb-4",style:{backgroundColor:l}}),n.jsx("p",{className:"text-xl certificate-text text-gray-600 font-semibold",children:"CERTIFICATE OF ACADEMIC ACHIEVEMENT"})]}),n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("p",{className:"text-lg certificate-text text-gray-700 mb-4",children:"This is to certify that"}),n.jsx("h2",{className:"text-3xl certificate-title font-bold mb-6 text-gray-800",style:{color:l},children:r.studentId?.name}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 max-w-2xl mx-auto mb-8 text-left",children:[n.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg shadow-sm",children:[n.jsx("p",{className:"text-sm certificate-text text-gray-600 mb-1",children:"Student Name"}),n.jsx("p",{className:"font-semibold certificate-text text-gray-800",children:r.studentId?.name})]}),n.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg shadow-sm",children:[n.jsx("p",{className:"text-sm certificate-text text-gray-600 mb-1",children:"Roll Number"}),n.jsx("p",{className:"font-semibold certificate-text text-gray-800",children:r.studentId?.rollNumber})]}),n.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg shadow-sm",children:[n.jsx("p",{className:"text-sm certificate-text text-gray-600 mb-1",children:"Class"}),n.jsx("p",{className:"font-semibold certificate-text text-gray-800",children:`${r.classId?.className||""} ${r.classId?.section||""}`.trim()})]}),n.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg shadow-sm",children:[n.jsx("p",{className:"text-sm certificate-text text-gray-600 mb-1",children:"Examination"}),n.jsx("p",{className:"font-semibold certificate-text text-gray-800",children:r.examType})]}),r.date&&n.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg shadow-sm col-span-2",children:[n.jsx("p",{className:"text-sm certificate-text text-gray-600 mb-1",children:"Examination Date"}),n.jsx("p",{className:"font-semibold certificate-text text-gray-800",children:new Date(r.date).toLocaleDateString()})]})]})]}),n.jsx("div",{className:"overflow-x-auto mb-8",children:n.jsxs("table",{className:"w-full border-collapse border border-gray-200 rounded-lg overflow-hidden shadow-sm text-sm certificate-text",children:[n.jsx("thead",{children:n.jsxs("tr",{style:{background:`linear-gradient(90deg, ${l}, ${l}cc)`},children:[n.jsx("th",{className:"border border-gray-200 px-4 py-2 text-white font-semibold text-sm",children:"Subject"}),n.jsx("th",{className:"border border-gray-200 px-4 py-2 text-white font-semibold text-sm",children:"Maximum Marks"}),n.jsx("th",{className:"border border-gray-200 px-4 py-2 text-white font-semibold text-sm",children:"Marks Obtained"}),n.jsx("th",{className:"border border-gray-200 px-4 py-2 text-white font-semibold text-sm",children:"Percentage"}),n.jsx("th",{className:"border border-gray-200 px-4 py-2 text-white font-semibold text-sm",children:"Grade"})]})}),n.jsx("tbody",{children:(r.subjects||[]).map((h,y)=>n.jsxs("tr",{className:`${y%2===0?"bg-white":"bg-gray-50/50"} hover:bg-gray-100 transition-colors`,children:[n.jsx("td",{className:"border border-gray-200 px-4 py-2 text-gray-800 font-medium",children:h.subjectName}),n.jsx("td",{className:"border border-gray-200 px-4 py-2 text-center",children:h.maxMarks}),n.jsx("td",{className:"border border-gray-200 px-4 py-2 text-center font-semibold",children:h.scoredMarks}),n.jsxs("td",{className:"border border-gray-200 px-4 py-2 text-center",children:[h.maxMarks?(h.scoredMarks/h.maxMarks*100).toFixed(1):"0","%"]}),n.jsx("td",{className:"border border-gray-200 px-4 py-2 text-center",children:n.jsx("span",{className:"px-3 py-1 rounded-full text-white font-semibold text-sm",style:{backgroundColor:l},children:h.grade})})]},y))}),n.jsx("tfoot",{children:n.jsxs("tr",{className:"bg-gray-50 font-bold",children:[n.jsx("td",{className:"border border-gray-200 px-4 py-2 text-gray-800",children:"TOTAL"}),n.jsx("td",{className:"border border-gray-200 px-4 py-2 text-center",children:u.totalMax}),n.jsx("td",{className:"border border-gray-200 px-4 py-2 text-center",children:u.totalScored}),n.jsxs("td",{className:"border border-gray-200 px-4 py-2 text-center text-lg",style:{color:l},children:[u.percentage,"%"]}),n.jsx("td",{className:"border border-gray-200 px-4 py-2"})]})})]})}),n.jsx("div",{className:"text-center mb-10",children:n.jsx("p",{className:"text-lg certificate-text text-gray-700",children:"has successfully completed the examination and achieved the above results."})}),n.jsxs("div",{className:"flex justify-between items-end pt-8",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-48 h-px bg-gray-400 mb-2"}),n.jsx("p",{className:"text-sm certificate-text text-gray-600 font-medium",children:"Class Teacher"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 rounded-full mx-auto mb-4 flex items-center justify-center",style:{background:`radial-gradient(circle, ${l}40, ${l}20)`,boxShadow:`0 4px 8px ${l}40`},children:n.jsx("div",{className:"w-12 h-12 rounded-full",style:{background:`linear-gradient(45deg, ${l}, ${l}cc)`,boxShadow:`inset 0 2px 4px ${l}80`}})}),n.jsx("p",{className:"text-sm certificate-text text-gray-500",children:"Official Seal"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-48 h-px bg-gray-400 mb-2"}),n.jsx("p",{className:"text-sm certificate-text text-gray-600 font-medium",children:"Principal"})]})]}),n.jsxs("div",{className:"text-center mt-8 text-sm text-gray-500 certificate-text",children:["Generated on: ",new Date().toLocaleDateString()]})]})})]})})]})})]}):n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:n.jsxs("div",{className:"bg-white shadow rounded-xl p-6",children:[n.jsx("p",{className:"mb-4",children:"No result selected."}),n.jsx("button",{onClick:()=>e(-1),className:"px-4 py-2 bg-gray-800 text-white rounded-lg",children:"Go Back"})]})})},TOe="http://localhost:5000/api/schools",FOe="http://localhost:5000/api/fee/all-unfiltered",_Oe="http://localhost:5000/api/fee/filter-options",kOe=()=>{const e=yc(),[t,r]=S.useState(""),[a,s]=S.useState([]),[i,o]=S.useState(!0),[l,c]=S.useState(""),[u,d]=S.useState(""),[A,m]=S.useState(""),[h,y]=S.useState(""),[x,v]=S.useState(""),[b,j]=S.useState(""),[C,E]=S.useState({start:"",end:""}),[k,D]=S.useState([]),[L,F]=S.useState({schools:[],classes:[],paymentMethods:[]}),[Q,U]=S.useState(1),[P]=S.useState(10),[I,z]=S.useState(1),[W,ie]=S.useState(0),[X,le]=S.useState(null),[re,he]=S.useState({});S.useEffect(()=>{(async()=>{o(!0);try{await Promise.all([ve(),de()])}catch(ee){c("Error fetching data: "+ee.message)}finally{o(!1)}})()},[Q,t,u,A,h,x,b,C]);const de=async()=>{try{const se=localStorage.getItem("token"),ee=await fetch(_Oe,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${se}`}});if(!ee.ok)throw new Error(`HTTP error! Status: ${ee.status}`);const be=await ee.json();if(!be.success)throw new Error(be.message||"Failed to fetch filter options");F(be.data);const Ce=be.data.schools.map(async ge=>{try{const Je=await fetch(`${TOe}/${ge.id}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${se}`}});if(Je.ok){const Ke=await Je.json();if(Ke.success)return{id:ge.id,...Ke.data}}return{id:ge.id,name:ge.name}}catch(Je){return console.error(`Error fetching school ${ge.id}:`,Je),{id:ge.id,name:ge.name}}}),J=(await Promise.all(Ce)).reduce((ge,Je)=>(ge[Je.id]=Je,ge),{});he(J)}catch(se){console.error("Error fetching filter options:",se.message)}};S.useEffect(()=>{if(k.length>0){const se=k.map(ee=>{let be="Pending";if(ee.installments&&ee.installments.length>0){const nt=ee.installments.filter(Me=>Me.status==="paid").length,Se=ee.installments.length;nt===Se?be="Paid":nt>0&&(be="Partial")}const Ce=nt=>{const Se=new Date(nt);return Se instanceof Date&&!isNaN(Se)},ce=(()=>{const Se=ee.installments?.find(Me=>Me.status==="pending")||ee.installments?.[0];return Se?.dueDate&&Ce(Se.dueDate)?new Date(Se.dueDate).toISOString().split("T")[0]:"Unknown"})(),J=ee.installments?.find(Se=>Se.status==="paid")?.paymentMethod||"N/A",ge=typeof ee.totalAmount=="number"?ee.totalAmount:0,Je=ee.installments?.reduce((nt,Se)=>nt+(Se.paid||0),0)||0,Ke=ee.installments?.reduce((nt,Se)=>nt+(Se.pending||0),0)||0,Fe=ee.student?.className&&ee.student?.section?`${ee.student.className} ${ee.student.section}`:ee.student?.className||"N/A";return{id:ee._id||"Unknown",studentName:ee.student?.name||"Unknown Student",rollNumber:ee.student?.rollNumber||"Unknown",class:Fe,schoolId:ee.schoolId||"Unknown",schoolName:ee.schoolName||"Unknown",paymentMethod:J,amount:ge,paidAmount:Je,pendingAmount:Ke,dueDate:ce,status:be,installments:ee.installments||[]}});s(se)}},[k]);const ve=async()=>{try{const se=localStorage.getItem("token"),ee=new URLSearchParams({page:Q.toString(),limit:P.toString()});t&&ee.append("search",t),b&&ee.append("schoolId",b),A&&ee.append("classId",A),h&&ee.append("section",h),x&&ee.append("paymentMethod",x),u&&ee.append("status",u),C.start&&ee.append("dateFrom",C.start),C.end&&ee.append("dateTo",C.end);const be=await fetch(`${FOe}?${ee.toString()}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${se}`}});if(!be.ok)throw new Error(`HTTP error! Status: ${be.status}`);const Ce=await be.json();if(!Ce.success)throw new Error(Ce.message||"Failed to fetch fees");D(Ce.data||[]),z(Ce.totalPages||1),ie(Ce.total||0)}catch(se){c("Error fetching fees: "+se.message)}},B=a;L.classes.map(se=>se.displayName).sort(),L.paymentMethods.sort();const R=["Paid","Partial","Pending"];L.schools.map(se=>se.name).sort();const G=()=>{r(""),d(""),m(""),y(""),v(""),j(""),E({start:"",end:""}),U(1)},ne=se=>{se>=1&&se<=I&&U(se)},pe=()=>{if(B.length===0){alert("No data to export");return}const se=B.map(ge=>({"School Name":ge.schoolName,"Student Name":ge.studentName,"Roll Number":ge.rollNumber,Class:ge.class,"Payment Method":ge.paymentMethod,"Total Amount":ge.amount,"Paid Amount":ge.paidAmount,"Pending Amount":ge.pendingAmount,"Due Date":ge.dueDate,Status:ge.status})),ee=Object.keys(se[0]),be=[ee.join(","),...se.map(ge=>ee.map(Je=>`"${ge[Je]||"N/A"}"`).join(","))].join(`
`),Ce=new Blob([be],{type:"text/csv;charset=utf-8;"}),ce=document.createElement("a"),J=URL.createObjectURL(Ce);ce.setAttribute("href",J),ce.setAttribute("download",`fees_${new Date().toISOString().split("T")[0]}.csv`),ce.style.visibility="hidden",document.body.appendChild(ce),ce.click(),document.body.removeChild(ce)},xe=async(se,ee)=>{try{const be=localStorage.getItem("token"),Ce=await fetch(`http://localhost:5000/api/fee/receipt/${se}/${ee}?schoolId=${X.schoolId}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${be}`}});if(!Ce.ok)throw new Error(`HTTP error! Status: ${Ce.status}`);const ce=await Ce.json();if(!ce.success)throw new Error(ce.message||"Failed to fetch receipt data");e("/admin/admin-payment-receipt",{state:{receiptData:ce.data,themeColor:re[X.schoolId]?.themeColor||"#F37021"}})}catch(be){console.error("Error fetching receipt data:",be),alert("Error fetching receipt data: "+be.message)}},Ae=se=>({Paid:{icon:wR,color:"text-green-700 bg-green-100"},Partial:{icon:BC,color:"text-orange-700 bg-orange-100"},Pending:{icon:by,color:"text-red-700 bg-red-100"}})[se]||{icon:by,color:"text-red-700 bg-red-100"},Y=B.reduce((se,ee)=>({total:se.total+(ee.amount||0),paid:se.paid+(ee.paidAmount||0),pending:se.pending+(ee.pendingAmount||0)}),{total:0,paid:0,pending:0});return n.jsx("div",{className:"min-h-screen bg-gray-100 p-4",children:n.jsxs("div",{className:"max-w-full mx-auto",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h1",{className:"text-2xl font-bold text-[#1C1444]",children:"Student Fee Management"}),n.jsxs("button",{onClick:pe,className:"bg-[#F37021] hover:bg-[#d65f1c] text-white px-4 py-2 rounded-lg shadow-lg flex items-center space-x-2",title:"Export to CSV",disabled:i,children:[n.jsx(qZ,{})," ",n.jsx("span",{children:"Export CSV"})]})]}),n.jsxs("div",{className:"relative mb-4",children:[n.jsx(tee,{className:"absolute left-3 top-3 text-[#F37021]"}),n.jsx("input",{type:"text",placeholder:"Search by school, student name, roll number, class, or payment method...",value:t,onChange:se=>r(se.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] placeholder-gray-400",disabled:i})]}),n.jsx("div",{className:"flex items-center justify-between",children:n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("span",{className:"text-sm text-[#1C1444]",children:["Showing ",B.length," of ",W," records"]})})}),n.jsxs("div",{className:"border-t pt-4 mt-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-7 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"School"}),n.jsxs("select",{value:b,onChange:se=>j(se.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white",children:[n.jsx("option",{value:"",children:"All Schools"}),L.schools.map(se=>n.jsx("option",{value:se.id,children:se.name},se.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Class"}),n.jsxs("select",{value:A,onChange:se=>m(se.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white",children:[n.jsx("option",{value:"",children:"All Classes"}),L.classes.map(se=>n.jsx("option",{value:se.id,children:se.displayName},se.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Section"}),n.jsxs("select",{value:h,onChange:se=>y(se.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white",children:[n.jsx("option",{value:"",children:"All Sections"}),[...new Set(L.classes.map(se=>se.section).filter(Boolean))].sort().map(se=>n.jsx("option",{value:se,children:se},se))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Payment Method"}),n.jsxs("select",{value:x,onChange:se=>v(se.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white",children:[n.jsx("option",{value:"",children:"All Payment Methods"}),L.paymentMethods.map(se=>n.jsx("option",{value:se,children:se},se))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Status"}),n.jsxs("select",{value:u,onChange:se=>d(se.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white",children:[n.jsx("option",{value:"",children:"All Statuses"}),R.map(se=>n.jsx("option",{value:se,children:se},se))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Due Date From"}),n.jsx("input",{type:"date",value:C.start,onChange:se=>E({...C,start:se.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Due Date To"}),n.jsx("input",{type:"date",value:C.end,onChange:se=>E({...C,end:se.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white"})]})]}),n.jsx("div",{className:"mt-4",children:n.jsx("button",{onClick:G,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-[#1C1444]",children:"Clear All Filters"})})]})]}),i&&n.jsxs("div",{className:"p-6 text-center",children:[n.jsx(BC,{className:"w-12 h-12 text-[#F37021] mx-auto mb-4 animate-pulse"}),n.jsx("p",{className:"text-[#1C1444] text-lg",children:"Loading fee records..."})]}),l&&n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"bg-red-100 text-red-700 rounded-lg p-4 flex items-center",children:[n.jsx(by,{className:"w-5 h-5 mr-2"}),l]})}),!i&&!l&&n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[{value:`${Y.total.toLocaleString()}`,label:"Total Fee",color:"text-[#1C1444]"},{value:`${Y.paid.toLocaleString()}`,label:"Paid Amount",color:"text-green-600"},{value:`${Y.pending.toLocaleString()}`,label:"Pending Amount",color:"text-red-600"}].map((se,ee)=>n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[n.jsx("div",{className:`${se.color} text-xl font-bold`,children:se.value}),n.jsx("div",{className:"text-[#1C1444]",children:se.label})]},ee))}),!i&&!l&&n.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsx("tr",{children:["School Name","Student Name","Roll No","Class","Payment Method","Amount","Paid","Pending","Due Date","Status","Actions"].map((se,ee)=>n.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-[#1C1444]",children:se},ee))})}),n.jsxs("tbody",{className:"divide-y divide-gray-200",children:[B.map(se=>{const{icon:ee,color:be}=Ae(se.status);return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 text-sm text-[#1C1444]",children:se.schoolName}),n.jsx("td",{className:"px-4 py-3 text-sm text-[#1C1444]",children:se.studentName}),n.jsx("td",{className:"px-4 py-3 text-sm text-[#1C1444]",children:se.rollNumber}),n.jsx("td",{className:"px-4 py-3 text-sm text-[#1C1444]",children:se.class}),n.jsx("td",{className:"px-4 py-3 text-sm text-[#1C1444]",children:se.paymentMethod}),n.jsxs("td",{className:"px-4 py-3 text-sm text-[#1C1444]",children:["",se.amount.toLocaleString()]}),n.jsxs("td",{className:"px-4 py-3 text-sm text-green-600",children:["",se.paidAmount.toLocaleString()]}),n.jsxs("td",{className:"px-4 py-3 text-sm text-red-600",children:["",se.pendingAmount.toLocaleString()]}),n.jsx("td",{className:"px-4 py-3 text-sm text-[#1C1444]",children:se.dueDate}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${be}`,children:[ee&&n.jsx(ee,{className:"text-[#F37021]"})," ",se.status]})}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("div",{className:"flex space-x-2",children:n.jsx("button",{onClick:()=>{console.log("Setting viewingFee:",se),le(se)},className:"text-[#F37021] hover:text-[#d65f1c]",children:n.jsx(TC,{})})})})]},se.id)}),B.length===0&&a.length>0&&n.jsx("tr",{children:n.jsx("td",{colSpan:"11",className:"px-4 py-8 text-center",children:n.jsxs("div",{className:"text-[#1C1444]",children:[n.jsx("p",{className:"mb-2",children:"No fee records match your current filters"}),n.jsx("button",{onClick:G,className:"text-[#F37021] hover:text-[#d65f1c] underline",children:"Clear all filters"})]})})}),B.length===0&&a.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:"11",className:"px-4 py-8 text-center text-[#1C1444]",children:"No fee records found"})})]})]})})}),!i&&!l&&W>0&&n.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[n.jsxs("div",{className:"text-sm text-[#1C1444]",children:["Page ",Q," of ",I]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>ne(Q-1),disabled:Q===1,className:"px-4 py-2 bg-gray-200 text-[#1C1444] rounded-lg disabled:opacity-50 hover:bg-gray-300",children:"Previous"}),n.jsx("button",{onClick:()=>ne(Q+1),disabled:Q===I,className:"px-4 py-2 bg-gray-200 text-[#1C1444] rounded-lg disabled:opacity-50 hover:bg-gray-300",children:"Next"})]})]}),X&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto relative",children:[n.jsx("button",{onClick:()=>{console.log("Clearing viewingFee"),le(null)},className:"absolute top-4 right-4 text-[#1C1444] hover:text-[#F37021] text-2xl font-bold transition-colors",children:""}),n.jsx("h2",{className:"text-2xl font-bold text-[#1C1444] mb-6",children:"Fee Record Details"}),X?n.jsx("div",{className:"space-y-4",children:(()=>{const se=Ae(X.status||"Unknown"),ee=[{label:"School Name",value:X.schoolName||"N/A"},{label:"Student Name",value:X.studentName||"N/A"},{label:"Roll Number",value:X.rollNumber||"N/A"},{label:"Class",value:X.class||"N/A"},{label:"Payment Method",value:X.paymentMethod||"N/A"},{label:"Total Amount",value:X.amount?`${X.amount.toLocaleString()}`:"N/A"},{label:"Paid Amount",value:X.paidAmount?`${X.paidAmount.toLocaleString()}`:"N/A",className:"text-green-600"},{label:"Pending Amount",value:X.pendingAmount?`${X.pendingAmount.toLocaleString()}`:"N/A",className:"text-red-600"},{label:"Due Date",value:X.dueDate||"N/A"},{label:"Status",value:n.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${se.color}`,children:[se.icon&&n.jsx(se.icon,{className:"text-[#F37021]"}),X.status||"Unknown"]})}];return X.installments?.length>0&&ee.push({label:"Installments",value:n.jsx("div",{className:"mt-2",children:X.installments.map((be,Ce)=>n.jsxs("div",{className:"border-t pt-2 mt-2",children:[n.jsxs("p",{children:[n.jsxs("strong",{children:["Installment ",Ce+1,":"]})," ",be.amount?`${be.amount.toLocaleString()}`:"N/A"]}),n.jsxs("p",{children:["Paid:"," ",be.paid?`${be.paid.toLocaleString()}`:"N/A"]}),n.jsxs("p",{children:["Pending:"," ",be.pending?`${be.pending.toLocaleString()}`:"N/A"]}),n.jsxs("p",{children:["Due Date:"," ",be.dueDate?new Date(be.dueDate).toISOString().split("T")[0]:"N/A"]}),n.jsxs("p",{children:["Status: ",be.status||"N/A"]}),be.paidDate&&n.jsxs("p",{children:["Paid Date:"," ",new Date(be.paidDate).toISOString().split("T")[0]]}),be.receiptNumber&&n.jsxs("p",{children:["Receipt: ",be.receiptNumber]}),be.paymentMethod&&n.jsxs("p",{children:["Method: ",be.paymentMethod]}),be.status==="paid"&&n.jsx("div",{className:"mt-2 flex space-x-2",children:n.jsxs("button",{onClick:()=>xe(X.id,Ce),className:"px-3 py-1 bg-blue-500 text-white rounded text-xs hover:bg-blue-600 flex items-center space-x-1",children:[n.jsx(TC,{className:"text-xs"}),n.jsx("span",{children:"View Receipt"})]})})]},Ce))})}),ee.map((be,Ce)=>n.jsxs("div",{className:"border-b border-gray-200 pb-3",children:[n.jsx("span",{className:"text-sm font-medium text-gray-500 block",children:be.label}),n.jsx("div",{className:`text-base font-semibold ${be.className||"text-[#1C1444]"}`,children:be.value})]},Ce))})()}):n.jsx("div",{className:"text-center text-red-600",children:"Error: Fee record details not available"}),n.jsx("div",{className:"mt-6 flex justify-end",children:n.jsx("button",{onClick:()=>{console.log("Clearing viewingFee via Close button"),le(null)},className:"px-4 py-2 bg-[#F37021] text-white rounded-lg hover:bg-[#d65f1c] transition-colors",children:"Close"})})]})})]})})},IOe=()=>n.jsx("div",{className:"max-w-4xl mx-auto px-6 py-8 bg-white",children:n.jsxs("div",{className:"prose prose-lg max-w-none",children:[n.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-8",children:"PRIVACY POLICY"}),n.jsx("p",{className:"text-gray-600 mb-8",children:"Effective date: 2025-09-07"}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"1. Introduction"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsxs("p",{children:["Welcome to ",n.jsx("strong",{children:"vidyaastra"}),"."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"vidyaastra"}),' ("us", "we", or "our") operates'," ",n.jsxs("strong",{children:["     ",n.jsxs("a",{href:"https://parnetsgroup.com/",className:"font-medium text-orange-500 hover:text-orange-400 transition-colors",children:[n.jsx("strong",{className:"text-orange-500",children:"Par"}),n.jsx("strong",{className:"text-black",children:"Nets"})]})," ","Software India Pvt Ltd "]}),". (hereinafter referred to as ",n.jsx("strong",{children:'"Service"'}),")."]}),n.jsxs("p",{children:["Our Privacy Policy governs your visit to"," ",n.jsx("strong",{children:"http://localhost:5000"}),", and explains how we collect, safeguard and disclose information that results from your use of our Service."]}),n.jsx("p",{children:"We use your data to provide and improve Service. By using Service, you agree to the collection and use of information in accordance with this policy. Unless otherwise defined in this Privacy Policy, the terms used in this Privacy Policy have the same meanings as in our Terms and Conditions."}),n.jsxs("p",{children:["Our Terms and Conditions (",n.jsx("strong",{children:'"Terms"'}),") govern all use of our Service and together with the Privacy Policy constitutes your agreement with us (",n.jsx("strong",{children:'"agreement"'}),")."]})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"2. Definitions"}),n.jsxs("div",{className:"space-y-3 text-gray-700",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"SERVICE"})," means the http://localhost:5000 website operated by vidyaastra."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"PERSONAL DATA"})," means data about a living individual who can be identified from those data (or from those and other information either in our possession or likely to come into our possession)."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"USAGE DATA"})," is data collected automatically either generated by the use of Service or from Service infrastructure itself (for example, the duration of a page visit)."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"COOKIES"})," are small files stored on your device (computer or mobile device)."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"DATA CONTROLLER"})," means a natural or legal person who (either alone or jointly or in common with other persons) determines the purposes for which and the manner in which any personal data are, or are to be, processed. For the purpose of this Privacy Policy, we are a Data Controller of your data."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"DATA PROCESSORS (OR SERVICE PROVIDERS)"})," means any natural or legal person who processes the data on behalf of the Data Controller. We may use the services of various Service Providers in order to process your data more effectively."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"DATA SUBJECT"})," is any living individual who is the subject of Personal Data."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"THE USER"})," is the individual using our Service. The User corresponds to the Data Subject, who is the subject of Personal Data."]})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"3. Information Collection and Use"}),n.jsx("p",{className:"text-gray-700",children:"We collect several different types of information for various purposes to provide and improve our Service to you."})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"4. Types of Data Collected"}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Personal Data"}),n.jsxs("p",{className:"text-gray-700 mb-3",children:["While using our Service, we may ask you to provide us with certain personally identifiable information that can be used to contact or identify you (",n.jsx("strong",{children:'"Personal Data"'}),"). Personally identifiable information may include, but is not limited to:"]}),n.jsxs("ul",{className:"list-decimal list-inside space-y-2 text-gray-700 ml-4",children:[n.jsx("li",{children:"Email address"}),n.jsx("li",{children:"First name and last name"}),n.jsx("li",{children:"Phone number"}),n.jsx("li",{children:"Address, Country, State, Province, ZIP/Postal code, City"}),n.jsx("li",{children:"Cookies and Usage Data"})]}),n.jsx("p",{className:"text-gray-700 mt-4",children:"We may use your Personal Data to contact you with newsletters, marketing or promotional materials and other information that may be of interest to you. You may opt out of receiving any, or all, of these communications from us by following the unsubscribe link."})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Usage Data"}),n.jsxs("p",{className:"text-gray-700 mb-3",children:["We may also collect information that your browser sends whenever you visit our Service or when you access Service by or through any device (",n.jsx("strong",{children:'"Usage Data"'}),")."]}),n.jsx("p",{className:"text-gray-700 mb-3",children:"This Usage Data may include information such as your computer's Internet Protocol address (e.g. IP address), browser type, browser version, the pages of our Service that you visit, the time and date of your visit, the time spent on those pages, unique device identifiers and other diagnostic data."}),n.jsx("p",{className:"text-gray-700",children:"When you access Service with a device, this Usage Data may include information such as the type of device you use, your device unique ID, the IP address of your device, your device operating system, the type of Internet browser you use, unique device identifiers and other diagnostic data."})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Tracking Cookies Data"}),n.jsx("p",{className:"text-gray-700 mb-3",children:"We use cookies and similar tracking technologies to track the activity on our Service and we hold certain information."}),n.jsx("p",{className:"text-gray-700 mb-3",children:"Cookies are files with a small amount of data which may include an anonymous unique identifier. Cookies are sent to your browser from a website and stored on your device. Other tracking technologies are also used such as beacons, tags and scripts to collect and track information and to improve and analyze our Service."}),n.jsx("p",{className:"text-gray-700 mb-4",children:"You can instruct your browser to refuse all cookies or to indicate when a cookie is being sent. However, if you do not accept cookies, you may not be able to use some portions of our Service."}),n.jsx("p",{className:"text-gray-700 mb-2",children:"Examples of Cookies we use:"}),n.jsxs("ul",{className:"list-decimal list-inside space-y-2 text-gray-700 ml-4",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Session Cookies:"})," We use Session Cookies to operate our Service."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Preference Cookies:"})," We use Preference Cookies to remember your preferences and various settings."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Security Cookies:"})," We use Security Cookies for security purposes."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Advertising Cookies:"})," Advertising Cookies are used to serve you with advertisements that may be relevant to you and your interests."]})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Other Data"}),n.jsxs("p",{className:"text-gray-700",children:["While using our Service, we may also collect the following information: sex, age, date of birth, place of birth, passport details, citizenship, registration at place of residence and actual address, telephone number (work, mobile), details of documents on education, qualification, professional training, employment agreements,"," ",", information on bonuses and compensation, information on marital status, family members, social security (or other taxpayer identification) number, office location and other data."]})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"5. Use of Data"}),n.jsx("p",{className:"text-gray-700 mb-3",children:"vidyaastra uses the collected data for various purposes:"}),n.jsxs("ul",{className:"list-decimal list-inside space-y-2 text-gray-700 ml-4",children:[n.jsx("li",{children:"to provide and maintain our Service;"}),n.jsx("li",{children:"to notify you about changes to our Service;"}),n.jsx("li",{children:"to allow you to participate in interactive features of our Service when you choose to do so;"}),n.jsx("li",{children:"to provide customer support;"}),n.jsx("li",{children:"to gather analysis or valuable information so that we can improve our Service;"}),n.jsx("li",{children:"to monitor the usage of our Service;"}),n.jsx("li",{children:"to detect, prevent and address technical issues;"}),n.jsx("li",{children:"to fulfil any other purpose for which you provide it;"}),n.jsx("li",{children:"to carry out our obligations and enforce our rights arising from any contracts entered into between you and us, including for billing and collection;"}),n.jsx("li",{children:"to provide you with notices about your account and/or subscription, including expiration and renewal notices, email-instructions, etc.;"}),n.jsx("li",{children:"to provide you with news, special offers and general information about other goods, services and events which we offer that are similar to those that you have already purchased or enquired about unless you have opted not to receive such information;"}),n.jsx("li",{children:"in any other way we may describe when you provide the information;"}),n.jsx("li",{children:"for any other purpose with your consent."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"6. Retention of Data"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsx("p",{children:"We will retain your Personal Data only for as long as is necessary for the purposes set out in this Privacy Policy. We will retain and use your Personal Data to the extent necessary to comply with our legal obligations (for example, if we are required to retain your data to comply with applicable laws), resolve disputes, and enforce our legal agreements and policies."}),n.jsx("p",{children:"We will also retain Usage Data for internal analysis purposes. Usage Data is generally retained for a shorter period, except when this data is used to strengthen the security or to improve the functionality of our Service, or we are legally obligated to retain this data for longer time periods."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"7. Transfer of Data"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsx("p",{children:"Your information, including Personal Data, may be transferred to  and maintained on  computers located outside of your state, province, country or other governmental jurisdiction where the data protection laws may differ from those of your jurisdiction."}),n.jsx("p",{children:"If you are located outside India and choose to provide information to us, please note that we transfer the data, including Personal Data, to India and process it there."}),n.jsx("p",{children:"Your consent to this Privacy Policy followed by your submission of such information represents your agreement to that transfer."}),n.jsx("p",{children:"vidyaastra will take all the steps reasonably necessary to ensure that your data is treated securely and in accordance with this Privacy Policy and no transfer of your Personal Data will take place to an organisation or a country unless there are adequate controls in place including the security of your data and other personal information."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"8. Disclosure of Data"}),n.jsx("p",{className:"text-gray-700 mb-4",children:"We may disclose personal information that we collect, or you provide:"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"8.1. Disclosure for Law Enforcement"}),n.jsx("p",{className:"text-gray-700",children:"Under certain circumstances, we may be required to disclose your Personal Data if required to do so by law or in response to valid requests by public authorities."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"8.2. Business Transaction"}),n.jsx("p",{className:"text-gray-700",children:"If we or our subsidiaries are involved in a merger, acquisition or asset sale, your Personal Data may be transferred."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"8.3. Other cases. We may disclose your information also:"}),n.jsxs("ul",{className:"list-decimal list-inside space-y-2 text-gray-700 ml-4",children:[n.jsx("li",{children:"to our subsidiaries and affiliates;"}),n.jsx("li",{children:"to contractors, service providers, and other third parties we use to support our business;"}),n.jsx("li",{children:"to fulfill the purpose for which you provide it;"}),n.jsx("li",{children:"for the purpose of including your company's logo on our website;"}),n.jsx("li",{children:"for any other purpose disclosed by us when you provide the information;"}),n.jsx("li",{children:"with your consent in any other cases;"}),n.jsx("li",{children:"if we believe disclosure is necessary or appropriate to protect the rights, property, or safety of the Company, our customers, or others."})]})]})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"9. Security of Data"}),n.jsx("p",{className:"text-gray-700",children:"The security of your data is important to us but remember that no method of transmission over the Internet or method of electronic storage is 100% secure. While we strive to use commercially acceptable means to protect your Personal Data, we cannot guarantee its absolute security."})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"10. Your Data Protection Rights Under General Data Protection Regulation (GDPR)"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsx("p",{children:"If you are a resident of the European Union (EU) and European Economic Area (EEA), you have certain data protection rights, covered by GDPR."}),n.jsx("p",{children:"We aim to take reasonable steps to allow you to correct, amend, delete, or limit the use of your Personal Data."}),n.jsxs("p",{children:["If you wish to be informed what Personal Data we hold about you and if you want it to be removed from our systems, please email us at ",n.jsx("strong",{children:"support@vidyaastra.com"}),"."]}),n.jsx("p",{children:"In certain circumstances, you have the following data protection rights:"}),n.jsxs("ul",{className:"list-decimal list-inside space-y-2 ml-4",children:[n.jsx("li",{children:"the right to access, update or to delete the information we have on you;"}),n.jsx("li",{children:"the right of rectification. You have the right to have your information rectified if that information is inaccurate or incomplete;"}),n.jsx("li",{children:"the right to object. You have the right to object to our processing of your Personal Data;"}),n.jsx("li",{children:"the right of restriction. You have the right to request that we restrict the processing of your personal information;"}),n.jsx("li",{children:"the right to data portability. You have the right to be provided with a copy of your Personal Data in a structured, machine-readable and commonly used format;"}),n.jsx("li",{children:"the right to withdraw consent. You also have the right to withdraw your consent at any time where we rely on your consent to process your personal information;"})]}),n.jsx("p",{children:"Please note that we may ask you to verify your identity before responding to such requests. Please note, we may not able to provide Service without some necessary data."}),n.jsx("p",{children:"You have the right to complain to a Data Protection Authority about our collection and use of your Personal Data. For more information, please contact your local data protection authority in the European Economic Area (EEA)."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"11. Your Data Protection Rights under the California Privacy Protection Act (CalOPPA)"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsx("p",{children:"CalOPPA is the first state law in the nation to require commercial websites and online services to post a privacy policy. The law's reach stretches well beyond California to require a person or company in the United States (and conceivable the world) that operates websites collecting personally identifiable information from California consumers to post a conspicuous privacy policy on its website stating exactly the information being collected and those individuals with whom it is being shared, and to comply with this policy."}),n.jsx("p",{children:"According to CalOPPA we agree to the following:"}),n.jsxs("ul",{className:"list-decimal list-inside space-y-2 ml-4",children:[n.jsx("li",{children:"users can visit our site anonymously;"}),n.jsx("li",{children:'our Privacy Policy link includes the word "Privacy", and can easily be found on the home page of our website;'}),n.jsx("li",{children:"users will be notified of any privacy policy changes on our Privacy Policy Page;"}),n.jsxs("li",{children:["users are able to change their personal information by emailing us at ",n.jsx("strong",{children:"support@vidyaastra.com"}),"."]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("p",{className:"font-semibold",children:'Our Policy on "Do Not Track" Signals:'}),n.jsx("p",{children:"We honor Do Not Track signals and do not track, plant cookies, or use advertising when a Do Not Track browser mechanism is in place. Do Not Track is a preference you can set in your web browser to inform websites that you do not want to be tracked."}),n.jsx("p",{children:"You can enable or disable Do Not Track by visiting the Preferences or Settings page of your web browser."})]})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"12. Your Data Protection Rights under the California Consumer Privacy Act (CCPA)"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsx("p",{children:"If you are a California resident, you are entitled to learn what data we collect about you, ask to delete your data and not to sell (share) it. To exercise your data protection rights, you can make certain requests and ask us:"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold",children:"12.1. What personal information we have about you. If you make this request, we will return to you:"}),n.jsxs("ul",{className:"list-decimal list-inside space-y-1 ml-8",children:[n.jsx("li",{children:"The categories of personal information we have collected about you."}),n.jsx("li",{children:"The categories of sources from which we collect your personal information."}),n.jsx("li",{children:"The business or commercial purpose for collecting or selling your personal information."}),n.jsx("li",{children:"The categories of third parties with whom we share personal information."}),n.jsx("li",{children:"The specific pieces of personal information we have collected about you."}),n.jsx("li",{children:"A list of categories of personal information that we have sold, along with the category of any other company we sold it to. If we have not sold your personal information, we will inform you of that fact."}),n.jsx("li",{children:"A list of categories of personal information that we have disclosed for a business purpose, along with the category of any other company we shared it with."})]}),n.jsx("p",{className:"mt-2",children:"Please note, you are entitled to ask us to provide you with this information up to two times in a rolling twelve-month period. When you make this request, the information provided may be limited to the personal information we collected about you in the previous 12 months."})]}),n.jsxs("p",{children:[n.jsx("strong",{children:"12.2. To delete your personal information."})," If you make this request, we will delete the personal information we hold about you as of the date of your request from our records and direct any service providers to do the same. In some cases, deletion may be accomplished through de-identification of the information. If you choose to delete your personal information, you may not be able to use certain functions that require your personal information to operate."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"12.3. To stop selling your personal information."})," ",`We don't sell or rent your personal information to any third parties for any purpose. We do not sell your personal information for monetary consideration. However, under some circumstances, a transfer of personal information to a third party, or within our family of companies, without monetary consideration may be considered a "sale" under California law. You are the only owner of your Personal Data and can request disclosure or deletion at any time.`]}),n.jsx("p",{children:"If you submit a request to stop selling your personal information, we will stop making such transfers."}),n.jsx("p",{children:"Please note, if you ask us to delete or stop selling your data, it may impact your experience with us, and you may not be able to participate in certain programs or membership services which require the usage of your personal information to function. But in no circumstances, we will discriminate against you for exercising your rights."}),n.jsxs("p",{children:["To exercise your California data protection rights described above, please send your request(s) by email:"," ",n.jsx("strong",{children:"support@vidyaastra.com"}),"."]}),n.jsx("p",{children:"Your data protection rights, described above, are covered by the CCPA, short for the California Consumer Privacy Act. To find out more, visit the official California Legislative Information website. The CCPA took effect on 01/01/2020."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"13. Service Providers"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsxs("p",{children:["We may employ third party companies and individuals to facilitate our Service (",n.jsx("strong",{children:'"Service Providers"'}),"), provide Service on our behalf, perform Service-related services or assist us in analysing how our Service is used."]}),n.jsx("p",{children:"These third parties have access to your Personal Data only to perform these tasks on our behalf and are obligated not to disclose or use it for any other purpose."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"14. Analytics"}),n.jsx("p",{className:"text-gray-700",children:"We may use third-party Service Providers to monitor and analyze the use of our Service."})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"15. CI/CD tools"}),n.jsx("p",{className:"text-gray-700",children:"We may use third-party Service Providers to automate the development process of our Service."})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"16. Behavioral Remarketing"}),n.jsx("p",{className:"text-gray-700",children:"We may use remarketing services to advertise on third party websites to you after you visited our Service. We and our third-party vendors use cookies to inform, optimise and serve ads based on your past visits to our Service."})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"17. Links to Other Sites"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsx("p",{children:"Our Service may contain links to other sites that are not operated by us. If you click a third party link, you will be directed to that third party's site. We strongly advise you to review the Privacy Policy of every site you visit."}),n.jsx("p",{children:"We have no control over and assume no responsibility for the content, privacy policies or practices of any third party sites or services."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"18. Children's Privacy"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsxs("p",{children:["Our Services are not intended for use by children under the age of 18 (",n.jsx("strong",{children:'"Child"'})," or ",n.jsx("strong",{children:'"Children"'}),")."]}),n.jsx("p",{children:"We do not knowingly collect personally identifiable information from Children under 18. If you become aware that a Child has provided us with Personal Data, please contact us. If we become aware that we have collected Personal Data from Children without verification of parental consent, we take steps to remove that information from our servers."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"19. Changes to This Privacy Policy"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsx("p",{children:"We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page."}),n.jsx("p",{children:'We will let you know via email and/or a prominent notice on our Service, prior to the change becoming effective and update "effective date" at the top of this Privacy Policy.'}),n.jsx("p",{children:"You are advised to review this Privacy Policy periodically for any changes. Changes to this Privacy Policy are effective when they are posted on this page."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"20. Contact Us"}),n.jsxs("p",{className:"text-gray-700",children:["If you have any questions about this Privacy Policy, please contact us by email: ",n.jsx("strong",{children:"support@vidyaastra.com"}),"."]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"21. Refund Policy"}),n.jsx("p",{className:"text-gray-700",children:"All Payments Are Absoulutes we do not provide any refunds"})]})]})}),POe=()=>n.jsx("div",{className:"max-w-4xl mx-auto px-6 py-8 bg-white",children:n.jsxs("div",{className:"prose prose-lg max-w-none",children:[n.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-8",children:"TERMS AND CONDITIONS"}),n.jsx("p",{className:"text-gray-600 mb-8",children:"Last updated: 2025-09-07"}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"1. Introduction"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsxs("p",{children:["Welcome to ",n.jsx("strong",{children:"vidyaastra"}),' ("Company", "we", "our", "us")!']}),n.jsxs("p",{children:['These Terms of Service ("Terms", "Terms of Service") govern your use of our website located at'," ",n.jsx("strong",{children:"http://localhost:5000"}),' (together or individually "Service") operated by ',n.jsxs("strong",{children:["     ",n.jsxs("a",{href:"https://parnetsgroup.com/",className:"font-medium text-orange-500 hover:text-orange-400 transition-colors",children:[n.jsx("strong",{className:"text-orange-500",children:"Par"}),n.jsx("strong",{className:"text-black",children:"Nets"})]})," ","Software India Pvt Ltd "]}),"."]}),n.jsx("p",{children:"Our Privacy Policy also governs your use of our Service and explains how we collect, safeguard and disclose information that results from your use of our web pages."}),n.jsx("p",{children:'Your agreement with us includes these Terms and our Privacy Policy ("Agreements"). You acknowledge that you have read and understood Agreements, and agree to be bound of them.'}),n.jsxs("p",{children:["If you do not agree with (or cannot comply with) Agreements, then you may not use the Service, but please let us know by emailing at"," ",n.jsx("strong",{children:"support@vidyaastra.com"})," so we can try to find a solution. These Terms apply to all visitors, users and others who wish to access or use Service."]})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"2. Communications"}),n.jsx("p",{className:"text-gray-700",children:"By using our Service, you agree to subscribe to newsletters, marketing or promotional materials and other information we may send. However, you may opt out of receiving any, or all, of these communications from us by following the unsubscribe link or by emailing at support@vidyaastra.com."})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"3. Contests, Sweepstakes and Promotions"}),n.jsx("p",{className:"text-gray-700",children:'Any contests, sweepstakes or other promotions (collectively, "Promotions") made available through Service may be governed by rules that are separate from these Terms of Service. If you participate in any Promotions, please review the applicable rules as well as our Privacy Policy. If the rules for a Promotion conflict with these Terms of Service, Promotion rules will apply.'})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"4. Content"}),n.jsx("p",{className:"text-gray-700",children:"Content found on or through this Service are the property of vidyaastra or used with permission. You may not distribute, modify, transmit, reuse, download, repost, copy, or use said Content, whether in whole or in part, for commercial purposes or for personal gain, without express advance written permission from us."})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"5. Prohibited Uses"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsx("p",{children:"You may use Service only for lawful purposes and in accordance with Terms. You agree not to use Service:"}),n.jsxs("ul",{className:"list-decimal list-inside space-y-2 ml-4",children:[n.jsx("li",{children:"In any way that violates any applicable national or international law or regulation."}),n.jsx("li",{children:"For the purpose of exploiting, harming, or attempting to exploit or harm minors in any way by exposing them to inappropriate content or otherwise."}),n.jsx("li",{children:'To transmit, or procure the sending of, any advertising or promotional material, including any "junk mail", "chain letter," "spam," or any other similar solicitation.'}),n.jsx("li",{children:"To impersonate or attempt to impersonate Company, a Company employee, another user, or any other person or entity."}),n.jsx("li",{children:"In any way that infringes upon the rights of others, or in any way is illegal, threatening, fraudulent, or harmful, or in connection with any unlawful, illegal, fraudulent, or harmful purpose or activity."}),n.jsx("li",{children:"To engage in any other conduct that restricts or inhibits anyone's use or enjoyment of Service, or which, as determined by us, may harm or offend Company or users of Service or expose them to liability."})]}),n.jsx("p",{className:"mt-6",children:"Additionally, you agree not to:"}),n.jsxs("ul",{className:"list-decimal list-inside space-y-2 ml-4",children:[n.jsx("li",{children:"Use Service in any manner that could disable, overburden, damage, or impair Service or interfere with any other party's use of Service, including their ability to engage in real time activities through Service."}),n.jsx("li",{children:"Use any robot, spider, or other automatic device, process, or means to access Service for any purpose, including monitoring or copying any of the material on Service."}),n.jsx("li",{children:"Use any manual process to monitor or copy any of the material on Service or for any other unauthorized purpose without our prior written consent."}),n.jsx("li",{children:"Use any device, software, or routine that interferes with the proper working of Service."}),n.jsx("li",{children:"Introduce any viruses, trojan horses, worms, logic bombs, or other material which is malicious or technologically harmful."}),n.jsx("li",{children:"Attempt to gain unauthorized access to, interfere with, damage, or disrupt any parts of Service, the server on which Service is stored, or any server, computer, or database connected to Service."}),n.jsx("li",{children:"Attack Service via a denial-of-service attack or a distributed denial-of-service attack."}),n.jsx("li",{children:"Take any action that may damage or falsify Company rating."}),n.jsx("li",{children:"Otherwise attempt to interfere with the proper working of Service."})]})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"6. Analytics"}),n.jsx("p",{className:"text-gray-700",children:"We may use third-party Service Providers to monitor and analyze the use of our Service."})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"7. No Use By Minors"}),n.jsx("p",{className:"text-gray-700",children:"Service is intended only for access and use by individuals at least eighteen (18) years old. By accessing or using Service, you warrant and represent that you are at least eighteen (18) years of age and with the full authority, right, and capacity to enter into this agreement and abide by all of the terms and conditions of Terms. If you are not at least eighteen (18) years old, you are prohibited from both the access and usage of Service."})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"8. Intellectual Property"}),n.jsx("p",{className:"text-gray-700",children:"Service and its original content (excluding Content provided by users), features and functionality are and will remain the exclusive property of vidyaastra and its licensors. Service is protected by copyright, trademark, and other laws of and foreign countries. Our trademarks may not be used in connection with any product or service without the prior written consent of vidyaastra."})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"9. Copyright Policy"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsx("p",{children:'We respect the intellectual property rights of others. It is our policy to respond to any claim that Content posted on Service infringes on the copyright or other intellectual property rights ("Infringement") of any person or entity.'}),n.jsx("p",{children:'If you are a copyright owner, or authorized on behalf of one, and you believe that the copyrighted work has been copied in a way that constitutes copyright infringement, please submit your claim via email to support@vidyaastra.com, with the subject line: "Copyright Infringement" and include in your claim a detailed description of the alleged Infringement as detailed below, under "DMCA Notice and Procedure for Copyright Infringement Claims"'}),n.jsx("p",{children:"You may be held accountable for damages (including costs and attorneys' fees) for misrepresentation or bad-faith claims on the infringement of any Content found on and/or through Service on your copyright."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"10. DMCA Notice and Procedure for Copyright Infringement Claims"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsx("p",{children:"You may submit a notification pursuant to the Digital Millennium Copyright Act (DMCA) by providing our Copyright Agent with the following information in writing (see 17 U.S.C 512(c)(3) for further detail):"}),n.jsxs("ul",{className:"list-decimal list-inside space-y-2 ml-4",children:[n.jsx("li",{children:"an electronic or physical signature of the person authorized to act on behalf of the owner of the copyright's interest;"}),n.jsx("li",{children:"a description of the copyrighted work that you claim has been infringed, including the URL (i.e., web page address) of the location where the copyrighted work exists or a copy of the copyrighted work;"}),n.jsx("li",{children:"identification of the URL or other specific location on Service where the material that you claim is infringing is located;"}),n.jsx("li",{children:"your address, telephone number, and email address;"}),n.jsx("li",{children:"a statement by you that you have a good faith belief that the disputed use is not authorized by the copyright owner, its agent, or the law;"}),n.jsx("li",{children:"a statement by you, made under penalty of perjury, that the above information in your notice is accurate and that you are the copyright owner or authorized to act on the copyright owner's behalf."})]}),n.jsx("p",{children:"You can contact our Copyright Agent via email at support@vidyaastra.com."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"11. Error Reporting and Feedback"}),n.jsx("p",{className:"text-gray-700",children:'You may provide us either directly at support@vidyaastra.com or via third party sites and tools with information and feedback concerning errors, suggestions for improvements, ideas, problems, complaints, and other matters related to our Service ("Feedback"). You acknowledge and agree that: (i) you shall not retain, acquire or assert any intellectual property right or other right, title or interest in or to the Feedback; (ii) Company may have development ideas similar to the Feedback; (iii) Feedback does not contain confidential information or proprietary information from you or any third party; and (iv) Company is not under any obligation of confidentiality with respect to the Feedback. In the event the transfer of the ownership to the Feedback is not possible due to applicable mandatory laws, you grant Company and its affiliates an exclusive, transferable, irrevocable, free-of-charge, sub-licensable, unlimited and perpetual right to use (including copy, modify, create derivative works, publish, distribute and commercialize) Feedback in any manner and for any purpose.'})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"12. Links To Other Web Sites"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsx("p",{children:"Our Service may contain links to third party web sites or services that are not owned or controlled by vidyaastra."}),n.jsx("p",{children:"vidyaastra has no control over, and assumes no responsibility for the content, privacy policies, or practices of any third party web sites or services. We do not warrant the offerings of any of these entities/individuals or their websites."}),n.jsx("p",{className:"font-semibold uppercase",children:"YOU ACKNOWLEDGE AND AGREE THAT COMPANY SHALL NOT BE RESPONSIBLE OR LIABLE, DIRECTLY OR INDIRECTLY, FOR ANY DAMAGE OR LOSS CAUSED OR ALLEGED TO BE CAUSED BY OR IN CONNECTION WITH USE OF OR RELIANCE ON ANY SUCH CONTENT, GOODS OR SERVICES AVAILABLE ON OR THROUGH ANY SUCH THIRD PARTY WEB SITES OR SERVICES."}),n.jsx("p",{className:"font-semibold uppercase",children:"WE STRONGLY ADVISE YOU TO READ THE TERMS OF SERVICE AND PRIVACY POLICIES OF ANY THIRD PARTY WEB SITES OR SERVICES THAT YOU VISIT."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"13. Disclaimer Of Warranty"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsx("p",{className:"font-semibold uppercase",children:'THESE SERVICES ARE PROVIDED BY COMPANY ON AN "AS IS" AND "AS AVAILABLE" BASIS. COMPANY MAKES NO REPRESENTATIONS OR WARRANTIES OF ANY KIND, EXPRESS OR IMPLIED, AS TO THE OPERATION OF THEIR SERVICES, OR THE INFORMATION, CONTENT OR MATERIALS INCLUDED THEREIN. YOU EXPRESSLY AGREE THAT YOUR USE OF THESE SERVICES, THEIR CONTENT, AND ANY SERVICES OR ITEMS OBTAINED FROM US IS AT YOUR SOLE RISK.'}),n.jsx("p",{className:"font-semibold uppercase",children:"NEITHER COMPANY NOR ANY PERSON ASSOCIATED WITH COMPANY MAKES ANY WARRANTY OR REPRESENTATION WITH RESPECT TO THE COMPLETENESS, SECURITY, RELIABILITY, QUALITY, ACCURACY, OR AVAILABILITY OF THE SERVICES. WITHOUT LIMITING THE FOREGOING, NEITHER COMPANY NOR ANYONE ASSOCIATED WITH COMPANY REPRESENTS OR WARRANTS THAT THE SERVICES, THEIR CONTENT, OR ANY SERVICES OR ITEMS OBTAINED THROUGH THE SERVICES WILL BE ACCURATE, RELIABLE, ERROR-FREE, OR UNINTERRUPTED, THAT DEFECTS WILL BE CORRECTED, THAT THE SERVICES OR THE SERVER THAT MAKES IT AVAILABLE ARE FREE OF VIRUSES OR OTHER HARMFUL COMPONENTS OR THAT THE SERVICES OR ANY SERVICES OR ITEMS OBTAINED THROUGH THE SERVICES WILL OTHERWISE MEET YOUR NEEDS OR EXPECTATIONS."}),n.jsx("p",{className:"font-semibold uppercase",children:"COMPANY HEREBY DISCLAIMS ALL WARRANTIES OF ANY KIND, WHETHER EXPRESS OR IMPLIED, STATUTORY, OR OTHERWISE, INCLUDING BUT NOT LIMITED TO ANY WARRANTIES OF MERCHANTABILITY, NON-INFRINGEMENT, AND FITNESS FOR PARTICULAR PURPOSE."}),n.jsx("p",{className:"font-semibold uppercase",children:"THE FOREGOING DOES NOT AFFECT ANY WARRANTIES WHICH CANNOT BE EXCLUDED OR LIMITED UNDER APPLICABLE LAW."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"14. Limitation Of Liability"}),n.jsx("p",{className:"text-gray-700 font-semibold uppercase",children:"EXCEPT AS PROHIBITED BY LAW, YOU WILL HOLD US AND OUR OFFICERS, DIRECTORS, EMPLOYEES, AND AGENTS HARMLESS FOR ANY INDIRECT, PUNITIVE, SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGE, HOWEVER IT ARISES (INCLUDING ATTORNEYS' FEES AND ALL RELATED COSTS AND EXPENSES OF LITIGATION AND ARBITRATION, OR AT TRIAL OR ON APPEAL, IF ANY, WHETHER OR NOT LITIGATION OR ARBITRATION IS INSTITUTED), WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE, OR OTHER TORTIOUS ACTION, OR ARISING OUT OF OR IN CONNECTION WITH THIS AGREEMENT, INCLUDING WITHOUT LIMITATION ANY CLAIM FOR PERSONAL INJURY OR PROPERTY DAMAGE, ARISING FROM THIS AGREEMENT AND ANY VIOLATION BY YOU OF ANY FEDERAL, STATE, OR LOCAL LAWS, STATUTES, RULES, OR REGULATIONS, EVEN IF COMPANY HAS BEEN PREVIOUSLY ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. EXCEPT AS PROHIBITED BY LAW, IF THERE IS LIABILITY FOUND ON THE PART OF COMPANY, IT WILL BE LIMITED TO THE AMOUNT PAID FOR THE PRODUCTS AND/OR SERVICES, AND UNDER NO CIRCUMSTANCES WILL THERE BE CONSEQUENTIAL OR PUNITIVE DAMAGES. SOME STATES DO NOT ALLOW THE EXCLUSION OR LIMITATION OF PUNITIVE, INCIDENTAL OR CONSEQUENTIAL DAMAGES, SO THE PRIOR LIMITATION OR EXCLUSION MAY NOT APPLY TO YOU."})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"15. Termination"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsx("p",{children:"We may terminate or suspend your account and bar access to Service immediately, without prior notice or liability, under our sole discretion, for any reason whatsoever and without limitation, including but not limited to a breach of Terms."}),n.jsx("p",{children:"If you wish to terminate your account, you may simply discontinue using Service."}),n.jsx("p",{children:"All provisions of Terms which by their nature should survive termination shall survive termination, including, without limitation, ownership provisions, warranty disclaimers, indemnity and limitations of liability."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"16. Governing Law"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsx("p",{children:"These Terms shall be governed and construed in accordance with the laws of India, which governing law applies to agreement without regard to its conflict of law provisions."}),n.jsx("p",{children:"Our failure to enforce any right or provision of these Terms will not be considered a waiver of those rights. If any provision of these Terms is held to be invalid or unenforceable by a court, the remaining provisions of these Terms will remain in effect. These Terms constitute the entire agreement between us regarding our Service and supersede and replace any prior agreements we might have had between us regarding Service."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"17. Changes To Service"}),n.jsx("p",{className:"text-gray-700",children:"We reserve the right to withdraw or amend our Service, and any service or material we provide via Service, in our sole discretion without notice. We will not be liable if for any reason all or any part of Service is unavailable at any time or for any period. From time to time, we may restrict access to some parts of Service, or the entire Service, to users, including registered users."})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"18. Amendments To Terms"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsx("p",{children:"We may amend Terms at any time by posting the amended terms on this site. It is your responsibility to review these Terms periodically."}),n.jsx("p",{children:"Your continued use of the Platform following the posting of revised Terms means that you accept and agree to the changes. You are expected to check this page frequently so you are aware of any changes, as they are binding on you."}),n.jsx("p",{children:"By continuing to access or use our Service after any revisions become effective, you agree to be bound by the revised terms. If you do not agree to the new terms, you are no longer authorized to use Service."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"19. Waiver And Severability"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsx("p",{children:"No waiver by Company of any term or condition set forth in Terms shall be deemed a further or continuing waiver of such term or condition or a waiver of any other term or condition, and any failure of Company to assert a right or provision under Terms shall not constitute a waiver of such right or provision."}),n.jsx("p",{children:"If any provision of Terms is held by a court or other tribunal of competent jurisdiction to be invalid, illegal or unenforceable for any reason, such provision shall be eliminated or limited to the minimum extent such that the remaining provisions of Terms will continue in full force and effect."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"20. Acknowledgement"}),n.jsx("p",{className:"text-gray-700 font-semibold uppercase",children:"BY USING SERVICE OR OTHER SERVICES PROVIDED BY US, YOU ACKNOWLEDGE THAT YOU HAVE READ THESE TERMS OF SERVICE AND AGREE TO BE BOUND BY THEM."})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"21. Contact Us"}),n.jsxs("p",{className:"text-gray-700",children:["Please send your feedback, comments, requests for technical support by email: ",n.jsx("strong",{children:"support@vidyaastra.com"}),"."]})]})]})}),nw=()=>n.jsxs("footer",{className:"bg-white text-[#17024F] relative",children:[n.jsx("style",{children:`
        @keyframes fadeInUp {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        @keyframes pulse {
          0% { transform: scale(1); }
          50% { transform: scale(1.1); }
          100% { transform: scale(1); }
        }
        .animate-fadeInUp { animation: fadeInUp 0.8s ease-out forwards; }
        .animate-pulse { animation: pulse 1.5s infinite ease-in-out; }
        .footer-link:hover, .social-icon:hover {
          transform: translateY(-2px);
          color: #FF6200;
        }
        .contact-item:hover .contact-icon {
          transform: scale(1.2);
        }
      `}),n.jsx("div",{className:"max-w-7xl mx-auto px-4 py-12 sm:py-16",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[n.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[n.jsx("img",{src:Vx,alt:"Vidyaastra Logo",className:"h-20 w-auto mb-4 animate-fadeInUp",style:{animationDelay:"0.1s"}}),n.jsx("p",{className:"text-gray-600 text-sm text-center md:text-left max-w-xs animate-fadeInUp",style:{animationDelay:"0.2s"},children:"Vidyaastra: Empowering schools with seamless management and enhanced engagement."}),n.jsx("div",{className:"flex space-x-4 mt-4",children:[{icon:c7e,href:"https://twitter.com",label:"Twitter"},{icon:s7e,href:"https://www.linkedin.com/company/vidyaastra1/about/?viewAsMember=true",label:"LinkedIn"},{icon:i7e,href:"https://www.facebook.com/profile.php?id=61580375357151",label:"Facebook"},{icon:o7e,href:"https://instagram.com",label:"Instagram"}].map((e,t)=>n.jsx("a",{href:e.href,target:"_blank",rel:"noopener noreferrer",className:"text-[#17024F] hover:text-orange-500 transition-all duration-300 social-icon animate-fadeInUp","aria-label":e.label,style:{animationDelay:`${.3+t*.1}s`},children:n.jsx(vs,{icon:e.icon,className:"w-6 h-6 hover:animate-pulse"})},t))})]}),n.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[n.jsx("h3",{className:"text-lg font-semibold text-[#17024F] mb-4 animate-fadeInUp",style:{animationDelay:"0.4s"},children:"Quick Links"}),n.jsx("ul",{className:"space-y-2 text-gray-600 text-sm",children:[{to:"/",label:"Home"},{to:"/about",label:"About"},{to:"/features",label:"Features"},{to:"/contact",label:"Contact"}].map((e,t)=>n.jsx("li",{children:n.jsx(Xi,{to:e.to,className:"footer-link hover:text-orange-500 transition-all duration-200 animate-fadeInUp",style:{animationDelay:`${.5+t*.1}s`},children:e.label})},t))})]}),n.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[n.jsx("h3",{className:"text-lg font-semibold text-[#17024F] mb-4 animate-fadeInUp",style:{animationDelay:"0.7s"},children:"Download App"}),n.jsxs("div",{className:"flex flex-col space-y-4",children:[n.jsx("a",{href:"https://play.google.com/store/apps/details?id=com.schoolmanagment",target:"_blank",rel:"noopener noreferrer",className:"animate-fadeInUp",style:{animationDelay:"0.8s"},children:n.jsx("img",{src:"/badge-google-play.webp ",alt:"Get it on Google Play",className:"h-12 w-auto"})}),n.jsx("a",{target:"_blank",rel:"noopener noreferrer",className:"animate-fadeInUp",style:{animationDelay:"0.9s"},onClick:()=>alert("Comming soon..."),children:n.jsx("img",{src:"/badge-google-play-apple.webp",alt:"Download on the App Store",className:"h-12 w-auto"})})]})]}),n.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[n.jsx("h3",{className:"text-lg font-semibold text-[#17024F] mb-4 animate-fadeInUp",style:{animationDelay:"1s"},children:"Contact Us"}),n.jsx("div",{className:"space-y-3 text-gray-600 text-sm",children:[{icon:KY,content:"104/1 Singapura Main Road near Reliance Smart , Bengaluru , Karnataka , 560097"},{icon:qY,content:"+91-8123486068",href:"tel:+91-8123486068"},{icon:zY,content:"support@vidyaastra.com",href:"mailto:info@vidyaastra.com"}].map((e,t)=>n.jsxs("div",{className:"flex items-start space-x-3 contact-item animate-fadeInUp",style:{animationDelay:`${1.1+t*.1}s`},children:[n.jsx(vs,{icon:e.icon,className:"text-orange-500 w-5 h-5 mt-1 transition-transform contact-icon","aria-hidden":"true"}),e.href?n.jsx("a",{href:e.href,className:"hover:text-orange-500 transition-colors",children:e.content}):n.jsx("p",{children:e.content})]},t))})]})]})}),n.jsx("div",{className:"border-t border-gray-200",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0 text-gray-600 text-sm",children:[n.jsxs("div",{className:"flex flex-col md:flex-row items-center space-y-2 md:space-y-0 md:space-x-6",children:[n.jsxs("p",{className:"animate-fadeInUp",style:{animationDelay:"1.5s"},children:[" ",new Date().getFullYear()," Vidyaastra. All rights reserved."]}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsx(Xi,{to:"/PrivacyPolicy",className:"footer-link hover:text-orange-500 transition-all duration-200 animate-fadeInUp",style:{animationDelay:"1.6s"},children:"Privacy Policy"}),n.jsx("span",{className:"text-gray-400",children:""}),n.jsx(Xi,{to:"/Terms&Conditions",className:"footer-link hover:text-orange-500 transition-all duration-200 animate-fadeInUp",style:{animationDelay:"1.7s"},children:"Terms & Conditions"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2 animate-fadeInUp",style:{animationDelay:"1.8s"},children:[n.jsx("span",{children:"A Product of"}),n.jsxs("a",{href:"https://parnetsgroup.com/",className:"font-medium text-orange-500 hover:text-orange-400 transition-colors",children:[n.jsx("span",{className:"text-orange-500",children:"Par"}),n.jsx("span",{className:"text-black",children:"Nets"})]}),n.jsx("span",{children:"Software India Pvt Ltd"})]})]})})})]}),LOe=()=>n.jsxs("section",{className:"max-w-7xl mx-auto px-4 py-12 bg-gray-50",children:[n.jsx("style",{children:`
        @keyframes fadeInUp {
          from { opacity: 0; transform: translateY(30px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeInUp { animation: fadeInUp 0.8s ease-out forwards; }
        .feature-card {
          transition: all 0.3s ease;
        }
        .feature-card:hover {
          transform: translateY(-4px);
          box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);
        }
        .usp-card {
          transition: all 0.3s ease;
        }
        .usp-card:hover {
          transform: translateY(-4px);
          box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
        }
      `}),n.jsxs("div",{className:"mb-12",children:[n.jsxs("h2",{className:"text-3xl sm:text-4xl font-extrabold text-center text-gray-900 mb-8 animate-fadeInUp",children:[n.jsx("span",{className:"text-orange-600",children:"Features"})," for Everyone"]}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[n.jsxs(ba.div,{className:"bg-white rounded-xl shadow-lg p-6 feature-card",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"For School Admins"}),n.jsxs("ul",{className:"space-y-3 text-gray-500 text-base",children:[n.jsxs("li",{className:"flex items-start",children:[n.jsx(vs,{icon:R7e,className:"text-orange-600 w-5 h-5 mr-2 mt-1"}),"Fee Collection & Online Payments"]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx(vs,{icon:m7e,className:"text-orange-600 w-5 h-5 mr-2 mt-1"}),"Attendance & Timetable Management"]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx(vs,{icon:YU,className:"text-orange-600 w-5 h-5 mr-2 mt-1"}),"Report Cards & Exam Management"]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx(vs,{icon:F7e,className:"text-orange-600 w-5 h-5 mr-2 mt-1"}),"Transport & Bus Tracking"]})]})]}),n.jsxs(ba.div,{className:"bg-white rounded-xl shadow-lg p-6 feature-card",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"For Teachers"}),n.jsxs("ul",{className:"space-y-3 text-gray-500 text-base",children:[n.jsxs("li",{className:"flex items-start",children:[n.jsx(vs,{icon:Cw,className:"text-orange-600 w-5 h-5 mr-2 mt-1"}),"Quick Attendance Marking"]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx(vs,{icon:O7e,className:"text-orange-600 w-5 h-5 mr-2 mt-1"}),"Homework & Assignment Uploads"]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx(vs,{icon:YU,className:"text-orange-600 w-5 h-5 mr-2 mt-1"}),"Exam & Marks Entry"]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx(vs,{icon:E7e,className:"text-orange-600 w-5 h-5 mr-2 mt-1"}),"Direct Parent Communication"]})]})]}),n.jsxs(ba.div,{className:"bg-white rounded-xl shadow-lg p-6 feature-card",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"For Parents & Students"}),n.jsxs("ul",{className:"space-y-3 text-gray-500 text-base",children:[n.jsxs("li",{className:"flex items-start",children:[n.jsx(vs,{icon:VY,className:"text-orange-600 w-5 h-5 mr-2 mt-1"}),"Real-time Notifications"]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx(vs,{icon:I7e,className:"text-orange-600 w-5 h-5 mr-2 mt-1"}),"Online Fee Payment"]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx(vs,{icon:U7e,className:"text-orange-600 w-5 h-5 mr-2 mt-1"}),"Homework & Class Updates"]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx(vs,{icon:v7e,className:"text-orange-600 w-5 h-5 mr-2 mt-1"}),"Progress Reports & Digital Report Cards"]})]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 sm:p-8",children:[n.jsxs("h2",{className:"text-3xl sm:text-4xl font-extrabold text-center text-gray-900 mb-6 sm:mb-8 animate-fadeInUp",children:[n.jsx("span",{className:"text-orange-600",children:"What Makes"})," Vidyaastra Different?"]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[n.jsxs(ba.div,{className:"flex items-start space-x-3 bg-gray-50 p-4 rounded-lg usp-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[n.jsx(vs,{icon:D7e,className:"text-orange-600 w-6 h-6 mt-1"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Time-Saving Automation"}),n.jsx("p",{className:"text-gray-500 text-base",children:"Focus more on education, less on admin tasks with our streamlined automation tools."})]})]}),n.jsxs(ba.div,{className:"flex items-start space-x-3 bg-gray-50 p-4 rounded-lg usp-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:[n.jsx(vs,{icon:L7e,className:"text-orange-600 w-6 h-6 mt-1"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Anytime, Anywhere Access"}),n.jsx("p",{className:"text-gray-500 text-base",children:"Web & mobile ready platform for seamless access from any device."})]})]}),n.jsxs(ba.div,{className:"flex items-start space-x-3 bg-gray-50 p-4 rounded-lg usp-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:[n.jsx(vs,{icon:y7e,className:"text-orange-600 w-6 h-6 mt-1"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Simple & User-Friendly"}),n.jsx("p",{className:"text-gray-500 text-base",children:"No technical skills needed to navigate our intuitive interface."})]})]}),n.jsxs(ba.div,{className:"flex items-start space-x-3 bg-gray-50 p-4 rounded-lg usp-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},children:[n.jsx(vs,{icon:P7e,className:"text-orange-600 w-6 h-6 mt-1"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Data Security First"}),n.jsx("p",{className:"text-gray-500 text-base",children:"Safe & encrypted platform to protect your school's data."})]})]}),n.jsxs(ba.div,{className:"flex items-start space-x-3 bg-gray-50 p-4 rounded-lg usp-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},children:[n.jsx(vs,{icon:N7e,className:"text-orange-600 w-6 h-6 mt-1"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Smart Insights"}),n.jsx("p",{className:"text-gray-500 text-base",children:"Track school growth & student progress with actionable analytics."})]})]})]})]})]}),OOe=()=>{const[e,t]=S.useState({name:"",school:"",email:"",phone:"",message:""}),[r,a]=S.useState(!1),s=o=>{t({...e,[o.target.name]:o.target.value})},i=async o=>{o.preventDefault();try{(await Vt.post("http://localhost:5000/api/enquiries",e)).status===201&&(t({name:"",school:"",email:"",phone:"",message:""}),setIsOpen(!1),a(!0),setTimeout(()=>{a(!1)},3e3))}catch(l){l.response&&alert(l.response.data.errors||l.response.data.message),console.log(l)}};return n.jsxs("section",{className:"max-w-7xl mx-auto px-4 py-12 bg-gray-50 min-h-screen",children:[n.jsx("style",{children:`
        @keyframes fadeInUp {
          from { opacity: 0; transform: translateY(30px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeInUp { animation: fadeInUp 0.8s ease-out forwards; }
        .input-field {
          transition: all 0.3s ease;
        }
        .input-field:focus {
          border-color: #f97316; /* orange-600 */
          box-shadow: 0 0 0 3px rgba(234, 88, 12, 0.2);
        }
        .submit-button:hover {
          transform: translateY(-2px);
        }
        .contact-card {
          transition: all 0.3s ease;
        }
        .contact-card:hover {
          transform: translateY(-4px);
          box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
        }
        .toast {
          position: fixed;
          top: 20px;
          right: 20px;
          background: #f97316; /* orange-600 */
          color: white;
          padding: 12px 24px;
          border-radius: 8px;
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
          z-index: 1000;
        }
      `}),n.jsxs("div",{className:"text-center mb-12",children:[n.jsxs("h1",{className:"text-3xl sm:text-5xl font-extrabold text-gray-900 mb-6 animate-fadeInUp",children:[n.jsx("span",{className:"text-orange-600",children:"Get in Touch"})," with Us"]}),n.jsx(ba.p,{className:"text-base sm:text-lg text-gray-500 max-w-3xl mx-auto leading-relaxed",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:"We're here to help you transform your school with Vidyaastra. Reach out to us for any queries or to schedule a demo."})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[n.jsxs(ba.div,{className:"bg-white rounded-xl shadow-lg p-6 sm:p-8 contact-card",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Contact Information"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(vs,{icon:KY,className:"text-orange-600 w-6 h-6 mt-1"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Address"}),n.jsxs("p",{className:"text-gray-500 text-base",children:["104/1 Singapura Main Road near Reliance Smart,",n.jsx("br",{})," Bengaluru , Karnataka , 560097"]})]})]}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(vs,{icon:qY,className:"text-orange-600 w-6 h-6 mt-1"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Phone"}),n.jsx("a",{className:"text-gray-500 text-base hover:text-orange-500",href:"tel:+91-8123486068",children:"+91-8123486068"})]})]}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(vs,{icon:zY,className:"text-orange-600 w-6 h-6 mt-1"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Email"}),n.jsx("a",{className:"text-gray-500 text-base hover:text-orange-500",href:"mailto:info@vidyaastra.com",children:"support@vidyaastra.com"})]})]})]})]}),n.jsxs(ba.div,{className:"bg-white rounded-xl shadow-lg p-6 sm:p-8",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Send Us a Message"}),n.jsxs("form",{onSubmit:i,className:"space-y-5",children:[n.jsx("div",{children:n.jsx("input",{type:"text",name:"name",value:e.name,onChange:s,required:!0,placeholder:"Enter your name",className:"input-field mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-orange-600 focus:border-orange-600 p-3 text-gray-900 text-base"})}),n.jsx("div",{children:n.jsx("input",{type:"text",name:"school",value:e.school,onChange:s,required:!0,placeholder:"Enter your school/institution name",className:"input-field mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-orange-600 focus:border-orange-600 p-3 text-gray-900 text-base"})}),n.jsx("div",{children:n.jsx("input",{type:"email",name:"email",value:e.email,onChange:s,required:!0,placeholder:"Enter your email",className:"input-field mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-orange-600 focus:border-orange-600 p-3 text-gray-900 text-base"})}),n.jsx("div",{children:n.jsx("input",{type:"tel",name:"phone",value:e.phone,onChange:s,required:!0,placeholder:"Enter your phone number",className:"input-field mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-orange-600 focus:border-orange-600 p-3 text-gray-900 text-base"})}),n.jsx("div",{children:n.jsx("textarea",{name:"message",value:e.message,onChange:s,rows:"4",required:!0,placeholder:"Enter your message",className:"input-field mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-orange-600 focus:border-orange-600 p-3 text-gray-900 text-base"})}),n.jsx("button",{type:"submit",className:"submit-button w-full bg-orange-600 hover:bg-orange-500 text-white font-bold py-3 px-4 rounded-lg shadow-md transition duration-300 text-base",children:"Submit Enquiry"})]})]})]}),n.jsx(Tv,{children:r&&n.jsx(ba.div,{className:"toast",initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},transition:{duration:.3},children:"Enquiry submitted successfully!"})})]})},aR={pending:{icon:fn,color:"bg-yellow-500 text-white"},"in-progress":{icon:Da,color:"bg-blue-500 text-white"},resolved:{icon:hi,color:"bg-green-500 text-white"},closed:{icon:pr,color:"bg-gray-500 text-white"}},DOe={low:{color:"bg-green-100 text-green-800"},medium:{color:"bg-yellow-100 text-yellow-800"},high:{color:"bg-red-100 text-red-800"}},MOe=()=>{const[e,t]=S.useState(""),[r,a]=S.useState(""),[s,i]=S.useState([]),[o,l]=S.useState(null),[c,u]=S.useState(!0),[d,A]=S.useState(""),[m,h]=S.useState(""),[y,x]=S.useState(!1),[v,b]=S.useState({start:"",end:""}),[j,C]=S.useState(1),[E]=S.useState(10),[k,D]=S.useState(1),[L,F]=S.useState(0),[Q,U]=S.useState(null),[P,I]=S.useState(!1),z=async()=>{try{u(!0),console.log(`[API] Fetching enquiries for page ${j}`);const B=new URLSearchParams({page:j,limit:E});d&&B.append("status",d),m&&B.append("priority",m),r&&B.append("search",r);const G=await(await fetch(`http://localhost:5000/api/enquiries?${B}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();if(console.log("[API] Enquiries API response:",G),G.success&&Array.isArray(G.data)){const ne=G.data.map(pe=>({id:pe._id,name:pe.name||"Unknown",school:pe.school||"Unknown School",email:pe.email||"",phone:pe.phone||"",message:pe.message||"",status:pe.status||"pending",priority:pe.priority||"medium",date:W(pe.createdAt),updatedAt:W(pe.updatedAt)}));i(ne),D(G.pagination?.pages||1),F(G.pagination?.total||0),l(null)}else l(G.message||"Failed to fetch enquiries"),i([])}catch(B){console.error("[API] Error fetching enquiries:",B.message),l("Error fetching enquiries: "+B.message),i([])}finally{u(!1)}};S.useEffect(()=>{z()},[j,d,m,r]);const W=B=>{if(!B)return"N/A";try{const R=new Date(B);return isNaN(R)?"N/A":R.toISOString().slice(0,10)}catch{return"N/A"}},ie=S.useMemo(()=>s.filter(B=>{let R=!0;v.start&&v.end?R=B.date!=="N/A"&&B.date>=v.start&&B.date<=v.end:e&&(R=B.date===e);const G=!r||B.name.toLowerCase().includes(r.toLowerCase())||B.school.toLowerCase().includes(r.toLowerCase())||B.email.toLowerCase().includes(r.toLowerCase())||B.phone.includes(r),ne=!d||B.status===d,pe=!m||B.priority===m;return R&&G&&ne&&pe}),[s,e,r,d,m,v]),X=()=>{a(""),A(""),h(""),b({start:"",end:""}),t(""),C(1)},le=()=>{if(ie.length===0){alert("No data to export");return}const B=ie.map(Y=>({Date:Y.date,Name:Y.name,School:Y.school,Email:Y.email,Phone:Y.phone,Message:Y.message.replace(/,/g,";"),Status:Y.status.charAt(0).toUpperCase()+Y.status.slice(1),Priority:Y.priority.charAt(0).toUpperCase()+Y.priority.slice(1),"Last Updated":Y.updatedAt})),R=Object.keys(B[0]),G=[R.join(","),...B.map(Y=>R.map(se=>`"${Y[se]??""}"`).join(","))].join(`
`),ne=new Blob([G],{type:"text/csv;charset=utf-8;"}),pe=document.createElement("a"),xe=URL.createObjectURL(ne);pe.setAttribute("href",xe);let Ae="enquiries_";d&&(Ae+=`${d}_`),m&&(Ae+=`${m}_`),e?Ae+=`${e}_`:v.start&&v.end&&(Ae+=`${v.start}_to_${v.end}_`),Ae+=`${new Date().toISOString().split("T")[0]}.csv`,pe.setAttribute("download",Ae),pe.style.visibility="hidden",document.body.appendChild(pe),pe.click(),document.body.removeChild(pe)},re=async(B,R,G)=>{try{const pe=await(await fetch(`http://localhost:5000/api/enquiries/${B}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({status:R,priority:G})})).json();pe.success?(z(),I(!1)):l(pe.message||"Failed to update enquiry")}catch(ne){l("Error updating enquiry: "+ne.message)}},he=async B=>{if(confirm("Are you sure you want to delete this enquiry?"))try{const G=await(await fetch(`http://localhost:5000/api/enquiries/${B}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();G.success?z():l(G.message||"Failed to delete enquiry")}catch(R){l("Error deleting enquiry: "+R.message)}},de=S.useMemo(()=>[{icon:lj,value:ie.length,label:"Total Enquiries",color:"orange"},{icon:fn,value:ie.filter(B=>B.status==="pending").length,label:"Pending",color:"yellow"},{icon:Da,value:ie.filter(B=>B.status==="in-progress").length,label:"In Progress",color:"blue"},{icon:hi,value:ie.filter(B=>B.status==="resolved").length,label:"Resolved",color:"green"}],[ie]),ve=B=>{B>=1&&B<=k&&C(B)};return n.jsxs("div",{className:"space-y-8 p-8 bg-gradient-to-b from-[#1C1444]/5 to-white min-h-screen",children:[n.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl border border-[#1C1444]/10 transition-all duration-300 hover:shadow-2xl",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-extrabold text-[#1C1444] tracking-tight",children:"Enquiry Management"}),n.jsx("p",{className:"text-[#1C1444]/80 text-lg mt-1",children:"Manage and track enquiry submissions"})]}),n.jsxs("button",{onClick:le,className:"bg-gradient-to-r from-[#F37021] to-[#d55f1c] hover:from-[#d55f1c] hover:to-[#b54e17] text-white px-6 py-3 rounded-lg shadow-md flex items-center space-x-2 transform transition-all duration-200 hover:scale-105 disabled:opacity-50",title:"Export to CSV",disabled:c,children:[n.jsx(Ln,{className:"w-5 h-5"})," ",n.jsx("span",{children:"Export CSV"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Status"}),n.jsxs("select",{value:d,onChange:B=>{A(B.target.value),C(1)},className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:c,children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"in-progress",children:"In Progress"}),n.jsx("option",{value:"resolved",children:"Resolved"}),n.jsx("option",{value:"closed",children:"Closed"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Priority"}),n.jsxs("select",{value:m,onChange:B=>{h(B.target.value),C(1)},className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:c,children:[n.jsx("option",{value:"",children:"All Priority"}),n.jsx("option",{value:"low",children:"Low"}),n.jsx("option",{value:"medium",children:"Medium"}),n.jsx("option",{value:"high",children:"High"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Date"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ia,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#1C1444]/60 w-5 h-5"}),n.jsx("input",{type:"date",value:e,onChange:B=>{t(B.target.value),b({start:"",end:""}),C(1)},className:"w-full pl-10 pr-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:c})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Search"}),n.jsxs("div",{className:"relative",children:[n.jsx(on,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#1C1444]/60 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Search by name, school, email...",value:r,onChange:B=>a(B.target.value),className:"w-full pl-10 pr-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:c})]})]})]}),n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("span",{className:"text-sm text-[#1C1444]/80",children:["Showing ",ie.length," of ",L," records"]}),n.jsxs("button",{onClick:()=>x(!y),className:"flex items-center space-x-2 px-4 py-2 border border-[#1C1444]/20 rounded-lg bg-white hover:bg-[#1C1444] hover:text-white transition-all duration-200 disabled:opacity-50",disabled:c,children:[n.jsx(Hl,{className:"w-5 h-5"}),n.jsx("span",{children:"Advanced Filters"})]})]})}),y&&n.jsx("div",{className:"border-t pt-6 mt-6 border-[#1C1444]/10 transition-all duration-300",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Date Range Start"}),n.jsx("input",{type:"date",value:v.start,onChange:B=>{b({...v,start:B.target.value}),t(""),C(1)},className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:c})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Date Range End"}),n.jsx("input",{type:"date",value:v.end,onChange:B=>{b({...v,end:B.target.value}),t(""),C(1)},className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:c})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{onClick:X,className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg bg-white hover:bg-[#1C1444] hover:text-white text-[#1C1444] transition-all duration-200 disabled:opacity-50",disabled:c,children:"Clear Filters"})})]})})]}),c&&n.jsx("div",{className:"p-6 bg-[#F37021]/10 text-[#F37021] rounded-2xl shadow-md text-center transition-all duration-300",children:"Loading enquiry records..."}),o&&n.jsx("div",{className:"p-6 bg-red-100 text-red-700 rounded-2xl shadow-md text-center transition-all duration-300",children:o}),!c&&!o&&n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:de.map((B,R)=>n.jsx("div",{className:`bg-white rounded-2xl p-6 shadow-md border-l-4 border-${B.color==="orange"?"[#F37021]":B.color==="yellow"?"yellow-500":B.color==="blue"?"blue-500":B.color+"-500"} transition-all duration-300 hover:shadow-lg hover:-translate-y-1`,children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(B.icon,{className:`w-10 h-10 text-${B.color==="orange"?"[#F37021]":B.color==="yellow"?"yellow-600":B.color==="blue"?"blue-600":B.color+"-600"} transition-transform duration-200 group-hover:scale-110`}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"text-3xl font-extrabold text-[#1C1444]",children:B.value}),n.jsx("div",{className:"text-sm text-[#1C1444]/80",children:B.label})]})]})},R))}),!c&&!o&&n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden transition-all duration-300",children:[n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gradient-to-r from-[#1C1444]/10 to-[#F37021]/10",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Date"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Name"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"School"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Contact"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Message"}),n.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Priority"}),n.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-[#1C1444]/10",children:ie.map(B=>{const R=B.status,G=aR[R]?.icon||fn,ne=aR[R]?.color||"bg-yellow-500 text-white",pe=DOe[B.priority]?.color||"bg-gray-100 text-gray-800";return n.jsxs("tr",{className:"hover:bg-[#F37021]/5 transition-all duration-200",children:[n.jsx("td",{className:"px-6 py-4 text-sm font-medium text-[#1C1444]",children:B.date}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"bg-[#F37021]/10 text-[#F37021] text-sm font-semibold rounded-full w-8 h-8 flex items-center justify-center mr-3 transition-transform duration-200 hover:scale-110",children:B.name.split(" ").map(xe=>xe[0]).join("")}),n.jsx("span",{className:"text-[#1C1444]",children:B.name})]})}),n.jsx("td",{className:"px-6 py-4 text-sm text-[#1C1444]",children:B.school}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center text-sm text-[#1C1444]",children:[n.jsx(Zf,{className:"w-4 h-4 mr-2 text-[#F37021]"}),n.jsx("a",{href:`mailto:${B.email}`,className:"hover:underline",children:B.email})]}),n.jsxs("div",{className:"flex items-center text-sm text-[#1C1444]",children:[n.jsx(ah,{className:"w-4 h-4 mr-2 text-[#F37021]"}),n.jsx("a",{href:`tel:${B.phone}`,className:"hover:underline",children:B.phone})]})]})}),n.jsx("td",{className:"px-6 py-4 text-sm text-[#1C1444] max-w-xs",children:n.jsx("div",{className:"truncate",title:B.message,children:B.message.length>50?`${B.message.substring(0,50)}...`:B.message})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"flex justify-center",children:n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${pe}`,children:B.priority.charAt(0).toUpperCase()+B.priority.slice(1)})})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"flex justify-center",children:n.jsxs("span",{className:`px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 ${ne} transition-all duration-200 hover:shadow-md`,children:[n.jsx(G,{className:"w-4 h-4"}),n.jsx("span",{className:"capitalize",children:R.replace("-"," ")})]})})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex justify-center space-x-2",children:[n.jsx("button",{onClick:()=>{U(B),I(!0)},className:"text-[#F37021] hover:text-[#d55f1c] p-2 rounded-lg hover:bg-[#F37021]/10 transition-all duration-200",title:"View Details",children:n.jsx(cs,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>he(B.id),className:"text-red-600 hover:text-red-700 p-2 rounded-lg hover:bg-red-50 transition-all duration-200",title:"Delete Enquiry",children:n.jsx(Jn,{className:"w-4 h-4"})})]})})]},B.id)})})]}),ie.length===0&&s.length>0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(lj,{className:"w-12 h-12 text-[#1C1444]/60 mx-auto mb-4 transition-transform duration-200 hover:scale-110"}),n.jsx("h3",{className:"text-lg font-semibold text-[#1C1444] mb-2",children:"No records match your filters"}),n.jsx("p",{className:"text-[#1C1444]/80 mb-4",children:"Try adjusting your date, status, priority, or search criteria"}),n.jsx("button",{onClick:X,className:"text-[#F37021] hover:text-[#d55f1c] underline font-medium transition-colors duration-200",children:"Clear all filters"})]}),ie.length===0&&s.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(lj,{className:"w-12 h-12 text-[#1C1444]/60 mx-auto mb-4 transition-transform duration-200 hover:scale-110"}),n.jsx("h3",{className:"text-lg font-semibold text-[#1C1444] mb-2",children:"No enquiry records found"}),n.jsx("p",{className:"text-[#1C1444]/80",children:"No enquiry data is available"})]})]}),!c&&!o&&L>0&&n.jsxs("div",{className:"mt-8 flex justify-between items-center",children:[n.jsxs("div",{className:"text-sm text-[#1C1444]/80",children:["Showing ",(j-1)*E+1," to"," ",Math.min(j*E,L)," of ",L," ","records"]}),n.jsx("button",{onClick:()=>ve(j+1),disabled:j===k,className:"px-5 py-2 bg-[#1C1444]/10 text-[#1C1444] rounded-lg disabled:opacity-50 hover:bg-[#1C1444] hover:text-white transition-all duration-200",children:"Next"})]}),P&&Q&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"p-6 border-b border-[#1C1444]/10 flex justify-between items-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-[#1C1444]",children:"Enquiry Details"}),n.jsx("button",{onClick:()=>I(!1),className:"text-[#1C1444]/60 hover:text-[#1C1444] transition-colors duration-200",children:n.jsx(pr,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Name"}),n.jsx("p",{className:"text-lg font-medium text-[#1C1444]",children:Q.name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"School"}),n.jsx("p",{className:"text-lg text-[#1C1444]",children:Q.school})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Email"}),n.jsx("p",{className:"text-lg text-[#1C1444] break-all",children:Q.email})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Phone"}),n.jsx("p",{className:"text-lg text-[#1C1444]",children:Q.phone})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Date"}),n.jsx("p",{className:"text-lg text-[#1C1444]",children:Q.date})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Message"}),n.jsx("p",{className:"text-[#1C1444] whitespace-pre-wrap",children:Q.message})]})]}),n.jsxs("div",{className:"border-t pt-6 border-[#1C1444]/10",children:[n.jsx("h3",{className:"text-lg font-semibold text-[#1C1444] mb-4",children:"Update Status & Priority"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Status"}),n.jsxs("select",{value:Q.status,onChange:B=>U({...Q,status:B.target.value}),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",children:[n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"in-progress",children:"In Progress"}),n.jsx("option",{value:"resolved",children:"Resolved"}),n.jsx("option",{value:"closed",children:"Closed"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Priority"}),n.jsxs("select",{value:Q.priority,onChange:B=>U({...Q,priority:B.target.value}),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",children:[n.jsx("option",{value:"low",children:"Low"}),n.jsx("option",{value:"medium",children:"Medium"}),n.jsx("option",{value:"high",children:"High"})]})]})]})]})]}),n.jsxs("div",{className:"p-6 border-t border-[#1C1444]/10 flex justify-end space-x-3",children:[n.jsx("button",{onClick:()=>I(!1),className:"px-6 py-3 border border-[#1C1444]/20 text-[#1C1444] rounded-lg hover:bg-[#1C1444]/10 transition-all duration-200",children:"Cancel"}),n.jsxs("button",{onClick:()=>re(Q.id,Q.status,Q.priority),className:"bg-gradient-to-r from-[#F37021] to-[#d55f1c] hover:from-[#d55f1c] hover:to-[#b54e17] text-white px-6 py-3 rounded-lg shadow-md flex items-center space-x-2 transform transition-all duration-200 hover:scale-105",children:[n.jsx(hi,{className:"w-5 h-5"}),n.jsx("span",{children:"Update"})]})]})]})})]})},UOe=()=>{const e=yc(),{state:t}=Sd(),r=t?.receiptData,a=t?.themeColor||"#2563eb",s=S.useRef(null),[i,o]=S.useState(a),[l,c]=S.useState({}),d=`http://localhost:5000/api/schools/${localStorage.getItem("schoolId")}`,A=async()=>{try{let x=await Vt.get(d);x.status===200&&(c(x.data?.data),console.log("=====>",x.data?.data))}catch(x){console.log(x)}};S.useEffect(()=>{const x=localStorage.getItem("color");x&&o(x),A()},[]);const m=()=>{setTimeout(()=>{window.print()},100)},h=async x=>{try{if(x?.startsWith("/"))return x;const v=await fetch(x,{mode:"cors",headers:{"X-Requested-With":"XMLHttpRequest"}});if(!v.ok)throw new Error(`Failed to fetch image: ${v.status}`);const b=await v.blob();return new Promise((j,C)=>{const E=new FileReader;E.onload=()=>j(E.result),E.onerror=C,E.readAsDataURL(b)})}catch(v){return console.error("Error converting image to base64:",v),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+M9QDwADhgGAWjR9awAAAABJRU5ErkJggg=="}},y=async()=>{if(!r)return;const x=new Ca({unit:"pt",isCORS:!0}),v=x.internal.pageSize.getWidth();let b=30;const C=(z=>{const W=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(z);return W?[parseInt(W[1],16),parseInt(W[2],16),parseInt(W[3],16)]:[37,99,235]})(i);x.setDrawColor(...C),x.setLineWidth(1.5),x.rect(20,20,v-40,x.internal.pageSize.getHeight()-40),x.setFont("helvetica","bold"),x.setTextColor(240,240,245),x.setFontSize(30);const E=(l?.name||"RECEIPT").toUpperCase();x.text(E,v/2,x.internal.pageSize.getHeight()/2,{align:"center",angle:-10,renderingMode:"fillThenStroke"});let k=null;const D=z=>`http://localhost:5000/proxy-image?url=${encodeURIComponent(z)}`;if(l?.logoUrl)try{const z=D(l.logoUrl);k=await h(z),k&&k!=="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+M9QDwADhgGAWjR9awAAAABJRU5ErkJggg=="?(x.addImage(k,"PNG",v/2-20,b,40,40),b+=50):(x.setFont("helvetica","normal"),x.setFontSize(9),x.setTextColor(100,100,100),x.text("School Logo Unavailable",v/2,b+20,{align:"center"}),b+=50)}catch(z){console.error("Error adding logo to PDF:",z),x.setFont("helvetica","normal"),x.setFontSize(9),x.setTextColor(100,100,100),x.text("School Logo Unavailable",v/2,b+20,{align:"center"}),b+=50}else b+=10;x.setFont("times","bold"),x.setTextColor(30,30,30),x.setFontSize(20),x.text(l?.name?.toUpperCase()||"UNKNOWN SCHOOL",v/2,b,{align:"center"}),b+=20,x.setFontSize(12),x.setTextColor(80,80,80),x.text("PAYMENT RECEIPT",v/2,b,{align:"center"}),b+=20,x.setDrawColor(...C),x.setLineWidth(1),x.line(100,b,v-100,b),b+=15,x.setFont("times","normal"),x.setFontSize(9),x.setTextColor(80,80,80),x.text(`School Code: ${l?.schoolCode||"N/A"} | Address: ${l?.address||"N/A"}`,v/2,b,{align:"center"}),b+=15;const L=[["Receipt Number",r.receiptNumber||"N/A"],["Payment Date",r.paidDate?new Date(r.paidDate).toLocaleDateString():"N/A"],["Due Date",r.dueDate?new Date(r.dueDate).toLocaleDateString():"N/A"],["Student Name",r.studentId?.name||"N/A"],["Roll Number",r.studentId?.rollNumber||"N/A"],["Class",r.studentId?.classId?.className||r.studentId?.classId||"N/A"],["Total Amount",`${r.totalAmount?.toLocaleString("en-IN")||"0"}`],["Amount Paid",`${r.paid?.toLocaleString("en-IN")||"0"}`],["Pending Amount",`${r.pending?.toLocaleString("en-IN")||"0"}`],["Payment Method",r.paymentMethod||"N/A"]];OB(x,{startY:b,body:L,styles:{fontSize:9,cellPadding:3,halign:"left",font:"times"},columnStyles:{0:{cellWidth:120,fontStyle:"bold",textColor:[60,60,60]},1:{cellWidth:"auto"}},margin:{left:v/2-130,right:v/2-130},theme:"grid",alternateRowStyles:{fillColor:[245,245,245]}});let F=(x.lastAutoTable?.finalY||b)+20;x.setFont("times","normal"),x.setFontSize(9),x.setTextColor(150,150,150),x.text(`Issued on: ${new Date().toLocaleDateString()}`,v/2,F,{align:"center"}),F+=30,x.setFontSize(8),x.setTextColor(100,100,100);const Q=100,U=v-180;x.setDrawColor(...C),x.line(Q,F,Q+80,F),x.line(U,F,U+80,F),F+=10,x.text("Accountant",Q+40,F,{align:"center"}),x.text("Principal",U+40,F,{align:"center"}),F+=20,x.setFillColor(...C),x.circle(v/2,F,15,"F"),x.setFontSize(7),x.setTextColor(255,255,255),x.text("OFFICIAL SEAL",v/2,F,{align:"center"});const P=(r.studentId?.name||"student").replace(/\s+/g,"_"),I=(r.receiptNumber||"receipt").replace(/\s+/g,"_");x.save(`Receipt_${P}_${I}.pdf`)};return r?n.jsxs(n.Fragment,{children:[n.jsx("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),n.jsx("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),n.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Times+New+Roman&display=swap",rel:"stylesheet"}),n.jsx("style",{jsx:!0,children:`
        @keyframes fade-in {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        .animate-fade-in {
          animation: fade-in 0.5s ease-out;
        }
        .action-button {
          transition: all 0.3s ease;
          transform: scale(1);
        }
        .action-button:hover {
          transform: scale(1.05);
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        .grid-item {
          transition: background-color 0.2s ease;
        }
        .grid-item:hover {
          background-color: #f9f9f9;
        }
        @media print {
          * {
            box-sizing: border-box;
          }
          body {
            margin: 0;
            padding: 0;
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
          }
          body * {
            visibility: hidden;
          }
          .printable-receipt,
          .printable-receipt * {
            visibility: visible;
          }
          .printable-receipt {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            margin: 0;
            padding: 0.75rem;
            background: white;
            page-break-inside: avoid;
            page-break-after: always;
          }
          .no-print {
            display: none !important;
          }
          @page {
            margin: 0.5cm;
          }
          .printable-receipt .absolute {
            position: absolute !important;
          }
          .printable-receipt .p-6 {
            padding: 0.5rem !important;
          }
          .printable-receipt .mb-4 {
            margin-bottom: 0.5rem !important;
          }
          .printable-receipt .text-4xl {
            font-size: 1.4rem !important;
          }
          .printable-receipt .text-xl {
            font-size: 0.9rem !important;
          }
          .printable-receipt .text-sm {
            font-size: 0.8rem !important;
          }
          .printable-receipt .h-14 {
            height: 2rem !important;
          }
          .printable-receipt .w-14 {
            width: 2rem !important;
          }
          .certificate-title {
            font-family: 'Playfair Display', serif !important;
          }
          .certificate-text {
            font-family: 'Times New Roman', Times, serif !important;
          }
        }
      `}),n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center p-4",children:n.jsxs("div",{className:"max-w-xl w-full mx-auto animate-fade-in",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4 no-print",children:[n.jsxs("button",{onClick:()=>e(-1),className:"action-button inline-flex items-center px-4 py-2 rounded-full border border-gray-300 bg-white hover:bg-gray-50 shadow-md text-sm font-medium text-gray-700 transition-all duration-200",children:[n.jsx(Xp,{className:"mr-2 h-4 w-4"})," Back"]}),n.jsxs("div",{className:"space-x-3",children:[n.jsxs("button",{onClick:m,className:"action-button inline-flex items-center px-4 py-2 rounded-full text-white shadow-md text-sm font-medium",style:{background:`linear-gradient(135deg, ${i}, ${i}cc)`},children:[n.jsx(aB,{className:"mr-2 h-4 w-4"})," Print Receipt"]}),n.jsxs("button",{onClick:y,className:"action-button inline-flex items-center px-4 py-2 rounded-full text-white shadow-md text-sm font-medium",style:{background:`linear-gradient(135deg, ${i}, ${i}cc)`},children:[n.jsx(Ln,{className:"mr-2 h-4 w-4"})," Download PDF"]})]})]}),n.jsx("div",{ref:s,className:"printable-receipt bg-white shadow-xl rounded-lg overflow-hidden border border-gray-100",style:{width:"100%",boxSizing:"border-box"},children:n.jsxs("div",{className:"relative p-6",children:[n.jsxs("div",{className:"absolute inset-0 flex items-center justify-center opacity-[0.03] pointer-events-none select-none overflow-hidden",children:[l?.logoUrl&&n.jsx("img",{src:l.logoUrl,alt:"watermark",className:"max-w-xs max-h-xs transform rotate-[-10deg]",style:{filter:"grayscale(100%)"}}),n.jsx("div",{className:"text-4xl certificate-title text-gray-800 rotate-[-10deg] select-none",children:l?.name?.toUpperCase()||"RECEIPT"})]}),n.jsxs("div",{className:"border-2 rounded-lg p-6 relative",style:{borderColor:i,background:`linear-gradient(180deg, #ffffff, ${i}05)`},children:[n.jsx("div",{className:"absolute top-2 left-2 h-3 w-3 border-t-2 border-l-2",style:{borderColor:i}}),n.jsx("div",{className:"absolute top-2 right-2 h-3 w-3 border-t-2 border-r-2",style:{borderColor:i}}),n.jsx("div",{className:"absolute bottom-2 left-2 h-3 w-3 border-b-2 border-l-2",style:{borderColor:i}}),n.jsx("div",{className:"absolute bottom-2 right-2 h-3 w-3 border-b-2 border-r-2",style:{borderColor:i}}),n.jsxs("div",{className:"text-center mb-4",children:[l?.logoUrl&&n.jsx("div",{className:"mb-3",children:n.jsx("img",{src:l.logoUrl,alt:"School Logo",className:"h-14 w-14 mx-auto object-contain shadow-sm rounded-full"})}),n.jsx("h1",{className:"text-4xl certificate-title font-bold tracking-wide mb-2 text-gray-800",children:l?.name?.toUpperCase()||"UNKNOWN SCHOOL"}),n.jsx("div",{className:"h-1 w-20 mx-auto mb-2",style:{backgroundColor:i}}),n.jsx("p",{className:"text-xl certificate-text text-gray-600 font-semibold",children:"PAYMENT RECEIPT"}),n.jsx("p",{className:"text-sm certificate-text text-gray-500 mt-1",children:l?.address||"N/A"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 max-w-md mx-auto mb-4 text-left",children:[n.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg shadow-sm grid-item",children:[n.jsx("p",{className:"text-xs certificate-text text-gray-600 mb-1",children:"Receipt Number"}),n.jsx("p",{className:"font-semibold certificate-text text-gray-800 text-sm",children:r.receiptNumber||"N/A"})]}),n.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg shadow-sm grid-item",children:[n.jsx("p",{className:"text-xs certificate-text text-gray-600 mb-1",children:"Payment Date"}),n.jsx("p",{className:"font-semibold certificate-text text-gray-800 text-sm",children:r.paidDate?new Date(r.paidDate).toLocaleDateString():"N/A"})]}),n.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg shadow-sm grid-item",children:[n.jsx("p",{className:"text-xs certificate-text text-gray-600 mb-1",children:"Due Date"}),n.jsx("p",{className:"font-semibold certificate-text text-gray-800 text-sm",children:r.dueDate?new Date(r.dueDate).toLocaleDateString():"N/A"})]}),n.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg shadow-sm grid-item",children:[n.jsx("p",{className:"text-xs certificate-text text-gray-600 mb-1",children:"Student Name"}),n.jsx("p",{className:"font-semibold certificate-text text-gray-800 text-sm",children:r.studentId?.name||"N/A"})]}),n.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg shadow-sm grid-item",children:[n.jsx("p",{className:"text-xs certificate-text text-gray-600 mb-1",children:"Roll Number"}),n.jsx("p",{className:"font-semibold certificate-text text-gray-800 text-sm",children:r.studentId?.rollNumber||"N/A"})]}),n.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg shadow-sm grid-item",children:[n.jsx("p",{className:"text-xs certificate-text text-gray-600 mb-1",children:"Class"}),n.jsx("p",{className:"font-semibold certificate-text text-gray-800 text-sm",children:r.studentId?.classId?.className||r.studentId?.classId||"N/A"})]}),n.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg shadow-sm grid-item",children:[n.jsx("p",{className:"text-xs certificate-text text-gray-600 mb-1",children:"Total Amount"}),n.jsxs("p",{className:"font-semibold certificate-text text-gray-800 text-sm",children:["",r.totalAmount?.toLocaleString("en-IN")||"0"]})]}),n.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg shadow-sm grid-item",children:[n.jsx("p",{className:"text-xs certificate-text text-gray-600 mb-1",children:"Amount Paid"}),n.jsxs("p",{className:"font-semibold certificate-text text-gray-800 text-sm",children:["",r.paid?.toLocaleString("en-IN")||"0"]})]}),n.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg shadow-sm grid-item",children:[n.jsx("p",{className:"text-xs certificate-text text-gray-600 mb-1",children:"Pending Amount"}),n.jsxs("p",{className:"font-semibold certificate-text text-gray-800 text-sm",children:["",r.pending?.toLocaleString("en-IN")||"0"]})]}),n.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg shadow-sm grid-item",children:[n.jsx("p",{className:"text-xs certificate-text text-gray-600 mb-1",children:"Payment Method"}),n.jsx("p",{className:"font-semibold certificate-text text-gray-800 text-sm",children:r.paymentMethod||"N/A"})]})]}),n.jsxs("div",{className:"text-center mb-4 text-xs certificate-text text-gray-500",children:["Issued on: ",new Date().toLocaleDateString()]}),n.jsxs("div",{className:"flex justify-between items-end pt-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-32 h-px mb-2",style:{background:`linear-gradient(to right, ${i}, ${i}80)`}}),n.jsx("p",{className:"text-xs certificate-text text-gray-600 font-medium",children:"Accountant"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-10 h-10 rounded-full mx-auto mb-2 flex items-center justify-center",style:{background:`radial-gradient(circle, ${i}40, ${i}20)`,boxShadow:`0 2px 4px ${i}40`},children:n.jsx("div",{className:"w-8 h-8 rounded-full",style:{background:`linear-gradient(45deg, ${i}, ${i}cc)`,boxShadow:`inset 0 1px 2px ${i}80`}})}),n.jsx("p",{className:"text-xs certificate-text text-gray-500",children:"Official Seal"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-32 h-px mb-2",style:{background:`linear-gradient(to right, ${i}, ${i}80)`}}),n.jsx("p",{className:"text-xs certificate-text text-gray-600 font-medium",children:"Principal"})]})]})]})]})})]})})]}):n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:n.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6 animate-fade-in",children:[n.jsx("p",{className:"mb-4 text-gray-600",children:"No receipt data available."}),n.jsx("button",{onClick:()=>e(-1),className:"px-4 py-2 bg-gray-800 text-white rounded-full hover:bg-gray-900 transition-all duration-200 text-sm font-medium",children:"Go Back"})]})})},ROe=()=>{const[e,t]=S.useState({upiId:"",qrCode:null}),[r,a]=S.useState(null),[s,i]=S.useState(!1),[o,l]=S.useState({type:"",text:""}),[c,u]=S.useState(null),[d,A]=S.useState(!1),m=localStorage.getItem("schoolId"),h=localStorage.getItem("token");S.useEffect(()=>{y(),x()},[]);const y=async()=>{try{const E=await Vt.get(`http://localhost:5000/api/payment-system/settings?schoolId=${m}`,{headers:{Authorization:`Bearer ${h}`}});E.data.success&&(a(E.data.data),t({upiId:E.data.data.upiId,qrCode:null}))}catch(E){console.error("Error fetching payment settings:",E)}},x=async()=>{try{const E=await Vt.get(`http://localhost:5000/api/payment-system/statistics?schoolId=${m}`,{headers:{Authorization:`Bearer ${h}`}});E.data.success&&u(E.data.data)}catch(E){console.error("Error checking Gmail status:",E)}},v=E=>{const{name:k,value:D,files:L}=E.target;t(k==="qrCode"?F=>({...F,[k]:L[0]}):F=>({...F,[k]:D}))},b=async E=>{E.preventDefault(),i(!0),l({type:"",text:""});try{const k=new FormData;k.append("schoolId",m),k.append("upiId",e.upiId),e.qrCode&&k.append("qrCode",e.qrCode);const D=await Vt.post("http://localhost:5000/api/payment-system/settings",k,{headers:{Authorization:`Bearer ${h}`,"Content-Type":"multipart/form-data"}});D.data.success&&(l({type:"success",text:"Payment settings saved successfully!"}),a(D.data.data),t(L=>({...L,qrCode:null})))}catch(k){console.error("Error saving payment settings:",k),l({type:"error",text:k.response?.data?.message||"Failed to save payment settings"})}finally{i(!1)}},j=async()=>{try{const E=await Vt.get(`http://localhost:5000/api/payment-system/oauth/url?schoolId=${m}`,{headers:{Authorization:`Bearer ${h}`}});if(E.data.success){const k=window.open(E.data.authUrl,"gmail-auth","width=600,height=700,scrollbars=yes,resizable=yes"),D=setInterval(()=>{k.closed&&(clearInterval(D),x(),l({type:"success",text:"Gmail authentication completed!"}))},1e3)}}catch(E){console.error("Error initiating Gmail auth:",E),l({type:"error",text:"Failed to initiate Gmail authentication"})}},C=async()=>{try{i(!0),(await Vt.post("http://localhost:5000/api/payment-system/verify/manual",{schoolId:m},{headers:{Authorization:`Bearer ${h}`}})).data.success&&l({type:"success",text:"Manual verification triggered successfully!"})}catch(E){console.error("Error triggering manual verification:",E),l({type:"error",text:"Failed to trigger manual verification"})}finally{i(!1)}};return n.jsx("div",{className:"p-6 max-w-4xl mx-auto",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[n.jsx(Wf,{className:"w-8 h-8 text-blue-600"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Payment Settings"})]}),o.text&&n.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center space-x-2 ${o.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:[o.type==="success"?n.jsx(hi,{className:"w-5 h-5"}):n.jsx(pr,{className:"w-5 h-5"}),n.jsx("span",{children:o.text})]}),r&&n.jsxs("div",{className:"mb-8 p-4 bg-gray-50 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Current Settings"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"UPI ID"}),n.jsx("p",{className:"text-sm text-gray-900 bg-white p-2 rounded border",children:r.upiId})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"QR Code"}),r.qrCodeUrl?n.jsx("img",{src:`http://localhost:5000${r.qrCodeUrl}`,alt:"QR Code",className:"w-32 h-32 object-contain bg-white p-2 rounded border"}):n.jsx("p",{className:"text-sm text-gray-500",children:"No QR code uploaded"})]})]})]}),n.jsxs("form",{onSubmit:b,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"upiId",className:"block text-sm font-medium text-gray-700 mb-2",children:"UPI ID *"}),n.jsx("input",{type:"text",id:"upiId",name:"upiId",value:e.upiId,onChange:v,placeholder:"e.g., school@paytm, school@phonepe",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Enter your school's UPI ID for receiving payments"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"qrCode",className:"block text-sm font-medium text-gray-700 mb-2",children:"QR Code Image"}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("input",{type:"file",id:"qrCode",name:"qrCode",accept:"image/*",onChange:v,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),n.jsx(XR,{className:"w-5 h-5 text-gray-400"})]}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Upload QR code image for the UPI ID (PNG, JPG, JPEG)"})]}),n.jsxs("button",{type:"submit",disabled:s,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[s?n.jsx(ih,{className:"w-5 h-5 animate-spin"}):n.jsx($l,{className:"w-5 h-5"}),n.jsx("span",{children:s?"Saving...":"Save Settings"})]})]}),n.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Zf,{className:"w-6 h-6 text-green-600"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Gmail Integration"})]}),n.jsxs("button",{onClick:()=>A(!d),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:[d?"Hide":"Show"," Setup"]})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Connect your Gmail account to automatically verify UPI payments from emails."}),d&&n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Gmail Authentication"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Authorize access to read payment confirmation emails"})]}),n.jsxs("button",{onClick:j,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center space-x-2",children:[n.jsx(YR,{className:"w-4 h-4"}),n.jsx("span",{children:"Connect Gmail"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Manual Verification"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Trigger immediate verification of pending payments"})]}),n.jsxs("button",{onClick:C,disabled:s,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center space-x-2",children:[n.jsx(ih,{className:`w-4 h-4 ${s?"animate-spin":""}`}),n.jsx("span",{children:"Verify Now"})]})]})]}),c&&n.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Payment Statistics"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-blue-700",children:"Total Payments:"}),n.jsx("span",{className:"ml-1 font-semibold",children:c.totalPayments})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-blue-700",children:"Paid:"}),n.jsx("span",{className:"ml-1 font-semibold text-green-600",children:c.paidPayments})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-blue-700",children:"Pending:"}),n.jsx("span",{className:"ml-1 font-semibold text-yellow-600",children:c.pendingPayments})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-blue-700",children:"Success Rate:"}),n.jsxs("span",{className:"ml-1 font-semibold",children:[c.successRate,"%"]})]})]})]})]})]})})};class QOe{constructor(){this.baseURL="https://api.vidyaastra.com",this.verifications=[],this.nextId=1}async submitVerification(t){try{const r={_id:`verification-${this.nextId++}`,...t,status:"pending",createdAt:new Date().toISOString()};return this.verifications.push(r),console.log("SharedMockPaymentAPI: Verification submitted:",r),{success:!0,message:"Verification submitted successfully! Admin will review your payment proof.",data:{verificationId:r._id,status:"pending"}}}catch(r){throw console.error("SharedMockPaymentAPI: Error submitting verification:",r),r}}async getVerifications(){try{return console.log("SharedMockPaymentAPI: Returning verifications:",this.verifications.length),{success:!0,data:this.verifications}}catch(t){return console.error("SharedMockPaymentAPI: Error getting verifications:",t),{success:!1,data:[]}}}async updateVerificationStatus(t,r){try{const a=this.verifications.find(s=>s._id===t);return a?(a.status=r,r==="approved"?a.approvedAt=new Date().toISOString():r==="rejected"&&(a.rejectedAt=new Date().toISOString()),console.log("SharedMockPaymentAPI: Verification status updated:",a),{success:!0,data:a}):{success:!1,message:"Verification not found"}}catch(a){throw console.error("SharedMockPaymentAPI: Error updating verification status:",a),a}}async getVerificationStatus(t){try{const r=this.verifications.find(a=>a.paymentId===t);return r?{success:!0,data:{status:r.status,verificationId:r._id,approvedAt:r.approvedAt,rejectedAt:r.rejectedAt}}:{success:!1,message:"No verification found"}}catch(r){throw console.error("SharedMockPaymentAPI: Error getting verification status:",r),r}}async clearVerifications(){try{this.verifications=[],this.nextId=1,console.log("SharedMockPaymentAPI: All verifications cleared")}catch(t){console.error("SharedMockPaymentAPI: Error clearing verifications:",t)}}}const SC=new QOe,HOe=()=>{const[e,t]=S.useState([]),[r,a]=S.useState(!1),[s,i]=S.useState({type:"",text:""}),[o,l]=S.useState(null),[c,u]=S.useState(!1),[d,A]=S.useState(!1),m=localStorage.getItem("schoolId");localStorage.getItem("token"),S.useEffect(()=>{h();const E=setInterval(h,3e4);return()=>clearInterval(E)},[]);const h=async()=>{try{a(!0);const E=await SC.getVerifications();if(E.success){let k=E.data;k.length===0&&(console.log("No real mobile app submissions found, showing sample data for testing"),k=[{_id:"sample-1",student:{name:"Test Student",class:{name:"Class 10A"},rollNumber:"101",phone:"+91 9876543210"},amount:"1500",transactionId:"TXN123456789",paymentId:"PAY123456789",status:"pending",screenshotUri:"file:///storage/test-screenshot.jpg",createdAt:new Date().toISOString(),studentId:"student-1",schoolId:m||"school-1"}]);const D=m?k.filter(L=>L.schoolId===m):k;if(await new Promise(L=>setTimeout(L,300)),t(D),D.length>0){const L=E.data.length>0;i({type:"success",text:`Found ${D.length} verification(s) - ${L?"Real submissions from mobile app":"Sample data for testing"}`})}else i({type:"info",text:"No manual verifications found. Students can submit payment proofs from the mobile app."})}else i({type:"error",text:"Failed to fetch verifications"})}catch(E){console.error("Error fetching pending verifications:",E),i({type:"error",text:"Failed to fetch pending verifications"})}finally{a(!1)}},y=E=>{l(E),u(!0)},x=async E=>{try{A(!0);const k=await SC.updateVerificationStatus(E,"approved");k.success?(t(D=>D.map(L=>L._id===E?{...L,status:"approved",approvedAt:k.data.approvedAt}:L)),i({type:"success",text:"Payment approved successfully! Status updated in mobile app."}),u(!1)):i({type:"error",text:"Failed to approve payment"})}catch(k){console.error("Error approving payment:",k),i({type:"error",text:"Failed to approve payment"})}finally{A(!1)}},v=async E=>{try{A(!0);const k=await SC.updateVerificationStatus(E,"rejected");k.success?(t(D=>D.map(L=>L._id===E?{...L,status:"rejected",rejectedAt:k.data.rejectedAt}:L)),i({type:"success",text:"Payment rejected successfully! Status updated in mobile app."}),u(!1)):i({type:"error",text:"Failed to reject payment"})}catch(k){console.error("Error rejecting payment:",k),i({type:"error",text:"Failed to reject payment"})}finally{A(!1)}},b=E=>{alert(`Screenshot download would work here when backend is implemented.

Mock screenshot URL: `+E)},j=E=>{switch(E){case"pending":return"text-yellow-600 bg-yellow-50";case"approved":return"text-green-600 bg-green-50";case"rejected":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},C=E=>{switch(E){case"pending":return n.jsx(fn,{className:"w-4 h-4"});case"approved":return n.jsx(Oo,{className:"w-4 h-4"});case"rejected":return n.jsx(pr,{className:"w-4 h-4"});default:return n.jsx(Da,{className:"w-4 h-4"})}};return n.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(cs,{className:"w-8 h-8 text-blue-600"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Manual Payment Verification"})]}),n.jsxs("button",{onClick:h,disabled:r,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[n.jsx(ih,{className:`w-4 h-4 ${r?"animate-spin":""}`}),n.jsx("span",{children:"Refresh"})]})]}),s.text&&n.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center space-x-2 ${s.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:[s.type==="success"?n.jsx(hi,{className:"w-5 h-5"}):n.jsx(pr,{className:"w-5 h-5"}),n.jsx("span",{children:s.text})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(fn,{className:"w-5 h-5 text-yellow-600"}),n.jsx("span",{className:"text-sm font-medium text-yellow-800",children:"Pending"})]}),n.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:e.filter(E=>E.status==="pending").length})]}),n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Oo,{className:"w-5 h-5 text-green-600"}),n.jsx("span",{className:"text-sm font-medium text-green-800",children:"Approved"})]}),n.jsx("p",{className:"text-2xl font-bold text-green-900",children:e.filter(E=>E.status==="approved").length})]}),n.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(pr,{className:"w-5 h-5 text-red-600"}),n.jsx("span",{className:"text-sm font-medium text-red-800",children:"Rejected"})]}),n.jsx("p",{className:"text-2xl font-bold text-red-900",children:e.filter(E=>E.status==="rejected").length})]}),n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Bu,{className:"w-5 h-5 text-blue-600"}),n.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Total Amount"})]}),n.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:["",e.reduce((E,k)=>E+(k.amount||0),0)]})]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Transaction ID"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submitted"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(E=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:n.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:n.jsx(ks,{className:"w-5 h-5 text-blue-600"})})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.student?.name||"Unknown Student"}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Class: ",E.student?.class?.name||"N/A"]})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["",E.amount]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900 font-mono",children:E.transactionId})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${j(E.status)}`,children:[C(E.status),n.jsx("span",{className:"ml-1",children:E.status})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[n.jsx(Ia,{className:"w-4 h-4 mr-1"}),new Date(E.createdAt).toLocaleDateString()]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[n.jsx("button",{onClick:()=>y(E),className:"text-blue-600 hover:text-blue-900 mr-3",children:n.jsx(cs,{className:"w-4 h-4"})}),E.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>x(E._id),disabled:d,className:"text-green-600 hover:text-green-900 mr-3 disabled:opacity-50",children:n.jsx(hi,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>v(E._id),disabled:d,className:"text-red-600 hover:text-red-900 disabled:opacity-50",children:n.jsx(pr,{className:"w-4 h-4"})})]})]})]},E._id))})]})}),e.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Da,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No pending verifications"}),n.jsx("p",{className:"text-gray-500",children:"All payments have been processed."})]})]}),c&&o&&n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:n.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",children:n.jsxs("div",{className:"mt-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Payment Verification Details"}),n.jsx("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(pr,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Student Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Name:"}),n.jsx("p",{className:"font-medium",children:o.student?.name||"N/A"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Class:"}),n.jsx("p",{className:"font-medium",children:o.student?.class?.name||"N/A"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Roll Number:"}),n.jsx("p",{className:"font-medium",children:o.student?.rollNumber||"N/A"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Phone:"}),n.jsx("p",{className:"font-medium",children:o.student?.phone||"N/A"})]})]})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Payment Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Amount:"}),n.jsxs("p",{className:"font-medium text-lg",children:["",o.amount]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Transaction ID:"}),n.jsx("p",{className:"font-medium font-mono",children:o.transactionId})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Payment ID:"}),n.jsx("p",{className:"font-medium font-mono",children:o.paymentId})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Status:"}),n.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${j(o.status)}`,children:[C(o.status),n.jsx("span",{className:"ml-1",children:o.status})]})]})]})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Payment Screenshot"}),n.jsxs("button",{onClick:()=>b(o.screenshotUrl),className:"flex items-center space-x-1 text-blue-600 hover:text-blue-800",children:[n.jsx(Ln,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:"Download"})]})]}),o.screenshotUrl?n.jsxs("div",{className:"w-full max-w-md mx-auto rounded-lg border bg-gray-100 p-8 text-center",children:[n.jsx(d0,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Mock Screenshot"}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Real screenshots will be displayed here when backend is implemented"})]}):n.jsx("p",{className:"text-gray-500 text-center py-4",children:"No screenshot available"})]}),o.status==="pending"&&n.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[n.jsxs("button",{onClick:()=>v(o._id),disabled:d,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 flex items-center space-x-2",children:[n.jsx(pr,{className:"w-4 h-4"}),n.jsx("span",{children:"Reject"})]}),n.jsxs("button",{onClick:()=>x(o._id),disabled:d,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 flex items-center space-x-2",children:[n.jsx(hi,{className:"w-4 h-4"}),n.jsx("span",{children:"Approve"})]})]})]})]})})})]})},$Oe=()=>{const[e,t]=S.useState(localStorage.getItem("schoolId")||""),r=$Q();return S.useEffect(()=>{e&&(r(hx(e)),r(Ax(e)),r(Ty(e)))},[r,e]),n.jsx(CEe,{children:n.jsx(Hte,{children:n.jsx(SZ,{children:n.jsxs(ab,{children:[n.jsx(zr,{path:"/*",element:n.jsx(TEe,{children:n.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[n.jsx(Qte,{}),n.jsx("div",{className:"flex-1",children:n.jsx("main",{className:"p-2",children:n.jsxs(ab,{children:[" ",n.jsx(zr,{path:"/dashboard",element:n.jsx(aEe,{})}),n.jsx(zr,{path:"/students",element:n.jsx(Ade,{})}),n.jsx(zr,{path:"/attendance",element:n.jsx(Lde,{})}),n.jsx(zr,{path:"/fees",element:n.jsx(Ode,{})}),n.jsx(zr,{path:"/fees/receipt",element:n.jsx(UOe,{})}),n.jsx(zr,{path:"/payment-settings",element:n.jsx(ROe,{})}),n.jsx(zr,{path:"/manual-payment-verification",element:n.jsx(HOe,{})}),n.jsx(zr,{path:"/subject",element:n.jsx(jOe,{})}),n.jsx(zr,{path:"/classManagement",element:n.jsx(Zue,{})}),n.jsx(zr,{path:"/timetable",element:n.jsx(efe,{})}),n.jsx(zr,{path:"/exams",element:n.jsx(Whe,{})}),n.jsx(zr,{path:"/exams-timetable-download",element:n.jsx(COe,{})}),n.jsx(zr,{path:"/result",element:n.jsx(EOe,{})}),n.jsx(zr,{path:"/result/certificate",element:n.jsx(BOe,{})}),n.jsx(zr,{path:"/assignments",element:n.jsx(Yhe,{})}),n.jsx(zr,{path:"/library",element:n.jsx(Xhe,{})}),n.jsx(zr,{path:"/teachers",element:n.jsx(Jhe,{})}),n.jsx(zr,{path:"/transport",element:n.jsx(tAe,{})}),n.jsx(zr,{path:"/circular",element:n.jsx(rAe,{})}),n.jsx(zr,{path:"/diary",element:n.jsx(aAe,{})}),n.jsx(zr,{path:"/events",element:n.jsx(nAe,{})}),n.jsx(zr,{path:"/birthday",element:n.jsx(sAe,{})}),n.jsx(zr,{path:"/classwork",element:n.jsx(fme,{})}),n.jsx(zr,{path:"/gallery",element:n.jsx(Ame,{})}),n.jsx(zr,{path:"/holiday",element:n.jsx(mme,{})}),n.jsx(zr,{path:"/uniform",element:n.jsx(gme,{})}),n.jsx(zr,{path:"/books",element:n.jsx(yme,{})}),n.jsx(zr,{path:"/orders",element:n.jsx(sge,{})}),n.jsx(zr,{path:"/buy",element:n.jsx(sEe,{})}),n.jsx(zr,{path:"/teachercreate",element:n.jsx(ZEe,{})})]})})})]})})}),n.jsx(zr,{path:"/login",element:n.jsx(iEe,{setSchoolId:t})}),n.jsx(zr,{path:"/admin/*",element:n.jsx(_Ee,{children:n.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[n.jsx(zte,{}),n.jsx("div",{className:"flex-1",children:n.jsx("main",{className:"p-2",children:n.jsxs(ab,{children:[n.jsx(zr,{path:"dashboard",element:n.jsx(XEe,{})}),n.jsx(zr,{path:"students",element:n.jsx(NOe,{})}),n.jsx(zr,{path:"attendance",element:n.jsx(oEe,{})}),n.jsx(zr,{path:"fees",element:n.jsx(kOe,{})}),n.jsx(zr,{path:"timetable",element:n.jsx(lEe,{})}),n.jsx(zr,{path:"exams",element:n.jsx(fEe,{})}),n.jsx(zr,{path:"assignments",element:n.jsx(AEe,{})}),n.jsx(zr,{path:"package",element:n.jsx(mEe,{})}),n.jsx(zr,{path:"packagehistory",element:n.jsx(jEe,{})}),n.jsx(zr,{path:"school",element:n.jsx(NEe,{})}),n.jsx(zr,{path:"library",element:n.jsx(kEe,{})}),n.jsx(zr,{path:"circular",element:n.jsx(IEe,{})}),n.jsx(zr,{path:"teachers",element:n.jsx(PEe,{})}),n.jsx(zr,{path:"transport",element:n.jsx(LEe,{})}),n.jsx(zr,{path:"diary",element:n.jsx(OEe,{})}),n.jsx(zr,{path:"events",element:n.jsx(DEe,{})}),n.jsx(zr,{path:"birthday",element:n.jsx(MEe,{})}),n.jsx(zr,{path:"gallery",element:n.jsx(UEe,{})}),n.jsx(zr,{path:"uniform",element:n.jsx(HEe,{})}),n.jsx(zr,{path:"holiday",element:n.jsx(zEe,{})}),n.jsx(zr,{path:"classwork",element:n.jsx(VEe,{})}),n.jsx(zr,{path:"books",element:n.jsx(KEe,{})}),n.jsx(zr,{path:"/PriceManagement",element:n.jsx(oG,{})}),n.jsx(zr,{path:"/enquires-management",element:n.jsx(MOe,{})})]})})})]})})}),n.jsx(zr,{path:"/superadmin-login",element:n.jsx(FEe,{})}),n.jsx(zr,{path:"/",element:n.jsxs(n.Fragment,{children:[" ",n.jsx(rw,{})," ",n.jsx(bOe,{})," ",n.jsx(nw,{})]})}),n.jsx(zr,{path:"/PrivacyPolicy",element:n.jsx(n.Fragment,{children:n.jsx(IOe,{})})}),n.jsx(zr,{path:"/contact",element:n.jsxs(n.Fragment,{children:[n.jsx(rw,{}),n.jsx(OOe,{}),n.jsx(nw,{})]})}),n.jsx(zr,{path:"/Terms&Conditions",element:n.jsx(n.Fragment,{children:n.jsx(POe,{})})}),n.jsx(zr,{path:"/features",element:n.jsxs(n.Fragment,{children:[n.jsx(rw,{})," ",n.jsx(LOe,{}),n.jsx(nw,{})]})}),n.jsx(zr,{path:"/about",element:n.jsxs(n.Fragment,{children:[n.jsx(rw,{}),n.jsx(wOe,{}),n.jsx(nw,{})]})}),n.jsx(zr,{path:"/teacher/*",element:n.jsx(BEe,{children:n.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[n.jsx(nBe,{}),n.jsx("div",{className:"flex-1",children:n.jsx("main",{className:"p-2",children:n.jsxs(ab,{children:[n.jsx(zr,{index:!0,path:"attendance",element:n.jsx(eBe,{})}),n.jsx(zr,{path:"assignments",element:n.jsx(aBe,{})}),n.jsx(zr,{path:"classworks",element:n.jsx(rBe,{})}),n.jsx(zr,{path:"submittedAssignments",element:n.jsx(SOe,{})}),n.jsx(zr,{index:!0,element:n.jsx(Xy,{to:"attendance",replace:!0})}),n.jsx(zr,{path:"*",element:n.jsx(Xy,{to:"attendance",replace:!0})})]})})})]})})})]})})})})},zOe=aH({reducer:{classes:Gue,subjects:Xue,teachers:Vue}});hJ.createRoot(document.getElementById("root")).render(n.jsx(S.StrictMode,{children:n.jsx(RQ,{store:zOe,children:n.jsx($Oe,{})})}));export{va as _,e0 as c,hf as g};
